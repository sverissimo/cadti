{"version":3,"sources":["Reusable Components/ClosePopUpButton.jsx","Store/dataReducer.js","rootReducer.js","Layouts/Header.jsx","Layouts/Footer.jsx","Layouts/TabMenu.jsx","HomeTemplate.jsx","Veiculos/VeiculosHome.jsx","Store/StoreHOC.jsx","Store/dataActions.js","Utils/Loading.jsx","Forms/configVehicleForm.js","Utils/checkInputErrors.js","Utils/autoComplete.jsx","Reusable Components/TextInput.jsx","Forms/seguroForm.js","Forms/cadForm.js","Forms/vistoriaForm.js","Veiculos/AddEquipa.jsx","Veiculos/CadVeiculoTemplate.jsx","Reusable Components/DragAndDrop.jsx","Forms/cadVehicleFiles.js","Forms/altDadosFiles.js","Veiculos/VehicleDocs.jsx","Utils/ShowLocalFiles.jsx","Veiculos/VehicleReview.jsx","Utils/Crumbs.jsx","Utils/StepperButtons.jsx","Utils/Stepper.jsx","Utils/ReactToast.jsx","Utils/formatMoney.js","Utils/AlertDialog.jsx","Veiculos/CadVeiculo.jsx","Forms/altForm.js","Forms/altFormVistoria.js","Reusable Components/SelectEmpresa.jsx","Veiculos/AltDadosTemplate.jsx","Utils/FormDialog.jsx","Veiculos/AltDados.jsx","Forms/altSegForm.js","Veiculos/AltSeguroTemplate.jsx","Veiculos/ShowAllPlates.jsx","Veiculos/ConfigAddDialog.jsx","Veiculos/AltSeguro.jsx","Forms/baixaForm.js","Veiculos/BaixaTemplate.jsx","Veiculos/BaixaVeiculo.jsx","Veiculos/ConfigTemplate.jsx","Veiculos/Config.jsx","Utils/formatDate.js","Consultas/tables.js","Consultas/ConsultasTemplate.jsx","Forms/certificate.js","Veiculos/Certificate.jsx","Forms/joinForms.js","Forms/empresasForm.js","Forms/sociosForm.js","Forms/procuradorForm.js","Reusable Components/ShowDetails.jsx","Utils/formatFileSize.js","Utils/downloadFile.js","Forms/empresaFiles.js","Reusable Components/ShowFiles.jsx","Consultas/ConsultasContainer.jsx","Empresas/EmpresasTemplate.jsx","Empresas/SociosTemplate.jsx","Empresas/EmpresaReview.jsx","Empresas/EmpresasContainer.jsx","Empresas/EmpresasHome.jsx","Empresas/Procurador.jsx","Empresas/AltProcuradoresTemplate.jsx","Empresas/AltProcuradores.jsx","Empresas/AltSociosTemplate.jsx","Empresas/AltSocios.jsx","Utils/UnderConstruction.jsx","Routes.jsx","App.jsx","serviceWorker.js","index.js"],"names":["ClosePopUpButton","close","style","position","top","right","className","title","cursor","color","onClick","initState","dataReducer","state","action","type","payload","collection","data","update","forEach","el","unshift","id","map","v","console","log","apolice","placaIndex","vehicleIndex","seguros","seguro","find","s","index","findIndex","placas","splice","veiculos","tablePK","updatedData","match","Number","element","setColor","loading","rootReducer","combineReducers","useStyles","makeStyles","theme","toolbarTitle","flex","toolbarSecondary","justifyContent","overflowX","backgroundColor","toolbarLink","padding","flexShrink","mainFeaturedPost","palette","grey","common","white","marginBottom","spacing","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","overlay","bottom","left","mainFeaturedPostContent","breakpoints","up","paddingRight","mainGrid","marginTop","card","display","cardDetails","cardMedia","width","markdown","typography","body2","sidebarAboutBox","sidebarSection","footer","background","paper","sections","link","withRouter","props","classes","useState","document","location","pathname","path","setSelected","useEffect","Fragment","CssBaseline","Toolbar","Button","size","Typography","component","variant","align","noWrap","IconButton","i","Link","RouterLink","to","key","href","fontFamily","fontSize","borderBottom","fontWeight","Footer","items","tab","changeTab","Tabs","value","indicatorColor","textColor","centered","onChange","item","Tab","label","height","featuredPosts","date","description","imageUrl","minHeight","Grid","container","cardGrid","post","xs","md","CardActionArea","textDecoration","Card","CardContent","paragraph","Hidden","xsDown","CardMedia","src","menuCards","VeiculosHome","url","alt","socket","getData","collectionsArray","dispatch","getState","a","async","promiseArray","returnObj","length","collectionName","push","axios","get","Promise","all","then","res","r","humps","camelizeKeys","responseArray","replace","camelize","Object","assign","insertData","dataFromServer","seguradoras","seguradora","sg","seguradoraId","plates","vehicles","updatedCollection","dataEmissao","vencimento","placa","veiculoId","collectionPayload","batch","updateData","updateCollection","deleteOne","Loading","textAlign","zIndex","configVehicleForm","field","name","table","socketIO","require","requestArray","WrappedComponent","collections","req","With","redux","this","request","colName","on","insertedObjects","updatedObjects","object","off","c","every","col","hasOwnProperty","React","Component","connect","bindActionCreators","checkInputErrors","sendState","p","querySelectorAll","inputs","errors","errString","textContent","l","parentNode","moment","isValid","previousSibling","e","slice","openAlertDialog","alertType","customMsg","autoComplete","datalist","textField","marginLeft","marginRight","fontColor","select","helperText","margin","TextInput","handleInput","handleBlur","form","errorHandler","max","min","toString","pattern","helper","TextField","onBlur","error","FormHelperTextProps","disabled","InputLabelProps","shrink","undefined","inputProps","disable","list","maxLength","minLength","multiline","rows","fullWidth","SelectProps","options","opt","MenuItem","seguroForm","cadForm","Date","getFullYear","zero","concat","step","AddEquipa","equipamentos","handleCheck","eq","FormControlLabel","control","Checkbox","checked","flexWrap","selectEmpresa","minWidth","formHolder","text","secondary","empresas","handleEquipa","razaoSocial","activeStep","addEquipa","delegatarioCompartilhado","subtitle","selectedEmpresa","button","shared","setShared","direction","justify","Paper","float","DragAndDrop","formData","handleFiles","dropDisplay","single","fileName","setFileName","entries","pair","onDrop","getRootProps","getInputProps","cadVehicleFiles","altDadosFiles","root","flexGrow","sendButton","VehicleDocs","filesForm","parentComponent","insuranceExists","k","divContainer","alignContent","divFiles","alignItems","border","borderRadius","icon","verticalAlign","paddingLeft","fileIcon","ShowLocalFiles","files","fileArray","fieldName","f","file","window","URL","createObjectURL","createElement","setAttribute","body","appendChild","click","createLink","Revisao","ultimateData","vehicleDetails","obj","newForm","filledForm","y","colSpan","values","d","j","Array","isArray","equipamentosId","Crumbs","links","Breadcrumbs","separator","aria-label","paddingBottom","backButton","StepperButtons","setActiveStep","lastStep","handleSubmit","instructions","CustomStepper","steps","Stepper","Step","StepLabel","useStyles1","success","green","dark","info","primary","main","warning","amber","iconVariant","opacity","message","MySnackbarContentWrapper","onClose","other","SnackbarContent","clsx","aria-describedby","Icon","CustomizedSnackbars","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","msg","formatMoney","toFixed","AlertDialog","confirm","customTitle","customMessage","cnpj","createAlert","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","StoreHOC","frota","toastMsg","confirmToast","fileNames","filter","setState","array","prevActiveStep","allInsurances","target","delegatarioId","empresa","filteredInsurances","toLocaleUpperCase","se","testApolice","testSeguradora","format","keys","newInsurance","getId","stateId","dbName","dbId","alertLabel","toLowerCase","nombre","getElementsByName","focus","modelosChassi","carrocerias","x","handleCadastro","anoCarroceria","peso_dianteiro","peso_traseiro","poltronas","compartilhadoId","modeloChassiId","modeloCarroceriaId","indicadorIdade","pbt","isNaN","review","modeloChassi","modeloCarroceria","vReview","validEmissao","validVenc","situacao","vehicle","decamelizeKeys","insurance","submitFiles","catch","err","resetState","toast","seguradora_id","column","ids","put","FormData","fn","filesNames","append","delete","showFiles","selectedFiles","metadata","filesCollection","selectedVehicle","resetFiles","resetEquip","toggleDialog","escFunction","keyCode","equipArray","addEventListener","CadVeiculoTemplate","PureComponent","altForm","SelectEmpresa","input","altPlacaOption","showAltPlaca","justificativa","updatePlate","newPlate","nPlate","stepTitles","altPlaca","reset","toUpperCase","capitalize","charAt","vEquip","currentEquipa","ve","utilizacao","dominio","delegatario","pesoDianteiro","pesoTraseiro","tempObj","compartilhado","requestObject","closeAlert","AltDadosTemplate","chip","AltSeguro","enableAddPlaca","addPlate","deleteInsurance","enableChangeApolice","showAllPlates","addedPlaca","seguroFile","sort","flexDirection","Chip","onDelete","ShowAllPlates","LoadPlates","lazy","fallback","ConfigAddDialog","helperMessage","marca","marcas","selectMarca","newElement","addNewElement","checkExistance","inputValue","InsuranceUpdatedFrota","updatedPlates","updatedVehicles","allPlates","clearFields","selectedSeguradora","vehicleFound","checkFields","valid","seg","allPlatesObj","insuredPlates","plate","placaInput","newPlates","newVehicles","indexOf","removeInsurance","updateApolice","updatedDates","emissaoDidChange","isSame","vencimentoDidChange","data_emissao","requestObj","columns","vehicleIds","cadSeguro","delegatario_id","newApoliceNumber","seguroFormData","openAddDialog","baixaForm","delegaTransf","FormControl","FormLabel","RadioGroup","row","Radio","labelPlacement","Send","check","openDialog","newDelega","disableSubmit","checkArray","enableSubmit","BaixaTemplate","ConfigTemplate","staticData","selectCollection","handleChange","enableEdit","removeItem","edit","autoCorrect","spellCheck","addCounter","count","b","localeCompare","marcaChassi","marcaCarroceria","JSON","parse","stringify","divCell","divWrap","childNodes","inputTarget","marcaCollection","m","marcaId","changedElement","newData","requestElement","originalData","editedElements","rest","realChanges","decamelize","prevProps","formatDate","test","getDate","getMonth","getHours","getMinutes","vehicleTable","render","rowData","filtering","segurosTable","tables","vencimentoContrato","showDetails","showCertificate","del","subject","exportButton","exportFileName","exportCsv","csvData","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","Blob","FileSaver","exportToCSV","actionsColumnIndex","searchFieldStyle","headerStyle","emptyRowsWhenPaging","pageSize","localization","header","actions","emptyDataSourceMessage","editRow","deleteText","deleteTooltip","filterRow","filterTooltip","toolbar","searchTooltip","searchPlaceholder","exportName","exportAriaLabel","exportTitle","pagination","labelRowsSelect","labelDisplayedRows","firstTooltip","previousTooltip","nextTooltip","lastTooltip","iconProps","tooltip","event","hidden","editable","onRowDelete","oldData","caracteristicas","pesagem","informacoesGerais","PdfCertificate","setVehicle","localStorage","getItem","setTimeout","print","carac","delega","peso","obs","line","ultimateForm","origin","InputProps","redirect","createdAt","eForm","sForm","segForm","empresasForm","sociosForm","procuradorForm","ShowDetails","formPattern","tableData","laudoId","vData","dataRegistro","formatFileSize","bytes","Math","round","downloadFile","originalName","method","responseType","response","empresaFiles","divRow","grid","justifyItems","ShowFiles","typeId","fileLabels","o","download","filename","empresaId","getMoreInfo","uploadDate","ConsultasContainer","tablePKs","dbTables","detailsTitle","detailsHeader","elementDetails","vehicleDocs","primaryKeys","pk","updatedElement","closeFiles","socios","empresaDocs","socio","socioId","sociosArray","includes","filesToReturn","procuradores","procId","selectedElement","deleteHandler","itemId","seguroVencido","isBefore","contratoVencido","setItem","closeCertificate","certified","TabMenu","ConsultasTemplate","elementId","dropBox","dropBoxItem","boxShadow","dropBoxItem2","iconButton","addButton","addSocio","removeSocio","handleEdit","empresaDetails","addedSocios","totalShare","sObject","invalid","share","pop","editSocio","fs","filteredSocios","alert","alreadyExists","numero","contratoSocial","contratoFile","delegatarioStatus","resetEmpresa","resetSocios","EmpresasTemplate","SociosTemplate","divider","gutterBottom","StyledTableCell","withStyles","head","TableCell","StyledCell","StyledTableRow","default","TableRow","Procurador","procuracao","procArray","pro","procuradorId","Table","TableHead","TableBody","lineHeight","containerList","selector","paper2","addProc","removeProc","getFile","plusOne","minusOne","procDisplay","procsToAdd","selectedDocs","z","procuracaoId","filteredProc","procuracoesArray","procuracoes","pr","procFiles","nProc","addedProcs","n","newMembers","procIdArray","fp","gotId","cpfProcurador","procs","procurador_id","novaProcuracao","status","procuracao_id","reverse","proc","selectedFile","_id","AltProcuradoresTemplate","AltSociosTemplate","dialogTitle","cpfSocio","reduce","originalSocios","oldMembers","altObj","originals","socioIdsArray","newSocio","socio_id","updatedList","underConstruction","exact","HomeTemplate","UnderConstruction","CadVeiculos","AltVeiculos","BaixaVeiculo","Config","Consultas","EmpresasHome","Empresas","Socios","Procuradores","PdfTest","App","store","applyMiddleware","promise","multi","thunk","createStore","Container","maxWidth","Routes","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"kGAAA,sDAEe,SAASA,EAAT,GAAoC,IAATC,EAAQ,EAARA,MACtC,OACI,yBAAKC,MAAO,CACRC,SAAU,WACVC,IAAK,OACLC,MAAO,SAEP,6BACI,uBAAGC,UAAU,uBAAuBC,MAAM,SAASL,MAAO,CAAEM,OAAQ,UAAWC,MAAO,OAASC,QAAST,GAAxG,a,ybCVVU,EAAY,GAwGHC,EAtGK,WAAgC,IAA/BC,EAA8B,uDAAtBF,EAAWG,EAAW,uCACvCC,EAAkBD,EAAlBC,KAAMC,EAAYF,EAAZE,QAEd,OAAQD,GAEJ,IAAK,WACD,OAAO,eAAKF,EAAZ,GAAsBG,GAE1B,IAAK,cAAgB,IACTC,EAAqBD,EAArBC,WAAYC,EAASF,EAATE,KAEpB,GAAIL,EAAMI,IAAeC,EAAM,CAC3B,IAAIC,EAAM,YAAON,EAAMI,IAIvB,OAHAC,EAAKE,SAAQ,SAAAC,GACTF,EAAOG,QAAQD,MAEZ,eACAR,EADP,eACeI,EAAaE,IAGhC,OAAON,EAGX,IAAK,cAAgB,IACTI,EAAyBD,EAAzBC,WAAYC,EAAaF,EAAbE,KAAMK,EAAOP,EAAPO,GAC1B,GAAIV,EAAMI,IAAeC,EAAM,CAC3B,IAAMC,EAASN,EAAMI,GAAYO,KAAI,SAAAC,GAMjC,OALAP,EAAKE,SAAQ,SAAAC,GACLI,EAAEF,KAAQF,EAAGE,KACbE,EAAIJ,MAGLI,KAGX,OADAC,QAAQC,IAAR,eAAeV,EAAaE,IACrB,eACAN,EADP,eACeI,EAAaE,IAGhC,OAAON,EAIX,IAAK,oBAAsB,IACfK,EAAqBF,EAArBE,KAAMD,EAAeD,EAAfC,WAEd,OADAS,QAAQC,IAAIX,GACL,eACAH,EADP,eACeI,EAAaC,IAIhC,IAAK,wBAAL,IACYU,EAAsCZ,EAAtCY,QAASC,EAA6Bb,EAA7Ba,WAAYC,EAAiBd,EAAjBc,aAE7B,GAAIjB,EAAMkB,QAAS,CAEf,IAAIA,EAAO,YAAOlB,EAAMkB,SACpBC,EAASD,EAAQE,MAAK,SAAAC,GAAC,OAAIA,EAAEN,UAAYA,KACzCO,EAAQJ,EAAQK,WAAU,SAAAF,GAAC,OAAIA,EAAEN,UAAYA,KAMjD,OAJAI,EAAOK,OAAOC,OAAOT,EAAY,GACjCG,EAAOO,SAASD,OAAOR,EAAc,GACrCC,EAAQI,GAASH,EACjBN,QAAQC,IAAII,GACL,eACAlB,EADP,CACckB,YAGlB,OAAOlB,EAEX,IAAK,aAAL,IACY2B,EAAwBxB,EAAxBwB,QAASvB,EAAeD,EAAfC,WACjB,GAAIJ,EAAMI,GAAa,CAEf,IAAEM,EAAOP,EAAPO,GACFkB,EADA,YACkB5B,EAAMI,IAC5BS,QAAQC,IAAIJ,EAAIN,GACXA,EAAWyB,MAAM,UAASnB,EAAKoB,OAAOpB,IAE3C,IACIqB,EAAUH,EAAYR,MAAK,SAAAZ,GAAE,OAAIA,EAAGmB,KAAajB,KACjDY,EAAQM,EAAYL,WAAU,SAAAf,GAAE,OAAIA,IAAOuB,KAI/C,OAFAH,EAAYH,OAAOH,EAAO,GAEnB,eACAtB,EADP,eACeI,EAAawB,IAGhC,OAAO5B,EAEX,IAAK,YACD,OAAO,eAAKA,EAAZ,CAAmBgC,SAAU/B,EAAOE,UAExC,IAAK,UACD,OAAO,eAAKH,EAAZ,CAAmBiC,QAAShC,EAAOE,UAEvC,QACI,OAAOH,IC7FJkC,EAJKC,YAAgB,CAChC9B,KAAMN,I,iGCKJqC,G,OAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCC,aAAc,CACVC,KAAM,GAEVC,iBAAkB,CACdC,eAAgB,gBAChBC,UAAW,OACXC,gBAAiB,UACjBhD,MAAO,SAGXiD,YAAa,CACTC,QAAS,sBACTC,WAAY,GAEhBC,iBAAkB,CACd1D,SAAU,WACVsD,gBAAiBN,EAAMW,QAAQC,KAAK,KACpCtD,MAAO0C,EAAMW,QAAQE,OAAOC,MAC5BC,aAAcf,EAAMgB,QAAQ,GAC5BC,gBAAiB,4BACjBC,eAAgB,QAChBC,iBAAkB,YAClBC,mBAAoB,UAExBC,QAAS,CACLrE,SAAU,WACVC,IAAK,EACLqE,OAAQ,EACRpE,MAAO,EACPqE,KAAM,EACNjB,gBAAiB,kBAErBkB,wBAAwB,aACpBxE,SAAU,WACVwD,QAASR,EAAMgB,QAAQ,IACtBhB,EAAMyB,YAAYC,GAAG,MAAQ,CAC1BlB,QAASR,EAAMgB,QAAQ,GACvBW,aAAc,IAGtBC,SAAU,CACNC,UAAW7B,EAAMgB,QAAQ,IAE7Bc,KAAM,CACFC,QAAS,QAEbC,YAAa,CACT9B,KAAM,GAEV+B,UAAW,CACPC,MAAO,KAEXC,SAAS,eACFnC,EAAMoC,WAAWC,MADhB,CAEJ7B,QAASR,EAAMgB,QAAQ,EAAG,KAE9BsB,gBAAiB,CACb9B,QAASR,EAAMgB,QAAQ,GACvBV,gBAAiBN,EAAMW,QAAQC,KAAK,MAExC2B,eAAgB,CACZV,UAAW7B,EAAMgB,QAAQ,IAE7BwB,OAAQ,CACJlC,gBAAiBN,EAAMW,QAAQ8B,WAAWC,MAC1Cb,UAAW7B,EAAMgB,QAAQ,GACzBR,QAASR,EAAMgB,QAAQ,EAAG,SAI5B2B,EAAW,CACb,CAAEvF,MAAO,oBAAkBwF,KAAM,KACjC,CAAExF,MAAO,eAAawF,KAAM,cAC5B,CAAExF,MAAO,YAAawF,KAAM,cAC5B,CAAExF,MAAO,cAAYwF,KAAM,aAC3B,CAAExF,MAAO,WAAYwF,KAAM,aAC3B,CAAExF,MAAO,eAAgBwF,KAAM,iBAiEpBC,eA7DA,SAAAC,GACX,IAAMC,EAAUjD,IADI,EAEQkD,mBAASC,SAASC,SAASC,UAFnC,mBAEbC,EAFa,KAEPC,EAFO,KAGZF,EAAaL,EAAMI,SAAnBC,SAMR,OAJAG,qBAAU,WACND,EAAYF,KACb,CAACA,IAGA,kBAAC,IAAMI,SAAP,KACI,kBAACC,EAAA,EAAD,MAEA,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQC,KAAK,SAAb,oBACA,kBAACC,EAAA,EAAD,CACIC,UAAU,KACVC,QAAQ,KACRxG,MAAM,UACNyG,MAAM,SACNC,QAAM,EACN7G,UAAW4F,EAAQ9C,cANvB,4DAUA,kBAACgE,EAAA,EAAD,KACI,kBAAC,IAAD,OAEJ,kBAACP,EAAA,EAAD,CAAQI,QAAQ,WAAWH,KAAK,SAAhC,gBAIJ,kBAACF,EAAA,EAAD,CAASI,UAAU,MAAMC,QAAQ,QAAQ3G,UAAW4F,EAAQ5C,kBACvDwC,EAAStE,KAAI,WAAkB6F,GAAlB,IAAGtB,EAAH,EAAGA,KAAMxF,EAAT,EAASA,MAAT,OACV,kBAAC+G,EAAA,EAAD,CACIN,UAAWO,IACXC,GAAIzB,EACJ0B,IAAKJ,EACL5G,MAAM,UACN0G,QAAM,EACNF,QAAQ,QACRS,KAAK,GACLxH,MAAO,CACHyH,WAAY,gDACZC,SAAU,OACVnE,gBAAkB8C,EAAK7D,MAAMqD,IAAkB,MAATA,GAAyB,iBAATA,EAChD,UAAY,GAElB8B,aAAetB,EAAK7D,MAAMqD,IAAkB,MAATA,GAAyB,iBAATA,EAA2B,mBAAqB,GACnG+B,YAAavB,EAAK7D,MAAMqD,IAAmB,MAATA,GAAyB,iBAATA,EAAoC,MAAR,OAElFzF,UAAW4F,EAAQxC,YACnBhD,QAAS,kBAAM8F,EAAYT,KAE1BxF,WCzHVwH,EArBA,WACX,OAAO,M,kBCAI,kBAAEC,EAAF,EAAEA,MAAOC,EAAT,EAASA,IAAKC,EAAd,EAAcA,UAAd,OAEX,yBAAK5H,UAAU,WACX,kBAAC6H,EAAA,EAAD,CAAMC,MAAOH,EACTI,eAAe,UACfC,UAAU,UACVC,UAAQ,EACRC,SAAUN,GACTF,EAAMxG,KAAI,SAACiH,EAAMpB,GAAP,OAAY,kBAACqB,EAAA,EAAD,CAAKjB,IAAKJ,EAAGsB,MAAOF,U,+DCGjDxF,G,OAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnC8B,KAAM,CACFC,QAAS,OACT0C,SAAU,UAEdzC,YAAa,CACT9B,KAAM,EACNuE,SAAU,UAEdxC,UAAW,CACPC,MAAO,QACPuD,OAAQ,SAEZjD,OAAQ,CACJlC,gBAAiBN,EAAMW,QAAQ8B,WAAWC,MAC1Cb,UAAW7B,EAAMgB,QAAQ,GACzBR,QAASR,EAAMgB,QAAQ,EAAG,SAI5B0E,EAAgB,CAClB,CACItI,MAAO,cACPuI,KAAM,SACNC,YACI,iEACJhD,KAAM,YACNiD,SAAU,wBAEd,CACIzI,MAAO,WACPuI,KAAM,SACNC,YACI,kEACJhD,KAAM,YACNiD,SAAU,0BAEd,CACIzI,MAAO,YACPuI,KAAM,SACNC,YACI,+DACJhD,KAAM,aACNiD,SAAU,2BAIH,aAEX,IAAM9C,EAAUjD,IAChB,OACI,kBAAC,IAAMyD,SAAP,KACI,kBAACC,EAAA,EAAD,MACA,yBACIzG,MAAO,CACH+I,UAAW,OACX5D,MAAO,OACPuD,OAAQ,SAEZ,0BAAMtI,UAAU,gBACZ,2CAGA,6FAIJ,kBAAC4I,EAAA,EAAD,CAAMC,WAAS,EAAChF,QAAS,EAAG7D,UAAW4F,EAAQkD,UAC1CP,EAAcrH,KAAI,SAAA6H,GAAI,OACnB,kBAACH,EAAA,EAAD,CAAMT,MAAI,EAAChB,IAAK4B,EAAK9I,MAAO+I,GAAI,GAAIC,GAAI,GACpC,kBAACC,EAAA,EAAD,CAAgBxC,UAAU,QACtB,kBAAC,IAAD,CAAMQ,GAAI6B,EAAKtD,KAAM7F,MAAO,CAAEuJ,eAAgB,SAC1C,kBAACC,EAAA,EAAD,CAAMpJ,UAAW4F,EAAQjB,MACrB,yBAAK3E,UAAW4F,EAAQf,aACpB,kBAACwE,EAAA,EAAD,KACI,kBAAC5C,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAC9BoC,EAAK9I,OAEV,6BACA,kBAACwG,EAAA,EAAD,CAAYE,QAAQ,QAAQ2C,WAAS,GAChCP,EAAKN,aAEV,kBAAChC,EAAA,EAAD,CAAYE,QAAQ,QAAQxG,MAAM,WAAlC,oBAEsB4I,EAAK9I,SAKnC,kBAACsJ,EAAA,EAAD,CAAQC,QAAM,GACV,kBAACC,EAAA,EAAD,CACIzJ,UAAW4F,EAAQd,UACnB4B,UAAU,MACVgD,IAAKX,EAAKL,SACVzI,MAAO8I,EAAK9I,oBCzGtD0J,G,OAAY,CACd,CACI1J,MAAO,0BACPuI,KAAM,SACNC,YACI,2CACJC,SAAU,sBACVjD,KAAM,aAEV,CACIxF,MAAO,2BACPuI,KAAM,SACNC,YACI,iCACJhD,KAAM,YACNiD,SAAU,mBAEd,CACIzI,MAAO,UACPuI,KAAM,SACNC,YACI,kCACJhD,KAAM,aACNiD,SAAU,8BAEd,CACIzI,MAAO,QACPuI,KAAM,SACNC,YACI,uBACJhD,KAAM,gBACNiD,SAAU,0BAEd,CACIzI,MAAO,sBACPuI,KAAM,SACNC,YACI,wCACJhD,KAAM,UACNiD,SAAU,yBAIH,SAASkB,EAAajE,GAAQ,IACjCvD,EAAUuD,EAAVvD,MACR,OACI,6BACI,yBAAKpC,UAAU,aACX,2CAGA,sEAIJ,6BAASA,UAAU,eAEX2J,EAAUzI,KAAI,WAAyC6F,GAAzC,IAAG9G,EAAH,EAAGA,MAAOwF,EAAV,EAAUA,KAAMiD,EAAhB,EAAgBA,SAAUD,EAA1B,EAA0BA,YAA1B,OACV,kBAAC,IAAD,CAAMvB,GAAI9E,EAAMyH,IAAMpE,EAAM0B,IAAKJ,EAAG/G,UAAU,QACtC,0BAAMA,UAAU,aAAhB,IAA6B,yBAAK0J,IAAKhB,EAAUoB,IAAI,QAArD,KACA,yBAAK9J,UAAU,YACX,4BAAMC,GACN,+BAAMwI,U,ICvDtCsB,E,kICPSC,GAAU,WAA4B,IAA3BC,EAA0B,uDAAP,GACvC,OAAO,SAAOC,EAAUC,GAAjB,kBAAAC,EAAAC,OAAA,mDAECC,EAAe,GAAIC,EAAY,KAC/BN,EAAiBO,OAAS,GAH3B,uBAICP,EAAiBnJ,SAAQ,SAAA2J,GACrBH,EAAaI,KAAKC,KAAMC,IAAN,eAAkBH,QALzC,YAAAL,EAAA,MAQOS,QAAQC,IAAIR,GACbS,MAAK,SAAAC,GAAG,OAAIA,EAAI9J,KAAI,SAAA+J,GAAC,OAAIC,KAAMC,aAAaF,EAAErK,YAC9CmK,MAAK,SAAAK,GACFA,EAActK,SAAQ,SAACC,EAAIgG,GACvB,IAAII,EAAM8C,EAAiBlD,GACtBsE,QAAQ,YAAa,IACrBA,QAAQ,eAAgB,IAC7BlE,EAAM+D,KAAMI,SAASnE,GACrBoE,OAAOC,OAAOjB,EAAdgB,OAAA,IAAAA,CAAA,GAA4BpE,EAAMpG,WAhB/C,OAoBHmJ,EAAS,CACLzJ,KAAM,WACNC,QAAS6J,IAtBV,uCA2BEkB,GAAa,SAACC,EAAgB/K,GAAjB,OAAgC,SAACuJ,EAAUC,GACjE,IACIvJ,EAAOsK,KAAMC,aAAaO,GAC1BhL,EAAU,CAAEC,aAAYC,QACxB+K,EAAcxB,IAAWvJ,KAAK+K,YAElC,IAAKA,EAGD,OAFAvK,QAAQC,IAAIX,QACZwJ,EAAS,CAAEzJ,KAAM,cAAeC,YAIpC,GAAmB,YAAfC,GAA4BC,EAAK,GAAGmB,QAAoC,IAA1BnB,EAAK,GAAGmB,OAAOyI,OAAc,CAE3E,IAAMoB,EAAaD,EAAYhK,MAAK,SAAAkK,GAAE,OAAIA,EAAG5K,KAAOL,EAAK,GAAGkL,gBAExDpK,EAASd,EAAK,GACdmL,EAAS,GAAIC,EAAW,GACxB/J,EAAWkI,IAAWvJ,KAAKqB,SAE3BgK,EAAoBhK,EAASf,KAAI,SAAAC,GAM7B,OALIA,EAAEG,UAAYI,EAAOJ,UACrBH,EAAEyK,WAAaA,EAAWA,WAC1BzK,EAAE+K,YAAcxK,EAAOwK,YACvB/K,EAAEgL,WAAazK,EAAOyK,YAEnBhL,KAGfc,EAASnB,SAAQ,SAAAK,GACTA,EAAEG,UAAYI,EAAOJ,UACrByK,EAAOrB,KAAKvJ,EAAEiL,OACdJ,EAAStB,KAAKvJ,EAAEkL,eAGxB3K,EAAOK,OAASgK,EAChBrK,EAAOO,SAAW+J,EAClBtK,EAAS,CAACA,GAEV,IAAM4K,EAAoB,CAAE1L,KAAMqL,EAAmBtL,WAAY,YACjE4L,aAAM,WACFrC,EAAS,CAAEzJ,KAAM,cAAeC,QAAS,CAAEE,KAAMc,EAAQf,WAAY,aACrEuJ,EAAS,CAAEzJ,KAAM,oBAAqBC,QAAS4L,YAEhDpC,EAAS,CAAEzJ,KAAM,cAAeC,cAI9B8L,GAAa,SAACd,EAAgB/K,EAAYM,GAA7B,OAAoC,SAAAiJ,GAC1D,IACItJ,EAAOsK,KAAMC,aAAaO,GAE9BxB,EAAS,CAAEzJ,KAAM,cAAeC,QADlB,CAAEC,aAAYC,OAAMK,UAIzBwL,GAAmB,SAAC7L,EAAMD,GAAP,OAAsB,SAAAuJ,GAIlDA,EAAS,CACLzJ,KAAM,oBACNC,QAHY,CAAEE,KADlBA,EAAOsK,KAAMC,aAAavK,GACFD,kBA6Cf+L,GAAY,SAACzL,EAAIiB,EAASvB,GAAd,OAA6B,SAAAuJ,GAClDhI,EAAUgJ,KAAMI,SAASpJ,GACzBgI,EAAS,CACLzJ,KAAM,aACNC,QAAS,CAAEO,KAAIiB,UAASvB,kBCtHjBgM,GAnBC,WACZ,OACI,yBAAK/M,MAAO,CACRC,SAAU,QACVC,IAAK,MACLC,MAAO,MACPqE,KAAM,MACNkE,OAAQ,MACR1E,aAAc,OACdc,UAAW,OACXkI,UAAW,SACXC,OAAQ,IAER,yBAAKnD,IAAI,sBAAsBI,IAAI,GAAGxB,OAAO,OAAOvD,MAAM,SAC1D,gDChBC+H,GAAoB,CAE7B,CACInM,WAAY,eACZoM,MAAO,OACP1E,MAAO,eACP2E,KAAM,iBACNC,MAAO,gBAEX,CACItM,WAAW,kBACXoM,MAAO,QACP1E,MAAO,uBACP2E,KAAK,kBACLC,MAAO,oBAEX,CACItM,WAAY,cACZoM,MAAO,SACP1E,MAAO,wBACP2E,KAAK,mBACLC,MAAO,qBAEX,CACItM,WAAY,cACZoM,MAAO,QACP1E,MAAO,mBACP2E,KAAM,cACNC,MAAO,gBAEX,CACItM,WAAY,gBACZoM,MAAO,eACP1E,MAAO,oBACP2E,KAAM,eACNC,MAAO,iBAEX,CACItM,WAAY,cACZoM,MAAO,aACP1E,MAAO,cACP2E,KAAM,aACNC,MAAO,eHhCTC,GAAWC,EAAQ,KAGV,YAAUC,EAAcC,GAEnC,IAAIC,EAAc,GAClBA,EAAcF,EAAalM,KAAI,SAAAqM,GAAG,OAAIA,EAAIlC,QAAQ,YAAa,IAAIA,QAAQ,eAAgB,OAHtC,IAK/CmC,EAL+C,sRAQrCC,EAAUC,KAAK/H,MAAf8H,MACJE,EAAU,GAEdP,EAAatM,SAAQ,SAAAyM,GACjB,IAAMK,EAAUL,EAAIlC,QAAQ,YAAa,IAAIA,QAAQ,eAAgB,IAChEoC,EAAMG,IAAaH,EAAMG,GAAS,IACnCD,EAAQjD,KAAK6C,OAIjBI,EAAQ,GAlBiC,2CAkBvBD,KAAK/H,MAAMqE,QAAQ2D,IAlBI,OAoBxC5D,IAAQA,EAASmD,MACtBnD,EAAO8D,GAAG,iBAAiB,SAAAC,GACvB,EAAKnI,MAAM8F,WAAWqC,EAAiB,eAE3C/D,EAAO8D,GAAG,mBAAmB,SAAAC,GACzB,EAAKnI,MAAM8F,WAAWqC,EAAiB,cAE3C/D,EAAO8D,GAAG,iBAAiB,SAAAC,GACvB,EAAKnI,MAAM8F,WAAWqC,EAAiB,eAE3C/D,EAAO8D,GAAG,gBAAgB,SAAAC,GACtB,EAAKnI,MAAM8F,WAAWqC,EAAiB,aAE3C/D,EAAO8D,GAAG,sBAAsB,SAAAC,GAC5B,EAAKnI,MAAM8F,WAAWqC,EAAiB,mBAE3C/D,EAAO8D,GAAG,eAAe,YAAiC,IAA9BC,EAA6B,EAA7BA,gBAAiBb,EAAY,EAAZA,MACjCtM,EAAemM,GAAkBnL,MAAK,SAAAZ,GAAE,OAAIA,EAAGkM,QAAUA,KAAzDtM,WACR,EAAKgF,MAAM8F,WAAWqC,EAAiBnN,MAG3CoJ,EAAO8D,GAAG,kBAAkB,YAAwC,IAArClN,EAAoC,EAApCA,WAAYsL,EAAwB,EAAxBA,kBACvC,EAAKtG,MAAM8G,iBAAiBR,EAAmBtL,MAGnDoJ,EAAO8D,GAAG,iBAAiB,SAAAE,GACvB,EAAKpI,MAAM6G,WAAWuB,EAAgB,WAAY,gBAEtDhE,EAAO8D,GAAG,mBAAmB,SAAAE,GACzB,EAAKpI,MAAM8G,iBAAiBsB,EAAgB,cAEhDhE,EAAO8D,GAAG,gBAAgB,SAAAE,GACtB,EAAKpI,MAAM8G,iBAAiBsB,EAAgB,aAGhDhE,EAAO8D,GAAG,aAAa,SAAAG,GAAW,IACtB/M,EAA4B+M,EAA5B/M,GAAIiB,EAAwB8L,EAAxB9L,QAASvB,EAAeqN,EAAfrN,WACrB,EAAKgF,MAAM+G,UAAUzL,EAAIiB,EAASvB,MAGtCoJ,EAAO8D,GAAG,eAAe,SAAAG,GAAW,IACxBF,EAAgCE,EAAhCF,gBAAiBnN,EAAeqN,EAAfrN,WACzBS,QAAQC,IAAI2M,GACZ,EAAKrI,MAAM8F,WAAWqC,EAAiBnN,MA/DE,+FAmExCoJ,IAAQA,EAASmD,GAAS,UACd,CAAC,gBAAiB,kBAAmB,gBAAiB,eAAgB,cACnF,qBAAsB,gBAAiB,kBAAmB,eAAgB,aAErEpM,SAAQ,SAAAC,GAAE,OAAIgJ,EAAOkE,IAAIlN,QAvEW,+BAyEvC,IAAD,OAIL,OAA2B,KAF3BuM,EAAcA,EAAYpM,KAAI,SAAAgN,GAAC,OAAIhD,KAAMI,SAAS4C,OAElC1D,QAAiB8C,EAAYa,OAAM,SAAAC,GAAG,OAAI,EAAKzI,MAAM8H,MAAMY,eAAeD,MAI/E,kBAACf,EAAqBK,KAAK/H,OAH3B,kBAAC,GAAD,UA9EkC,GAKlC2I,IAAMC,WA6FzB,OAAOC,aAZP,SAAyBjO,GACrB,MAAO,CACHkN,MAAM,eACClN,EAAMK,UAKrB,SAA4BsJ,GACxB,OAAOuE,YAAmB,CAAEzE,WAASyB,cAAYe,cAAYC,oBAAkBC,cAAaxC,KAGzFsE,CAA6ChB,II7G3CkB,GAAmB,SAAAC,GAE5B,IAAMC,EAAI9I,SAAS+I,iBAAiB,KAChCC,EAAShJ,SAAS+I,iBAAiB,SAEnCxG,EAAQ,GAAI0G,EAAS,GACrBC,EAAY,yDAuBhB,OArBIJ,GACAA,EAAE9N,SAAQ,SAAAC,GACN,GAAuB,sBAAnBA,EAAGkO,aAAuD,WAAnBlO,EAAGkO,YAAqB,CAC/D,IACMC,EADSnO,EAAGoO,WACDN,iBAAiB,SAClCxG,EAAMqC,KAAKwE,EAAE,QAIrBJ,GACAA,EAAOhO,SAAQ,SAAAC,GACX,GAAgB,SAAZA,EAAGN,OACE2O,KAAOrO,EAAG+G,MAAO,cAAc,GAAMuH,UAAW,CACjD,IACMH,EADSnO,EAAGoO,WACDG,gBACjBjH,EAAMqC,KAAKwE,OAMvB7G,EAAM,IACNA,EAAMvH,SAAQ,SAAAoO,GAAC,OAAIH,EAAOrE,KAAKwE,EAAED,gBACjCF,EAAOjO,SAAQ,SAAAyO,GAAC,OAAIP,GAAaO,EAAI,QACrCP,EAAYA,EACP3D,QAAQ,OAAQ,IAChBA,QAAQ,OAAQ,IAChBmE,MAAM,GAAI,GAAK,IAEhBb,EAAkB,CAAEc,iBAAiB,EAAMC,UAAW,aAAcC,UAAWX,GAC5ED,GACG,M,UCvCH,SAASa,GAAT,GAAwD,IAAhCjP,EAA+B,EAA/BA,WAAYkP,EAAmB,EAAnBA,SAE/C,OAFkE,EAAT/H,MAE/C0C,OAAS,GAA2B,kBAAf7J,EAEvB,8BAAUM,GAAI4O,GAENlP,EAAWO,KAAI,SAACiH,EAAMtG,GAElB,OACI,4BAAQsF,IAAKtF,GAAQsG,EAAK0H,QAMvC,K,cCTTlN,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnCiN,UAAW,CACPC,WAAYlN,EAAMgB,QAAQ,GAC1BmM,YAAanN,EAAMgB,QAAQ,GAC3Ba,UAAW,MACXd,aAAc,MAEd0D,SAAU,SACV2I,UAAW,OACXrD,UAAW,UAEfsD,OAAQ,CACJH,WAAYlN,EAAMgB,QAAQ,GAC1BmM,YAAanN,EAAMgB,QAAQ,GAC3Ba,UAAW,MACXd,aAAc,MACd0B,WAAY,UACZgC,SAAU,SACV2I,UAAW,OACXrD,UAAW,UAEfuD,WAAY,CACRC,OAAQ,QACR9I,SAAU,cAIH,SAAS+I,GAAT,GAA6D,IAAxCC,EAAuC,EAAvCA,YAAaC,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,KAAM5P,EAAQ,EAARA,KAEzDgF,EAAUjD,KACVwN,EAAevK,EAAfuK,WAEAM,EAAe,SAAC1P,GAClB,IAAI+G,EAAQlH,EAAKG,EAAGgM,OAEpB,MAAgB,WAAZhM,EAAGN,KACCqH,EAAQ/G,EAAG2P,KAAO5I,EAAQ/G,EAAG4P,KAGjC7I,GAA0B,kBAAVA,IAAoBA,EAAQA,EAAM8I,eAClD7P,EAAG8P,UAAW/I,IAAmD,OAArClH,EAAKG,EAAGgM,OAAO3K,MAAMrB,EAAG8P,WAItDC,EAAS,SAAC/P,GACZ,IAAI+G,EAAQlH,EAAKG,EAAGgM,OAEpB,OADIjF,GAA0B,kBAAVA,IAAoBA,EAAQA,EAAM8I,YAClD9I,EAAQ/G,EAAG2P,KAAO5I,EAAQ/G,EAAG4P,IAAY,oBACpC7I,GAAqC,OAA5BA,EAAM1F,MAAMrB,EAAG8P,SAA0B,SAClD9P,EAAG8P,SAAW/I,GAAqC,OAA5BA,EAAM1F,MAAMrB,EAAG8P,SAA0B,SAC7D,KAGhB,OAAOL,EAAKtP,KAAI,SAACH,EAAIgG,GAAL,OACZ,kBAAC,WAAD,CAAUI,IAAKJ,GACX,kBAACgK,GAAA,EAAD,CACI/D,KAAMjM,EAAGgM,MACT1E,MAAOtH,EAAGsH,MACV+H,OAAQrP,EAAGqP,OACXpQ,UAAW4F,EAAQkK,UACnB5H,SAAUoI,EACVU,OAAQT,EACR9P,KAAMM,EAAGN,MAAQ,GACjBwQ,MAAOR,EAAa1P,GACpBoP,WAAYW,EAAO/P,GACnBmQ,oBAAqB,CAAElR,UAAWmQ,GAClCD,OAAQnP,EAAGmP,SAAU,EACrBpI,MAAOlH,EAAKG,EAAGgM,QAAU,GACzBoE,SAAUpQ,EAAGoQ,WAAY,EACzBC,gBAAiB,CACbpR,UAAW4F,EAAQkK,UACnBuB,OAAoB,SAAZtQ,EAAGN,WAAmB6Q,EAC9B1R,MAAO,CAAE0H,SAAU,SAAUE,WAAY,IAAKrH,MAAO,SAEzDoR,WAAY,CACR3R,MAAO,CACH0F,WAAYvE,EAAGoQ,UAAYvQ,EAAK4Q,QAAU,OAAS,UACnDlK,SAAU,SAAUsF,UAAW,SAAUzM,MAAO,OAAQ4E,MAAOhE,EAAGgE,OAAS,IAAKuD,OAAQ,OAE5FR,MAAM,GAAD,OAAKlH,EAAKG,EAAGgM,QAAU,IAC5B0E,KAAM1Q,EAAG8O,UAAY,GACrB6B,UAAW3Q,EAAG2Q,WAAa,GAC3BC,UAAW5Q,EAAG4Q,WAAa,GAC3BjB,IAAK3P,EAAG2P,KAAO,IAGnBkB,UAAW7Q,EAAG6Q,YAAa,EAC3BC,KAAM9Q,EAAG8Q,MAAQ,KACjBlL,QAAS5F,EAAG4F,SAAW,SACvBmL,UAAW/Q,EAAG+Q,YAAa,EAC3BC,YAAa,CACTnS,MAAO,CACH0F,WAAYvE,EAAGoQ,UAAYvQ,EAAK4Q,QAAU,OAAS,UACnDlK,SAAU,SAAUsF,UAAW,SAAUzM,MAAO,OAAQqH,WAAY,IACpEzC,MAAO,IAAKuD,OAAQ,WAKb,IAAdvH,EAAGmP,QAAmBnP,EAAGiR,QAAQ9Q,KAAI,SAAC+Q,EAAKlL,GAAN,OAClC,kBAACmL,GAAA,EAAD,CAAU/K,IAAKJ,EAAGe,MAAOmK,GACpBA,QAMQ,IAApBlR,EAAG6O,cAAyB,kBAAC,GAAD,CACzBjP,WAAYC,EAAKG,EAAGJ,YACpBkP,SAAU9O,EAAG8O,SACb/H,MAAOlH,EAAKG,EAAGgM,QAAU,S,sDCvH5BoF,GAAa,CACtB,CACIpF,MAAO,aACP1E,MAAO,aACPuH,cAAc,EACdC,SAAU,aACVlP,WAAY,eAEhB,CACIoM,MAAO,UACP1E,MAAO,aACPuH,cAAc,EACdC,SAAU,UACVlP,WAAY,UACZ+Q,UAAW,IAEf,CACIjR,KAAM,OACNsM,MAAO,cACP1E,MAAO,sBAEX,CACI5H,KAAM,OACNsM,MAAO,aACP1E,MAAO,eCrBF+J,GAAU,CAAC,CAAC,CACrBrF,MAAO,QACP1E,MAAO,QACP+H,OAAQ,SACRsB,UAAW,EACXb,QAAS,sEAEb,CACI9D,MAAO,UACP1E,MAAO,UACP+H,OAAQ,SACRsB,UAAW,GACXb,QAAS,WAEb,CACI9D,MAAO,aACP1E,MAAO,mBACP+H,OAAQ,SACRF,QAAQ,EACR8B,QAAS,CAAC,eAAgB,YAAa,QAAS,aAAc,WAElE,CACIjF,MAAO,UACP1E,MAAO,sBACP+H,OAAQ,SACRsB,UAAW,IAEf,CACI3E,MAAO,eACP1E,MAAO,mBACP+H,OAAQ,SACRP,SAAU,eACVD,cAAc,EACdjP,WAAY,iBAEhB,CACIoM,MAAO,YACP1E,MAAO,gBACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAKrO,QAAO,IAAIgQ,MAAOC,eACvB3B,IAAKtO,QAAO,IAAIgQ,MAAOC,eAAiB,IAE5C,CACIvF,MAAO,cACP1E,MAAO,uBACP+H,OAAQ,SACRmC,MAAM,EACN1B,QAAS,YACTc,UAAW,EACXD,UAAW,IAEf,CACI3E,MAAO,mBACP1E,MAAO,uBACP+H,OAAQ,SACRP,SAAU,SACVD,cAAc,EACdjP,WAAY,eAEhB,CACIF,KAAM,SACNsM,MAAO,gBACP1E,MAAO,oBACP+H,OAAQ,SACRM,IAAKrO,QAAO,IAAIgQ,MAAOC,cAAgB,GACvC3B,IAAKtO,QAAO,IAAIgQ,MAAOC,eAAiB,IAE5C,CACIvF,MAAO,kBACP1E,MAAO,2BACP+H,OAAQ,SACRmC,MAAM,EACN1B,QAAS,YACTc,UAAW,EACXD,UAAW,IAEf,CACI3E,MAAO,UACP1E,MAAO,gCACP+H,OAAQ,SACRF,QAAQ,EACR8B,QAAS,CAAC,wBAAmB,UAAW,cAE5C,CACIjF,MAAO,QACP1E,MAAO,QACP+H,OAAQ,SACRsB,UAAW,MAGVc,OAAO,CAACL,KACRK,OAAO,CC/FgB,CACxB,CACIzF,MAAO,YACP1E,MAAO,YACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,GACL+B,KAAM,GAEV,CACI1F,MAAO,WACP1E,MAAO,mBACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,KAET,CACI3D,MAAO,QACP1E,MAAO,QACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,GAET,CACI3D,MAAO,cACP1E,MAAO,iBACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,IAET,CACI3D,MAAO,iBACP1E,MAAO,sBACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,MAET,CACI3D,MAAO,gBACP1E,MAAO,qBACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,MAET,CACI3D,MAAO,YACP1E,MAAO,YACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,KAET,CACI3D,MAAO,kBACP1E,MAAO,kBACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,IAET,CACI3D,MAAO,mBACP1E,MAAO,8BACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,KAET,CACI3D,MAAO,mBACP1E,MAAO,8BACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,QD0BR8B,OAAO,CAAC,KACRA,OAAO,CAAC,K,iBE1FE,SAASE,GAAT,GAAgE,IAA3C9R,EAA0C,EAA1CA,KAAM+R,EAAoC,EAApCA,aAAcC,EAAsB,EAAtBA,YAAajT,EAAS,EAATA,MAEjE,OAAO,yBAAKK,UAAU,cAAcJ,MAAO,CAAEG,MAAO,MAAOqE,KAAM,QAC7D,wBAAIpE,UAAY,gBAAhB,gBADG,IAC8C,6BACjD,yBAAKA,UAAU,sBAEP2S,EAAazR,KAAI,SAAC2R,EAAI9L,GAAL,OACb,0BAAM/G,UAAU,kBAAkBmH,IAAKJ,GACnC,kBAAC+L,GAAA,EAAD,CACIC,QACI,kBAACC,GAAA,EAAD,CACIC,QAASrS,EAAKiS,EAAG1K,MACjBL,MAAO+K,EAAG1K,KACVD,SAAU,kBAAM0K,EAAYC,EAAG1K,SAEvCE,MAAO,uBAAGrI,UAAU,kBAAkB6S,EAAG1K,aAM7D,kBAACzI,GAAA,EAAD,CAAkBC,MAAOA,KCRjC,IAAMgD,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCgG,UAAW,CACPjE,QAAS,OACTsO,SAAU,OACV7P,QAAS,OAEbpD,MAAO,CACHE,MAAO,OACPqH,WAAY,IACZF,SAAU,SACVsF,UAAW,UAEfuG,cAAe,CACXpD,WAAYlN,EAAMgB,QAAQ,GAC1BmM,YAAanN,EAAMgB,QAAQ,GAC3BuP,SAAU,IACVnD,UAAW,QAEfoD,WAAY,CACRtO,MAAO,KAEXQ,MAAO,CACHlC,QAASR,EAAMgB,QAAQ,GACvB+I,UAAW,SACXzM,MAAO0C,EAAMW,QAAQ8P,KAAKC,UAC1BnD,OAAQvN,EAAMgB,QAAQ,QAIf,eACmB,IADP2P,EACM,EADNA,SAAUb,EACJ,EADIA,aAAc/R,EAClB,EADkBA,KAAM0P,EACxB,EADwBA,YAAaC,EACrC,EADqCA,WAClEkD,EAA6B,EAA7BA,aAAcb,EAAe,EAAfA,YACNc,EACoD9S,EADpD8S,YAAaC,EACuC/S,EADvC+S,WAAYC,EAC2BhT,EAD3BgT,UAC7BC,EAAwDjT,EAAxDiT,yBAA0BC,EAA8BlT,EAA9BkT,SAAUC,EAAoBnT,EAApBmT,gBAEpCnO,EAAUjD,KAAe4C,EACEK,EADFL,MAAOsD,EACLjD,EADKiD,UAAW5I,EAChB2F,EADgB3F,MAAOkT,EACvBvN,EADuBuN,cAC9Ca,EAAuBpO,EAAvBoO,OAAQX,EAAezN,EAAfyN,WALa,EAODxN,oBAAS,GAPR,mBAOtBoO,EAPsB,KAOdC,EAPc,KASvB1D,EAAO4B,GAAQuB,GACrB,OACI,kBAAC/K,EAAA,EAAD,CACIC,WAAS,EACTsL,UAAU,MACVnU,UAAW6I,EACXuL,QAAQ,UAER,kBAACxL,EAAA,EAAD,KACI,kBAACyL,GAAA,EAAD,CAAOrU,UAAWuF,EAAO3F,MAAO,CAAEyD,QAAS,cACvC,kBAACuF,EAAA,EAAD,CAAMC,WAAS,EAACuL,QAAQ,UACJ,IAAfT,EACG,kBAAC/K,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAIiL,EAAS,EAAI,GAAIrU,MAAO,CAAEgE,aAAc,SACnD,kBAAC6C,EAAA,EAAD,CAAYzG,UAAWC,GAAvB,6BAEA,kBAAC8Q,GAAA,EAAD,CACIQ,WAAY,CACRE,KAAM,cACNzE,KAAM,cACNpN,MAAO,CAAEgN,UAAW,SAAUtF,SAAU,WAE5CtH,UAAWmT,EACXrL,MAAO4L,EACPxL,SAAUoI,EACVU,OAAQT,IAEZ,kBAAC,GAAD,CACI5P,WAAY6S,EACZ3D,SAAS,cACT/H,MAAO4L,KAIf,yBAAK1T,UAAU,aAAf,4BAAkD0T,GAGnC,IAAfC,GAAoBM,GAAU,kBAACrL,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,EAAGpJ,MAAO,CAAEmQ,WAAY,SAEjE,kBAACtJ,EAAA,EAAD,CAAYzG,UAAWC,GAAvB,sCAEA,kBAAC8Q,GAAA,EAAD,CACIQ,WAAY,CACRE,KAAM,cACNzE,KAAM,2BACNpN,MAAO,CAAEgN,UAAW,SAAUtF,SAAU,WAE5CtH,UAAWmT,EACXrL,MAAO+L,EACP3L,SAAUoI,EACVU,OAAQT,IAEZ,kBAAC,GAAD,CACI5P,WAAY6S,EACZ3D,SAAS,cACT/H,MAAO+L,MAOJ,IAAfF,GAAoB,kBAAC/K,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,IAC/B,kBAAC8J,GAAA,EAAD,CACIC,QACI,kBAACC,GAAA,EAAD,CACIC,SAAoB,IAAXgB,EACT/L,SAAU,kBAAMgM,GAAWD,IAC3BnM,MAAOmM,IAGf5L,MACI,kBAAC5B,EAAA,EAAD,CAAY7G,MAAO,CAAEO,MAAO,UAAWmH,SAAU,SAAUgN,MAAO,UAAlE,iCAUhBP,EAEI,kBAACnL,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,IACV2K,EAAa,GACV,kBAACU,GAAA,EAAD,CAAOrU,UAAWuF,GACd,yBAAKvF,UAAU,gBAAf,IAAgC8T,EAASH,IACzC,kBAACtD,GAAD,CACIG,KAAMA,EACN5P,KAAMA,EACN2P,WAAYA,EACZD,YAAaA,IAED,IAAfqD,GACG,kBAAC/K,EAAA,EAAD,CAAMC,WAAS,EAACuL,QAAQ,UACpB,kBAAC7N,EAAA,EAAD,CACII,QAAQ,WACRH,KAAK,QACLrG,MAAM,UACNH,UAAWgU,EACX5T,QAASqT,GAET,kBAAC,KAAD,MAPJ,kBAcZG,GAAa,kBAAClB,GAAD,CACTC,aAAcA,EACdhT,MAAO8T,EACPb,YAAaA,EACbhS,KAAMA,KAIlB,kBAACgI,EAAA,EAAD,CAAMC,WAAS,EAACuL,QAAQ,UACpB,yBAAKpU,UAAWqT,Q,kDC3K7B,SAASkB,GAAT,GAAmF,IAA5DtU,EAA2D,EAA3DA,MAAO+M,EAAoD,EAApDA,KAAMwH,EAA8C,EAA9CA,SAAUC,EAAoC,EAApCA,YAAaC,EAAuB,EAAvBA,YAAaC,EAAU,EAAVA,OAAU,EAE7D9O,qBAF6D,mBAEtF+O,EAFsF,KAE5EC,EAF4E,KAc7F,OAVA1O,qBAAU,WACN,GAAIqO,GAAgC,kBAAbA,EAAuB,CAAC,IAAD,uBAC1C,YAAiBA,EAASM,UAA1B,+CAAqC,CAAC,IAA7BC,EAA4B,QAC7B/H,IAAS+H,EAAK,IACdF,EAAYE,EAAK,GAAG/H,OAHc,sFAO/C,CAACwH,EAAUxH,IAGV,oCACK/M,GAAS,uBAAGD,UAAU,aAAaC,GACpC,kBAAC,KAAD,CAAU+U,OAAQ,SAAAzF,GAAC,OAAIkF,EAAYlF,EAAGvC,MACjC,gBAAGiI,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,cAAjB,OACG,uCAAKlV,UAAW4U,EAAW,uBAAyBD,EAAS,UAAY,mBAAuBM,KAC5F,0BAAWC,KAEPN,EACI,kBAAC,WAAD,KACI,iCAAM,kBAAC,KAAD,CAAyB5U,UAAU,SAAzC,KAAqD4U,EAArD,KACCD,GACO,iFAIZ,iCAAM,kBAAC,KAAD,CAAgB3U,UAAU,SAC5B,mCAAS0U,SCrCtC,IAAMS,GAAkB,CAC3B,CAAElV,MAAO,qBAAmB+M,KAAM,QAClC,CAAE/M,MAAO,uBAAqB+M,KAAM,cACpC,CAAE/M,MAAO,2DAAgD+M,KAAM,cAC/D,CAAE/M,MAAO,0BAA2B+M,KAAM,YAC1C,CAAE/M,MAAO,cAAe+M,KAAM,OAC9B,CAAE/M,MAAO,mBAAoB+M,KAAM,WACnC,CAAE/M,MAAO,4BAA6B+M,KAAM,YCPnCoI,GAAgB,CACzB,CAAEnV,MAAO,gCAA8B+M,KAAM,oBAC7C,CAAE/M,MAAO,2DAAgD+M,KAAM,cAC/D,CAAE/M,MAAO,0BAA2B+M,KAAM,YAC1C,CAAE/M,MAAO,cAAe+M,KAAM,OAC9B,CAAE/M,MAAO,mBAAoB+M,KAAM,WACnC,CAAE/M,MAAO,sBAAuB+M,KAAM,gBCIpCrK,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnCwS,KAAM,CACFC,SAAU,IACVlF,OAAQ,MACR/M,QAAS,OAEbkC,MAAO,CACHpF,MAAO0C,EAAMW,QAAQ8P,KAAKC,UAC1BxO,MAAO,OACP1B,QAAS,eACTiF,OAAQ,OACRK,UAAW,SAEf4M,WAAY,CACRnF,OAAQ,YACRjN,gBAAiB,OACjBmR,MAAO,SAEXhB,KAAM,CACF1G,UAAW,OACXwD,OAAQvN,EAAMgB,QAAQ,GACtByD,SAAU,SACVE,WAAY,MACZrH,MAAO,QAEXgI,KAAM,CACFzD,UAAW,OACXrB,QAAS,aAIF,SAASmS,GAAT,GAAgG,IAGvGC,EAH8BhB,EAAwE,EAAxEA,YAAaiB,EAA2D,EAA3DA,gBAAiBhB,EAA0C,EAA1CA,YAAaF,EAA6B,EAA7BA,SAAUmB,EAAmB,EAAnBA,gBAAmB,EAC5EhT,KAAtB0S,EADkG,EAClGA,KAAM9P,EAD4F,EAC5FA,MAAO4C,EADqF,EACrFA,KAMrB,MAHwB,aAApBuN,IAAgCD,EAAYN,IACxB,aAApBO,IAAgCD,EAAYL,IAG5C,6BACI,kBAACf,GAAA,EAAD,CAAOrU,UAAWuF,GACd,yBAAKvF,UAAU,gBAAf,uDACA,kBAAC4I,EAAA,EAAD,CAAMC,WAAS,EAAC7I,UAAWqV,GACtBI,EAAUvU,KAAI,WAAkB0U,GAAlB,IAAG3V,EAAH,EAAGA,MAAO+M,EAAV,EAAUA,KAAV,MACF,eAATA,GAAyB2I,EAAkB,KAC3C,kBAAC,WAAD,CAAUxO,IAAKyO,GACX,kBAAChN,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,GAAIC,GAAI,EAAGjJ,UAAWmI,GACjC,kBAACoM,GAAD,CACItU,MAAOA,EACP+M,KAAMA,EACNwH,SAAUA,EACVE,YAAaA,EACbD,YAAaA,Y,8CC3D3CoB,GAAe,CACjBjR,QAAS,OACT3B,eAAgB,SAChB8B,MAAO,OACP+Q,aAAc,SACd5C,SAAU,QAGR6C,GAAW,CACbnJ,UAAW,SACXoJ,WAAY,aACZ1N,OAAQ,OACR2N,OAAQ,iBACR5S,QAAS,gBACT+M,OAAQ,gBACR9I,SAAU,SACVnE,gBAAiB,UACjB+S,aAAc,OAIZC,GAAO,CACTC,cAAe,SACflW,OAAQ,UACRmW,YAAa,MAGXC,GAAW,CACbF,cAAe,SACf/S,QAAS,aAIE,SAASkT,GAAT,GAA0C,IAAhB/F,EAAe,EAAfA,KAAMgG,EAAS,EAATA,MAuBvCC,EAAY,GAEhB,GAAID,EAAJ,4BAAW,IAAX,IAAW,EAAX,iBAAoBzB,EAApB,QACIvE,EAAK1P,SAAQ,YAAsB,IAAnBkM,EAAkB,EAAlBA,KAAM/M,EAAY,EAAZA,MACd+M,IAAS+H,EAAK,IACVA,EAAK,IAAMA,EAAK,GAAG/H,MACnByJ,EAAU/L,KAAK,CAAErC,MAAOpI,EAAOyW,UAAW1J,EAAM4H,SAAUG,EAAK,GAAG/H,WAJvE,EAAiBwJ,EAAM1B,UAAvB,+CAAmC,IAA9C,mFAQA,OAAO,kBAAC,IAAM1O,SAAP,KACH,yBAAKxG,MAAOiW,IACPY,EAAUvV,KAAI,SAACyV,EAAG5P,GAAJ,OACX,yBAAKnH,MAAOmW,GAAU5O,IAAKJ,GACvB,kBAAC,KAAD,CAA6BnH,MAAO0W,KACpC,0BAAM1W,MAAO,CAAEwW,cAAe,WACzB,IADL,IACWO,EAAEtO,OAEb,kBAAC,KAAD,CAAYzI,MAAOuW,GACf/V,QAAS,kBArCV,SAAC+G,EAAKyN,GAErB,IAAMgC,EAAOJ,EAAM5L,IAAIzD,GAEjB0C,EAAMgN,OAAOC,IAAIC,gBAAgBH,GACjCnR,EAAOK,SAASkR,cAAc,KACpCvR,EAAK2B,KAAOyC,EAER+M,IAAuB,oBAAdA,EAAKnW,MAA8BmW,EAAKnW,KAAK2B,MAAM,YAC5DqD,EAAKwR,aAAa,MAAO,YACzBxR,EAAKwR,aAAa,SAAU,UAC5BxR,EAAKwR,aAAa,QAASrC,IAE1BnP,EAAKwR,aAAa,WAAYrC,GACnC9O,SAASoR,KAAKC,YAAY1R,GAC1BA,EAAK2R,QAsB0BC,CAAWV,EAAED,UAAWC,EAAE/B,mB,yBCvE3DjS,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC0C,MAAO,CACHpF,MAAO0C,EAAMW,QAAQ8P,KAAKC,UAC1BxO,MAAO,OACP1B,QAAS,cACTiF,OAAQ,YAID,SAASgP,GAAT,GAAqE,IAKdC,EALpC3W,EAAiD,EAAjDA,KAAM8U,EAA2C,EAA3CA,gBAAiBlF,EAA0B,EAA1BA,KAAMiF,EAAoB,EAApBA,UAAWe,EAAS,EAATA,MAGhEjR,EADU5C,KACV4C,MAEFiS,EAAiB,GAAIC,EAAM,GAAIC,EAAU,GAAIC,EAAa,GAwB9D,OAvBAnH,EAAK1P,SAAQ,SAAA6V,GACTA,EAAE7V,SAAQ,SAAAyO,GACF3O,EAAKyN,eAAe,CAACkB,EAAExC,UACvBxB,OAAOC,OAAOiM,EAAdlM,OAAA,IAAAA,CAAA,GAAsBgE,EAAExC,MAAQnM,EAAK2O,EAAExC,SACvC2K,EAAQhN,KAAK6E,OAGrBiI,EAAe9M,KAAK+M,GACpBE,EAAWjN,KAAKgN,GAChBD,EAAM,GACNC,EAAU,MAEU,aAApBhC,IAAgC6B,EAAe,CAC/C,CAAEzD,SAAU,yBAAuBtD,KAAMmH,EAAW,GAAI/W,KAAM4W,EAAe,IAC7E,CAAE1D,SAAU,qBAAsBtD,KAAMmH,EAAW,GAAI/W,KAAM4W,EAAe,IAC5E,CAAE1D,SAAU,qCAAgCtD,KAAMmH,EAAW,GAAI/W,KAAM4W,EAAe,MAGlE,aAApB9B,IAAgC6B,EAAe,CAC/C,CAAEzD,SAAU,yBAAuBtD,KAAMmH,EAAW,GAAI/W,KAAM4W,EAAe,IAC7E,CAAE1D,SAAU,qCAAgCtD,KAAMmH,EAAW,GAAI/W,KAAM4W,EAAe,MAItF,oCACI,kBAACnD,GAAA,EAAD,CAAOrU,UAAWuF,GACd,yBAAKvF,UAAU,YAEPuX,EAAarW,KAAI,WAA2B0W,GAA3B,IAAG9D,EAAH,EAAGA,SAAUtD,EAAb,EAAaA,KAAM5P,EAAnB,EAAmBA,KAAnB,OACb,kBAAC,WAAD,CAAUuG,IAAKyQ,GACX,+BACI,+BACI,4BACI,wBAAI5X,UAAU,UACV6X,QAASrH,EAAKhG,QAASsJ,IAE/B,4BACKtD,EAAKtP,KAAI,SAACU,EAAGmF,GAAJ,OAAU,wBAAII,IAAKJ,GAAInF,EAAEyG,YAG3C,+BACI,4BACKkD,OAAOuM,OAAOlX,GAAMM,KAAI,SAAC6W,EAAGC,GAAJ,OACrB,wBAAIhY,UAAU,SAASmH,IAAK6Q,GACvBD,cAWrC,yBAAKnY,MAAO,CAAEwQ,OAAQ,kBAClB,8CACA,2BAEQ6H,MAAMC,QAAQtX,EAAKuX,iBAAmBvX,EAAKuX,gBAC3CvX,EAAKuX,eAAejX,KAAI,SAACqO,EAAGxI,GAAJ,OAAU,0BAC9BnH,MAAO,CACHyH,WAAY,oCACZC,SAAU,QAEdH,IAAKJ,GACJA,IAAMnG,EAAKuX,eAAe3N,OAAS+E,EAAI,KAAOA,QAQ/D,wBAAI3P,MAAO,CAAEwQ,OAAQ,kBAArB,IAAyC,kBAAC,KAAD,CAAsBxQ,MAAO,CAAEwW,cAAe,SAAU/S,QAAS,eAA1G,gBACCmT,GAAS,kBAACD,GAAD,CAAgB/F,KAAMiF,EAAWe,MAAOA,M,mCC3FnD,SAAS4B,GAAT,GAAgC,IAAfC,EAAc,EAAdA,MAAO/E,EAAO,EAAPA,KACnC,OACI,kBAAC1K,EAAA,EAAD,CAAMhJ,MAAO,CAAE8E,UAAW,KAAM2R,YAAa,OACzC,kBAACiC,GAAA,EAAD,CAAaC,UAAU,SAAIC,aAAW,cAClC,kBAAC,IAAD,CACItR,GAAG,IAAItH,MAAO,IAEd,kBAAC,KAAD,CAAUA,MAAO,CAAEwW,cAAe,SAAUpG,YAAa,MAAOyI,cAAe,SAC/E,0BAAM7Y,MAAO,CAAE0H,SAAU,WAAzB,sBAKJ,kBAAC,IAAD,CAAMnH,MAAM,UAAU+G,GAAImR,EAAM,GAAIzY,MAAO,CAAE0H,SAAU,WAClD+Q,EAAM,IAEX,0BAAMzY,MAAO,CAAE0H,SAAU,WAAcgM,KCnBvD,IAAM3Q,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnCmR,OAAQ,CACJ5D,OAAQvN,EAAMgB,QAAQ,GACtByQ,MAAO,SAEXoE,WAAY,CACRtI,OAAQvN,EAAMgB,QAAQ,GACtByQ,MAAO,OACPnU,MAAO,OACPgD,gBAAiB,YAIV,SAASwV,GAAT,GAA0F,IAAhEhF,EAA+D,EAA/DA,WAAYiF,EAAmD,EAAnDA,cAAeC,EAAoC,EAApCA,SAAUC,EAA0B,EAA1BA,aAAc3H,EAAY,EAAZA,SAElFvL,EAAUjD,KAAe+V,EAAuB9S,EAAvB8S,WAAY1E,EAAWpO,EAAXoO,OAC3C,OACI,6BACI,kBAACzN,EAAA,EAAD,CACII,QAAQ,YACR3G,UAAW0Y,EACXtY,QAAS,kBAAMwY,EAAc,SAC7BzH,SAAyB,IAAfwC,GAJd,UAQCA,EAAakF,EACV,kBAACtS,EAAA,EAAD,CACII,QAAQ,YACRxG,MAAM,UACNH,UAAWgU,EACX5T,QAAS,kBAAMwY,EAAc,SAC7BzH,SAAUA,GALd,cAUA,kBAAC5K,EAAA,EAAD,CACII,QAAQ,YACRxG,MAAM,UACNH,UAAWgU,EACX5T,QAAS,kBAAM0Y,MAJnB,Y,kCCpCVnW,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCwS,KAAM,CACFtQ,MAAO,OACPL,UAAW,MAEfsP,OAAQ,CACJhE,YAAanN,EAAMgB,QAAQ,IAE/BkV,aAAc,CACVrU,UAAW7B,EAAMgB,QAAQ,GACzBR,QAAS,YACTmE,WAAY,SAIL,SAASwR,GAAT,GAA+C,IAAtBrF,EAAqB,EAArBA,WAAYsF,EAAS,EAATA,MAE1CrT,EAAUjD,KAEhB,OACI,yBAAK3C,UAAW4F,EAAQyP,MACpB,kBAAC6D,GAAA,EAAD,CAASvF,WAAYA,GAChBsF,EAAM/X,KAAI,SAACmH,EAAOxG,GAGf,OACI,kBAACsX,GAAA,EAAD,eAAMhS,IAAKkB,GAHG,IAIV,kBAAC+Q,GAAA,EAHU,GAGiB/Q,S,8DCzBlDgR,GAAazW,aAAW,SAAAC,GAAK,MAAK,CACpCyW,QAAS,CACLnW,gBAAiBoW,KAAM,MAE3BtI,MAAO,CACH9N,gBAAiBN,EAAMW,QAAQyN,MAAMuI,MAEzCC,KAAM,CACFtW,gBAAiBN,EAAMW,QAAQkW,QAAQC,MAE3CC,QAAS,CACLzW,gBAAiB0W,KAAM,MAE3B1D,KAAM,CACF7O,SAAU,IAEdwS,YAAa,CACTC,QAAS,GACT/J,YAAanN,EAAMgB,QAAQ,IAE/BmW,QAAS,CACLpV,QAAS,OACToR,WAAY,cAIpB,SAASiE,GAAyBtU,GAC9B,IAAMC,EAAUyT,KACRrZ,EAAmD2F,EAAnD3F,UAAWga,EAAwCrU,EAAxCqU,QAAkBrT,GAAsBhB,EAA/BuU,QAA+BvU,EAAtBgB,SAAYwT,EAFZ,YAEsBxU,EAFtB,6CAKrC,OACI,kBAACyU,GAAA,EAAD,eACIpa,UAAWqa,aAAKzU,EAAQe,GAAU3G,GAClCsa,mBAAiB,kBACjBN,QACI,kBAAC,WAAD,KACI,0BAAM/Y,GAAG,kBAAkBjB,UAAW4F,EAAQoU,SAC1C,kBAACO,GAAA,EAAD,cADJ,OAC2BP,KAI/BG,IAKD,SAASK,GAAoB7U,GAExC,OACI,6BACI,kBAAC8U,GAAA,EAAD,CACIC,aAAc,CACVC,SAAU,MACVC,WAAY,SAEhBC,KAAMlV,EAAMkV,KACZC,iBAAkB,IAClBZ,QAASvU,EAAMhG,OAEf,kBAACsa,GAAD,CACItT,QAAQ,UACRqT,QAASrU,EAAMoV,QCtE5B,IAAMC,GAAc,WAAiB,IAAhBlT,EAAe,uDAAP,GAC5B3G,EAAI2G,EAAMuD,QAAQ,MAAO,IAK7B,OADAlK,GADAA,GADAA,GADAA,GAAKA,EAAI,KAAK8Z,QAAQ,GAAK,IACrB5P,QAAQ,IAAK,MACbA,QAAQ,uBAAwB,cAChCA,QAAQ,gBAAiB,W,kDCGpB,SAAS6P,GAAT,GAAiG,IAA1EL,EAAyE,EAAzEA,KAAMnL,EAAmE,EAAnEA,UAAW/P,EAAwD,EAAxDA,MAAOwb,EAAiD,EAAjDA,QAAiD,KAAxCC,YAAwC,EAAtBC,sBAAsB,MAAN,GAAM,IAEzF,SAAA5a,GAElB,GAAoB,kBAATA,EAGT,MAAO,CAAER,MAFD,2BAEQ+Z,QADT,oBAAgBvZ,EAAKiT,YAArB,2DAA6EjT,EAAK6a,KAAlF,MAIT,OAAQ7a,GACN,IAAK,gBAGH,MAAO,CAAER,MAFD,0BAEQ+Z,QADN,oNAEZ,IAAK,eAGH,MAAO,CAAE/Z,MAFD,oBAEQ+Z,QADN,+HAEZ,IAAK,cAGH,MAAO,CAAE/Z,MAFD,0BAEQ+Z,QADN,wIAEZ,IAAK,eAGH,MAAO,CAAE/Z,MAFD,4BAEQ+Z,QADNqB,GAEZ,IAAK,aAGH,MAAO,CAAEpb,MAFD,6BAEQ+Z,QADNqB,GAEZ,IAAK,gBAGH,MAAO,CAAEpb,MAFD,mCAEQ+Z,QADN,uGAEZ,IAAK,mBAGH,MAAO,CAAE/Z,MAFD,sCAEQ+Z,QADN,8HAEZ,IAAK,gBAKH,MAAO,CAAE/Z,MAHD,8BAGQ+Z,QAFT,gEAFS,mBAET,iEAFS,mBAET,wDAIT,IAAK,kBAGH,MAAO,CAAE/Z,MAFD,6BAEQ+Z,QADT,2IAET,IAAK,qBAGH,MAAO,CAAE/Z,MAFD,gCAEQ+Z,QADT,sGAGT,IAAK,gBAIH,MAAO,CAAE/Z,MAHD,wBAGQ+Z,QAFT,+KAGT,IAAK,iBAGH,MAAO,CAAE/Z,MAFD,yBAEQ+Z,QADN,+CAEZ,IAAK,aAGH,MAAO,CAAE/Z,MAFD,gDAEQ+Z,QADN,+DAEZ,IAAK,YAGH,MAAO,CAAE/Z,MAFD,gDAEQ+Z,QADN,8IAEZ,IAAK,kBAGH,MAAO,CAAE/Z,MAFD,kDAEQ+Z,QADN,8IAEZ,IAAK,gBAGH,MAAO,CAAE/Z,MAFD,4DAEQ+Z,QADN,wGAEZ,IAAK,kBAGH,MAAO,CAAE/Z,MAFD,qBAEQ+Z,QADN,iFAEZ,QACE,MAAO,CAAE/Z,MAAO,KAAM+Z,QAAS,OAGVuB,CAAY7L,GAA/BzP,EAxFqG,EAwFrGA,MAAO+Z,EAxF8F,EAwF9FA,QAEf,OAAI/Z,GAAS+Z,EACX,6BACE,kBAACwB,GAAA,EAAD,CACEX,KAAMA,EACNX,QAASva,EACT8b,kBAAgB,qBAChBnB,mBAAiB,4BAEjB,kBAACoB,GAAA,EAAD,CAAaza,GAAG,sBAAsBhB,GACtC,kBAAC0b,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAmB3a,GAAG,4BACnB+Y,IAGL,kBAAC6B,GAAA,EAAD,KACE,kBAACtV,EAAA,EAAD,CAAQnG,QAAST,EAAOQ,MAAM,WAC3Bgb,EAAU,WAAa,UAEzBA,GAAW,kBAAC5U,EAAA,EAAD,CAAQnG,QAAST,EAAOQ,MAAM,UAAU2b,WAAS,GAAjD,gBAOR,K,IC6ZCC,MAHK,CAAC,WAAY,WAAY,gBAAiB,cAC1D,cAAe,UAAW,gB,YA7f1B,aAAe,IAAD,+BACV,iDAQJxb,MAAQ,CACJoT,WAAY,EACZsF,MAAO,CAAC,sBAAoB,kBAAmB,oBAAqB,aAAc,cAClFnF,SAAU,CAAC,iCAA+B,6BACtC,2DACJJ,YAAa,GACbsI,MAAO,GACPnI,yBAA0B,GAC1BoI,SAAU,yBACVC,cAAc,EACd1F,MAAO,GACP2F,UAAW,GACXxG,iBAAiB,EACjB/B,WAAW,EACXnE,iBAAiB,EACjBiF,YAAa,iCAxBH,EA8CdkE,cAAgB,SAAMpY,GAAN,sBAAA4J,EAAAC,OAAA,mDAEkB,IAA1B,EAAK9J,MAAMoT,WAFH,oBAGW,EAAKpT,MAAMyb,MAAMI,QAAO,SAAAjb,GAAC,OAAIA,EAAEiL,QAAU,EAAK7L,MAAM6L,SAAO,GAHtE,mCAAAhC,EAAA,MAKE,EAAKiS,SAAS,CAAEjQ,MAAO,MALzB,cAMJ,EAAKiQ,SAAS,CAAE3M,UAAW,cAAeD,iBAAiB,IANvD,kBAOG,MAPH,YAWJV,EAAW,EAAKxO,MAAhBwO,UACMA,EAAO,GAZT,qCAAA3E,EAAA,MAaF,EAAKiS,SAAL,eAAmB,EAAK9b,MAAxB,GAAkCmO,GAAiB,eAbjD,0CAiBR4N,EAAQ,GACJ3J,EAAiB,EAAKpS,MAAtBoS,aACF4J,EAAiB,EAAKhc,MAAMoT,WACnB,SAAXnT,GAAmB,EAAK6b,SAAS,CAAE1I,WAAY4I,EAAiB,IACrD,SAAX/b,GAAmB,EAAK6b,SAAS,CAAE1I,WAAY4I,EAAiB,IACrD,UAAX/b,GAAoB,EAAK6b,SAAS,CAAE1I,WAAY,IAE7B,IAAnB4I,IACA5J,EAAa7R,SAAQ,SAAAyO,IACK,IAAlB,EAAKhP,MAAMgP,IACX+M,EAAM5R,KAAK6E,MAGf+M,EAAM,GAAI,EAAKD,SAAS,CAAElE,eAAgBmE,IACzC,EAAKD,SAAS,CAAElE,eAAgB,MA/B7B,uCA9CF,EAiFd7H,YAAc,SAAMf,GAAN,kEAAAnF,EAAAC,OAAA,kDAEmB,EAAK1E,MAAM8H,MAAlCxL,EAFI,EAEJA,SAAUuR,EAFN,EAEMA,SAFN,EAG4D,EAAKjT,MAArEic,EAHI,EAGJA,cAAelb,EAHX,EAGWA,QAASsK,EAHpB,EAGoBA,WAAYM,EAHhC,EAGgCA,YAAaC,EAH7C,EAG6CA,WACjDa,EAASuC,EAAEkN,OAAXzP,KAEAlF,EAAUyH,EAAEkN,OAAZ3U,MAEN,EAAKuU,SAAL,eAAiBrP,EAAOlF,IARd,KAUFkF,EAVE,OAWD,gBAXC,OA4BD,UA5BC,QAmCA,YAnCA,QAoEA,gBApEA,QAuEA,oBAvEA,6BAaE+G,EAAkBP,EAAS7R,MAAK,SAAA4N,GAAC,OAAIA,EAAEmE,cAAgB5L,MAbzD,wBAgBU4L,EAA+BK,EAA/BL,YAAagJ,EAAkB3I,EAAlB2I,cAhBvB,aAAAtS,EAAA,MAiBQ,EAAKiS,SAAS,CAAEtI,kBAAiBL,cAAagJ,mBAjBtD,QAkBM5U,IAAUiM,EAAgBL,aAAa,EAAK2I,SAAS,CAAEtI,qBAAiBzC,IAEtE0K,EAAQ/Z,EAASma,QAAO,SAAAjb,GAAC,OAAIA,EAAEwb,UAAY,EAAKpc,MAAMmT,eACtDkJ,EAAqBJ,EAAcJ,QAAO,SAAA1a,GAAM,OAAIA,EAAOib,UAAY,EAAKpc,MAAMmT,eAExF,EAAK2I,SAAS,CAAEL,QAAOva,QAASmb,IAvBlC,wBAyBK,EAAKP,SAAS,CAAEtI,qBAAiBzC,EAAW0K,MAAO,GAAI5P,WAAOkF,EAAWhQ,aAASgQ,IAzBvF,+CA6BmB,kBAAVxJ,EA7BT,wBA8BEA,EAAQA,EAAM+U,oBA9BhB,aAAAzS,EAAA,MA+BQ,EAAKiS,SAAL,eAAiBrP,EAAOlF,KA/BhC,+CAqCIrG,EAAY,EAAKkE,MAAM8H,MAAvBhM,QACAsS,EAAoB,EAAKxT,MAAzBwT,gBACFnS,EAvCF,YAuCUH,EAAQ2a,QAAO,SAAAU,GAAE,OAAIA,EAAGJ,gBAAkB3I,EAAgB2I,kBAGlEK,EA1CF,eA0CqBnb,EAAED,MAAK,SAAAC,GAAC,OAAIA,EAAEoL,KAAUlF,MAC3CkV,EA3CF,eA2CwBpb,EAAED,MAAK,SAAAC,GAAC,OAAIA,EAAEoL,KAAUlF,GAASlG,EAAEN,UAAY,EAAKf,MAAMe,YAEvE,YAAT0L,IAAoB2I,EAAkBoH,GAC7B,eAAT/P,IAAuB2I,EAAkBqH,KAEzCrH,GAAmBA,EAAgBzJ,aAAeyJ,EAAgBxJ,YAhDpE,wBAkDQD,EAAckD,KAAOuG,EAAgBzJ,aAAa+Q,OAAO,cAC3D9Q,EAAawJ,EAAgBxJ,WAAWyE,WAAWpB,MAAM,EAAG,IAC5D5D,EAAa+J,EAAgB/J,WApDnC,aAAAxB,EAAA,MAqDQ,EAAKiS,SAAS,CAAEzQ,aAAYM,cAAaC,aAAYwJ,qBArD7D,6CAwD0C,IAAxCpK,OAAO2R,KAAKvH,GAAiBnL,OAxD/B,wBAyDM2S,EAAe,GACnB5R,OAAOC,OAAO2R,EACV,CACIR,QAAS5I,EAAgBL,YACzBgJ,cAAe3I,EAAgB2I,cAC/Bpb,UAASsK,aAAYM,cAAaC,aAAYpK,OAAQ,GAAIE,SAAU,KA9D9E,aAAAmI,EAAA,MAgEQ,EAAKiS,SAAS,CAAEc,eAAcxH,iBAAiB,EAAOzJ,YAAa,GAAIC,WAAY,MAhE3F,2DAwEF,EAAKkQ,SAAL,eAAiBrP,EAAOgO,GAAYlT,KAxElC,oEAjFA,EAgKdsV,MAAQ,SAAOpQ,EAAMlF,EAAOnH,EAAY0c,EAASC,EAAQC,EAAMC,GAAvD,0BAAApT,EAAAC,OAAA,mDAEElC,EAAOxH,EAAWyb,QAAO,SAAArb,GAAE,OAAIA,EAAGuc,GAAQG,cAAcrb,MAAM0F,EAAM2V,kBAC5D,KAAV3V,GAAc,EAAKuU,UAAL,mBAAiBrP,EAAO,IAAxB,cAA6BqQ,EAAU,IAAvC,KACdlV,EAAK,GAJL,oBAKMuV,EAASvV,EAAK,GAAGmV,GACjBrc,EAAKkH,EAAK,GAAGoV,GACL,KAAVzV,EAPJ,mCAAAsC,EAAA,MAQU,EAAKiS,UAAL,mBAAiBrP,EAAO0Q,GAAxB,cAAiCL,EAAUpc,GAA3C,KARV,mDAAAmJ,EAAA,MAYM,EAAKiS,UAAL,mBAAiBrP,EAAO,IAAxB,cAA6BqQ,EAAU,IAAvC,KAZN,QAaA,EAAKhB,SAAS,CACV3M,UAAW,eAAgBD,iBAAiB,EAC5CE,UAAU,eAAD,OAAiB6N,EAAjB,4CAEb1X,SAAS6X,kBAAkB3Q,GAAM,GAAG4Q,QAjBpC,uCAhKM,EAqLdrN,WAAa,SAAOhB,GAAP,8CAAAnF,EAAAC,OAAA,kDAEmB,EAAK1E,MAAM8H,MAAjC+F,EAFG,EAEHA,SAAU/R,EAFP,EAEOA,QAFP,EAG+D,EAAKlB,MAAvEyb,EAHG,EAGHA,MAAO6B,EAHJ,EAGIA,cAAeC,EAHnB,EAGmBA,YAAanS,EAHhC,EAGgCA,YAAa6Q,EAH7C,EAG6CA,cAChDxP,EAASuC,EAAEkN,OAAXzP,KAEAlF,EAAUyH,EAAEkN,OAAZ3U,OAEAiH,EAASL,MACH,EAAK2N,SAAS,CAAEtN,WACvB,EAAKsN,SAAS,CAAEtN,YAAQuC,IAVpB,KAYDtE,EAZC,OAaA,iBAbA,OAgBA,qBAhBA,OAmBA,6BAnBA,QAsBA,eAtBA,QAyCA,YAzCA,+BAcD,EAAKoQ,MAAMpQ,EAAMlF,EAAO+V,EAAe,iBAAkB,eAAgB,KAAM,UAd9E,mCAiBD,EAAKT,MAAMpQ,EAAMlF,EAAOgW,EAAa,qBAAsB,SAAU,KAAM,cAjB1E,oCAoBD,EAAKV,MAAMpQ,EAAMlF,EAAO0L,EAAU,kBAAmB,cAAe,iBApBnE,iDAAApJ,EAAA,MAuBK,EAAKgT,MAAMpQ,EAAMlF,EAAO6D,EAAa,eAAgB,aAAc,KAAM,eAvB9E,eAwBGiR,EAAqB,GAErB,EAAKrc,MAAMmc,eAA2C,KAA1B,EAAKnc,MAAMqL,aACvCgR,EAAqBJ,EAAcJ,QAAO,SAAAxa,GAAC,OAAIA,EAAE8a,gBAAkB,EAAKnc,MAAMmc,iBAC9E,EAAKL,SAAS,CAAE5a,QAASmb,KAExB,EAAKrc,MAAMmc,eAA2C,KAA1B,EAAKnc,MAAMqL,aACxCgR,EAAqBJ,EAAcJ,QAAO,SAAAxa,GAAC,OAAIA,EAAEgK,aAAe,EAAKrL,MAAMqL,cAC3E,EAAKyQ,SAAS,CAAE5a,QAASmb,KAEzB,EAAKrc,MAAMmc,eAA2C,KAA1B,EAAKnc,MAAMqL,aACvCgR,EAAqBJ,EAChBJ,QAAO,SAAAxa,GAAC,OAAIA,EAAE8a,gBAAkB,EAAKnc,MAAMmc,iBAC3CN,QAAO,SAAAxa,GAAC,OAAIA,EAAEgK,aAAe,EAAKrL,MAAMqL,cAC7C,EAAKyQ,SAAS,CAAE5a,QAASmb,KAtC5B,oCA0CKjH,EAAkBlU,EAAQE,MAAK,SAAAC,GAAC,OAAIA,EAAEN,UAAYwG,OACnC,EAAKuU,SAAS,CAAE1G,oBA3CpC,wCAiDI,UAAT3I,GAAgD,kBAArB,EAAKzM,MAAMyb,MAjDjC,oBAmDgB,IAAjBlU,EAAM0C,OAnDL,wBAoDKuT,EAAIjW,EAAMuD,QAAQ,UAAW,OApDlC,aAAAjB,EAAA,MAqDK,EAAKiS,SAAS,CAAEjQ,MAAO2R,KArD5B,QAsDDjW,EAAQiW,EAtDP,WAwDgB,IAAjBjW,EAAM0C,OAxDL,wBAyDKuT,EAAIjW,EAAMuD,QAAQ,IAAK,KAzD5B,aAAAjB,EAAA,MA0DK,EAAKiS,SAAS,CAAEjQ,MAAO2R,KA1D5B,QA2DDjW,EAAQiW,EA3DP,YA6Dc/B,EAAMra,MAAK,SAAAR,GAAC,OAAIA,EAAEiL,QAAUtE,KA7D1C,qCAAAsC,EAAA,MA+DK,EAAKiS,SAAS,CAAEjQ,MAAO,QA/D5B,QAgEDtE,EAAQ,GACR,EAAKuU,SAAS,CAAE3M,UAAW,cAAeD,iBAAiB,IAC3D3J,SAAS6X,kBAAkB,SAAS,GAAGC,QAlEtC,uCArLC,EA4PdI,eAAiB,6EAAA5T,EAAAC,OAAA,qDAG4B,EAAK9J,MAFtC0d,EADK,EACLA,cAAe9F,EADV,EACUA,eAAgB+F,EAD1B,EAC0BA,eAAgBC,EAD1C,EAC0CA,cACnDC,EAFS,EAETA,UAAW1B,EAFF,EAEEA,cAAe2B,EAFjB,EAEiBA,gBAAiB5c,EAFlC,EAEkCA,QAAS6c,EAF3C,EAE2CA,eACpDC,EAHS,EAGTA,mBAAoBzS,EAHX,EAGWA,aACT,QACX0S,EAAiBP,EAEjBQ,EAA0B,GAApBpc,OAAO+b,IAAmB/b,OAAO6b,GAAkB7b,OAAO8b,IAChEO,MAAMD,KAAMA,OAAMnN,GAElBqN,EAAS,GAEbvM,GAAQtR,SAAQ,SAAA0P,GACZA,EAAK1P,SAAQ,SAAA2W,GACT,IAAK,IAAI7B,KAAK,EAAKrV,MACXqV,IAAM6B,EAAI1K,OAAOxB,OAAOC,OAAOmT,EAAdpT,OAAA,IAAAA,CAAA,GAAyBqK,EAAI,EAAKrV,MAAMqV,WAKnE1J,EACyDyS,EADzDzS,YAAaC,EAC4CwS,EAD5CxS,WAC4CwS,EADhC9K,yBACgC8K,EAA3DC,aAA2DD,EAA7CE,iBAA6CF,EAA3B/S,WAAekT,EArBtC,YAqBkDH,EArBlD,wGAuBTjd,EAAS,CAAEJ,QAASqd,EAAOrd,QAASwK,eAAc4Q,iBAEhDqC,EAAe3P,KAAOlD,EAAa,cAAc,GAAMmD,UACzD2P,EAAY5P,KAAOjD,EAAY,cAAc,GAAMkD,UAEnD0P,IAAcrd,EAAOwK,YAAcA,GACnC8S,IAAWtd,EAAOyK,WAAaA,GAEnCZ,OAAOC,OAAOsT,EAAS,CACnBpC,gBAAeuC,SA5BJ,QA4BcT,iBAAgBC,MAAKtG,iBAC9CmG,iBAAgBC,uBAEpBO,EAAQjL,yBAA2BwK,EAEnC9S,OAAO2R,KAAK4B,GAAShe,SAAQ,SAAAqG,GACJ,KAAjB2X,EAAQ3X,WAAoB2X,EAAQ3X,MAE5CoE,OAAO2R,KAAKxb,GAAQZ,SAAQ,SAAAqG,GACJ,KAAhBzF,EAAOyF,WAAoBzF,EAAOyF,MAGpC+X,EAAUhU,KAAMiU,eAAeL,GAC/BM,EAAYlU,KAAMiU,eAAezd,KAEjCiU,EAAkBlU,EAAQ2a,QAAO,SAAAxa,GAAC,OAAIA,EAAEN,UAAY8d,EAAU9d,YAEhD,GAjDP,qCAAA8I,EAAA,MAkDHO,KAAM5B,KAAK,uBAAwBmW,GACpCnU,MAAK,SAAAC,GACF,IAAMqB,EAAYrB,EAAIpK,KACtB,EAAKye,YAAYhT,MAEpBiT,OAAM,SAAAC,GAAG,OAAIne,QAAQC,IAAIke,OAvDrB,QAwDT,EAAKC,aACL,EAAKC,QAzDI,2BA2DD9J,EAAgB,SAA4BrE,IAAtB8N,EAAU9d,WACrC8d,EAAU9d,QAAQkJ,OAAS,SAAiC8G,IAA5B8N,EAAUM,cA5DpC,qCAAAtV,EAAA,MA8DHO,KAAM5B,KAAK,uBAAwBmW,GACpCnU,MAAK,SAAAC,GACF5J,QAAQC,IAAI2J,GACZqB,EAAYrB,EAAIpK,KAChB,EAAKye,YAAYhT,MAEpBiT,OAAM,SAAAC,GAAG,OAAIne,QAAQC,IAAIke,OApErB,4BAAAnV,EAAA,MAqEHO,KAAM5B,KAAK,iBAAkBqW,GAC9BrU,MAAK,SAACC,GAAD,OAAS5J,QAAQC,IAAI2J,EAAIpK,UAtE1B,eAwEHsW,EAAO,CACTjK,MAAO,UACP0S,OAAQ,UACR7X,MAAOsX,EAAU9d,QACjBY,QAAS,aACT0d,IAAK,CAACvT,IA7ED,aAAAjC,EAAA,MA+EHO,KAAMkV,IAAI,wBAAyB3I,GACpCnM,MAAK,SAAAC,GAAG,OAAI5J,QAAQC,IAAI2J,EAAIpK,UAhFxB,QAoFT,EAAK4e,aACL,EAAKC,QArFI,wBAwFT,EAAKpD,SAAS,CAAE3M,UAAW,mBAAoBD,iBAAiB,IAxFvD,uCA5PH,EAwVdgF,YAAc,SAAO+B,EAAOxJ,GAAd,kBAAA5C,EAAAC,OAAA,qDAENmM,GAASA,EAAMhM,OAAS,GAFlB,uBAIFgK,EAAW,IAAIsL,UACfC,EAAK,EAAKxf,MAAM4b,WAEjBzR,KAAH,eAAWsC,EAAOwJ,EAAM,GAAGxJ,OAPrB,YAAA5C,EAAA,MAQA,EAAKiS,SAAL,aAAgB2D,WAAYD,GAAK/S,EAAOwJ,EAAM,MAR9C,OAUNrB,GAAgBrU,SAAQ,YAAe,IAAZkM,EAAW,EAAXA,KACvB,IAAK,IAAIkQ,KAAQ,EAAK3c,MACd2c,EAAK9a,MAAM4K,KACXwH,EAASyL,OAAOjT,EAAM,EAAKzM,MAAMyM,IAC5BwH,EAAS5J,IAAIsS,IAAO1I,EAAS0L,OAAOhD,OAKrD,EAAKb,SAAS,CAAE7L,KAAMgE,IAnBhB,sCAxVA,EA+Wd6K,YAAc,SAAMhT,GAAN,kDAAAjC,EAAAC,OAAA,qDAEyB,EAAK9J,MAAlCwT,EAFI,EAEJA,gBAAiBzS,EAFb,EAEaA,QACjBob,EAAkB3I,EAAlB2I,cAEFhF,EAAU,IAAIoI,SACd3N,EAAa,IAAI2N,UAEjBzT,IAAa,EAAK9L,MAAMiQ,KARlB,iBAUN,IADAkH,EAAQuI,OAAO,YAAa5T,GATtB,4BAUN,EAAiB,EAAK9L,MAAMiQ,KAAKsE,UAAjC,gDAASC,EAAmC,SAC/B,IAAMA,EAAK,GACA,eAAZA,EAAK,IACL5C,EAAW8N,OAAO,YAAa,cAC/B9N,EAAW8N,OAAO,UAAW3e,GAC7B6Q,EAAW8N,OAAO,YAAavD,GAC/BvK,EAAW8N,OAAOlL,EAAK,GAAIA,EAAK,KAE3BA,EAAK,IAAI2C,EAAQuI,OAAOlL,EAAK,GAAIA,EAAK,KAG/C2C,EAAU,KACVvF,EAAa,MAtBf,yOA0BV,IA1BU,6BA0BV,EAAiBuF,EAAQ5C,UAAzB,+CAASC,EAA2B,QAChC3T,QAAQC,IAAI0T,EAAK,GAAIA,EAAK,IA3BpB,8OA6BN2C,EA7BM,qCAAAtN,EAAA,MA6BSO,KAAM5B,KAAK,mBAAoB2O,GAC7C3M,MAAK,SAAAC,GAAG,OAAI5J,QAAQC,IAAI2J,EAAIpK,SAC5B0e,OAAM,SAAAC,GAAG,OAAIne,QAAQC,IAAIke,OA/BpB,YAgCNpN,EAhCM,qCAAA/H,EAAA,MAgCYO,KAAM5B,KAAK,qBAAsBoJ,GAClDpH,MAAK,SAAAC,GAAG,OAAI5J,QAAQC,IAAI2J,EAAIpK,SAC5B0e,OAAM,SAAAC,GAAG,OAAIne,QAAQC,IAAIke,OAlCpB,sGA/WA,EAoZdY,UAAY,SAAAlf,GAER,IAAImf,EAAgB,EAAK7f,MAAMiW,MAAM4F,QAAO,SAAAzF,GAAC,OAAIA,EAAE0J,SAAShU,YAAcpL,EAAG2P,cAEzEwP,EAAc,GACd,EAAK/D,SAAS,CAAEiE,gBAAiBF,EAAeD,WAAW,EAAMI,gBAAiBtf,KAGlF,EAAKob,SAAS,CAAE3M,UAAW,gBAAiBD,iBAAiB,IAC7D,EAAK4M,SAAS,CAAEiE,gBAAiB,OA7Z3B,EAiadd,WAAa,WAEL,IAAAA,EAAa,GACX7M,EAAiB,EAAKhN,MAAM8H,MAA5BkF,aACF6N,EAAa,GACbC,EAAa,GAEjBrO,GAAQtR,SAAQ,SAAA0P,GACZA,EAAK1P,SAAQ,SAAA2W,GACTlM,OAAO2R,KAAKzF,GAAK3W,SAAQ,SAAAqG,GACT,UAARA,GAAmB,EAAK5G,MAAMkX,EAAItQ,KAAOoE,OAAOC,OAAOgU,EAAdjU,OAAA,IAAAA,CAAA,GAA6BkM,EAAItQ,QAAOmK,aAIjG6D,GAAgBrU,SAAQ,YAAe,IAAZkM,EAAW,EAAXA,KACvBzB,OAAOC,OAAOgV,EAAdjV,OAAA,IAAAA,CAAA,GAA6ByB,EAAO,UAGxC2F,EAAa7R,SAAQ,SAAAyO,GAAC,OAAIhE,OAAOC,OAAOiV,EAAdlV,OAAA,IAAAA,CAAA,GAA6BgE,EAAEpH,MAAO,OAEhE,EAAKkU,SAAL,eACOmD,EADP,GAEOgB,EAFP,GAGOC,EAHP,CAII9M,WAAY,EACZD,YAAa,GACbK,qBAAiBzC,EACjB0K,MAAO,GACPnI,yBAA0B,GAC1B2C,MAAO,GACP2F,UAAW,GACXxG,iBAAiB,EACjBnF,KAAM,IAAIsP,aAjcJ,EAqcdlN,YAAc,SAAAzK,GAAI,OAAI,EAAKkU,SAAL,eAAmB,EAAK9b,MAAxB,eAAgC4H,GAAQ,EAAK5H,MAAM4H,OArc3D,EAscdsL,aAAe,kBAAM,EAAK4I,SAAS,CAAEzI,WAAY,EAAKrT,MAAMqT,aAtc9C,EAucd8M,aAAe,kBAAM,EAAKrE,SAAS,CAAE5M,iBAAkB,EAAKlP,MAAMkP,mBAvcpD,EAwcdgQ,MAAQ,kBAAM,EAAKpD,SAAS,CAAEH,cAAe,EAAK3b,MAAM2b,gBAtcpD,EAAKyE,YAAc,SAACpR,GACE,KAAdA,EAAEqR,SACE,EAAKrgB,MAAMqT,WAAW,EAAKH,gBAJ7B,E,yKA6BFhG,EAAUC,KAAK/H,MAAf8H,MACFoQ,EAA4CpQ,EAA5CoQ,cAAeC,EAA6BrQ,EAA7BqQ,YAAanS,EAAgB8B,EAAhB9B,YAC9BgH,EAAe,IAEflF,IAASA,EAAMkF,a,uBACflF,EAAMkF,aAAa7R,SAAQ,SAAAyO,GAAC,OAAIhE,OAAOC,OAAOmH,EAAdpH,OAAA,IAAAA,CAAA,GAA+BgE,EAAEpH,MAAO,OAClE0Y,EAAatV,OAAO2R,KAAKvK,G,oBACzBjF,KAAK2O,SAAL,aACFwB,gBAAeC,cAAanS,cAAagH,aAAckO,GAAelO,EADpE,CAEF6J,cAAe9O,KAAK/H,MAAM8H,MAAX,Y,OAGvB3H,SAASgb,iBAAiB,UAAWpT,KAAKiT,aAAa,G,8FAGlCjT,KAAK2O,SAAS,M,+BA8Z7B,IAAD,EAGkE3O,KAAKnN,MADtE2b,EAFD,EAECA,aAAcD,EAFf,EAEeA,SAAUtI,EAFzB,EAEyBA,WAAYlE,EAFrC,EAEqCA,gBAAiBC,EAFtD,EAEsDA,UAAWuJ,EAFjE,EAEiEA,MAC9DlF,EAHH,EAGGA,gBAAiB3H,EAHpB,EAGoBA,MAAOsI,EAH3B,EAG2BA,YAAalE,EAHxC,EAGwCA,KAAMmF,EAH9C,EAG8CA,gBAH9C,EAI4BjI,KAAK/H,MAAM8H,MAAtC+F,EAJD,EAICA,SAAUb,EAJX,EAIWA,aAEhB,OAAO,kBAAC,WAAD,KACH,kBAACyF,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAc/E,KAAK,2BAE/C,kBAAC0F,GAAD,CACIrF,WAAYA,EACZsF,MAAOA,EACPL,cAAelL,KAAKkL,gBAExB,kBAACmI,GAAD,CACIngB,KAAM8M,KAAKnN,MACXiT,SAAUA,EACVb,aAAcA,EACdrC,YAAa5C,KAAK4C,YAClBC,WAAY7C,KAAK6C,WACjBkD,aAAc/F,KAAK+F,aACnBb,YAAalF,KAAKkF,YAClBxQ,MAAOsL,KAAK/H,MAAMvD,QAEN,IAAfuR,GAAoB,kBAAC6B,GAAD,CACjBE,gBAAgB,WAChBjB,YAAa/G,KAAK+G,YAClBC,YAAaA,EACbF,SAAUhE,EACVmF,gBAAiBA,IAGL,IAAfhC,GAAoB,kBAAC,GAAD,CACjB+B,gBAAgB,WAAWc,MAAO9I,KAAKnN,MAAMiQ,KAC7CiF,UAAWN,GAAiBvU,KAAM8M,KAAKnN,MACvCiQ,KAAM4B,KAGT2B,GAAmB,kBAAC4E,GAAD,CAChBhF,WAAYA,EACZkF,SAAUI,EAAMzO,OAAS,EACzBsO,aAAcpL,KAAKsQ,eACnBpF,cAAelL,KAAKkL,cACpBzH,SAA4B,kBAAV/E,GAAgC,KAAVA,IAE5C,kBAAC,GAAD,CAAYyO,KAAMqB,EAAcvc,MAAO+N,KAAK+R,MAAO1E,IAAKkB,IACvDxM,GAAmB,kBAACyL,GAAD,CAAaL,KAAMpL,EAAiB9P,MAAO+N,KAAKgT,aAAchR,UAAWA,EAAW2L,cAAe3N,KAAKnN,MAAMoP,iB,GA1f9GqR,kBCrBnBC,GAAU,CAAC,CAAC,CACrBlU,MAAO,QACP1E,MAAO,QACP+H,OAAQ,SACRP,SAAU,QACVD,cAAc,EACdjP,WAAY,SAEhB,CACIoM,MAAO,cACP1E,MAAO,iBACP+H,OAAQ,SACRP,SAAU,cACVD,cAAc,EACdjP,WAAY,YAEhB,CACIoM,MAAO,gBACP1E,MAAO,+BACP+H,OAAQ,SACRP,SAAU,cACVD,cAAc,EACdjP,WAAY,YAEhB,CACIoM,MAAO,aACP1E,MAAO,mBACP+H,OAAQ,SACRF,QAAQ,EACR8B,QAAS,CAAC,eAAgB,YAAa,QAAS,aAAc,WAElE,CACIjF,MAAO,UACP1E,MAAO,gCACP+H,OAAQ,SACRF,QAAQ,EACR8B,QAAS,CAAC,wBAAmB,UAAW,cAE5C,CACIjF,MAAO,QACP1E,MAAO,QACP+H,OAAQ,SACRsB,UAAW,IAEf,CACI3E,MAAO,UACP1E,MAAO,UACP+H,OAAQ,SACRe,UAAU,GAEd,CACIpE,MAAO,UACP1E,MAAO,sBACP+H,OAAQ,SACRsB,UAAW,GACXP,UAAU,GAEd,CACIpE,MAAO,eACP1E,MAAO,mBACP+H,OAAQ,SACRe,UAAU,GAEd,CACIpE,MAAO,YACP1E,MAAO,gBACP+H,OAAQ,SACR3P,KAAM,SACN0Q,UAAU,GAEd,CACIpE,MAAO,cACP1E,MAAO,uBACP+H,OAAQ,SACRmC,MAAM,EACNpB,UAAU,GAEd,CACIpE,MAAO,mBACP1E,MAAO,uBACP+H,OAAQ,SACRe,UAAU,GAEd,CACI1Q,KAAM,SACNsM,MAAO,gBACP1E,MAAO,oBACP+H,OAAQ,SACRe,UAAU,GAEd,CACIpE,MAAO,kBACP1E,MAAO,2BACP+H,OAAQ,SACRmC,MAAM,EACNpB,UAAU,KAITqB,OAAO,CCrGmB,CAE3B,CACIzF,MAAO,gBACP1E,MAAO,sBACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,MAET,CACI3D,MAAO,eACP1E,MAAO,qBACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,MAET,CACI3D,MAAO,YACP1E,MAAO,YACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,KAET,CACI3D,MAAO,iBACP1E,MAAO,kBACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,IAET,CACI3D,MAAO,kBACP1E,MAAO,8BACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,KAET,CACI3D,MAAO,kBACP1E,MAAO,8BACP+H,OAAQ,SACR3P,KAAM,SACNiQ,IAAK,QD4DR8B,OAAO,CAAC,KACRA,OAAO,CAAC,KEhGP7P,I,OAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnC0C,MAAO,CACHlC,QAASR,EAAMgB,QAAQ,GACvB+I,UAAW,SACXzM,MAAO0C,EAAMW,QAAQ8P,KAAKC,UAC1BnD,OAAQvN,EAAMgB,QAAQ,GACtBuP,SAAU,cAIH,SAAS8N,GAAcvb,GAAQ,IAGpC6N,EAAsC7N,EAAtC6N,SAAUlD,EAA4B3K,EAA5B2K,YAAaC,EAAe5K,EAAf4K,WACvBmD,EAAgB/N,EAAM/E,KAAtB8S,YACuBnO,EAAf5C,KAAe4C,MAE7B,OACI,yBAAKvF,UAAU,iBACX,kBAACqU,GAAA,EAAD,CAAOrU,UAAWuF,EAAO3F,MAAO,CAAEyD,QAAS,cACvC,yBAAKrD,UAAU,QACX,2DACA,2BACIyR,KAAK,cACLzE,KAAK,cACLhN,UAAU,gBACV8H,MAAO4L,EACPxL,SAAUoI,EACVU,OAAQT,IAEZ,kBAAC,GAAD,CACI3Q,MAAO,CAAEgN,UAAW,SAAU7H,MAAO,SACrCpE,WAAY6S,EACZ3D,SAAS,cACT/H,MAAO4L,OC5B/B,IAAM/Q,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCgG,UAAW,CACPjE,QAAS,OACTsO,SAAU,OACV7P,QAASR,EAAMgB,QAAQ,IAG3BiM,UAAW,CACPC,WAAYlN,EAAMgB,QAAQ,GAC1BmM,YAAanN,EAAMgB,QAAQ,GAC3BkB,MAAO,IACPuC,SAAU,SACV2I,UAAW,OACXrD,UAAW,UAEfyG,WAAY,CACRtO,MAAO,KAEXoc,MAAO,CACHvU,UAAW,UAEfrH,MAAO,CACHlC,QAASR,EAAMgB,QAAQ,GACvB+I,UAAW,SACXzM,MAAO0C,EAAMW,QAAQ8P,KAAKC,UAC1BnD,OAAQvN,EAAMgB,QAAQ,QAIf,eAC8C,IADlCyM,EACiC,EADjCA,YAAaC,EACoB,EADpBA,WAAY3P,EACQ,EADRA,KAAMgS,EACE,EADFA,YAAaa,EACX,EADWA,aACnE2N,EAAwD,EAAxDA,eAAgBC,EAAwC,EAAxCA,aAAc7N,EAA0B,EAA1BA,SAAUb,EAAgB,EAAhBA,aAChCgB,EAA2E/S,EAA3E+S,WAAYG,EAA+DlT,EAA/DkT,SAAU1H,EAAqDxL,EAArDwL,MAAOkV,EAA8C1gB,EAA9C0gB,cAAevN,EAA+BnT,EAA/BmT,gBAAiBH,EAAchT,EAAdgT,UACjEhO,EAAUjD,KAAe4C,EAAqBK,EAArBL,MAAOsD,EAAcjD,EAAdiD,UAEhC2H,EAAOyQ,GAAQtN,GAEnB,OACI,kBAAC,WAAD,KACI,kBAAC/K,EAAA,EAAD,CACIC,WAAS,EACTsL,UAAU,MACVnU,UAAW6I,EACXuL,QAAQ,UAEQ,IAAfT,GACG,kBAACuN,GAAD,CACItgB,KAAMA,EACN4S,SAAUA,EACVlD,YAAaA,EACbC,WAAYA,IAIhBwD,EACI,kBAACnL,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,IACV2K,EAAa,GACV,kBAACU,GAAA,EAAD,CAAOrU,UAAWuF,GACd,wBAAIvF,UAAU,gBAAd,IAA+B8T,EAASH,IAAevH,GAAwB,IAAfuH,EAAmB,YAAcvH,EAAQ,KAEzG,kBAACiE,GAAD,CACIG,KAAMA,EACN5P,KAAMA,EACN2P,WAAYA,EACZD,YAAaA,KAIT,IAAfqD,GACG,kBAAC/K,EAAA,EAAD,CAAMC,WAAS,EAACuL,QAAQ,UACpB,kBAAC7N,EAAA,EAAD,CACII,QAAQ,WACRH,KAAK,QACLrG,MAAM,UACNH,UAAW4F,EAAQoO,OACnB5T,QAASqT,GAET,kBAAC,KAAD,MAPJ,iBAYP2N,GAAkBhV,EAAMhK,MAAM,0BAC3B,yBAAKpC,UAAU,aACX,0BAAMI,QAAS,kBAAMihB,MAArB,sEAIJzN,GAAa,kBAAClB,GAAD,CACTC,aAAcA,EACdhT,MAAO8T,EACPb,YAAaA,EACbhS,KAAMA,KAKlB,kBAACgI,EAAA,EAAD,CAAMC,WAAS,EAACuL,QAAQ,UACpB,yBAAKpU,UAAW4F,EAAQyN,eAIxB,IAAfM,GAAoB,kBAAC/K,EAAA,EAAD,CACjBC,WAAS,EACTsL,UAAU,MACVC,QAAQ,SACR4B,WAAW,UACX,kBAACpN,EAAA,EAAD,KACI,kBAACmI,GAAA,EAAD,CACI/D,KAAK,gBACLlF,MAAOwZ,EACPjZ,MAAM,gBACN5H,KAAK,OACLyH,SAAUoI,EACVc,gBAAiB,CAAEC,QAAQ,EAAMzR,MAAO,CAAE4H,WAAY,IAAK5D,aAAc,OACzE2N,WAAY,CAAE3R,MAAO,CAAE6Y,cAAe,KAAM1T,MAAO,UACnD6M,WAAS,EACTC,KAAM,EACNlL,QAAQ,iBCxHjB,SAASuU,GAAT,GACoC,IADbL,EACY,EADZA,KAAMlb,EACM,EADNA,MAAO2Q,EACD,EADCA,YAAamE,EACd,EADcA,YAC9D8M,EAAgD,EAAhDA,YAAaC,EAAmC,EAAnCA,SAAUhN,EAAyB,EAAzBA,SAAUE,EAAe,EAAfA,YAE3BjE,EAAe,SAAAgR,GAEnB,QAAIA,EAAOjX,OAAS,GAAKiX,EAAOrf,MAAM,uCAIxC,OACE,6BACE,kBAACoZ,GAAA,EAAD,CAAQX,KAAMA,EAAMX,QAASva,EAAO8b,kBAAgB,qBAClD,kBAACC,GAAA,EAAD,CAAaza,GAAG,qBAAhB,iBACA,kBAAC0a,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,+IAGA,kBAAC7K,GAAA,EAAD,CACE+K,WAAS,EACT1L,OAAO,QACPpD,KAAK,WACL3E,MAAM,aACN5H,KAAK,OACLyH,SAAUoI,EACVxI,MAAO0Z,EACPvQ,MAAOR,EAAa+Q,GACpB1P,WAAS,IAEX,6BAAM,6BAAM,6BACZ,kBAACyC,GAAD,CACEtU,MAAM,aACN+M,KAAK,cACLwH,SAAUA,EACVE,YAAaA,EACbD,YAAaA,KAGjB,kBAACoH,GAAA,EAAD,KACE,kBAACtV,EAAA,EAAD,CAAQnG,QAAST,EAAOQ,MAAM,WAA9B,YAGA,kBAACoG,EAAA,EAAD,CAAQnG,QAASmhB,EAAaphB,MAAM,UAAUgR,SAAUV,EAAa+Q,IAArE,gB,ICwVKzF,MAFK,CAAC,WAAY,WAAY,gB,YAlXzC,aAAe,IAAD,+BACV,iDAQJxb,MAAQ,CACJmhB,WAAY,CAAC,8GACT,0DAAwD,kCACxD,kDACJzI,MAAO,CAAC,8BAA4B,2BAA4B,aAAc,cAE9EnF,SAAU,CAAC,sBAAoB,+BAC3B,gCAAiC,cACrCN,SAAU,GACVE,YAAa,GACbG,yBAA0B,GAC1BmI,MAAO,GACPC,SAAU,qBACVC,cAAc,EACdvI,WAAY,EACZ6C,MAAO,GACP2F,UAAW,GACX1M,iBAAiB,EACjBkS,UAAU,EACVH,SAAU,GACVpV,MAAO,GACPwH,WAAW,EACXc,YAAa,iCA/BH,EAgDdkE,cAAgB,SAAMpY,GAAN,kBAAA4J,EAAAC,OAAA,qDACJ0E,EAAW,EAAKxO,MAAhBwO,UACMA,EAAO,GAFT,uBAGR,EAAKsN,SAAL,eAAmB,EAAK9b,MAAxB,GAAkCmO,GAAiB,cAH3C,0BAON6N,EAAiB,EAAKhc,MAAMoT,WACnB,SAAXnT,GAAmB,EAAK6b,SAAS,CAAE1I,WAAY4I,EAAiB,IACrD,SAAX/b,GAAmB,EAAK6b,SAAS,CAAE1I,WAAY4I,EAAiB,IACrD,UAAX/b,GAAoB,EAAK6b,SAAS,CAAE1I,WAAY,IAVxC,sCAhDF,EA6DdrD,YAAc,SAAMf,GAAN,gCAAAnF,EAAAC,OAAA,qDACqB,EAAK1E,MAAM8H,MAAlCxL,EADE,EACFA,SAAUuR,EADR,EACQA,SADR,EAEYjE,EAAEkN,OAAlBzP,EAFI,EAEJA,KAAMlF,EAFF,EAEEA,MAGC,gBAATkF,EALM,sBAMF+G,EAAkBP,EAAS7R,MAAK,SAAA4N,GAAC,OAAIA,EAAEmE,cAAgB5L,MANrD,oCAAAsC,EAAA,MASI,EAAKiS,SAAS,CAAE3I,YAAaK,EAAgBL,YAAaK,qBAT9D,OAUEjM,IAAUiM,EAAgBL,aAAa,EAAK2I,SAAS,CAAEtI,qBAAiBzC,IAEtE0K,EAAQ/Z,EAASma,QAAO,SAAAjb,GAAC,OAAIA,EAAEwb,UAAY,EAAKpc,MAAMmT,eAE5D,EAAK2I,SAAS,CAAEL,UAdd,wBAiBF,EAAKK,SAAS,CAAEtI,qBAAiBzC,EAAW0K,MAAO,KACnD,EAAK4F,QAlBH,QAsBG,UAAT5U,GAAoB,EAAKzM,MAAMyb,QACf,EAAKzb,MAAMyb,MAAMra,MAAK,SAAAR,GAAC,OAAIA,EAAEiL,QAAUtE,MACzC,EAAKvH,MAAMoS,aAAa7R,SAAQ,SAAAyO,GAAC,OAAI,EAAK8M,SAAL,eAAiB9M,GAAI,QAG/D,aAATvC,EAEwB,kBADpBwU,EAAW1Z,MAEX0Z,EAAWA,EAASnW,QAAQ,UAAU,SAAA6D,GAAC,OAAIA,EAAE2S,kBAChCzf,MAAM,sCAAqCof,EAAWA,EAASnW,QAAQ,UAAW,QAC/F,EAAKgR,SAAL,eAAmB,EAAK9b,MAAxB,CAA+BihB,eAEhC,EAAKnF,SAAL,eAAiBrP,EAAOlF,IAlCrB,uCA7DA,EAkGdsV,MAAQ,SAAOpQ,EAAMlF,EAAOnH,EAAY0c,EAASC,EAAQC,GAAjD,0BAAAnT,EAAAC,OAAA,mDAEElC,EAAOxH,EAAWyb,QAAO,SAAArb,GAAE,OAAIA,EAAGuc,GAAQG,cAAcrb,MAAM0F,EAAM2V,kBAC5D,KAAV3V,GAAc,EAAKuU,UAAL,mBAAiBrP,EAAO,IAAxB,cAA6BqQ,EAAU,IAAvC,KACdlV,EAAK,GAJL,oBAKMuV,EAASvV,EAAK,GAAGmV,GACjBrc,EAAKkH,EAAK,GAAGoV,GACL,KAAVzV,EAPJ,mCAAAsC,EAAA,MAQU,EAAKiS,UAAL,mBAAiBrP,EAAO0Q,GAAxB,cAAiCL,EAAUpc,GAA3C,KARV,mDAAAmJ,EAAA,MAYM,EAAKiS,UAAL,mBAAiBrP,EAAO,IAAxB,cAA6BqQ,EAAU,IAAvC,KAZN,QAaA,EAAKhB,SAAS,CAAE5M,iBAAiB,EAAMC,UAAW,oBAClD5J,SAAS6X,kBAAkB3Q,GAAM,GAAG4Q,QAdpC,uCAlGM,EAoHdkE,WAAa,SAAC/U,EAAOjF,GACjB,GAAKA,GAA0B,kBAAVA,EASrB,MARc,eAAViF,IACc,eAAVjF,IAAwBA,EAAQ,gBACtB,2BAAVA,IAAoCA,EAAQ,cAClC,eAAVA,IAAwBA,EAAQA,EAAMia,OAAO,GAAKja,EAAM0H,MAAM,GAAGiO,gBAE3D,YAAV1Q,GAAiC,QAAVjF,IAAiBA,EAAQ,yBACtC,YAAViF,GAAiC,WAAVjF,IAAiBA,EAAQ,aAE7CA,GA9HG,EAiIdyI,WAAa,SAAOhB,GAAP,oCAAAnF,EAAAC,OAAA,gDAEHmJ,EAAa,EAAK7N,MAAM8H,MAAxB+F,SAFG,EAGqB,EAAKjT,MAA7Byb,EAHG,EAGHA,MAAOrJ,EAHJ,EAGIA,aACP3F,EAASuC,EAAEkN,OAAXzP,KAEAlF,EAAUyH,EAAEkN,OAAZ3U,MACFka,EAAS,IAEPjT,EAASL,MACH,EAAK2N,SAAS,CAAEtN,WACvB,EAAKsN,SAAS,CAAEtN,YAAQuC,IAXpB,KAaDtE,EAbC,OAeA,kBAfA,OAkBA,gBAlBA,8BAgBD,EAAKoQ,MAAMpQ,EAAMlF,EAAO0L,EAAU,2BAA4B,cAAe,iBAhB5E,gDAAApJ,EAAA,MAmBK,EAAKgT,MAAMpQ,EAAMlF,EAAO0L,EAAU,gBAAiB,cAAe,kBAnBvE,yDAwBI,UAATxG,GAAoBlF,EAAM0C,OAAS,GAAKyN,MAAMC,QAAQ,EAAK3X,MAAMyb,QAxB5D,wBA0BDkD,EAAU,EAAK3e,MAAMyb,MAAMra,MAAK,SAAAR,GAChC,MAAqB,kBAAV2G,EAA2B3G,EAAEiL,MAAMqR,cAAcrb,MAAM0F,EAAM2V,eAC5Dtc,EAAEiL,MAAMhK,MAAM0F,QAGfoX,EAAQ/G,iBACb8J,EAAgB/C,EAAQ/G,eAC9BxF,EAAa7R,SAAQ,SAAAyO,GACb0S,EAAcxE,cAAcrb,MAAMmN,EAAEkO,gBAAgBuE,EAAOtX,KAAK6E,MAExEyS,EAAOlhB,SAAQ,SAAAohB,GAAE,OAAI,EAAK7F,SAAL,eAAiB6F,GAAK,QAK3ChD,GAAWA,EAAQiD,aACnBjD,EAAQiD,WAAa,EAAKL,WAAW,aAAc5C,EAAQiD,aAG3DjD,GAAWA,EAAQkD,UACnBlD,EAAQkD,QAAU,EAAKN,WAAW,UAAW5C,EAAQkD,UA9CpD,aAAAhY,EAAA,MAiDC,EAAKiS,SAAL,eAAmB6C,EAAnB,CAA4B/G,eAAgB6J,EAAQxQ,SAAS,MAjD9D,aAmDWF,IAAZ4N,GAAyBA,EAAQ7Q,eAAe,YAAY,EAAKgO,SAAS,CAAEgG,YAAanD,EAAQvC,UAEjGiF,EAAQ,GACR5F,EAAM,IAAIzQ,OAAO2R,KAAKlB,EAAM,IAAIlb,SAAQ,SAAA8U,GAAC,OAAIgM,EAAMhM,GAAK,MACnC,KAArB,EAAKrV,MAAM6L,OAAiB8S,IAC5B,EAAK7C,SAAS,CAAE3M,UAAW,gBAAiBD,iBAAiB,IAC7D,EAAK4M,SAAL,eAAmBuF,EAAnB,CAA0BpQ,SAAS,MAzDlC,uCAjIC,EA+Ld6P,aAAe,WAGX,EAAKhF,SAAS,CAAEsF,UAAU,EAAM1hB,MAFlB,2BAEyB+Z,QADzB,gGAjMJ,EAqMduH,YAAc,WACV,EAAKlF,SAAS,CAAEjQ,MAAO,EAAK7L,MAAMihB,WAClC,EAAKd,gBAvMK,EA0Md5H,aAAe,iDAAA1O,EAAAC,OAAA,yDAEgD,EAAK9J,MADxD6d,EADG,EACHA,UAAWkE,EADR,EACQA,cAAeC,EADvB,EACuBA,aAAc7F,EADrC,EACqCA,cAC5C7I,EAFO,EAEPA,yBAA0BsE,EAFnB,EAEmBA,eAAgBqJ,EAFnC,EAEmCA,SAE1CgB,EAAU,GAEdvB,GAAQngB,SAAQ,SAAA0P,GACZA,EAAK1P,SAAQ,SAAA2W,GACT,IAAK,IAAI7B,KAAK,EAAKrV,MACXqV,IAAM6B,EAAI1K,OAAU0K,EAAItG,UACpB,EAAK5Q,MAAMqV,IAAIrK,OAAOC,OAAOgX,EAAdjX,OAAA,IAAAA,CAAA,GAA0BqK,EAAI,EAAKrV,MAAMqV,WAMxE6I,EAA0B,GAApBpc,OAAO+b,IAAmB/b,OAAOigB,GAAiBjgB,OAAOkgB,IAC/D7D,MAAMD,KAAMA,OAAMnN,GAEtBkR,EAAUjX,OAAOC,OACbgX,EAAS,CAAE9F,gBAAe7I,2BAA0B4K,MAAKtG,mBAE7DqK,EAAUtX,KAAMiU,eAAeqD,GAE/BjX,OAAO2R,KAAKsF,GAAS1hB,SAAQ,SAAAqG,GACJ,KAAjBqb,EAAQrb,IAAgC,SAAjBqb,EAAQrb,IAAoBqb,EAAQrb,WAAaqb,EAAQrb,OAzB7E,EA4BqDqb,GAAxDpW,MA5BG,EA4BIiW,YA5BJ,EA4BiBI,cAAkBC,EA5BnC,uDA8BPlB,GAAyB,KAAbA,IAAiBkB,EAActW,MAAQoV,GAEzC,UACA,aAjCH,aAAApX,EAAA,MAmCLO,KAAMkV,IAAI,qBAAsB,CAAE6C,gBAAezV,MAHzC,UAGgD/K,QAFhD,aAEyDjB,GAAI,EAAKV,MAAM8L,aAnC3E,4BAAAjC,EAAA,MAoCL,EAAKiV,eApCA,QAqCX,EAAKhD,SAAS,CAAE1I,WAAY,EAAGD,YAAa,GAAIK,qBAAiBzC,IACjE,EAAKsQ,QACL,EAAKvF,SAAS,IACd,EAAKoD,QAxCM,uCA1MD,EAsPdhL,YAAc,SAAO+B,EAAOxJ,GAAd,kBAAA5C,EAAAC,OAAA,oDAENmM,IAASA,EAAM,GAFT,qBAIFhC,EAAW,IAAIsL,UACVG,OAAO,YAAa,EAAK1f,MAAM8L,WAEpC0T,EAAK,EAAKxf,MAAM4b,YAEhB3F,GAASA,EAAMhM,OAAS,GATtB,wBAWFuV,EAAGrV,KAAH,eAAWsC,EAAOwJ,EAAM,GAAGxJ,OAXzB,YAAA5C,EAAA,MAYI,EAAKiS,SAAL,aAAgB2D,WAAYD,GAAK/S,EAAOwJ,EAAM,MAZlD,OAcFpB,GAActU,SAAQ,YAAe,IAAZkM,EAAW,EAAXA,KACrB,IAAK,IAAIkQ,KAAQ,EAAK3c,MACd2c,EAAK9a,MAAM4K,IACXwH,EAASyL,OAAOjT,EAAM,EAAKzM,MAAMyM,OAK7C,EAAKqP,SAAS,CAAE7L,KAAMgE,IAtBpB,uCAtPA,EAiRd6K,YAAc,WAAO,IACT7O,EAAS,EAAKjQ,MAAdiQ,KAER7F,KAAM5B,KAAK,mBAAoByH,GAC1BzF,MAAK,SAAAC,GAAG,OAAI5J,QAAQC,IAAI,eACxBie,OAAM,SAAAC,GAAG,OAAIne,QAAQC,IAAIke,OAtRpB,EAyRd3M,YAAc,SAAMzK,GAAN,kBAAAiC,EAAAC,OAAA,uDACFsI,EAAiB,EAAKpS,MAAtBoS,aACJ2J,EAAQ,GAFF,YAAAlS,EAAA,MAGJ,EAAKiS,SAAL,eAAmB,EAAK9b,MAAxB,eAAgC4H,GAAQ,EAAK5H,MAAM4H,OAH/C,OAKVwK,EAAa7R,SAAQ,SAAAyO,IACK,IAAlB,EAAKhP,MAAMgP,IACX+M,EAAM5R,KAAK6E,MAGf+M,EAAM,GAAI,EAAKD,SAAS,CAAElE,eAAgBmE,IACzC,EAAKD,SAAS,CAAElE,eAAgB,KAX3B,sCAzRA,EAuSd1E,aAAe,kBAAM,EAAK4I,SAAS,CAAEzI,WAAY,EAAKrT,MAAMqT,aAvS9C,EAwSd8M,aAAe,kBAAM,EAAKrE,SAAS,CAAEsF,UAAW,EAAKphB,MAAMohB,YAxS7C,EAySdgB,WAAa,kBAAM,EAAKtG,SAAS,CAAE5M,iBAAkB,EAAKlP,MAAMkP,mBAzSlD,EA0SdgQ,MAAQ,kBAAM,EAAKpD,SAAS,CAAEH,cAAe,EAAK3b,MAAM2b,gBA1S1C,EA2Sd0F,MAAQ,WAEJ,IAAIpB,EAAa,GAEjBS,GAAQngB,SAAQ,SAAA0P,GAAI,OAAIA,EAAK1P,SAAQ,SAAAC,GAAE,OAAI,EAAKsb,SAAL,eAAiBtb,EAAGgM,MAAQ,WACvEqI,GAActU,SAAQ,YAAe,IAAZkM,EAAW,EAAXA,KACrBzB,OAAOC,OAAOgV,EAAdjV,OAAA,IAAAA,CAAA,GAA6ByB,OAAOsE,OAExC,EAAK+K,SAAL,eAAmBmE,EAAnB,CAA+BhQ,UAAMc,MAjTrC,EAAKqP,YAAc,SAACpR,GACE,KAAdA,EAAEqR,SACE,EAAKrgB,MAAMqT,WAAW,EAAKH,gBAJ7B,E,mKAmCFhG,EAAUC,KAAK/H,MAAf8H,MACJkF,EAAe,IAEflF,IAASA,EAAMkF,a,uBACflF,EAAMkF,aAAa7R,SAAQ,SAAAyO,GAAC,OAAIhE,OAAOC,OAAOmH,EAAdpH,OAAA,IAAAA,CAAA,GAA+BgE,EAAEpH,MAAO,OAClE0Y,EAAatV,OAAO2R,KAAKvK,G,oBACzBjF,KAAK2O,SAAL,aAAgB1J,aAAckO,GAAelO,K,OAEvD7M,SAASgb,iBAAiB,UAAWpT,KAAKiT,aAAa,G,8FAGlCjT,KAAK2O,SAAS,M,+BAwQ7B,IAAD,EAGsE3O,KAAKnN,MAD1E2b,EAFD,EAECA,aAAcD,EAFf,EAEeA,SAAUyF,EAFzB,EAEyBA,WAAY/N,EAFrC,EAEqCA,WAAYsF,EAFjD,EAEiDA,MAAO0I,EAFxD,EAEwDA,SACrD5N,EAHH,EAGGA,gBAAiBtE,EAHpB,EAGoBA,gBAAiBC,EAHrC,EAGqCA,UAAWgF,EAHhD,EAGgDA,YAAalE,EAH7D,EAG6DA,KAH7D,EAI4B9C,KAAK/H,MAAM8H,MAAtC+F,EAJD,EAICA,SAAUb,EAJX,EAIWA,aAEhB,OAAO,kBAAC,WAAD,KACH,kBAACyF,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAc/E,KAAK,6BAC/C,kBAAC0F,GAAD,CACIrF,WAAYA,EACZsF,MAAOA,EACPyI,WAAYA,EACZ9I,cAAelL,KAAKkL,gBAEvBjF,EAAa,GAAK,kBAACiP,GAAD,CACfhiB,KAAM8M,KAAKnN,MACXiT,SAAUA,EACVb,aAAcA,EACdiG,cAAelL,KAAKkL,cACpBwI,eAA+B,IAAfzN,EAChBrD,YAAa5C,KAAK4C,YAClBC,WAAY7C,KAAK6C,WACjB8Q,aAAc3T,KAAK2T,aACnB5N,aAAc/F,KAAK+F,aACnBb,YAAalF,KAAKkF,cAEN,IAAfe,GAAoB,kBAAC6B,GAAD,CACjBE,gBAAgB,WAChBjB,YAAa/G,KAAK+G,YAClBC,YAAaA,EACbF,SAAUhE,IAEE,IAAfmD,GAAoB,kBAAC,GAAD,CACjB+B,gBAAgB,WAAWc,MAAO9I,KAAKnN,MAAMiQ,KAC7CiF,UAAWL,GAAexU,KAAM8M,KAAKnN,MACrCiQ,KAAMyQ,KAGTlN,GAAmB,kBAAC4E,GAAD,CAChBhF,WAAYA,EACZkF,SAAUI,EAAMzO,OAAS,EACzBsO,aAAcpL,KAAKoL,aACnBF,cAAelL,KAAKkL,gBAExB,kBAAC,GAAD,CAAYiC,KAAMqB,EAAcvc,MAAO+N,KAAK+R,MAAO1E,IAAKkB,IACxD,kBAAC,GAAD,CACIpB,KAAM8G,EACNhiB,MAAO+N,KAAKgT,aACZc,SAAU9T,KAAKnN,MAAMihB,SACrBlR,YAAa5C,KAAK4C,YAClBmE,YAAa/G,KAAK+G,YAClB8M,YAAa7T,KAAK6T,YAClB7M,YAAaA,EACbF,SAAUhE,IAEbf,GAAmB,kBAACyL,GAAD,CAAaL,KAAMpL,EAAiB9P,MAAO+N,KAAKiV,WAAYjT,UAAWA,EAAW2L,cAAe3N,KAAKnN,MAAMoP,iB,GA/WrHpB,c,+BCtBV4D,GAAa,CACtB,CACIpF,MAAO,aACP1E,MAAO,aACPuH,cAAc,EACdC,SAAU,aACVlP,WAAY,cACZ+Q,UAAW,IAEf,CACI3E,MAAO,UACP1E,MAAO,aACPuH,cAAc,EACdC,SAAU,UACVlP,WAAY,UACZ+Q,UAAW,IAEf,CACIjR,KAAM,OACNsM,MAAO,cACP1E,MAAO,sBAEX,CACI5H,KAAM,OACNsM,MAAO,aACP1E,MAAO,eCJT1F,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnC0C,MAAO,CACHlC,QAASR,EAAMgB,QAAQ,GACvB+I,UAAW,SACXzM,MAAO0C,EAAMW,QAAQ8P,KAAKC,UAC1BnD,OAAQvN,EAAMgB,QAAQ,IAE1B5D,MAAO,CACHE,MAAO,OACPqH,WAAY,IACZF,SAAU,SACVsF,UAAW,SACXhJ,aAAc,QAElBkM,UAAW,CACPC,WAAYlN,EAAMgB,QAAQ,GAC1BmM,YAAanN,EAAMgB,QAAQ,GAC3BkB,MAAO,IACPuC,SAAU,SACV2I,UAAW,OACXrD,UAAW,UAEfiW,KAAM,CACFzS,OAAQvN,EAAMgB,QAAQ,SAIf,SAASif,GAAT,GACkF,IAQzF1D,EAT4B5L,EAC4D,EAD5DA,SAAU5S,EACkD,EADlDA,KAAMmiB,EAC4C,EAD5CA,eAAgBzS,EAC4B,EAD5BA,YAAaC,EACe,EADfA,WAC7EyS,EAA4F,EAA5FA,SAAUC,EAAkF,EAAlFA,gBAAiBxO,EAAiE,EAAjEA,YAAaqE,EAAoD,EAApDA,aAAcoK,EAAsC,EAAtCA,oBAAqBC,EAAiB,EAAjBA,cAEnEpP,EACsCnT,EADtCmT,gBAAiB3H,EACqBxL,EADrBwL,MAAO9K,EACcV,EADdU,QAAS8hB,EACKxiB,EADLwiB,WAAYpH,EACPpb,EADOob,MAAOrG,EACd/U,EADc+U,gBACxDwH,EAA0Cvc,EAA1Cuc,aAAczI,EAA4B9T,EAA5B8T,YAAa2O,EAAeziB,EAAfyiB,WAEzBzd,EAAUjD,KAAe4C,EAA2BK,EAA3BL,MAAOuK,EAAoBlK,EAApBkK,UAAW+S,EAASjd,EAATid,KAE7C9gB,EAAS,GAcb,OAXI4T,EAAgBtH,eAAe,UAAW+Q,EAAYzJ,EACjDwH,GAAgBA,EAAapb,SAAQqd,EAAYjC,GAEtDiC,IACIA,EAAUrd,OAAO,IAA8B,OAAxBqd,EAAUrd,OAAO,KAAaA,EAASqd,EAAUrd,OAAOuhB,aACrEhS,IAAVlF,GAAuBA,EAAM5B,OAAS,GAAKzI,EAAO,KACnBA,EAAV,kBAAVqK,EAA6BgT,EAAUrd,OAAOqa,QAAO,SAAAxN,GAAC,OAAIA,EAAE6O,cAAcrb,MAAMgK,EAAMqR,kBAAgB6F,OACnGlE,EAAUrd,OAAOqa,QAAO,SAAAxN,GAAC,OAAIA,EAAExM,MAAMgK,MAAQkX,SAK/D,kBAAC,WAAD,KACI,yBAAK1jB,MAAO,CAAEmF,MAAO,OAAQH,QAAS,OAAQ2e,cAAe,WACzD,kBAACnL,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAc/E,KAAK,YAC/C,kBAAC4N,GAAD,CACItgB,KAAMA,EACN4S,SAAUA,EACVlD,YAAaA,EACbC,WAAYA,IAEfwD,GACG,kBAACM,GAAA,EAAD,CAAOrU,UAAWuF,GACd,wBAAIvF,UAAU,gBAAd,+BACA,kBAACqQ,GAAD,CACIG,KAAM2B,GACNvR,KAAMA,EACN2P,WAAYA,EACZD,YAAaA,IAEhB8O,GACG,yBAAKpf,UAAU,aACX,0BAAMI,QAAS,kBAAM8iB,MAArB,oFAKfnP,IAAoBqL,GAAa2D,IAC9B,kBAAC1O,GAAA,EAAD,CAAOrU,UAAWuF,GACd,wHACA,6BAASvF,UAAU,aACf,6BACI,kBAAC+Q,GAAA,EAAD,CACIQ,WAAY,CACRvE,KAAM,aACNyE,KAAM,SAEVL,gBAAiB,CACbxR,MAAO,CAAE0H,SAAU,WAEvBe,MAAM,iBACNrI,UAAW8P,EACXhI,MAAOsb,EACPlb,SAAUoI,EACVU,OAAQT,IAEZ,kBAAC,GAAD,CACI5P,WAAYqb,EACZnM,SAAS,QACT/H,MAAOsb,IAEX,kBAAC7c,EAAA,EAAD,CACIC,KAAK,QACLG,QAAQ,YACR3G,UAAW4F,EAAQoO,OACnBpU,MAAO,CAAEwQ,OAAQ,iBACjBhQ,QAAS,kBAAM4iB,EAASI,KAExB,kBAAC,KAAD,MAPJ,eAWJ,6BACI,kBAACrS,GAAA,EAAD,CACIQ,WAAY,CACRvE,KAAM,SAEVoE,gBAAiB,CACbxR,MAAO,CAAE0H,SAAU,WAEvBe,MAAM,UACNrI,UAAW8P,EACXhI,MAAOsE,GAAS,GAChBlE,SAAUoI,EACVU,OAAQT,IAEZ,kBAAC,IAAD,CAAQ3Q,MAAO,CAAE8E,UAAW,WAEhC,kBAAC6P,GAAD,CACIvH,KAAK,aACLwH,SAAU6O,EACV3O,YAAaA,EACbD,YAAaA,EACbE,QAAQ,KAKhB,yBAAK3U,UAAU,YAAYJ,MAAO,CAAEqD,eAAgB,aAAcI,QAAS,SACvE,0BAAMjD,QAAS,kBAAM+iB,MAArB,8CAMH/D,GAAaA,EAAUrd,OAAO,GAE3B,yBAAKnC,MAAO,CAAEwQ,OAAQ,SAAtB,kCACiCgP,EAAU9d,SAG3C,yBAAK1B,MAAO,CAAE8E,UAAW,UAE5B0a,GAAa9d,GAAWA,EAAQkJ,OAAS,GAAKzI,EAAO,IAAMA,EAAOb,KAAI,SAACkL,EAAOrF,GAAR,OACnE,kBAACyc,GAAA,EAAD,CACIrc,IAAKJ,EACLsB,MAAO+D,EACPqX,SAAU,kBAAMR,EAAgB7W,IAChCpM,UAAW6iB,EACX1iB,MAAM,UACNwG,QAAQ,kBAK3BrF,IAAY8d,GAAa2D,IACtB,yBAAKnjB,MAAO,CAAE+I,UAAW,OAAQ9I,SAAU,SACvC,kBAAC0G,EAAA,EAAD,CACIC,KAAK,QACLrG,MAAM,UACNH,UAAU,aACV2G,QAAQ,YACRvG,QAAS,kBAAM0Y,MALnB,UAQW,2CARX,IAQsC,kBAAC,KAAD,SCjM3C,SAAS4K,GAAT,GAAoE,IAA3CzjB,EAA0C,EAA1CA,MAAOW,EAAmC,EAAnCA,KAAM8G,EAA6B,EAA7BA,MAAOkL,EAAsB,EAAtBA,YAAajT,EAAS,EAATA,MAE/DgkB,EAAaC,gBAAK,kBAAM,iCAE9B,OACI,kBAAC,WAAD,CAAUC,SAAU,yBAAK7jB,UAAU,WAC/B,yBAAK0J,IAAI,sBAAsBI,IAAI,GAAGxB,OAAO,OAAOvD,MAAM,SAC1D,gDAEA,kBAAC4e,EAAD,CACI1jB,MAAOA,EACPW,KAAMA,EACN8G,MAAOA,EACPkL,YAAaA,EACbjT,MAAOA,KCLR,SAASmkB,GAAT,GAAqI,IAA1GjJ,EAAyG,EAAzGA,KAAMlb,EAAmG,EAAnGA,MAAOM,EAA4F,EAA5FA,MAAO8jB,EAAqF,EAArFA,cAAeC,EAAsE,EAAtEA,MAAOC,EAA+D,EAA/DA,OAAQC,EAAuD,EAAvDA,YAAaC,EAA0C,EAA1CA,WAAY7T,EAA8B,EAA9BA,YAAa8T,EAAiB,EAAjBA,cAE9H,OACI,6BACI,kBAAC5I,GAAA,EAAD,CAAQX,KAAMA,EAAMX,QAASva,EAAO8b,kBAAgB,qBAChD,kBAACC,GAAA,EAAD,CAAaza,GAAG,qBAAqBhB,GACrC,kBAAC0b,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACKmI,GAEL,yBAAK/jB,UAAU,cACVikB,GAAU,yBAAKjkB,UAAU,eACtB,kBAAC+Q,GAAA,EAAD,CACI7I,SAAUgc,EACVpc,MAAOkc,EACP3b,MAAM,sBACN6H,QAAQ,EACRkB,gBAAiB,CAAEC,QAAQ,GAC3BU,YAAa,CACTnS,MAAO,CACH0H,SAAU,SAAUnH,MAAO,OAAQqH,WAAY,IAC/CzC,MAAO,IAAKuD,OAAQ,UAI3B2b,EAAO/iB,KAAI,WAAY6F,GAAZ,IAAGid,EAAH,EAAGA,MAAH,OACR,kBAAC9R,GAAA,EAAD,CAAU/K,IAAKJ,EAAGe,MAAOkc,GACpBA,QAKjB,yBAAKhkB,UAAU,eACX,kBAAC+Q,GAAA,EAAD,CACI+K,WAAS,EACT1L,OAAO,QACPpD,KAAK,aACL3E,MAAM,UACN5H,KAAK,OACLyH,SAAUoI,EACVxI,MAAOqc,EACPrS,WAAS,MAKrB,6BAAM,6BAAM,8BAGhB,kBAAC+J,GAAA,EAAD,KACI,kBAACtV,EAAA,EAAD,CAAQnG,QAAST,EAAOQ,MAAM,WAA9B,YAGA,kBAACoG,EAAA,EAAD,CAAQnG,QAAS,kBAAMgkB,KAAiBjkB,MAAM,WAA9C,gB,IC/Cd2iB,G,YAEF,aAAe,IAAD,+BACV,iDASJviB,MAAQ,CACJ6iB,WAAY,GACZzN,gBAAiB,GACjBjC,YAAa,GACb9H,WAAY,GACZqQ,SAAU,qBACVC,cAAc,EACdxH,YAAa,6CACbyO,eAAe,GAlBL,EA6BdkB,eAAiB,SAAOrX,EAAMsX,GAAb,oDAAAla,EAAAC,OAAA,qDAGe,EAAK1E,MAAM8H,MAAjChM,EAHO,EAGPA,QAASQ,EAHF,EAGEA,SAHF,EAI2B,EAAK1B,MAAvCwT,EAJO,EAIPA,gBAAiBoJ,EAJV,EAIUA,aACnBvb,EALS,YAKDH,EAAQ2a,QAAO,SAAAU,GAAE,OAAIA,EAAGJ,gBAAkB3I,EAAgB2I,kBAClEV,EAAQ/Z,EAASma,QAAO,SAAAjb,GAAC,OAAIA,EAAEub,gBAAkB3I,EAAgB2I,iBAGjEK,EATS,eASUnb,EAAED,MAAK,SAAAC,GAAC,OAAIA,EAAEoL,KAAUsX,MAC3CtH,EAVS,eAUapb,EAAED,MAAK,SAAAC,GAAC,OAAIA,EAAEoL,KAAUsX,GAAc1iB,EAAEN,UAAY,EAAKf,MAAMe,YACrFijB,EAAwB,GACxBC,EAAgB,GAChBC,EAAkB,GAET,YAATzX,IACA2I,EAAkBoH,EAClBwH,EAAwBvI,EAAMI,QAAO,SAAAjb,GAAC,OAAIA,EAAEG,UAAYgjB,KAEpDnH,GAAgBA,EAAa7b,SAAW6b,EAAa7b,UAAYgjB,GACjE,EAAKjI,SAAS,CAAEc,cAAc,EAAOjR,YAAa,GAAIC,WAAY,MAI7D,eAATa,IACA2I,EAAkBqH,EAClBuH,EAAwBvI,EAAMI,QAAO,SAAAjb,GAAC,OAAIA,EAAEG,UAAY,EAAKf,MAAMe,cAEnEqU,GAAmBA,EAAgBzJ,aAAeyJ,EAAgBxJ,YA5BzD,wBA6BToY,EAAsBzjB,SAAQ,SAAAK,GAC1BqjB,EAAc9Z,KAAKvJ,EAAEiL,OACrBqY,EAAgB/Z,KAAKvJ,EAAEkL,cAG3BsJ,EAAgB5T,OAASyiB,EACzB7O,EAAgB1T,SAAWwiB,EAErBvY,EAAckD,KAAOuG,EAAgBzJ,aAAa+Q,OAAO,cAC3D9Q,EAAawJ,EAAgBxJ,WAAWyE,WAAWpB,MAAM,EAAG,IAC1D5D,GAvCG,EAuC0B+J,GAA7B/J,WAAYE,EAvCT,EAuCSA,aAvCT,aAAA1B,EAAA,MAwCH,EAAKiS,SAAS,CAAEzQ,aAAYE,eAAcI,cAAaC,aAAYwJ,qBAxChE,0CA2C+B,IAAxCpK,OAAO2R,KAAKvH,GAAiBnL,QAAc,EAAK6R,SAAS,CAAE1G,iBAAiB,EAAOzJ,YAAa,GAAIC,WAAY,KA3CvG,uCA7BH,EA2EdmE,YAAc,SAAMf,GAAN,kEAAAnF,EAAAC,OAAA,gDAEJvC,EAAUyH,EAAEkN,OAAZ3U,MAEAkF,EAASuC,EAAEkN,OAAXzP,KAJI,EAKgC,EAAKrH,MAAM8H,MAA/CxL,EALI,EAKJA,SAAUuR,EALN,EAKMA,SAAU7H,EALhB,EAKgBA,YALhB,EAOuC,EAAKpL,MADhDic,EANI,EAMJA,cAAezI,EANX,EAMWA,gBAAiBiI,EAN5B,EAM4BA,MAAOrG,EANnC,EAMmCA,gBAAiBrU,EANpD,EAMoDA,QAAS4K,EAN7D,EAM6DA,YAC/DC,EAPE,EAOFA,WAAYgR,EAPV,EAOUA,aAAcvR,EAPxB,EAOwBA,WAElC,EAAKyQ,SAAL,eAAiBrP,EAAOlF,IATd,KAWFkF,EAXE,OAYD,gBAZC,OA+BD,YA/BC,QAmCD,eAnCC,QA2CD,eA3CC,6BAaE+G,EAAkBP,EAAS7R,MAAK,SAAA4N,GAAC,OAAIA,EAAEmE,cAAgB5L,MAbzD,qCAAAsC,EAAA,MAgBQ,EAAKiS,SAAS,CAAE3I,YAAaK,EAAgBL,YAAaK,qBAhBlE,QAiBMjM,IAAUiM,EAAgBL,aAAa,EAAK2I,SAAS,CAAEtI,qBAAiBzC,IAExE0K,EAAQ/Z,EAASma,QAAO,SAAAjb,GAAC,OAAIA,EAAEwb,UAAY,EAAKpc,MAAMmT,eACtDkJ,EAAqBJ,EAAcJ,QAAO,SAAA1a,GAAM,OAAIA,EAAOib,UAAY,EAAKpc,MAAMmT,eAClFgR,EAAY1I,EAAM9a,KAAI,SAAAge,GAAO,OAAIA,EAAQ9S,SAAOkX,OAEpD,EAAKjH,SAAS,CAAEL,QAAOva,QAASmb,EAAoB8H,cAvBtD,wBA0BE,EAAKrI,SAAS,CAAEtI,qBAAiBzC,EAAW0K,MAAO,KACnD,EAAK2I,cA3BP,mDAgCF,EAAKN,eAAe,UAAWvc,GAhC7B,oCAoCF,EAAKuc,eAAerX,EAAMlF,IACpB8c,EAAqBjZ,EAAYhK,MAAK,SAAAkK,GAAE,OAAIA,EAAGD,aAAe9D,OAEhE,EAAKuU,SAAS,CAAEvQ,aAAc8Y,EAAmB3jB,KAvCnD,oCA4CI4jB,EAAe7I,EAAMra,MAAK,SAAAR,GAAC,OAAIA,EAAEiL,QAAUtE,OAC/B,EAAKuU,SAAS,CAAEwI,iBA7ChC,wCAsDJC,EADS,CAAC,aAAc,UAAW,cAAe,cAC7B3W,OAAM,SAAAwI,GAAC,OAAI,EAAKpW,MAAMoW,IAAwB,KAAlB,EAAKpW,MAAMoW,MAErD,gBAAT3J,GAA2BmQ,IAAgB2H,GAAuD,IAAxCvZ,OAAO2R,KAAKvH,GAAiBnL,OAxDjF,wBAyDF2S,EAAe,IACbyH,EAAqBjZ,EAAYhK,MAAK,SAAAkK,GAAE,OAAIA,EAAGD,aAAe,EAAKrL,MAAMqL,iBACvDE,EAAe8Y,EAAmB3jB,IAE1DsK,OAAOC,OAAO2R,EACV,CACIR,QAAS5I,EAAgBL,YACzBgJ,cAAe3I,EAAgB2I,cAC/Bpb,UAASsK,aAAYE,eAAcI,cAAaC,aAAYpK,OAAQ,GAAIE,SAAU,KAjEpF,aAAAmI,EAAA,MAoEA,EAAKiS,SAAS,CAAEc,eAAcrR,kBApE9B,uCA3EA,EAmJdyE,WAAa,SAAAhB,GAGL,IAAE5D,EAAgB,EAAKhG,MAAM8H,MAA3B9B,YAAF,EACiD,EAAKpL,MAApDqL,EADF,EACEA,WAAY4Q,EADd,EACcA,cAAezI,EAD7B,EAC6BA,gBAC3B/G,EAASuC,EAAEkN,OAAXzP,KAEN,GAAa,eAATA,EAAuB,CACvB,IAAI4P,EAAqB,GAEnBmI,EAAQpZ,EAAYhK,MAAK,SAAAC,GAAC,OAAIA,EAAEgK,WAAW6R,cAAcrb,MAAMwJ,EAAW6R,kBAC5EsH,GAASnZ,EAAWpB,OAAS,GAAG,EAAK6R,SAAS,CAAEzQ,WAAYmZ,EAAMnZ,cACjEmZ,GAASnZ,EAAWpB,OAAS,GAAG,EAAK6R,SAAS,CAAE5M,iBAAiB,EAAMC,UAAW,qBAAsB9D,gBAAY0F,IAErHyC,IAAoBnI,GACpBgR,EAAqBJ,EAAcJ,QAAO,SAAA1a,GAAM,OAAIA,EAAOib,UAAY5I,EAAgBL,eACvF,EAAK2I,SAAS,CAAE5a,QAASmb,KAEnB7I,GAAkC,KAAfnI,EAIpBmI,GAAkC,KAAfnI,IACxBgR,EAAqBJ,EAChBJ,QAAO,SAAA4I,GAAG,OAAIA,EAAIrI,UAAY5I,EAAgBL,eAC9C0I,QAAO,SAAA4I,GAAG,OAAIA,EAAIpZ,aAAeA,KACtC,EAAKyQ,SAAS,CAAE5a,QAASmb,MAPzBA,EAAqBJ,EAAcJ,QAAO,SAAAxa,GAAC,OAAIA,EAAEgK,aAAeA,KAChE,EAAKyQ,SAAS,CAAE5a,QAASmb,KASjC,GAAa,gBAAT5P,GAAmC,eAATA,EAAuB,CACjD,IAAM+B,EAASL,KACXK,EAAQ,EAAKsN,SAAS,CAAEtN,WACvB,EAAKsN,SAAS,CAAEtN,YAAQuC,MAnLvB,EAsLd6R,cAAgB,WAAO,IAKfphB,EALc,EAGiC,EAAKxB,MAAlDoV,EAHY,EAGZA,gBAAiBwH,EAHL,EAGKA,aAAcuH,EAHnB,EAGmBA,UAEfO,EAAe,GACrC,GAAItP,EAAJ,OAA0C,CAACA,EAAgB5T,OAAQ4T,EAAgB1T,UAA7DF,EAAtB,UACA,GAAIob,EAAJ,OAAuC,CAACA,EAAapb,OAAQob,EAAalb,UAAvDF,EAAnB,UAEA2iB,EAAU5jB,SAAQ,SAAA8N,GACdrD,OAAOC,OAAOyZ,EAAd1Z,OAAA,IAAAA,CAAA,GAA+BqD,GAAI,OAEvC7M,EAAOjB,SAAQ,SAAA8N,GACXrD,OAAOC,OAAOyZ,EAAd1Z,OAAA,IAAAA,CAAA,GAA+BqD,GAAI,OAGvC,EAAKyN,SAAS,CAAE4I,eAAcC,cAAenjB,EAAQohB,eAAgB,EAAK5iB,MAAM4iB,iBAtMtE,EAyMdvQ,YAAc,SAAMuS,GAAN,oBAAA/a,EAAAC,OAAA,mDAGJ2R,EAAU,EAAKzb,MAAfyb,MACF6I,EAAe7I,EAAMra,MAAK,SAAAR,GAAC,OAAIA,EAAEiL,QAAU+Y,MAE3CF,EANM,eAMc,EAAK1kB,MAAM0kB,eACtBE,IAAUF,EAAaE,IAER,IAAxBF,EAAaE,GATP,mCAAA/a,EAAA,MAUA,EAAKiS,SAAS,CAAEwI,eAAcI,kBAV9B,OAWN,EAAKjC,SAASmC,GAXR,uBAcL,EAAKlC,gBAAgBkC,GAdhB,uCAzMA,EA0NdnC,SAAW,SAAMoC,GAAN,kCAAAhb,EAAAC,OAAA,qDAE2B,EAAK9J,MAA/BskB,EAFD,EAECA,aAAcvjB,EAFf,EAEeA,QAFf,EAGiC,EAAKf,MAAvCoV,EAHC,EAGDA,gBAAiBwH,EAHhB,EAGgBA,aAElBiI,GAA6B,KAAfA,EALZ,yDAQc9T,IAAjBuT,IAA2E,IAA7CA,EAAaxW,eAAe,aARvD,uBASH,EAAKgO,SAAS,CAAE5M,iBAAiB,EAAMC,UAAW,kBAT/C,kBAUI,MAVJ,eAWwB4B,IAApBqE,IAAiCA,EAAgBtH,eAAe,YAAawW,EAAaxW,eAAe,SAX7G,yBAaWiD,IADAqE,EAAgB5T,OAAOJ,MAAK,SAAAiN,GAAC,OAAIA,IAAMiW,EAAazY,SAZ/D,wBAcC,EAAKiQ,SAAS,CAAE5M,iBAAiB,EAAMC,UAAW,gBAdnD,kBAeQ,MAfR,YAmBHpO,EAnBG,oBAoBEqU,EAAgB5T,QAAW4T,EAAgB1T,SApB7C,wBAsBKpB,EAtBL,eAsBmBsc,IACXpb,OAAO2I,KAAK0a,GACnBvkB,EAAOoB,SAASyI,KAAKma,EAAaxY,WAxBnC,aAAAjC,EAAA,MA0BO,EAAKiS,SAAS,CAAEc,aAActc,KA1BrC,uCA8BK4W,EA9BL,eA8BgB9B,GACT5T,EAAqB0V,EAArB1V,OAAQE,EAAawV,EAAbxV,SAEdF,EAAO2I,KAAK0a,GACZnjB,EAASyI,KAAKma,EAAaxY,WAC3BoL,EAAI1V,OAASA,EACb0V,EAAIxV,SAAWA,EApChB,aAAAmI,EAAA,MAsCO,EAAKiS,SAAS,CAAE1G,gBAAiB8B,KAtCxC,QAwCC3R,SAAS6X,kBAAkB,cAAc,IAAI7X,SAAS6X,kBAAkB,cAAc,GAAGC,QAC7F,EAAKvB,SAAS,CAAE+G,WAAY,KAzCzB,uCA1NG,EAuQdH,gBAAkB,SAAMmC,GAAN,4CAAAhb,EAAAC,OAAA,qDAGW,EAAK9J,MAAxBe,EAHQ,EAGRA,QAAS0a,EAHD,EAGCA,MACX6I,EAAe7I,EAAMra,MAAK,SAAAR,GAAC,OAAIA,EAAEiL,QAAUgZ,KAG3CzP,EAPU,eAOa,EAAKpV,MAAMoV,iBAChC5T,EAAqB4T,EAArB5T,OAAQE,EAAa0T,EAAb1T,WACVkb,EATU,eASU,EAAK5c,MAAM4c,iBAEfA,EAAa7b,QAXnB,wBAYN+jB,EAZM,YAYUlI,EAAapb,QAC7BujB,EAbM,YAaYnI,EAAalb,UAG/B8E,EAAIse,EAAUE,QAAQH,GACtBxP,EAAI0P,EAAYC,QAAQV,EAAaxY,WAEzC8Q,EAAapb,OAAOC,OAAO+E,EAAG,GAC9BoW,EAAalb,SAASD,OAAO4T,EAAG,GApBtB,YAAAxL,EAAA,MAqBJ,EAAKiS,SAAS,CAAEc,kBArBZ,gDAyBRjG,EAAO,CACTjK,MAAO,UACP0S,OAAQ,UACR7X,MAAO,2BACP5F,QAAS,aACT0d,IAAK,CAACiF,EAAaxY,YA9BT,aAAAjC,EAAA,MAiCRO,KAAMkV,IAAI,wBAAyB3I,IAjC3B,eAoCVnQ,EAAIhF,EAAOwjB,QAAQH,GACnBxP,EAAI3T,EAASsjB,QAAQV,EAAaxY,WArCxB,aAAAjC,EAAA,MAuCR,EAAKzE,MAAM6f,gBAAgBlkB,EAASyF,EAAG6O,IAvC/B,eAyCdD,EAAgB5T,OAAOC,OAAO+E,EAAG,GACjC4O,EAAgB1T,SAASD,OAAO4T,EAAG,GA1CrB,aAAAxL,EAAA,MA4CR,EAAKiS,SAAS,CAAE1G,qBA5CR,yEAvQJ,EAuTd8P,cAAgB,WAAO,IAAD,EAEiC,EAAKllB,MAAlDoV,EAFY,EAEZA,gBAAiBzJ,EAFL,EAEKA,YAAaC,EAFlB,EAEkBA,WAC9BlL,EAAiB0U,EAAjB1U,GAAIgB,EAAa0T,EAAb1T,SAGNyjB,EAAe,GACbC,GAAoBvW,KAAOlD,GAAa0Z,OAAOxW,KAAOuG,EAAgBzJ,cACtE2Z,GAAuBzW,KAAOjD,GAAYyZ,OAAOxW,KAAOuG,EAAgBxJ,aAE9E,GAAKwZ,GAAqBE,EAA1B,CAEIF,IAAkBD,EAAaI,aAAe5Z,GAC9C2Z,IAAqBH,EAAavZ,WAAaA,GAEnD,IAAM4Z,EAAa,CACf9kB,KACA+kB,QAASza,OAAO2R,KAAKwI,GACrBA,eACAO,WAAYhkB,GAEhB0I,KAAMkV,IAAI,qBAAsBkG,GAC3Bhb,MAAK,SAAAE,GAAC,OAAI7J,QAAQC,IAAI4J,EAAErK,WA7UnB,EAgVdkY,aAAe,+DAAA1O,EAAAC,OAAA,qDAG6D,EAAK9J,MAAvEqL,EAHK,EAGLA,WAAY+J,EAHP,EAGOA,gBAAiBwH,EAHxB,EAGwBA,aAAcpO,EAHtC,EAGsCA,OAAQoV,EAH9C,EAG8CA,WACnDliB,EAAa0T,EAAb1T,SAEF+Z,EANO,YAMK,EAAKzb,MAAMyb,OACvBiK,EAAa,IAEblX,IAAUA,EAAO,GATV,uBAUP,EAAKsN,SAAL,eAAmB,EAAK9b,MAAxB,GAAkCmO,GAAiB,cAV5C,6BAaN9C,GAA6B,KAAfA,EAbR,uBAcP,EAAKyQ,SAAS,CAAE5M,iBAAiB,EAAMC,UAAW,qBAAsB9D,gBAAY0F,IAd7E,+BAmBiE,EAAK/Q,MAAzEuL,EAnBG,EAmBHA,aAAcxK,EAnBX,EAmBWA,QAAS4K,EAnBpB,EAmBoBA,YAAaC,EAnBjC,EAmBiCA,WAAY4H,EAnB7C,EAmB6CA,gBAEpDmS,EAAY,CACZ5kB,UACAoe,cAAe5T,EACfqa,eAAgBpS,EAAgB2I,eAG9BqC,EAAe3P,KAAOlD,EAAa,cAAc,GAAMmD,UACzD2P,EAAY5P,KAAOjD,EAAY,cAAc,GAAMkD,UAEnD0P,IAAcmH,EAAUJ,aAAe5Z,GACvC8S,IAAWkH,EAAU/Z,WAAaA,GAGjCwJ,EAlCM,wBAmCHwH,IAAc8I,EAAa9I,EAAalb,UAnCrC,aAAAmI,EAAA,MAoCDO,KAAM5B,KAAK,iBAAkBmd,IApC5B,YAuCPvQ,EAvCO,wBAwCPsQ,EAAatQ,EAAgB1T,SAxCtB,aAAAmI,EAAA,MAyCD,EAAKqb,iBAzCJ,eA6CPvO,EAAO,CACPjK,MAAO,UACP0S,OAAQ,UACR7X,MAAOxG,EACPY,QAAS,aACT0d,IAAKqG,EACLA,WAAYhkB,GAGZkiB,GAAcxO,GAAmBA,EAAgB1U,IACjD0J,KAAMkV,IAAI,2BAA4B,CAAE5e,GAAI0U,EAAgB1U,GAAImlB,iBAAkBjC,IAvD3E,aAAA/Z,EAAA,MA0DLO,KAAMkV,IAAI,wBAAyB3I,GACpCnM,MAAK,SAAAC,GAAG,OAAI5J,QAAQC,IAAI2J,EAAIpK,UA3DtB,QA6DXob,EAAQA,EAAM9a,KAAI,SAAAC,GAOd,OANA8kB,EAAWnlB,SAAQ,SAAAG,GACf,OAAIE,EAAEkL,YAAcpL,GAChBE,EAAEG,QAAUA,EACLH,GACGA,KAEXA,KAGX,EAAKse,QACL,EAAKJ,cACL,EAAKsF,cACL,EAAKtI,SAAS,CAAEL,UA1EL,uCAhVD,EA6ZdvH,YAAc,SAAMmC,GAAN,gBAAAxM,EAAAC,OAAA,uDACNmK,EAAW,IAAIsL,UACVG,OAAO,aAAcrJ,EAAK,IAFzB,YAAAxM,EAAA,MAGJ,EAAKiS,SAAS,CAAE3H,YAAakC,EAAK,GAAG5J,KAAMqW,WAAY7O,KAHnD,sCA7ZA,EAmad6K,YAAc,6CAAAjV,EAAAC,OAAA,qDAC2B,EAAK9J,MAAlCe,EADE,EACFA,QAASyS,EADP,EACOA,gBAEbsS,EAAiB,IAAIvG,UAErB,EAAKvf,MAAM8iB,WALL,iBASN,IAHAgD,EAAepG,OAAO,YAAa,cACnCoG,EAAepG,OAAO,UAAW3e,GACjC+kB,EAAepG,OAAO,YAAalM,EAAgB2I,eAR7C,4BASN,EAAiB,EAAKnc,MAAM8iB,WAAWvO,UAAvC,+CAASC,EAAyC,QAC9CsR,EAAepG,OAAOlL,EAAK,GAAIA,EAAK,IAVlC,6PAAA3K,EAAA,MAYAO,KAAM5B,KAAK,qBAAsBsd,GAClCtb,MAAK,SAAAE,GAAC,OAAI7J,QAAQC,IAAI4J,EAAErK,UAbvB,QAcN,EAAK6e,QAdC,4EAnaA,EAsbd2E,cAAgB,kBAAM,EAAK/H,SAAS,CAAE/a,QAAS,EAAKf,MAAM4jB,WAAYmC,eAAe,KAtbvE,EAubd5F,aAAe,kBAAM,EAAKrE,SAAS,CAAEiK,eAAgB,EAAK/lB,MAAM+lB,iBAvblD,EAwbd7G,MAAQ,kBAAM,EAAKpD,SAAS,CAAEH,cAAe,EAAK3b,MAAM2b,gBAxb1C,EAybdyG,WAAa,kBAAM,EAAKtG,SAAS,CAAE5M,iBAAkB,EAAKlP,MAAMkP,mBAzblD,EA0bdkV,YAAc,WACV,EAAKtI,SAAS,CACV1G,gBAAiB,GAAI/J,WAAY,GAAIuR,aAAc,GACnD7b,QAAS,GAAI4K,YAAa,GAAIC,WAAY,GAAIkX,WAAY,KAC1D3O,YAAa,gDA5bjB,EAAKiM,YAAc,SAACpR,GACE,KAAdA,EAAEqR,UACE,EAAKrgB,MAAM+lB,eAAe,EAAK5F,eAC/B,EAAKngB,MAAM4iB,eAAe,EAAK9G,SAAS,CAAE8G,eAAe,MAL3D,E,mFAsBVzV,KAAK2O,SAAS,CACV1Q,YAAa+B,KAAK/H,MAAM8H,MAAX,YACb+O,cAAe9O,KAAK/H,MAAM8H,MAAX,UAEnB3H,SAASgb,iBAAiB,UAAWpT,KAAKiT,aAAa,K,+BAwajD,IAAD,SAEuFjT,KAAKnN,MAA3FkP,EAFD,EAECA,gBAAiBC,EAFlB,EAEkBA,UAAW4W,EAF7B,EAE6BA,cAAenD,EAF5C,EAE4CA,cAAeuB,EAF3D,EAE2DA,UAAWO,EAFtE,EAEsEA,aACrEzR,EAAa9F,KAAK/H,MAAM8H,MAAxB+F,SAEAuP,EAAiB5Q,GAClBhE,OAAM,SAAAyH,GAAC,OAAI,EAAKrV,MAAM8N,eAAeuH,EAAE7I,QAAkC,KAAxB,EAAKxM,MAAMqV,EAAE7I,UAEnE,OACI,kBAAC,WAAD,KACI,kBAAC,GAAD,CACInM,KAAM8M,KAAKnN,MACXiT,SAAUA,EACVuP,eAAgBA,EAChBzS,YAAa5C,KAAK4C,YAClBC,WAAY7C,KAAK6C,WACjByS,SAAUtV,KAAKsV,SACfC,gBAAiBvV,KAAKuV,gBACtBC,oBAAqBxV,KAAKgT,aAC1BjM,YAAa/G,KAAK+G,YAClBqE,aAAcpL,KAAKoL,aACnBqK,cAAezV,KAAKyV,gBAEvBmD,GAAiB,kBAACxC,GAAD,CACdjJ,KAAMyL,EACN3mB,MAAO+N,KAAKgT,aACZzgB,MAAM,kCACN8jB,cAAc,gDACdzT,YAAa5C,KAAK4C,YAClB8T,cAAe1W,KAAK0W,gBAGpBjB,GACA,kBAACO,GAAD,CACIhc,MAAOgd,EACP/kB,MAAO+N,KAAKyV,cACZljB,MAAM,sDACN2S,YAAalF,KAAKkF,YAClBhS,KAAMqkB,IAGbxV,GAAmB,kBAACyL,GAAD,CAAaL,KAAMpL,EAAiB9P,MAAO+N,KAAKiV,WAAYjT,UAAWA,EAAW2L,cAAe3N,KAAKnN,MAAMoP,YAChI,kBAAC,GAAD,CAAYkL,KAAMnN,KAAKnN,MAAM2b,aAAcvc,MAAO+N,KAAK+R,MAAO1E,IAAKrN,KAAKnN,MAAM0b,gB,GA9etE1N,aAsfTC,eAAQ,KAAM,CAAEgX,gBlCxYA,SAAClkB,EAASC,EAAYC,GAAtB,OAAuC,SAAA0I,GAElEA,EAAS,CACLzJ,KAAM,wBACNC,QAAS,CAAEY,UAASC,aAAYC,qBkCoYzBgN,CAAmCuN,GAF9B,CAAC,WAAY,WAAY,cAAe,WAEY+G,KCvgB3DyD,GAAY,CACrB,CACIxZ,MAAO,QACP1E,MAAO,QACPwH,SAAU,QACVD,cAAc,EACdjP,WAAY,QACZ+Q,UAAW,GAEf,CACI3E,MAAO,UACP1E,MAAO,WAEX,CACI0E,MAAO,UACP1E,MAAO,sBACPqJ,UAAW,IAEf,CACI3E,MAAO,cACP1E,MAAO,iBACP8I,UAAU,GAEd,CACIpE,MAAO,aACP1E,MAAO,mBACP8I,UAAU,GAEd,CACIpE,MAAO,UACP1E,MAAO,gCACP8I,UAAU,GAGd,CACIpE,MAAO,cACP1E,MAAO,kBACP8I,UAAU,GAEd,CACIpE,MAAO,eACP1E,MAAO,mBACP8I,UAAU,GAEd,CACIpE,MAAO,kBACP1E,MAAO,sBACP8I,UAAU,GAEd,CACIpE,MAAO,mBACP1E,MAAO,uBACP8I,UAAU,GAEd,CACI1Q,KAAM,SACNsM,MAAO,iBACP1E,MAAO,MACP8I,UAAU,I,kDCnCZxO,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCgG,UAAW,CACPjE,QAAS,OACTsO,SAAU,OACV7P,QAASR,EAAMgB,QAAQ,IAE3BwP,WAAY,CACRtO,MAAO,KAEXQ,MAAO,CACHlC,QAASR,EAAMgB,QAAQ,GACvB+I,UAAW,SACXzM,MAAO0C,EAAMW,QAAQ8P,KAAKC,UAC1BnD,OAAQvN,EAAMgB,QAAQ,QAIf,eAAmF,IAAvEyM,EAAsE,EAAtEA,YAAaC,EAAyD,EAAzDA,WAAYqC,EAA6C,EAA7CA,YAAakG,EAAgC,EAAhCA,aAAclY,EAAkB,EAAlBA,KAAM4S,EAAY,EAAZA,SACzEE,EAA6D9S,EAA7D8S,YAAasI,EAAgDpb,EAAhDob,MAAO/I,EAAyCrS,EAAzCqS,QAASuT,EAAgC5lB,EAAhC4lB,aAAclF,EAAkB1gB,EAAlB0gB,cAC/C1b,EAAUjD,KAAe4C,EAAiCK,EAAjCL,MAAOsD,EAA0BjD,EAA1BiD,UAAWwK,EAAezN,EAAfyN,WAE/C,OACI,kBAAC,WAAD,KACI,kBAAC+E,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAc/E,KAAK,wBAC/C,kBAAC4N,GAAD,CACItgB,KAAMA,EACN4S,SAAUA,EACVlD,YAAaA,EACbC,WAAYA,IAEhB,kBAAC3H,EAAA,EAAD,CACIC,WAAS,EACTsL,UAAU,MACVnU,UAAW6I,EACXuL,QAAQ,UAEPV,GAAesI,EAAM,IAClB,kBAACpT,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,IACX,kBAACqL,GAAA,EAAD,CAAOrU,UAAWuF,GACd,kBAACkB,EAAA,EAAD,CAAYzG,UAAU,gBAAtB,iCACA,kBAACqQ,GAAD,CACIG,KAAM+V,GACN3lB,KAAMA,EACN2P,WAAYA,EACZD,YAAaA,KAGrB,kBAAC1H,EAAA,EAAD,CAAMC,WAAS,EACXsL,UAAU,MACVC,QAAQ,gBACR4B,WAAW,SACXpW,MAAO,CAAEmF,MAAmB,UAAZkO,GAAmC,UAAZA,EAAsB,SAAW,QAASvO,UAAW,SAE5F,kBAACkE,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAIiK,EAAU,EAAI,IACzB,kBAACwT,GAAA,EAAD,CAAa/f,UAAU,YACnB,kBAACggB,GAAA,EAAD,CAAWhgB,UAAU,UAArB,mBACA,kBAACigB,GAAA,EAAD,CAAYnO,aAAW,WAAWxL,KAAK,WACnC9E,SAAU0K,EAAagU,KAAG,EAC1BhnB,MAAO,CAAEmF,MAAO,QAChB/E,UAAU,SAEV,kBAAC8S,GAAA,EAAD,CACI9S,UAAU,QACV8H,MAAM,QACNiL,QAAS,kBAAC8T,GAAA,EAAD,CAAO1mB,MAAM,YACtBkI,MAAO,0BAAMzI,MAAO,CAAE0H,SAAU,WAAa,uCAC7Cwf,eAAe,UAGnB,kBAAChU,GAAA,EAAD,CACIhL,MAAM,QACNiL,QAAS,kBAAC8T,GAAA,EAAD,CAAO1mB,MAAM,YACtBkI,MAAO,0BAAMzI,MAAO,CAAE0H,SAAU,WAAa,SAC7Cwf,eAAe,aAOlB,UAAZ7T,EACG,kBAACrK,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,GACX,kBAAC+H,GAAA,EAAD,CACIQ,WAAY,CACRE,KAAM,cACNzE,KAAM,gBAEVlF,MAAO0e,EACPte,SAAUoI,EACVU,OAAQT,EACRlI,MAAM,qEACNyJ,WAAS,IAEb,kBAAC,GAAD,CACInR,WAAY6S,EACZ3D,SAAS,cACT/H,MAAO0e,KAIH,UAAZvT,GACA,kBAACrK,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,GACX,kBAAC+H,GAAA,EAAD,CACI/D,KAAK,gBACLlF,MAAOwZ,EACPjZ,MAAM,gBACN5H,KAAK,OACLyH,SAAUoI,EACVc,gBAAiB,CAAEC,QAAQ,GAC3BO,WAAS,EACTC,KAAM,EACNlL,QAAQ,WACRmL,WAAS,MAKzB,kBAAClJ,EAAA,EAAD,CAAMC,WAAS,EAACsL,UAAU,MAAMC,QAAQ,WAAWxU,MAAO,CAAEmF,MAAO,WAC/D,kBAAC6D,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,GAAIpJ,MAAO,CAAEmF,MAAO,YACnC,kBAAC6D,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,EAAGpJ,MAAO,CAAEgH,MAAO,UAC9B,kBAACL,EAAA,EAAD,CACIC,KAAK,QACLrG,MAAM,UACNwG,QAAQ,WACR/G,MAAO,CAAEwQ,OAAQ,iBACjBhQ,QAAS,kBAAM0Y,MALnB,aAOc,2CAPd,IAOyC,kBAACiO,GAAA,EAAD,WAMvDrT,IAAgBsI,EAAM,IACpB,kBAACpT,EAAA,EAAD,CAAMC,WAAS,EAACuL,QAAQ,UACpB,yBAAKpU,UAAWqT,QCAzB0I,MAFK,CAAC,WAAY,Y,8MA5I7Bxb,MAAQ,CACJiT,SAAU,GACVE,YAAa,GACbsI,MAAO,GACP5P,MAAO,GACPoE,KAAM,GACNwW,MAAO,GACPR,aAAc,GACdvK,SAAU,+BACVC,cAAc,EACd+K,YAAY,G,EAKhB3W,YAAc,SAAMf,GAAN,8BAAAnF,EAAAC,OAAA,qDACckF,EAAEkN,OAAlBzP,EADE,EACFA,KAAMlF,EADJ,EACIA,MADJ,EAEmB,EAAKnC,MAAM8H,MAAlCxL,EAFI,EAEJA,SAAUuR,EAFN,EAEMA,SAEhB,EAAK6I,SAAL,eAAiBrP,EAAOlF,IAEX,gBAATkF,EANM,sBAOF+G,EAAkBP,EAAS7R,MAAK,SAAA4N,GAAC,OAAIA,EAAEmE,cAAgB5L,MAPrD,oCAAAsC,EAAA,MAUI,EAAKiS,SAAS,CAAE3I,YAAaK,EAAgBL,YAAaK,qBAV9D,OAWEjM,IAAUiM,EAAgBL,aAAa,EAAK2I,SAAS,CAAEtI,qBAAiBzC,IAEtE0K,EAAQ/Z,EAASma,QAAO,SAAAjb,GAAC,OAAIA,EAAEwb,UAAY,EAAKpc,MAAMmT,eAC5D,EAAK2I,SAAS,CAAEL,UAdd,4CAAA5R,EAAA,MAiBI,EAAKiS,SAAS,CAAEtI,qBAAiBzC,EAAW0K,MAAO,MAjBvD,QAkBF,EAAK4F,QAlBH,uC,EAuBdrR,WAAa,SAAOhB,GAAP,4BAAAnF,EAAAC,OAAA,mDAEHmJ,EAAa,EAAK7N,MAAM8H,MAAxB+F,SACAwI,EAAU,EAAKzb,MAAfyb,MACAhP,EAASuC,EAAEkN,OAAXzP,KACAlF,EAAUyH,EAAEkN,OAAZ3U,MAEO,iBAATkF,EAPK,sBAQDlF,EAAM0C,OAAS,GARd,sBASK0c,EAAY1T,EAAS7R,MAAK,SAAA4N,GAAC,OAAIA,EAAEmE,cAAgB5L,MATtD,oCAAAsC,EAAA,MAWS,EAAKiS,SAAS,CAAEK,cAAewK,EAAUxK,cAAe8J,aAAcU,EAAUxT,YAAayT,eAAe,KAXrH,+BAaM,EAAK9K,SAAS,CAAE5M,iBAAiB,EAAMC,UAAW,kBAAmB8W,aAAc,KAbzF,WAiBI,UAATxZ,GAAqC,kBAAVgP,EAjBtB,oBAkBS,KAAVlU,GAAc,EAAKuU,SAAS,CAAE8K,eAAe,MAC7Crf,EAAM0C,OAAS,GAnBd,wBAqBG1C,EAAM0C,OAAS,IAAG0U,EAAUlD,EAAMra,MAAK,SAAAR,GACvC,MAAqB,kBAAV2G,EAA2B3G,EAAEiL,MAAMqR,cAAcrb,MAAM0F,EAAM2V,eAC5Dtc,EAAEiL,MAAMhK,MAAM0F,OAvB7B,aAAAsC,EAAA,MA0BK,EAAKiS,SAAL,eAAmB6C,KA1BxB,QA4BIA,IACG0C,EAAQ,GACR5F,EAAM,IAAIzQ,OAAO2R,KAAKlB,EAAM,IAAIlb,SAAQ,SAAA8U,GAAC,OAAIgM,EAAMhM,GAAK,MAC5D,EAAKyG,SAAS,CAAE3M,UAAW,gBAAiBD,iBAAiB,EAAM0X,eAAe,IAClF,EAAK9K,SAAL,eAAmBuF,KAhCtB,uC,EAsCb9I,aAAe,uCAAA1O,EAAAC,OAAA,qDAEwB,EAAK9J,MAAhC0S,EAFG,EAEHA,QAASyJ,EAFN,EAEMA,cAEb0K,EAAa,CAAC,kBAAmB,QAAS,iBAG9B,UAAZnU,IACAmU,EAAW1c,KAAK,gBAChB2c,EAAeD,EAAWjZ,OAAM,SAAAyH,GAAC,OAAI,EAAKrV,MAAM8N,eAAeuH,IAAwB,KAAlB,EAAKrV,MAAMqV,MAChF4M,EAAU,CAAE9F,gBAAeuC,SAAU,aAEzB,UAAZhM,IACAmU,EAAW1c,KAAK,iBAChB2c,EAAeD,EAAWjZ,OAAM,SAAAyH,GAAC,OAAI,EAAKrV,MAAM8N,eAAeuH,IAAwB,KAAlB,EAAKrV,MAAMqV,MAChF4M,EAAU,CAAEvD,SAAU,gBAErBoI,EAjBM,mCAAAjd,EAAA,MAkBD,EAAKiS,SAAS,CAAE5M,iBAAiB,EAAMC,UAAW,mBAlBjD,gCAmBA,MAnBA,cAsBX8S,EAAQlhB,QAAU,2BAEZohB,EAAgBxX,KAAMiU,eAAeqD,GAE7B,UACA,aA3BH,aAAApY,EAAA,MA4BLO,KAAMkV,IAAI,qBAAsB,CAAE6C,gBAAezV,MAFzC,UAEgD/K,QADhD,aACyDjB,GAAI,EAAKV,MAAM8L,YACjFtB,MAAK,kBAAM,EAAK0U,WAChBH,OAAM,SAAAC,GAAG,OAAIne,QAAQC,IAAIke,OA9BnB,4BAAAnV,EAAA,MA+BL,EAAKiS,SAAS,CAAEtI,qBAAiBzC,EAAW0K,MAAO,GAAItI,YAAa,MA/B/D,QAgCX,EAAKkO,QAhCM,uC,EAmCfhP,YAAc,SAAArD,GAAC,OAAI,EAAK8M,SAAS,CAAEpJ,QAAS1D,EAAEkN,OAAO3U,S,EACrD8Z,MAAQ,WACJ2E,GAAUzlB,SAAQ,SAAAC,GAAE,OAAI,EAAKsb,SAAL,eAAiBtb,EAAGgM,MAAQ,QACpD,EAAKsP,SAAS,CAAEmK,aAAc,GAAIQ,MAAO,GAAI1F,cAAe,GAAIrO,SAAS,K,EAE7E0P,WAAa,kBAAM,EAAKtG,SAAS,CAAE5M,iBAAkB,EAAKlP,MAAMkP,mB,EAChEgQ,MAAQ,kBAAM,EAAKpD,SAAS,CAAEH,cAAe,EAAK3b,MAAM2b,gB,wFAxG/BxO,KAAK2O,SAAS,M,+BA0G7B,IAAD,EAEa3O,KAAKnN,MADfimB,EADH,EACGA,aAActK,EADjB,EACiBA,aAAcD,EAD/B,EAC+BA,SAAUhJ,EADzC,EACyCA,QAASxD,EADlD,EACkDA,gBACnDC,EAFC,EAEDA,UAEJ,OAAO,kBAAC,WAAD,KACH,kBAAC4X,GAAD,CACI1mB,KAAM8M,KAAKnN,MACXiT,SAAU9F,KAAK/H,MAAM8H,MAAM+F,SAC3BP,QAASA,EACTuT,aAAcA,EACdlW,YAAa5C,KAAK4C,YAClBC,WAAY7C,KAAK6C,WACjBqC,YAAalF,KAAKkF,YAClBkG,aAAcpL,KAAKoL,eAEtBrJ,GAAmB,kBAACyL,GAAD,CAAaL,KAAMpL,EAAiB9P,MAAO+N,KAAKiV,WAAYjT,UAAWA,IAC3F,kBAAC,GAAD,CAAYmL,KAAMqB,EAAcvc,MAAO+N,KAAK+R,MAAO1E,IAAKkB,S,GAzIzC1N,c,0CCErB5L,I,OAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnCiN,UAAW,CACPC,WAAYlN,EAAMgB,QAAQ,GAC1BmM,YAAanN,EAAMgB,QAAQ,GAC3Ba,UAAW,MACXK,MAAO,QACPuC,SAAU,SACV2I,UAAW,OACXrD,UAAW,UAEfsD,OAAQ,CACJH,WAAYlN,EAAMgB,QAAQ,GAC1BmM,YAAanN,EAAMgB,QAAQ,GAC3BD,aAAc,MACd0B,WAAY,UACZgC,SAAU,SACV2I,UAAW,OACXrD,UAAW,eAIJ,SAAS2a,GAAT,GAC6E,IADnDja,EACkD,EADlDA,YAAa3M,EACqC,EADrCA,WAAYC,EACyB,EADzBA,KAAM4mB,EACmB,EADnBA,WACpEC,EAAuF,EAAvFA,iBAAkBC,EAAqE,EAArEA,aAAcC,EAAuD,EAAvDA,WAAYC,EAA2C,EAA3CA,WAAY9O,EAA+B,EAA/BA,aAAcwN,EAAiB,EAAjBA,cAIhExW,EADQnN,KACRmN,UAEN,OACI,kBAAC,WAAD,KACG,kBAACsI,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAc/E,KAAK,+CAC9C,gCACI,uEAEJ,yBAAKtT,UAAU,gBACX,kBAAC+Q,GAAA,EAAD,CACI/Q,UAAW8P,EACX5H,SAAUuf,EACV3f,MAAOnH,EACPuP,QAAQ,EACR6B,YAAa,CACTnS,MAAO,CACH0H,SAAU,SAAUnH,MAAO,OAAQqH,WAAY,IAC/CzC,MAAO,IAAKuD,OAAQ,UAI3BgF,EAAYpM,KAAI,SAAC+Q,EAAKlL,GAAN,OACb,kBAACmL,GAAA,EAAD,CAAU/K,IAAKJ,EAAGe,MAAOmK,GACpBA,QAKjBuV,GAAc7mB,GAAc,yBAAKX,UAAU,aACvC,kBAACuG,EAAA,EAAD,CACIC,KAAK,QACLrG,MAAM,UACNwG,QAAQ,WAER/G,MAAO,CAAEwQ,OAAQ,iBACjBhQ,QAAS,kBAAMkmB,MAEf,kBAAC,KAAD,MARJ,eAWJ,yBAAKtmB,UAAU,aAEPY,GAAQ4mB,GAAc5mB,EAAKM,KAAI,SAACH,EAAIgG,GAAL,OAC3B,yBAAK/G,UAAU,UAAUmH,IAAKJ,GAC1B,kBAACgK,GAAA,EAAD,CACIjJ,MAAO/G,EAAG8mB,KAAO9mB,EAAGymB,EAAWza,OAAShM,EAAGymB,EAAWza,OAAS,KAAOhM,EAAE,MAAY,IACpFmH,SAAUwf,EACV1a,KAAMjM,EAAGgM,MACTtM,KAAK,OACL8Q,WAAY,CACRuW,YAAa,MACbC,YAAY,EACZnoB,MAAO,CACH0H,SAAU,SACVnH,OAAmB,IAAZY,EAAG8mB,KAAgB,OAAS,SAG3C7nB,UAAW8P,EACXqB,UAAsB,IAAZpQ,EAAG8mB,OAGjB,4BAAQnhB,UAAU,OACd1G,UAAU,oBACVC,MAAM,SACNG,QAAS,kBAAMunB,EAAW5gB,IAC1BnC,QAAQ,QACR,kBAAC,KAAD,CAAU5E,UAAU,WAAWG,MAAM,aAEzC,4BACIH,UAAU,oBACVC,MAAM,UACNG,QAAS,kBAAMwnB,EAAW7gB,KAC1B,kBAAC,KAAD,CAAY/G,UAAU,WAAWG,MAAM,oBAMvDS,GACA,kBAACgI,EAAA,EAAD,CAAMC,WAAS,EAACsL,UAAU,MAAMC,QAAQ,YACpC,kBAACxL,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,EAAGpJ,MAAO,CAAEgH,MAAO,QAASwJ,OAAQ,qBAC/C,kBAAC7J,EAAA,EAAD,CACIC,KAAK,QACLrG,MAAM,UACNwG,QAAQ,YACR1G,MAAM,SACNG,QAAS,kBAAM0Y,MALnB,UAOW,2CAPX,IAOsC,kBAAC,KAAD,U,ICmI/CiD,MAHK,CAAC,cAAe,2BAA4B,gBAAiB,+BAC7E,cAAe,eAAgB,Y,8MAtP/Bxb,MAAQ,CACJI,WAAY,GACZqjB,MAAO,GACPhS,QAAS,GACTsU,eAAe,EACfpK,cAAc,EACdD,SAAU,sB,EAuBd+L,WAAa,SAAC/lB,EAAUulB,EAAY5mB,GAAU,IAClCoM,EAAuBwa,EAAvBxa,KAAMD,EAAiBya,EAAjBza,MAAO1E,EAAUmf,EAAVnf,MAWrB,OATAzH,EAAKE,SAAQ,SAAAC,GACT,IAIIknB,EAJahmB,EAASma,QAAO,SAAAjb,GAC7B,MAAc,iBAAVkH,GAA4BlH,EAAE6L,GAAc7L,EAAE6L,GAAMyQ,cAAcrb,MAAMrB,EAAGgM,GAAO0Q,eAC/Etc,EAAE6L,KAAUjM,EAAGgM,MAELvC,OACrBe,OAAOC,OAAOzK,EAAI,CAAEknB,aAExBrnB,EAAOA,EAAK0iB,MAAK,SAAClZ,EAAG8d,GAAJ,OAAU9d,EAAE2C,GAAOob,cAAcD,EAAEnb,Q,EAIxD0a,iBAAmB,SAAMlY,GAAN,4BAAAnF,EAAAC,OAAA,uDAETvC,EAAUyH,EAAEkN,OAAZ3U,MAFS,EAGkC,EAAKnC,MAAM8H,MAAtDxL,EAHS,EAGTA,SAAUmmB,EAHD,EAGCA,YAAaC,EAHd,EAGcA,gBAEzBb,EAAa1a,GAAkBnL,MAAK,SAAAZ,GAAE,OAAIA,EAAGsH,QAAUP,KACvDlH,EAAO0nB,KAAKC,MAAMD,KAAKE,UAAU,EAAK7iB,MAAM8H,MAAM+Z,EAAW7mB,eAEjEC,EAAO,EAAKonB,WAAW/lB,EAAUulB,EAAY5mB,IACxCE,SAAQ,SAAAC,GAAE,OAAIA,EAAG8mB,MAAO,KAE7B,EAAKxL,SAAS,CAAE4H,YAAQ3S,EAAW0S,MAAO,KACZ,kBAA1BwD,EAAW7mB,YAAgC,EAAK0b,SAAS,CAAE4H,OAAQmE,IACzC,gBAA1BZ,EAAW7mB,YAA8B,EAAK0b,SAAS,CAAE4H,OAAQoE,IAbtD,YAAAje,EAAA,MAeT,EAAKiS,SAAS,CAAE1b,WAAYmH,EAAOlH,OAAM4mB,gBAfhC,8C,EAmBnBG,WAAa,SAAM9lB,GAAN,sBAAAuI,EAAAC,OAAA,uDAELoe,EAAU3iB,SAAS+I,iBAAiB,YACpC6Z,EAAUD,EAAQ5mB,GAAO8mB,WAAW,GACpCC,EAAcF,EAAQ7Z,iBAAiB,SAAS,IAI3B,KAFrBjO,EANK,YAMM,EAAKL,MAAMK,OAEjBiB,GAAOgmB,KAAejnB,EAAKiB,GAAOgmB,MAAO,GAE9CjnB,EAAKE,SAAQ,SAAAc,GAAC,OAAIA,EAAEimB,MAAO,KAC3BjnB,EAAKiB,GAAOgmB,MAAO,GAXd,YAAAzd,EAAA,MAaH,EAAKiS,SAAS,CAAEzb,UAbb,OAcTgoB,EAAYhL,QAdH,sC,EAiBbsG,YAAc,SAAA3U,GAEN,IAIAsZ,EAJE/gB,EAAUyH,EAAEkN,OAAZ3U,MACAnH,EAAe,EAAKJ,MAAMinB,WAA1B7mB,WADF,EAEmC,EAAKgF,MAAM8H,MAA5C2a,EAFF,EAEEA,YAAaC,EAFf,EAEeA,gBAGA,kBAAf1nB,IAAgCkoB,EAAkBT,GACnC,gBAAfznB,IAA8BkoB,EAAkBR,GARrC,IAUPpnB,EAAO4nB,EAAgBlnB,MAAK,SAAAmnB,GAAC,OAAIA,EAAE9E,QAAUlc,KAA7C7G,GAER,EAAKob,SAAS,CAAE2H,MAAOlc,EAAOihB,QAAS9nB,K,EAG3CymB,aAAe,SAAMnY,GAAN,wBAAAnF,EAAAC,OAAA,uDAELvC,EAAUyH,EAAEkN,OAAZ3U,MACFkF,EAAO,EAAKzM,MAAMinB,WAAWza,MAI7Bic,EAAiB,EAAKzoB,MAAMK,KAAKe,MAAK,SAAAZ,GAAE,OAAgB,IAAZA,EAAG8mB,QAC7ChmB,EAAQ,EAAKtB,MAAMK,KAAK2kB,QAAQyD,GAGtCA,EAAehc,GAAQlF,GAEnBmhB,EAbO,YAaO,EAAK1oB,MAAMK,OACrBiB,GAASmnB,EAdN,YAAA5e,EAAA,MAgBL,EAAKiS,SAAS,CAAEzb,KAAMqoB,KAhBjB,sC,EAmBf3Y,YAAc,SAAAf,GAAM,IACRzH,EAAUyH,EAAEkN,OAAZ3U,MACR,EAAKuU,SAAS,CAAE8H,WAAYrc,K,EAGhCsc,cAAgB,6CAAAha,EAAAC,OAAA,yDAG8B,EAAK9J,MAAzCinB,EAHM,EAGNA,WAAYrD,EAHN,EAGMA,WAAY4E,EAHlB,EAGkBA,QACxB9b,EAA6Bua,EAA7Bva,MAAOF,EAAsBya,EAAtBza,MAAOpM,EAAe6mB,EAAf7mB,WACdsB,EAAa,EAAK0D,MAAM8H,MAAxBxL,SAEFinB,EAPQ,eAOYnc,EAAQoX,GAC5B4E,IAASG,EAAeH,QAAUA,GACtCG,EAAiBhe,KAAMiU,eAAe+J,GAT1B,YAAA9e,EAAA,MAWNO,KAAM5B,KAAK,kBAAmB,CAAEkE,QAAOic,oBAXjC,OAaRtoB,EAAO,EAAK+E,MAAM8H,MAAM9M,GAC5BC,EAAO,EAAKonB,WAAW/lB,EAAUulB,EAAY5mB,GAE7C,EAAKyb,SAAS,CAAEiK,eAAe,EAAO1lB,SAhB1B,sC,EAmBhBgnB,WAAa,SAAM/lB,GAAN,0BAAAuI,EAAAC,OAAA,mDAELzJ,EAFK,YAEM,EAAKL,MAAMK,MAEpB4mB,EAAe,EAAKjnB,MAApBinB,WACA7mB,EAAsB6mB,EAAtB7mB,WAAYsM,EAAUua,EAAVva,MACdhM,EAAKL,EAAKiB,GAAOZ,GACjBkoB,EAAe,EAAKxjB,MAAM8H,MAAM9M,IACnBwoB,EAAaxnB,MAAK,SAAAZ,GAAE,OAAIA,EAAGE,KAAOA,KAR1C,mCAAAmJ,EAAA,MAWCO,KAAMuV,OAAN,4BAAkCjT,EAAlC,0BAAyDhM,IAC1Dqe,OAAM,SAAAC,GAAG,OAAIne,QAAQC,IAAIke,OAZzB,OAcT3e,EAAKoB,OAAOH,EAAO,GACnB,EAAKwa,SAAS,CAAEzb,SAfP,sC,EAkBbkY,aAAe,iDAAA1O,EAAAC,OAAA,uDAGLoD,EAAU,EAAK9H,MAAf8H,MAHK,EAIgB,EAAKlN,MAA1BK,EAJK,EAILA,KAAM4mB,EAJD,EAICA,WACN7mB,EAA6B6mB,EAA7B7mB,WAAYoM,EAAiBya,EAAjBza,MAAOE,EAAUua,EAAVva,MACrBkc,EAAeb,KAAKC,MAAMD,KAAKE,UAAU/a,EAAM9M,KAE/CyoB,EAAiB,GAErBxoB,EAAKE,SAAQ,SAAAC,GACT,GAAIA,EAAGsN,eAAe,MAAO,CACQtN,EAAzBknB,MAAyBlnB,EAAlB8mB,KADW,IACFwB,EADC,YACQtoB,EADR,kBAEzBqoB,EAAe1e,KAAK2e,OAIxBC,EAAc,GAAI9G,EAAU,GAEhC4G,EAAetoB,SAAQ,SAAAC,GACnBooB,EAAaroB,SAAQ,SAAAqH,GACbpH,EAAGE,KAAOkH,EAAKlH,KACfsK,OAAO2R,KAAKnc,GAAID,SAAQ,SAAAqG,GAChBpG,EAAGoG,KAASgB,EAAKhB,KACZqb,EAAQvhB,KAAIuhB,EAAO,eAAQA,EAAR,CAAiBvhB,GAAIF,EAAGE,MAChDsK,OAAOC,OAAOgX,EAAdjX,OAAA,IAAAA,CAAA,GAA0BpE,EAAMpG,EAAGoG,SAGvCoE,OAAO2R,KAAKsF,GAAShY,OAAS,GAAG8e,EAAY5e,KAAK8X,GACtDA,EAAU,UAMR,KACV7C,EAASzU,KAAMqe,WAAWxc,GAE9Bqc,EAAiBle,KAAMiU,eAAemK,GAtC3B,YAAAlf,EAAA,MAwCLO,KAAMkV,IAAI,oBAAqB,CAAEzS,aAAcgc,EAAgBnc,QAAO/K,QAL9D,KAKuEyd,WAChF5U,MAAK,SAAAE,GAAC,OAAI7J,QAAQC,IAAI,eACtBie,OAAM,SAAAC,GAAG,OAAIne,QAAQC,IAAIke,OA1CnB,OA4CX6J,EAAiB,GACjBE,EAAc,GACd9G,EAAU,GACV,EAAK/C,QAEL,EAAKpD,SAAS,CAAE1b,WAAY,GAAI6mB,gBAAYlW,IAjDjC,uC,EAoDfoP,aAAe,kBAAM,EAAKrE,SAAS,CAAEiK,eAAgB,EAAK/lB,MAAM+lB,iB,EAChE7G,MAAQ,kBAAM,EAAKpD,SAAS,CAAEH,cAAe,EAAK3b,MAAM2b,gB,qFAxMpD,IAAIlK,EAAU,GACdlF,GAAkBhM,SAAQ,SAAAsN,GAAS4D,EAAQtH,KAAK0D,EAAI/F,UACpDqF,KAAK2O,SAAS,CAAErK,c,yCAGDwX,GAEX,IAAE/b,EAAUC,KAAK/H,MAAf8H,MACAxL,EAAawL,EAAbxL,SADF,EAEuByL,KAAKnN,MAA1BinB,EAFF,EAEEA,WAAY5mB,EAFd,EAEcA,KAElB,IAAK4mB,IAAe5mB,EAAM,OAAO,KANP,IAQlBD,EAAe6mB,EAAf7mB,WACR,GAAI2nB,KAAKE,UAAUgB,EAAU/b,MAAM9M,MAAiB2nB,KAAKE,UAAU/a,EAAM9M,IAAc,CACnF,IAAMC,EAAO8M,KAAKsa,WAAW/lB,EAAUulB,EAAY/Z,EAAM9M,IACzD+M,KAAK2O,SAAS,CAAEzb,Y,+BA0Ld,IAAD,EAEmG8M,KAAKnN,MAArGyR,EAFH,EAEGA,QAASrR,EAFZ,EAEYA,WAAYC,EAFxB,EAEwBA,KAAM4mB,EAF9B,EAE8BA,WAAYlB,EAF1C,EAE0CA,cAAetC,EAFzD,EAEyDA,MAAOC,EAFhE,EAEgEA,OAAQ/H,EAFxE,EAEwEA,aAAcD,EAFtF,EAEsFA,SAC3F,OACI,kBAAC,WAAD,KACI,kBAACsL,GAAD,CACIja,YAAa0E,EACbrR,WAAYA,EACZC,KAAMA,EACN4mB,WAAYA,EACZC,iBAAkB/Z,KAAK+Z,iBACvBE,WAAYja,KAAKia,WACjBD,aAAcha,KAAKga,aACnB5O,aAAcpL,KAAKoL,aACnBwN,cAAe5Y,KAAKgT,aACpBkH,WAAYla,KAAKka,aAEpBtB,GAAiB,kBAACxC,GAAD,CACdjJ,KAAMyL,EACN3mB,MAAO+N,KAAKgT,aACZzgB,MAAOunB,EAAWnf,MAClB0b,cAAc,yEACdC,MAAOA,EACPC,OAAQA,EACRC,YAAaxW,KAAKwW,YAClB5T,YAAa5C,KAAK4C,YAClB8T,cAAe1W,KAAK0W,gBAExB,kBAAC,GAAD,CAAYvJ,KAAMqB,EAAcvc,MAAO+N,KAAK+R,MAAO1E,IAAKkB,S,GAjP5C+E,kB,yCCObyI,GAnBI,SAACjhB,EAAMmI,GAUtB,GAAI,KAAK+Y,KAAKlhB,GAAO,CACjB,IAAI5H,EAAO,IAAIyR,KAAK7J,GAAMmhB,UAAY,KAAO,IAAItX,KAAK7J,GAAMohB,WAAa,GAAK,IAAM,IAAIvX,KAAK7J,GAAM8J,cAEnG,OADI3B,IAAK/P,GAAQ,KAAO,IAAIyR,KAAK7J,GAAMqhB,WAAa,KAThD,IAAIxX,KAAK7J,GAAMshB,aAAe,GACvB,IAAM,IAAIzX,KAAK7J,GAAMshB,aAErB,IAAIzX,KAAK7J,GAAMshB,cAM4C,KAC/DlpB,EAAKgQ,WAEZ,OAAOpI,GCwEFuhB,GAAe,CACxB,CACIhd,MAAO,QACP9M,MAAO,SAEX,CACI8M,MAAO,mBACP9M,MAAO,wBAEX,CACI8M,MAAO,UACP9M,MAAO,kBAEX,CACI8M,MAAO,aACP9M,MAAO,cAEX,CACI8M,MAAO,UACP9M,MAAO,2BAEX,CACI8M,MAAO,aACP9M,MAAO,oBACP+pB,OAAQ,SAAAC,GAAO,OAAIR,GAAWQ,EAAQ9d,cAE1C,CACIY,MAAO,iBACP9M,MAAO,0BACPiqB,WAAW,IAINC,GAAe,CACxB,CACIpd,MAAO,UACP9M,MAAO,2BAEX,CACI8M,MAAO,aACP9M,MAAO,cAEX,CACI8M,MAAO,UACP9M,MAAO,YAEX,CACI8M,MAAO,YACP9M,MAAO,4BAEX,CACI8M,MAAO,aACP9M,MAAO,aACPiqB,WAAW,EACXF,OAAQ,SAAAC,GAAO,OAAIR,GAAWQ,EAAQ9d,eAIjCie,GAAS,CA/IU,CAC5B,CACIrd,MAAO,cACP9M,MAAO,mBAEX,CACI8M,MAAO,oBACP9M,MAAO,kBAEX,CACI8M,MAAO,qBACP9M,MAAO,qBACPiqB,WAAW,EACXF,OAAQ,SAAAC,GAAO,OAAIR,GAAWQ,EAAQI,sBAE1C,CACItd,MAAO,SACP9M,MAAO,gBAEX,CACI8M,MAAO,WACP9M,MAAO,YAEX,CACI8M,MAAO,QACP9M,MAAO,sBAsH0BuS,OAAO,CAvGrB,CACvB,CACIzF,MAAO,YACP9M,MAAO,QAEX,CACI8M,MAAO,WACP9M,MAAO,OAEX,CACI8M,MAAO,cACP9M,MAAO,qBAEX,CACI8M,MAAO,aACP9M,MAAO,UAGX,CACI8M,MAAO,QACP9M,MAAO,uCACPiqB,WAAW,MAkF4C1X,OAAO,CA7EvC,CAC3B,CACIzF,MAAO,iBACP9M,MAAO,QAEX,CACI8M,MAAO,gBACP9M,MAAO,OAEX,CACI8M,MAAO,kBACP9M,MAAO,UAEX,CACI8M,MAAO,gBACP9M,MAAO,eA8D0EuS,OAAO,CAACuX,KAAevX,OAAO,CAAC2X,KC1IzG,eAA8E,IAAlExiB,EAAiE,EAAjEA,IAAKhH,EAA4D,EAA5DA,WAAY2pB,EAAgD,EAAhDA,YAAanK,EAAmC,EAAnCA,UAAWoK,EAAwB,EAAxBA,gBAAiBC,EAAO,EAAPA,IAG3EvpB,EAAK,CAAC,gBAAiB,UAAW,eAAgB,YAAa,WAAW0G,GAC5E8iB,EAAU,CAAC,WAAY,YAAU,eAAgB,cAAY,WAEjE,OADKxS,MAAMC,QAAQvX,KAAaA,EAAa,IAEzC,yBAAKf,MAAO,CAAEwQ,OAAQ,UAAYpQ,UAAU,WACxC,kBAAC,KAAD,CACIC,MAAK,6BAAwBwqB,EAAQ9iB,IACrCqe,QAASoE,GAAOziB,GAChB/G,KAAMD,EACNf,MAAO,CAAEyH,WAAY,WAAYC,SAAU,QAC3C0K,QAAS,CACLkY,WAAW,EACXQ,cAAc,EACdC,eAAgBF,EAAQ9iB,GACxBijB,UAAW,SAAC5E,EAASplB,IAMG,SAACiqB,EAASjW,GAC1B,IACMkW,EAAK,CAAEC,OAAQ,CAAE,KADZC,SAAWC,cAAcJ,IACCK,WAAY,CAAC,SAC5CC,EAAcH,SAAWF,EAAI,CAAEM,SAAU,OAAQ3qB,KAAM,UACvDG,EAAO,IAAIyqB,KAAK,CAACF,GAAc,CAAE1qB,KAR5B,oFASX6qB,UAAiB1qB,EAAMgU,EARP,SAUpB2W,CAAY3qB,EATG6pB,EAAQ9iB,KAW3B6jB,oBAAqB,EACrBC,iBAAkB,CAAEtrB,MAAO,OAAQmH,SAAU,QAC7CokB,YAAa,CAAEvoB,gBAAiB,WAChCwoB,qBAAqB,EACrBC,SAAU,IAGdC,aAAc,CACVC,OAAQ,CAAEC,QAAS,gBACnB7U,KAAM,CACF8U,uBAAwB,8BACxBC,QAAS,CAAEC,WAAY,iDACvBC,cAAe,SACfC,UAAW,CAAEC,cAAe,YAEhCC,QAAS,CACLC,cAAe,WACfC,kBAAmB,WACnBC,WAAY,+BACZC,gBAAiB,WACjBC,YAAa,YAEjBC,WAAY,CAERC,gBAAiB,2BACjBC,mBAAoB,yBACpBC,aAAc,qBACdC,gBAAiB,qBACjBC,YAAa,uBACbC,YAAa,wBAIrBnB,QAAS,CACL,CACI5V,KAAM,OACNgX,UAAW,CAAEhtB,MAAO,WACpBitB,QAAS,yBACThtB,QAAS,SAACitB,EAAOpD,GAAR,OAAoBK,EAAY+C,EAAOpD,KAEpD,CACI9T,KAAM,oBACNgX,UAAW,CAAEhtB,MAAO,aACpBitB,QAAS,eACThtB,QAAS,SAACitB,EAAOpD,GAAR,OAAoB9J,EAAU8J,EAAQhpB,MAEnD,CACIkV,KAAM,iBACNgX,UAAW,CAAEhtB,MAAO,UACpBitB,QAAS,qBACTE,OAAgB,IAAR3lB,EACRvH,QAAS,SAACitB,EAAOpD,GAAR,OAAoBM,EAAgBN,MAGrDsD,SAAU,CACNC,YAAa,SAAMC,GAAN,UAAArjB,EAAAC,OAAA,mEAAAD,EAAA,MAAuBogB,EAAIiD,IAA3B,mFC9FpBpL,GAAc,CAAC,CACxB,CACItV,MAAO,UACP1E,MAAO,iBACPtD,MAAO,QACPX,KAAM,QAEV,CACI3D,KAAM,OACNsM,MAAO,qBACP1E,MAAO,uBACPtD,MAAO,OACPX,KAAM,SAIDspB,GAAkB,CAC3B,CACI,CACI3gB,MAAO,QACP1E,MAAO,QACPtD,MAAO,OACPX,KAAM,OAEV,CACI2I,MAAO,UACP1E,MAAO,UACPtD,MAAO,OACPX,KAAM,QAEV,CACI2I,MAAO,YACP1E,MAAO,YACPtD,MAAO,OACPX,KAAM,OAEV,CACI2I,MAAO,iBACP1E,MAAO,kBACPtD,MAAO,QAEX,CACIgI,MAAO,UACP1E,MAAO,sBACPtD,MAAO,OACPX,KAAM,SAId,CACI,CACI2I,MAAO,cACP1E,MAAO,kBACPtD,MAAO,OACPX,KAAM,QAEV,CACI2I,MAAO,eACP1E,MAAO,mBACPtD,MAAO,OACPX,KAAM,QAEV,CACI2I,MAAO,YACP1E,MAAO,iBAEX,CACI0E,MAAO,kBACP1E,MAAO,+BAEX,CACI0E,MAAO,kBACP1E,MAAO,gCAGf,CACI,CACI0E,MAAO,kBACP1E,MAAO,sBACPtD,MAAO,OACPX,KAAM,QAEV,CACI2I,MAAO,mBACP1E,MAAO,uBACPtD,MAAO,OACPX,KAAM,QAEV,CACI2I,MAAO,gBACP1E,MAAO,qBAEX,CACI0E,MAAO,QACP1E,MAAO,QACPtD,MAAO,OACPX,KAAM,UAIL1C,GAAS,CAAC,CACnB,CACIqL,MAAO,aACP1E,MAAO,aACPtD,MAAO,OACPX,KAAM,UAEV,CACI2I,MAAO,UACP1E,MAAO,aACPtD,MAAO,OACPX,KAAM,QAEV,CACI3D,KAAM,OACNsM,MAAO,cACP1E,MAAO,qBACPtD,MAAO,OACPX,KAAM,OAEV,CACI3D,KAAM,OACNsM,MAAO,aACP1E,MAAO,aACPtD,MAAO,OACPX,KAAM,SAGDupB,GAAU,CAAC,CACpB,CACI5gB,MAAO,QACP1E,MAAO,cACPtD,MAAO,OACPX,KAAM,OAEV,CACI2I,MAAO,MACP1E,MAAO,mBACPtD,MAAO,OACPX,KAAM,OAEV,CACI2I,MAAO,gBACP1E,MAAO,sBACPtD,MAAO,OACPX,KAAM,OAEV,CACI2I,MAAO,eACP1E,MAAO,qBACPtD,MAAO,OACPX,KAAM,OAEV,CACI2I,MAAO,MACP1E,MAAO,mBACPtD,MAAO,OACPX,KAAM,OAEV,CACI2I,MAAO,kBACP1E,MAAO,iBACPtD,MAAO,OACPX,KAAM,SAKDwpB,GAAoB,CAAC,CAC9B,CACIntB,KAAM,OACNsM,MAAO,eACP1E,MAAO,mBACPtD,MAAO,OACPX,KAAM,OAEV,CACI2I,MAAO,gBACP1E,MAAO,0BACPtD,MAAO,OACPX,KAAM,OAEV,CACI2I,MAAO,aACP1E,MAAO,mBACPtD,MAAO,OACPX,KAAM,OAEV,CACI2I,MAAO,iBACP1E,MAAO,gBACPtD,MAAO,UAIFoV,GAAQ,CAAC,CAClB,CACIpN,MAAO,gBACP1E,MAAO,sCACPtD,MAAO,QACPX,KAAM,QAEV,CACI2I,MAAO,cACP1E,MAAO,oBACPtD,MAAO,U,8BCnMTpC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnCiN,UAAW,CACPtL,aAAc,OACd8C,SAAU,SACV2I,UAAW,OACXrD,UAAW,cAKJ,SAASihB,KAAkB,IAAD,EAEPhoB,mBAAS,IAFF,mBAE9BqZ,EAF8B,KAErB4O,EAFqB,KAG/BltB,EAAO0nB,KAAKC,MAAMwF,aAAaC,QAAQ,YAC7C5sB,QAAQC,IAAI,IAAKT,GAEjBuF,qBAAU,WACN,GAAAiE,EAAAC,OAAA,uDACIjJ,QAAQC,IAAI,IAAK0sB,cACLjoB,SAAS+I,iBAAiB,oBAChC/N,SAAQ,SAAAgoB,GAAC,OAAIA,EAAElpB,MAAMgF,QAAU,UAHzC,YAAAwF,EAAA,MAIU0jB,EAAWltB,IAJrB,OAKIqtB,YAAW,WACHrtB,GAAMiW,OAAOqX,UAClB,KAPP,qCAUAH,aAAanG,WAAW,WACxBxmB,QAAQC,IAAI,IAAK0sB,gBAClB,IAEG,IACAje,EADUnN,KACVmN,UAEFqe,EAAQT,GACRU,EAAS/L,GACT2C,EAAMtjB,GACN2sB,EAAOV,GACPlU,EAAOmU,GACPU,EAAMnU,GACNnM,EAAS,GAITkR,GAFc,CAACiP,EAAOC,EAAQpJ,EAAKqJ,EAAM5U,EAAM6U,GAGrCxtB,SAAQ,SAAA0P,GACdjF,OAAOuJ,QAAQoK,GAASpe,SAAQ,YAAmB,IAAD,mBAAhBqG,EAAgB,KAAXW,EAAW,KAC9C0I,EAAK1P,SAAQ,SAACytB,EAAMxnB,GAChBwnB,EAAKztB,SAAQ,SAAC2W,EAAK7B,GACX6B,EAAI1K,QAAU5F,IACd6G,EAASzC,OAAOC,OAAOiM,EAAK,CAAE3P,UAC9B0I,EAAKzJ,GAAG6O,GAAK5H,EACbA,EAAS,gBAMjC,IAUMwgB,EAAe,CACjB,CAAEvuB,MAAO,iBAAeuQ,KAAM4d,GAC9B,CAAEnuB,MAAO,mCAA8BuQ,KAAM2d,GAC7C,CAAEluB,MAAO,SAAUuQ,KAAMwU,GACzB,CAAE/kB,MAAO,UAAWuQ,KAAM6d,GAC1B,CAAEpuB,MAAO,2BAAsBuQ,KAAMiJ,GACrC,CAAExZ,MAAO,2BAAsBuQ,KAAM8d,IAEzC,IAAKpP,EAAS,CACV,IAAMrV,EAAMgN,OAAO9Q,SAAS0oB,OAE5B,OADA5X,OAAO9Q,SAASsF,QAAQxB,GACjB,KAEX,OACI,kBAAC,WAAD,KACI,yBAAK5I,GAAG,UAAUjB,UAAU,MACxB,yBAAKA,UAAU,UACX,yBAAK0J,IAAI,+BAA+BpB,OAAO,OAAOvD,MAAM,OAAO+E,IAAI,YAE1E0kB,EAAattB,KAAI,WAAkB0W,GAAlB,IAAG3X,EAAH,EAAGA,MAAOuQ,EAAV,EAAUA,KAAV,OACd,yBAAKxQ,UAAqB,mBAAVC,EAA0B,MAAQ,WAAYkH,IAAKyQ,GACpD,mBAAV3X,GAA2B,0BAAMD,UAAU,YAAYC,GACvDuQ,EAAKtP,KAAI,SAACqtB,EAAMxnB,GAAP,OACN,yBAAKI,IAAKJ,EAAG/G,UAAqB,mBAAVC,EAA0B,UAAY,eAAgBL,MAAO,CAAE8E,UAAiB,IAANqC,GAAW,SACxGwnB,EAAKrtB,KAAI,SAACH,EAAI6U,GAAL,OACN,kBAAC7E,GAAA,EAAD,CACII,UAAQ,EACRhK,IAAKyO,EACL5I,KAAMjM,EAAGgM,MACT1E,MAAOtH,EAAGsH,MACVrI,UAAW8P,EACX8B,aAAwB,mBAAb7Q,EAAGgM,OAA4C,gBAAbhM,EAAGgM,OAA2BhM,EAAG+G,OAAS/G,EAAG+G,MAAM0C,OAAS,IACzGqH,KACI9Q,EAAG+G,OAAS/G,EAAG+G,MAAM0C,OAAS,GAAK,IAC/BzJ,EAAG+G,OAAS/G,EAAG+G,MAAM0C,OAAS,IAAM,IAAM,IAElD7D,QAAsB,mBAAb5F,EAAGgM,OAA4C,gBAAbhM,EAAGgM,OAA2BhM,EAAG+G,OAAS/G,EAAG+G,MAAM0C,OAAS,GAAM,WAAa,WAC1H1C,MACgB,SAAZ/G,EAAGN,KAAkB2O,KAAOrO,EAAG+G,OAAOmV,OAAO,cAC5B,kBAAblc,EAAGgM,MAA4BqC,OAAS6N,OAAO,cAC3Clc,EAAG+G,OAAS,GAExByJ,WAAY,CACRvR,WArDrB+M,EAqD2ChM,EAAGgM,MApD/C,mBAAVA,GAAwC,mBAAVA,OAA4B,EAClD,eAoDwBnN,MAAO,CACHmF,MAAOhE,EAAGgE,OAAS,OACnBuC,SAAU,QACVjE,QAAS,QACT+M,OAAQ,IACRrN,KAAM,IACN5C,MAAO,SAGfuuB,WAAY,CAAE9uB,MAAO,CAAEyD,QAAsB,mBAAbtC,EAAGgM,OAA4C,gBAAbhM,EAAGgM,OAA2BhM,EAAG+G,OAAS/G,EAAG+G,MAAM0C,OAAS,GAAM,MAAQ,KAC5I4G,gBAAiB,CACbC,QAAQ,EACRzR,MAAO,CACH0H,SAAU,OACVsF,UAAW,oBACXxI,KAAMrD,EAAGqD,MAAQ,IACjBjE,MAAO,WAtEhC,IAAA4M,aA+EP,yBAAK/M,UAAU,oBACX,yBAAK0J,IAAI,+BAA+BpB,OAAO,OAAOvD,MAAM,OAAO+E,IAAI,yBACvE,6BAFJ,2CAG4C,0BAAM9J,UAAU,OAAOI,QAAS,kBA9EvE,WACD0F,SAAS+I,iBAAiB,oBAChC/N,SAAQ,SAAAgoB,GAAC,OAAIA,EAAElpB,MAAMgF,QAAU,UACrC,IAAMiF,EAAMgN,OAAO9Q,SAAS0oB,OAC5B5X,OAAO9Q,SAASqB,KAAOyC,EA0EmE8kB,KAAtC,mCAGhD,6BAEA,4BAAQ1uB,MAAM,wBAAwBD,UAAU,sBAAsBI,QAAS,kBAAMyW,OAAOqX,UACxF,kBAAC,KAAD,CAAkBtuB,MAAO,CACrBM,OAAQ,UACRC,MAAO,qBACPmH,SAAU,YChK9B,IACIoM,GAAc,CACV3G,MAAO,cACP1E,MAAO,UACPtD,MAAO,SAEXhD,GAAS,CACLgL,MAAO,SACP1E,MAAO,0BACPtD,MAAO,SAEX6pB,GAAY,CACR7hB,MAAO,YACP1E,MAAO,8BACP5H,KAAM,OACNsE,MAAO,SAGF8pB,GAAQ,CACjB,CACI9hB,MAAO,oBACP1E,MAAO,UAEX,CACI0E,MAAO,qBACP1E,MAAO,yBACP5H,KAAM,QARO,eAWVmuB,IAEP,CACI7hB,MAAO,QACP1E,MAAO,oBAEX,CACI0E,MAAO,QACP1E,MAAO,+BAnBM,eAsBVtG,KAKE+sB,GAAQ,CAAC,eAEXpb,IAFU,eAKVkb,KAIEG,GAAU,CAAC,eAEbrb,IAFY,eAKZkb,IALY,eAQZ7sB,IAEP,CACIgL,MAAO,YACP1E,MAAO,uCClEF2mB,GAAe,CACxB,CACIjiB,MAAO,cACP1E,MAAO,kBACPtD,MAAO,SAEX,CACIgI,MAAO,OACP1E,MAAO,OACPqJ,UAAW,GACXb,QAAS,sCAEb,CACI9D,MAAO,oBACP1E,MAAO,2BACPqJ,UAAW,GACXb,QAAS,WAEb,CACI9D,MAAO,WACP1E,MAAO,WACPqJ,UAAW,GACXb,QAAS,oFAEb,CACI9D,MAAO,QACP1E,MAAO,SACP5H,KAAM,QACNiR,UAAW,IAEf,CACI3E,MAAO,MACP1E,MAAO,MACPqJ,UAAW,IAEf,CACI3E,MAAO,SACP1E,MAAO,YACP5H,KAAM,SACNiQ,IAAK,MAET,CACI3D,MAAO,cACP1E,MAAO,cACPqJ,UAAW,IAEf,CACI3E,MAAO,MACP1E,MAAO,MACPqJ,UAAW,KAEf,CACI3E,MAAO,SACP1E,MAAO,SACPqJ,UAAW,IAEf,CACI3E,MAAO,SACP1E,MAAO,SACPqJ,UAAW,IAEf,CACI3E,MAAO,KACP1E,MAAO,SACPqJ,UAAW,EACXb,QAAS,aCjEJoe,GAAa,CAAC,CACvBliB,MAAO,YACP1E,MAAO,mBACPqJ,UAAW,GACX3M,MAAO,KAEX,CACIgI,MAAO,WACP1E,MAAO,MACPqJ,UAAW,GACXb,QAAS,UACT9L,MAAO,KAEX,CACIgI,MAAO,WACP1E,MAAO,WACPqJ,UAAW,GACXb,QAAS,mFACT9L,MAAO,KAEX,CACIgI,MAAO,aACP1E,MAAO,SACPqJ,UAAW,GACX3M,MAAO,KAEX,CACIgI,MAAO,QACP1E,MAAO,uCACPqJ,UAAW,EACXjR,KAAM,SACNiQ,IAAK,IACL3L,MAAO,MChCEmqB,GAAiB,CAAC,CAC3BniB,MAAO,iBACP1E,MAAO,qBACPqJ,UAAW,GACX3M,MAAO,KAEX,CACIgI,MAAO,gBACP1E,MAAO,MACPqJ,UAAW,GACXb,QAAS,WAEb,CACI9D,MAAO,gBACP1E,MAAO,WACP5H,KAAM,MACNiR,UAAW,GACXb,QAAS,oFAEb,CACI9D,MAAO,kBACP1E,MAAO,SACP5H,KAAM,QACNiR,UAAW,GACXb,QAAS,6CACT9L,MAAO,MCXI,SAASoqB,GAAT,GAA2D,IAGlEC,EAH8BxuB,EAAmC,EAAnCA,KAAM+G,EAA6B,EAA7BA,IAAK1H,EAAwB,EAAxBA,MAAO6rB,EAAiB,EAAjBA,OAAQnsB,EAAS,EAATA,MAExC4X,GAAiB3W,EAA/ByuB,UAF+D,YAEhCzuB,EAFgC,gBAKrE,OAAQ+G,GACJ,KAAK,EACDynB,EAAcJ,GAAaxc,OAAOqc,IAClC,MACJ,KAAK,EACDO,EAAcH,GAAWzc,OAAOsc,IAChC,MACJ,KAAK,EACDM,EAAcF,GACd,MACJ,KAAK,EACoGtuB,EAA/FyL,UAA+FzL,EAApF0uB,QAAoF1uB,EAA3EyuB,UAA2EzuB,EAAhE0d,eAAgE1d,EAAhD2d,mBAAgD3d,EAA5B8b,cAD7E,IAC+F6S,EAD/F,YACyG3uB,EADzG,2FAEI2uB,EAAMC,aAAepgB,KAAOxO,EAAK4uB,cAAcvS,OAAO,cACtDsS,EAAMrjB,YAAckD,KAAOxO,EAAKsL,aAAa+Q,OAAO,cACpDsS,EAAMpjB,WAAaiD,KAAOxO,EAAKuL,YAAY8Q,OAAO,cAClD1F,EAAegY,EACfH,EAAchd,GACd,MACJ,KAAK,EACDgd,EAAcjd,GAAWK,OAAOuc,IAOxC,IAAIzsB,EAAU,GAkCd,OAhCAiJ,OAAO2R,KAAK3F,GAAczW,SAAQ,SAAAqG,GAClB,IAARQ,EACAynB,EAAYtuB,SAAQ,SAAA0P,GAChBA,EAAK1P,SAAQ,YAA6B,IAA1BiM,EAAyB,EAAzBA,MAAO1E,EAAkB,EAAlBA,MAAO5H,EAAW,EAAXA,KAC1B,GAAI0G,IAAQ4F,EAAO,CACf,IAAI0K,EAAM,GACVlM,OAAOC,OAAOiM,EAAK,CAAE1K,QAAO1E,QAAOP,MAAOyP,EAAapQ,KACnD1G,GAAM8K,OAAOC,OAAOiM,EAAK,CAAEhX,SAC/B6B,EAAQoI,KAAK+M,GACbA,EAAM,UAKlB2X,EAAYtuB,SAAQ,YAA+C,IAA5CiM,EAA2C,EAA3CA,MAAO1E,EAAoC,EAApCA,MAAO5H,EAA6B,EAA7BA,KAAMsE,EAAuB,EAAvBA,MAAuB,EAAhB+M,UAC9C,GAAI3K,IAAQ4F,EAAO,CACf,IAAI0K,EAAM,GACVlM,OAAOC,OAAOiM,EAAK,CAAE1K,QAAO1E,QAAOP,MAAOyP,EAAapQ,KACnD1G,GAAM8K,OAAOC,OAAOiM,EAAK,CAAEhX,SAC3BsE,GAAOwG,OAAOC,OAAOiM,EAAK,CAAE1S,UAChCzC,EAAQoI,KAAK+M,GACbA,EAAM,UAMtBlM,OAAO2R,KAAK3F,GAAczW,SAAQ,SAAAqG,GAChB7E,EAAQX,MAAK,SAAAZ,GAAE,OAAIA,EAAGgM,QAAU5F,MACxB,IAARQ,GAAWrF,EAAQoI,KAAK,CAAEqC,MAAO5F,EAAKkB,MAAOlB,EAAKW,MAAOyP,EAAapQ,QAIpF,yBAAKnH,UAAU,cAAcJ,MAAO,CAAEwE,KAAM,MAAOrE,MAAO,QACtD,wBAAIC,UAAU,gBAAgBC,EAA9B,IAAsCW,EAAKkrB,IAD/C,IAC6D,6BACzD,yBAAK9rB,UAAU,qBAAqBJ,MAAO,CAAEqD,eAAgB,eAErDX,EAAQpB,KAAI,WAAuC6F,GAAvC,IAAGgG,EAAH,EAAGA,MAAO1E,EAAV,EAAUA,MAAOP,EAAjB,EAAiBA,MAAOrH,EAAxB,EAAwBA,KAAMsE,EAA9B,EAA8BA,MAA9B,OACR,yBAAK/E,UAAU,kBAAkBJ,MAAO,CAAEmF,MAAOA,GAAgB,KAAQoC,IAAKJ,GAC1E,kBAACgK,GAAA,EAAD,CACI/D,KAAMD,EACN1E,MAAOA,EACPP,MAAgB,SAATrH,EAAkB2O,KAAOtH,GAAOmV,OAAO,cAAgBnV,GAAS,GACvEsJ,gBAAiB,CAAEC,QAAQ,EAAMzR,MAAO,CAAE0H,SAAU,SAAUE,WAAY,MAC1E+J,WAAY,CACR3R,MAAO,CACH0H,SAAU,SACVvC,MAAOA,GAAgB,IACvBkL,UAAW,OACXrD,UAAW,WAGnBjG,QAAQ,kBAK5B,kBAACjH,GAAA,EAAD,CAAkBC,MAAOA,KCxGrC,IAYe8vB,GAZQ,SAACC,GAEpB,OAAIA,EAAQ,MAAQA,EAAQ,QACjBC,KAAKC,MAAMF,EAAQ,MAAQ,MAE3BA,GAAS,SAAWA,EAAS,YAC3BA,EAAQ,KAAQ,MAAMzU,QAAQ,GAAK,MAErCyU,EAAQ,UCeRG,GApBM,SAAC5uB,EAAI6uB,EAAcnvB,EAAY+V,GAC5CA,GAA2B,eAAdA,IAA4B/V,EAAa,eACtDgK,KAAM,CACFd,IAAI,kCAAD,OAAoClJ,EAApC,eAAqDM,GACxD8uB,OAAQ,MACRC,aAAc,SACfjlB,MAAK,SAACklB,GACL,IAAMpmB,EAAMgN,OAAOC,IAAIC,gBAAgB,IAAIsU,KAAK,CAAC4E,EAASrvB,QACpD6E,EAAOK,SAASkR,cAAc,KACpCvR,EAAK2B,KAAOyC,EACZpE,EAAKwR,aAAa,WAAY6Y,GAC9BhqB,SAASoR,KAAKC,YAAY1R,GAC1BA,EAAK2R,WAEJkI,OAAM,SAAAC,GACHne,QAAQC,IAAIke,OClBf2Q,GAAe,CACxB,CAAEjwB,MAAO,kBAAmB+M,KAAM,kBAClC,CAAE/M,MAAO,mBAAc+M,KAAM,cAC7B,CAAE/M,MAAO,aAAW+M,KAAM,eCOxBmjB,GAAS,CACXvsB,aAAc,EACdgB,QAAS,OACTwrB,KAAM,wBACNrrB,MAAO,MACPqL,OAAQ,OACR/M,QAAS,aACTgtB,aAAc,QA+FHC,GA5FG,SAAC,GAA0D,IAAxDhQ,EAAuD,EAAvDA,gBAAiB3gB,EAAsC,EAAtCA,MAAe4wB,GAAuB,EAA/BtT,OAA+B,EAAvBsT,QAAQ/c,EAAe,EAAfA,SAErDgD,EAAQ,GACR7V,EAAa,cAAe6vB,EAAU,YAAON,IAEjD,OAAQK,GACJ,IAAK,YACD5vB,EAAa,eACb6vB,EAAU,YAAOrb,KACDxT,MAAK,SAAAgV,GAAC,MAAe,qBAAXA,EAAE3J,SAA8BwjB,EAAW9lB,KAAK,CAAEzK,MAAO,gCAA8B+M,KAAM,qBAClHwjB,EAAW7uB,MAAK,SAAAgV,GAAC,MAAe,gBAAXA,EAAE3J,SAAyBwjB,EAAW9lB,KAAK,CAAEzK,MAAO,sBAAuB+M,KAAM,gBACtGwjB,EAAW7uB,MAAK,SAAAgV,GAAC,MAAe,eAAXA,EAAE3J,SAAwBwjB,EAAW9lB,KAAK,CAAEzK,MAAO,uBAAqB+M,KAAM,eAIhH5L,QAAQC,IAAI,iCAAkCif,GAC1CA,GAAmBA,EAAgB,IACnCA,EAAgBxf,SAAQ,SAAA2W,GACpB+Y,EAAW1vB,SAAQ,SAAA2vB,GACXhZ,EAAI4I,UAAYoQ,EAAEzjB,OAASyK,EAAI4I,SAAS3J,WAAWF,EAAM9L,KAAN,eAAgB+M,EAAhB,CAAqBpP,MAAOooB,EAAExwB,eAsBjG,OAAIuW,EAAM,GAEF,yBAAKxW,UAAU,eACX,4BACI,yBAAK8J,IAAI,GAAGJ,IAAI,0BAA0B9J,MAAO,CAAEyW,YAAa,OAAQrG,YAAa,UADzF,aAIA,wBAAIpQ,MAAO,CAAEgE,aAAc,SAC3B,yBAAKhE,MAAOuwB,IACR,6BACI,yBAAKrmB,IAAI,GAAGJ,IAAI,6BAA6BpB,OAAO,SAbzD,CAAC,UAAW,iBAAkB,WAerBpH,KAAI,SAACjB,EAAO8G,GAAR,OACR,yBAAKI,IAAKJ,GACN,0BAAMnH,MAAO,CAAE0H,SAAU,QAASE,WAAY,MAAQvH,QAKlE,wBAAIL,MAAO,CAAEwQ,OAAQ,gBAEjBoG,EAAMtV,KAAI,SAAC0V,EAAM/U,GAAP,OACN,yBAAKsF,IAAKtF,GACN,yBAAKjC,MAAOuwB,IACR,yBAAKnwB,UAAU,UACX,yBAAK8J,IAAI,GAAGJ,IAAI,6BAEpB,yBAAK1J,UAAU,WACX,0BACIJ,MAAO,CAAEuJ,eAAgB,YAAajJ,OAAQ,UAAWC,MAAO,QAChEC,QAAS,kBAAMswB,GAAS9Z,EAAK3V,GAAI2V,EAAK+Z,SAAUhwB,EAAYiW,EAAKyJ,SAAS3J,aACzEE,EAAKvO,MAhDtB,SAAAuO,GAAS,IACjByJ,EAAazJ,EAAbyJ,SAER,OAAQA,EAAS3J,WACb,IAAK,aAED,MAAO,MADKlD,EAAS7R,MAAK,SAAA4N,GAAC,OAAIA,EAAEmN,gBAAkBra,OAAOge,EAASuQ,cAChDld,YACvB,IAAK,aACD,OAAI2M,EAAS/e,QAAgB,cAAa+e,EAAS/e,QACvC,IAChB,QACI,MAAO,IAqC+BuvB,CAAYja,KAIlC,yBAAK5W,UAAU,UACVypB,GAAW7S,EAAKka,YAAY,IAEjC,yBAAK9wB,UAAU,UACVyvB,GAAe7Y,EAAKpM,cAKzC,kBAAC9K,GAAA,EAAD,CAAkBC,MAAOA,KAIzB,MC5FVsd,GAAS,CACXnd,IAAK,KACLsE,KAAM,MACNrE,MAAO,OAGLgxB,G,YAEF,aAAe,IAAD,+BACV,iDAUJxwB,MAAQ,CACJoH,IAAK,EACLD,MAAO,CAAC,WAAY,YAAU,eAAgB,cAAY,WAC1DspB,SAAU,CAAC,iBAAkB,WAAY,gBAAiB,aAAc,MACxEC,SAAU,CAAC,cAAe,SAAU,aAAc,UAAW,UAC7Djf,QAAS,CAAC,WAAY,SAAU,eAAgB,WAAY,WAC5Dkf,aAAc,CAAC,UAAW,WAAS,aAAc,QAAS,cAC1DC,cAAe,CAAC,cAAe,YAAa,iBAAkB,QAAS,WACvE3d,SAAU,GACV/R,QAAS,GACTiS,YAAa,GACb4W,aAAa,EACbnK,WAAW,EACX8G,YAAY,EACZ3G,gBAAiB,GACjB8Q,eAAgB,GAChBC,YAAa,GACb9G,iBAAiB,GA5BP,EAqCd3iB,UAAY,SAAO2H,EAAGzH,GAAV,UAAAsC,EAAAC,OAAA,mEAAAD,EAAA,MACF,EAAKiS,SAAS,CAAE1U,IAAKG,KADnB,uEArCE,EA0CdwiB,YAAc,SAAO/a,EAAG6hB,GAAV,4BAAAhnB,EAAAC,OAAA,mDAEJoD,EAAU,EAAK9H,MAAf8H,MAFI,EAGuB,EAAKlN,MAAhCyR,EAHI,EAGJA,QAASrK,EAHL,EAGKA,IAAKqpB,EAHV,EAGUA,SAChBM,EAAcN,EAAS9vB,KAAI,SAAAqwB,GAAE,OAAIrmB,KAAMI,SAASimB,MAIhDH,IAAgBI,EAAiB/jB,EAAMuE,EAAQrK,IAAMhG,MAAK,SAAA4N,GAAC,OAAIA,EAAE+hB,EAAY3pB,MAAUypB,EAAeE,EAAY3pB,aAE/F2J,IAAnB8f,IAAgCI,EAV1B,mCAAApnB,EAAA,MAWA,EAAKiS,SAAS,CAAEiO,aAAc,EAAK/pB,MAAM+pB,YAAa8G,eAAgBI,KAXtE,6BAcL,EAAKnV,SAAS,CAAEiO,aAAc,EAAK/pB,MAAM+pB,YAAa8G,oBAAgB9f,IAdjE,sCA1CA,EA2DdmgB,WAAa,WACT,EAAKpV,SAAS,CAAE8D,WAAY,EAAK5f,MAAM4f,aA5D7B,EA+DdA,UAAY,SAAAlf,GAEJ,IAAE0G,EAAQ,EAAKpH,MAAboH,IAAF,EACiD,EAAKhC,MAAM8H,MAA1DxL,EADF,EACEA,SAAUyvB,EADZ,EACYA,OAAQC,EADpB,EACoBA,YAAaN,EADjC,EACiCA,YAEjCjR,EAAgBuR,EAAYvV,QAAO,SAAAzF,GAAC,OAAIA,EAAE0J,SAASuQ,YAAc3vB,EAAG2P,cACpE2f,EAAS,YAEb,OAAQ5oB,GACJ,KAAK,EACDyY,EAAgBuR,EAAYvV,QAAO,SAAAzF,GAAC,OAAIA,EAAE0J,SAASuQ,YAAc3vB,EAAG2P,cACpE,IAAMghB,EAAQF,EAAO/vB,MAAK,SAAAR,GAAC,OAAIA,EAAE0wB,UAAY5wB,KAC7C,GAAI2wB,EAAO,CACP,IAAIE,EAAc,GAClB1R,EAAgBuR,EACXvV,QAAO,SAAAzF,GAAC,OAAIA,EAAE0J,SAASuQ,YAAcgB,EAAMlV,cAAc9L,cACzD9P,SAAQ,SAAA6V,GACDA,EAAE0J,SAASqR,QAAU/a,EAAE0J,SAASqR,OAAOK,SAAS9wB,IAChD6wB,EAAYpnB,KAAKiM,MAE7ByJ,EAAgB0R,EAEpB,MAEJ,KAAK,EACDvB,EAAS,eACT,IAAIyB,EAAgB,GAEpBL,EAAY7wB,SAAQ,SAAA6V,GACa,eAAzBA,EAAE0J,SAAS3J,WACXC,EAAE0J,SAAS4R,aAAanxB,SAAQ,SAAAoxB,GACxBA,IAAWjxB,GAAI+wB,EAActnB,KAAKiM,SAIlDyJ,EAAgB4R,EAChB,MACJ,KAAK,EACDzB,EAAS,YACTnQ,EAAgBiR,EAAYjV,QAAO,SAAAzF,GAAC,OAAIA,EAAE0J,SAAShU,YAAcpL,EAAG2P,cACpE,IAAMsO,EAAUjd,EAASN,MAAK,SAAAR,GAAC,OAAIA,EAAEkL,YAAcpL,KACnD,GAAIie,EAAS,CACT,IAAMxd,EAASiwB,EAAYhwB,MAAK,SAAAgV,GAAC,OAAIA,EAAE0J,SAAS/e,UAAY4d,EAAQ5d,QAAQsP,cACxElP,GAAQ0e,EAAc1V,KAAKhJ,GAEnC,MACJ,KAAK,EACD0e,EAAgBuR,EAAYvV,QAAO,SAAAzF,GAAC,OAAIA,EAAE0J,SAAS/e,UAAYL,EAAG2P,cAKtEwP,EAAc,GACd,EAAK/D,SAAS,CAAEiE,gBAAiBF,EAAeD,WAAW,EAAMoQ,SAAQ4B,gBAAiBlxB,KAG1F,EAAKob,SAAS,CAAE3M,UAAW,gBAAiBD,iBAAiB,IAC7D,EAAK4M,SAAS,CAAEiE,gBAAiB,OAxH3B,EA4Hd8R,cAAgB,SAAAxxB,GAAS,IAAD,EACgB,EAAKL,MAAjC0wB,EADY,EACZA,SAAUD,EADE,EACFA,SAAUrpB,EADR,EACQA,IACxBsF,EAAQgkB,EAAStpB,GACjBzF,EAAU8uB,EAASrpB,GACnB0qB,EAASnnB,KAAMI,SAASpJ,GAE5ByI,KAAMuV,OAAN,4BAAkCjT,EAAlC,oBAAmD/K,EAAnD,eAAiEtB,EAAKyxB,KACjEtnB,MAAK,SAAAE,GAAC,OAAI7J,QAAQC,IAAI4J,EAAErK,UAnInB,EAsId2pB,gBAAkB,SAAMrL,GAAN,0BAAA9U,EAAAC,OAAA,mDAGR4U,EAA6CC,EAA7CD,SAAU9S,EAAmC+S,EAAnC/S,WAAYke,EAAuBnL,EAAvBmL,mBACxBiI,EAAgBljB,KAAOjD,GAAYomB,WACnCC,EAAkBpjB,KAAOib,GAAoBkI,WAEhC,UAAbtT,EAPU,mCAAA7U,EAAA,MAQJ,EAAKiS,SAAS,CAAE3M,UAAW,kBAAmBD,iBAAiB,KAR3D,4CAWV6iB,EAXU,mCAAAloB,EAAA,MAYJ,EAAKiS,SAAS,CAAE3M,UAAW,gBAAiBD,iBAAiB,KAZzD,4CAeV+iB,EAfU,qCAAApoB,EAAA,MAgBJ,EAAKiS,SAAS,CAAE3M,UAAW,kBAAmBD,iBAAiB,KAhB3D,0CAoBR5F,EAAMgN,OAAO9Q,SAAS0oB,OAAS,OACrCV,aAAa0E,QAAQ,UAAWnK,KAAKE,UAAUtJ,IAC/CrI,OAAOgE,KAAKhR,EAAK,YAtBH,uCAtIJ,EA+Jd6W,aAAe,kBAAM,EAAKrE,SAAS,CAAE4K,YAAa,EAAK1mB,MAAM0mB,cA/J/C,EAgKdtE,WAAa,kBAAM,EAAKtG,SAAS,CAAE5M,iBAAkB,EAAKlP,MAAMkP,mBAhKlD,EAiKdijB,iBAAmB,kBAAM,EAAKrW,SAAS,CAAEkO,iBAAkB,EAAKhqB,MAAMgqB,mBA/JlE,EAAK5J,YAAc,SAACpR,GACE,KAAdA,EAAEqR,UACE,EAAKrgB,MAAM+pB,aAAa,EAAKA,cAC7B,EAAK/pB,MAAM4f,WAAW,EAAKsR,aAC3B,EAAKlxB,MAAMgqB,iBAAiB,EAAKmI,qBANnC,E,sJAgCV5sB,SAASgb,iBAAiB,UAAWpT,KAAKiT,aAAa,G,8FAGlCjT,KAAK2O,SAAS,M,+BAgI7B,IAQFmV,EARC,EAG6G9jB,KAAKnN,MADjHoH,EAFD,EAECA,IAAKqK,EAFN,EAEMA,QAAStK,EAFf,EAEeA,MAAO4iB,EAFtB,EAEsBA,YAAa8G,EAFnC,EAEmCA,eAAgBjR,EAFnD,EAEmDA,UAAWgS,EAF9D,EAE8DA,gBAAiB7R,EAF/E,EAE+EA,gBAC5E7Q,EAHH,EAGGA,gBAAiBC,EAHpB,EAGoBA,UAAW6gB,EAH/B,EAG+BA,OAAQS,EAHvC,EAGuCA,SAAUzG,EAHjD,EAGiDA,gBAAiBoI,EAHlE,EAGkEA,UAAWzB,EAH7E,EAG6EA,aAAcC,EAH3F,EAG2FA,cAC1F1jB,EAAUC,KAAK/H,MAAf8H,MACA+F,EAAa/F,EAAb+F,SACF8d,EAAcN,EAAS9vB,KAAI,SAAAqwB,GAAE,OAAIrmB,KAAMI,SAASimB,MAKpD,OAFIH,GAAkB9G,IAAakH,EAAiB/jB,EAAMuE,EAAQrK,IAAMhG,MAAK,SAAA4N,GAAC,OAAIA,EAAE+hB,EAAY3pB,MAAUypB,EAAeE,EAAY3pB,QAC7IvG,QAAQC,IAAIqM,KAAK/H,MAAM8H,OACR,kBAAC,WAAD,KACH,kBAACmlB,EAAD,CAASlrB,MAAOA,EACZC,IAAKA,EACLC,UAAW8F,KAAK9F,YACpB,kBAACirB,GAAD,CACIlrB,IAAKA,EACLD,MAAOA,EACP/G,WAAY+M,KAAK/H,MAAM8H,MAAMuE,EAAQrK,IACrC2iB,YAAa5c,KAAK4c,YAClBnK,UAAWzS,KAAKyS,UAChBqK,IAAK9c,KAAK0kB,cACV7H,gBAAiB7c,KAAK6c,kBAEzBD,GACG,kBAAC6E,GAAD,CACIxvB,MAAO+N,KAAK4c,YACZ1pB,KAAM4wB,GAAkBJ,EACxBzpB,IAAKA,EACL1H,MAAOixB,EAAavpB,GACpBmkB,OAAQqF,EAAcxpB,KAI1B4iB,GACA,kBAAC,GAAD,CAAarL,QAASyT,IAEzBxS,GACG,kBAAC,GAAD,CACIxY,IAAKA,EACLmrB,UAAWX,EACX7R,gBAAiBA,EACjB3gB,MAAO+N,KAAK+jB,WACZxU,OAAQA,GACRsT,OAAQA,EACR/c,SAAUA,IAEjB/D,GAAmB,kBAACyL,GAAD,CAAaL,KAAMpL,EAAiB9P,MAAO+N,KAAKiV,WAAYjT,UAAWA,S,GApNtEnB,aA4NlBC,eAAQ,KAAM,CAAE/B,qBAAhB+B,CAAoCuN,GAH/B,CAAC,WAAY,WAAY,SAAU,eAAgB,UAAW,cAC9E,uBAAwB,wBAE6CgV,KCvOnEpuB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCgG,UAAW,CACPjE,QAAS,OACTsO,SAAU,OACV7P,QAASR,EAAMgB,QAAQ,GACvByE,OAAQ,QAEZrI,MAAO,CACHE,MAAO,OACPqH,WAAY,IACZoF,UAAW,UAEfkD,UAAW,CACPC,WAAYlN,EAAMgB,QAAQ,GAC1BmM,YAAanN,EAAMgB,QAAQ,GAC3BkB,MAAO,IACPkL,UAAW,OACXrD,UAAW,UAEfyG,WAAY,CACRtO,MAAO,KAEXoc,MAAO,CACHvU,UAAW,UAEfrH,MAAO,CACHlC,QAASR,EAAMgB,QAAQ,GACvB+I,UAAW,SACXzM,MAAO0C,EAAMW,QAAQ8P,KAAKC,UAC1BnD,OAAQvN,EAAMgB,QAAQ,IAE1BkvB,QAAS,CACL3iB,OAAQ,QAEZ4iB,YAAa,CACT5iB,OAAQ,SACR6F,OAAQ,iBACRC,aAAc,KACd5N,OAAQ,OACRjF,QAAS,OACTnD,OAAQ,UACR2M,OAAQ,IACRomB,UAAW,gCACX3rB,SAAU,UACVnH,MAAO,UACPgD,gBAAiB,WAErB+vB,aAAc,CACV9iB,OAAQ,SACR6F,OAAQ,iBACRC,aAAc,KACd5N,OAAQ,OACRjF,QAAS,YACTnD,OAAQ,UACR2M,OAAQ,IACRomB,UAAW,gCACX3rB,SAAU,UACVnH,MAAO,SACPgD,gBAAiB,eAIV,eAA2D,IAA/CmN,EAA8C,EAA9CA,YAAaC,EAAiC,EAAjCA,WAAY3P,EAAqB,EAArBA,KAAM6T,EAAe,EAAfA,YAC9Cd,EAAwC/S,EAAxC+S,WAAY+N,EAA4B9gB,EAA5B8gB,WAAYhN,EAAgB9T,EAAhB8T,YAC5B9O,EAAUjD,KAAe4C,EAAgEK,EAAhEL,MAAOsD,EAAyDjD,EAAzDiD,UAAW5I,EAA8C2F,EAA9C3F,MAAO8yB,EAAuCntB,EAAvCmtB,QAASC,EAA8BptB,EAA9BotB,YAAaE,EAAiBttB,EAAjBstB,aAExE1iB,EAAOwe,GAEX,OACI,kBAACpmB,EAAA,EAAD,CACIC,WAAS,EACTsL,UAAU,MACVnU,UAAW6I,EACXuL,QAAQ,UAER,kBAACxL,EAAA,EAAD,KAIY,kBAACA,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,IACX,kBAACqL,GAAA,EAAD,CAAOrU,UAAWuF,GACd,kBAACkB,EAAA,EAAD,CAAYzG,UAAWC,GAAvB,IAAgCyhB,EAAW/N,IAC3C,kBAACtD,GAAD,CACIG,KAAMA,EACN5P,KAAMA,EACN2P,WAAYA,EACZD,YAAaA,IAEjB,kBAAC,KAAD,CAAU0E,OAAQP,IACb,gBAAGQ,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,cAAjB,OACG,kBAACtM,EAAA,EAAD,eAAMC,WAAS,EAACuL,QAAQ,SAAS4B,WAAW,SAAShW,UAAW+yB,EAAS5e,UAAU,OAAUc,KACzF,0BAAWC,KAEPR,EAAYtS,MAAM,aACd,kBAACwG,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,EAAGhJ,UAAWgzB,GAA7B,IAA4Cte,EAA5C,KAEA,kBAAC9L,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,EAAGhJ,UAAWkzB,GAA7B,IAA4C,kBAAC,KAAD,MAA5C,KAA0Exe,EAA1E,IAAuF,6BAAvF,4DC9F9C/R,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCgG,UAAW,CACPjE,QAAS,OACTsO,SAAU,OACV7P,QAASR,EAAMgB,QAAQ,IAE3B5D,MAAO,CACHE,MAAO,OACPqH,WAAY,IACZoF,UAAW,UAEfkD,UAAW,CACPC,WAAYlN,EAAMgB,QAAQ,GAC1BmM,YAAanN,EAAMgB,QAAQ,GAC3BkB,MAAO,IACPuC,SAAU,SACV2I,UAAW,OACXrD,UAAW,UAEfyG,WAAY,CACRtO,MAAO,KAEXoc,MAAO,CACHvU,UAAW,UAEfrH,MAAO,CACHlC,QAASR,EAAMgB,QAAQ,GACvB+I,UAAW,SACXzM,MAAO0C,EAAMW,QAAQ8P,KAAKC,UAC1BnD,OAAQvN,EAAMgB,QAAQ,IAE1B4N,KAAM,CACFrB,OAAQvN,EAAMgB,QAAQ,GACtBkB,MAAO,IACPuC,SAAU,SACV2I,UAAW,OACXrD,UAAW,UAEfumB,WAAY,CACRzuB,UAAW,OACXrB,QAAS,WAEb+vB,UAAW,CACPxvB,aAAc,KACdP,QAAS,YAIF,eAA0G,IAA9FiN,EAA6F,EAA7FA,YAAaC,EAAgF,EAAhFA,WAAY3P,EAAoE,EAApEA,KAAMyyB,EAA8D,EAA9DA,SAAUC,EAAoD,EAApDA,YAA0B3L,GAA0B,EAAvClT,YAAuC,EAA1BkT,YAAY4L,EAAc,EAAdA,WAC9F5f,EAAmC/S,EAAnC+S,WAAY+N,EAAuB9gB,EAAvB8gB,WAAYgQ,EAAW9wB,EAAX8wB,OAC5B9rB,EAAUjD,KAAe4C,EAAyDK,EAAzDL,MAAOsD,EAAkDjD,EAAlDiD,UAAW5I,EAAuC2F,EAAvC3F,MAAOkzB,EAAgCvtB,EAAhCutB,WAAY1hB,EAAoB7L,EAApB6L,KAAM2hB,EAAcxtB,EAAdwtB,UAElE3iB,EAAe,SAAC1P,GAElB,IAAM+G,EAAQlH,EAAKG,EAAGgM,OAEtB,OAAIhM,EAAG8P,SAAW/I,EACqB,OAA5BA,EAAM1F,MAAMrB,EAAG8P,SAEtB/I,EAAQ/G,EAAG2P,KAAO5I,EAAQ/G,EAAG4P,KAI/BG,EAAS,SAAC/P,GACZ,IAAM+G,EAAQlH,EAAKG,EAAGgM,OAEtB,OAAIjF,EAAQ/G,EAAG2P,KAAO5I,EAAQ/G,EAAG4P,IAAY,oBACpC7I,GAAqC,OAA5BA,EAAM1F,MAAMrB,EAAG8P,SAA0B,SAClD9P,EAAG8P,SAAW/I,GAAqC,OAA5BA,EAAM1F,MAAMrB,EAAG8P,SAA0B,cACpE,GAGT,OACI,kBAACjI,EAAA,EAAD,CACIC,WAAS,EACTsL,UAAU,MACVnU,UAAW6I,EACXuL,QAAQ,UAER,kBAACxL,EAAA,EAAD,KACI,kBAACA,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,IACX,kBAACqL,GAAA,EAAD,CAAOrU,UAAWuF,GACd,kBAACkB,EAAA,EAAD,CAAYzG,UAAWC,GAAvB,IAAgCyhB,EAAW/N,IAGvCnD,GAAKtP,KAAI,SAACH,EAAIgG,GAAL,OACL,kBAAC,WAAD,CAAUI,IAAKJ,GACX,kBAACgK,GAAA,EAAD,CACI/D,KAAMjM,EAAGgM,MACT1E,MAAOtH,EAAGsH,MACV+H,OAAO,SACPpQ,UAAW4F,EAAQkK,UACnB5H,SAAUoI,EACVU,OAAQT,EACR9P,KAAMM,EAAGN,MAAQ,GACjBwQ,MAAOR,EAAa1P,GACpBoP,WAAYW,EAAO/P,GACnBmP,OAAQnP,EAAGmP,SAAU,EACrBpI,MAAOlH,EAAKG,EAAGgM,QAAU,GACzBoE,SAAUpQ,EAAGoQ,WAAY,EACzBC,gBAAiB,CACbpR,UAAW4F,EAAQkK,UACnBuB,OAAoB,SAAZtQ,EAAGN,WAAmB6Q,EAC9B1R,MAAO,CAAE0H,SAAU,UAAWE,WAAY,IAAKrH,MAAO,UAAWyD,aAAc,OAEnF2N,WAAY,CACR3R,MAAO,CAAE0F,WAAYvE,EAAGoQ,UAAYvQ,EAAK4Q,QAAU,OAAS,UAAYlJ,OAAQ,OAChFR,MAAM,GAAD,OAAKlH,EAAKG,EAAGgM,QAAU,IAC5B0E,KAAM1Q,EAAG8O,UAAY,GACrB6B,UAAW3Q,EAAG2Q,WAAa,GAC3BC,UAAW5Q,EAAG4Q,WAAa,GAC3BjB,IAAK3P,EAAG2P,KAAO,IAEnBkB,UAAW7Q,EAAG6Q,YAAa,EAC3BC,KAAM9Q,EAAG8Q,MAAQ,KACjBlL,QAAS5F,EAAG4F,SAAW,SACvBmL,UAAW/Q,EAAG+Q,YAAa,IAEZ,IAAd/Q,EAAGmP,QAAmBnP,EAAGiR,QAAQ9Q,KAAI,SAAC+Q,EAAKlL,GAAN,OAClC,kBAACmL,GAAA,EAAD,CAAU/K,IAAKJ,EAAGe,MAAOmK,GACpBA,WAKzB,kBAAC1L,EAAA,EAAD,CAAQpG,MAAM,UAAUH,UAAWozB,EAAWhzB,QAASizB,GACnD,kBAAC,KAAD,MADJ,yBAMJ3B,EAAOlnB,OAAS,GAAK,kBAAC5B,EAAA,EAAD,CAAMC,WAAS,EAChCsL,UAAU,MACVnU,UAAW6I,EACXuL,QAAQ,SACR4B,WAAW,UACX,kBAACpN,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,IACX,kBAACqL,GAAA,EAAD,CAAOrU,UAAWuF,GACd,uBAAGvF,UAAWC,GAAuB,IAAf0T,EAAmB,YAAW,eAApD,gBACC+d,EAAOxwB,KAAI,SAACU,EAAGmF,GAAJ,OACR,kBAAC6B,EAAA,EAAD,CAAMzB,IAAKJ,GACNyJ,GAAKtP,KAAI,SAACqO,EAAGqG,GAAJ,OACN,kBAAC,WAAD,CAAUzO,IAAKyO,EAAI,KACf,kBAAC7E,GAAA,EAAD,CACIjJ,MAAOlG,EAAE2N,EAAExC,QAAU,GACrBC,KAAMuC,EAAExC,MACR1E,MAAOkH,EAAElH,MACTrI,UAAWyR,EACXN,SAAsB,aAAZ5B,EAAExC,QAA8BnL,EAAEimB,KAC5C3f,SAAUqrB,EACVniB,gBAAiB,CAAEC,QAAQ,EAAMzR,MAAO,CAAE4H,WAAY,YAIlE,kBAACjB,EAAA,EAAD,CAAQG,UAAU,OAAO1G,UAAWmzB,EAAYlzB,MAAM,SAASG,QAAS,kBAAMunB,EAAW5gB,KACrF,kBAAC,KAAD,OAGJ,kBAACR,EAAA,EAAD,CAAQvG,UAAWmzB,EAAYhzB,MAAM,YAAYF,MAAM,UAAUG,QAAS,kBAAMkzB,EAAYvsB,KACxF,kBAAC,KAAD,iBCrKtCpE,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC0C,MAAO,CACHpF,MAAO0C,EAAMW,QAAQ8P,KAAKC,UAC1BxO,MAAO,OACP1B,QAAS,cACTiF,OAAQ,YAID,SAASgP,GAAT,GAAwE,IAM/BC,EANtB3W,EAAoD,EAApDA,KAAMouB,EAA8C,EAA9CA,aAAcC,EAAgC,EAAhCA,WAAYxZ,EAAoB,EAApBA,UAAWe,EAAS,EAATA,MAEjEkb,EAAW9wB,EAAX8wB,OAEFnsB,EADQ5C,KACR4C,MAEFiuB,EAAiB,GAAI/b,EAAM,GAAIE,EAAa,GAehD,OAbAqX,EAAaluB,SAAQ,SAAAyO,GACb3O,EAAKyN,eAAe,CAACkB,EAAExC,UACvBxB,OAAOC,OAAOiM,EAAdlM,OAAA,IAAAA,CAAA,GAAsBgE,EAAExC,MAAQnM,EAAK2O,EAAExC,SACvC4K,EAAWjN,KAAK6E,OAGxBikB,EAAe9oB,KAAK+M,GAEpBF,EAAe,CACX,CAAEzD,SAAU,sBAAuBtD,KAAMmH,EAAY/W,KAAM4yB,GAC3D,CAAE1f,SAAU,uCAA+BtD,KAAMye,EAAYruB,KAAM8wB,IAInE,oCACI,kBAACrd,GAAA,EAAD,CAAOrU,UAAWuF,GACd,yBAAKvF,UAAU,YAEPuX,EAAarW,KAAI,WAA2B0W,GAA3B,IAAG9D,EAAH,EAAGA,SAAUtD,EAAb,EAAaA,KAAM5P,EAAnB,EAAmBA,KAAnB,OACb,kBAAC,WAAD,CAAUuG,IAAKyQ,GACX,+BACI,+BACI,4BACI,wBAAI5X,UAAU,UACV6X,QAASrH,EAAKhG,QAASsJ,IAE/B,4BACKtD,EAAKtP,KAAI,SAACU,EAAGmF,GAAJ,OAAU,wBAAII,IAAKJ,GAAInF,EAAEyG,YAG3C,+BACW,IAANuP,GAAW,4BACPhX,EAAKM,KAAI,SAACuW,EAAKO,GAAN,OACNzM,OAAOuM,OAAOL,GAAKvW,KAAI,SAACH,EAAI6U,GAAL,OACnB,wBAAI5V,UAAU,SAASmH,IAAKyO,GACvB7U,UAKV,IAAN6W,GAAWhX,EAAKM,KAAI,SAACuW,EAAKO,GAAN,OACjB,4BACKzM,OAAOuM,OAAOL,GAAKvW,KAAI,SAACH,EAAI6U,GAAL,OACpB,wBAAI5V,UAAU,SAASmH,IAAKyO,GACvB7U,iBAYzC,wBAAInB,MAAO,CAAEwQ,OAAQ,kBAArB,IAAyC,kBAAC,KAAD,CAAsBxQ,MAAO,CAAEwW,cAAe,SAAU/S,QAAS,eAA1G,gBACCmT,GAAS,kBAACD,GAAD,CAAgB/F,KAAMiF,EAAWe,MAAOA,M,ICmRlDuF,MAFI,CAAC,Y,YA5UjB,aAAe,IAAD,+BACV,iDAQJxb,MAAQ,CACJoT,WAAY,EACZ+N,WAAY,CAAC,+BAAgC,uCACzC,cACJzI,MAAO,CAAC,mBAAoB,YAAU,cACtCvF,YAAa,GACbuI,SAAU,sBACVC,cAAc,EACd1F,MAAO,GACP2F,UAAW,GACX8K,YAAY,EACZwM,YAAa,CAAC,GACdC,WAAY,EACZhC,OAAQ,GACRhd,YAAa,wEACbyL,WAAW,GAxBD,EAiCdvH,cAAgB,SAAMpY,GAAN,kBAAA4J,EAAAC,OAAA,mDAENkS,EAAiB,EAAKhc,MAAMoT,WACnB,SAAXnT,GAAmB,EAAK6b,SAAS,CAAE1I,WAAY4I,EAAiB,IACrD,SAAX/b,GAAmB,EAAK6b,SAAS,CAAE1I,WAAY4I,EAAiB,IACrD,UAAX/b,GAAoB,EAAK6b,SAAS,CAAE1I,WAAY,MAE5C5E,EAAW,EAAKxO,MAAhBwO,UACMA,EAAO,GART,mCAAA3E,EAAA,MASF,EAAKiS,SAAL,eAAmB,EAAK9b,MAAxB,GAAkCmO,GAAiB,eATjD,uEAjCF,EA+Cd4B,YAAc,SAAMf,GAAN,oBAAAnF,EAAAC,OAAA,kDACckF,EAAEkN,OAAlBzP,EADE,EACFA,KAAMlF,EADJ,EACIA,MACd,EAAKuU,SAAL,eAAiBrP,EAAOlF,IAFd,sCA/CA,EAoDdurB,SAAW,iCAAAjpB,EAAAC,OAAA,mDACHqnB,EAAS,EAAKnxB,MAAMmxB,OACpBiC,EAAU,GACVC,EAAU,EACVF,EAAa,EAEjBzE,GAAWnuB,SAAQ,SAAA2W,GACe,KAA1B,EAAKlX,MAAMkX,EAAI1K,aAA2CuE,IAA1B,EAAK/Q,MAAMkX,EAAI1K,SAC/C6mB,GAAW,MAIH,MAAZA,EAZG,uBAaH,EAAKvX,SAAS,CAAE3M,UAAW,gBAAiBD,iBAAiB,IAb1D,kBAcI,MAdJ,UAgBHwf,GAAWnuB,SAAQ,SAAA2W,GACflM,OAAOC,OAAOmoB,EAAdpoB,OAAA,IAAAA,CAAA,GAA0BkM,EAAI1K,MAAQ,EAAKxM,MAAMkX,EAAI1K,YAEzD2kB,EAAOhnB,KAAKipB,GAEZjC,EAAO5wB,SAAQ,SAAAc,GACX8xB,GAAcrxB,OAAOT,EAAEiyB,YAEvBH,EAAa,KAxBd,iBAyBChC,EAAOoC,MACP,EAAKzX,SAAS,CAAE3M,UAAW,aAAcD,iBAAiB,IA1B3D,4CAAArF,EAAA,MA6BO,EAAKiS,SAAS,CAAEqV,SAAQgC,gBA7B/B,QA8BCzE,GAAWnuB,SAAQ,SAAA2W,GACf,EAAK4E,SAAL,eAAiB5E,EAAI1K,MAAQ,QAEjCjH,SAAS6X,kBAAkB,aAAa,GAAGC,QAjC5C,uCApDG,EA2Fd+J,WAAa,SAAA9lB,GAET,IAAIkyB,EAAY,EAAKxzB,MAAMmxB,QACG,IAA1BqC,EAAUlyB,GAAOgmB,KAAekM,EAAUlyB,GAAOgmB,MAAO,GAExDkM,EAAUjzB,SAAQ,SAAAc,GAAC,OAAIA,EAAEimB,MAAO,KAChCkM,EAAUlyB,GAAOgmB,MAAO,GAE5B,EAAKxL,SAAS,CAAEqV,OAAQqC,KAnGd,EAuGdR,WAAa,SAAAhkB,GACH,IAAEvC,EAASuC,EAAEkN,OAAXzP,KAAqB0kB,EAAW,EAAKnxB,MAAhBmxB,OAEvB5pB,EAAUyH,EAAEkN,OAAZ3U,MACO,UAATkF,IAAkBlF,EAAQA,EAAMuD,QAAQ,IAAK,MAEjD,IAAI0oB,EAAYrC,EAAOtV,QAAO,SAAAxa,GAAC,OAAe,IAAXA,EAAEimB,QAAe,GAC9ChmB,EAAQ6vB,EAAOnM,QAAQwO,GAE7BA,EAAU/mB,GAAQlF,EAElB,IAAIksB,EAAKtC,EACTsC,EAAGnyB,GAASkyB,EAEZ,EAAK1X,SAAS,CAAE4X,eAAgBD,KArHtB,EAyHdV,YAAc,SAAAzxB,GACV,IAAI6vB,EAAS,EAAKnxB,MAAMmxB,OACxBA,EAAO1vB,OAAOH,EAAO,GACrB,EAAKwa,SAAS,CAAEqV,YA5HN,EA+HdtU,MAAQ,SAAOpQ,EAAMlF,EAAOnH,EAAY0c,EAASC,EAAQC,EAAMC,GAAvD,0BAAApT,EAAAC,OAAA,mDAEElC,EAAOxH,EAAWyb,QAAO,SAAArb,GAAE,OAAIA,EAAGuc,GAAQG,cAAcrb,MAAM0F,EAAM2V,kBAC5D,KAAV3V,GAAc,EAAKuU,UAAL,mBAAiBrP,EAAO,IAAxB,cAA6BqQ,EAAU,IAAvC,KACdlV,EAAK,GAJL,oBAKMuV,EAASvV,EAAK,GAAGmV,GACjBrc,EAAKkH,EAAK,GAAGoV,GACL,KAAVzV,EAPJ,mCAAAsC,EAAA,MAQU,EAAKiS,UAAL,mBAAiBrP,EAAO0Q,GAAxB,cAAiCL,EAAUpc,GAA3C,KARV,mDAAAmJ,EAAA,MAWM,EAAKiS,UAAL,mBAAiBrP,EAAO,IAAxB,cAA6BqQ,EAAU,IAAvC,KAXN,QAYA6W,MAAM1W,EAAa,sBACnB1X,SAAS6X,kBAAkB3Q,GAAM,GAAG4Q,QAbpC,uCA/HM,EAgJdrN,WAAa,SAAOhB,GAAP,4BAAAnF,EAAAC,OAAA,gDACDmJ,EAAa,EAAK7N,MAAM8H,MAAxB+F,SACAxG,EAASuC,EAAEkN,OAAXzP,KACFlF,EAAUyH,EAAEkN,OAAZ3U,OAEAiH,EAASL,MACH,EAAK2N,SAAS,CAAEtN,WACvB,EAAKsN,SAAS,CAAEtN,YAAQuC,IAPpB,KASDtE,EATC,OAUA,SAVA,OAiBA,UAjBA,QA2BA,WA3BA,+BAWKmnB,EAAgB3gB,EAAS4I,QAAO,SAAA7M,GAAC,OAAIA,EAAE+L,OAASxT,MACpC,KACd,EAAKuU,SAAS,CAAEf,KAAM,KACtB,EAAKe,SAAS,CAAE3M,UAAWykB,EAAc,GAAI1kB,iBAAiB,KAdjE,oCAkBD3H,EAAQA,EAAMuD,QAAQ,IAAK,MACf,IACR,EAAKgR,SAAS,CAAE3M,UAAW,aAAcD,iBAAiB,KAGpDikB,EAAarxB,OAAO,EAAK9B,MAAMmzB,YAAcrxB,OAAOyF,GAC1D,EAAKuU,UAAL,mBAAiBrP,EAAOlF,GAAxB,2BAA+B4rB,GAA/B,KAxBH,iCA4BG5rB,GAAUA,EAAM1F,MAAM,SA5BzB,qCAAAgI,EAAA,MA6BS,EAAKiS,SAAS,CAAE+X,OAAQ,MA7BjC,QA8BG,EAAK/X,SAAS,CAAE3M,UAAW,iBAAkBD,iBAAiB,IA9BjE,mFAhJC,EAuLdgF,YAAc,SAACmC,GACX,IAAIpC,EAAW,IAAIsL,SACnBtL,EAASyL,OAAO,iBAAkBrJ,EAAK,IACvC,EAAKyF,SAAS,CAAE3H,YAAakC,EAAK,GAAG5J,KAAMqnB,eAAgB7f,KA1LjD,EA6LdsE,aAAe,iDAAA1O,EAAAC,OAAA,yDAEsB,EAAK9J,MAAhCmxB,EAFK,EAELA,OAAQ2C,EAFH,EAEGA,eACV1X,EAAU,GACV2X,EAAe,IAAIxU,SAGvBkP,GAAaluB,SAAQ,SAAAyO,GACb,EAAKhP,MAAM8N,eAAe,CAACkB,EAAExC,SAC7BxB,OAAOC,OAAOmR,EAAdpR,OAAA,IAAAA,CAAA,GAA0BgE,EAAExC,MAAQ,EAAKxM,MAAMgP,EAAExC,YAIzD4P,EAAQ4X,kBAAoB,QAE5BhpB,OAAOuJ,QAAQ6H,GAAS7b,SAAQ,YAAa,IAAD,mBAAV8U,EAAU,KAAPzU,EAAO,KACnCA,GAAW,KAANA,UAAiBwb,EAAQ/G,MAGvC8b,EAAO5wB,SAAQ,SAAAc,UACJA,EAAEimB,KACTtc,OAAOuJ,QAAQlT,GAAGd,SAAQ,YAAa,IAAD,mBAAV8U,EAAU,KAAPzU,EAAO,KAC7BA,GAAW,KAANA,UAAiBuwB,EAAO9b,SAI1C+G,EAAUzR,KAAMiU,eAAexC,GAC/B+U,EAASxmB,KAAMiU,eAAeuS,GA3BnB,YAAAtnB,EAAA,MA6BLO,KAAM5B,KAAK,sBAAuB,CAAE4T,UAAS+U,WAC9C3mB,MAAK,SAAA2R,GACFkU,EAAYlU,EAAc9b,SA/BvB,WAkCPyzB,EAlCO,iBAqCP,IAFAC,EAAarU,OAAO,YAAa,kBACjCqU,EAAarU,OAAO,YAAa2Q,GApC1B,6BAqCP,EAAiByD,EAAevf,UAAhC,+CAASC,EAAkC,QACvCuf,EAAarU,OAAOlL,EAAK,GAAIA,EAAK,IAtC/B,8PAAA3K,EAAA,MAwCDO,KAAM5B,KAAK,qBAAsBurB,GAClCvpB,MAAK,SAAAE,GAAC,OAAI7J,QAAQC,IAAI,gBAzCpB,QA4CX,EAAKoe,QACL,EAAKD,aA7CM,6EA7LD,EA6OdA,WAAa,WACT,IACIgV,EAAe,GACfC,EAAc,GACdjU,EAAa,GAEjBwO,GAAaluB,SAAQ,SAAA2W,GACjBlM,OAAO2R,KAAKzF,GAAK3W,SAAQ,SAAAqG,GACT,UAARA,GAAmB,EAAK5G,MAAMkX,EAAItQ,KAAOoE,OAAOC,OAAOgpB,EAAdjpB,OAAA,IAAAA,CAAA,GAA+BkM,EAAItQ,QAAOmK,UAI/F2d,GAAWnuB,SAAQ,SAAA2W,GACflM,OAAO2R,KAAKzF,GAAK3W,SAAQ,SAAAqG,GACT,UAARA,GAAmB,EAAK5G,MAAMkX,EAAItQ,KAAOoE,OAAOC,OAAOipB,EAAdlpB,OAAA,IAAAA,CAAA,GAA8BkM,EAAItQ,QAAOmK,UAI9F4e,GAAapvB,SAAQ,YAAe,IAAZkM,EAAW,EAAXA,KACpBzB,OAAOC,OAAOgV,EAAdjV,OAAA,IAAAA,CAAA,GAA6ByB,OAAOsE,OAGxC,EAAK+K,SAAL,eACOmY,EADP,GAEOC,EAFP,GAGOjU,EAHP,CAII7M,WAAY,EACZD,YAAa,GACb8C,MAAO,GACP2F,UAAW,GACXsX,YAAa,CAAC,GACdC,WAAY,EACZhC,OAAQ,GACRhd,YAAa,wEACbyL,WAAW,MA/QL,EAkRdV,MAAQ,kBAAM,EAAKpD,SAAS,CAAEH,cAAe,EAAK3b,MAAM2b,gBAlR1C,EAmRdwE,aAAe,kBAAM,EAAKrE,SAAS,CAAE4K,YAAa,EAAK1mB,MAAM0mB,cAnR/C,EAoRdtE,WAAa,kBAAM,EAAKtG,SAAS,CAAE5M,iBAAkB,EAAKlP,MAAMkP,mBApRlD,EAqRd0Q,UAAY,kBAAM,EAAK9D,SAAS,CAAE8D,WAAW,KArR/B,EAsRdsR,WAAa,kBAAM,EAAKpV,SAAS,CAAE8D,WAAY,EAAK5f,MAAM4f,aApRtD,EAAKQ,YAAc,SAACpR,GACE,KAAdA,EAAEqR,SACE,EAAKrgB,MAAMqT,WAAW,EAAKH,gBAJ7B,E,mFA4BV3N,SAASgb,iBAAiB,UAAWpT,KAAKiT,aAAa,K,6CAGlCjT,KAAK2O,SAAS,M,+BAyP7B,IAAD,EAG6B3O,KAAKnN,MAD/BoT,EAFH,EAEGA,WAAYuI,EAFf,EAEeA,aAAcD,EAF7B,EAE6BA,SAAUhD,EAFvC,EAEuCA,MAAOxJ,EAF9C,EAE8CA,gBAC/CC,EAHC,EAGDA,UAAW2kB,EAHV,EAGUA,eAEf,OAAO,kBAAC,WAAD,KAEH,kBAACjc,GAAD,CAAQC,MAAO,CAAC,WAAY,aAAc/E,KAAK,yBAE/C,kBAAC0F,GAAD,CACIrF,WAAYA,EACZsF,MAAOA,EACPL,cAAelL,KAAKkL,gBAGL,IAAfjF,EACI,kBAAC+gB,GAAD,CACI9zB,KAAM8M,KAAKnN,MACX+P,YAAa5C,KAAK4C,YAClBC,WAAY7C,KAAK6C,WACjBkE,YAAa/G,KAAK+G,cAEL,IAAfd,EACE,kBAACghB,GAAD,CACI/zB,KAAM8M,KAAKnN,MACX+P,YAAa5C,KAAK4C,YAClBC,WAAY7C,KAAK6C,WACjB8iB,SAAU3lB,KAAK2lB,SACfC,YAAa5lB,KAAK4lB,YAClB7e,YAAa/G,KAAK+G,YAClBkT,WAAYja,KAAKia,WACjB4L,WAAY7lB,KAAK6lB,aAGN,IAAf5f,GAAoB,kBAAC,GAAD,CAChB6C,MAAO6d,EACP5e,UAAWya,GAActvB,KAAM8M,KAAKnN,MACpC0uB,WAAYA,GAAYD,aAAcA,KAGtD,kBAACrW,GAAD,CACIhF,WAAYA,EACZkF,SAAUI,EAAMzO,OAAS,EACzBsO,aAAcpL,KAAKoL,aACnBF,cAAelL,KAAKkL,gBAExB,kBAAC,GAAD,CAAYiC,KAAMqB,EAAcvc,MAAO+N,KAAK+R,MAAO1E,IAAKkB,IACvDxM,GAAmB,kBAACyL,GAAD,CAAaL,KAAMpL,EAAiB9P,MAAO+N,KAAKiV,WAAYjT,UAAWA,EAAW2L,cAAe3N,KAAKnN,MAAMoP,iB,GAzU5GpB,cCR1B5L,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCypB,QAAS,CACL/kB,aAAa,aAAD,OAAe1E,EAAMW,QAAQoxB,UAE7C9xB,aAAc,CACVC,KAAM,GAEVC,iBAAkB,CACdC,eAAgB,gBAChBC,UAAW,QAEfE,YAAa,CACTC,QAASR,EAAMgB,QAAQ,GACvBP,WAAY,GAEhBC,iBAAkB,CACd1D,SAAU,WACVsD,gBAAiBN,EAAMW,QAAQC,KAAK,KACpCtD,MAAO0C,EAAMW,QAAQE,OAAOC,MAC5BC,aAAcf,EAAMgB,QAAQ,GAC5BC,gBAAiB,yBACjBC,eAAgB,QAChBC,iBAAkB,YAClBC,mBAAoB,UAExBC,QAAS,CACLrE,SAAU,WACVC,IAAK,EACLqE,OAAQ,EACRpE,MAAO,EACPqE,KAAM,EACNjB,gBAAiB,kBAErBkB,wBAAwB,aACpBxE,SAAU,WACVwD,QAASR,EAAMgB,QAAQ,IACtBhB,EAAMyB,YAAYC,GAAG,MAAQ,CAC1BlB,QAASR,EAAMgB,QAAQ,GACvBW,aAAc,IAGtBC,SAAU,CACNC,UAAW7B,EAAMgB,QAAQ,IAE7Bc,KAAM,CACFC,QAAS,QAEbC,YAAa,CACT9B,KAAM,GAEV+B,UAAW,CACPC,MAAO,QACPuD,OAAQ,SAEZtD,SAAS,eACFnC,EAAMoC,WAAWC,MADhB,CAEJ7B,QAASR,EAAMgB,QAAQ,EAAG,KAE9BsB,gBAAiB,CACb9B,QAASR,EAAMgB,QAAQ,GACvBV,gBAAiBN,EAAMW,QAAQC,KAAK,MAExC2B,eAAgB,CACZV,UAAW7B,EAAMgB,QAAQ,IAE7BwB,OAAQ,CACJlC,gBAAiBN,EAAMW,QAAQ8B,WAAWC,MAC1Cb,UAAW7B,EAAMgB,QAAQ,GACzBR,QAASR,EAAMgB,QAAQ,EAAG,QAI5B0E,GAAgB,CAClB,CACItI,MAAO,YACPuI,KAAM,SACNC,YACI,yCACJC,SAAU,2BACVjD,KAAM,sBAEV,CACIxF,MAAO,YACPuI,KAAM,SACNC,YACI,4DACJhD,KAAM,mBACNiD,SAAU,uBAEd,CACIzI,MAAO,eACPuI,KAAM,SACNC,YACI,4DACJhD,KAAM,yBACNiD,SAAU,+BAIH,cAEX,IAAM9C,EAAUjD,KAChB,OACI,kBAAC,IAAMyD,SAAP,KACI,kBAACC,EAAA,EAAD,MACA,yBAAKzG,MAAO,CACR+I,UAAW,OACXL,OAAQ,SAER,8BACI,kBAAC+L,GAAA,EAAD,CAAOrU,UAAW4F,EAAQrC,kBACtB,yBAAK3D,MAAO,CAAG0I,OAAQ,OAAQvD,MAAO,SAClC,yBAAK2E,IAAI,0BAA0BI,IAAI,WAAW/E,MAAM,OAAOuD,OAAQ,WAE3E,yBAAKtI,UAAW4F,EAAQ1B,UACxB,kBAAC0E,EAAA,EAAD,CAAMC,WAAS,GACX,kBAACD,EAAA,EAAD,CAAMT,MAAI,EAACc,GAAI,GACX,yBAAKjJ,UAAW4F,EAAQvB,yBACpB,kBAACoC,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAKkuB,cAAY,GAApD,YAGA,kBAACpuB,EAAA,EAAD,CAAYE,QAAQ,QAAQ2C,WAAS,GAArC,8CAOhB,kBAACV,EAAA,EAAD,CAAMC,WAAS,EAAChF,QAAS,EAAG7D,UAAW4F,EAAQkD,UAC1CP,GAAcrH,KAAI,SAAA6H,GAAI,OACnB,kBAACH,EAAA,EAAD,CAAMT,MAAI,EAAChB,IAAK4B,EAAK9I,MAAO+I,GAAI,GAAIC,GAAI,GACpC,kBAAC,IAAD,CAAM/B,GAAI6B,EAAKtD,KAAM7F,MAAO,CAAEuJ,eAAgB,SAC1C,kBAACD,EAAA,EAAD,CAAgBxC,UAAU,QACtB,kBAAC0C,EAAA,EAAD,CAAMpJ,UAAW4F,EAAQjB,MACrB,yBAAK3E,UAAW4F,EAAQf,aACpB,kBAACwE,EAAA,EAAD,KACI,kBAAC5C,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAC9BoC,EAAK9I,OAEV,6BACA,kBAACwG,EAAA,EAAD,CAAYE,QAAQ,QAAQ2C,WAAS,GAChCP,EAAKN,aAEV,kBAAChC,EAAA,EAAD,CAAYE,QAAQ,QAAQxG,MAAM,WAE7B4I,EAAK9I,SAKlB,kBAACsJ,EAAA,EAAD,CAAQC,QAAM,GACV,kBAACC,EAAA,EAAD,CACIzJ,UAAW4F,EAAQd,UACnB4B,UAAU,MACVgD,IAAKX,EAAKL,SACVzI,MAAO8I,EAAK9I,qB,yHC3J1D60B,GAAkBC,cAAW,SAAAlyB,GAAK,MAAK,CACzCmyB,KAAM,CACF7xB,gBAAiB,UACjBhD,MAAO,SACPqH,WAAY,IACZF,SAAU,IAEd4P,KAAM,CACF5P,SAAU,OARMytB,CAWpBE,MAEEC,GAAaH,cAAW,SAAAlyB,GAAK,MAAK,CACpCmyB,KAAM,CACF7xB,gBAAiB,UACjBhD,MAAO,UAEX+W,KAAM,CACF5P,SAAU,OANCytB,CASfE,MAEEE,GAAiBJ,cAAW,SAAAlyB,GAAK,MAAK,CACxCwS,KAAM,CACF,qBAAsB,CAClBlS,gBAAiBN,EAAMW,QAAQ8B,WAAW8vB,aAH/BL,CAMnBM,MAEE1yB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCwS,KAAM,CACFC,SAAU,IACVjS,QAAS,KACTuJ,UAAW,UAEf3M,MAAO,CACHyE,UAAW,KACXuL,UAAW,OACX3I,SAAU,SACVnE,gBAAiB,UACjByJ,UAAW,UAEfuU,MAAO,CACHvU,UAAW,UAEfrH,MAAO,CACHpF,MAAO0C,EAAMW,QAAQ8P,KAAKC,UAC1BnD,OAAQvN,EAAMgB,QAAQ,GACtBkB,MAAO,OACP1B,QAAS,YACTiF,OAAQ,QAEZ2E,MAAO,CACHrJ,aAAcf,EAAMgB,QAAQ,GAC5BX,UAAW,YAKJ,SAASoyB,GAAT,GAAmD,IAA7BC,EAA4B,EAA5BA,WAAYtD,EAAgB,EAAhBA,aAEvCrsB,EAAUjD,KACV1C,EAAiB2F,EAAjB3F,MAAOgN,EAAUrH,EAAVqH,MAETuoB,EAAY,GAOhB,OALAD,EAAWtD,aAAanxB,SAAQ,SAAAG,GAC5B,IAAMw0B,EAAMxD,EAAatwB,MAAK,SAAAiN,GAAC,OAAIA,EAAE8mB,eAAiBz0B,KACtDu0B,EAAU9qB,KAAK+qB,MAIf,kBAAC,IAAMrvB,SAAP,KACI,yBAAKxG,MAAO,CAAEmF,MAAO,OAAQ6B,MAAO,SAChC,kBAACH,EAAA,EAAD,CAAYzG,UAAWC,GAAvB,+BAEJ,kBAAC01B,GAAA,EAAD,CAAO31B,UAAWiN,GACd,kBAAC2oB,GAAA,EAAD,KACI,kBAACT,GAAD,KACKjG,GAAehuB,KAAI,SAACU,EAAGmF,GAAJ,OAAU,kBAAC+tB,GAAD,CAAiB3tB,IAAKJ,GAAInF,EAAEyG,YAGhEmtB,EAAUt0B,KAAI,SAAC6W,EAAGC,GAAJ,OACZD,EACI,kBAAC8d,GAAA,EAAD,CAAW1uB,IAAK6Q,GACZ,kBAACqd,GAAA,EAAD,KAEQnG,GAAehuB,KAAI,SAACuW,EAAKvI,GAAN,OACf,kBAACgmB,GAAD,CAAY/tB,IAAK+H,GACZ6I,EAAEN,EAAI1K,aAO3B,UCxFxB,IAAM8I,GAAe,CACjBjR,QAAS,OACT3B,eAAgB,SAChB8B,MAAO,OACP+Q,aAAc,SACd5C,SAAU,OACVrT,SAAU,YAGRkW,GAAW,CACbnJ,UAAW,SACXoJ,WAAY,aACZ5B,QAAS,gBACT0hB,WAAY,OACZ7f,OAAQ,iBACR5S,QAAS,OACT+M,OAAQ,gBACR9I,SAAU,SACVnE,gBAAiB,UACjB+S,aAAc,MACdnR,MAAO,KAGLoR,GAAO,CACTC,cAAe,SACflW,OAAQ,UACRmW,YAAa,MAGXC,GAAW,CACbF,cAAe,SACf/S,QAAS,aAGPV,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCgG,UAAW,CACPjE,QAAS,OACTsO,SAAU,OACV7P,QAASR,EAAMgB,QAAQ,GACvByE,OAAQ,OACRnF,gBAAiB,WAErB4yB,cAAe,CACXnxB,QAAS,OACTsO,SAAU,OACV7P,QAASR,EAAMgB,QAAQ,GACvByE,OAAQ,QAEZrI,MAAO,CACHE,MAAO,OACPyM,UAAW,SACXtF,SAAU,UAEd0uB,SAAU,CACNjxB,MAAO,QACPuC,SAAU,SACV8I,OAAQ,SACRxD,UAAW,UAGfkD,UAAW,CACPC,WAAYlN,EAAMgB,QAAQ,GAC1BmM,YAAanN,EAAMgB,QAAQ,GAC3ByD,SAAU,SACV2I,UAAW,OACXrD,UAAW,UAEfyG,WAAY,CACRtO,MAAO,KAEXoc,MAAO,CACHvU,UAAW,UAEfrH,MAAO,CACHlC,QAASR,EAAMgB,QAAQ,GACvB+I,UAAW,SACXzM,MAAO0C,EAAMW,QAAQ8P,KAAKC,UAC1BnD,OAAQvN,EAAMgB,QAAQ,IAE1BoyB,OAAQ,CACJ5yB,QAASR,EAAMgB,QAAQ,GACvB+I,UAAW,SACXzM,MAAO0C,EAAMW,QAAQ8P,KAAKC,UAC1BnD,OAAQvN,EAAMgB,QAAQ,GACtBhE,SAAU,YAGd4R,KAAM,CACFrB,OAAQvN,EAAMgB,QAAQ,GACtBkB,MAAO,IACPuC,SAAU,SACV2I,UAAW,OACXrD,UAAW,UAEfumB,WAAY,CACRzuB,UAAW,OACXrB,QAAS,WAEb+vB,UAAW,CACP/vB,QAAS,mBACTiF,OAAQ,OACR8H,OAAQ,MACRkE,MAAO,QACPhN,SAAU,UAEdyrB,QAAS,CACL3iB,OAAQ,iBAEZ4iB,YAAa,CACT/c,OAAQ,iBACRC,aAAc,KACd5N,OAAQ,OACRjF,QAAS,mBACTnD,OAAQ,UACR2M,OAAQ,IACRomB,UAAW,gCACX3rB,SAAU,UACVnH,MAAO,UACPgD,gBAAiB,WAGrB+vB,aAAc,CACV9iB,OAAQ,OACR6F,OAAQ,iBACRC,aAAc,KACd5N,OAAQ,OACRjF,QAAS,YACTnD,OAAQ,UACR2M,OAAQ,IACRomB,UAAW,gCACX9yB,MAAO,aAIA,eACiC,IADrBmQ,EACoB,EADpBA,YAAa7C,EACO,EADPA,MAAO7M,EACA,EADAA,KAAMs1B,EACN,EADMA,QAASC,EACf,EADeA,WAC1D1hB,EAA2C,EAA3CA,YAAa2hB,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,SACvBC,EAA2D31B,EAA3D21B,YAAaxiB,EAA8CnT,EAA9CmT,gBAAiByiB,EAA6B51B,EAA7B41B,WAAYC,EAAiB71B,EAAjB61B,aAC5CjjB,EAA2B/F,EAA3B+F,SAAUye,EAAiBxkB,EAAjBwkB,aAEZrsB,EAAUjD,KACN4C,EACgEK,EADhEL,MAAOsD,EACyDjD,EADzDiD,UAAW5I,EAC8C2F,EAD9C3F,MAAO8yB,EACuCntB,EADvCmtB,QACzBC,EAAgEptB,EAAhEotB,YAAaE,EAAmDttB,EAAnDstB,aAAcE,EAAqCxtB,EAArCwtB,UAAW6C,EAA0BrwB,EAA1BqwB,OAAQF,EAAkBnwB,EAAlBmwB,cAEhDtlB,EAAe,SAAC1P,GAElB,IAAM+G,EAAQlH,EAAKG,EAAGgM,OAEtB,OAAIhM,EAAG8P,SAAW/I,EACqB,OAA5BA,EAAM1F,MAAMrB,EAAG8P,SAEtB/I,EAAQ/G,EAAG2P,KAAO5I,EAAQ/G,EAAG4P,KAI/BG,EAAS,SAAC/P,GACZ,IAAM+G,EAAQlH,EAAKG,EAAGgM,OAEtB,OAAIjF,EAAQ/G,EAAG2P,KAAO5I,EAAQ/G,EAAG4P,IAAY,oBACpC7I,GAAqC,OAA5BA,EAAM1F,MAAMrB,EAAG8P,SAA0B,SAClD9P,EAAG8P,SAAW/I,GAAqC,OAA5BA,EAAM1F,MAAMrB,EAAG8P,SAA0B,cACpE,GAQT,OACI,kBAACjI,EAAA,EAAD,CACIC,WAAS,EACTsL,UAAU,MACVnU,UAAW6I,EACXuL,QAAQ,cAER,kBAAC8M,GAAD,CACItgB,KAAMA,EACN4S,SAAUA,EACVlD,YAAaA,IAEhByD,GAAmB,kBAACM,GAAA,EAAD,CAAOrU,UAAWi2B,GAClC,kBAACxvB,EAAA,EAAD,CAAYzG,UAAWC,GAAvB,qCACA,wBAAIL,MAAO,CAAE4H,WAAY,IAAKF,SAAU,UAAxC,6GACCkvB,EAAWt1B,KAAI,SAAC0N,EAAGoJ,GAAJ,OACZ,kBAACpP,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,GAAI7B,IAAK6Q,EAAGpY,MAAO,CAAE0U,MAAO,SACtC4a,GAAehuB,KAAI,SAACH,EAAIgG,GAAL,OAChB,kBAAC,WAAD,CAAUI,IAAKJ,GACX,kBAACgK,GAAA,EAAD,CACI/D,KAAMjM,EAAGgM,MAAQiL,EACjB3P,MAAOtH,EAAGsH,MACV+H,OAAO,SACPpQ,UAAW4F,EAAQkK,UACnB5H,SAAU,SAAAqH,GAAC,OAAIe,EAAYf,IAC3B9O,KAAMM,EAAGN,MAAQ,GACjBwQ,MAAOR,EAAa1P,GACpBoP,WAAYW,EAAO/P,GACnBmP,OAAQnP,EAAGmP,SAAU,EACrBpI,MAAOlH,EAAKG,EAAGgM,MAAQiL,IAAM,GAC7B7G,SAAUpQ,EAAGoQ,WAAY,EACzBC,gBAAiB,CACbpR,UAAW4F,EAAQkK,UACnBuB,OAAoB,SAAZtQ,EAAGN,WAAmB6Q,EAC9B1R,MAAO,CAAE0H,SAAU,SAAUE,WAAY,IAAKrH,MAAO,SAEzDoR,WAAY,CACR3R,MAAO,CACH0F,WAAYvE,EAAGoQ,UAAYvQ,EAAK4Q,QAAU,OAAS,UACnDlK,SAAU,SAAUsF,UAAW,SAAUzM,MAAO,OAAQ4E,MAAOhE,EAAGgE,OAAS,IAAKuD,OAAQ,OAE5FR,MAAM,GAAD,OAAKlH,EAAKG,EAAGgM,MAAQiL,IAAM,IAChCvG,KAAM1Q,EAAG8O,UAAY,GACrB6B,UAAW3Q,EAAG2Q,WAAa,GAC3BC,UAAW5Q,EAAG4Q,WAAa,GAC3BjB,IAAK3P,EAAG2P,KAAO,IAEnBkB,UAAW7Q,EAAG6Q,YAAa,EAC3BC,KAAM9Q,EAAG8Q,MAAQ,KACjBlL,QAAS5F,EAAG4F,SAAW,SACvBmL,UAAW/Q,EAAG+Q,YAAa,IAG9BkG,IAAMwe,EAAWhsB,OAAS,GAAW,IAANzD,GAC5B,oCACI,kBAAC,KAAD,CACI3G,QAAS,kBAAMi2B,KACfz2B,MAAO,CACHwW,cAAe,SACfvW,SAAU,WACVsE,OAAQ,QACRpE,MAAOiY,EAAI,EAAI,OAAS,OACxB7X,MAAO,UACPmH,SAAU,GACVpH,OAAQ,UACR2M,OAAQ,KAGfmL,EAAI,GAAK,kBAAC,KAAD,CACN5X,QAAS,kBAAMk2B,KACf12B,MAAO,CACHwW,cAAe,SACfvW,SAAU,WACVsE,OAAQ,QACRpE,MAAO,OACPI,MAAO,MACPmH,SAAU,GACVpH,OAAQ,UACR2M,OAAQ,cASxC,kBAACjE,EAAA,EAAD,CAAMC,WAAS,EAACjJ,MAAO,CAAEC,SAAU,aAC/B,kBAAC+I,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,GACX,kBAAC,KAAD,CAAUgM,OAAQP,IACb,gBAAGQ,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,cAAjB,OACG,kBAACtM,EAAA,EAAD,eAAMC,WAAS,EAACuL,QAAQ,SACpB4B,WAAW,SAAShW,UAAW+yB,EAAS5e,UAAU,OAAUc,KAC5D,0BAAWC,KAEPqhB,EAAYn0B,MAAM,aACd,kBAACwG,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,EAAGhJ,UAAWgzB,GAA7B,IAA4CuD,EAA5C,KAEA,kBAAC3tB,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,EAAGhJ,UAAWkzB,GAA7B,IAA4C,kBAAC,KAAD,MAA5C,KAA0EqD,EAA1E,IAAuF,6BAAvF,wDAMxB,kBAAC3tB,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,EAAGhJ,UAAW+yB,GACzB,kBAAChiB,GAAA,EAAD,CACI/D,KAAK,aACL3E,MAAM,aACN+H,OAAO,SACPpQ,UAAW4F,EAAQkK,UACnB5H,SAAU,SAAAqH,GAAC,OAAIe,EAAYf,IAC3B9O,KAAK,OACLqQ,OAAO,qCACPhJ,MAAOlH,EAAKuL,YAAc,GAC1BiF,gBAAiB,CACbpR,UAAW4F,EAAQkK,UACnBuB,QAAQ,EACRzR,MAAO,CAAE0H,SAAU,SAAUnH,MAAO,UAAWyD,aAAc,OAEjE2N,WAAY,CACR3R,MAAO,CAAE0F,WAAY,UAAWgC,SAAU,SAAUsF,UAAW,SAAUzM,MAAO,OAAQmI,OAAQ,QAEpG3B,QAAS,cAKzB,kBAACiC,EAAA,EAAD,CAAMC,WAAS,EAACsL,UAAU,MAAMC,QAAQ,aAAaxU,MAAO,CAAEmF,MAAO,WACjE,kBAAC6D,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,EAAGpJ,MAAO,CAAEmF,MAAO,YAClC,kBAAC6D,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,EAAGpJ,MAAO,CAAEgH,MAAO,UAC7BmN,GAAmB,kBAACxN,EAAA,EAAD,CAChBvG,UAAWozB,EACX5sB,KAAK,QACLrG,MAAM,YACNwG,QAAQ,YACRvG,QAAS81B,GAET,kBAAC,KAAD,MAPgB,gCAW3BniB,GAAmB0iB,EAAa,IAAM,wBAAI72B,MAAO,CAAEwQ,OAAQ,kBAArB,iCAEnC2D,IAAoB0iB,EAAa,IACjC,kBAAC7tB,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,IACX,kBAACqL,GAAA,EAAD,CAAOrU,UAAWuF,GAAlB,qCACuCwO,EAAgBL,cAK3D+iB,EAAajsB,OAAS,GAAKisB,EAAav1B,KAAI,SAACq0B,EAAYmB,GAAb,OAAmB,kBAAC9tB,EAAA,EAAD,CAAMC,WAAS,EAC1E1B,IAAS,IAAJuvB,EACLviB,UAAU,MACVnU,UAAW+1B,EACX3hB,QAAQ,SACR4B,WAAW,cACX,kBAACpN,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,IACX,kBAACqL,GAAA,EAAD,CAAOzU,MAAO,CAAEyD,QAAS,wBACrB,uBAAGrD,UAAWC,GAAd,oBACKs1B,EAAWppB,WAGR,uBAxKX3D,EAwK8C+sB,EAAWppB,YAtKzDiD,KAAO5G,GAAMyU,OAAO,cACzB,IAmKgB,2BAKR,kBAACqY,GAAD,CAAYrD,aAAcA,EAAcsD,WAAYA,IAEpD,yBAAK31B,MAAOiW,IACR,0BAAMjW,MAAOmW,IACT,kBAAC,KAAD,CAA6BnW,MAAO0W,KACpC,0BAAM1W,MAAO,CAAEwW,cAAe,WACzB,IADL,mBAGA,kBAAC,KAAD,CAAYxW,MAAOuW,GAAM/V,QAAS,kBAAMg2B,EAAQb,EAAWoB,kBAE/D,0BAAM/2B,MAAK,eAAOmW,GAAP,CAAiBhR,MAAO,GAAI5B,gBAAiB,QAAS8S,OAAQ,EAAGpW,SAAU,WAAYE,MAAO,KACrG,kBAAC,KAAD,CAAoBI,MAAM,YAAYP,MAAOuW,GAAM/V,QAAS,kBAAM+1B,EAAWZ,MADjF,cArLR,IAAC/sB,OC6FTuT,MAFI,CAAC,WAAY,eAAgB,e,YAtQ7C,aAAe,IAAD,+BACV,iDAQJxb,MAAQ,CACJiT,SAAU,GACVE,YAAa,GACbuI,SAAU,qBACVC,cAAc,EACd1F,MAAO,GACP2F,UAAW,GACX8K,YAAY,EACZwM,YAAa,CAAC,GACdC,WAAY,EACZkD,aAAc,GACdL,YAAa,uFACbtE,aAAc,GACduE,WAAY,CAAC,GACbK,iBAAkB,GAClBJ,aAAc,IAxBJ,EAqCdnmB,YAAc,SAAMf,GAAN,4BAAAnF,EAAAC,OAAA,mDAGJ2C,EAASuC,EAAEkN,OAAXzP,KAEAlF,EAAUyH,EAAEkN,OAAZ3U,MACFgvB,EANM,YAMY,EAAKnxB,MAAM8H,MAAMqpB,aACnCtB,EAAY,GACZqB,EAAmB,GAEjB5E,EAVI,YAUe,EAAKtsB,MAAM8H,MAAMwkB,cAE1C,EAAK5V,SAAL,eAAmB,EAAK9b,MAAxB,eAAgCyM,EAAOlF,KAE1B,gBAATkF,IAA0BiL,MAAMC,QAAQ+Z,GAdlC,qBAgBN6E,EAAcA,EAAY1a,QAAO,SAAA2a,GAAE,OAAIA,EAAGrjB,cAAgB5L,MAE1C,IAAIgvB,EAAYh2B,SAAQ,SAAAi2B,GACpCA,EAAG9E,aAAanxB,SAAQ,SAAAG,GACpB,IAAMw0B,EAAMxD,EAAatwB,MAAK,SAAAiN,GAAC,OAAIA,EAAE8mB,eAAiBz0B,KAClDw0B,GAAKD,EAAU9qB,KAAK+qB,MAG5BoB,EAAiBnsB,KAAK8qB,GACtBA,EAAY,MAGhB,EAAKnZ,SAAS,CAAEwa,mBAAkBJ,aAAcK,MAE1C/iB,EAAkB,EAAKpO,MAAM8H,MAAM+F,SAAS7R,MAAK,SAAA4N,GAAC,OAAIA,EAAEmE,cAAgB5L,MA9BxE,qCAAAsC,EAAA,MAiCI,EAAKiS,SAAS,CAAE3I,YAAaK,EAAgBL,YAAaK,qBAjC9D,QAkCEjM,IAAUiM,EAAgBL,aAAa,EAAK2I,SAAS,CAAEtI,qBAAiBzC,IAlC1E,wBAmCC,EAAK+K,SAAS,CAAEtI,qBAAiBzC,IAnClC,uCArCA,EA4Ed4kB,QAAU,qEAAA9rB,EAAAC,OAAA,qDAE2C,EAAK9J,MAAhDwT,EAFA,EAEAA,gBAAiBijB,EAFjB,EAEiBA,UAAW7qB,EAF5B,EAE4BA,WAC9B8lB,EAHE,YAGiB,EAAKtsB,MAAM8H,MAAMwkB,cACpCgF,EAJE,YAIU,EAAK12B,MAAMi2B,YAEvBC,EANE,YAMiB,EAAKl2B,MAAMk2B,cAC9BjgB,EAPE,YAOU,EAAKjW,MAAMiW,OACvB0gB,EAAa,GACbvD,EAAU,GAEdsD,EAAMn2B,SAAQ,SAACq2B,EAAGpwB,GACdmoB,GAAepuB,SAAQ,SAAA2W,GACnBlM,OAAOC,OAAOmoB,EAAdpoB,OAAA,IAAAA,CAAA,GAA0BkM,EAAI1K,MAAQ,EAAKxM,MAAMkX,EAAI1K,MAAQhG,QAEjE,IAAIiR,EAAI,EACRzM,OAAOuM,OAAO6b,GAAS7yB,SAAQ,SAAAK,GACvBA,IAAG6W,GAAK,MAEZA,EAAI,GAAGkf,EAAWxsB,KAAKipB,GAE3B3b,EAAI,EACJ2b,EAAU,GAEVzE,GAAepuB,SAAQ,SAAA2W,GACnB,EAAK4E,SAAL,eAAiB5E,EAAI1K,MAAQhG,EAAI,WAI9BqwB,EAAa,GAAIC,EAAc,GACtC/C,EAAe,IAAIxU,SAEvBoX,EAAWp2B,SAAQ,SAAAw2B,IACfC,EAAQtF,EAAa7V,QAAO,SAAAxN,GAAC,OAAIA,EAAE4oB,gBAAkBF,EAAGE,kBAC9ChtB,OAAS,GAAK+sB,EAAM,GAAGlpB,eAAe,gBAC5CgpB,EAAY3sB,KAAK6sB,EAAM,GAAG7B,cAE1B0B,EAAW1sB,KAAK4sB,QAIpBF,EAAW5sB,OAAS,GAzClB,wBA0CF4sB,EAAalsB,KAAMiU,eAAeiY,GA1ChC,YAAAhtB,EAAA,MA2CIO,KAAM5B,KAAK,uBAAwB,CAAEkpB,aAAcmF,EAAYnqB,MAAO,aAAc/K,QAAS,kBAC9F6I,MAAK,SAAA0sB,GACFA,EAAM72B,KAAKE,SAAQ,SAAA8N,GAAC,OAAIyoB,EAAY3sB,KAAKkE,EAAE8oB,sBA7CjD,2BAAAttB,EAAA,MA+CIO,KAAMC,IAAI,qBACXG,MAAK,SAAAC,GACF,IAAMinB,EAAe/mB,KAAMC,aAAaH,EAAIpK,MAC5C,EAAKyb,SAAS,CAAE4V,qBAlDtB,eAsDF0F,EAAiB,CACjBxR,eAAgBpS,EAAgB2I,cAChCvQ,aACAyrB,OAAQ,UACR3F,aAAcoF,GAGlB9rB,OAAOuJ,QAAQ6iB,GAAgB72B,SAAQ,YAAa,IAAD,mBAAV8U,EAAU,KAAPzU,EAAO,KAC1CA,GAAW,KAANA,UAAiBw2B,EAAe/hB,MA9DxC,aAAAxL,EAAA,MAmEAO,KAAM5B,KAAK,qBAAsB4uB,GAClC5sB,MAAK,SAAAE,GACF0rB,EAAe1rB,EAAErK,KAAK,GAAGi3B,kBArE3B,WAwENF,EAAehB,aAAeA,GAE1BK,EA1EE,iBA+EF,IAJA1C,EAAarU,OAAO,YAAa,cACjCqU,EAAarU,OAAO,YAAalM,EAAgB2I,eACjD4X,EAAarU,OAAO,eAAgB0W,GACpCrC,EAAarU,OAAO,eAAgBoX,GA9ElC,6BA+EF,EAAiBL,EAAUliB,UAA3B,+CAASC,EAA6B,QAClCuf,EAAarU,OAAOlL,EAAK,GAAIA,EAAK,IAhFpC,8PAAA3K,EAAA,MAkFIO,KAAM5B,KAAK,qBAAsBurB,GAClCvpB,MAAK,SAAAE,GAAC,OAAI7J,QAAQC,IAAI4J,EAAErK,UAnF3B,4BAAAwJ,EAAA,MAqFIO,KAAMC,IAAN,oDAAuD+rB,IACxD5rB,MAAK,SAAAE,GAAWA,EAAErK,KAAK,IAAI4V,EAAM9L,KAAKO,EAAErK,KAAK,QAtFhD,QA0FN61B,EAAaqB,UACbrB,EAAa/rB,KAAKitB,GAClBlB,EAAaqB,UAEb,EAAKzb,SAAS,CACVoa,eACAjgB,QACA+f,YAAa,uFACbC,WAAY,CAAC,GACbrqB,WAAY,GACZ6qB,eAAW1lB,IAGf,EAAKmO,QAvGC,6EA5EI,EAsLd0W,WAAa,SAAM4B,GAAN,wBAAA3tB,EAAAC,OAAA,uDAEDmM,EAAU,EAAKjW,MAAfiW,MACJvV,EAAK82B,EAAKpB,aACVqB,EAAexhB,EAAM7U,MAAK,SAAAgV,GAAC,OAAItU,OAAOsU,EAAE0J,SAASsW,gBAAkB11B,KAGnEw2B,EAPK,YAOO,EAAKl3B,MAAMk2B,cAPlB,YAAArsB,EAAA,MASHO,KAAMuV,OAAN,gEAAsEjf,IACvE8J,MAAK,SAAAE,GAAO7J,QAAQC,IAAI4J,EAAErK,UAVtB,OAYLo3B,GAAgBA,EAAa3pB,eAAe,QAAQ1D,KAAMC,IAAN,0BAA6BotB,EAAaC,MAE5FlxB,EAAI0wB,EAAMlS,QAAQwS,GACxBN,EAAMz1B,OAAO+E,EAAG,GAEhB,EAAKsV,SAAS,CAAEoa,aAAcgB,IAjBrB,sCAtLC,EA0MdhjB,YAAc,SAACmC,GACX,IAAIogB,EAAY,IAAIlX,SACpBkX,EAAU/W,OAAO,WAAYrJ,EAAK,IAClC,EAAKyF,SAAS,CAAE2a,YAAWT,YAAa3f,EAAK,GAAG5J,QA7MtC,EAgNdopB,QAAU,SAAAn1B,GAAO,IAGP+2B,EAFY,EAAKz3B,MAAfiW,MAEmB7U,MAAK,SAAAgV,GAAC,OAAItU,OAAOsU,EAAE0J,SAASsW,gBAAkB11B,KAEzE,GAAI+2B,EAAc,CAAC,IACPC,EAAkBD,EAAlBC,IAAKtH,EAAaqH,EAAbrH,SACbD,GAASuH,EAAKtH,EAAU,oBAExB,EAAKtU,SAAS,CAAE3M,UAAW,gBAAiBD,iBAAiB,KAzNvD,EA6Nd4mB,QAAU,WACN,IAAItvB,EAAC,YAAO,EAAKxG,MAAMi2B,YACvBzvB,EAAE2D,KAAK,GACP,EAAK2R,SAAS,CAAEma,WAAYzvB,KAhOlB,EAmOduvB,SAAW,WACP,IAAIvvB,EAAC,YAAO,EAAKxG,MAAMi2B,YACvBzvB,EAAE+sB,MACF,EAAKzX,SAAS,CAAEma,WAAYzvB,KAtOlB,EAyOd2Z,aAAe,kBAAM,EAAKrE,SAAS,CAAE4K,YAAa,EAAK1mB,MAAM0mB,cAzO/C,EA0OdtE,WAAa,kBAAM,EAAKtG,SAAS,CAAE5M,iBAAkB,EAAKlP,MAAMkP,mBA1OlD,EA2OdgQ,MAAQ,kBAAM,EAAKpD,SAAS,CAAEH,cAAe,EAAK3b,MAAM2b,gBAzOpD,EAAKyE,YAAc,SAACpR,GACE,KAAdA,EAAEqR,SACE,EAAKrgB,MAAM0mB,YAAY,EAAKvG,gBAJ9B,E,mFA2BO,IAAD,OAEhB/V,KAAMC,IAAI,kDACLG,MAAK,SAAAE,GAAC,OAAI,EAAKoR,SAAS,CAAE7F,MAAOvL,EAAErK,UAExCkF,SAASgb,iBAAiB,UAAWpT,KAAKiT,aAAa,K,6CAGlCjT,KAAK2O,SAAS,M,+BA0M7B,IAAD,EACmC3O,KAAKnN,MAApCkP,EADJ,EACIA,gBAAiBC,EADrB,EACqBA,UAE1B,OACI,kBAAC,IAAMtJ,SAAP,KACI,kBAACgS,GAAD,CAAQC,MAAO,CAAC,WAAY,aAAc/E,KAAK,oCAC/C,kBAAC4kB,GAAD,CACIt3B,KAAM8M,KAAKnN,MACXkN,MAAOC,KAAK/H,MAAM8H,MAClB6C,YAAa5C,KAAK4C,YAClB6lB,WAAYzoB,KAAKyoB,WACjB1hB,YAAa/G,KAAK+G,YAClByhB,QAASxoB,KAAKwoB,QACdpd,aAAcpL,KAAKoL,aACnBud,QAAS3oB,KAAK2oB,QACdC,SAAU5oB,KAAK4oB,SACfF,QAAS1oB,KAAK0oB,UAElB,kBAAC,GAAD,CAAYvb,KAAMnN,KAAKnN,MAAM2b,aAAcvc,MAAO+N,KAAK+R,MAAO1E,IAAKrN,KAAKnN,MAAM0b,WAC7ExM,GAAmB,kBAACyL,GAAD,CAAaL,KAAMpL,EAAiB9P,MAAO+N,KAAKiV,WAAYjT,UAAWA,EAAW2L,cAAe3N,KAAKnN,MAAMoP,iB,GAlQlHpB,cCIxB5L,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCgG,UAAW,CACPjE,QAAS,OACTsO,SAAU,OACV7P,QAASR,EAAMgB,QAAQ,IAE3B5D,MAAO,CACHE,MAAO,OACPqH,WAAY,IACZoF,UAAW,UAEfkD,UAAW,CACPC,WAAYlN,EAAMgB,QAAQ,GAC1BmM,YAAanN,EAAMgB,QAAQ,GAC3BkB,MAAO,IACPuC,SAAU,SACV2I,UAAW,OACXrD,UAAW,UAEfyG,WAAY,CACRtO,MAAO,KAEXoL,WAAY,CACRzL,UAAW,OAEfa,MAAO,CACHlC,QAASR,EAAMgB,QAAQ,GACvB+I,UAAW,SACXzM,MAAO0C,EAAMW,QAAQ8P,KAAKC,UAC1BnD,OAAQvN,EAAMgB,QAAQ,IAE1B4N,KAAM,CACFrB,OAAQvN,EAAMgB,QAAQ,GACtBkB,MAAO,IACPuC,SAAU,SACV2I,UAAW,OACXrD,UAAW,UAEfumB,WAAY,CACRzuB,UAAW,OACXrB,QAAS,WAEb+vB,UAAW,CACPxvB,aAAc,KACdP,QAAS,QAEb0vB,QAAS,CACL3iB,OAAQ,QAEZ4iB,YAAa,CACT5iB,OAAQ,SACR6F,OAAQ,iBACRC,aAAc,KACd5N,OAAQ,OACRjF,QAAS,OACTnD,OAAQ,UACR2M,OAAQ,IACRomB,UAAW,gCACX3rB,SAAU,UACVnH,MAAO,UACPgD,gBAAiB,WAErB+vB,aAAc,CACV9iB,OAAQ,SACR6F,OAAQ,iBACRC,aAAc,KACd5N,OAAQ,OACRjF,QAAS,YACTnD,OAAQ,UACR2M,OAAQ,IACRomB,UAAW,gCACX3rB,SAAU,UACVnH,MAAO,SACPgD,gBAAiB,eAKV,SAASg1B,GAAT,GACqD,IADxB3kB,EACuB,EADvBA,SAAU5S,EACa,EADbA,KAAM0yB,EACO,EADPA,YAAa/iB,EACN,EADMA,WAAYD,EAClB,EADkBA,YACjF+iB,EAA+D,EAA/DA,SAAU5e,EAAqD,EAArDA,YAAakT,EAAwC,EAAxCA,WAAY4L,EAA4B,EAA5BA,WAAYza,EAAgB,EAAhBA,aAGzCpE,EAAiD9T,EAAjD8T,YAAauf,EAAoCrzB,EAApCqzB,eAAgBlgB,EAAoBnT,EAApBmT,gBAC/BnO,EAAUjD,KACR4C,EACiDK,EADjDL,MAAOsD,EAC0CjD,EAD1CiD,UAAW5I,EAC+B2F,EAD/B3F,MAAOkzB,EACwBvtB,EADxButB,WAAYJ,EACYntB,EADZmtB,QACnCC,EAA+CptB,EAA/CotB,YAAaE,EAAkCttB,EAAlCstB,aAAczhB,EAAoB7L,EAApB6L,KAAM2hB,EAAcxtB,EAAdwtB,UAEnC3iB,EAAe,SAAC1P,GAElB,IAAM+G,EAAQlH,EAAKG,EAAGgM,OAEtB,OAAIhM,EAAG8P,SAAW/I,EACqB,OAA5BA,EAAM1F,MAAMrB,EAAG8P,SAEtB/I,EAAQ/G,EAAG2P,KAAO5I,EAAQ/G,EAAG4P,KAI/BG,EAAS,SAAC/P,GACZ,IAAM+G,EAAQlH,EAAKG,EAAGgM,OAEtB,OAAIjF,EAAQ/G,EAAG2P,KAAO5I,EAAQ/G,EAAG4P,IAAY,oBACpC7I,GAAqC,OAA5BA,EAAM1F,MAAMrB,EAAG8P,SAA0B,SAClD9P,EAAG8P,SAAW/I,GAAqC,OAA5BA,EAAM1F,MAAMrB,EAAG8P,SAA0B,SAC7D,KAGhB,OACI,kBAACjI,EAAA,EAAD,CACIC,WAAS,EACTsL,UAAU,MACVnU,UAAW6I,EACXuL,QAAQ,UAER,kBAAC8M,GAAD,CACItgB,KAAMA,EACN4S,SAAUA,EACVlD,YAAaA,EACbC,WAAYA,IAIJ,kBAAC3H,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,IACnB,kBAACqL,GAAA,EAAD,CAAOrU,UAAWuF,GAEV0pB,GAAW/tB,KAAI,SAACH,EAAIgG,GAAL,OACX,kBAAC,WAAD,CAAUI,IAAKJ,GACX,kBAACgK,GAAA,EAAD,CACI/D,KAAMjM,EAAGgM,MACT1E,MAAOtH,EAAGsH,MACV+H,OAAO,SACPpQ,UAAW4F,EAAQkK,UACnB5H,SAAUoI,EACVU,OAAQT,EACR9P,KAAMM,EAAGN,MAAQ,GACjBwQ,MAAOR,EAAa1P,GACpBoP,WAAYW,EAAO/P,GACnBmQ,oBAAqB,CACjBlR,UAAW4F,EAAQuK,YAEvBD,OAAQnP,EAAGmP,SAAU,EACrBpI,MAAOlH,EAAKG,EAAGgM,QAAU,GACzBoE,SAAUpQ,EAAGoQ,SACbC,gBAAiB,CACbpR,UAAW4F,EAAQkK,UACnBuB,OAAoB,SAAZtQ,EAAGN,WAAmB6Q,EAC9B1R,MAAO,CAAE0H,SAAU,SAAUnH,MAAO,UAAWyD,aAAc,OAEjE2N,WAAY,CACR3R,MAAO,CAAE0F,WAAYvE,EAAGoQ,UAAYvQ,EAAK4Q,QAAU,OAAS,UAAWlJ,OAAQ,OAC/ER,MAAM,GAAD,OAAKlH,EAAKG,EAAGgM,QAAU,IAC5B0E,KAAM1Q,EAAG8O,UAAY,GACrB6B,UAAW3Q,EAAG2Q,WAAa,GAC3BC,UAAW5Q,EAAG4Q,WAAa,GAC3BjB,IAAK3P,EAAG2P,KAAO,IAEnB/J,QAAS5F,EAAG4F,SAAW,eAMvC,kBAACJ,EAAA,EAAD,CAAQpG,MAAM,UAAUH,UAAWozB,EAAWhzB,QAASizB,GACnD,kBAAC,KAAD,MADJ,yBAORtf,GAA6C,IAA1BkgB,EAAezpB,QAClC,kBAAC5B,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,IACX,kBAACqL,GAAA,EAAD,CAAOrU,UAAWuF,GAAlB,mCACkCwO,EAAgBL,cAMtDugB,EAAezpB,OAAS,GAAKuJ,GAAmB,kBAACnL,EAAA,EAAD,CAAMC,WAAS,EAC3DsL,UAAU,MACVnU,UAAW6I,EACXuL,QAAQ,SACR4B,WAAW,UACX,kBAACpN,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,IACX,kBAACqL,GAAA,EAAD,CAAOrU,UAAWuF,GACd,uBAAGvF,UAAWC,GAAd,yBACCg0B,EAAe/yB,KAAI,SAACU,EAAGmF,GAAJ,OAChB,kBAAC6B,EAAA,EAAD,CAAMzB,IAAKJ,GACNkoB,GAAW/tB,KAAI,SAACqO,EAAGqG,GAAJ,OACZ,kBAAC,WAAD,CAAUzO,IAAKyO,EAAI,KACf,kBAAC7E,GAAA,EAAD,CACIjJ,MAAOlG,EAAE2N,EAAExC,QAAU,GACrBC,KAAMuC,EAAExC,MACR1E,MAAOkH,EAAElH,MACTrI,UAAWyR,EACXN,SAAsB,aAAZ5B,EAAExC,QAA8BnL,EAAEimB,KAC5C3f,SAAUqrB,EACVniB,gBAAiB,CAAEC,QAAQ,EAAMzR,MAAO,CAAE4H,WAAY,MACtD+J,WAAY,CAAE3R,MAAO,CAAE0H,SAAU,iBAI7C,kBAACf,EAAA,EAAD,CAAQG,UAAU,OAAO1G,UAAWmzB,EAAYlzB,MAAM,SAASG,QAAS,kBAAMunB,EAAW5gB,KACrF,kBAAC,KAAD,OAEJ,kBAACR,EAAA,EAAD,CAAQvG,UAAWmzB,EAAYhzB,MAAM,YAAYF,MAAM,UAAUG,QAAS,kBAAMkzB,EAAYvsB,KACxF,kBAAC,KAAD,YAKhB,kBAAC,KAAD,CAAUiO,OAAQP,IACb,gBAAGQ,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,cAAjB,OACG,kBAACtM,EAAA,EAAD,eAAMC,WAAS,EAACuL,QAAQ,SAAS4B,WAAW,SAAShW,UAAW+yB,EAAS5e,UAAU,OAAUc,KACzF,0BAAWC,KAEPR,EAAYtS,MAAM,aACd,kBAACwG,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,EAAGhJ,UAAWgzB,GAA7B,IAA4Cte,EAA5C,KAEA,kBAAC9L,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,EAAGhJ,UAAWkzB,GAA7B,IAA4C,kBAAC,KAAD,MAA5C,KAA0Exe,EAA1E,IAAuF,6BAAvF,uDAKpB,kBAAC9L,EAAA,EAAD,CAAMC,WAAS,EAACsL,UAAU,MAAMC,QAAQ,WAAWxU,MAAO,CAAEmF,MAAO,WAC/D,kBAAC6D,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,GAAIpJ,MAAO,CAAEmF,MAAO,YACnC,kBAAC6D,EAAA,EAAD,CAAMT,MAAI,EAACa,GAAI,EAAGpJ,MAAO,CAAEgH,MAAO,UAC9B,kBAACL,EAAA,EAAD,CACIC,KAAK,QACLrG,MAAM,UACNwG,QAAQ,YACR/G,MAAO,CAAEwQ,OAAQ,gBACjBhQ,QAAS,kBAAM0Y,MALnB,UAOW,2CAPX,IAOsC,kBAAC,KAAD,Y,IC0DvDiD,MAFK,CAAC,WAAY,U,8MArS7Bxb,MAAQ,CACJmT,YAAa,GACbuI,SAAU,qBACVC,cAAc,EACd1F,MAAO,GACP2F,UAAW,GACX8K,YAAY,EACZmR,YAAa,GACb3E,YAAa,CAAC,GACdC,WAAY,EACZO,eAAgB,GAChBvf,YAAa,wEACbyL,WAAW,G,EAUf7P,YAAc,SAAMf,GAAN,4BAAAnF,EAAAC,OAAA,qDAEiB,EAAK1E,MAAM8H,MAAhC+F,EAFI,EAEJA,SAAUke,EAFN,EAEMA,OACV1kB,EAASuC,EAAEkN,OAAXzP,KAEAlF,EAAUyH,EAAEkN,OAAZ3U,MAEN,EAAKuU,SAAL,eAAmB,EAAK9b,MAAxB,eAAgCyM,EAAOlF,KAE1B,gBAATkF,EATM,oBAUAinB,EAVA,YAUqBvC,EAAOtV,QAAO,SAAAxa,GAAC,OAAIA,EAAE8R,cAAgB5L,MAC5DiM,EAAkBP,EAAS7R,MAAK,SAAA4N,GAAC,OAAIA,EAAEmE,cAAgB5L,KACvDmsB,EAAezpB,OAAS,EACxB,EAAK6R,SAAS,CAAE4X,iBAAgBlgB,oBAC7B,EAAKsI,SAAS,CAAE4X,eAAgB,MACnClgB,EAfE,oCAAA3J,EAAA,MAgBI,EAAKiS,SAAS,CAAE3I,YAAaK,EAAgBL,YAAaK,qBAhB9D,OAiBEjM,IAAUiM,EAAgBL,aAAa,EAAK2I,SAAS,CAAEtI,qBAAiBzC,IAjB1E,wBAkBC,EAAK+K,SAAS,CAAEtI,qBAAiBzC,IAlBlC,uC,EAsBdf,WAAa,SAAMhB,GAAN,sBAAAnF,EAAAC,OAAA,gDACD4pB,EAAmB,EAAK1zB,MAAxB0zB,eACAjnB,EAASuC,EAAEkN,OAAXzP,KACFlF,EAAUyH,EAAEkN,OAAZ3U,MAHG,KAIDkF,EAJC,OAKA,aALA,OAYA,UAZA,8BAMqBinB,EAAetyB,MAAK,SAAA4N,GAAC,OAAIA,EAAE8oB,WAAavwB,OAE1D,EAAKuU,SAAS,CAAE3M,UAAW,gBAAiBD,iBAAiB,IAC7D,EAAK4M,SAAS,CAAEgc,SAAU,MAT7B,gCAcGvwB,EAdH,uBAeGA,EAAQA,EAAMuD,QAAQ,IAAK,MAEf,KAjBf,qCAAAjB,EAAA,MAkBa,EAAKiS,SAAS,CAAEwX,MAAO,MAlBpC,QAmBO/rB,EAAQ,GACR,EAAKuU,SAAS,CAAE3M,UAAW,iBAAkBD,iBAAiB,IApBrE,WAsBiB,MAAV3H,GAA2B,OAAVA,GAAmBzF,OAAOyF,GAtBlD,qCAAAsC,EAAA,MAwBa,EAAKiS,SAAS,CAAEwX,MAAO,MAxBpC,QAyBO,EAAKxX,SAAS,CAAE3M,UAAW,iBAAkBD,iBAAiB,IAzBrE,wBA4BWikB,EAAaO,EAAe/yB,KAAI,SAAAU,GAAC,OAAIS,OAAOT,EAAEiyB,UAC7CyE,QAAO,SAACluB,EAAG8d,GAAJ,OAAU9d,EAAI8d,KAE1BwL,GAAcrxB,OAAOyF,GACrB,EAAKuU,SAAS,CAAEqX,aAAYG,MAAO/rB,IAhC1C,mF,EAyCburB,SAAW,6BAAAjpB,EAAAC,OAAA,mDACHqnB,EAAS,EAAKnxB,MAAM0zB,eACpBN,EAAU,KAGV,EAAKpzB,MAAMmzB,WAAa,KALrB,uBAMH,EAAKrX,SAAS,CAAE5M,iBAAiB,EAAMC,UAAW,eAN/C,kBAOI,MAPJ,cAUPuf,GAAWnuB,SAAQ,SAAA2W,GACflM,OAAOC,OAAOmoB,EAAdpoB,OAAA,IAAAA,CAAA,GAA0BkM,EAAI1K,MAAQ,EAAKxM,MAAMkX,EAAI1K,YAEzD2kB,EAAO1wB,QAAQ2yB,GAbR,YAAAvpB,EAAA,MAeD,EAAKiS,SAAS,CAAE4X,eAAgBvC,KAf/B,OAiBPzC,GAAWnuB,SAAQ,SAAA2W,GACf,EAAK4E,SAAL,eAAiB5E,EAAI1K,MAAQ,QAEjCjH,SAAS6X,kBAAkB,aAAa,GAAGC,QApBpC,uC,EAuBX0V,YAAc,SAAMzxB,GAAN,oBAAAuI,EAAAC,OAAA,mDAENqnB,EAFM,YAEO,EAAKnxB,MAAM0zB,gBAExBhzB,EAAKywB,EAAO7vB,GAAOgwB,QACnB0G,EAAiB,EAAK5yB,MAAM8H,MAAMikB,QACrB6G,EAAe52B,MAAK,SAAAC,GAAC,OAAIA,EAAEiwB,UAAY5wB,KAN9C,mCAAAmJ,EAAA,MASAO,KAAMuV,OAAN,uDAA6Djf,IAC9Dqe,OAAM,SAAAC,GAAG,OAAIne,QAAQC,IAAIke,OAVxB,OAaVmS,EAAO1vB,OAAOH,EAAO,GACrB,EAAKwa,SAAS,CAAE4X,eAAgBvC,IAdtB,sC,EAiBd/J,WAAa,SAAA9lB,GAET,IAAIkyB,EAAY,EAAKxzB,MAAM0zB,gBACG,IAA1BF,EAAUlyB,GAAOgmB,KAAekM,EAAUlyB,GAAOgmB,MAAO,GAExDkM,EAAUjzB,SAAQ,SAAAc,GAAC,OAAIA,EAAEimB,MAAO,KAChCkM,EAAUlyB,GAAOgmB,MAAO,GAE5B,EAAKxL,SAAS,CAAE4X,eAAgBF,K,EAIpCR,WAAa,SAAAhkB,GAAM,IACPvC,EAASuC,EAAEkN,OAAXzP,KACFlF,EAAUyH,EAAEkN,OAAZ3U,MAEO,UAATkF,IAAkBlF,EAAQA,EAAMuD,QAAQ,IAAK,MACjD,IAAI0oB,EAAY,EAAKxzB,MAAM0zB,eAAe7X,QAAO,SAAAxa,GAAC,OAAe,IAAXA,EAAEimB,QAAe,GACjEhmB,EAAQ,EAAKtB,MAAM0zB,eAAe1O,QAAQwO,GAEhDA,EAAU/mB,GAAQlF,EAElB,IAAIksB,EAAK,EAAKzzB,MAAM0zB,eACpBD,EAAGnyB,GAASkyB,EAEZ,EAAK1X,SAAS,CAAE4X,eAAgBD,K,EAGpClb,aAAe,qEAAA1O,EAAAC,OAAA,qDAE+C,EAAK9J,MAAzDwT,EAFK,EAELA,gBAAiBsgB,EAFZ,EAEYA,eAAgBJ,EAF5B,EAE4BA,eACjCvC,EAAW,EAAK/rB,MAAM8H,MAAtBikB,SAGauC,EAAe/yB,KAAI,SAAAU,GAAC,OAAIS,OAAOT,EAAEiyB,UAC/CyE,QAAO,SAACluB,EAAG8d,GAAJ,OAAU9d,EAAI8d,KAEP,KATR,uBAUP,EAAK7L,SAAS,CAAE5M,iBAAiB,EAAMC,UAAW,eAV3C,kBAWA,MAXA,UAeP8oB,EAAa,GAAIpB,EAAa,GAC9B9C,EAAe,IAAIxU,UACnB5C,EAAO+R,GAAW/tB,KAAI,SAAAH,GAAE,OAAImK,KAAMqe,WAAWxoB,EAAGgM,WAC/C/K,OAAO,EAAG,GAEfiyB,EAAenzB,SAAQ,SAAAkzB,GAAO,IAAD,EACuBA,EAAT3K,GADd,EACnB3V,YADmB,EACNkb,UADM,EACK/G,KADL,mDAIzB,IAFAmM,EAAK3K,GACF3M,cAAgB3I,EAAgB2I,cAC9BsX,EAAG3lB,eAAe,WASnBmqB,EAAW9tB,KAAKspB,UACTwE,EAAW3G,YAVa,CAC/B,IAAM0F,EAAQ7F,EAAO/vB,MAAK,SAAAC,GAAC,OAAIA,EAAEy2B,WAAarE,EAAGqE,YAC7Cd,GACAvD,EAAGnC,QAAU0F,EAAM1F,QACnB2G,EAAW9tB,KAAKspB,IAEhBoD,EAAW1sB,KAAKspB,OAQtB/mB,EAAQ,SAAU/K,EAAU,WAC9BonB,EAAc,GAAImP,EAAS,GAEzBC,EAAYxtB,KAAMC,aAAa,EAAK5K,MAAMm4B,WAEhDF,EAAW13B,SAAQ,SAAAgoB,GACf4P,EAAU53B,SAAQ,SAAAc,GACVknB,EAAE+I,UAAYjwB,EAAEiwB,UAChBtmB,OAAO2R,KAAK4L,GAAGhoB,SAAQ,SAAAqG,GACf2hB,EAAE3hB,KAASvF,EAAEuF,IAAgB,YAARA,GACrBoE,OAAOC,OAAOitB,EAAdltB,OAAA,IAAAA,CAAA,GAAyBpE,EAAM2hB,EAAE3hB,QAGrCoE,OAAO2R,KAAKub,GAAQjuB,OAAS,GAAG8e,EAAY5e,KAAK+tB,GACrDA,EAAS,UAKrBD,EAAattB,KAAMiU,eAAemK,GAClC8N,EAAalsB,KAAMiU,eAAeiY,GAC9BuB,EAAgB1E,EACf7X,QAAO,SAAAxa,GAAC,YAAkB0P,IAAd1P,EAAEiwB,WACd3wB,KAAI,SAAAU,GAAC,OAAIA,EAAEiwB,WA7DL,YAgEH2G,EAAWhuB,OAAS,GAhEjB,qCAAAJ,EAAA,MAiEGO,KAAMkV,IAAI,kBAAmB,CAAEzS,aAAcorB,EAAYvrB,QAAO/K,UAASgb,SAC1EnS,MAAK,SAAAE,GAAC,OAAI7J,QAAQC,IAAI4J,EAAErK,UAlE1B,aAqEHw2B,EAAW5sB,OAAS,GArEjB,qCAAAJ,EAAA,MAsEGO,KAAM5B,KAAK,iBAAkB,CAAE2oB,OAAQ0F,EAAYnqB,QAAO/K,YAC3D6I,MAAK,SAAAE,GAAC,OAAIA,EAAErK,KAAKE,SAAQ,SAAA83B,GAAQ,OAAID,EAAcjuB,KAAKkuB,EAASC,iBAvEnE,YA0EHxE,EA1EG,iBA8EH,IAHAC,EAAarU,OAAO,YAAalM,EAAgB2I,eACjD4X,EAAarU,OAAO,SAAU0Y,GA5E3B,6BA8EH,EAAiBtE,EAAevf,UAAhC,+CAASC,EAAkC,QACvCuf,EAAarU,OAAOlL,EAAK,GAAIA,EAAK,IA/EnC,8PAAA3K,EAAA,MAiFGO,KAAM5B,KAAK,qBAAsBurB,GAClCvpB,MAAK,SAAAE,GAAC,OAAI7J,QAAQC,IAAI4J,EAAErK,UAlF1B,2DAqFPQ,QAAQC,IAAR,MArFO,QAwFXm3B,EAAa,GACblP,EAAc,GACdmP,EAAS,GACTrB,EAAa,GACb,EAAK3X,QAECqZ,EAAc5tB,KAAMiU,eAAe,EAAKxZ,MAAM8H,MAAMikB,QAC1D,EAAKrV,SAAS,CACV3I,YAAa,GAAIK,qBAAiBzC,EAAW2iB,eAAgB,GAC7Dvf,YAAa,wEACb2f,oBAAgB/iB,EAChBonB,UAAWI,IAnGJ,qF,EAuGfrkB,YAAc,SAACmC,GAEX,IAAIpC,EAAW,IAAIsL,SACnBtL,EAASyL,OAAO,iBAAkBrJ,EAAK,IACvC,EAAKyF,SAAS,CAAE3H,YAAakC,EAAK,GAAG5J,KAAMqnB,eAAgB7f,K,EAG/DkM,aAAe,kBAAM,EAAKrE,SAAS,CAAE4K,YAAa,EAAK1mB,MAAM0mB,c,EAC7DtE,WAAa,kBAAM,EAAKtG,SAAS,CAAE5M,iBAAkB,EAAKlP,MAAMkP,mB,EAChEgQ,MAAQ,kBAAM,EAAKpD,SAAS,CAAEH,cAAe,EAAK3b,MAAM2b,gB,qFAzPpD,IAAMwc,EAAYxtB,KAAMiU,eAAezR,KAAK/H,MAAM8H,MAAMikB,QACxDhkB,KAAK2O,SAAS,CAAEqc,gB,6CAGKhrB,KAAK2O,SAAS,M,+BAuP7B,IAAD,EACkC3O,KAAKnN,MAApCkP,EADH,EACGA,gBAAiBC,EADpB,EACoBA,UACnB8D,EAAa9F,KAAK/H,MAAM8H,MAAxB+F,SAEN,OACI,kBAAC,IAAMpN,SAAP,KACI,kBAACgS,GAAD,CAAQC,MAAO,CAAC,WAAY,aAAc/E,KAAK,4CAC/C,kBAAC6kB,GAAD,CACIv3B,KAAM8M,KAAKnN,MACXiT,SAAUA,EACVlD,YAAa5C,KAAK4C,YAClBC,WAAY7C,KAAK6C,WACjB8iB,SAAU3lB,KAAK2lB,SACfC,YAAa5lB,KAAK4lB,YAClB3L,WAAYja,KAAKia,WACjB4L,WAAY7lB,KAAK6lB,WACjB9e,YAAa/G,KAAK+G,YAClBqE,aAAcpL,KAAKoL,eAEvB,kBAAC,GAAD,CAAY+B,KAAMnN,KAAKnN,MAAM2b,aAAcvc,MAAO+N,KAAK+R,MAAO1E,IAAKrN,KAAKnN,MAAM0b,WAC7ExM,GAAmB,kBAACyL,GAAD,CAAaL,KAAMpL,EAAiB9P,MAAO+N,KAAKiV,WAAYjT,UAAWA,S,GAjSnFnB,cCXT,SAASwqB,KACpB,OACI,yBAAKn5B,MAAO,CAAE0I,OAAQ,OAAQvD,MAAO,OAAQqL,OAAQ,YACjD,yBAAK1G,IAAI,gCAAgCI,IAAI,mCCc1C,yBAEX,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOkvB,OAAK,EAAC/yB,KAAK,IAAIS,UAAWuyB,IACjC,kBAAC,IAAD,CAAOhzB,KAAK,aAAaS,UAAawyB,KACtC,kBAAC,IAAD,CAAOjzB,KAAK,YAAY+yB,OAAK,EAACtyB,UAAakD,IAC3C,kBAAC,IAAD,CAAO3D,KAAK,qBAAqB+yB,OAAK,EAACtyB,UAAayyB,KACpD,kBAAC,IAAD,CAAOlzB,KAAK,qBAAqB+yB,OAAK,EAACtyB,UAAa0yB,KACpD,kBAAC,IAAD,CAAOnzB,KAAK,sBAAsB+yB,OAAK,EAACtyB,UAAaoc,KACrD,kBAAC,IAAD,CAAO7c,KAAK,yBAAyB+yB,OAAK,EAACtyB,UAAa2yB,KACxD,kBAAC,IAAD,CAAOpzB,KAAK,mBAAmB+yB,OAAK,EAACtyB,UAAa4yB,KAClD,kBAAC,IAAD,CAAOrzB,KAAK,aAAaS,UAAa6yB,KACtC,kBAAC,IAAD,CAAOtzB,KAAK,YAAY+yB,OAAK,EAACtyB,UAAa8yB,KAC3C,kBAAC,IAAD,CAAOvzB,KAAK,qBAAqBS,UAAa+yB,KAC9C,kBAAC,IAAD,CAAOxzB,KAAK,mBAAmBS,UAAagzB,KAC5C,kBAAC,IAAD,CAAOzzB,KAAK,yBAAyBS,UAAaizB,KAClD,kBAAC,IAAD,CAAO1zB,KAAK,OAAOS,UAAakzB,KAChC,kBAAC,IAAD,CAAO3zB,KAAK,eAAeS,UAAawyB,OCGjCW,OAvBf,WAEE,IAIQxkB,EAJUzS,aAAW,SAAAC,GAAK,MAAK,CACrCwS,KAAM,CAAElS,gBAAgB,cAGTR,GAAT0S,KACFykB,EAAQC,YAAgBC,IAASC,IAAOC,IAAhCH,CAAuCI,KACrD,OACE,kBAAC,IAAD,CAAUL,MAAOA,EAAMr3B,IACrB,yBAAKzC,UAAWqV,GACd,kBAAC+kB,EAAA,EAAD,CAAWC,SAAS,KAAKz6B,MAAO,CAAE+I,UAAW,UAC3C,kBAAC,IAAD,KACE,kBAAC,EAAD,MACA,kBAAC2xB,GAAD,OAEF,kBAAC,EAAD,UCpBUC,QACW,cAA7B1jB,OAAO9Q,SAASy0B,UAEe,UAA7B3jB,OAAO9Q,SAASy0B,UAEhB3jB,OAAO9Q,SAASy0B,SAASp4B,MACvB,2DCbNq4B,IAASzQ,OAAO,kBAAC,GAAD,MAASlkB,SAAS40B,eAAe,SD4H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM9vB,MAAK,SAAA+vB,GACjCA,EAAaC,kB","file":"static/js/main.8bc9584c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function ClosePopUpButton({close}) {\r\n    return (\r\n        <div style={{\r\n            position: 'absolute',\r\n            top: '0.4%',\r\n            right: '0.4%'\r\n        }}>\r\n            <div>\r\n                <i className=\"material-icons right\" title=\"Fechar\" style={{ cursor: 'pointer', color: 'red' }} onClick={close}>close</i>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","const initState = {}\r\n\r\nconst dataReducer = (state = initState, action) => {\r\n    const { type, payload } = action\r\n\r\n    switch (type) {\r\n\r\n        case 'GET_DATA':            \r\n            return { ...state, ...payload }\r\n\r\n        case 'INSERT_DATA': {\r\n            const { collection, data } = payload\r\n\r\n            if (state[collection] && data) {\r\n                let update = [...state[collection]]\r\n                data.forEach(el => {\r\n                    update.unshift(el)\r\n                })\r\n                return {\r\n                    ...state, [collection]: update\r\n                }\r\n            }\r\n            return state\r\n        }\r\n\r\n        case 'UPDATE_DATA': {\r\n            const { collection, data, id } = payload\r\n            if (state[collection] && data) {\r\n                const update = state[collection].map(v => {\r\n                    data.forEach(el => {\r\n                        if (v[id] === el[id]) {\r\n                            v = el\r\n                        }\r\n                    })\r\n                    return v\r\n                })\r\n                console.log({ [collection]: update })\r\n                return {\r\n                    ...state, [collection]: update\r\n                }\r\n            }\r\n            return state\r\n        }\r\n\r\n\r\n        case 'UPDATE_COLLECTION': {\r\n            const { data, collection } = payload\r\n            console.log(payload)\r\n            return {\r\n                ...state, [collection]: data\r\n            }\r\n        }\r\n\r\n        case 'REMOVE_FROM_INSURANCE':\r\n            const { apolice, placaIndex, vehicleIndex } = payload\r\n\r\n            if (state.seguros) {\r\n\r\n                let seguros = [...state.seguros],\r\n                    seguro = seguros.find(s => s.apolice === apolice),\r\n                    index = seguros.findIndex(s => s.apolice === apolice)\r\n\r\n                seguro.placas.splice(placaIndex, 1)\r\n                seguro.veiculos.splice(vehicleIndex, 1)\r\n                seguros[index] = seguro\r\n                console.log(seguros)\r\n                return {\r\n                    ...state, seguros\r\n                }\r\n            }\r\n            return state\r\n\r\n        case 'DELETE_ONE':\r\n            const { tablePK, collection } = payload\r\n            if (state[collection]) {\r\n                let\r\n                    { id } = payload,\r\n                    updatedData = [...state[collection]]\r\n                console.log(id, collection)\r\n                if (!collection.match('Docs')) id = Number(id)\r\n                \r\n                const\r\n                    element = updatedData.find(el => el[tablePK] === id),\r\n                    index = updatedData.findIndex(el => el === element)\r\n\r\n                updatedData.splice(index, 1)\r\n\r\n                return {\r\n                    ...state, [collection]: updatedData\r\n                }\r\n            }\r\n            return state\r\n\r\n        case 'SET_COLOR':\r\n            return { ...state, setColor: action.payload }\r\n\r\n        case 'LOADING':\r\n            return { ...state, loading: action.payload }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default dataReducer;","import dataReducer from './Store/dataReducer'\r\nimport { combineReducers } from 'redux';\r\n\r\nconst rootReducer = combineReducers({    \r\n    data: dataReducer    \r\n})\r\n\r\nexport default rootReducer","import React, { useState, useEffect } from 'react'\r\nimport { Link as RouterLink } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { Toolbar, Typography, Button, IconButton, Link } from '@material-ui/core'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { withRouter } from 'react-router'\r\nimport './stylez.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    toolbarTitle: {\r\n        flex: 1,\r\n    },\r\n    toolbarSecondary: {\r\n        justifyContent: 'space-between',\r\n        overflowX: 'auto',\r\n        backgroundColor: '#0398c1',\r\n        color: 'white'\r\n    },\r\n\r\n    toolbarLink: {\r\n        padding: '12px 55px 13px 55px',\r\n        flexShrink: 0,\r\n    },\r\n    mainFeaturedPost: {\r\n        position: 'relative',\r\n        backgroundColor: theme.palette.grey[800],\r\n        color: theme.palette.common.white,\r\n        marginBottom: theme.spacing(4),\r\n        backgroundImage: '/images/bus_wallpaper.jpg',\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n    },\r\n    overlay: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        left: 0,\r\n        backgroundColor: 'rgba(0,0,0,.3)',\r\n    },\r\n    mainFeaturedPostContent: {\r\n        position: 'relative',\r\n        padding: theme.spacing(3),\r\n        [theme.breakpoints.up('md')]: {\r\n            padding: theme.spacing(6),\r\n            paddingRight: 0,\r\n        },\r\n    },\r\n    mainGrid: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    card: {\r\n        display: 'flex',\r\n    },\r\n    cardDetails: {\r\n        flex: 1,\r\n    },\r\n    cardMedia: {\r\n        width: 160,\r\n    },\r\n    markdown: {\r\n        ...theme.typography.body2,\r\n        padding: theme.spacing(3, 0),\r\n    },\r\n    sidebarAboutBox: {\r\n        padding: theme.spacing(2),\r\n        backgroundColor: theme.palette.grey[200],\r\n    },\r\n    sidebarSection: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    footer: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        marginTop: theme.spacing(8),\r\n        padding: theme.spacing(6, 0),\r\n    },\r\n}));\r\n\r\nconst sections = [\r\n    { title: 'Página Inicial', link: '/' },\r\n    { title: 'Certidões', link: '/certidoes' },\r\n    { title: 'Consultas', link: '/consultas' },\r\n    { title: 'Veículos', link: '/veiculos' },\r\n    { title: 'Empresas', link: '/empresas' },\r\n    { title: 'Fale Conosco', link: '/faleConosco' },\r\n];\r\n\r\n\r\nconst Header = props => {\r\n    const classes = useStyles()\r\n    const [path, setSelected] = useState(document.location.pathname)\r\n    const { pathname } = props.location\r\n    \r\n    useEffect(() => {\r\n        setSelected(pathname)        \r\n    }, [pathname])\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n\r\n            <Toolbar>\r\n                <Button size=\"small\">Criar usuário</Button>\r\n                <Typography\r\n                    component=\"h2\"\r\n                    variant=\"h6\"\r\n                    color=\"inherit\"\r\n                    align=\"center\"\r\n                    noWrap\r\n                    className={classes.toolbarTitle}\r\n                >\r\n                    Seinfra - Subsecretaria de Transportes e Mobilidade - MG\r\n                    </Typography>\r\n                <IconButton>\r\n                    <SearchIcon />\r\n                </IconButton>\r\n                <Button variant=\"outlined\" size=\"small\">\r\n                    Fazer login\r\n                    </Button>\r\n            </Toolbar>\r\n            <Toolbar component=\"nav\" variant=\"dense\" className={classes.toolbarSecondary}>\r\n                {sections.map(({ link, title }, i) => (\r\n                    <Link\r\n                        component={RouterLink}\r\n                        to={link}\r\n                        key={i}\r\n                        color=\"inherit\"\r\n                        noWrap\r\n                        variant=\"body2\"\r\n                        href=\"\"\r\n                        style={{\r\n                            fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana, sans-serif',\r\n                            fontSize: '15px',\r\n                            backgroundColor: (path.match(link) && link !== '/' && link !== '/faleConosco')\r\n                                ? '#11a7d2' : '',\r\n                            //borderTop: (path === link && link !== '/' && link !== '/faleConosco') ? '2px solid #fff' : '',\r\n                            borderBottom: (path.match(link) && link !== '/' && link !== '/faleConosco') ? '1.5px solid #fff' : '',\r\n                            fontWeight: (path.match(link) && (link === '/' || link === '/faleConosco')) ? '500' : '400'\r\n                        }}\r\n                        className={classes.toolbarLink}\r\n                        onClick={() => setSelected(link)}\r\n                    >\r\n                        {title}\r\n                    </Link>\r\n                ))}\r\n            </Toolbar>\r\n        </React.Fragment >\r\n    )\r\n}\r\nexport default withRouter(Header)","//import React from 'react'\r\n\r\nconst Footer = () => {\r\n    return null\r\n    \r\n    /* (\r\n        <footer className=\"grey lighten-2 black-text\"\r\n            style={{\r\n                \r\n                bottom: 0,\r\n                width: '100%',\r\n                borderTop: '0.1px solid #999',\r\n                marginTop: 'auto',\r\n                maxHeight: '20px',\r\n                left: 0\r\n            }}>\r\n            <span style={{ fontSize: '0.6rem' }}>\r\n                Seinfra, Governo de Minas Gerais. Desenvolvido por Sandro Veríssimo, © 2019.\r\n            </span>\r\n        </footer>\r\n    ) */\r\n}\r\n\r\nexport default Footer;","import React from 'react'\r\nimport { Tabs, Tab } from '@material-ui/core'\r\n\r\nexport default ({items, tab, changeTab}) =>\r\n\r\n    <div className='tabMenu'> \r\n        <Tabs value={tab}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            centered \r\n            onChange={changeTab}>\r\n            {items.map((item, i)=> <Tab key={i} label={item} />)}\r\n        </Tabs>\r\n    </div>\r\n\r\n\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActionArea from '@material-ui/core/CardActionArea'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport './home.css'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({  \r\n  \r\n    card: {\r\n        display: 'flex',\r\n        fontSize: '0.5rem'\r\n    },\r\n    cardDetails: {\r\n        flex: 1,\r\n        fontSize: '0.5rem'\r\n    },\r\n    cardMedia: {\r\n        width: '120px',\r\n        height: '180px'\r\n    },    \r\n    footer: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        marginTop: theme.spacing(8),\r\n        padding: theme.spacing(6, 0),\r\n    }\r\n}));\r\n\r\nconst featuredPosts = [\r\n    {\r\n        title: 'Veículos',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastre e altere os dados do veículo ou solicite sua baixa',\r\n        link: '/veiculos',\r\n        imageUrl: '/images/vehicles.jpg'\r\n    },\r\n    {\r\n        title: 'Empresas',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastre e gerencie dados de empresas, sócios e procuradores',\r\n        link: '/empresas',\r\n        imageUrl: '/images/empresas12.jpg'\r\n    },\r\n    {\r\n        title: 'Consultas',\r\n        date: '03/Dez',\r\n        description:\r\n            'Consulte e gerencie dados de veículos, seguros e empresas',\r\n        link: '/consultas',\r\n        imageUrl: '/images/consultas2.jpg'\r\n    },\r\n]\r\n\r\nexport default function () {\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n            <div\r\n                style={{\r\n                    minHeight: '83vh',\r\n                    width: '100%',\r\n                    height: 'auto',\r\n                }}>\r\n                <main className=\"homeMainPost\">\r\n                    <h1>\r\n                        SisMob - MG\r\n                    </h1>\r\n                    <h2>\r\n                        Sistema de Gestão da Mobilidade do Estado de Minas Gerais\r\n                    </h2>\r\n                </main>\r\n                <Grid container spacing={4} className={classes.cardGrid}>\r\n                    {featuredPosts.map(post => (\r\n                        <Grid item key={post.title} xs={12} md={4}>\r\n                            <CardActionArea component=\"span\" >\r\n                                <Link to={post.link} style={{ textDecoration: 'none' }}>\r\n                                    <Card className={classes.card}>\r\n                                        <div className={classes.cardDetails}>\r\n                                            <CardContent>\r\n                                                <Typography component=\"h3\" variant=\"h6\">\r\n                                                    {post.title}\r\n                                                </Typography>\r\n                                                <br />\r\n                                                <Typography variant='body2' paragraph>\r\n                                                    {post.description}\r\n                                                </Typography>\r\n                                                <Typography variant='body2' color=\"primary\">\r\n\r\n                                                    Clique aqui para {post.title}\r\n\r\n                                                </Typography>\r\n                                            </CardContent>\r\n                                        </div>\r\n                                        <Hidden xsDown>\r\n                                            <CardMedia\r\n                                                className={classes.cardMedia}\r\n                                                component=\"img\"\r\n                                                src={post.imageUrl}\r\n                                                title={post.title}\r\n                                            />\r\n                                        </Hidden>\r\n                                    </Card>\r\n                                </Link>\r\n                            </CardActionArea>\r\n                        </Grid>\r\n                    ))}\r\n                </Grid>\r\n            </div >\r\n        </React.Fragment >\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './veiculos.css'\r\n\r\nconst menuCards = [\r\n    {\r\n        title: 'Cadastro de Veículos',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastrar um novo veículo no sistema.',\r\n        imageUrl: '/images/add_new.jpg',\r\n        link: '/cadastro'\r\n    },\r\n    {\r\n        title: 'Alteração de dados',\r\n        date: '07/Nov',\r\n        description:\r\n            'Alterar dados de um veículo',\r\n        link: '/altDados',\r\n        imageUrl: '/images/pen.png'\r\n    },\r\n    {\r\n        title: 'Seguros',\r\n        date: '07/Nov',\r\n        description:\r\n            'Atualizar seguros e apólices',\r\n        link: '/altSeguro',\r\n        imageUrl: \"/images/car_insurance2.png\"\r\n    },\r\n    {\r\n        title: 'Baixa',\r\n        date: '07/Nov',\r\n        description:\r\n            'Baixa de veículos',\r\n        link: '/baixaVeiculo',\r\n        imageUrl: \"/images/remove_doc.png\"\r\n    },\r\n    {\r\n        title: 'Configurações',\r\n        date: '07/Nov',\r\n        description:\r\n            'Chassi, carrocerias, seguradoras, etc',\r\n        link: '/Config',\r\n        imageUrl: \"/images/config2.jpg\"\r\n    }\r\n]\r\n\r\nexport default function VeiculosHome(props) {\r\n    const { match } = props\r\n    return (\r\n        <div>\r\n            <div className=\"jumbotron\">\r\n                <h1>\r\n                    Veículos\r\n                </h1>\r\n                <p>\r\n                    Selecione uma das opções abaixo.\r\n                </p>\r\n            </div>\r\n            <section className=\"cardSection\">\r\n                {\r\n                    menuCards.map(({ title, link, imageUrl, description }, i) =>\r\n                        <Link to={match.url + link} key={i} className=\"card\">                            \r\n                                <span className=\"cardImage\"> <img src={imageUrl} alt=\"tst\" /> </span>\r\n                                <div className=\"cardText\">\r\n                                    <h3 >{title}</h3>\r\n                                    <p > {description}</p>\r\n                                </div>                            \r\n                        </Link>\r\n                    )}\r\n            </section>\r\n        </div >\r\n    )\r\n}\r\n","import React from 'react'\r\nimport humps from 'humps'\r\n\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { getData, insertData, updateData, updateCollection, deleteOne } from './dataActions'\r\n\r\nimport Loading from '../Utils/Loading'\r\nimport { configVehicleForm } from '../Forms/configVehicleForm'\r\n\r\nconst socketIO = require('socket.io-client')\r\nlet socket\r\n\r\nexport default function (requestArray, WrappedComponent) {\r\n\r\n    let collections = []\r\n    collections = requestArray.map(req => req.replace('getFiles/', '').replace('lookUpTable/', ''))\r\n\r\n    class With extends React.Component {\r\n\r\n        async componentDidMount() {\r\n            const { redux } = this.props\r\n            let request = []\r\n\r\n            requestArray.forEach(req => {\r\n                const colName = req.replace('getFiles/', '').replace('lookUpTable/', '')\r\n                if (!redux[colName] || !redux[colName][0]) {\r\n                    request.push(req)\r\n                }\r\n            })\r\n\r\n            if (request[0]) await this.props.getData(request)\r\n\r\n            if (!socket) socket = socketIO()\r\n            socket.on('insertVehicle', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'veiculos')\r\n            })\r\n            socket.on('insertInsurance', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'seguros')\r\n            })\r\n            socket.on('insertEmpresa', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'empresas')\r\n            })\r\n            socket.on('insertSocios', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'socios')\r\n            })\r\n            socket.on('insertProcuradores', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'procuradores')\r\n            })\r\n            socket.on('addElements', ({ insertedObjects, table }) => {\r\n                const { collection } = configVehicleForm.find(el => el.table === table)                \r\n                this.props.insertData(insertedObjects, collection)\r\n            })\r\n\r\n            socket.on('updateElements', ({ collection, updatedCollection }) => {                \r\n                this.props.updateCollection(updatedCollection, collection)\r\n            })\r\n\r\n            socket.on('updateVehicle', updatedObjects => {\r\n                this.props.updateData(updatedObjects, 'veiculos', 'veiculoId')\r\n            })\r\n            socket.on('updateInsurance', updatedObjects => {\r\n                this.props.updateCollection(updatedObjects, 'seguros')\r\n            })\r\n            socket.on('updateSocios', updatedObjects => {\r\n                this.props.updateCollection(updatedObjects, 'socios')\r\n            })\r\n\r\n            socket.on('deleteOne', object => {\r\n                const { id, tablePK, collection } = object\r\n                this.props.deleteOne(id, tablePK, collection)\r\n            })\r\n\r\n            socket.on('insertFiles', object => {\r\n                const { insertedObjects, collection } = object\r\n                console.log(object)\r\n                this.props.insertData(insertedObjects, collection)\r\n            })\r\n        }\r\n        componentWillUnmount() {\r\n            if (!socket) socket = socketIO(':3001')\r\n            const clearAll = ['insertVehicle', 'insertInsurance', 'insertEmpresa', 'insertSocios', 'insertFiles',\r\n                'insertProcuradores', 'updateVehicle', 'updateInsurance', 'updateSocios', 'deleteOne']\r\n\r\n            clearAll.forEach(el => socket.off(el))\r\n        }\r\n        render() {\r\n\r\n            collections = collections.map(c => humps.camelize(c))\r\n\r\n            if (collections.length === 0 || !collections.every(col => this.props.redux.hasOwnProperty(col))) {\r\n                return <Loading />\r\n            }\r\n            else {\r\n                return <WrappedComponent {...this.props} />\r\n            }\r\n        }\r\n    }\r\n\r\n    function mapStateToProps(state) {\r\n        return {\r\n            redux: {\r\n                ...state.data,\r\n            }\r\n        }\r\n    }\r\n\r\n    function mapDispatchToProps(dispatch) {\r\n        return bindActionCreators({ getData, insertData, updateData, updateCollection, deleteOne }, dispatch)\r\n    }\r\n\r\n    return connect(mapStateToProps, mapDispatchToProps)(With)\r\n}\r\n","import axios from 'axios'\r\nimport humps from 'humps'\r\nimport { batch } from 'react-redux'\r\n\r\nexport const getData = (collectionsArray = []) => {\r\n    return async (dispatch, getState) => {\r\n\r\n        let promiseArray = [], returnObj = {}\r\n        if (collectionsArray.length > 0) {\r\n            collectionsArray.forEach(collectionName => {\r\n                promiseArray.push(axios.get(`/api/${collectionName}`))\r\n            })\r\n\r\n            await Promise.all(promiseArray)\r\n                .then(res => res.map(r => humps.camelizeKeys(r.data)))\r\n                .then(responseArray => {\r\n                    responseArray.forEach((el, i) => {\r\n                        let key = collectionsArray[i]\r\n                            .replace('getFiles/', '')\r\n                            .replace('lookUpTable/', '')\r\n                        key = humps.camelize(key)                        \r\n                        Object.assign(returnObj, { [key]: el })\r\n                    })\r\n                })\r\n        }\r\n        dispatch({\r\n            type: 'GET_DATA',\r\n            payload: returnObj\r\n        })\r\n    }\r\n}\r\n\r\nexport const insertData = (dataFromServer, collection) => (dispatch, getState) => {\r\n    const\r\n        data = humps.camelizeKeys(dataFromServer),\r\n        payload = { collection, data },\r\n        seguradoras = getState().data.seguradoras\r\n\r\n    if (!seguradoras) {\r\n        console.log(payload)\r\n        dispatch({ type: 'INSERT_DATA', payload })\r\n        return\r\n    }\r\n\r\n    if (collection === 'seguros' && data[0].placas && data[0].placas.length === 1) {\r\n\r\n        const seguradora = seguradoras.find(sg => sg.id === data[0].seguradoraId)\r\n        let\r\n            seguro = data[0],\r\n            plates = [], vehicles = [],\r\n            veiculos = getState().data.veiculos,\r\n\r\n            updatedCollection = veiculos.map(v => {\r\n                if (v.apolice === seguro.apolice) {\r\n                    v.seguradora = seguradora.seguradora\r\n                    v.dataEmissao = seguro.dataEmissao\r\n                    v.vencimento = seguro.vencimento\r\n                }\r\n                return v\r\n            })\r\n\r\n        veiculos.forEach(v => {\r\n            if (v.apolice === seguro.apolice) {\r\n                plates.push(v.placa)\r\n                vehicles.push(v.veiculoId)\r\n            }\r\n        })\r\n        seguro.placas = plates\r\n        seguro.veiculos = vehicles\r\n        seguro = [seguro]\r\n\r\n        const collectionPayload = { data: updatedCollection, collection: 'veiculos' }\r\n        batch(() => {\r\n            dispatch({ type: 'INSERT_DATA', payload: { data: seguro, collection: 'seguros' } })\r\n            dispatch({ type: 'UPDATE_COLLECTION', payload: collectionPayload })\r\n        })\r\n    } else dispatch({ type: 'INSERT_DATA', payload })\r\n\r\n}\r\n\r\nexport const updateData = (dataFromServer, collection, id) => dispatch => {\r\n    const\r\n        data = humps.camelizeKeys(dataFromServer),\r\n        payload = { collection, data, id }\r\n    dispatch({ type: 'UPDATE_DATA', payload })\r\n}\r\n\r\nexport const updateCollection = (data, collection) => dispatch => {\r\n\r\n    data = humps.camelizeKeys(data)\r\n    const payload = { data, collection }\r\n    dispatch({\r\n        type: 'UPDATE_COLLECTION',\r\n        payload\r\n    })\r\n}\r\n\r\nexport const updateInsurance = ({ value, ids }) => (dispatch, getState) => {\r\n    const\r\n        apolice = value,\r\n        seguros = getState().data.seguros,\r\n        veiculos = getState().data.veiculos\r\n\r\n    if (!seguros || !veiculos) return\r\n\r\n    let seguro = seguros.find(s => s.apolice === apolice),\r\n        placas = seguro.placas || [], vehicleIDs = seguro.veiculos || []\r\n\r\n    veiculos.forEach(v => {\r\n        ids.forEach(id => {\r\n            if (v.veiculoId === id) {\r\n                placas.push(v.placa)\r\n                vehicleIDs.push(v.veiculoId)\r\n            }\r\n        })\r\n    })\r\n\r\n    seguro.placas = placas\r\n    seguro.veiculos = vehicleIDs\r\n    seguro = [seguro]\r\n    console.log(seguro)\r\n\r\n    const payload = { collection: 'seguros', data: seguro, id: 'apolice' }\r\n\r\n    dispatch({ type: 'UPDATE_DATA', payload })\r\n}\r\n\r\nexport const removeInsurance = (apolice, placaIndex, vehicleIndex) => dispatch => {\r\n\r\n    dispatch({\r\n        type: 'REMOVE_FROM_INSURANCE',\r\n        payload: { apolice, placaIndex, vehicleIndex }\r\n    })\r\n}\r\n\r\nexport const deleteOne = (id, tablePK, collection) => dispatch => {\r\n    tablePK = humps.camelize(tablePK)    \r\n    dispatch({\r\n        type: 'DELETE_ONE',\r\n        payload: { id, tablePK, collection }\r\n    })\r\n}","import React from 'react';\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div style={{\r\n            position: 'fixed',\r\n            top: '45%',\r\n            right: '15%',\r\n            left: '15%',\r\n            height: '50%',\r\n            marginBottom: '25px',\r\n            marginTop: '25px',\r\n            textAlign: 'center',\r\n            zIndex: 1\r\n        }}>\r\n            <img src=\"/images/loading.gif\" alt=\"\" height=\"60px\" width=\"60px\" />\r\n            <p> Carregando... </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loading","export const configVehicleForm = [\r\n\r\n    {\r\n        collection: 'equipamentos',\r\n        field: 'item',\r\n        label: 'Equipamentos',\r\n        name: 'equipamentosId',\r\n        table: 'equipamentos'\r\n    },\r\n    {\r\n        collection:'marcaCarroceria',\r\n        field: 'marca',\r\n        label: 'Marcas de Carroceria',\r\n        name:'marcaCarroceria',\r\n        table: 'marca_carroceria'\r\n    },\r\n    {\r\n        collection: 'carrocerias',\r\n        field: 'modelo',\r\n        label: 'Modelos de Carroceria',\r\n        name:'modeloCarroceria',\r\n        table: 'modelo_carroceria'\r\n    },\r\n    {\r\n        collection: 'marcaChassi',\r\n        field: 'marca',\r\n        label: 'Marcas de Chassi',\r\n        name: 'marcaChassi',\r\n        table: 'marca_chassi'\r\n    },\r\n    {\r\n        collection: 'modelosChassi',\r\n        field: 'modeloChassi',\r\n        label: 'Modelos de Chassi',\r\n        name: 'modeloChassi',\r\n        table: 'modelo_chassi'\r\n    },\r\n    {\r\n        collection: 'seguradoras',\r\n        field: 'seguradora',\r\n        label: 'Seguradoras',\r\n        name: 'seguradora',\r\n        table: 'seguradora'\r\n    }\r\n\r\n]","import moment from 'moment'\r\n\r\nexport const checkInputErrors = sendState => {\r\n\r\n    const p = document.querySelectorAll('p'),\r\n        inputs = document.querySelectorAll('input')\r\n\r\n    let label = [], errors = [],\r\n        errString = 'Favor verificar o preenchimento dos seguintes campos: '\r\n\r\n    if (p) {\r\n        p.forEach(el => {\r\n            if (el.textContent === 'Valor inválido' || el.textContent === '✘') {\r\n                const parent = el.parentNode\r\n                const l = parent.querySelectorAll('label')\r\n                label.push(l[0])\r\n            }\r\n        })\r\n    }\r\n    if (inputs) {\r\n        inputs.forEach(el => {\r\n            if (el.type === 'date') {\r\n                if (!moment(el.value, 'YYYY-MM-DD', true).isValid()) {\r\n                    const parent = el.parentNode\r\n                    const l = parent.previousSibling\r\n                    label.push(l)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    if (label[0]) {\r\n        label.forEach(l => errors.push(l.textContent))\r\n        errors.forEach(e => errString += e + ', ')\r\n        errString = errString\r\n            .replace('(kg)', '')\r\n            .replace('(cm)', '')\r\n            .slice(0, -2) + '.'\r\n\r\n        if (sendState) return { openAlertDialog: true, alertType: 'inputError', customMsg: errString }\r\n        return errors\r\n    } else return null\r\n}","import React from 'react'\r\n\r\nexport default function autoComplete({ collection, datalist, value }) {\r\n    \r\n    if (value.length > 2 && typeof collection !== 'string') {\r\n        return (\r\n            <datalist id={datalist}>\r\n                {\r\n                    collection.map((item, index) => {\r\n\r\n                        return (\r\n                            <option key={index}>{item[datalist]}</option>\r\n                        )\r\n                    })}\r\n            </datalist>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n","import React, { Fragment } from 'react'\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport AutoComplete from '../Utils/autoComplete'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',\r\n        marginBottom: '2px',\r\n\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    select: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',\r\n        marginBottom: '2px',\r\n        background: '#fafafa',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    helperText: {\r\n        margin: '2px 0',\r\n        fontSize: '0.7rem'\r\n    },\r\n}))\r\n\r\nexport default function TextInput({ handleInput, handleBlur, form, data }) {\r\n\r\n    const classes = useStyles(),\r\n        { helperText } = classes\r\n\r\n    const errorHandler = (el) => {\r\n        let value = data[el.field]\r\n\r\n        if (el.type === 'number') {\r\n            if (value > el.max || value < el.min) return true\r\n            else return false\r\n        }\r\n        if (value && typeof value !== 'string') value = value.toString()\r\n        if (el.pattern && value) return data[el.field].match(el.pattern) === null\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        let value = data[el.field]\r\n        if (value && typeof value !== 'string') value = value.toString()\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return ' '\r\n    }\r\n\r\n    return form.map((el, i) =>\r\n        <Fragment key={i}>\r\n            <TextField\r\n                name={el.field}\r\n                label={el.label}\r\n                margin={el.margin}\r\n                className={classes.textField}\r\n                onChange={handleInput}\r\n                onBlur={handleBlur}\r\n                type={el.type || ''}\r\n                error={errorHandler(el)}\r\n                helperText={helper(el)}\r\n                FormHelperTextProps={{ className: helperText }}\r\n                select={el.select || false}\r\n                value={data[el.field] || ''}\r\n                disabled={el.disabled || false}\r\n                InputLabelProps={{\r\n                    className: classes.textField,\r\n                    shrink: el.type === 'date' || undefined,\r\n                    style: { fontSize: '0.7rem', fontWeight: 400, color: '#888' }\r\n                }}\r\n                inputProps={{\r\n                    style: {\r\n                        background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                        fontSize: '0.9rem', textAlign: 'center', color: '#000', width: el.width || 300, height: '7px'\r\n                    },\r\n                    value: `${data[el.field] || ''}`,\r\n                    list: el.datalist || '',\r\n                    maxLength: el.maxLength || '',\r\n                    minLength: el.minLength || '',\r\n                    max: el.max || '',\r\n                }}\r\n\r\n                multiline={el.multiline || false}\r\n                rows={el.rows || null}\r\n                variant={el.variant || 'filled'}\r\n                fullWidth={el.fullWidth || false}\r\n                SelectProps={{\r\n                    style: {\r\n                        background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                        fontSize: '0.9rem', textAlign: 'center', color: '#555', fontWeight: 400,\r\n                        width: 325, height: '44px'\r\n                    }\r\n                }}\r\n            >\r\n\r\n                {el.select === true && el.options.map((opt, i) =>\r\n                    <MenuItem key={i} value={opt} >\r\n                        {opt}\r\n                    </MenuItem>\r\n                )}\r\n\r\n\r\n            </TextField>\r\n            {el.autoComplete === true && <AutoComplete\r\n                collection={data[el.collection]}\r\n                datalist={el.datalist}\r\n                value={data[el.field] || ''}\r\n            />\r\n            }\r\n        </Fragment>\r\n    )\r\n}","export const seguroForm = [\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',        \r\n        autoComplete: true,\r\n        datalist: 'seguradora',\r\n        collection: 'seguradoras'\r\n    },\r\n    {       \r\n        field: 'apolice',\r\n        label: 'Apólice',        \r\n        autoComplete: true,\r\n        datalist: 'apolice',\r\n        collection: 'seguros',\r\n        maxLength: 25\r\n    },    \r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emissão',        \r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',        \r\n    }]","import { vistoriaForm } from './vistoriaForm'\r\nimport { seguroForm } from './seguroForm'\r\n\r\nexport const cadForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    maxLength: 8,\r\n    pattern: '[a-zA-Z]{3}[-]?[ ]?\\\\d{4}|[A-Z]{3}[-]?[ ]?[0-9]{1}[A-Z]{1}[0-9]{2}'\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    maxLength: 11,\r\n    pattern: '\\\\d{11}'\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilização',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Convencional', 'Executivo', 'Leito', 'Semi-Leito', 'Urbano']\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Número do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    datalist: 'modeloChassi',\r\n    autoComplete: true,\r\n    collection: 'modelosChassi'\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    max: Number(new Date().getFullYear()),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{ \r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,    \r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    datalist: 'modelo',\r\n    autoComplete: true,\r\n    collection: 'carrocerias'\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    max: Number(new Date().getFullYear() + 1),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{    \r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,    \r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,    \r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situação da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veículo próprio', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n}\r\n]]\r\n    .concat([seguroForm])\r\n    .concat([vistoriaForm])\r\n    .concat([[]])\r\n    .concat([[]])","export const vistoriaForm = [\r\n    {\r\n        field: 'cilindros',\r\n        label: 'Cilindros',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12,\r\n        step: 1\r\n    },\r\n    {\r\n        field: 'potencia',\r\n        label: 'Potência (cv)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 600\r\n    },\r\n    {\r\n        field: 'eixos',\r\n        label: 'Eixos',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 8\r\n    },\r\n    {\r\n        field: 'pneumaticos',\r\n        label: 'Pneumáticos',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 20\r\n    },\r\n    {\r\n        field: 'peso_dianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12000\r\n    },\r\n    {\r\n        field: 'peso_traseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 15000\r\n    },\r\n    {\r\n        field: 'poltronas',\r\n        label: 'Poltronas',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 120\r\n    },\r\n    {\r\n        field: 'piques_poltrona',\r\n        label: 'Piques poltrona',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'distancia_minima',\r\n        label: 'Distância Mínima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',        \r\n        max: 150\r\n    },\r\n    {\r\n        field: 'distancia_maxima',\r\n        label: 'Distância Máxima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    }   \r\n]","import React from 'react'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\n\r\nimport '../Layouts/popUp.css'\r\n\r\nexport default function AddEquipa({ data, equipamentos, handleCheck, close }) {\r\n\r\n    return <div className='popUpWindow' style={{ right: '33%', left: '33%' }}>\r\n        <h4 className = 'equipaHeader'>Equipamentos</h4> <hr />\r\n        <div className=\"checkListContainer\">\r\n            {\r\n                equipamentos.map((eq, i) =>\r\n                    <span className=\"checkListEquipa\" key={i}>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={data[eq.item]}\r\n                                    value={eq.item}\r\n                                    onChange={() => handleCheck(eq.item)} />\r\n                            }\r\n                            label={<p className=\"checkListLabel\">{eq.item}</p>}\r\n                        />\r\n                    </span>\r\n                )\r\n            }\r\n        </div>\r\n        <ClosePopUpButton close={close} />\r\n    </div>\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nimport TextInput from '../Reusable Components/TextInput'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { cadForm } from '../Forms/cadForm'\r\n\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport AddEquipa from './AddEquipa'\r\n\r\nimport './veiculos.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: '6px'\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 400,\r\n        fontSize: '0.9rem',\r\n        textAlign: 'center'\r\n    },\r\n    selectEmpresa: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        minWidth: 350,\r\n        fontColor: '#bbb',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport default function ({ empresas, equipamentos, data, handleInput, handleBlur,\r\n    handleEquipa, handleCheck }) {\r\n    const { razaoSocial, activeStep, addEquipa,\r\n        delegatarioCompartilhado, subtitle, selectedEmpresa } = data,\r\n\r\n        classes = useStyles(), { paper, container, title, selectEmpresa,\r\n            button, formHolder } = classes\r\n\r\n    const [shared, setShared] = useState(false)\r\n\r\n    const form = cadForm[activeStep]\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <Grid>\r\n                <Paper className={paper} style={{ padding: '0 2% 0 2%' }}>\r\n                    <Grid container justify=\"center\">\r\n                        {activeStep === 0 ?\r\n                            <Grid item xs={shared ? 4 : 12} style={{ marginBottom: '15px' }}>\r\n                                <Typography className={title}> Selecione a Viação</Typography>\r\n\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        list: 'razaoSocial',\r\n                                        name: 'razaoSocial',\r\n                                        style: { textAlign: 'center', fontSize: '0.8rem' }\r\n                                    }}\r\n                                    className={selectEmpresa}\r\n                                    value={razaoSocial}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={empresas}\r\n                                    datalist='razaoSocial'\r\n                                    value={razaoSocial}\r\n                                />\r\n                            </Grid>\r\n                            :\r\n                            <div className='formTitle'>Cadastro de Veículo - {razaoSocial}</div>\r\n                        }\r\n                        {\r\n                            activeStep === 0 && shared && <Grid item xs={4} style={{ marginLeft: '30px' }}>\r\n\r\n                                <Typography className={title}> Empresa autorizada a compartilhar</Typography>\r\n\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        list: 'razaoSocial',\r\n                                        name: 'delegatarioCompartilhado',\r\n                                        style: { textAlign: 'center', fontSize: '0.8rem' }\r\n                                    }}\r\n                                    className={selectEmpresa}\r\n                                    value={delegatarioCompartilhado}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={empresas}\r\n                                    datalist='razaoSocial'\r\n                                    value={delegatarioCompartilhado}\r\n                                />\r\n                            </Grid>\r\n                        }\r\n                    </Grid>\r\n\r\n                    {\r\n                        activeStep === 0 && <Grid item xs={12}>\r\n                            <FormControlLabel\r\n                                control={\r\n                                    <Checkbox\r\n                                        checked={shared === true}\r\n                                        onChange={() => setShared(!shared)}\r\n                                        value={shared}\r\n                                    />\r\n                                }\r\n                                label={\r\n                                    <Typography style={{ color: '#2979ff', fontSize: '0.7rem', float: 'right' }}>\r\n                                        Veículo Compartilhado?\r\n                                    </Typography>\r\n                                }\r\n                            />\r\n                        </Grid>\r\n                    }\r\n\r\n                </Paper>\r\n                {\r\n                    selectedEmpresa\r\n                        ?\r\n                        <Grid item xs={12}>\r\n                            {activeStep < 3 &&\r\n                                <Paper className={paper}>\r\n                                    <div className='formSubtitle'> {subtitle[activeStep]}</div>\r\n                                    <TextInput\r\n                                        form={form}\r\n                                        data={data}\r\n                                        handleBlur={handleBlur}\r\n                                        handleInput={handleInput}\r\n                                    />\r\n                                    {activeStep === 0 &&\r\n                                        <Grid container justify=\"center\">\r\n                                            <Button\r\n                                                variant=\"outlined\"\r\n                                                size=\"small\"\r\n                                                color=\"primary\"\r\n                                                className={button}\r\n                                                onClick={handleEquipa}\r\n                                            >\r\n                                                <AddIcon />\r\n                                                Equipamentos\r\n                                            </Button>\r\n                                        </Grid>}\r\n\r\n                                </Paper>}\r\n                            {\r\n                                addEquipa && <AddEquipa\r\n                                    equipamentos={equipamentos}\r\n                                    close={handleEquipa}\r\n                                    handleCheck={handleCheck}\r\n                                    data={data} />\r\n                            }\r\n                        </Grid>\r\n                        :\r\n                        <Grid container justify=\"center\">\r\n                            <div className={formHolder}></div>\r\n                        </Grid>\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","import React, { Fragment, useState, useEffect } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\n\r\nexport default function DragAndDrop({ title, name, formData, handleFiles, dropDisplay, single }) {\r\n\r\n    const [fileName, setFileName] = useState()\r\n\r\n    useEffect(() => {\r\n        if (formData && typeof formData === 'object') {\r\n            for (let pair of formData.entries()) {\r\n                if (name === pair[0]) {\r\n                    setFileName(pair[1].name)\r\n                }\r\n            }\r\n        }\r\n    }, [formData, name])\r\n\r\n    return (\r\n        <>\r\n            {title && <p className='fileInput'>{title}</p>}\r\n            <Dropzone onDrop={e => handleFiles(e, name)}>\r\n                {({ getRootProps, getInputProps }) => (\r\n                    <div className={fileName ? 'dropBox fileAttached' : single ? 'dropBox' : 'multipleDropBox'} {...getRootProps()}>\r\n                        <input {...getInputProps()} />\r\n                        {\r\n                            fileName ?\r\n                                <Fragment>\r\n                                    <div> <DescriptionOutlinedIcon className='icon' />  {fileName} </div>\r\n                                    {single &&                                        \r\n                                            <span>(clique ou arraste outro arquivo para alterar)</span>                                        \r\n                                    }\r\n                                </Fragment>\r\n                                :\r\n                                <div> <AttachFileIcon className='icon' />\r\n                                    <span>  {dropDisplay}</span>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                )}\r\n            </Dropzone>\r\n        </>\r\n    )\r\n}\r\n","export const cadVehicleFiles = [\r\n    { title: 'CRLV do Veículo', name: 'crlv' },\r\n    { title: 'Apólice do Seguro', name: 'apoliceDoc' },\r\n    { title: 'Declaração de Responsabilidade de Manutenção', name: 'declaracao' },\r\n    { title: 'Certificado de Vistoria', name: 'vistoria' },\r\n    { title: 'DAE Quitada', name: 'dae' },\r\n    { title: 'Laudo de Pesagem', name: 'pesagem' },\r\n    { title: 'Laudo de Vistoria INMETRO', name: 'inmetro' },    \r\n]","export const altDadosFiles = [\r\n    { title: 'Documento de Transferência', name: 'transferenciaDoc' },\r\n    { title: 'Declaração de Responsabilidade de Manutenção', name: 'declaracao' },\r\n    { title: 'Certificado de Vistoria', name: 'vistoria' },\r\n    { title: 'DAE Quitada', name: 'dae' },\r\n    { title: 'Laudo de Pesagem', name: 'pesagem' },\r\n    { title: 'CRLV com nova placa', name: 'newPlateDoc' },\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { altDadosFiles } from '../Forms/altDadosFiles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    root: {\r\n        flexGrow: '1',\r\n        margin: '5px',\r\n        padding: '8px',\r\n    },\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 14px 0',\r\n        height: 'auto',\r\n        minHeight: '350px'\r\n    },\r\n    sendButton: {\r\n        margin: '3% 0 3% 0',\r\n        backgroundColor: 'teal',\r\n        float: 'right'\r\n    },\r\n    text: {\r\n        textAlign: 'left',\r\n        margin: theme.spacing(2),\r\n        fontSize: '0.9rem',\r\n        fontWeight: '500',\r\n        color: '#333'\r\n    },\r\n    item: {\r\n        marginTop: '10px',\r\n        padding: '0 5px'\r\n    }\r\n}))\r\n\r\nexport default function VehicleDocs({ handleFiles, parentComponent, dropDisplay, formData, insuranceExists }) {\r\n    const { root, paper, item } = useStyles()\r\n\r\n    let filesForm\r\n    if (parentComponent === 'cadastro') filesForm = cadVehicleFiles\r\n    if (parentComponent === 'altDados') filesForm = altDadosFiles\r\n    \r\n    return (\r\n        <div >\r\n            <Paper className={paper}>\r\n                <div className=\"formSubtitle\"> Anexe os documentos solicitados nos campos abaixo </div>\r\n                <Grid container className={root}>\r\n                    {filesForm.map(({ title, name }, k) =>\r\n                        name === 'apoliceDoc' && insuranceExists ? null :\r\n                        <Fragment key={k}>\r\n                            <Grid item xs={10} md={4} className={item}>\r\n                                <DragAndDrop\r\n                                    title={title}\r\n                                    name={name}\r\n                                    formData={formData}\r\n                                    dropDisplay={dropDisplay}\r\n                                    handleFiles={handleFiles}\r\n                                />\r\n                            </Grid>\r\n                        </Fragment>\r\n                    )}\r\n                </Grid>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\n\r\nconst divContainer = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    alignContent: 'center',\r\n    flexWrap: 'wrap'\r\n}\r\n\r\nconst divFiles = {\r\n    textAlign: 'center',\r\n    alignItems: 'flex-start',\r\n    height: '40px',\r\n    border: '1px #ccc solid',\r\n    padding: '7px 8px 0 8px',\r\n    margin: '1% 1% 0.5% 1%',\r\n    fontSize: '0.8rem',\r\n    backgroundColor: '#f6f6f6',\r\n    borderRadius: '6px',\r\n\r\n}\r\n\r\nconst icon = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    paddingLeft: '2%'\r\n}\r\n\r\nconst fileIcon = {\r\n    verticalAlign: 'middle',\r\n    padding: '0 0% 0 2%',\r\n\r\n}\r\n\r\nexport default function ShowLocalFiles({ form, files }) {\r\n\r\n    /* let doc\r\n    if (files) doc = contratoSocial.get('contratoSocial') || new FormData() */\r\n\r\n    const createLink = (key, fileName) => {\r\n\r\n        const file = files.get(key)\r\n\r\n        const url = window.URL.createObjectURL(file);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n\r\n        if (file && (file.type === 'application/pdf' || file.type.match('image/'))) {\r\n            link.setAttribute('rel', \"noopener\")\r\n            link.setAttribute('target', \"_blank\")\r\n            link.setAttribute('title', fileName)\r\n        }\r\n        else link.setAttribute('download', fileName)\r\n        document.body.appendChild(link);\r\n        link.click();\r\n    }\r\n\r\n    let fileArray = []\r\n\r\n    if (files) for (let pair of files.entries()) {\r\n        form.forEach(({ name, title }) => {\r\n            if (name === pair[0]) {\r\n                if (pair[1] && pair[1].name)\r\n                    fileArray.push({ label: title, fieldName: name, fileName: pair[1].name })\r\n            }\r\n        })\r\n    }    \r\n    return <React.Fragment>\r\n        <div style={divContainer}>\r\n            {fileArray.map((f, i) =>\r\n                <div style={divFiles} key={i}>\r\n                    <InsertDriveFileOutlinedIcon style={fileIcon} />\r\n                    <span style={{ verticalAlign: 'middle', }}>\r\n                        {' '} {f.label}\r\n                    </span>\r\n                    <GetAppIcon style={icon}\r\n                        onClick={() => createLink(f.fieldName, f.fileName)} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    </React.Fragment >\r\n}","import React, { Fragment } from 'react'\r\n\r\nimport ShowLocalFiles from '../Utils/ShowLocalFiles'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 5px 0',\r\n        height: 'auto'\r\n    }\r\n}))\r\n\r\nexport default function Revisao({ data, parentComponent, form, filesForm, files }) {\r\n\r\n    const classes = useStyles(),\r\n        { paper } = classes\r\n\r\n    let vehicleDetails = [], obj = {}, newForm = [], filledForm = [], ultimateData\r\n    form.forEach(f => {\r\n        f.forEach(e => {\r\n            if (data.hasOwnProperty([e.field])) {\r\n                Object.assign(obj, { [e.field]: data[e.field] })\r\n                newForm.push(e)\r\n            }\r\n        })\r\n        vehicleDetails.push(obj)\r\n        filledForm.push(newForm)\r\n        obj = {}\r\n        newForm = []\r\n    })\r\n    if (parentComponent === 'cadastro') ultimateData = [\r\n        { subtitle: 'Detalhes do veículo', form: filledForm[0], data: vehicleDetails[0] },\r\n        { subtitle: 'Detalhes do seguro', form: filledForm[1], data: vehicleDetails[1] },\r\n        { subtitle: 'Informações sobre a vistoria', form: filledForm[2], data: vehicleDetails[2] },\r\n    ]\r\n\r\n    if (parentComponent === 'altDados') ultimateData = [\r\n        { subtitle: 'Detalhes do veículo', form: filledForm[0], data: vehicleDetails[0] },\r\n        { subtitle: 'Informações sobre a vistoria', form: filledForm[1], data: vehicleDetails[1] }\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <Paper className={paper}>\r\n                <div className='divTable'>\r\n                    {\r\n                        ultimateData.map(({ subtitle, form, data }, y) =>\r\n                            <Fragment key={y}>\r\n                                <table>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className='tHeader'\r\n                                                colSpan={form.length}>{subtitle}</th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            {form.map((s, i) => <th key={i}>{s.label}</th>)}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            {Object.values(data).map((d, j) =>\r\n                                                <td className='review' key={j}>\r\n                                                    {d}\r\n                                                </td>\r\n                                            )}\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n\r\n                            </Fragment>\r\n                        )}\r\n\r\n                </div>\r\n                <div style={{ margin: '30px 0 0 25px' }}>\r\n                    <h3> Equipamentos </h3>\r\n                    <p>\r\n                        {\r\n                            Array.isArray(data.equipamentosId) && data.equipamentosId &&\r\n                            data.equipamentosId.map((e, i) => <span\r\n                                style={{\r\n                                    fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana',\r\n                                    fontSize: '12px'\r\n                                }}\r\n                                key={i}>\r\n                                {i !== data.equipamentosId.length ? e + ', ' : e\r\n                                }\r\n                            </span>)\r\n                        }\r\n                    </p>\r\n                </div>\r\n\r\n\r\n                <h3 style={{ margin: '30px 0 0 25px' }}> <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} /> Documentos </h3>\r\n                {files && <ShowLocalFiles form={filesForm} files={files} />}\r\n            </Paper >\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nexport default function Crumbs({links, text}) {\r\n    return (\r\n        <Grid style={{ marginTop: '1%', paddingLeft: '1%' }}>\r\n            <Breadcrumbs separator=\"›\" aria-label=\"breadcrumb\" >\r\n                <Link\r\n                    to='/' style={{}}\r\n                >\r\n                    <HomeIcon style={{ verticalAlign: 'middle', marginRight: '5px', paddingBottom: '3px' }} />\r\n                    <span style={{ fontSize: '0.8rem', }}>\r\n                        Página inicial\r\n                    </span>\r\n\r\n                </Link>\r\n                <Link color=\"primary\" to={links[1]} style={{ fontSize: '0.8rem' }}>\r\n                    {links[0]}\r\n            </Link>\r\n                <span style={{ fontSize: '0.8rem' }} >{text}</span>\r\n            </Breadcrumbs>\r\n        </Grid>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Button } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    button: {\r\n        margin: theme.spacing(1),\r\n        float: 'right'\r\n    },\r\n    backButton: {\r\n        margin: theme.spacing(1),\r\n        float: 'left',\r\n        color: '#333',\r\n        backgroundColor: '#eee'\r\n    }\r\n}))\r\n\r\nexport default function StepperButtons({ activeStep, setActiveStep, lastStep, handleSubmit, disabled }) {\r\n    \r\n    const classes = useStyles(), { backButton, button } = classes\r\n    return (\r\n        <div>\r\n            <Button\r\n                variant=\"contained\"\r\n                className={backButton}\r\n                onClick={() => setActiveStep('back')}\r\n                disabled={activeStep === 0}\r\n            >\r\n                Voltar\r\n            </Button>\r\n            {activeStep < lastStep ?\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={button}\r\n                    onClick={() => setActiveStep('next')}\r\n                    disabled={disabled}\r\n                >\r\n                    Avançar\r\n                </Button>\r\n                :\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={button}\r\n                    onClick={() => handleSubmit()}\r\n                >\r\n                    Aprovar\r\n            </Button>}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        marginTop: '1%',\r\n    },\r\n    button: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        padding: '1% 0 0 3%',\r\n        fontWeight: 500\r\n    },\r\n}))\r\n\r\nexport default function CustomStepper({ activeStep, steps }) {\r\n\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Stepper activeStep={activeStep}>\r\n                {steps.map((label, index) => {\r\n                    const stepProps = {};\r\n                    const labelProps = {};\r\n                    return (\r\n                        <Step key={label} {...stepProps}>\r\n                            <StepLabel {...labelProps}>{label}</StepLabel>\r\n                        </Step>\r\n                    )\r\n                })}\r\n            </Stepper>\r\n        </div>\r\n    )\r\n}","import React, { Fragment } from 'react';\r\nimport clsx from 'clsx';\r\n//import { ErrorIcon, InfoIcon, Close, WarningIcon } from '@material-ui/icons/';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport { Snackbar, SnackbarContent, Icon } from '@material-ui/core';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles1 = makeStyles(theme => ({\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    icon: {\r\n        fontSize: 20,\r\n    },\r\n    iconVariant: {\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center'        \r\n    },\r\n}));\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles1();\r\n    const { className, message, onClose, variant, ...other } = props;\r\n\r\n\r\n    return (\r\n        <SnackbarContent\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <Fragment>\r\n                    <span id=\"client-snackbar\" className={classes.message}>\r\n                        <Icon>check</Icon>    {message}\r\n                    </span>\r\n                </Fragment>\r\n            }\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nexport default function CustomizedSnackbars(props) {\r\n    \r\n    return (\r\n        <div>\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                open={props.open}\r\n                autoHideDuration={2000}\r\n                onClose={props.close}\r\n            >\r\n                <MySnackbarContentWrapper\r\n                    variant=\"success\"\r\n                    message={props.msg}                    \r\n                />\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n}","export const formatMoney = (value = '') => {\r\n    let v = value.replace(/\\D/g, '');\r\n    v = (v / 100).toFixed(2) + '';\r\n    v = v.replace(\".\", \",\");\r\n    v = v.replace(/(\\d)(\\d{3})(\\d{3}),/g, \"$1.$2.$3,\");\r\n    v = v.replace(/(\\d)(\\d{3}),/g, \"$1.$2,\");\r\n    return v\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog({ open, alertType, close, confirm, customTitle = '', customMessage = '' }) {\r\n\r\n  const createAlert = type => {\r\n    let title, message\r\n    if (typeof type === 'object') {\r\n      title = 'Empresa já cadastrada'\r\n      message = `A empresa ${type.razaoSocial} já está cadastrada no sistema com o CNPJ ${type.cnpj}.`\r\n      return { title, message }\r\n    }\r\n\r\n    switch (type) {\r\n      case 'plateNotFound':\r\n        title = 'Placa não encontrada'\r\n        message = 'A placa informada não corresponde a nenhum veículo da frota da viação selecionada. Para cadastrar um novo veículo, selecione a opção Veículos => \"Cadastro de Veículo\" no menu acima.'\r\n        return { title, message }\r\n      case 'invalidPlate':\r\n        title = 'Placa inválida'\r\n        message = 'Certifique-se de que a placa informada é uma placa válida, com três letras seguidas de 4 números (ex: AAA-0000)'\r\n        return { title, message }\r\n      case 'plateExists':\r\n        title = 'Placa já cadastrada!'\r\n        message = 'A placa informada já está cadastrada. Para atualizar seguro, alterar dados ou solicitar baixa, utilize as opções acima. '\r\n        return { title, message }\r\n      case 'invalidModel':\r\n        title = 'Modelo não cadastrado.'\r\n        message = customMessage\r\n        return { title, message }\r\n      case 'inputError':\r\n        title = 'Preenchimento inválido.'\r\n        message = customMessage\r\n        return { title, message }\r\n      case 'fieldsMissing':\r\n        title = 'Favor preencher todos os campos.'\r\n        message = 'Os campos acima são de preenchimento obrigatório. Certifique-se de ter preenchido todos eles.'\r\n        return { title, message }\r\n      case 'invalidInsurance':\r\n        title = 'Favor verificar os dados do seguro.'\r\n        message = 'As informações referentes ao seguro do veículo são obrigatórias. Certifique-se de ter informado todas elas.'\r\n        return { title, message }\r\n      case 'filesNotFound':\r\n        const subject = 'Procuração'\r\n        title = 'Arquivos não encontrados'\r\n        message = `Não há nenhum arquivo anexado no sistema para a ${subject} selecionada. \r\n          Ao cadastrar ou atualizar a ${subject}, certifique-se de anexar o arquivo correspondente.`\r\n        return { title, message }\r\n\r\n      case 'empresaNotFound':\r\n        title = 'Empresa não encontrada.'\r\n        message = `A empresa informada não está registrada no sistema. Para cadastrar uma nova empresa, utilize a opção Empresas -> Cadastrar.`\r\n        return { title, message }\r\n      case 'seguradoraNotFound':\r\n        title = 'Seguradora não encontrada.'\r\n        message = `A seguradora informada não está registrada no sistema. Favor verificar o nome da seguradora.`\r\n        return { title, message }\r\n\r\n      case 'alreadyExists':\r\n        title = 'CPF já cadastrado.'\r\n        message = `O CPF informado corresponde a um sócio já cadastrado. \r\n          Para remover ou editar as informações dos sócios, utilize a respectiva opção abaixo.`\r\n        return { title, message }\r\n      case 'numberNotValid':\r\n        title = 'Número inválido.'\r\n        message = 'O número digitado não é válido.'\r\n        return { title, message }\r\n      case 'overShared':\r\n        title = 'Participação societária inválida.'\r\n        message = 'A participação societária informada excede a 100%.'\r\n        return { title, message }\r\n      case 'subShared':\r\n        title = 'Participação societária inválida.'\r\n        message = 'A participação societária informada não soma 100%. Favor informar todos os sócios com suas respectivas participações.'\r\n        return { title, message }\r\n      case 'veiculoPendente':\r\n        title = 'Pendências encontradas para este veículo.'\r\n        message = 'Verifique se há alguma aprovação pendente quanto ao cadastro, seguro, transferência ou alteração de dados do veículo.'\r\n        return { title, message }\r\n      case 'seguroVencido':\r\n        title = 'Pendências encontradas para o seguro deste veículo.'\r\n        message = 'Para regularizar o seguro deste veículo, acesse a opção Veículos=>Seguros no menu acima.'\r\n        return { title, message }\r\n      case 'contratoVencido':\r\n        title = 'Contrato expirado.'\r\n        message = 'O contrato de concessão com o delegatário selecionado está expirado.'\r\n        return { title, message }\r\n      default:\r\n        return { title: null, message: null }\r\n    }\r\n  }\r\n  const { title, message } = createAlert(alertType)\r\n\r\n  if (title && message) return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={close}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {message}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={close} color=\"primary\">\r\n            {confirm ? 'Cancelar' : 'Fechar'}\r\n          </Button>\r\n          {confirm && <Button onClick={close} color=\"primary\" autoFocus>\r\n            Confirmar\r\n          </Button>}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n  else return null\r\n}","import React, { PureComponent, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport moment from 'moment'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport CadVeiculoTemplate from './CadVeiculoTemplate'\r\nimport VehicleDocs from './VehicleDocs'\r\nimport Review from './VehicleReview'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport StepperButtons from '../Utils/StepperButtons'\r\nimport CustomStepper from '../Utils/Stepper'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport { formatMoney } from '../Utils/formatMoney'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { cadForm } from '../Forms/cadForm'\r\n\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass VeiculosContainer extends PureComponent {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        activeStep: 0,\r\n        steps: ['Dados do Veículo', 'Dados do seguro', 'Vistoria e laudos', 'Documentos', 'Revisão'],\r\n        subtitle: ['Informe os dados do Veículo', 'Informe os dados do Seguro',\r\n            'Preencha os campos abaixo conforme a vistoria realizada'],\r\n        razaoSocial: '',\r\n        frota: [],\r\n        delegatarioCompartilhado: '',\r\n        toastMsg: 'Veículo cadastrado!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        insuranceExists: false,\r\n        addEquipa: false,\r\n        openAlertDialog: false,\r\n        dropDisplay: 'Clique ou arraste para anexar'\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n        const { redux } = this.props,\r\n            { modelosChassi, carrocerias, seguradoras } = redux\r\n        let equipamentos = {}\r\n\r\n        if (redux && redux.equipamentos) {\r\n            redux.equipamentos.forEach(e => Object.assign(equipamentos, { [e.item]: false }))\r\n            const equipArray = Object.keys(equipamentos)\r\n            await this.setState({\r\n                modelosChassi, carrocerias, seguradoras, equipamentos: equipArray, ...equipamentos,\r\n                allInsurances: this.props.redux['seguros']\r\n            })\r\n        }\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n\r\n        if (this.state.activeStep === 0) {\r\n            const matchPlaca = this.state.frota.filter(v => v.placa === this.state.placa)[0]\r\n            if (matchPlaca) {\r\n                await this.setState({ placa: '' });\r\n                this.setState({ alertType: 'plateExists', openAlertDialog: true })\r\n                return null\r\n            }\r\n        }\r\n\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n\r\n        let array = []\r\n        const { equipamentos } = this.state\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n\r\n        if (prevActiveStep === 1) {\r\n            equipamentos.forEach(e => {\r\n                if (this.state[e] === true) {\r\n                    array.push(e)\r\n                }\r\n            })\r\n            if (array[0]) this.setState({ equipamentosId: array })\r\n            else this.setState({ equipamentosId: [] })\r\n        }\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { veiculos, empresas } = this.props.redux,\r\n            { allInsurances, apolice, seguradora, dataEmissao, vencimento } = this.state,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n\r\n                let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n                if (selectedEmpresa) {\r\n                    const { razaoSocial, delegatarioId } = selectedEmpresa\r\n                    await this.setState({ selectedEmpresa, razaoSocial, delegatarioId })\r\n                    if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                    const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n                    const filteredInsurances = allInsurances.filter(seguro => seguro.empresa === this.state.razaoSocial)\r\n\r\n                    this.setState({ frota, seguros: filteredInsurances })\r\n\r\n                } else this.setState({ selectedEmpresa: undefined, frota: [], placa: undefined, apolice: undefined })\r\n                break\r\n\r\n            case 'placa':\r\n                if (typeof value === 'string') {\r\n                    value = value.toLocaleUpperCase()\r\n                    await this.setState({ [name]: value })\r\n                }\r\n                break\r\n\r\n            case ('apolice' || 'seguradora'): {\r\n                const\r\n                    { seguros } = this.props.redux,\r\n                    { selectedEmpresa } = this.state,\r\n                    s = [...seguros.filter(se => se.delegatarioId === selectedEmpresa.delegatarioId)]\r\n\r\n                let insuranceExists,\r\n                    testApolice = { ...s.find(s => s[name] === value) },\r\n                    testSeguradora = { ...s.find(s => s[name] === value && s.apolice === this.state.apolice) }\r\n\r\n                if (name === 'apolice') insuranceExists = testApolice\r\n                if (name === 'seguradora') insuranceExists = testSeguradora\r\n\r\n                if (insuranceExists && insuranceExists.dataEmissao && insuranceExists.vencimento) {\r\n\r\n                    const dataEmissao = moment(insuranceExists.dataEmissao).format('YYYY-MM-DD'),\r\n                        vencimento = insuranceExists.vencimento.toString().slice(0, 10),\r\n                        seguradora = insuranceExists.seguradora\r\n                    await this.setState({ seguradora, dataEmissao, vencimento, insuranceExists })\r\n                    return\r\n                }\r\n                if (Object.keys(insuranceExists).length === 0) {\r\n                    let newInsurance = {}\r\n                    Object.assign(newInsurance,\r\n                        {\r\n                            empresa: selectedEmpresa.razaoSocial,\r\n                            delegatarioId: selectedEmpresa.delegatarioId,\r\n                            apolice, seguradora, dataEmissao, vencimento, placas: [], veiculos: []\r\n                        })\r\n                    await this.setState({ newInsurance, insuranceExists: false, dataEmissao: '', vencimento: '' })\r\n                }\r\n                break\r\n            }\r\n            case ('valorChassi'):                \r\n                this.setState({ [name]: formatMoney(value) })\r\n                break\r\n            case ('valorCarroceria'):                \r\n                this.setState({ [name]: formatMoney(value) })\r\n                break\r\n                \r\n            default: void 0\r\n        }\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId, alertLabel) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            this.setState({\r\n                alertType: 'invalidModel', openAlertDialog: true,\r\n                customMsg: `O modelo de ${alertLabel} não está cadastrado no sistema.`\r\n            })\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const\r\n            { empresas, seguros } = this.props.redux,\r\n            { frota, modelosChassi, carrocerias, seguradoras, allInsurances } = this.state,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n            case 'modeloChassi':\r\n                this.getId(name, value, modelosChassi, 'modeloChassiId', 'modeloChassi', 'id', 'chassi')\r\n                break;\r\n            case 'modeloCarroceria':\r\n                this.getId(name, value, carrocerias, 'modeloCarroceriaId', 'modelo', 'id', 'carroceria')\r\n                break;\r\n            case 'delegatarioCompartilhado':\r\n                this.getId(name, value, empresas, 'compartilhadoId', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            case 'seguradora':\r\n                await this.getId(name, value, seguradoras, 'seguradoraId', 'seguradora', 'id', 'Seguradora')\r\n                let filteredInsurances = []\r\n\r\n                if (this.state.delegatarioId && this.state.seguradora === '') {\r\n                    filteredInsurances = allInsurances.filter(s => s.delegatarioId === this.state.delegatarioId)\r\n                    this.setState({ seguros: filteredInsurances })\r\n                }\r\n                if (!this.state.delegatarioId && this.state.seguradora !== '') {\r\n                    filteredInsurances = allInsurances.filter(s => s.seguradora === this.state.seguradora)\r\n                    this.setState({ seguros: filteredInsurances })\r\n                }\r\n                if (this.state.delegatarioId && this.state.seguradora !== '') {\r\n                    filteredInsurances = allInsurances\r\n                        .filter(s => s.delegatarioId === this.state.delegatarioId)\r\n                        .filter(s => s.seguradora === this.state.seguradora)\r\n                    this.setState({ seguros: filteredInsurances })\r\n                }\r\n                break\r\n            case 'apolice':\r\n                const insuranceExists = seguros.find(s => s.apolice === value)\r\n                if (insuranceExists) this.setState({ insuranceExists })\r\n                break\r\n\r\n            default: void 0\r\n        }\r\n\r\n        if (name === 'placa' && typeof this.state.frota !== 'string') {\r\n\r\n            if (value.length === 7) {\r\n                const x = value.replace(/(\\w{3})/, '$1-')\r\n                await this.setState({ placa: x })\r\n                value = x\r\n            }\r\n            if (value.length === 8) {\r\n                const x = value.replace(' ', '-')\r\n                await this.setState({ placa: x })\r\n                value = x\r\n            }\r\n            const matchPlaca = frota.find(v => v.placa === value)\r\n            if (matchPlaca) {\r\n                await this.setState({ placa: null });\r\n                value = ''\r\n                this.setState({ alertType: 'plateExists', openAlertDialog: true })\r\n                document.getElementsByName('placa')[0].focus()\r\n            }\r\n        }\r\n    }\r\n\r\n    handleCadastro = async () => {\r\n        const { anoCarroceria, equipamentosId, peso_dianteiro, peso_traseiro,\r\n            poltronas, delegatarioId, compartilhadoId, seguros, modeloChassiId,\r\n            modeloCarroceriaId, seguradoraId } = this.state,\r\n            situacao = 'Ativo',\r\n            indicadorIdade = anoCarroceria\r\n\r\n        let pbt = Number(poltronas) * 93 + (Number(peso_dianteiro) + Number(peso_traseiro))\r\n        if (isNaN(pbt)) pbt = undefined\r\n\r\n        let review = {}\r\n\r\n        cadForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                for (let k in this.state) {\r\n                    if (k === obj.field) Object.assign(review, { [k]: this.state[k] })\r\n                }\r\n            })\r\n        })\r\n\r\n        let { dataEmissao, vencimento, delegatarioCompartilhado,\r\n            modeloChassi, modeloCarroceria, seguradora, ...vReview } = review,\r\n\r\n            seguro = { apolice: review.apolice, seguradoraId, delegatarioId }\r\n\r\n        const validEmissao = moment(dataEmissao, 'YYYY-MM-DD', true).isValid(),\r\n            validVenc = moment(vencimento, 'YYYY-MM-DD', true).isValid()\r\n\r\n        if (validEmissao) seguro.dataEmissao = dataEmissao\r\n        if (validVenc) seguro.vencimento = vencimento\r\n\r\n        Object.assign(vReview, {\r\n            delegatarioId, situacao, indicadorIdade, pbt, equipamentosId,\r\n            modeloChassiId, modeloCarroceriaId\r\n        })\r\n        vReview.delegatarioCompartilhado = compartilhadoId\r\n\r\n        Object.keys(vReview).forEach(key => {\r\n            if (vReview[key] === '') delete vReview[key]\r\n        })\r\n        Object.keys(seguro).forEach(key => {\r\n            if (seguro[key] === '') delete seguro[key]\r\n        })\r\n\r\n        const vehicle = humps.decamelizeKeys(vReview)\r\n        const insurance = humps.decamelizeKeys(seguro)\r\n\r\n        const insuranceExists = seguros.filter(s => s.apolice === insurance.apolice)\r\n\r\n        if (insuranceExists[0]) {\r\n            await axios.post('/api/cadastroVeiculo', vehicle)\r\n                .then(res => {\r\n                    const veiculoId = res.data\r\n                    this.submitFiles(veiculoId)\r\n                })\r\n                .catch(err => console.log(err))\r\n            this.resetState()\r\n            this.toast()\r\n\r\n        } else if (!insuranceExists[0] && insurance.apolice !== undefined\r\n            && insurance.apolice.length > 2 && insurance.seguradora_id !== undefined) {\r\n            let veiculoId\r\n            await axios.post('/api/cadastroVeiculo', vehicle)\r\n                .then(res => {\r\n                    console.log(res)\r\n                    veiculoId = res.data\r\n                    this.submitFiles(veiculoId)\r\n                })\r\n                .catch(err => console.log(err))\r\n            await axios.post('/api/cadSeguro', insurance)\r\n                .then((res) => console.log(res.data))\r\n\r\n            const body = {\r\n                table: 'veiculo',\r\n                column: 'apolice',\r\n                value: insurance.apolice,\r\n                tablePK: 'veiculo_id',\r\n                ids: [veiculoId]\r\n            }\r\n            await axios.put('/api/updateInsurances', body)\r\n                .then(res => console.log(res.data))\r\n\r\n\r\n\r\n            this.resetState()\r\n            this.toast()\r\n\r\n        } else {\r\n            this.setState({ alertType: 'invalidInsurance', openAlertDialog: true })\r\n        }\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files.length > 0) {\r\n            let\r\n                formData = new FormData(),\r\n                fn = this.state.fileNames\r\n\r\n            fn.push({ [name]: files[0].name })\r\n            await this.setState({ filesNames: fn, [name]: files[0] })\r\n\r\n            cadVehicleFiles.forEach(({ name }) => {\r\n                for (let keys in this.state) {\r\n                    if (keys.match(name)) {\r\n                        formData.append(name, this.state[name])\r\n                        if (!formData.get(keys)) formData.delete(keys)\r\n                    }\r\n                    else void 0\r\n                }\r\n            })\r\n            this.setState({ form: formData })\r\n        }\r\n    }\r\n\r\n    submitFiles = async veiculoId => {\r\n        const\r\n            { selectedEmpresa, apolice } = this.state,\r\n            { delegatarioId } = selectedEmpresa\r\n        let\r\n            newForm = new FormData(),\r\n            seguroForm = new FormData()\r\n\r\n        if (veiculoId && this.state.form) {\r\n            newForm.append('veiculoId', veiculoId);\r\n            for (let pair of this.state.form.entries()) {\r\n                if (pair[0] && pair[1]) {\r\n                    if (pair[0] === 'apoliceDoc') {\r\n                        seguroForm.append('fieldName', 'apoliceDoc')\r\n                        seguroForm.append('apolice', apolice)\r\n                        seguroForm.append('empresaId', delegatarioId)\r\n                        seguroForm.append(pair[0], pair[1])\r\n                    }\r\n                    else if (pair[1]) newForm.append(pair[0], pair[1])\r\n                }\r\n                else {\r\n                    newForm = null\r\n                    seguroForm = null\r\n                }\r\n            }\r\n        }\r\n        for (let pair of newForm.entries()) {\r\n            console.log(pair[0], pair[1])\r\n        }\r\n        if (newForm) await axios.post('/api/mongoUpload', newForm)\r\n            .then(res => console.log(res.data))\r\n            .catch(err => console.log(err))\r\n        if (seguroForm) await axios.post('/api/empresaUpload', seguroForm)\r\n            .then(res => console.log(res.data))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    showFiles = id => {\r\n\r\n        let selectedFiles = this.state.files.filter(f => f.metadata.veiculoId === id.toString())\r\n\r\n        if (selectedFiles[0]) {\r\n            this.setState({ filesCollection: selectedFiles, showFiles: true, selectedVehicle: id })\r\n\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n            this.setState({ filesCollection: [] })\r\n        }\r\n    }\r\n\r\n    resetState = () => {\r\n        const\r\n            resetState = {},\r\n            { equipamentos } = this.props.redux,\r\n            resetFiles = {},\r\n            resetEquip = {}\r\n\r\n        cadForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                Object.keys(obj).forEach(key => {\r\n                    if (key === 'field' && this.state[obj[key]]) Object.assign(resetState, { [obj[key]]: undefined })\r\n                })\r\n            })\r\n        })\r\n        cadVehicleFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: null })\r\n        })\r\n\r\n        equipamentos.forEach(e => Object.assign(resetEquip, { [e.item]: false }))\r\n\r\n        this.setState({\r\n            ...resetState,\r\n            ...resetFiles,\r\n            ...resetEquip,\r\n            activeStep: 0,\r\n            razaoSocial: '',\r\n            selectedEmpresa: undefined,\r\n            frota: [],\r\n            delegatarioCompartilhado: '',\r\n            files: [],\r\n            fileNames: [],\r\n            insuranceExists: false,\r\n            form: new FormData()\r\n        })\r\n    }\r\n\r\n    handleCheck = item => this.setState({ ...this.state, [item]: !this.state[item] })\r\n    handleEquipa = () => this.setState({ addEquipa: !this.state.addEquipa })\r\n    toggleDialog = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const\r\n            { confirmToast, toastMsg, activeStep, openAlertDialog, alertType, steps,\r\n                selectedEmpresa, placa, dropDisplay, form, insuranceExists } = this.state,\r\n            { empresas, equipamentos } = this.props.redux\r\n\r\n        return <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Cadastro de veículo' />\r\n\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <CadVeiculoTemplate\r\n                data={this.state}\r\n                empresas={empresas}\r\n                equipamentos={equipamentos}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                handleEquipa={this.handleEquipa}\r\n                handleCheck={this.handleCheck}\r\n                match={this.props.match}\r\n            />\r\n            {activeStep === 3 && <VehicleDocs\r\n                parentComponent='cadastro'\r\n                handleFiles={this.handleFiles}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n                insuranceExists={insuranceExists}\r\n            />}\r\n\r\n            {activeStep === 4 && <Review\r\n                parentComponent='cadastro' files={this.state.form}\r\n                filesForm={cadVehicleFiles} data={this.state}\r\n                form={cadForm}\r\n            />}\r\n\r\n            {selectedEmpresa && <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleCadastro}\r\n                setActiveStep={this.setActiveStep}\r\n                disabled={(typeof placa !== 'string' || placa === '')}\r\n            />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.toggleDialog} alertType={alertType} customMessage={this.state.customMsg} />}\r\n        </Fragment>\r\n    }\r\n}\r\nconst collections = ['veiculos', 'empresas', 'modelosChassi', 'carrocerias',\r\n    'seguradoras', 'seguros', 'equipamentos']\r\n\r\nexport default StoreHOC(collections, VeiculosContainer)","import { altFormVistoria } from './altFormVistoria'\r\n\r\nexport const altForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    datalist: 'placa',\r\n    autoComplete: true,\r\n    collection: 'frota',\r\n},\r\n{\r\n    field: 'delegatario',\r\n    label: 'Delegatário',\r\n    margin: 'normal',\r\n    datalist: 'razaoSocial',\r\n    autoComplete: true,\r\n    collection: 'empresas'\r\n},\r\n{\r\n    field: 'compartilhado',\r\n    label: 'Delegatário Compartilhado',\r\n    margin: 'normal',\r\n    datalist: 'razaoSocial',\r\n    autoComplete: true,\r\n    collection: 'empresas'\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilização',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Convencional', 'Executivo', 'Leito', 'Semi-Leito', 'Urbano']\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situação da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veículo próprio', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Número do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17,\r\n    disabled: true\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    disabled: true\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    disabled: true\r\n},\r\n\r\n]]\r\n    .concat([altFormVistoria])\r\n    .concat([[]])\r\n    .concat([[]])","export const altFormVistoria = [\r\n  \r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12000\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 15000\r\n    },\r\n    {\r\n        field: 'poltronas',\r\n        label: 'Poltronas',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 120\r\n    },\r\n    {\r\n        field: 'piquesPoltrona',\r\n        label: 'Piques poltrona',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'distanciaMinima',\r\n        label: 'Distância Mínima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',        \r\n        max: 150\r\n    },\r\n    {\r\n        field: 'distanciaMaxima',\r\n        label: 'Distância Máxima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    }         \r\n]","import React from 'react'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AutoComplete from '../Utils/autoComplete'\r\n\r\nimport './commonStyles.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1),\r\n        minWidth: '700px'\r\n    }\r\n}));\r\n\r\nexport default function SelectEmpresa(props) {\r\n\r\n    const\r\n        { empresas, handleInput, handleBlur } = props,\r\n        { razaoSocial } = props.data,\r\n        classes = useStyles(), { paper } = classes\r\n\r\n    return (\r\n        <div className='selectEmpresa'>\r\n            <Paper className={paper} style={{ padding: '0 2% 0 2%' }}>\r\n                <div className='item'>\r\n                    <h3>  Selecione a Viação </h3>\r\n                    <input\r\n                        list='razaoSocial'\r\n                        name='razaoSocial'\r\n                        className='selectEmpresa'\r\n                        value={razaoSocial}\r\n                        onChange={handleInput}\r\n                        onBlur={handleBlur}\r\n                    />\r\n                    <AutoComplete\r\n                        style={{ textAlign: 'center', width: '500px' }}\r\n                        collection={empresas}\r\n                        datalist='razaoSocial'\r\n                        value={razaoSocial}\r\n                    />\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Fragment } from 'react'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AddEquipa from './AddEquipa'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { altForm } from '../Forms/altForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1)\r\n    },\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 300,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, data, handleCheck, handleEquipa,\r\n    altPlacaOption, showAltPlaca, empresas, equipamentos }) {\r\n    const { activeStep, subtitle, placa, justificativa, selectedEmpresa, addEquipa } = data,\r\n        classes = useStyles(), { paper, container } = classes\r\n\r\n    let form = altForm[activeStep]\r\n\r\n    return (\r\n        <Fragment>\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                className={container}\r\n                justify=\"center\"\r\n            >\r\n                {activeStep === 0 &&\r\n                    <SelectEmpresa\r\n                        data={data}\r\n                        empresas={empresas}\r\n                        handleInput={handleInput}\r\n                        handleBlur={handleBlur}\r\n                    />\r\n                }\r\n                {\r\n                    selectedEmpresa ?\r\n                        <Grid item xs={12}>\r\n                            {activeStep < 3 &&\r\n                                <Paper className={paper}>\r\n                                    <h3 className='formSubtitle'> {subtitle[activeStep] + (placa && activeStep !== 0 ? ' - placa ' + placa : '')}</h3>\r\n\r\n                                    <TextInput\r\n                                        form={form}\r\n                                        data={data}\r\n                                        handleBlur={handleBlur}\r\n                                        handleInput={handleInput}\r\n                                    />\r\n                                </Paper>}\r\n\r\n                            {activeStep === 0 &&\r\n                                <Grid container justify=\"center\">\r\n                                    <Button\r\n                                        variant=\"outlined\"\r\n                                        size=\"small\"\r\n                                        color=\"primary\"\r\n                                        className={classes.button}\r\n                                        onClick={handleEquipa}\r\n                                    >\r\n                                        <AddIcon />\r\n                                        Equipamentos\r\n                                        </Button>\r\n                                </Grid>}\r\n\r\n                            {altPlacaOption && placa.match('[a-zA-Z]{3}[-]?\\\\d{4}') &&\r\n                                <div className='addNewDiv'>\r\n                                    <span onClick={() => showAltPlaca()}> → Clique aqui para alterar a placa para o formato Mercosul.</span>\r\n                                </div>\r\n                            }\r\n                            {\r\n                                addEquipa && <AddEquipa\r\n                                    equipamentos={equipamentos}\r\n                                    close={handleEquipa}\r\n                                    handleCheck={handleCheck}\r\n                                    data={data} />\r\n\r\n                            }\r\n                        </Grid>\r\n                        :\r\n                        <Grid container justify=\"center\">\r\n                            <div className={classes.formHolder}></div>\r\n                        </Grid>\r\n                }\r\n            </Grid>\r\n            {activeStep === 1 && <Grid\r\n                container\r\n                direction=\"row\"\r\n                justify=\"center\"\r\n                alignItems=\"center\">\r\n                <Grid>\r\n                    <TextField\r\n                        name='justificativa'\r\n                        value={justificativa}\r\n                        label='Justificativa'\r\n                        type='text'\r\n                        onChange={handleInput}\r\n                        InputLabelProps={{ shrink: true, style: { fontWeight: 600, marginBottom: '5%' } }}\r\n                        inputProps={{ style: { paddingBottom: '2%', width: '900px' } }}\r\n                        multiline\r\n                        rows={4}\r\n                        variant='outlined'\r\n                    />\r\n                </Grid>\r\n            </Grid>}\r\n        </Fragment>\r\n    )\r\n}   ","import React from 'react';\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog({ open, close, handleInput, handleFiles,\r\n  updatePlate, newPlate, formData, dropDisplay }) {\r\n\r\n  const errorHandler = nPlate => {\r\n\r\n    if (nPlate.length < 9 && nPlate.match('[a-zA-Z]{3}?[-]\\\\d{1}\\\\w{1}\\\\d{2}')) return false\r\n    else return true\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={open} onClose={close} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Alterar Placa</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Para alterar a placa do veículo para o padrãop Mercosul, digite a placa no campo abaixo e anexe o CRLV atualizado do veículo.\r\n              </DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            name='newPlate'\r\n            label=\"Nova placa\"\r\n            type=\"text\"\r\n            onChange={handleInput}\r\n            value={newPlate}\r\n            error={errorHandler(newPlate)}\r\n            fullWidth\r\n          />\r\n          <br /><br /><br />\r\n          <DragAndDrop\r\n            title='Nova placa'\r\n            name='newPlateDoc'\r\n            formData={formData}\r\n            dropDisplay={dropDisplay}\r\n            handleFiles={handleFiles}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={close} color=\"primary\">\r\n            Cancelar\r\n              </Button>\r\n          <Button onClick={updatePlate} color=\"primary\" disabled={errorHandler(newPlate)}>\r\n            Confirmar\r\n              </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport ReactToast from '../Utils/ReactToast'\r\nimport { altDadosFiles } from '../Forms/altDadosFiles'\r\nimport { altForm } from '../Forms/altForm'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport CustomStepper from '../Utils/Stepper'\r\n\r\nimport AltDadosTemplate from './AltDadosTemplate'\r\nimport VehicleDocs from './VehicleDocs'\r\nimport Review from './VehicleReview'\r\nimport StepperButtons from '../Utils/StepperButtons'\r\n\r\nimport FormDialog from '../Utils/FormDialog'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass AltDados extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        stepTitles: ['Informe a placa para alterar os dados abaixo ou mantenha as informações atuais e clique em avançar',\r\n            'Altere os dados desejados abaixo e clique em avançar', 'Anexe os documentos solicitados',\r\n            'Revisão das informações e deferimento'],\r\n        steps: ['Alterar dados do Veículo', 'Alterar dados adicionais', 'Documentos', 'Revisão'],\r\n\r\n        subtitle: ['Dados do Veículo', 'Informações adicionais',\r\n            'Anexe os arquivos solicitados', 'Revisão'],\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        delegatarioCompartilhado: '',\r\n        frota: [],\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        activeStep: 0,\r\n        files: [],\r\n        fileNames: [],\r\n        openAlertDialog: false,\r\n        altPlaca: false,\r\n        newPlate: '',\r\n        placa: '',\r\n        addEquipa: false,\r\n        dropDisplay: 'Clique ou arraste para anexar'\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { redux } = this.props\r\n        let equipamentos = {}\r\n\r\n        if (redux && redux.equipamentos) {\r\n            redux.equipamentos.forEach(e => Object.assign(equipamentos, { [e.item]: false }))\r\n            const equipArray = Object.keys(equipamentos)\r\n            await this.setState({ equipamentos: equipArray, ...equipamentos })\r\n        }\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const { veiculos, empresas } = this.props.redux,\r\n            { name, value } = e.target\r\n\r\n\r\n        if (name === 'razaoSocial') {\r\n            let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n\r\n                this.setState({ frota })\r\n\r\n            } else {\r\n                this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                this.reset()\r\n            }\r\n        }\r\n\r\n        if (name === 'placa' && this.state.frota) {\r\n            const vehicle = this.state.frota.find(v => v.placa === value)\r\n            if (!vehicle) this.state.equipamentos.forEach(e => this.setState({ [e]: false }))\r\n        }\r\n\r\n        if (name === 'newPlate') {\r\n            let newPlate = value\r\n            if (typeof newPlate === 'string') {\r\n                newPlate = newPlate.replace(/[a-z]/g, l => l.toUpperCase())\r\n                if (newPlate.match('[A-Z]{3}[0-9]{1}[A-Z]{1}[0-9]{2}')) newPlate = newPlate.replace(/(\\w{3})/, '$1-')\r\n                this.setState({ ...this.state, newPlate })\r\n            }\r\n        } else this.setState({ [name]: value })\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            this.setState({ openAlertDialog: true, alertType: 'empresaNotFound' })\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    capitalize = (field, value) => {\r\n        if (!value || typeof value !== 'string') return\r\n        if (field === 'utilizacao') {\r\n            if (value === 'RODOVIARIO') value = 'CONVENCIONAL'\r\n            if (value === 'SEMI LEITO - EXECUTIVO') value = 'Semi-Leito'\r\n            if (value !== 'Semi-Leito') value = value.charAt(0) + value.slice(1).toLowerCase()\r\n        }\r\n        if (field === 'dominio' && value === 'Sim') value = 'Veículo próprio'\r\n        if (field === 'dominio' && value === 'Não') value = 'Possuidor'\r\n\r\n        return value\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const\r\n            { empresas } = this.props.redux,\r\n            { frota, equipamentos } = this.state,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target,\r\n            vEquip = []\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n\r\n            case 'compartilhado':\r\n                this.getId(name, value, empresas, 'delegatarioCompartilhado', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            case 'delegatario':\r\n                await this.getId(name, value, empresas, 'delegatarioId', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            default:\r\n                void 0\r\n        }\r\n        if (name === 'placa' && value.length > 2 && Array.isArray(this.state.frota)) {\r\n\r\n            let vehicle = this.state.frota.find(v => {\r\n                if (typeof value === 'string') return v.placa.toLowerCase().match(value.toLowerCase())\r\n                else return v.placa.match(value)\r\n            })\r\n\r\n            if (vehicle && vehicle.equipamentosId) {\r\n                const currentEquipa = vehicle.equipamentosId\r\n                equipamentos.forEach(e => {\r\n                    if (currentEquipa.toLowerCase().match(e.toLowerCase())) vEquip.push(e)\r\n                })\r\n                vEquip.forEach(ve => this.setState({ [ve]: true }))\r\n            }\r\n\r\n\r\n\r\n            if (vehicle && vehicle.utilizacao) {\r\n                vehicle.utilizacao = this.capitalize('utilizacao', vehicle.utilizacao)\r\n            }\r\n\r\n            if (vehicle && vehicle.dominio) {\r\n                vehicle.dominio = this.capitalize('dominio', vehicle.dominio)\r\n            }\r\n\r\n            await this.setState({ ...vehicle, equipamentosId: vEquip, disable: true })\r\n\r\n            if (vehicle !== undefined && vehicle.hasOwnProperty('empresa')) this.setState({ delegatario: vehicle.empresa })\r\n\r\n            let reset = {}\r\n            if (frota[0]) Object.keys(frota[0]).forEach(k => reset[k] = '')\r\n            if (this.state.placa !== '' && !vehicle) {\r\n                this.setState({ alertType: 'plateNotFound', openAlertDialog: true })\r\n                this.setState({ ...reset, disable: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    showAltPlaca = () => {\r\n        const title = 'Alteração de placa',\r\n            message = 'Para alterar a placa para o novo padrão Mercosul, informe a nova placa no campo abaixo.'\r\n        this.setState({ altPlaca: true, title, message })\r\n    }\r\n\r\n    updatePlate = () => {\r\n        this.setState({ placa: this.state.newPlate })\r\n        this.toggleDialog()\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n        const { poltronas, pesoDianteiro, pesoTraseiro, delegatarioId,\r\n            delegatarioCompartilhado, equipamentosId, newPlate } = this.state\r\n\r\n        let tempObj = {}\r\n\r\n        altForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                for (let k in this.state) {\r\n                    if (k === obj.field && !obj.disabled) {\r\n                        if (this.state[k]) Object.assign(tempObj, { [k]: this.state[k] })\r\n                    }\r\n                }\r\n            })\r\n        })\r\n\r\n        let pbt = Number(poltronas) * 93 + (Number(pesoDianteiro) + Number(pesoTraseiro))\r\n        if (isNaN(pbt)) pbt = undefined\r\n\r\n        tempObj = Object.assign(\r\n            tempObj, { delegatarioId, delegatarioCompartilhado, pbt, equipamentosId })\r\n\r\n        tempObj = humps.decamelizeKeys(tempObj)\r\n\r\n        Object.keys(tempObj).forEach(key => {\r\n            if (tempObj[key] === '' || tempObj[key] === 'null' || !tempObj[key]) delete tempObj[key]\r\n        })\r\n\r\n        const { placa, delegatario, compartilhado, ...requestObject } = tempObj\r\n\r\n        if (newPlate && newPlate !== '') requestObject.placa = newPlate\r\n\r\n        const table = 'veiculo',\r\n            tablePK = 'veiculo_id'\r\n\r\n        await axios.put('/api/updateVehicle', { requestObject, table, tablePK, id: this.state.veiculoId })\r\n        await this.submitFiles()\r\n        this.setState({ activeStep: 0, razaoSocial: '', selectedEmpresa: undefined })\r\n        this.reset()\r\n        this.setState({})\r\n        this.toast()\r\n\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n\r\n            let formData = new FormData()\r\n            formData.append('veiculoId', this.state.veiculoId)\r\n\r\n            let fn = this.state.fileNames\r\n\r\n            if (files && files.length > 0) {\r\n\r\n                fn.push({ [name]: files[0].name })\r\n                await this.setState({ filesNames: fn, [name]: files[0] })\r\n\r\n                altDadosFiles.forEach(({ name }) => {\r\n                    for (let keys in this.state) {\r\n                        if (keys.match(name)) {\r\n                            formData.append(name, this.state[name])\r\n                        }\r\n                        else void 0\r\n                    }\r\n                })\r\n                this.setState({ form: formData })\r\n            }\r\n        }\r\n    }\r\n\r\n    submitFiles = () => {\r\n        const { form } = this.state\r\n\r\n        axios.post('/api/mongoUpload', form)\r\n            .then(res => console.log('uploaded'))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    handleCheck = async item => {\r\n        const { equipamentos } = this.state\r\n        let array = []\r\n        await this.setState({ ...this.state, [item]: !this.state[item] })\r\n\r\n        equipamentos.forEach(e => {\r\n            if (this.state[e] === true) {\r\n                array.push(e)\r\n            }\r\n        })\r\n        if (array[0]) this.setState({ equipamentosId: array })\r\n        else this.setState({ equipamentosId: [] })\r\n    }\r\n\r\n    handleEquipa = () => this.setState({ addEquipa: !this.state.addEquipa })\r\n    toggleDialog = () => this.setState({ altPlaca: !this.state.altPlaca })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    reset = () => {\r\n\r\n        let resetFiles = {}\r\n\r\n        altForm.forEach(form => form.forEach(el => this.setState({ [el.field]: '' })))\r\n        altDadosFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: undefined })\r\n        })\r\n        this.setState({ ...resetFiles, form: undefined })\r\n    }\r\n\r\n    render() {\r\n        const\r\n            { confirmToast, toastMsg, stepTitles, activeStep, steps, altPlaca,\r\n                selectedEmpresa, openAlertDialog, alertType, dropDisplay, form } = this.state,\r\n            { empresas, equipamentos } = this.props.redux\r\n\r\n        return <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Alteração de dados' />\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                stepTitles={stepTitles}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            {activeStep < 2 && <AltDadosTemplate\r\n                data={this.state}\r\n                empresas={empresas}\r\n                equipamentos={equipamentos}\r\n                setActiveStep={this.setActiveStep}\r\n                altPlacaOption={activeStep === 0}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                showAltPlaca={this.showAltPlaca}\r\n                handleEquipa={this.handleEquipa}\r\n                handleCheck={this.handleCheck}\r\n            />}\r\n            {activeStep === 2 && <VehicleDocs\r\n                parentComponent='altDados'\r\n                handleFiles={this.handleFiles}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n            />}\r\n            {activeStep === 3 && <Review\r\n                parentComponent='altDados' files={this.state.form}\r\n                filesForm={altDadosFiles} data={this.state}\r\n                form={altForm}\r\n            />}\r\n\r\n            {selectedEmpresa && <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleSubmit}\r\n                setActiveStep={this.setActiveStep}\r\n            />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            <FormDialog\r\n                open={altPlaca}\r\n                close={this.toggleDialog}\r\n                newPlate={this.state.newPlate}\r\n                handleInput={this.handleInput}\r\n                handleFiles={this.handleFiles}\r\n                updatePlate={this.updatePlate}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n            />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'equipamentos'];\r\n\r\nexport default StoreHOC(collections, AltDados)","export const seguroForm = [\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',        \r\n        autoComplete: true,\r\n        datalist: 'seguradora',\r\n        collection: 'seguradoras',\r\n        maxLength: 80\r\n    },\r\n    {       \r\n        field: 'apolice',\r\n        label: 'Apólice',        \r\n        autoComplete: true,\r\n        datalist: 'apolice',\r\n        collection: 'seguros',\r\n        maxLength: 25\r\n    },    \r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emissão'        \r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento'        \r\n    }]","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Chip from '@material-ui/core/Chip'\r\n\r\nimport Add from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Search from '@material-ui/icons/Search'\r\n\r\nimport { seguroForm } from '../Forms/altSegForm'\r\nimport './veiculos.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 400,\r\n        fontSize: '0.9rem',\r\n        textAlign: 'center',\r\n        marginBottom: '20px'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 300,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n    }\r\n}))\r\n\r\nexport default function AltSeguro({ empresas, data, enableAddPlaca, handleInput, handleBlur,\r\n    addPlate, deleteInsurance, handleFiles, handleSubmit, enableChangeApolice, showAllPlates }) {\r\n\r\n    const { selectedEmpresa, placa, apolice, addedPlaca, frota, insuranceExists,\r\n        newInsurance, dropDisplay, seguroFile } = data\r\n\r\n    const classes = useStyles(), { paper, textField, chip } = classes\r\n\r\n    let placas = []\r\n    let insurance\r\n\r\n    if (insuranceExists.hasOwnProperty('placas')) insurance = insuranceExists\r\n    else if (newInsurance && newInsurance.placas) insurance = newInsurance\r\n\r\n    if (insurance) {\r\n        if (insurance.placas[0] && insurance.placas[0] !== null) placas = insurance.placas.sort()\r\n        if (placa !== undefined && placa.length > 2 && placas[0]) {\r\n            if (typeof placa === 'string') placas = insurance.placas.filter(p => p.toLowerCase().match(placa.toLowerCase())).sort()\r\n            else placas = insurance.placas.filter(p => p.match(placa)).sort()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <div style={{ width: '100%', display: 'flex', flexDirection: 'column' }}>\r\n                <Crumbs links={['Veículos', '/veiculos']} text='Seguros' />\r\n                <SelectEmpresa\r\n                    data={data}\r\n                    empresas={empresas}\r\n                    handleInput={handleInput}\r\n                    handleBlur={handleBlur}\r\n                />\r\n                {selectedEmpresa &&\r\n                    <Paper className={paper}>\r\n                        <h3 className='formSubtitle'>Informe os dados do seguro.</h3>\r\n                        <TextInput\r\n                            form={seguroForm}\r\n                            data={data}\r\n                            handleBlur={handleBlur}\r\n                            handleInput={handleInput}\r\n                        />\r\n                        {insurance &&\r\n                            <div className='addNewDiv'>\r\n                                <span onClick={() => enableChangeApolice()}> → Clique aqui para alterar o número da apólice mantendo as placas.</span>\r\n                            </div>\r\n                        }\r\n                    </Paper>\r\n                }\r\n                {selectedEmpresa && (insurance || enableAddPlaca) &&\r\n                    <Paper className={paper}>\r\n                        <p>Utilize as opções abaixo para filtrar, adicionar ou excluir placas desta apólice</p>\r\n                        <section className='addSeguro'>\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        name: 'addedPlaca',\r\n                                        list: 'placa'\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        style: { fontSize: '0.8rem' }\r\n                                    }}\r\n                                    label='Insira a placa'\r\n                                    className={textField}\r\n                                    value={addedPlaca}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={frota}\r\n                                    datalist='placa'\r\n                                    value={addedPlaca}\r\n                                />\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    variant=\"contained\"\r\n                                    className={classes.button}\r\n                                    style={{ margin: '10px 0 10px 0' }}\r\n                                    onClick={() => addPlate(addedPlaca)}\r\n                                >\r\n                                    <Add /> Adicionar\r\n                            </Button>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        name: 'placa',\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        style: { fontSize: '0.8rem' }\r\n                                    }}\r\n                                    label='Filtrar'\r\n                                    className={textField}\r\n                                    value={placa || ''}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <Search style={{ marginTop: '18px' }} />\r\n                            </div>\r\n                            <DragAndDrop\r\n                                name='apoliceDoc'\r\n                                formData={seguroFile}\r\n                                dropDisplay={dropDisplay}\r\n                                handleFiles={handleFiles}\r\n                                single={true}\r\n                            />\r\n\r\n                        </section>\r\n\r\n                        <div className='addNewDiv' style={{ justifyContent: 'flex-start', padding: '10px' }}>\r\n                            <span onClick={() => showAllPlates()}>→ Clique aqui para selecionar placas</span>\r\n\r\n                        </div>\r\n\r\n                        {/********************************* Lista de placas vinculadas (Chips) ********************************************/}\r\n\r\n                        {insurance && insurance.placas[0]\r\n                            ?\r\n                            <div style={{ margin: '15px' }}>\r\n                                Placas vinculadas a apólice {insurance.apolice}\r\n                            </div>\r\n                            :\r\n                            <div style={{ marginTop: '30px' }}></div>\r\n                        }\r\n                        {insurance && apolice && apolice.length > 2 && placas[0] && placas.map((placa, i) =>\r\n                            <Chip\r\n                                key={i}\r\n                                label={placa}\r\n                                onDelete={() => deleteInsurance(placa)}\r\n                                className={chip}\r\n                                color='primary'\r\n                                variant=\"outlined\"\r\n                            />\r\n                        )}\r\n                    </Paper>}\r\n            </div >\r\n            {apolice && (insurance || enableAddPlaca) &&\r\n                <div style={{ minHeight: '60px', position: 'flex' }}>\r\n                    <Button\r\n                        size=\"small\"\r\n                        color='primary'\r\n                        className='saveButton'\r\n                        variant=\"contained\"\r\n                        onClick={() => handleSubmit()}\r\n                    // disabled={!placas[0] || !seguroFile ? true : false}\r\n                    >\r\n                        Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                    </Button>\r\n                </div>}\r\n        </Fragment >\r\n    )\r\n}","import React, { lazy, Suspense } from 'react'\r\n\r\nexport default function ShowAllPlates({ title, data, items, handleCheck, close }) {\r\n\r\n    const LoadPlates = lazy(() => import('./Plates'))\r\n\r\n    return (\r\n        <Suspense fallback={<div className='loading'>\r\n            <img src=\"/images/loading.gif\" alt=\"\" height=\"60px\" width=\"60px\" />\r\n            <p> Carregando... </p>\r\n        </div>}>\r\n            <LoadPlates\r\n                title={title}\r\n                data={data}\r\n                items={items}\r\n                handleCheck={handleCheck}\r\n                close={close}\r\n            />\r\n        </Suspense>\r\n    )\r\n}","import React from 'react';\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function ConfigAddDialog({ open, close, title, helperMessage, marca, marcas, selectMarca, newElement, handleInput, addNewElement }) {\r\n\r\n    return (\r\n        <div>\r\n            <Dialog open={open} onClose={close} aria-labelledby=\"form-dialog-title\">\r\n                <DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        {helperMessage}\r\n                    </DialogContentText>\r\n                    <div className=\"editFields\">\r\n                        {marcas && <div className=\"configMarca\">\r\n                            <TextField\r\n                                onChange={selectMarca}\r\n                                value={marca}\r\n                                label='Selecione uma marca'\r\n                                select={true}\r\n                                InputLabelProps={{ shrink: true }}\r\n                                SelectProps={{\r\n                                    style: {\r\n                                        fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                                        width: 325, height: '44px'\r\n                                    }\r\n                                }}\r\n                            >\r\n                                {marcas.map(({ marca }, i) =>\r\n                                    <MenuItem key={i} value={marca} >\r\n                                        {marca}\r\n                                    </MenuItem>\r\n                                )}\r\n                            </TextField>\r\n                        </div>}\r\n                        <div className=\"configField\">\r\n                            <TextField\r\n                                autoFocus\r\n                                margin=\"dense\"\r\n                                name='newElement'\r\n                                label=\"Inserir\"\r\n                                type=\"text\"\r\n                                onChange={handleInput}\r\n                                value={newElement}\r\n                                fullWidth\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <br /><br /><br />\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={close} color=\"primary\">\r\n                        Cancelar\r\n              </Button>\r\n                    <Button onClick={() => addNewElement()} color=\"primary\">\r\n                        Confirmar\r\n              </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport { removeInsurance } from '../Store/dataActions'\r\n\r\nimport ReactToast from '../Utils/ReactToast'\r\nimport moment from 'moment'\r\n\r\nimport AltSeguroTemplate from './AltSeguroTemplate'\r\nimport ShowAllPlates from './ShowAllPlates'\r\nimport ConfigAddDialog from './ConfigAddDialog'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\nimport { seguroForm } from '../Forms/seguroForm'\r\n\r\nclass AltSeguro extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.openAddDialog) this.toggleDialog()\r\n                if (this.state.showAllPlates) this.setState({ showAllPlates: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        addedPlaca: '',\r\n        insuranceExists: {},\r\n        razaoSocial: '',\r\n        seguradora: '',\r\n        toastMsg: 'Seguro atualizado!',\r\n        confirmToast: false,\r\n        dropDisplay: 'Clique ou arraste para anexar a apólice',\r\n        showAllPlates: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            seguradoras: this.props.redux['seguradoras'],\r\n            allInsurances: this.props.redux['seguros']\r\n        })\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    checkExistance = async (name, inputValue) => {\r\n\r\n        const\r\n            { seguros, veiculos } = this.props.redux,\r\n            { selectedEmpresa, newInsurance } = this.state,\r\n            s = [...seguros.filter(se => se.delegatarioId === selectedEmpresa.delegatarioId)],\r\n            frota = veiculos.filter(v => v.delegatarioId === selectedEmpresa.delegatarioId)\r\n\r\n        let insuranceExists,\r\n            testApolice = { ...s.find(s => s[name] === inputValue) },\r\n            testSeguradora = { ...s.find(s => s[name] === inputValue && s.apolice === this.state.apolice) },\r\n            InsuranceUpdatedFrota = [],\r\n            updatedPlates = [],\r\n            updatedVehicles = []\r\n\r\n        if (name === 'apolice') {\r\n            insuranceExists = testApolice\r\n            InsuranceUpdatedFrota = frota.filter(v => v.apolice === inputValue)\r\n\r\n            if (newInsurance && newInsurance.apolice && newInsurance.apolice !== inputValue) {\r\n                this.setState({ newInsurance: false, dataEmissao: '', vencimento: '' })\r\n            }\r\n        }\r\n\r\n        if (name === 'seguradora') {\r\n            insuranceExists = testSeguradora\r\n            InsuranceUpdatedFrota = frota.filter(v => v.apolice === this.state.apolice)\r\n        }\r\n        if (insuranceExists && insuranceExists.dataEmissao && insuranceExists.vencimento) {\r\n            InsuranceUpdatedFrota.forEach(v => {\r\n                updatedPlates.push(v.placa)\r\n                updatedVehicles.push(v.veiculoId)\r\n            })\r\n\r\n            insuranceExists.placas = updatedPlates\r\n            insuranceExists.veiculos = updatedVehicles\r\n\r\n            const dataEmissao = moment(insuranceExists.dataEmissao).format('YYYY-MM-DD'),\r\n                vencimento = insuranceExists.vencimento.toString().slice(0, 10),\r\n                { seguradora, seguradoraId } = insuranceExists\r\n            await this.setState({ seguradora, seguradoraId, dataEmissao, vencimento, insuranceExists })\r\n            return\r\n        }\r\n        if (Object.keys(insuranceExists).length === 0) this.setState({ insuranceExists: false, dataEmissao: '', vencimento: '' })\r\n    }\r\n\r\n    handleInput = async e => {\r\n\r\n        let { value } = e.target\r\n        const\r\n            { name } = e.target,\r\n            { veiculos, empresas, seguradoras } = this.props.redux,\r\n            { allInsurances, selectedEmpresa, frota, insuranceExists, apolice, dataEmissao,\r\n                vencimento, newInsurance, seguradora } = this.state\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n                let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n                if (selectedEmpresa) {\r\n                    await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                    if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n                    const\r\n                        frota = veiculos.filter(v => v.empresa === this.state.razaoSocial),\r\n                        filteredInsurances = allInsurances.filter(seguro => seguro.empresa === this.state.razaoSocial),\r\n                        allPlates = frota.map(vehicle => vehicle.placa).sort()\r\n\r\n                    this.setState({ frota, seguros: filteredInsurances, allPlates })\r\n\r\n                } else {\r\n                    this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                    this.clearFields()\r\n                }\r\n                break\r\n\r\n            case 'apolice':\r\n                this.checkExistance('apolice', value)\r\n                break\r\n\r\n            case 'seguradora':\r\n                this.checkExistance(name, value)\r\n                const selectedSeguradora = seguradoras.find(sg => sg.seguradora === value)\r\n                if (selectedSeguradora) {\r\n                    this.setState({ seguradoraId: selectedSeguradora.id })\r\n                }\r\n                break\r\n\r\n            case 'addedPlaca':\r\n                const vehicleFound = frota.find(v => v.placa === value)\r\n                if (vehicleFound) this.setState({ vehicleFound })\r\n                break;\r\n            default:\r\n                void 0\r\n        }\r\n\r\n        // *************NEW INSURANCE CHECK / UPDATE STATE****************\r\n\r\n        const fields = ['seguradora', 'apolice', 'dataEmissao', 'vencimento']\r\n        const checkFields = fields.every(f => this.state[f] && this.state[f] !== '')\r\n\r\n        if (name !== 'razaoSocial' && !newInsurance && checkFields && Object.keys(insuranceExists).length === 0) {\r\n            let newInsurance = {}, seguradoraId\r\n            const selectedSeguradora = seguradoras.find(sg => sg.seguradora === this.state.seguradora)\r\n            if (selectedSeguradora) seguradoraId = selectedSeguradora.id\r\n\r\n            Object.assign(newInsurance,\r\n                {\r\n                    empresa: selectedEmpresa.razaoSocial,\r\n                    delegatarioId: selectedEmpresa.delegatarioId,\r\n                    apolice, seguradora, seguradoraId, dataEmissao, vencimento, placas: [], veiculos: []\r\n                })\r\n\r\n            await this.setState({ newInsurance, seguradoraId })\r\n        }\r\n    }\r\n\r\n    handleBlur = e => {\r\n\r\n        const\r\n            { seguradoras } = this.props.redux,\r\n            { seguradora, allInsurances, selectedEmpresa } = this.state,\r\n            { name } = e.target\r\n\r\n        if (name === 'seguradora') {\r\n            let filteredInsurances = []\r\n\r\n            const valid = seguradoras.find(s => s.seguradora.toLowerCase().match(seguradora.toLowerCase()))\r\n            if (valid && seguradora.length > 2) this.setState({ seguradora: valid.seguradora })\r\n            if (!valid && seguradora.length > 2) this.setState({ openAlertDialog: true, alertType: 'seguradoraNotFound', seguradora: undefined })\r\n\r\n            if (selectedEmpresa && !seguradora) {\r\n                filteredInsurances = allInsurances.filter(seguro => seguro.empresa === selectedEmpresa.razaoSocial)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n            else if (!selectedEmpresa && seguradora !== '') {\r\n                filteredInsurances = allInsurances.filter(s => s.seguradora === seguradora)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n            else if (selectedEmpresa && seguradora !== '') {\r\n                filteredInsurances = allInsurances\r\n                    .filter(seg => seg.empresa === selectedEmpresa.razaoSocial)\r\n                    .filter(seg => seg.seguradora === seguradora)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n        }\r\n        if (name === 'dataEmissao' || name === 'vencimento') {\r\n            const errors = checkInputErrors()\r\n            if (errors) this.setState({ errors })\r\n            else this.setState({ errors: undefined })\r\n        }\r\n    }\r\n    showAllPlates = () => {\r\n\r\n        const\r\n            { insuranceExists, newInsurance, allPlates } = this.state\r\n\r\n        let placas, veiculos, allPlatesObj = {}\r\n        if (insuranceExists) [placas, veiculos] = [insuranceExists.placas, insuranceExists.veiculos]\r\n        if (newInsurance) [placas, veiculos] = [newInsurance.placas, newInsurance.veiculos]\r\n\r\n        allPlates.forEach(p => {\r\n            Object.assign(allPlatesObj, { [p]: false })\r\n        })\r\n        placas.forEach(p => {\r\n            Object.assign(allPlatesObj, { [p]: true })\r\n        })\r\n\r\n        this.setState({ allPlatesObj, insuredPlates: placas, showAllPlates: !this.state.showAllPlates })\r\n    }\r\n\r\n    handleCheck = async plate => {\r\n\r\n        const\r\n            { frota } = this.state,\r\n            vehicleFound = frota.find(v => v.placa === plate)\r\n\r\n        let allPlatesObj = { ...this.state.allPlatesObj }\r\n        allPlatesObj[plate] = !allPlatesObj[plate]\r\n\r\n        if (allPlatesObj[plate] === true) {\r\n            await this.setState({ vehicleFound, allPlatesObj })\r\n            this.addPlate(plate)\r\n        }\r\n        \r\n        else this.deleteInsurance(plate)\r\n    }\r\n\r\n    addPlate = async placaInput => {\r\n\r\n        const { vehicleFound, apolice } = this.state\r\n        let { insuranceExists, newInsurance } = this.state\r\n\r\n        if (!placaInput || placaInput === '') return\r\n\r\n        //Check if vehicle belongs to frota before add to insurance and  if plate already belongs to apolice\r\n        if (vehicleFound === undefined || vehicleFound.hasOwnProperty('veiculoId') === false) {\r\n            this.setState({ openAlertDialog: true, alertType: 'plateNotFound' })\r\n            return null\r\n        } else if (insuranceExists !== undefined && insuranceExists.hasOwnProperty('placas') && vehicleFound.hasOwnProperty('placa')) {\r\n            const check = insuranceExists.placas.find(p => p === vehicleFound.placa)\r\n            if (check !== undefined) {\r\n                this.setState({ openAlertDialog: true, alertType: 'plateExists' })\r\n                return null\r\n            }\r\n        }\r\n        // Add plates to rendered list\r\n        if (apolice) {\r\n            if (!insuranceExists.placas && !insuranceExists.veiculos) {\r\n\r\n                let update = { ...newInsurance }\r\n                update.placas.push(placaInput)\r\n                update.veiculos.push(vehicleFound.veiculoId)\r\n\r\n                await this.setState({ newInsurance: update, })\r\n\r\n            } else {\r\n                let\r\n                    obj = { ...insuranceExists },\r\n                    { placas, veiculos } = obj\r\n\r\n                placas.push(placaInput)\r\n                veiculos.push(vehicleFound.veiculoId)\r\n                obj.placas = placas\r\n                obj.veiculos = veiculos\r\n\r\n                await this.setState({ insuranceExists: obj })\r\n            }\r\n            if (document.getElementsByName('addedPlaca')[0]) document.getElementsByName('addedPlaca')[0].focus()\r\n            this.setState({ addedPlaca: '' })\r\n        }\r\n    }\r\n\r\n    deleteInsurance = async placaInput => {\r\n\r\n        const\r\n            { apolice, frota } = this.state,\r\n            vehicleFound = frota.find(v => v.placa === placaInput)\r\n\r\n        let\r\n            insuranceExists = { ...this.state.insuranceExists },\r\n            { placas, veiculos } = insuranceExists,\r\n            newInsurance = { ...this.state.newInsurance }\r\n\r\n        if (newInsurance && newInsurance.apolice) {\r\n            let newPlates = [...newInsurance.placas],\r\n                newVehicles = [...newInsurance.veiculos]\r\n\r\n            const\r\n                i = newPlates.indexOf(placaInput),\r\n                k = newVehicles.indexOf(vehicleFound.veiculoId)\r\n\r\n            newInsurance.placas.splice(i, 1)\r\n            newInsurance.veiculos.splice(k, 1)\r\n            await this.setState({ newInsurance })\r\n            return\r\n        }\r\n\r\n        const body = {\r\n            table: 'veiculo',\r\n            column: 'apolice',\r\n            value: 'Seguro não cadastrado',\r\n            tablePK: 'veiculo_id',\r\n            ids: [vehicleFound.veiculoId]\r\n        }\r\n\r\n        await axios.put('/api/updateInsurances', body)\r\n\r\n        const\r\n            i = placas.indexOf(placaInput),\r\n            k = veiculos.indexOf(vehicleFound.veiculoId)\r\n\r\n        await this.props.removeInsurance(apolice, i, k)\r\n\r\n        insuranceExists.placas.splice(i, 1)\r\n        insuranceExists.veiculos.splice(k, 1)\r\n\r\n        await this.setState({ insuranceExists })\r\n        return\r\n    }\r\n\r\n    updateApolice = () => {\r\n        const\r\n            { insuranceExists, dataEmissao, vencimento } = this.state,\r\n            { id, veiculos } = insuranceExists\r\n\r\n\r\n        let updatedDates = {}\r\n        const emissaoDidChange = !moment(dataEmissao).isSame(moment(insuranceExists.dataEmissao))\r\n        const vencimentoDidChange = !moment(vencimento).isSame(moment(insuranceExists.vencimento))\r\n\r\n        if (!emissaoDidChange && !vencimentoDidChange) return\r\n\r\n        if (emissaoDidChange) updatedDates.data_emissao = dataEmissao\r\n        if (vencimentoDidChange) updatedDates.vencimento = vencimento\r\n\r\n        const requestObj = {\r\n            id,\r\n            columns: Object.keys(updatedDates),\r\n            updatedDates,\r\n            vehicleIds: veiculos\r\n        }\r\n        axios.put('/api/updateApolice', requestObj)\r\n            .then(r => console.log(r.data))\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const\r\n            { seguradora, insuranceExists, newInsurance, errors, newElement } = this.state,\r\n            { veiculos } = insuranceExists\r\n        let\r\n            frota = [...this.state.frota],\r\n            vehicleIds = []\r\n\r\n        if (errors && errors[0]) {\r\n            this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n        if (!seguradora || seguradora === '') {\r\n            this.setState({ openAlertDialog: true, alertType: 'seguradoraNotFound', seguradora: undefined })\r\n            return\r\n        }\r\n\r\n        //Create seguro object\r\n        const { seguradoraId, apolice, dataEmissao, vencimento, selectedEmpresa } = this.state\r\n\r\n        let cadSeguro = {\r\n            apolice,\r\n            seguradora_id: seguradoraId,\r\n            delegatario_id: selectedEmpresa.delegatarioId\r\n        }\r\n\r\n        const validEmissao = moment(dataEmissao, 'YYYY-MM-DD', true).isValid(),\r\n            validVenc = moment(vencimento, 'YYYY-MM-DD', true).isValid()\r\n\r\n        if (validEmissao) cadSeguro.data_emissao = dataEmissao\r\n        if (validVenc) cadSeguro.vencimento = vencimento\r\n\r\n        //Create a new insurance\r\n        if (!insuranceExists) {\r\n            if (newInsurance) vehicleIds = newInsurance.veiculos\r\n            await axios.post('/api/cadSeguro', cadSeguro)\r\n        }\r\n        //else just update the dates\r\n        if (insuranceExists) {\r\n            vehicleIds = insuranceExists.veiculos\r\n            await this.updateApolice()\r\n        }\r\n\r\n        //Define body and post VehicleUpdate\r\n        let body = {\r\n            table: 'veiculo',\r\n            column: 'apolice',\r\n            value: apolice,\r\n            tablePK: 'veiculo_id',\r\n            ids: vehicleIds,\r\n            vehicleIds: veiculos\r\n        }\r\n\r\n        if (newElement && insuranceExists && insuranceExists.id) {\r\n            axios.put('/api/changeApoliceNumber', { id: insuranceExists.id, newApoliceNumber: newElement })\r\n        }\r\n\r\n        await axios.put('/api/updateInsurances', body)\r\n            .then(res => console.log(res.data))\r\n\r\n        frota = frota.map(v => {\r\n            vehicleIds.forEach(id => {\r\n                if (v.veiculoId === id) {\r\n                    v.apolice = apolice\r\n                    return v\r\n                } else return v\r\n            })\r\n            return v\r\n        })\r\n\r\n        this.toast()\r\n        this.submitFiles()\r\n        this.clearFields()\r\n        this.setState({ frota })\r\n    }\r\n\r\n    handleFiles = async file => {\r\n        let formData = new FormData()\r\n        formData.append('apoliceDoc', file[0])\r\n        await this.setState({ dropDisplay: file[0].name, seguroFile: formData })\r\n    }\r\n\r\n    submitFiles = async () => {\r\n        const { apolice, selectedEmpresa } = this.state\r\n\r\n        let seguroFormData = new FormData()\r\n\r\n        if (this.state.seguroFile) {\r\n            seguroFormData.append('fieldName', 'apoliceDoc')\r\n            seguroFormData.append('apolice', apolice)\r\n            seguroFormData.append('empresaId', selectedEmpresa.delegatarioId)\r\n            for (let pair of this.state.seguroFile.entries()) {\r\n                seguroFormData.append(pair[0], pair[1])\r\n            }\r\n            await axios.post('/api/empresaUpload', seguroFormData)\r\n                .then(r => console.log(r.data))\r\n            this.toast()\r\n        }\r\n    }\r\n\r\n\r\n    addNewElement = () => this.setState({ apolice: this.state.newElement, openAddDialog: false })\r\n    toggleDialog = () => this.setState({ openAddDialog: !this.state.openAddDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    clearFields = () => {\r\n        this.setState({\r\n            insuranceExists: '', seguradora: '', newInsurance: '',\r\n            apolice: '', dataEmissao: '', vencimento: '', seguroFile: null,\r\n            dropDisplay: 'Clique ou arraste para anexar a apólice'\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const\r\n            { openAlertDialog, alertType, openAddDialog, showAllPlates, allPlates, allPlatesObj } = this.state,\r\n            { empresas } = this.props.redux\r\n\r\n        const enableAddPlaca = seguroForm\r\n            .every(k => this.state.hasOwnProperty(k.field) && this.state[k.field] !== '')\r\n\r\n        return (\r\n            <Fragment>\r\n                <AltSeguroTemplate\r\n                    data={this.state}\r\n                    empresas={empresas}\r\n                    enableAddPlaca={enableAddPlaca}\r\n                    handleInput={this.handleInput}\r\n                    handleBlur={this.handleBlur}\r\n                    addPlate={this.addPlate}\r\n                    deleteInsurance={this.deleteInsurance}\r\n                    enableChangeApolice={this.toggleDialog}\r\n                    handleFiles={this.handleFiles}\r\n                    handleSubmit={this.handleSubmit}\r\n                    showAllPlates={this.showAllPlates}\r\n                />\r\n                {openAddDialog && <ConfigAddDialog\r\n                    open={openAddDialog}\r\n                    close={this.toggleDialog}\r\n                    title='Alterar número da apólice'\r\n                    helperMessage='Informe o número atualizado da apólice.'\r\n                    handleInput={this.handleInput}\r\n                    addNewElement={this.addNewElement}\r\n                />}\r\n                {\r\n                    showAllPlates &&\r\n                    <ShowAllPlates\r\n                        items={allPlates}\r\n                        close={this.showAllPlates}\r\n                        title='Selecione as placas para adicionar à apólice.'\r\n                        handleCheck={this.handleCheck}\r\n                        data={allPlatesObj} />\r\n                }\r\n\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'seguradoras', 'seguros']\r\n\r\nexport default connect(null, { removeInsurance })(StoreHOC(collections, AltSeguro))","export const baixaForm = [\r\n    {\r\n        field: 'placa',\r\n        label: 'Placa',      \r\n        datalist: 'placa',\r\n        autoComplete: true,\r\n        collection: 'frota',\r\n        maxLength: 8\r\n    },\r\n    {\r\n        field: 'renavam',\r\n        label: 'Renavam',        \r\n    },\r\n    {\r\n        field: 'nChassi',\r\n        label: 'Número do Chassi',        \r\n        maxLength: 17,\r\n    },\r\n    {\r\n        field: 'delegatario',\r\n        label: 'Delegatário',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilização',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'dominio',\r\n        label: 'Situação da Propriedade',        \r\n        disabled: true\r\n    },\r\n\r\n    {\r\n        field: 'marcaChassi',\r\n        label: 'Marca do Chassi',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloChassi',\r\n        label: 'Modelo do Chassi',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'marcaCarroceria',\r\n        label: 'Marca da Carroceria',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloCarroceria',\r\n        label: 'Modelo da Carroceria',        \r\n        disabled: true\r\n    },\r\n    {\r\n        type: 'number',\r\n        field: 'indicadorIdade',\r\n        label: 'Ano',        \r\n        disabled: true\r\n    }\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport { baixaForm } from '../Forms/baixaForm'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport { Send } from '@material-ui/icons'\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nimport './veiculos.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1),\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, handleCheck, handleSubmit, data, empresas }) {\r\n    const { razaoSocial, frota, checked, delegaTransf, justificativa } = data,\r\n        classes = useStyles(), { paper, container, formHolder } = classes\r\n\r\n    return (\r\n        <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Baixa de veículo' />\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}\r\n                handleBlur={handleBlur}\r\n            />\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                className={container}\r\n                justify=\"center\"\r\n            >\r\n                {razaoSocial && frota[0] &&\r\n                    <Grid item xs={12}>\r\n                        <Paper className={paper}>\r\n                            <Typography className='formSubtitle'>Informe os dados para a baixa</Typography>\r\n                            <TextInput\r\n                                form={baixaForm}\r\n                                data={data}\r\n                                handleBlur={handleBlur}\r\n                                handleInput={handleInput}\r\n                            />\r\n                        </Paper>\r\n                        <Grid container\r\n                            direction=\"row\"\r\n                            justify=\"space-between\"\r\n                            alignItems=\"center\"\r\n                            style={{ width: checked === 'venda' || checked === 'outro' ? '1200px' : '600px', marginTop: '25px' }}\r\n                        >\r\n                            <Grid item xs={checked ? 6 : 12}>\r\n                                <FormControl component=\"fieldset\">\r\n                                    <FormLabel component=\"legend\">Motivo da baixa</FormLabel>\r\n                                    <RadioGroup aria-label=\"position\" name=\"position\"\r\n                                        onChange={handleCheck} row\r\n                                        style={{ width: 'auto' }}\r\n                                        className='radio'\r\n                                    >\r\n                                        <FormControlLabel\r\n                                            className='radio'\r\n                                            value=\"venda\"\r\n                                            control={<Radio color=\"primary\" />}\r\n                                            label={<span style={{ fontSize: '0.8rem' }}>{\"Venda para outra empresa do sistema\"}</span>}\r\n                                            labelPlacement=\"start\"\r\n\r\n                                        />\r\n                                        <FormControlLabel\r\n                                            value=\"outro\"\r\n                                            control={<Radio color=\"primary\" />}\r\n                                            label={<span style={{ fontSize: '0.8rem' }}>{\"Outro\"}</span>}\r\n                                            labelPlacement=\"start\"\r\n                                        />\r\n\r\n                                    </RadioGroup>\r\n                                </FormControl>\r\n                            </Grid>\r\n\r\n                            {checked === 'venda' ?\r\n                                <Grid item xs={6} >\r\n                                    <TextField\r\n                                        inputProps={{\r\n                                            list: 'razaoSocial',\r\n                                            name: 'delegaTransf',\r\n                                        }}\r\n                                        value={delegaTransf}\r\n                                        onChange={handleInput}\r\n                                        onBlur={handleBlur}\r\n                                        label='Informe o delegatário para o qual foi transferido o veículo.'\r\n                                        fullWidth\r\n                                    />\r\n                                    <AutoComplete\r\n                                        collection={empresas}\r\n                                        datalist='razaoSocial'\r\n                                        value={delegaTransf}\r\n                                    />\r\n                                </Grid>\r\n                                :\r\n                                checked === 'outro' &&\r\n                                <Grid item xs={6}>\r\n                                    <TextField\r\n                                        name='justificativa'\r\n                                        value={justificativa}\r\n                                        label='Justificativa'\r\n                                        type='text'\r\n                                        onChange={handleInput}\r\n                                        InputLabelProps={{ shrink: true }}\r\n                                        multiline\r\n                                        rows={3}\r\n                                        variant='outlined'\r\n                                        fullWidth\r\n                                    />\r\n                                </Grid>\r\n                            }\r\n                        </Grid>\r\n                        <Grid container direction=\"row\" justify='flex-end' style={{ width: '1200px' }}>\r\n                            <Grid item xs={11} style={{ width: '1000px' }}></Grid>\r\n                            <Grid item xs={1} style={{ align: \"right\" }}>\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    color=\"primary\"\r\n                                    variant=\"outlined\"\r\n                                    style={{ margin: '10px 0 10px 0' }}\r\n                                    onClick={() => handleSubmit()}\r\n                                >\r\n                                    Confirmar <span>&nbsp;&nbsp; </span> <Send />\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                }\r\n                {!razaoSocial && !frota[0] &&\r\n                    <Grid container justify=\"center\">\r\n                        <div className={formHolder}></div>\r\n                    </Grid>}\r\n            </Grid>\r\n        </Fragment>\r\n    )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport BaixaTemplate from './BaixaTemplate'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport { baixaForm } from '../Forms/baixaForm'\r\n\r\nimport './veiculos.css'\r\n\r\nclass BaixaVeiculo extends Component {\r\n\r\n    state = {\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        frota: [],\r\n        placa: '',\r\n        form: {},\r\n        check: '',\r\n        delegaTransf: '',\r\n        toastMsg: 'Baixa realizada com sucesso!',\r\n        confirmToast: false,\r\n        openDialog: false,\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n        const { name, value } = e.target,\r\n            { veiculos, empresas } = this.props.redux\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        if (name === 'razaoSocial') {\r\n            let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n                this.setState({ frota })\r\n\r\n            } else {\r\n                await this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                this.reset()\r\n            }\r\n        }\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const\r\n            { empresas } = this.props.redux,\r\n            { frota } = this.state,\r\n            { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'delegaTransf') {\r\n            if (value.length > 0) {\r\n                const newDelega = empresas.find(e => e.razaoSocial === value)\r\n                if (newDelega) {\r\n                    await this.setState({ delegatarioId: newDelega.delegatarioId, delegaTransf: newDelega.razaoSocial, disableSubmit: true })\r\n                    void 0\r\n                } else this.setState({ openAlertDialog: true, alertType: 'empresaNotFound', delegaTransf: '' })\r\n            }\r\n        }\r\n\r\n        if (name === 'placa' && typeof frota !== 'string') {\r\n            if (value === '') this.setState({ disableSubmit: true })\r\n            if (value.length > 0) {\r\n                let vehicle\r\n                if (value.length > 2) vehicle = frota.find(v => {\r\n                    if (typeof value === 'string') return v.placa.toLowerCase().match(value.toLowerCase())\r\n                    else return v.placa.match(value)\r\n                })\r\n\r\n                await this.setState({ ...vehicle })\r\n\r\n                if (!vehicle) {\r\n                    let reset = {}\r\n                    if (frota[0]) Object.keys(frota[0]).forEach(k => reset[k] = '')\r\n                    this.setState({ alertType: 'plateNotFound', openAlertDialog: true, disableSubmit: true })\r\n                    this.setState({ ...reset })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const { checked, delegatarioId } = this.state\r\n\r\n        let checkArray = ['selectedEmpresa', 'placa', 'delegatarioId']\r\n        let tempObj, enableSubmit\r\n\r\n        if (checked === 'venda') {\r\n            checkArray.push('delegaTransf')\r\n            enableSubmit = checkArray.every(k => this.state.hasOwnProperty(k) && this.state[k] !== '')\r\n            tempObj = { delegatarioId, situacao: 'pendente' }\r\n        }\r\n        if (checked === 'outro') {\r\n            checkArray.push('justificativa')\r\n            enableSubmit = checkArray.every(k => this.state.hasOwnProperty(k) && this.state[k] !== '')\r\n            tempObj = { situacao: 'excluído' }\r\n        }\r\n        if (!enableSubmit) {\r\n            await this.setState({ openAlertDialog: true, alertType: 'fieldsMissing' })\r\n            return null\r\n        }\r\n\r\n        tempObj.apolice = 'Seguro não cadastrado'\r\n\r\n        const requestObject = humps.decamelizeKeys(tempObj)\r\n\r\n        const table = 'veiculo',\r\n            tablePK = 'veiculo_id'\r\n        await axios.put('/api/updateVehicle', { requestObject, table, tablePK, id: this.state.veiculoId })\r\n            .then(() => this.toast())\r\n            .catch(err => console.log(err))\r\n        await this.setState({ selectedEmpresa: undefined, frota: [], razaoSocial: '' })\r\n        this.reset()\r\n    }\r\n\r\n    handleCheck = e => this.setState({ checked: e.target.value })\r\n    reset = () => {\r\n        baixaForm.forEach(el => this.setState({ [el.field]: '' }))\r\n        this.setState({ delegaTransf: '', check: '', justificativa: '', checked: false })\r\n    }\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const { delegaTransf, confirmToast, toastMsg, checked, openAlertDialog,\r\n            alertType } = this.state\r\n        \r\n        return <Fragment>\r\n            <BaixaTemplate\r\n                data={this.state}\r\n                empresas={this.props.redux.empresas}\r\n                checked={checked}\r\n                delegaTransf={delegaTransf}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                handleCheck={this.handleCheck}\r\n                handleSubmit={this.handleSubmit}\r\n            />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n        </Fragment >\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas']\r\n\r\nexport default StoreHOC(collections, BaixaVeiculo)","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport Add from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport './config.css'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',        \r\n        width: '275px',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    select: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),        \r\n        marginBottom: '2px',\r\n        background: '#fafafa',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    }\r\n}))\r\n\r\nexport default function ConfigTemplate({ collections, collection, data, staticData,\r\n    selectCollection, handleChange, enableEdit, removeItem, handleSubmit, openAddDialog }) {\r\n\r\n    const\r\n        classes = useStyles(),\r\n        { textField } = classes\r\n\r\n    return (\r\n        <Fragment>\r\n           <Crumbs links={['Veículos', '/veiculos']} text='Alterar configurações de veículos' />\r\n            <center>\r\n                <h4>Selecione uma das opções abaixo.</h4>\r\n            </center>\r\n            <div className=\"selectHeader\">\r\n                <TextField\r\n                    className={textField}\r\n                    onChange={selectCollection}\r\n                    value={collection}\r\n                    select={true}\r\n                    SelectProps={{\r\n                        style: {\r\n                            fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                            width: 325, height: '44px'\r\n                        }\r\n                    }}\r\n                >\r\n                    {collections.map((opt, i) =>\r\n                        <MenuItem key={i} value={opt} >\r\n                            {opt}\r\n                        </MenuItem>\r\n                    )}\r\n                </TextField>\r\n            </div>\r\n           {staticData && collection && <div className='divHeader'>\r\n                <Button\r\n                    size=\"small\"\r\n                    color='primary'\r\n                    variant='outlined'\r\n                    //  className={classes.button}\r\n                    style={{ margin: '10px 0 10px 0' }}\r\n                    onClick={() => openAddDialog()}\r\n                >\r\n                    <Add /> Adicionar\r\n                </Button>\r\n            </div>}\r\n            <div className='container'>\r\n                {\r\n                    data && staticData && data.map((el, i) =>\r\n                        <div className='divCell' key={i}>\r\n                            <TextField\r\n                                value={el.edit ? el[staticData.field] : el[staticData.field] + ' (' + el['count'] + ')'}\r\n                                onChange={handleChange}\r\n                                name={el.field}\r\n                                type='text'\r\n                                inputProps={{\r\n                                    autoCorrect: 'off',\r\n                                    spellCheck: false,\r\n                                    style: {\r\n                                        fontSize: '0.8rem',\r\n                                        color: el.edit === true ? '#000' : '#999'\r\n                                    },                                    \r\n                                }}\r\n                                className={textField}\r\n                                disabled={el.edit === false}\r\n                            />\r\n\r\n                            <button component='span'\r\n                                className='configVehicleIcon'\r\n                                title='Editar'\r\n                                onClick={() => enableEdit(i)}\r\n                                display='none'>\r\n                                <EditIcon className='confIcon' color='primary' />\r\n                            </button>\r\n                            <button\r\n                                className='configVehicleIcon'\r\n                                title='Remover'\r\n                                onClick={() => removeItem(i)}>\r\n                                <DeleteIcon className='confIcon' color='secondary' />\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n            </div>\r\n            {\r\n                data &&\r\n                <Grid container direction=\"row\" justify='flex-end' >\r\n                    <Grid item xs={1} style={{ align: \"right\", margin: '20px 95px 10px 0' }}>\r\n                        <Button\r\n                            size=\"small\"\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            title='Salvar'\r\n                            onClick={() => handleSubmit()}\r\n                        >\r\n                            Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            }\r\n        </Fragment >\r\n    )\r\n}","import React, { PureComponent } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport ConfigAddDialog from './ConfigAddDialog'\r\nimport ReactToast from '../Utils/ReactToast'\r\nimport ConfigTemplate from './ConfigTemplate'\r\nimport { configVehicleForm } from '../Forms/configVehicleForm'\r\nimport { Fragment } from 'react'\r\n\r\nclass VehicleConfig extends PureComponent {\r\n\r\n    state = {\r\n        collection: '',\r\n        marca: '',\r\n        options: [],\r\n        openAddDialog: false,\r\n        confirmToast: false,\r\n        toastMsg: 'Dados atualizados!',\r\n    }\r\n    componentDidMount() {\r\n        let options = []\r\n        configVehicleForm.forEach(col => { options.push(col.label) })\r\n        this.setState({ options })\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const\r\n            { redux } = this.props,\r\n            { veiculos } = redux,\r\n            { staticData, data } = this.state\r\n\r\n        if (!staticData || !data) return null\r\n        \r\n        const { collection } = staticData\r\n        if (JSON.stringify(prevProps.redux[collection]) !== JSON.stringify(redux[collection])) {        \r\n            const data = this.addCounter(veiculos, staticData, redux[collection])\r\n            this.setState({ data })\r\n        }\r\n    }\r\n\r\n    addCounter = (veiculos, staticData, data) => {\r\n        const { name, field, label } = staticData\r\n\r\n        data.forEach(el => {\r\n            const vehicles = veiculos.filter(v => {\r\n                if (label === 'Equipamentos' && v[name]) return v[name].toLowerCase().match(el[field].toLowerCase())\r\n                return v[name] === el[field]\r\n            }),\r\n                count = vehicles.length\r\n            Object.assign(el, { count })\r\n        })\r\n        data = data.sort((a, b) => a[field].localeCompare(b[field]))\r\n        return data\r\n    }\r\n\r\n    selectCollection = async e => {\r\n        const\r\n            { value } = e.target,\r\n            { veiculos, marcaChassi, marcaCarroceria } = this.props.redux\r\n        let\r\n            staticData = configVehicleForm.find(el => el.label === value),\r\n            data = JSON.parse(JSON.stringify(this.props.redux[staticData.collection]))\r\n\r\n        data = this.addCounter(veiculos, staticData, data)\r\n        data.forEach(el => el.edit = false)\r\n\r\n        this.setState({ marcas: undefined, marca: '' })\r\n        if (staticData.collection === 'modelosChassi') this.setState({ marcas: marcaChassi })\r\n        if (staticData.collection === 'carrocerias') this.setState({ marcas: marcaCarroceria })\r\n\r\n        await this.setState({ collection: value, data, staticData })\r\n        void 0\r\n    }\r\n\r\n    enableEdit = async index => {\r\n        const\r\n            divCell = document.querySelectorAll('.divCell'),\r\n            divWrap = divCell[index].childNodes[0],\r\n            inputTarget = divWrap.querySelectorAll('input')[0]\r\n        let\r\n            data = [...this.state.data]\r\n\r\n        if (data[index].edit === true) data[index].edit = false\r\n        else {\r\n            data.forEach(s => s.edit = false)\r\n            data[index].edit = true\r\n        }\r\n        await this.setState({ data })\r\n        inputTarget.focus()\r\n    }\r\n\r\n    selectMarca = e => {\r\n        const\r\n            { value } = e.target,\r\n            { collection } = this.state.staticData,\r\n            { marcaChassi, marcaCarroceria } = this.props.redux\r\n\r\n        let marcaCollection\r\n        if (collection === 'modelosChassi') marcaCollection = marcaChassi\r\n        if (collection === 'carrocerias') marcaCollection = marcaCarroceria\r\n\r\n        const { id } = marcaCollection.find(m => m.marca === value)\r\n\r\n        this.setState({ marca: value, marcaId: id })\r\n    }\r\n\r\n    handleChange = async e => {\r\n        const\r\n            { value } = e.target,\r\n            name = this.state.staticData.field\r\n            //{ collection } = this.state.staticData\r\n\r\n\r\n        let changedElement = this.state.data.find(el => el.edit === true)\r\n        const index = this.state.data.indexOf(changedElement)\r\n\r\n        //const reduxItem = JSON.parse(JSON.stringify(this.props.redux[collection][index]))\r\n        changedElement[name] = value\r\n\r\n        let newData = [...this.state.data]\r\n        newData[index] = changedElement\r\n\r\n        await this.setState({ data: newData })       \r\n    }\r\n\r\n    handleInput = e => {\r\n        const { value } = e.target\r\n        this.setState({ newElement: value })\r\n    }\r\n\r\n    addNewElement = async () => {\r\n\r\n        const\r\n            { staticData, newElement, marcaId } = this.state,\r\n            { table, field, collection } = staticData,\r\n            { veiculos } = this.props.redux\r\n\r\n        let requestElement = { [field]: newElement }\r\n        if (marcaId) requestElement.marcaId = marcaId\r\n        requestElement = humps.decamelizeKeys(requestElement)\r\n\r\n        await axios.post('/api/addElement', { table, requestElement })\r\n\r\n        let data = this.props.redux[collection]\r\n        data = this.addCounter(veiculos, staticData, data)\r\n\r\n        this.setState({ openAddDialog: false, data })\r\n    }\r\n\r\n    removeItem = async index => {\r\n\r\n        let data = [...this.state.data]\r\n        const\r\n            { staticData } = this.state,\r\n            { collection, table } = staticData,\r\n            id = data[index].id,\r\n            originalData = this.props.redux[collection],\r\n            registered = originalData.find(el => el.id === id)\r\n\r\n        if (registered) {\r\n            await axios.delete(`/api/delete?table=${table}&tablePK=id&id=${id}`)\r\n                .catch(err => console.log(err))\r\n        }\r\n        data.splice(index, 1)\r\n        this.setState({ data })\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const\r\n            { redux } = this.props,\r\n            { data, staticData } = this.state,\r\n            { collection, field, table } = staticData,\r\n            originalData = JSON.parse(JSON.stringify(redux[collection]))\r\n\r\n        let editedElements = []\r\n\r\n        data.forEach(el => {\r\n            if (el.hasOwnProperty('id')) {\r\n                const { count, edit, ...rest } = el\r\n                editedElements.push(rest)\r\n            }\r\n        })\r\n\r\n        let realChanges = [], tempObj = {}\r\n\r\n        editedElements.forEach(el => {\r\n            originalData.forEach(item => {\r\n                if (el.id === item.id) {\r\n                    Object.keys(el).forEach(key => {\r\n                        if (el[key] !== item[key]) {\r\n                            if (!tempObj.id) tempObj = { ...tempObj, id: el.id }\r\n                            Object.assign(tempObj, { [key]: el[key] })\r\n                        }\r\n                    })\r\n                    if (Object.keys(tempObj).length > 0) realChanges.push(tempObj)\r\n                    tempObj = {}\r\n                }\r\n            })\r\n        })\r\n\r\n        const\r\n            tablePK = 'id',\r\n            column = humps.decamelize(field)\r\n\r\n        editedElements = humps.decamelizeKeys(realChanges)\r\n\r\n        await axios.put('/api/editElements', { requestArray: editedElements, table, tablePK, column })\r\n            .then(r => console.log('updated.'))\r\n            .catch(err => console.log(err))\r\n\r\n        editedElements = []\r\n        realChanges = []\r\n        tempObj = {}\r\n        this.toast()\r\n\r\n        this.setState({ collection: '', staticData: undefined })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openAddDialog: !this.state.openAddDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n\r\n        const { options, collection, data, staticData, openAddDialog, marca, marcas, confirmToast, toastMsg } = this.state\r\n        return (\r\n            <Fragment>\r\n                <ConfigTemplate\r\n                    collections={options}\r\n                    collection={collection}\r\n                    data={data}\r\n                    staticData={staticData}\r\n                    selectCollection={this.selectCollection}\r\n                    enableEdit={this.enableEdit}\r\n                    handleChange={this.handleChange}\r\n                    handleSubmit={this.handleSubmit}\r\n                    openAddDialog={this.toggleDialog}\r\n                    removeItem={this.removeItem}\r\n                />\r\n                {openAddDialog && <ConfigAddDialog\r\n                    open={openAddDialog}\r\n                    close={this.toggleDialog}\r\n                    title={staticData.label}\r\n                    helperMessage='Para adicionar, insira o nome no campo abaixo e clique em \"Confirmar\".'\r\n                    marca={marca}\r\n                    marcas={marcas}\r\n                    selectMarca={this.selectMarca}\r\n                    handleInput={this.handleInput}\r\n                    addNewElement={this.addNewElement}\r\n                />}\r\n                <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['seguradoras', 'lookUpTable/marca_chassi', 'modelosChassi', 'lookUpTable/marca_carroceria',\r\n    'carrocerias', 'equipamentos', 'veiculos']\r\n\r\nexport default StoreHOC(collections, VehicleConfig)","const formatDate = (date, min) => {\r\n\r\n    const minutes = () => {\r\n        if (new Date(date).getMinutes() < 10) {\r\n            return '0' + new Date(date).getMinutes()\r\n        } else {\r\n            return new Date(date).getMinutes()\r\n        }\r\n    }\r\n\r\n    if (/\\d/.test(date)) {\r\n        let data = new Date(date).getDate() + '/' + (new Date(date).getMonth() + 1) + '/' + new Date(date).getFullYear()// + ', ' + new Date(date).getHours() + ':' + minutes() + 'h'\r\n        if (min) data += ', ' + new Date(date).getHours() + ':' + minutes() + 'h'\r\n        return data.toString()\r\n    } else {\r\n        return date\r\n    }\r\n}\r\n\r\nexport default formatDate;","import formatDate from '../Utils/formatDate'\r\n\r\nexport const delegatarioTable = [\r\n    {\r\n        field: 'razaoSocial',\r\n        title: 'Razão Social',\r\n    },\r\n    {\r\n        field: 'delegatarioStatus',\r\n        title: 'Situação',\r\n    },\r\n    {\r\n        field: 'vencimentoContrato',\r\n        title: 'Data de Vencimento',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.vencimentoContrato)\r\n    },\r\n    {\r\n        field: 'cidade',\r\n        title: 'Município',\r\n    },\r\n    {\r\n        field: 'telefone',\r\n        title: 'Telefone',\r\n    },\r\n    {\r\n        field: 'frota',\r\n        title: 'Tamanho da frota'\r\n    }\r\n  /*   {\r\n        field: 'procuradoresList',\r\n        title: 'Nome do Procurador',\r\n        fSize: '0.3rem',\r\n        render: rowData => rowData.procuradoresList\r\n            ?\r\n            rowData.procuradoresList.map(s => s.charAt(0).toUpperCase()\r\n                .concat(s.slice(1).toLowerCase())).toString().replace(/,/g, \", \")\r\n            :\r\n            ''\r\n    } */\r\n]\r\n\r\nexport const sociosTable = [\r\n    {\r\n        field: 'nomeSocio',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfSocio',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'razaoSocial',\r\n        title: 'Delegatário(s)',\r\n    },\r\n    {\r\n        field: 'emailSocio',\r\n        title: 'E-mail',        \r\n        \r\n    },\r\n    {\r\n        field: 'share',\r\n        title: 'Participação Societária (%)',\r\n        filtering: false,        \r\n    }\r\n]\r\n\r\n\r\nexport const procuradorTable = [\r\n    {\r\n        field: 'nomeProcurador',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfProcurador',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'emailProcurador',\r\n        title: 'E-mail',\r\n    },\r\n    {\r\n        field: 'telProcurador',\r\n        title: 'Telefone'        \r\n    }\r\n]\r\n\r\nexport const vehicleTable = [\r\n    {\r\n        field: 'placa',\r\n        title: 'Placa',\r\n    },\r\n    {\r\n        field: 'modeloCarroceria',\r\n        title: 'Modelo da Carroceria',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Delegatário',\r\n    },\r\n    {\r\n        field: 'seguradora',\r\n        title: 'Seguradora',\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        title: 'Número da Apólice',\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Vencimento Seguro',\r\n        render: rowData => formatDate(rowData.vencimento)\r\n    },\r\n    {\r\n        field: 'indicadorIdade',\r\n        title: 'Ano de Fabricação',\r\n        filtering: false\r\n    }\r\n]\r\n\r\nexport const segurosTable = [\r\n    {\r\n        field: 'apolice',\r\n        title: 'Número da Apólice',\r\n    },\r\n    {\r\n        field: 'seguradora',\r\n        title: 'Seguradora',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Segurado',\r\n    },\r\n    {\r\n        field: 'segurados',\r\n        title: 'Número de veículos',\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Vencimento',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.vencimento)\r\n    }\r\n]\r\n\r\nexport const tables = [delegatarioTable].concat([sociosTable]).concat([procuradorTable]).concat([vehicleTable]).concat([segurosTable])\r\n","import React from 'react'\r\nimport * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\n\r\nimport MaterialTable from 'material-table';\r\nimport { tables } from './tables'\r\n\r\nexport default function ({ tab, collection, showDetails, showFiles, showCertificate, del }) {\r\n\r\n\r\n    const id = ['delegatarioId', 'socioId', 'procuradorId', 'veiculoId', 'apolice'][tab],\r\n        subject = ['empresas', 'sócios', 'procuradores', 'veículos', 'seguros']\r\n    if (!Array.isArray(collection)) collection = []\r\n    return (\r\n        <div style={{ margin: '10px 0' }} className='noPrint'>\r\n            <MaterialTable\r\n                title={`Pesquisar dados de ${subject[tab]}`}\r\n                columns={tables[tab]}\r\n                data={collection}\r\n                style={{ fontFamily: 'Segoe UI', fontSize: '14px' }}\r\n                options={{\r\n                    filtering: true,\r\n                    exportButton: true,\r\n                    exportFileName: subject[tab],\r\n                    exportCsv: (columns, data) => {\r\n                        const\r\n                            fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8',\r\n                            fileExtension = '.xlsx',\r\n                            fileName = subject[tab]\r\n\r\n                        const exportToCSV = (csvData, fileName) => {\r\n                            const ws = XLSX.utils.json_to_sheet(csvData);\r\n                            const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n                            const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n                            const data = new Blob([excelBuffer], { type: fileType });\r\n                            FileSaver.saveAs(data, fileName + fileExtension);\r\n                        }\r\n                        exportToCSV(data, fileName)\r\n                    },\r\n                    actionsColumnIndex: -1,\r\n                    searchFieldStyle: { color: '#024', fontSize: '14px' },\r\n                    headerStyle: { backgroundColor: '#FAFAFC' },\r\n                    emptyRowsWhenPaging: false,\r\n                    pageSize: 10,\r\n                }}\r\n\r\n                localization={{\r\n                    header: { actions: 'Opções' },\r\n                    body: {\r\n                        emptyDataSourceMessage: 'Registro não encontrado.',\r\n                        editRow: { deleteText: 'Tem certeza que deseja apagar esse registro ?' },\r\n                        deleteTooltip: 'Apagar',\r\n                        filterRow: { filterTooltip: 'Filtrar' }\r\n                    },\r\n                    toolbar: {\r\n                        searchTooltip: 'Procurar',\r\n                        searchPlaceholder: 'Procurar',\r\n                        exportName: 'Salvar como arquivo do excel',\r\n                        exportAriaLabel: 'Exportar',\r\n                        exportTitle: 'Exportar'\r\n                    },\r\n                    pagination: {\r\n\r\n                        labelRowsSelect: 'Resultados por página',\r\n                        labelDisplayedRows: ' {from}-{to} a {count}',\r\n                        firstTooltip: 'Primeira página',\r\n                        previousTooltip: 'Página anterior',\r\n                        nextTooltip: 'Próxima Página',\r\n                        lastTooltip: 'Última Página',\r\n\r\n                    }\r\n                }}\r\n                actions={[\r\n                    {\r\n                        icon: 'info',\r\n                        iconProps: { color: 'primary' },\r\n                        tooltip: 'Mais informações',\r\n                        onClick: (event, rowData) => showDetails(event, rowData)\r\n                    },\r\n                    {\r\n                        icon: 'file_copy_outline',\r\n                        iconProps: { color: 'secondary' },\r\n                        tooltip: 'Ver arquivos',\r\n                        onClick: (event, rowData) => showFiles(rowData[id])\r\n                    },\r\n                    {\r\n                        icon: 'class_outlined',\r\n                        iconProps: { color: 'action' },\r\n                        tooltip: 'Emitir certificado',\r\n                        hidden: tab !== 3,\r\n                        onClick: (event, rowData) => showCertificate(rowData)\r\n                    }\r\n                ]}\r\n                editable={{\r\n                    onRowDelete: async oldData => await del(oldData)\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}","export const delegatario = [[\r\n    {\r\n        field: 'empresa',\r\n        label: 'Delegatário',\r\n        width: '120mm',\r\n        left: '50mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimentoContrato',\r\n        label: 'Validade do Contrato',\r\n        width: '36mm',\r\n        left: '5mm'\r\n    },\r\n]]\r\n\r\nexport const caracteristicas = [\r\n    [\r\n        {\r\n            field: 'placa',\r\n            label: 'Placa',\r\n            width: '25mm',\r\n            left: '8mm'\r\n        },\r\n        {\r\n            field: 'renavam',\r\n            label: 'Renavam',\r\n            width: '42mm',\r\n            left: '14mm'\r\n        },\r\n        {\r\n            field: 'poltronas',\r\n            label: 'Poltronas',\r\n            width: '16mm',\r\n            left: '2mm'\r\n        },\r\n        {\r\n            field: 'piquesPoltrona',\r\n            label: 'Piques poltrona',\r\n            width: '19mm'\r\n        },\r\n        {\r\n            field: 'nChassi',\r\n            label: 'Número do Chassi',\r\n            width: '50mm',\r\n            left: '15mm'\r\n        },\r\n\r\n    ],\r\n    [\r\n        {\r\n            field: 'marcaChassi',\r\n            label: 'Marca do Chassi',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'modeloChassi',\r\n            label: 'Modelo do Chassi',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'anoChassi',\r\n            label: 'Ano do chassi',\r\n        },\r\n        {\r\n            field: 'distanciaMinima',\r\n            label: 'Distância Mínima (cm)',\r\n        },\r\n        {\r\n            field: 'distanciaMaxima',\r\n            label: 'Distância Máxima (cm)'\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            field: 'marcaCarroceria',\r\n            label: 'Marca da Carroceria',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'modeloCarroceria',\r\n            label: 'Modelo da Carroceria',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'anoCarroceria',\r\n            label: 'Ano da carroceria',\r\n        },\r\n        {\r\n            field: 'cores',\r\n            label: 'Cores',\r\n            width: '45mm',\r\n            left: '15mm'\r\n        }]\r\n]\r\n\r\nexport const seguro = [[\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',\r\n        width: '75mm',\r\n        left: '27.5mm'\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        label: 'Apólice',\r\n        width: '35mm',\r\n        left: '13mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emissão',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    }]]\r\n\r\nexport const pesagem = [[\r\n    {\r\n        field: 'eixos',\r\n        label: 'Nº Eixos',\r\n        width: '15mm',\r\n        left: '2mm'\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        width: '28mm',\r\n        left: '4mm'\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        width: '28mm',\r\n        left: '4mm'\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        field: 'pesoPassageiros',\r\n        label: 'Passag/Bagagem',\r\n        width: '25mm',\r\n        left: '3mm'\r\n    },\r\n]]\r\n\r\n\r\nexport const informacoesGerais = [[\r\n    {\r\n        type: 'date',\r\n        field: 'dataRegistro',\r\n        label: 'Data de Registro',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'dataExpedicao',\r\n        label: 'Data de expedição',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilização',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'equipamentosId',\r\n        label: 'Acessórios',\r\n        width: '65mm',\r\n    }\r\n]]\r\n\r\nexport const other = [[\r\n    {\r\n        field: 'compartilhado', \r\n        label: 'Empresas autorizadas a compartilhar',\r\n        width: '120mm',\r\n        left: '20mm'\r\n    },\r\n    {\r\n        field: 'observacoes', \r\n        label: 'Observações',\r\n        width: '80mm',        \r\n    }\r\n]]","import React, { Fragment, useState, useEffect } from 'react'\r\nimport moment from 'moment'\r\n\r\nimport { delegatario, caracteristicas, seguro, pesagem, informacoesGerais, other } from '../Forms/certificate'\r\n\r\nimport './certificate.css'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        paddingRight: '25px',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    }\r\n}))\r\n\r\n\r\nexport default function PdfCertificate() {\r\n\r\n    const [vehicle, setVehicle] = useState({})\r\n    const data = JSON.parse(localStorage.getItem('vehicle'))\r\n    console.log('1', data)\r\n\r\n    useEffect(() => {\r\n        async function setData() {\r\n            console.log('2', localStorage)\r\n            let menus = document.querySelectorAll('.MuiToolbar-root')\r\n            menus.forEach(m => m.style.display = 'none')\r\n            await setVehicle(data)\r\n            setTimeout(() => {\r\n                if (data) window.print()\r\n            }, 500);\r\n        }\r\n        setData()\r\n        localStorage.removeItem('vehicle')\r\n        console.log('3', localStorage)\r\n    }, [])\r\n\r\n    const classes = useStyles(),\r\n        { textField } = classes\r\n\r\n    let carac = caracteristicas,\r\n        delega = delegatario,\r\n        seg = seguro,\r\n        peso = pesagem,\r\n        info = informacoesGerais,\r\n        obs = other,\r\n        object = {}\r\n\r\n    const formArray = [carac, delega, seg, peso, info, obs]\r\n\r\n    if (vehicle)\r\n        formArray.forEach(form => {\r\n            Object.entries(vehicle).forEach(([key, value]) => {\r\n                form.forEach((line, i) => {\r\n                    line.forEach((obj, k) => {\r\n                        if (obj.field === key) {\r\n                            object = Object.assign(obj, { value })\r\n                            form[i][k] = object\r\n                            object = {}\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n        })\r\n    const checkMulti = field => {\r\n        if (field === 'equipamentosId' || field === 'equipamentosId') return\r\n        else return 'certificate'\r\n    }\r\n    const redirect = () => {\r\n        let menus = document.querySelectorAll('.MuiToolbar-root')\r\n        menus.forEach(m => m.style.display = 'none')\r\n        const url = window.location.origin\r\n        window.location.href = url;\r\n    }\r\n    const ultimateForm = [\r\n        { title: 'Delegatário', form: delega },\r\n        { title: 'Características do Veículo', form: carac },\r\n        { title: 'Seguro', form: seg },\r\n        { title: 'Pesagem', form: peso },\r\n        { title: 'Informações gerais', form: info },\r\n        { title: 'Outras informações', form: obs }\r\n    ]\r\n    if (!vehicle) {\r\n        const url = window.location.origin\r\n        window.location.replace(url)\r\n        return null\r\n    }\r\n    return (\r\n        <Fragment>\r\n            <div id='pdfPage' className='A4'>\r\n                <div className='header'>\r\n                    <img src='/images/certficateHeader.png' height='100%' width='100%' alt=\"header\" />\r\n                </div>\r\n                {ultimateForm.map(({ title, form }, y) =>\r\n                    <div className={title !== 'Delegatário' ? 'box' : 'firstBox'} key={y}>\r\n                        {title !== 'Delegatário' && <span className='boxTitle'>{title}</span>}\r\n                        {form.map((line, i) =>\r\n                            <div key={i} className={title !== 'Delegatário' ? 'divLine' : 'firstDivLine'} style={{ marginTop: i === 0 && '11mm' }}>\r\n                                {line.map((el, k) =>\r\n                                    <TextField\r\n                                        disabled\r\n                                        key={k}\r\n                                        name={el.field}\r\n                                        label={el.label}\r\n                                        className={textField}\r\n                                        multiline={el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? true : false}\r\n                                        rows={\r\n                                            el.value && el.value.length < 86 ? '2' :\r\n                                                el.value && el.value.length < 140 ? '3' : '4'\r\n                                        }\r\n                                        variant={el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? 'outlined' : 'standard'}\r\n                                        value={\r\n                                            el.type === 'date' ? moment(el.value).format('DD-MM-YYYY') :\r\n                                                el.field === 'dataExpedicao' ? moment().format('DD-MM-YYYY') :\r\n                                                    el.value || ''\r\n                                        }\r\n                                        inputProps={{\r\n                                            className: checkMulti(el.field),\r\n                                            style: {\r\n                                                width: el.width || '18mm',\r\n                                                fontSize: '2.7mm',\r\n                                                padding: '1px 0',\r\n                                                margin: '0',\r\n                                                flex: '1',\r\n                                                color: '#000'\r\n                                            }\r\n                                        }}\r\n                                        InputProps={{ style: { padding: el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? '1mm' : '' } }}\r\n                                        InputLabelProps={{\r\n                                            shrink: true,\r\n                                            style: {\r\n                                                fontSize: '13px',\r\n                                                textAlign: 'center !important',\r\n                                                left: el.left || '0',\r\n                                                color: '#000'\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n                <div className='porteObrigatorio'>\r\n                    <img src=\"/images/porteObrigatorio.png\" height='100%' width='100%' alt=\"porte obrigatório\" />\r\n                    <br />\r\n                    Este certificado pode ser verificado em <span className='link' onClick={() => redirect()}> http://www.sismob.mg.gov.br </span>\r\n                </div>\r\n            </div>\r\n            <br />\r\n\r\n            <button title='Imprimir / salvar PDF' className='noprint printButton' onClick={() => window.print()}>\r\n                <PrintTwoToneIcon style={{\r\n                    cursor: 'pointer',\r\n                    color: 'rgb(161, 161, 180)',\r\n                    fontSize: '40pt',\r\n                }} /></button>\r\n        </Fragment>\r\n    )\r\n}","const\r\n    razaoSocial = {\r\n        field: 'razaoSocial',\r\n        label: 'Empresa',\r\n        width: '340px'\r\n    },\r\n    placas = {\r\n        field: 'placas',\r\n        label: 'Veículos cadastrados',\r\n        width: '340px'\r\n    },\r\n    createdAt = {\r\n        field: 'createdAt',\r\n        label: 'Data do registro no sistema',\r\n        type: 'date',\r\n        width: '190px'\r\n    }\r\n\r\nexport const eForm = [\r\n    {\r\n        field: 'delegatarioStatus',\r\n        label: 'Status'\r\n    },\r\n    {\r\n        field: 'vencimentoContrato',\r\n        label: 'Vencimento do Contrato',\r\n        type: 'date',\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n    {\r\n        field: 'frota',\r\n        label: 'Tamanho da Frota'\r\n    },\r\n    {\r\n        field: 'oldId',\r\n        label: 'Código no sistema antigo'\r\n    },\r\n    {\r\n        ...placas\r\n    },\r\n\r\n]\r\n\r\nexport const sForm = [\r\n    {\r\n        ...razaoSocial\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n]\r\n\r\nexport const segForm = [\r\n    {\r\n        ...razaoSocial\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n    {\r\n        ...placas\r\n    },\r\n    {\r\n        field: 'segurados',\r\n        label: 'Número de veículos segurados',\r\n    },\r\n]","export const empresasForm = [\r\n    {\r\n        field: 'razaoSocial',\r\n        label: 'Razão Social',\r\n        width: '340px'\r\n    },\r\n    {\r\n        field: 'cnpj',\r\n        label: 'CNPJ',\r\n        maxLength: 18,\r\n        pattern: /^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2}$/\r\n    },\r\n    {\r\n        field: 'inscricaoEstadual',\r\n        label: 'Inscrição Estadual',\r\n        maxLength: 13,\r\n        pattern: '\\\\d{13}'\r\n    },\r\n    {\r\n        field: 'telefone',\r\n        label: 'Telefone',\r\n        maxLength: 20,\r\n        pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))',\r\n    },\r\n    {\r\n        field: 'email',\r\n        label: 'E-mail',\r\n        type: 'email',\r\n        maxLength: 60,\r\n    },\r\n    {\r\n        field: 'cep',\r\n        label: 'CEP',\r\n        maxLength: 10\r\n    },\r\n    {\r\n        field: 'numero',\r\n        label: 'Número',\r\n        type: 'number',\r\n        max: 32000\r\n    },\r\n    {\r\n        field: 'complemento',\r\n        label: 'Complemento',\r\n        maxLength: 20,\r\n    },\r\n    {\r\n        field: 'rua',\r\n        label: 'Rua',\r\n        maxLength: 100,\r\n    },\r\n    {\r\n        field: 'bairro',\r\n        label: 'Bairro',\r\n        maxLength: 40,\r\n    },\r\n    {\r\n        field: 'cidade',\r\n        label: 'Cidade',\r\n        maxLength: 60,\r\n    },\r\n    {\r\n        field: 'uf',\r\n        label: 'Estado',\r\n        maxLength: 2,\r\n        pattern: '[A-Z]{2}'\r\n    }\r\n]","export const sociosForm = [{\r\n    field: 'nomeSocio',\r\n    label: 'Nome do Sócio',\r\n    maxLength: 90,\r\n    width: 190\r\n},\r\n{\r\n    field: 'cpfSocio',\r\n    label: 'CPF',    \r\n    maxLength: 11,\r\n    pattern: '\\\\d{11}',\r\n    width: 190\r\n},\r\n{\r\n    field: 'telSocio',\r\n    label: 'Telefone',\r\n    maxLength: 16,    \r\n    pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))',\r\n    width: 190\r\n},\r\n{\r\n    field: 'emailSocio',\r\n    label: 'E-mail',\r\n    maxLength: 60,\r\n    width: 190\r\n},\r\n{\r\n    field: 'share',\r\n    label: 'Participação Societária (%)',\r\n    maxLength: 5,\r\n    type: 'number',\r\n    max: 100,\r\n    width: 190    \r\n}]","export const procuradorForm = [{\r\n    field: 'nomeProcurador',\r\n    label: 'Nome do Procurador',\r\n    maxLength: 90,\r\n    width: 320\r\n},\r\n{\r\n    field: 'cpfProcurador',\r\n    label: 'CPF',    \r\n    maxLength: 11,\r\n    pattern: '\\\\d{11}'  \r\n},\r\n{\r\n    field: 'telProcurador',\r\n    label: 'Telefone',    \r\n    type: 'tel',    \r\n    maxLength: 20,\r\n    pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))'\r\n},\r\n{\r\n    field: 'emailProcurador',\r\n    label: 'E-mail',\r\n    type: 'email',\r\n    maxLength: 60,\r\n    pattern: '[a-zA-Z0-9]@([a-zA-Z0-9])?[.]([a-zA-Z0-9])',\r\n    width: 320\r\n}]","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\n\r\nimport { eForm, sForm, segForm } from '../Forms/joinForms'\r\n\r\nimport { cadForm } from '../Forms/cadForm'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport { seguroForm } from '../Forms/seguroForm'\r\n\r\nexport default function ShowDetails({ data, tab, title, header, close }) {\r\n\r\n    let { tableData, ...ultimateData } = data,\r\n        formPattern\r\n\r\n    switch (tab) {\r\n        case 0:            \r\n            formPattern = empresasForm.concat(eForm)\r\n            break;\r\n        case 1:\r\n            formPattern = sociosForm.concat(sForm)\r\n            break;\r\n        case 2:\r\n            formPattern = procuradorForm\r\n            break;\r\n        case 3:\r\n            let { veiculoId, laudoId, tableData, modeloChassiId, modeloCarroceriaId, delegatarioId, ...vData } = data\r\n            vData.dataRegistro = moment(data.dataRegistro).format('DD/MM/YYYY')\r\n            vData.dataEmissao = moment(data.dataEmissao).format('DD/MM/YYYY')\r\n            vData.vencimento = moment(data.vencimento).format('DD/MM/YYYY')\r\n            ultimateData = vData\r\n            formPattern = cadForm\r\n            break;\r\n        case 4:\r\n            formPattern = seguroForm.concat(segForm)\r\n            break;\r\n\r\n        default:\r\n            break;\r\n    }\r\n\r\n    let element = []\r\n\r\n    Object.keys(ultimateData).forEach(key => {\r\n        if (tab === 3) {\r\n            formPattern.forEach(form => {\r\n                form.forEach(({ field, label, type }) => {\r\n                    if (key === field) {\r\n                        let obj = {}\r\n                        Object.assign(obj, { field, label, value: ultimateData[key] })\r\n                        if (type) Object.assign(obj, { type })\r\n                        element.push(obj)\r\n                        obj = {}\r\n                    }\r\n                })\r\n            })\r\n        } else {\r\n            formPattern.forEach(({ field, label, type, width, fullWidth }) => {\r\n                if (key === field) {\r\n                    let obj = {}\r\n                    Object.assign(obj, { field, label, value: ultimateData[key] })\r\n                    if (type) Object.assign(obj, { type })\r\n                    if (width) Object.assign(obj, { width })\r\n                    element.push(obj)\r\n                    obj = {}\r\n                }\r\n            })\r\n        }\r\n    })\r\n\r\n    Object.keys(ultimateData).forEach(key => {\r\n        const equal = element.find(el => el.field === key)\r\n        if (!equal && tab === 3) element.push({ field: key, label: key, value: ultimateData[key] })\r\n    })\r\n\r\n    return (\r\n        <div className=\"popUpWindow\" style={{ left: '20%', right: '20%' }}>\r\n            <h4 className='equipaHeader'>{title} {data[header]}</h4> <hr />\r\n            <div className=\"checkListContainer\" style={{ justifyContent: 'flex-start' }}>\r\n                {\r\n                    element.map(({ field, label, value, type, width }, i) =>\r\n                        <div className=\"showDetailsItem\" style={{ width: width ? width : 150, }} key={i}>\r\n                            <TextField\r\n                                name={field}\r\n                                label={label}\r\n                                value={type === 'date' ? moment(value).format('DD/MM/YYYY') : value || ''}\r\n                                InputLabelProps={{ shrink: true, style: { fontSize: '0.9rem', fontWeight: 500 } }}\r\n                                inputProps={{\r\n                                    style: {\r\n                                        fontSize: '0.7rem',\r\n                                        width: width ? width : 150,\r\n                                        fontColor: '#bbb',\r\n                                        textAlign: 'center'\r\n                                    }\r\n                                }}\r\n                                variant='outlined'\r\n                            />\r\n                        </div>\r\n                    )}\r\n            </div>\r\n            <ClosePopUpButton close={close} />\r\n        </div>\r\n    )\r\n}\r\n","const formatFileSize = (bytes) => {\r\n\r\n    if (bytes > 1024 && bytes < 1048576) {\r\n        return Math.round(bytes / 1024) + ' KB'\r\n\r\n    } else if (bytes >= 1048576 && bytes < (1048576 * 1024)) {\r\n        return ((bytes / 1024) / 1024).toFixed(2) + ' MB'\r\n    } else {\r\n        return bytes + ' bytes'\r\n    }\r\n}\r\n\r\nexport default formatFileSize","import axios from 'axios'\r\n//import { logout } from '../auth/logout';\r\n\r\nconst downloadFile = (id, originalName, collection, fieldName) => {\r\n    if (fieldName && fieldName === 'apoliceDoc') collection = 'empresaDocs'\r\n        axios({\r\n            url: `/api/mongoDownload/?collection=${collection}&id=${id}`,\r\n            method: 'GET',\r\n            responseType: 'blob', // important\r\n        }).then((response) => {\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', originalName);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n        })\r\n            .catch(err => {\r\n                console.log(err)\r\n                //          logout(err)\r\n            })\r\n}\r\n\r\nexport default downloadFile","export const empresaFiles = [\r\n    { title: 'Contrato Social', name: 'contratoSocial' },\r\n    { title: 'Procuração', name: 'procuracao' },\r\n    { title: 'Apólice', name: 'apoliceDoc' }\r\n]","import React from 'react';\r\n\r\nimport formatDate from '../Utils/formatDate'\r\nimport formatFileSize from '../Utils/formatFileSize'\r\nimport download from '../Utils/downloadFile'\r\n\r\nimport ClosePopUpButton from './ClosePopUpButton'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\n\r\nconst divRow = {\r\n    marginBottom: 0,\r\n    display: 'grid',\r\n    grid: '50px / 4% 40% 25% 25%',\r\n    width: '99%',\r\n    margin: 'auto',\r\n    padding: '10px 0 0 0',\r\n    justifyItems: 'auto'\r\n}\r\n\r\nconst ShowFiles = ({ filesCollection, close, format, typeId, empresas }) => {\r\n\r\n    let files = [],\r\n        collection = 'empresaDocs', fileLabels = [...empresaFiles]\r\n\r\n    switch (typeId) {\r\n        case 'veiculoId':\r\n            collection = 'vehicleDocs'\r\n            fileLabels = [...cadVehicleFiles]\r\n            if (!fileLabels.find(f => f.name === 'transferenciaDoc')) fileLabels.push({ title: 'Documento de Transferência', name: 'transferenciaDoc' })\r\n            if (!fileLabels.find(f => f.name === 'newPlateDoc')) fileLabels.push({ title: 'CRLV com nova placa', name: 'newPlateDoc' })\r\n            if (!fileLabels.find(f => f.name === 'apoliceDoc')) fileLabels.push({ title: 'Apólice de seguro', name: 'apoliceDoc' })\r\n            break;\r\n        default: void 0\r\n    }\r\n    console.log('ShowFilesComp, filesCollection', filesCollection)\r\n    if (filesCollection && filesCollection[0]) {\r\n        filesCollection.forEach(obj => {\r\n            fileLabels.forEach(o => {\r\n                if (obj.metadata && o.name === obj.metadata.fieldName) files.push({ ...obj, label: o.title })\r\n            })\r\n        })\r\n    }\r\n\r\n    const getMoreInfo = file => {\r\n        const { metadata } = file\r\n\r\n        switch (metadata.fieldName) {\r\n            case 'procuracao':\r\n                const emp = empresas.find(e => e.delegatarioId === Number(metadata.empresaId))\r\n                return ' - ' + emp.razaoSocial\r\n            case 'apoliceDoc':\r\n                if (metadata.apolice) return ' número ' + metadata.apolice\r\n                else return ' '\r\n            default:\r\n                return ''\r\n        }\r\n    }\r\n    const header = ['Arquivo', 'Data de Upload', 'Tamanho']\r\n    //console.log(filesCollection)\r\n\r\n    if (files[0]) {\r\n        return (\r\n            <div className='popUpWindow'>\r\n                <h5>\r\n                    <img alt=\"\" src=\"/images/folderIcon2.jpg\" style={{ paddingLeft: '20px', marginRight: '20px' }} /> Arquivos\r\n                </h5>\r\n\r\n                <hr style={{ marginBottom: '5px' }} />\r\n                <div style={divRow}>\r\n                    <div>\r\n                        <img alt=\"\" src=\"/images/multipleFiles2.png\" height='50%' />\r\n                    </div>\r\n                    {header.map((title, i) =>\r\n                        <div key={i}>\r\n                            <span style={{ fontSize: '1.2em', fontWeight: 500 }}>{title}</span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <hr style={{ margin: '0 0 20px 0' }} />\r\n                {\r\n                    files.map((file, index) =>\r\n                        <div key={index}>\r\n                            <div style={divRow}>\r\n                                <div className=\"col s1\">\r\n                                    <img alt=\"\" src=\"/images/genericFile.png\" />\r\n                                </div>\r\n                                <div className=\"col s11\">\r\n                                    <span\r\n                                        style={{ textDecoration: 'underline', cursor: 'pointer', color: 'blue' }}\r\n                                        onClick={() => download(file.id, file.filename, collection, file.metadata.fieldName)}>\r\n                                        {file.label + getMoreInfo(file)}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"col s3\">\r\n                                    {formatDate(file.uploadDate, true)}\r\n                                </div>\r\n                                <div className=\"col s3\">\r\n                                    {formatFileSize(file.length)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                <ClosePopUpButton close={close} />\r\n            </div>\r\n        )\r\n    }\r\n    else return null\r\n}\r\n\r\nexport default ShowFiles;","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport moment from 'moment'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport { connect } from 'react-redux'\r\nimport { updateCollection } from '../Store/dataActions'\r\n\r\nimport ConsultasTemplate from './ConsultasTemplate'\r\nimport { TabMenu } from '../Layouts'\r\n\r\nimport Certificate from '../Veiculos/Certificate'\r\nimport ShowDetails from '../Reusable Components/ShowDetails'\r\nimport ShowFiles from '../Reusable Components/ShowFiles'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nconst format = {\r\n    top: '5%',\r\n    left: '10%',\r\n    right: '10%'\r\n}\r\n\r\nclass ConsultasContainer extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.showDetails) this.showDetails()\r\n                if (this.state.showFiles) this.closeFiles()\r\n                if (this.state.showCertificate) this.closeCertificate()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        tab: 0,\r\n        items: ['Empresas', 'Sócios', 'Procuradores', 'Veículos', 'Seguros'],\r\n        tablePKs: ['delegatario_id', 'socio_id', 'procurador_id', 'veiculo_id', 'id'],\r\n        dbTables: ['delegatario', 'socios', 'procurador', 'veiculo', 'seguro'],\r\n        options: ['empresas', 'socios', 'procuradores', 'veiculos', 'seguros'],\r\n        detailsTitle: ['Empresa', 'Sócio', 'Procurador', 'Placa', 'Apólice' ],\r\n        detailsHeader: ['razaoSocial', 'nomeSocio', 'nomeProcurador', 'placa', 'apolice'],\r\n        empresas: [],\r\n        seguros: [],\r\n        razaoSocial: '',\r\n        showDetails: false,\r\n        showFiles: false,\r\n        openDialog: false,\r\n        filesCollection: [],\r\n        elementDetails: '',\r\n        vehicleDocs: [],\r\n        showCertificate: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    changeTab = async (e, value) => {\r\n        await this.setState({ tab: value })\r\n        return\r\n    }\r\n\r\n    showDetails = async (e, elementDetails) => {\r\n        const\r\n            { redux } = this.props,\r\n            { options, tab, tablePKs } = this.state,\r\n            primaryKeys = tablePKs.map(pk => humps.camelize(pk))\r\n\r\n        let updatedElement\r\n\r\n        if (elementDetails) updatedElement = redux[options[tab]].find(e => e[primaryKeys[tab]] === elementDetails[primaryKeys[tab]])\r\n\r\n        if (elementDetails !== undefined && updatedElement) {\r\n            await this.setState({ showDetails: !this.state.showDetails, elementDetails: updatedElement })\r\n            void 0\r\n        }\r\n        else this.setState({ showDetails: !this.state.showDetails, elementDetails: undefined })\r\n    }\r\n\r\n    closeFiles = () => {\r\n        this.setState({ showFiles: !this.state.showFiles })\r\n    }\r\n\r\n    showFiles = id => {\r\n        const\r\n            { tab } = this.state,\r\n            { veiculos, socios, empresaDocs, vehicleDocs } = this.props.redux\r\n\r\n        let selectedFiles = empresaDocs.filter(f => f.metadata.empresaId === id.toString())\r\n        let typeId = 'empresaId'\r\n\r\n        switch (tab) {\r\n            case 1:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.empresaId === id.toString())\r\n                const socio = socios.find(v => v.socioId === id)\r\n                if (socio) {\r\n                    let sociosArray = []\r\n                    selectedFiles = empresaDocs\r\n                        .filter(f => f.metadata.empresaId === socio.delegatarioId.toString())\r\n                        .forEach(f => {\r\n                            if (f.metadata.socios && f.metadata.socios.includes(id))\r\n                                sociosArray.push(f)\r\n                        })\r\n                    selectedFiles = sociosArray\r\n                }\r\n                break\r\n\r\n            case 2:\r\n                typeId = 'procuracaoId'\r\n                let filesToReturn = []\r\n\r\n                empresaDocs.forEach(f => {\r\n                    if (f.metadata.fieldName === 'procuracao') {\r\n                        f.metadata.procuradores.forEach(procId => {\r\n                            if (procId === id) filesToReturn.push(f)\r\n                        })\r\n                    }\r\n                })\r\n                selectedFiles = filesToReturn\r\n                break\r\n            case 3:\r\n                typeId = 'veiculoId'\r\n                selectedFiles = vehicleDocs.filter(f => f.metadata.veiculoId === id.toString())\r\n                const vehicle = veiculos.find(v => v.veiculoId === id)\r\n                if (vehicle) {\r\n                    const seguro = empresaDocs.find(f => f.metadata.apolice === vehicle.apolice.toString())\r\n                    if (seguro) selectedFiles.push(seguro)\r\n                }\r\n                break\r\n            case 4:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.apolice === id.toString())\r\n                break\r\n            default: void 0\r\n        }\r\n\r\n        if (selectedFiles[0]) {\r\n            this.setState({ filesCollection: selectedFiles, showFiles: true, typeId, selectedElement: id })\r\n\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n            this.setState({ filesCollection: [] })\r\n        }\r\n    }\r\n\r\n    deleteHandler = data => {\r\n        const { dbTables, tablePKs, tab } = this.state,\r\n            table = dbTables[tab],\r\n            tablePK = tablePKs[tab],\r\n            itemId = humps.camelize(tablePK)\r\n\r\n        axios.delete(`/api/delete?table=${table}&tablePK=${tablePK}&id=${data[itemId]}`)\r\n            .then(r => console.log(r.data))\r\n    }\r\n\r\n    showCertificate = async vehicle => {\r\n\r\n        const\r\n            { situacao, vencimento, vencimentoContrato } = vehicle,\r\n            seguroVencido = moment(vencimento).isBefore(),\r\n            contratoVencido = moment(vencimentoContrato).isBefore()\r\n\r\n        if (situacao !== 'Ativo') {\r\n            await this.setState({ alertType: 'veiculoPendente', openAlertDialog: true })\r\n            return\r\n        }\r\n        if (seguroVencido) {\r\n            await this.setState({ alertType: 'seguroVencido', openAlertDialog: true })\r\n            return\r\n        }\r\n        if (contratoVencido) {\r\n            await this.setState({ alertType: 'contratoVencido', openAlertDialog: true })\r\n            return\r\n        }\r\n\r\n        const url = window.location.origin + '/crv'\r\n        localStorage.setItem('vehicle', JSON.stringify(vehicle))\r\n        window.open(url, 'noopener')\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    closeCertificate = () => this.setState({ showCertificate: !this.state.showCertificate })\r\n\r\n    render() {\r\n        const\r\n            { tab, options, items, showDetails, elementDetails, showFiles, selectedElement, filesCollection,\r\n                openAlertDialog, alertType, typeId, tablePKs, showCertificate, certified, detailsTitle, detailsHeader } = this.state,\r\n            { redux } = this.props,\r\n            { empresas } = redux,\r\n            primaryKeys = tablePKs.map(pk => humps.camelize(pk))\r\n\r\n        let updatedElement\r\n        if (elementDetails && showDetails) updatedElement = redux[options[tab]].find(e => e[primaryKeys[tab]] === elementDetails[primaryKeys[tab]])\r\nconsole.log(this.props.redux)\r\n        return <Fragment>\r\n            <TabMenu items={items}\r\n                tab={tab}\r\n                changeTab={this.changeTab} />\r\n            <ConsultasTemplate\r\n                tab={tab}\r\n                items={items}\r\n                collection={this.props.redux[options[tab]]}\r\n                showDetails={this.showDetails}\r\n                showFiles={this.showFiles}\r\n                del={this.deleteHandler}\r\n                showCertificate={this.showCertificate}\r\n            />\r\n            {showDetails &&\r\n                <ShowDetails\r\n                    close={this.showDetails}\r\n                    data={updatedElement || elementDetails}\r\n                    tab={tab}\r\n                    title={detailsTitle[tab]}\r\n                    header={detailsHeader[tab]}\r\n                />\r\n            }\r\n            {\r\n                showCertificate &&\r\n                <Certificate vehicle={certified} />\r\n            }\r\n            {showFiles &&\r\n                <ShowFiles\r\n                    tab={tab}\r\n                    elementId={selectedElement}\r\n                    filesCollection={filesCollection}\r\n                    close={this.closeFiles}\r\n                    format={format}\r\n                    typeId={typeId}\r\n                    empresas={empresas} />\r\n            }\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'socios', 'procuradores', 'seguros', 'seguradoras',\r\n    'getFiles/vehicleDocs', 'getFiles/empresaDocs']\r\n\r\nexport default connect(null, { updateCollection })(StoreHOC(collections, ConsultasContainer))","import React from 'react'\r\n\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1),\r\n        height: 'auto',\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 500,\r\n        textAlign: 'center'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 300,\r\n        fontColor: '#bbb',\r\n        textAlign: 'center'\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    dropBox: {\r\n        margin: '2% 0',\r\n    },\r\n    dropBoxItem: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '17px',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#4169E1',\r\n        backgroundColor: '#fafafa'\r\n    },\r\n    dropBoxItem2: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '0 1% 0 1%',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#00000',\r\n        backgroundColor: '#fafafa'\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, data, handleFiles }) {\r\n    const { activeStep, stepTitles, dropDisplay } = data,\r\n        classes = useStyles(), { paper, container, title, dropBox, dropBoxItem, dropBoxItem2 } = classes\r\n\r\n    let form = empresasForm\r\n\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <Grid>\r\n                {\r\n                    true\r\n                        ?\r\n                        <Grid item xs={12}>\r\n                            <Paper className={paper}>\r\n                                <Typography className={title}> {stepTitles[activeStep]}</Typography>\r\n                                <TextInput\r\n                                    form={form}\r\n                                    data={data}\r\n                                    handleBlur={handleBlur}\r\n                                    handleInput={handleInput}\r\n                                />\r\n                                <Dropzone onDrop={handleFiles}>\r\n                                    {({ getRootProps, getInputProps }) => (\r\n                                        <Grid container justify=\"center\" alignItems='center' className={dropBox} direction='row' {...getRootProps()}>\r\n                                            <input {...getInputProps()} />\r\n                                            {\r\n                                                dropDisplay.match('Clique ou') ?\r\n                                                    <Grid item xs={6} className={dropBoxItem}> {dropDisplay} </Grid>\r\n                                                    :\r\n                                                    <Grid item xs={6} className={dropBoxItem2}> <DescriptionOutlinedIcon />  {dropDisplay} <br /> (clique ou arraste outro arquivo para alterar)</Grid>\r\n                                            }\r\n                                        </Grid>\r\n                                    )}\r\n                                </Dropzone>\r\n                            </Paper>\r\n                        </Grid >\r\n                        :\r\n                        <Grid container justify=\"center\">\r\n                            <div className={classes.formHolder}></div>\r\n                        </Grid>\r\n                }\r\n            </Grid>\r\n        </Grid >\r\n    )\r\n}","import React, { Fragment } from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { sociosForm as form } from '../Forms/sociosForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1)\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 500,\r\n        textAlign: 'center'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 200,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    },\r\n    addButton: {\r\n        marginBottom: '1%',\r\n        padding: '1% 0'\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, data, addSocio, removeSocio, handleFiles, enableEdit, handleEdit }) {\r\n    const { activeStep, stepTitles, socios } = data,\r\n        classes = useStyles(), { paper, container, title, iconButton, list, addButton } = classes\r\n\r\n    const errorHandler = (el) => {\r\n\r\n        const value = data[el.field]\r\n\r\n        if (el.pattern && value) {\r\n            return value.match(el.pattern) === null\r\n        }\r\n        if (value > el.max || value < el.min) return true\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        const value = data[el.field]\r\n\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return undefined\r\n    }\r\n    \r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <Grid>\r\n                <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        <Typography className={title}> {stepTitles[activeStep]}</Typography>\r\n\r\n                        {\r\n                            form.map((el, i) =>\r\n                                <Fragment key={i}>\r\n                                    <TextField\r\n                                        name={el.field}\r\n                                        label={el.label}\r\n                                        margin='normal'\r\n                                        className={classes.textField}\r\n                                        onChange={handleInput}\r\n                                        onBlur={handleBlur}\r\n                                        type={el.type || ''}\r\n                                        error={errorHandler(el)}\r\n                                        helperText={helper(el)}\r\n                                        select={el.select || false}\r\n                                        value={data[el.field] || ''}\r\n                                        disabled={el.disabled || false}\r\n                                        InputLabelProps={{\r\n                                            className: classes.textField,\r\n                                            shrink: el.type === 'date' || undefined,\r\n                                            style: { fontSize: '0.75rem', fontWeight: 400, color: '#455a64', marginBottom: '5%' }\r\n                                        }}\r\n                                        inputProps={{\r\n                                            style: { background: el.disabled && data.disable ? '#fff' : '#fafafa',  height: '7px' },\r\n                                            value: `${data[el.field] || ''}`,\r\n                                            list: el.datalist || '',\r\n                                            maxLength: el.maxLength || '',\r\n                                            minLength: el.minLength || '',\r\n                                            max: el.max || '',\r\n                                        }}\r\n                                        multiline={el.multiline || false}\r\n                                        rows={el.rows || null}\r\n                                        variant={el.variant || 'filled'}\r\n                                        fullWidth={el.fullWidth || false}\r\n                                    >\r\n                                        {el.select === true && el.options.map((opt, i) =>\r\n                                            <MenuItem key={i} value={opt}>\r\n                                                {opt}\r\n                                            </MenuItem>)}\r\n                                    </TextField>\r\n                                </Fragment>\r\n                            )}\r\n                        <Button color='primary' className={addButton} onClick={addSocio}>\r\n                            <AddIcon /> Adicionar sócio\r\n                        </Button>\r\n                    </Paper>\r\n                </Grid>\r\n                {\r\n                    socios.length > 0 && <Grid container\r\n                        direction=\"row\"\r\n                        className={container}\r\n                        justify=\"center\"\r\n                        alignItems=\"center\">\r\n                        <Grid item xs={12}>\r\n                            <Paper className={paper}>\r\n                                <p className={title}>{activeStep === 1 ? 'Sócios' : 'Procuradores'} cadastrados</p>\r\n                                {socios.map((s, i) =>\r\n                                    <Grid key={i}>\r\n                                        {form.map((e, k) =>\r\n                                            <Fragment key={k + 1000}>\r\n                                                <TextField\r\n                                                    value={s[e.field] || ''}\r\n                                                    name={e.field}\r\n                                                    label={e.label}\r\n                                                    className={list}\r\n                                                    disabled={e.field === 'cpfSocio' ? true : s.edit ? false : true}\r\n                                                    onChange={handleEdit}\r\n                                                    InputLabelProps={{ shrink: true, style: { fontWeight: 600 } }}\r\n                                                />\r\n                                            </Fragment>\r\n                                        )}\r\n                                        <Button component='span' className={iconButton} title='editar' onClick={() => enableEdit(i)}>\r\n                                            <EditIcon />\r\n                                        </Button>\r\n\r\n                                        <Button className={iconButton} color='secondary' title='Remover' onClick={() => removeSocio(i)}>\r\n                                            <DeleteIcon />\r\n                                        </Button>\r\n                                    </Grid>\r\n                                )}\r\n                            </Paper>\r\n                        </Grid>\r\n                    </Grid>\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\n\r\nimport ShowLocalFiles from '../Utils/ShowLocalFiles'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 5px 0',\r\n        height: 'auto'\r\n    }\r\n}))\r\n\r\nexport default function Revisao({ data, empresasForm, sociosForm, filesForm, files }) {\r\n\r\n    const { socios } = data,\r\n        classes = useStyles(),\r\n        { paper } = classes\r\n\r\n    let empresaDetails = [], obj = {}, filledForm = [], ultimateData\r\n\r\n    empresasForm.forEach(e => {\r\n        if (data.hasOwnProperty([e.field])) {\r\n            Object.assign(obj, { [e.field]: data[e.field] })\r\n            filledForm.push(e)\r\n        }\r\n    })\r\n    empresaDetails.push(obj)\r\n\r\n    ultimateData = [\r\n        { subtitle: 'Detalhes da empresa', form: filledForm, data: empresaDetails },\r\n        { subtitle: 'Informações sobre os sócios', form: sociosForm, data: socios }\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <Paper className={paper}>\r\n                <div className='divTable'>\r\n                    {\r\n                        ultimateData.map(({ subtitle, form, data }, y) =>\r\n                            <Fragment key={y}>\r\n                                <table>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className='tHeader'\r\n                                                colSpan={form.length}>{subtitle}</th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            {form.map((s, i) => <th key={i}>{s.label}</th>)}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {y === 0 && <tr>\r\n                                            {data.map((obj, j) =>\r\n                                                Object.values(obj).map((el, k) =>\r\n                                                    <td className='review' key={k}>\r\n                                                        {el}\r\n                                                    </td>\r\n                                                )\r\n                                            )}\r\n                                        </tr>}\r\n                                        {y !== 0 && data.map((obj, j) =>\r\n                                            <tr>\r\n                                                {Object.values(obj).map((el, k) =>\r\n                                                    <td className='review' key={k}>\r\n                                                        {el}\r\n                                                    </td>\r\n                                                )}\r\n                                            </tr>\r\n                                        )}\r\n                                    </tbody>\r\n                                </table>\r\n\r\n                            </Fragment>\r\n                        )}\r\n                </div>\r\n\r\n                <h3 style={{ margin: '30px 0 0 25px' }}> <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} /> Documentos </h3>\r\n                {files && <ShowLocalFiles form={filesForm} files={files} />}\r\n            </Paper >\r\n        </>\r\n    )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport EmpresasTemplate from './EmpresasTemplate'\r\nimport SociosTemplate from './SociosTemplate'\r\nimport Review from './EmpresaReview'\r\n\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport Crumbs from '../Utils/Crumbs'\r\n\r\nimport StepperButtons from '../Utils/StepperButtons'\r\nimport CustomStepper from '../Utils/Stepper'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass EmpresasContainer extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        activeStep: 0,\r\n        stepTitles: ['Preencha os dados da empresa', 'Informações sobre os sócios',\r\n            'Revisão'],\r\n        steps: ['Dados da Empresa', 'Sócios', 'Revisão'],\r\n        razaoSocial: '',\r\n        toastMsg: 'Empresa cadastrada!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        socios: [],\r\n        dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n        showFiles: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const { name, value } = e.target\r\n        this.setState({ [name]: value })\r\n    }\r\n\r\n    addSocio = async () => {\r\n        let socios = this.state.socios,\r\n            sObject = {},\r\n            invalid = 0,\r\n            totalShare = 0\r\n\r\n        sociosForm.forEach(obj => {\r\n            if (this.state[obj.field] === '' || this.state[obj.field] === undefined) {\r\n                invalid += 1\r\n            }\r\n        })\r\n\r\n        if (invalid === 100) {\r\n            this.setState({ alertType: 'fieldsMissing', openAlertDialog: true })\r\n            return null\r\n        } else {\r\n            sociosForm.forEach(obj => {\r\n                Object.assign(sObject, { [obj.field]: this.state[obj.field] })\r\n            })\r\n            socios.push(sObject)\r\n\r\n            socios.forEach(s => {\r\n                totalShare += Number(s.share)\r\n            })\r\n            if (totalShare > 100) {\r\n                socios.pop()\r\n                this.setState({ alertType: 'overShared', openAlertDialog: true })\r\n            }\r\n            else {\r\n                await this.setState({ socios, totalShare })\r\n                sociosForm.forEach(obj => {\r\n                    this.setState({ [obj.field]: '' })\r\n                })\r\n                document.getElementsByName('nomeSocio')[0].focus()\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    enableEdit = index => {\r\n\r\n        let editSocio = this.state.socios\r\n        if (editSocio[index].edit === true) editSocio[index].edit = false\r\n        else {\r\n            editSocio.forEach(s => s.edit = false)\r\n            editSocio[index].edit = true\r\n        }\r\n        this.setState({ socios: editSocio })\r\n\r\n    }\r\n\r\n    handleEdit = e => {\r\n        const { name } = e.target, { socios } = this.state\r\n\r\n        let { value } = e.target\r\n        if (name === 'share') value = value.replace(',', '.')\r\n\r\n        let editSocio = socios.filter(s => s.edit === true)[0]\r\n        const index = socios.indexOf(editSocio)\r\n\r\n        editSocio[name] = value\r\n\r\n        let fs = socios\r\n        fs[index] = editSocio\r\n\r\n        this.setState({ filteredSocios: fs })\r\n\r\n    }\r\n\r\n    removeSocio = index => {\r\n        let socios = this.state.socios\r\n        socios.splice(index, 1)\r\n        this.setState({ socios })\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId, alertLabel) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            alert(alertLabel + ' não cadastrado')\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const { empresas } = this.props.redux\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n            case 'cnpj':\r\n                const alreadyExists = empresas.filter(e => e.cnpj === value)\r\n                if (alreadyExists[0]) {\r\n                    this.setState({ cnpj: '' })\r\n                    this.setState({ alertType: alreadyExists[0], openAlertDialog: true })\r\n                }\r\n                break;\r\n            case 'share':\r\n                value = value.replace(',', '.')\r\n                if (value > 100) {\r\n                    this.setState({ alertType: 'overShared', openAlertDialog: true })\r\n                }\r\n                else {\r\n                    const totalShare = Number(this.state.totalShare) + Number(value)\r\n                    this.setState({ [name]: value, totalShare })\r\n                }\r\n                break;\r\n            case 'numero':\r\n                if (value && !value.match(/^\\d+$/)) {\r\n                    await this.setState({ numero: '' })\r\n                    this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    handleFiles = (file) => {\r\n        let formData = new FormData()\r\n        formData.append('contratoSocial', file[0])\r\n        this.setState({ dropDisplay: file[0].name, contratoSocial: formData })\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        let { socios, contratoSocial } = this.state,\r\n            empresa = {},\r\n            contratoFile = new FormData(),\r\n            empresaId\r\n\r\n        empresasForm.forEach(e => {\r\n            if (this.state.hasOwnProperty([e.field])) {\r\n                Object.assign(empresa, { [e.field]: this.state[e.field] })\r\n            }\r\n        })\r\n\r\n        empresa.delegatarioStatus = 'Ativo'\r\n\r\n        Object.entries(empresa).forEach(([k, v]) => {\r\n            if (!v || v === '') delete empresa[k]\r\n        })\r\n\r\n        socios.forEach(s => {\r\n            delete s.edit\r\n            Object.entries(s).forEach(([k, v]) => {\r\n                if (!v || v === '') delete socios[k]\r\n            })\r\n        })\r\n\r\n        empresa = humps.decamelizeKeys(empresa)\r\n        socios = humps.decamelizeKeys(socios)\r\n\r\n        await axios.post('/api/empresaFullCad', { empresa, socios })\r\n            .then(delegatarioId => {\r\n                empresaId = delegatarioId.data\r\n            })\r\n\r\n        if (contratoSocial) {\r\n            contratoFile.append('fieldName', 'contratoSocial')\r\n            contratoFile.append('empresaId', empresaId)\r\n            for (let pair of contratoSocial.entries()) {\r\n                contratoFile.append(pair[0], pair[1])\r\n            }\r\n            await axios.post('/api/empresaUpload', contratoFile)\r\n                .then(r => console.log('file ok.'))\r\n        }\r\n\r\n        this.toast()\r\n        this.resetState()\r\n\r\n    }\r\n    resetState = () => {\r\n        let\r\n            resetEmpresa = {},\r\n            resetSocios = {},\r\n            resetFiles = {}\r\n\r\n        empresasForm.forEach(obj => {\r\n            Object.keys(obj).forEach(key => {\r\n                if (key === 'field' && this.state[obj[key]]) Object.assign(resetEmpresa, { [obj[key]]: undefined })\r\n            })\r\n        })\r\n\r\n        sociosForm.forEach(obj => {\r\n            Object.keys(obj).forEach(key => {\r\n                if (key === 'field' && this.state[obj[key]]) Object.assign(resetSocios, { [obj[key]]: undefined })\r\n            })\r\n        })\r\n\r\n        empresaFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: undefined })\r\n        })\r\n\r\n        this.setState({\r\n            ...resetEmpresa,\r\n            ...resetSocios,\r\n            ...resetFiles,\r\n            activeStep: 0,\r\n            razaoSocial: '',\r\n            files: [],\r\n            fileNames: [],\r\n            addedSocios: [0],\r\n            totalShare: 0,\r\n            socios: [],\r\n            dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n            showFiles: false\r\n        })\r\n    }\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    showFiles = () => this.setState({ showFiles: true })\r\n    closeFiles = () => this.setState({ showFiles: !this.state.showFiles })\r\n\r\n    render() {\r\n\r\n        const { activeStep, confirmToast, toastMsg, steps, openAlertDialog,\r\n            alertType, contratoSocial } = this.state\r\n\r\n        return <Fragment>\r\n\r\n            <Crumbs links={['Empresas', '/empresas']} text='Cadastro de empresas' />\r\n\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            {\r\n                activeStep === 0 ?\r\n                    <EmpresasTemplate\r\n                        data={this.state}\r\n                        handleInput={this.handleInput}\r\n                        handleBlur={this.handleBlur}\r\n                        handleFiles={this.handleFiles}\r\n                    />\r\n                    : activeStep === 1 ?\r\n                        <SociosTemplate\r\n                            data={this.state}\r\n                            handleInput={this.handleInput}\r\n                            handleBlur={this.handleBlur}\r\n                            addSocio={this.addSocio}\r\n                            removeSocio={this.removeSocio}\r\n                            handleFiles={this.handleFiles}\r\n                            enableEdit={this.enableEdit}\r\n                            handleEdit={this.handleEdit}\r\n                        />\r\n                        :\r\n                        activeStep === 2 && <Review\r\n                            files={contratoSocial}\r\n                            filesForm={empresaFiles} data={this.state}\r\n                            sociosForm={sociosForm} empresasForm={empresasForm}\r\n                        />\r\n            }\r\n            <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleSubmit}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['empresas']\r\n\r\nexport default (StoreHOC(collections, EmpresasContainer))","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActionArea from '@material-ui/core/CardActionArea'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Hidden from '@material-ui/core/Hidden'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    toolbar: {\r\n        borderBottom: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    toolbarTitle: {\r\n        flex: 1,\r\n    },\r\n    toolbarSecondary: {\r\n        justifyContent: 'space-between',\r\n        overflowX: 'auto',\r\n    },\r\n    toolbarLink: {\r\n        padding: theme.spacing(1),\r\n        flexShrink: 0,\r\n    },\r\n    mainFeaturedPost: {\r\n        position: 'relative',\r\n        backgroundColor: theme.palette.grey[100],\r\n        color: theme.palette.common.white,\r\n        marginBottom: theme.spacing(4),\r\n        backgroundImage: '/images/empresaBg2.jpg',\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n    },\r\n    overlay: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        left: 0,\r\n        backgroundColor: 'rgba(0,0,0,.1)',\r\n    },\r\n    mainFeaturedPostContent: {\r\n        position: 'relative',\r\n        padding: theme.spacing(3),\r\n        [theme.breakpoints.up('md')]: {\r\n            padding: theme.spacing(6),\r\n            paddingRight: 0,\r\n        },\r\n    },\r\n    mainGrid: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    card: {\r\n        display: 'flex',\r\n    },\r\n    cardDetails: {\r\n        flex: 1,\r\n    },\r\n    cardMedia: {\r\n        width: '120px',\r\n        height: '180px'\r\n    },\r\n    markdown: {\r\n        ...theme.typography.body2,\r\n        padding: theme.spacing(3, 0),\r\n    },\r\n    sidebarAboutBox: {\r\n        padding: theme.spacing(2),\r\n        backgroundColor: theme.palette.grey[200],\r\n    },\r\n    sidebarSection: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    footer: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        marginTop: theme.spacing(8),\r\n        padding: theme.spacing(6, 0),\r\n    },\r\n}));\r\n\r\nconst featuredPosts = [\r\n    {\r\n        title: 'Cadastrar',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastrar uma nova empresa no sistema.',\r\n        imageUrl: '/images/addCompany21.png',\r\n        link: '/empresas/cadastro'\r\n    },\r\n    {\r\n        title: 'Sócios',\r\n        date: '07/Nov',\r\n        description:\r\n            'Gerenciar sócios e alterações de contrato social',\r\n        link: '/empresas/socios',\r\n        imageUrl: '/images/socios3.png'\r\n    },\r\n    {\r\n        title: 'Procuradores',\r\n        date: '07/Nov',\r\n        description:\r\n            'Alterar relação de procuradores e procurações',\r\n        link: '/empresas/procuradores',\r\n        imageUrl: '/images/procuradores31.png'\r\n    },\r\n]\r\n\r\nexport default function () {\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n            <div style={{\r\n                minHeight: '83vh',\r\n                height: 'auto'\r\n            }}>\r\n                <main>\r\n                    <Paper className={classes.mainFeaturedPost}>\r\n                        <div style={{  height: '90px', width: '100%' }}>\r\n                            <img src=\"/images/empresasBg2.jpg\" alt=\"Empresas\" width='100%' height= '280px'/>\r\n                        </div>\r\n                        <div className={classes.overlay} />\r\n                        <Grid container>\r\n                            <Grid item md={4}>\r\n                                <div className={classes.mainFeaturedPostContent}>\r\n                                    <Typography component=\"h1\" variant=\"h4\" gutterBottom>\r\n                                        Empresas\r\n                                    </Typography>\r\n                                    <Typography variant=\"body1\" paragraph>\r\n                                        Selecione uma das opções abaixo.\r\n                                    </Typography>\r\n                                </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                    <Grid container spacing={4} className={classes.cardGrid}>\r\n                        {featuredPosts.map(post => (\r\n                            <Grid item key={post.title} xs={12} md={4}>\r\n                                <Link to={post.link} style={{ textDecoration: 'none' }}>\r\n                                    <CardActionArea component=\"span\" >\r\n                                        <Card className={classes.card}>\r\n                                            <div className={classes.cardDetails}>\r\n                                                <CardContent>\r\n                                                    <Typography component=\"h2\" variant=\"h6\">\r\n                                                        {post.title}\r\n                                                    </Typography>\r\n                                                    <br />\r\n                                                    <Typography variant=\"body2\" paragraph>\r\n                                                        {post.description}\r\n                                                    </Typography>\r\n                                                    <Typography variant=\"body2\" color=\"primary\">\r\n\r\n                                                        {post.title}\r\n\r\n                                                    </Typography>\r\n                                                </CardContent>\r\n                                            </div>\r\n                                            <Hidden xsDown>\r\n                                                <CardMedia\r\n                                                    className={classes.cardMedia}\r\n                                                    component=\"img\"\r\n                                                    src={post.imageUrl}\r\n                                                    title={post.title}\r\n                                                />\r\n                                            </Hidden>\r\n                                        </Card>\r\n                                    </CardActionArea>\r\n                                </Link>\r\n                            </Grid>\r\n                        ))}\r\n                    </Grid>\r\n                </main>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nconst StyledTableCell = withStyles(theme => ({\r\n    head: {\r\n        backgroundColor: '#e1f5fe',\r\n        color: '#00000',\r\n        fontWeight: 600,\r\n        fontSize: 14,\r\n    },\r\n    body: {\r\n        fontSize: 14,\r\n\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledCell = withStyles(theme => ({\r\n    head: {\r\n        backgroundColor: '#e1f5fe',\r\n        color: '#00000',\r\n    },\r\n    body: {\r\n        fontSize: 13,\r\n\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles(theme => ({\r\n    root: {\r\n        '&:nth-of-type(odd)': {\r\n            backgroundColor: theme.palette.background.default,\r\n        },\r\n    },\r\n}))(TableRow);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: '1',\r\n        padding: '1%',\r\n        textAlign: 'center'\r\n    },\r\n    title: {\r\n        marginTop: '2%',\r\n        fontColor: '#000',\r\n        fontSize: '0.9rem',\r\n        backgroundColor: '#B2DCEA',\r\n        textAlign: 'center'\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(2),\r\n        width: \"100%\",\r\n        padding: '2% 0 1% 0',\r\n        height: 'auto'\r\n    },\r\n    table: {\r\n        marginBottom: theme.spacing(2),\r\n        overflowX: 'auto'\r\n    }\r\n}))\r\n\r\n\r\nexport default function Procurador({ procuracao, procuradores }) {\r\n\r\n    const classes = useStyles(),\r\n        { title, table } = classes\r\n\r\n    let procArray = []\r\n\r\n    procuracao.procuradores.forEach(id => {\r\n        const pro = procuradores.find(p => p.procuradorId === id)\r\n        procArray.push(pro)\r\n    })\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div style={{ width: '100%', align: 'left' }}>\r\n                <Typography className={title}> Procuradores cadastrados </Typography>\r\n            </div>\r\n            <Table className={table}>\r\n                <TableHead>\r\n                    <StyledTableRow>\r\n                        {procuradorForm.map((s, i) => <StyledTableCell key={i}>{s.label}</StyledTableCell>)}\r\n                    </StyledTableRow>\r\n                </TableHead>\r\n                { procArray.map((d, j) =>\r\n                    d ?\r\n                        <TableBody key={j}>\r\n                            <TableRow>\r\n                                {\r\n                                    procuradorForm.map((obj, l) =>\r\n                                        <StyledCell key={l}>\r\n                                            {d[obj.field]}\r\n                                        </StyledCell>\r\n                                    )\r\n                                }\r\n                            </TableRow>\r\n                        </TableBody>\r\n                        :\r\n                        null\r\n                )}\r\n            </Table>\r\n        </ React.Fragment>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\nimport moment from 'moment'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nimport AddCircleOutlineSharpIcon from '@material-ui/icons/AddCircleOutlineSharp';\r\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\r\n\r\nimport Procurador from './Procurador'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\n\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\n\r\nconst divContainer = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    alignContent: 'center',\r\n    flexWrap: 'wrap',\r\n    position: 'relative'\r\n}\r\n\r\nconst divFiles = {\r\n    textAlign: 'center',\r\n    alignItems: 'flex-start',\r\n    justify: 'space-between',\r\n    lineHeight: '40px',\r\n    border: '1px #ccc solid',\r\n    padding: '0 1%',\r\n    margin: '1% 1% 0.5% 1%',\r\n    fontSize: '0.8rem',\r\n    backgroundColor: '#f6f6f6',\r\n    borderRadius: '6px',\r\n    width: 180\r\n}\r\n\r\nconst icon = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    paddingLeft: '2%'\r\n}\r\n\r\nconst fileIcon = {\r\n    verticalAlign: 'middle',\r\n    padding: '0 0% 0 2%',\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1),\r\n        height: 'auto',\r\n        backgroundColor: '#fafafa',\r\n    },\r\n    containerList: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(2),\r\n        height: 'auto',\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        textAlign: 'center',\r\n        fontSize: '1.1rem'\r\n    },\r\n    selector: {\r\n        width: '380px',\r\n        fontSize: '0.8rem',\r\n        margin: '10px 0',\r\n        textAlign: 'center'\r\n\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center'\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1),\r\n    },\r\n    paper2: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1),\r\n        position: 'relative'\r\n    },\r\n\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    },\r\n    addButton: {\r\n        padding: '5px 10px 5px 8px',\r\n        height: '40px',\r\n        margin: '5px',\r\n        float: 'right',\r\n        fontSize: '0.8rem'\r\n    },\r\n    dropBox: {\r\n        margin: '30px 0 15px 0',\r\n    },\r\n    dropBoxItem: {\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '60px',\r\n        padding: '10px 15px 0 15px',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#4169E1',\r\n        backgroundColor: '#fafafa'\r\n\r\n    },\r\n    dropBoxItem2: {\r\n        margin: '1% 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '60px',\r\n        padding: '0 1% 0 1%',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        color: 'black',\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, redux, data, addProc, removeProc,\r\n    handleFiles, getFile, plusOne, minusOne }) {\r\n    const { procDisplay, selectedEmpresa, procsToAdd, selectedDocs } = data,\r\n        { empresas, procuradores } = redux,\r\n\r\n        classes = useStyles(), {\r\n            paper, container, title, dropBox,\r\n            dropBoxItem, dropBoxItem2, addButton, paper2, containerList } = classes\r\n\r\n    const errorHandler = (el) => {\r\n\r\n        const value = data[el.field]\r\n\r\n        if (el.pattern && value) {\r\n            return value.match(el.pattern) === null\r\n        }\r\n        if (value > el.max || value < el.min) return true\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        const value = data[el.field]\r\n\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return undefined\r\n    }\r\n\r\n    const handleDates = (date) => {\r\n\r\n        if (date) return moment(date).format('DD-MM-YYYY')\r\n        else return ''\r\n    }\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"flex-start\"\r\n        >\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}                \r\n            />\r\n            {selectedEmpresa && <Paper className={paper2}>\r\n                <Typography className={title}> Cadastrar nova procuração </Typography>\r\n                <h4 style={{ fontWeight: 400, fontSize: '0.9em' }}> Se a procuração abranger mais de um procurador, clique em \"+\" para adicionar e anexe apenas 1 vez.</h4>\r\n                {procsToAdd.map((p, j) =>\r\n                    <Grid item xs={12} key={j} style={{ float: 'left' }}>\r\n                        {procuradorForm.map((el, i) =>\r\n                            <Fragment key={i}>\r\n                                <TextField\r\n                                    name={el.field + j}\r\n                                    label={el.label}\r\n                                    margin='normal'\r\n                                    className={classes.textField}\r\n                                    onChange={e => handleInput(e)}                                    \r\n                                    type={el.type || ''}\r\n                                    error={errorHandler(el)}\r\n                                    helperText={helper(el)}\r\n                                    select={el.select || false}\r\n                                    value={data[el.field + j] || ''}\r\n                                    disabled={el.disabled || false}\r\n                                    InputLabelProps={{\r\n                                        className: classes.textField,\r\n                                        shrink: el.type === 'date' || undefined,\r\n                                        style: { fontSize: '0.7rem', fontWeight: 400, color: '#888' }\r\n                                    }}\r\n                                    inputProps={{\r\n                                        style: {\r\n                                            background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                            fontSize: '0.9rem', textAlign: 'center', color: '#000', width: el.width || 150, height: '7px'\r\n                                        },\r\n                                        value: `${data[el.field + j] || ''}`,\r\n                                        list: el.datalist || '',\r\n                                        maxLength: el.maxLength || '',\r\n                                        minLength: el.minLength || '',\r\n                                        max: el.max || '',\r\n                                    }}\r\n                                    multiline={el.multiline || false}\r\n                                    rows={el.rows || null}\r\n                                    variant={el.variant || 'filled'}\r\n                                    fullWidth={el.fullWidth || false}\r\n                                >\r\n                                </TextField>\r\n                                {j === procsToAdd.length - 1 && i === 3 &&\r\n                                    <>\r\n                                        <AddCircleOutlineSharpIcon\r\n                                            onClick={() => plusOne()}\r\n                                            style={{\r\n                                                verticalAlign: 'middle',\r\n                                                position: 'absolute',\r\n                                                bottom: '136px',\r\n                                                right: j > 0 ? '15px' : '35px',\r\n                                                color: '#009688',\r\n                                                fontSize: 30,\r\n                                                cursor: 'pointer',\r\n                                                zIndex: 1\r\n                                            }}\r\n                                        />\r\n                                        {j > 0 && <RemoveCircleOutlineIcon\r\n                                            onClick={() => minusOne()}\r\n                                            style={{\r\n                                                verticalAlign: 'middle',\r\n                                                position: 'absolute',\r\n                                                bottom: '136px',\r\n                                                right: '45px',\r\n                                                color: 'red',\r\n                                                fontSize: 30,\r\n                                                cursor: 'pointer',\r\n                                                zIndex: 1\r\n                                            }}\r\n                                        />}\r\n                                    </>\r\n                                }\r\n                            </Fragment>\r\n                        )}\r\n                    </Grid>\r\n                )}\r\n                <Grid container style={{ position: 'relative' }}>\r\n                    <Grid item xs={6}>\r\n                        <Dropzone onDrop={handleFiles}>\r\n                            {({ getRootProps, getInputProps }) => (\r\n                                <Grid container justify=\"center\"\r\n                                    alignItems='center' className={dropBox} direction='row' {...getRootProps()}>\r\n                                    <input {...getInputProps()} />\r\n                                    {\r\n                                        procDisplay.match('Clique ou') ?\r\n                                            <Grid item xs={6} className={dropBoxItem}> {procDisplay} </Grid>\r\n                                            :\r\n                                            <Grid item xs={6} className={dropBoxItem2}> <DescriptionOutlinedIcon />  {procDisplay} <br /> (clique ou arraste outro arquivo para alterar)</Grid>\r\n                                    }\r\n                                </Grid>\r\n                            )}\r\n                        </Dropzone>\r\n                    </Grid>\r\n                    <Grid item xs={6} className={dropBox}>\r\n                        <TextField\r\n                            name='vencimento'\r\n                            label='Vencimento'\r\n                            margin='normal'\r\n                            className={classes.textField}\r\n                            onChange={e => handleInput(e)}\r\n                            type='date'\r\n                            helper='se indeterminado, deixar em branco'                            \r\n                            value={data.vencimento || ''}\r\n                            InputLabelProps={{\r\n                                className: classes.textField,\r\n                                shrink: true,\r\n                                style: { fontSize: '0.8rem', color: '#455a64', marginBottom: '5%' }\r\n                            }}\r\n                            inputProps={{\r\n                                style: { background: '#fafafa', fontSize: '0.8rem', textAlign: 'center', color: '#000', height: '9px' },\r\n                            }}\r\n                            variant={'filled'}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </Paper>}\r\n            <Grid container direction=\"row\" justify='flex-start' style={{ width: '1200px' }}>\r\n                <Grid item xs={9} style={{ width: '1000px' }}></Grid>\r\n                <Grid item xs={3} style={{ align: \"right\" }}>\r\n                    {selectedEmpresa && <Button\r\n                        className={addButton}\r\n                        size='small'\r\n                        color=\"secondary\"\r\n                        variant=\"contained\"\r\n                        onClick={addProc}\r\n                    >\r\n                        <AddIcon />Cadastrar procuração\r\n                        </Button>}\r\n                </Grid>\r\n            </Grid>\r\n            {selectedEmpresa && selectedDocs[0] && <h2 style={{ margin: '25px 0 0 15px' }}>Procurações cadastradas</h2>}\r\n            {\r\n                selectedEmpresa && !selectedDocs[0] &&\r\n                <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        Nenhum procurador cadastrado para {selectedEmpresa.razaoSocial}\r\n                    </Paper>\r\n                </Grid>\r\n            }\r\n            {\r\n                selectedDocs.length > 0 && selectedDocs.map((procuracao, z) => <Grid container\r\n                    key={z * 0.01}\r\n                    direction=\"row\"\r\n                    className={containerList}\r\n                    justify=\"center\"\r\n                    alignItems=\"flex-start\">\r\n                    <Grid item xs={12}>\r\n                        <Paper style={{ padding: '10px 15px 20px 15px' }}>\r\n                            <p className={title}>Procuração {\r\n                                !procuracao.vencimento ?\r\n                                    'por prazo indeterminado'\r\n                                    :\r\n                                    'com vencimento em ' + handleDates(procuracao.vencimento)\r\n                            }</p>\r\n\r\n                            <Procurador procuradores={procuradores} procuracao={procuracao} />\r\n\r\n                            <div style={divContainer}>\r\n                                <span style={divFiles}>\r\n                                    <InsertDriveFileOutlinedIcon style={fileIcon} />\r\n                                    <span style={{ verticalAlign: 'middle', }}>\r\n                                        {' '} Baixar arquivo\r\n                                    </span>\r\n                                    <GetAppIcon style={icon} onClick={() => getFile(procuracao.procuracaoId)} />\r\n                                </span>\r\n                                <span style={{ ...divFiles, width: 90, backgroundColor: 'white', border: 0, position: 'absolute', right: 0 }}>\r\n                                    <DeleteOutlinedIcon color='secondary' style={icon} onClick={() => removeProc(procuracao)} />\r\n                                    Apagar\r\n                                    </span>\r\n                            </div>\r\n                        </Paper>\r\n                    </Grid>\r\n                </Grid>\r\n                )}\r\n        </Grid>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport AltProcuradoresTemplate from './AltProcuradoresTemplate'\r\nimport download from '../Utils/downloadFile'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\n\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass AltProcuradores extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.openDialog) this.toggleDialog()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        filteredProc: [],\r\n        procDisplay: 'Clique ou arraste para anexar a procuração referente a este(s) procurador(es).',        \r\n        procuradores: [],\r\n        procsToAdd: [1],\r\n        procuracoesArray: [],\r\n        selectedDocs: []\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        axios.get('/api/getFiles/empresaDocs?fieldName=procuracao')\r\n            .then(r => this.setState({ files: r.data }))\r\n\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n\r\n        const\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target,\r\n            procuracoes = [...this.props.redux.procuracoes],\r\n            procArray = [],\r\n            procuracoesArray = []\r\n\r\n        const procuradores = [...this.props.redux.procuradores]\r\n\r\n        this.setState({ ...this.state, [name]: value })\r\n\r\n        if (name === 'razaoSocial' && Array.isArray(procuradores)) {\r\n\r\n            procuracoes = procuracoes.filter(pr => pr.razaoSocial === value)\r\n\r\n            if (procuracoes[0]) procuracoes.forEach(pr => {\r\n                pr.procuradores.forEach(id => {\r\n                    const pro = procuradores.find(p => p.procuradorId === id)\r\n                    if (pro) procArray.push(pro)\r\n\r\n                })\r\n                procuracoesArray.push(procArray)\r\n                procArray = []\r\n            })\r\n\r\n            this.setState({ procuracoesArray, selectedDocs: procuracoes })\r\n\r\n            const selectedEmpresa = this.props.redux.empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n            } else this.setState({ selectedEmpresa: undefined })\r\n        }\r\n    }\r\n\r\n    addProc = async () => {\r\n        const\r\n            { selectedEmpresa, procFiles, vencimento } = this.state,\r\n            procuradores = [...this.props.redux.procuradores],\r\n            nProc = [...this.state.procsToAdd]\r\n        let\r\n            selectedDocs = [...this.state.selectedDocs],\r\n            files = [...this.state.files],\r\n            addedProcs = [],\r\n            sObject = {}\r\n\r\n        nProc.forEach((n, i) => {\r\n            procuradorForm.forEach(obj => {\r\n                Object.assign(sObject, { [obj.field]: this.state[obj.field + i] })\r\n            })\r\n            let j = 0\r\n            Object.values(sObject).forEach(v => {\r\n                if (v) j += 1\r\n            })\r\n            if (j > 0) addedProcs.push(sObject)\r\n\r\n            j = 0\r\n            sObject = {}\r\n\r\n            procuradorForm.forEach(obj => {\r\n                this.setState({ [obj.field + i]: '' })\r\n            })\r\n        })\r\n\r\n        let gotId, newMembers = [], procIdArray = [],\r\n            contratoFile = new FormData()\r\n\r\n        addedProcs.forEach(fp => {\r\n            gotId = procuradores.filter(p => p.cpfProcurador === fp.cpfProcurador)\r\n            if (gotId.length > 0 && gotId[0].hasOwnProperty('procuradorId')) {\r\n                procIdArray.push(gotId[0].procuradorId)\r\n            } else {\r\n                newMembers.push(fp)\r\n            }\r\n        })\r\n\r\n        if (newMembers.length > 0) {\r\n            newMembers = humps.decamelizeKeys(newMembers)\r\n            await axios.post('/api/cadProcuradores', { procuradores: newMembers, table: 'procurador', tablePK: 'procurador_id' })\r\n                .then(procs => {\r\n                    procs.data.forEach(p => procIdArray.push(p.procurador_id))\r\n                })\r\n            await axios.get('/api/procuradores')\r\n                .then(res => {\r\n                    const procuradores = humps.camelizeKeys(res.data)\r\n                    this.setState({ procuradores })\r\n                })\r\n        }\r\n\r\n        let novaProcuracao = {\r\n            delegatario_id: selectedEmpresa.delegatarioId,\r\n            vencimento,\r\n            status: 'vigente',\r\n            procuradores: procIdArray\r\n        }\r\n\r\n        Object.entries(novaProcuracao).forEach(([k, v]) => {\r\n            if (!v || v === '') delete novaProcuracao[k]\r\n        })\r\n\r\n        let procuracaoId\r\n\r\n        await axios.post('/api/cadProcuracao', novaProcuracao)\r\n            .then(r => {\r\n                procuracaoId = r.data[0].procuracao_id\r\n            })\r\n\r\n        novaProcuracao.procuracaoId = procuracaoId\r\n\r\n        if (procFiles) {\r\n            contratoFile.append('fieldName', 'procuracao')\r\n            contratoFile.append('empresaId', selectedEmpresa.delegatarioId)\r\n            contratoFile.append('procuracaoId', procuracaoId)\r\n            contratoFile.append('procuradores', procIdArray)\r\n            for (let pair of procFiles.entries()) {\r\n                contratoFile.append(pair[0], pair[1])\r\n            }\r\n            await axios.post('/api/empresaUpload', contratoFile)\r\n                .then(r => console.log(r.data))\r\n\r\n            await axios.get(`/api/getOneFile?collection=empresaDocs&id=${procuracaoId}`)\r\n                .then(r => { if (r.data[0]) files.push(r.data[0]) })\r\n        }\r\n\r\n\r\n        selectedDocs.reverse()\r\n        selectedDocs.push(novaProcuracao)\r\n        selectedDocs.reverse()\r\n\r\n        this.setState({\r\n            selectedDocs,\r\n            files,\r\n            procDisplay: 'Clique ou arraste para anexar a procuração referente a este(s) procurador(es).',\r\n            procsToAdd: [1],\r\n            vencimento: '',\r\n            procFiles: undefined\r\n        })\r\n\r\n        this.toast()\r\n    }\r\n\r\n    removeProc = async proc => {\r\n\r\n        const { files } = this.state,\r\n            id = proc.procuracaoId,\r\n            selectedFile = files.find(f => Number(f.metadata.procuracaoId) === id)\r\n\r\n\r\n        let procs = [...this.state.selectedDocs]\r\n\r\n        await axios.delete(`/api/delete?table=procuracao&tablePK=procuracao_id&id=${id}`)\r\n            .then(r => { console.log(r.data) })\r\n\r\n        if (selectedFile && selectedFile.hasOwnProperty('_id')) axios.get(`/api/deleteFile/${selectedFile._id}`)\r\n\r\n        const i = procs.indexOf(proc)\r\n        procs.splice(i, 1)\r\n\r\n        this.setState({ selectedDocs: procs })\r\n    }\r\n\r\n    handleFiles = (file) => {\r\n        let procFiles = new FormData()\r\n        procFiles.append('procFile', file[0])\r\n        this.setState({ procFiles, procDisplay: file[0].name })\r\n    }\r\n\r\n    getFile = id => {\r\n        const { files } = this.state\r\n\r\n        const selectedFile = files.find(f => Number(f.metadata.procuracaoId) === id)\r\n\r\n        if (selectedFile) {\r\n            const { _id, filename } = selectedFile\r\n            download(_id, filename, 'empresaDocs')\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n        }\r\n    }  \r\n\r\n    plusOne = () => {\r\n        let i = [...this.state.procsToAdd]\r\n        i.push(1)\r\n        this.setState({ procsToAdd: i })\r\n    }\r\n\r\n    minusOne = () => {\r\n        let i = [...this.state.procsToAdd]\r\n        i.pop()\r\n        this.setState({ procsToAdd: i })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const {  openAlertDialog, alertType } = this.state\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Alteração de procuradores' />\r\n                <AltProcuradoresTemplate\r\n                    data={this.state}\r\n                    redux={this.props.redux}\r\n                    handleInput={this.handleInput}\r\n                    removeProc={this.removeProc}\r\n                    handleFiles={this.handleFiles}\r\n                    addProc={this.addProc}                   \r\n                    handleSubmit={this.handleSubmit}                    \r\n                    plusOne={this.plusOne}\r\n                    minusOne={this.minusOne}\r\n                    getFile={this.getFile}\r\n                />               \r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['empresas', 'procuradores', 'procuracoes']\r\n\r\nexport default (StoreHOC(collections, AltProcuradores))","import React, { Fragment } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1)\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 500,\r\n        textAlign: 'center'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 200,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    helperText: {\r\n        marginTop: '4px'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    },\r\n    addButton: {\r\n        marginBottom: '1%',\r\n        padding: '1% 0'\r\n    },\r\n    dropBox: {\r\n        margin: '1% 0',\r\n    },\r\n    dropBoxItem: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '17px',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#4169E1',\r\n        backgroundColor: '#fafafa'\r\n    },\r\n    dropBoxItem2: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '0 1% 0 1%',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#00000',\r\n        backgroundColor: '#fafafa'\r\n    }\r\n}))\r\n\r\n\r\nexport default function AltSociosTemplate({ empresas, data, removeSocio, handleBlur, handleInput,\r\n    addSocio, handleFiles, enableEdit, handleEdit, handleSubmit }) {\r\n\r\n    const\r\n        { dropDisplay, filteredSocios, selectedEmpresa } = data,\r\n        classes = useStyles(),\r\n        { paper, container, title, iconButton, dropBox,\r\n            dropBoxItem, dropBoxItem2, list, addButton } = classes\r\n\r\n    const errorHandler = (el) => {\r\n\r\n        const value = data[el.field]\r\n\r\n        if (el.pattern && value) {\r\n            return value.match(el.pattern) === null\r\n        }\r\n        if (value > el.max || value < el.min) return true\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        const value = data[el.field]\r\n\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return ' '\r\n    }\r\n    \r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}\r\n                handleBlur={handleBlur}\r\n            />\r\n            {\r\n                //selectedEmpresa \r\n                true && <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        {\r\n                            sociosForm.map((el, i) =>\r\n                                <Fragment key={i}>\r\n                                    <TextField\r\n                                        name={el.field}\r\n                                        label={el.label}\r\n                                        margin='normal'\r\n                                        className={classes.textField}\r\n                                        onChange={handleInput}\r\n                                        onBlur={handleBlur}\r\n                                        type={el.type || ''}\r\n                                        error={errorHandler(el)}\r\n                                        helperText={helper(el)}\r\n                                        FormHelperTextProps={{\r\n                                            className: classes.helperText\r\n                                        }}\r\n                                        select={el.select || false}\r\n                                        value={data[el.field] || ''}\r\n                                        disabled={el.disabled}\r\n                                        InputLabelProps={{\r\n                                            className: classes.textField,\r\n                                            shrink: el.type === 'date' || undefined,\r\n                                            style: { fontSize: '0.7rem', color: '#455a64', marginBottom: '5%' }\r\n                                        }}\r\n                                        inputProps={{\r\n                                            style: { background: el.disabled && data.disable ? '#fff' : '#fafafa', height: '7px' },\r\n                                            value: `${data[el.field] || ''}`,\r\n                                            list: el.datalist || '',\r\n                                            maxLength: el.maxLength || '',\r\n                                            minLength: el.minLength || '',\r\n                                            max: el.max || '',\r\n                                        }}\r\n                                        variant={el.variant || 'filled'}\r\n                                    >\r\n                                    </TextField>\r\n                                </Fragment>\r\n                            )}\r\n\r\n                        <Button color='primary' className={addButton} onClick={addSocio}>\r\n                            <AddIcon /> Adicionar sócio\r\n                        </Button>\r\n                    </Paper>\r\n                </Grid>\r\n            }\r\n            {\r\n                selectedEmpresa && filteredSocios.length === 0 &&\r\n                <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        Nenhum sócio cadastrado para {selectedEmpresa.razaoSocial}\r\n                    </Paper>\r\n\r\n                </Grid>\r\n            }\r\n            {\r\n                filteredSocios.length > 0 && selectedEmpresa && <Grid container\r\n                    direction=\"row\"\r\n                    className={container}\r\n                    justify=\"center\"\r\n                    alignItems=\"center\">\r\n                    <Grid item xs={12}>\r\n                        <Paper className={paper}>\r\n                            <p className={title}>Sócios cadastrados</p>\r\n                            {filteredSocios.map((s, i) =>\r\n                                <Grid key={i}>\r\n                                    {sociosForm.map((e, k) =>\r\n                                        <Fragment key={k + 1000}>\r\n                                            <TextField\r\n                                                value={s[e.field] || ''}\r\n                                                name={e.field}\r\n                                                label={e.label}\r\n                                                className={list}\r\n                                                disabled={e.field === 'cpfSocio' ? true : s.edit ? false : true}\r\n                                                onChange={handleEdit}\r\n                                                InputLabelProps={{ shrink: true, style: { fontWeight: 600 } }}\r\n                                                inputProps={{ style: { fontSize: '0.8rem' } }}\r\n                                            />\r\n                                        </Fragment>\r\n                                    )}\r\n                                    <Button component='span' className={iconButton} title='editar' onClick={() => enableEdit(i)}>\r\n                                        <EditIcon />\r\n                                    </Button>\r\n                                    <Button className={iconButton} color='secondary' title='Remover' onClick={() => removeSocio(i)}>\r\n                                        <DeleteIcon />\r\n                                    </Button>\r\n                                </Grid>\r\n                            )}\r\n                        </Paper>\r\n                        <Dropzone onDrop={handleFiles}>\r\n                            {({ getRootProps, getInputProps }) => (\r\n                                <Grid container justify=\"center\" alignItems='center' className={dropBox} direction='row' {...getRootProps()}>\r\n                                    <input {...getInputProps()} />\r\n                                    {\r\n                                        dropDisplay.match('Clique ou') ?\r\n                                            <Grid item xs={6} className={dropBoxItem}> {dropDisplay} </Grid>\r\n                                            :\r\n                                            <Grid item xs={6} className={dropBoxItem2}> <DescriptionOutlinedIcon />  {dropDisplay} <br /> (clique ou arraste outro arquivo para alterar)</Grid>\r\n                                    }\r\n                                </Grid>\r\n                            )}\r\n                        </Dropzone>\r\n                        <Grid container direction=\"row\" justify='flex-end' style={{ width: '1200px' }}>\r\n                            <Grid item xs={10} style={{ width: '1000px' }}></Grid>\r\n                            <Grid item xs={1} style={{ align: \"right\" }}>\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    color=\"primary\"\r\n                                    variant=\"contained\"\r\n                                    style={{ margin: '0px 0 10px 0' }}\r\n                                    onClick={() => handleSubmit()}                                    \r\n                                >\r\n                                    Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            }\r\n        </Grid>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport humps from 'humps'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport AltSociosTemplate from './AltSociosTemplate'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass AltSocios extends Component {\r\n\r\n    state = {\r\n        razaoSocial: '',\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        dialogTitle: '',\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        filteredSocios: [],\r\n        dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n        showFiles: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const originals = humps.decamelizeKeys(this.props.redux.socios)\r\n        this.setState({ originals })\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { empresas, socios } = this.props.redux,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        this.setState({ ...this.state, [name]: value })\r\n\r\n        if (name === 'razaoSocial') {\r\n            const filteredSocios = [...socios.filter(s => s.razaoSocial === value)],\r\n                selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n            if (filteredSocios.length > 0) {\r\n                this.setState({ filteredSocios, selectedEmpresa })\r\n            } else this.setState({ filteredSocios: [] })\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n            } else this.setState({ selectedEmpresa: undefined })\r\n        }\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const { filteredSocios } = this.state\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n        switch (name) {\r\n            case 'cpfSocio':\r\n                const alreadyExists = filteredSocios.find(e => e.cpfSocio === value)\r\n                if (alreadyExists) {\r\n                    this.setState({ alertType: 'alreadyExists', openAlertDialog: true })\r\n                    this.setState({ cpfSocio: '' })\r\n                }\r\n                break;\r\n            case 'share':\r\n\r\n                if (value) {\r\n                    value = value.replace(',', '.')\r\n\r\n                    if (value > 100) {\r\n                        await this.setState({ share: '' })\r\n                        value = ''\r\n                        this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n                    }\r\n                    if (value !== '0' && value !== '00' && !Number(value)) {\r\n\r\n                        await this.setState({ share: '' })\r\n                        this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n\r\n                    } else {\r\n                        let totalShare = filteredSocios.map(s => Number(s.share))\r\n                            .reduce((a, b) => a + b)\r\n\r\n                        totalShare += Number(value)\r\n                        this.setState({ totalShare, share: value })\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    addSocio = async () => {\r\n        let socios = this.state.filteredSocios,\r\n            sObject = {}\r\n\r\n        //check if totalShare is more than 100\r\n        if (this.state.totalShare > 100) {\r\n            this.setState({ openAlertDialog: true, alertType: 'overShared' })\r\n            return null\r\n        }\r\n\r\n        sociosForm.forEach(obj => {\r\n            Object.assign(sObject, { [obj.field]: this.state[obj.field] })\r\n        })\r\n        socios.unshift(sObject)\r\n\r\n        await this.setState({ filteredSocios: socios })\r\n\r\n        sociosForm.forEach(obj => {\r\n            this.setState({ [obj.field]: '' })\r\n        })\r\n        document.getElementsByName('nomeSocio')[0].focus()\r\n    }\r\n\r\n    removeSocio = async index => {\r\n\r\n        let socios = [...this.state.filteredSocios]\r\n        const\r\n            id = socios[index].socioId,\r\n            originalSocios = this.props.redux.socios,\r\n            registered = originalSocios.find(s => s.socioId === id)\r\n\r\n        if (registered) {\r\n            await axios.delete(`/api/delete?table=socios&tablePK=socio_id&id=${id}`)\r\n                .catch(err => console.log(err))\r\n        }\r\n\r\n        socios.splice(index, 1)\r\n        this.setState({ filteredSocios: socios })\r\n    }\r\n\r\n    enableEdit = index => {\r\n\r\n        let editSocio = this.state.filteredSocios\r\n        if (editSocio[index].edit === true) editSocio[index].edit = false\r\n        else {\r\n            editSocio.forEach(s => s.edit = false)\r\n            editSocio[index].edit = true\r\n        }\r\n        this.setState({ filteredSocios: editSocio })\r\n\r\n    }\r\n\r\n    handleEdit = e => {\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'share') value = value.replace(',', '.')\r\n        let editSocio = this.state.filteredSocios.filter(s => s.edit === true)[0]\r\n        const index = this.state.filteredSocios.indexOf(editSocio)\r\n\r\n        editSocio[name] = value\r\n\r\n        let fs = this.state.filteredSocios\r\n        fs[index] = editSocio\r\n\r\n        this.setState({ filteredSocios: fs })\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n        const\r\n            { selectedEmpresa, contratoSocial, filteredSocios } = this.state,\r\n            { socios } = this.props.redux\r\n\r\n        //check if totalShare is more than 100\r\n        let updatedShare = filteredSocios.map(s => Number(s.share))\r\n            .reduce((a, b) => a + b)\r\n\r\n        if (updatedShare > 100) {\r\n            this.setState({ openAlertDialog: true, alertType: 'overShared' })\r\n            return null\r\n        }\r\n\r\n        let\r\n            oldMembers = [], newMembers = [],\r\n            contratoFile = new FormData(),\r\n            keys = sociosForm.map(el => humps.decamelize(el.field))\r\n        keys.splice(1, 1)\r\n\r\n        filteredSocios.forEach(fs => {\r\n            let { razaoSocial, createdAt, edit, ...rest } = fs\r\n            fs = rest\r\n            fs.delegatarioId = selectedEmpresa.delegatarioId\r\n            if (!fs.hasOwnProperty('socioId')) {\r\n                const gotId = socios.find(s => s.cpfSocio === fs.cpfSocio)\r\n                if (gotId) {\r\n                    fs.socioId = gotId.socioId\r\n                    oldMembers.push(fs)\r\n                } else {\r\n                    newMembers.push(fs)\r\n                }\r\n            } else {\r\n                oldMembers.push(fs)\r\n                delete oldMembers.socioId\r\n            }\r\n        })\r\n\r\n        const table = 'socios', tablePK = 'socio_id'\r\n        let realChanges = [], altObj = {}\r\n\r\n        const originals = humps.camelizeKeys(this.state.originals)\r\n\r\n        oldMembers.forEach(m => {\r\n            originals.forEach(s => {\r\n                if (m.socioId === s.socioId) {\r\n                    Object.keys(m).forEach(key => {\r\n                        if (m[key] !== s[key] || key === 'socioId') {\r\n                            Object.assign(altObj, { [key]: m[key] })\r\n                        }\r\n                    })\r\n                    if (Object.keys(altObj).length > 1) realChanges.push(altObj)\r\n                    altObj = {}\r\n                }\r\n            })\r\n        })\r\n\r\n        oldMembers = humps.decamelizeKeys(realChanges)\r\n        newMembers = humps.decamelizeKeys(newMembers)\r\n        let socioIdsArray = filteredSocios\r\n            .filter(s => s.socioId !== undefined)\r\n            .map(s => s.socioId)\r\n\r\n        try {\r\n            if (oldMembers.length > 0) {\r\n                await axios.put('/api/editSocios', { requestArray: oldMembers, table, tablePK, keys })\r\n                    .then(r => console.log(r.data))\r\n            }\r\n\r\n            if (newMembers.length > 0) {\r\n                await axios.post('/api/cadSocios', { socios: newMembers, table, tablePK })\r\n                    .then(r => r.data.forEach(newSocio => socioIdsArray.push(newSocio.socio_id)))\r\n            }\r\n            \r\n            if (contratoSocial) {\r\n                contratoFile.append('empresaId', selectedEmpresa.delegatarioId)\r\n                contratoFile.append('socios', socioIdsArray)\r\n\r\n                for (let pair of contratoSocial.entries()) {\r\n                    contratoFile.append(pair[0], pair[1])\r\n                }\r\n                await axios.post('/api/empresaUpload', contratoFile)\r\n                    .then(r => console.log(r.data))\r\n            }\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n\r\n        oldMembers = []\r\n        realChanges = []\r\n        altObj = {}\r\n        newMembers = []\r\n        this.toast()\r\n\r\n        const updatedList = humps.decamelizeKeys(this.props.redux.socios)\r\n        this.setState({\r\n            razaoSocial: '', selectedEmpresa: undefined, filteredSocios: [],\r\n            dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n            contratoSocial: undefined,\r\n            originals: updatedList\r\n        })\r\n    }\r\n\r\n    handleFiles = (file) => {\r\n\r\n        let formData = new FormData()\r\n        formData.append('contratoSocial', file[0])\r\n        this.setState({ dropDisplay: file[0].name, contratoSocial: formData })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const { openAlertDialog, alertType } = this.state,\r\n            { empresas } = this.props.redux\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Alteração do quadro societário' />\r\n                <AltSociosTemplate\r\n                    data={this.state}\r\n                    empresas={empresas}\r\n                    handleInput={this.handleInput}\r\n                    handleBlur={this.handleBlur}\r\n                    addSocio={this.addSocio}\r\n                    removeSocio={this.removeSocio}\r\n                    enableEdit={this.enableEdit}\r\n                    handleEdit={this.handleEdit}\r\n                    handleFiles={this.handleFiles}\r\n                    handleSubmit={this.handleSubmit}\r\n                />\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['empresas', 'socios']\r\n\r\nexport default StoreHOC(collections, AltSocios)","import React from 'react'\r\n\r\nexport default function underConstruction() {\r\n    return (\r\n        <div style={{ height: '60vh', width: '100%', margin: '15% 35%' }}>\r\n            <img src=\"/images/underConstruction.png\" alt=\"Página em construção\" />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport HomeTemplate from './HomeTemplate'\r\n\r\nimport VeiculosHome from './Veiculos/VeiculosHome'\r\nimport CadVeiculos from './Veiculos/CadVeiculo'\r\nimport AltVeiculos from './Veiculos/AltDados'\r\nimport AltSeguro from './Veiculos/AltSeguro'\r\nimport BaixaVeiculo from './Veiculos/BaixaVeiculo'\r\nimport Config from './Veiculos/Config'\r\n\r\nimport Consultas from './Consultas/ConsultasContainer'\r\nimport Empresas from './Empresas/EmpresasContainer'\r\nimport EmpresasHome from './Empresas/EmpresasHome'\r\nimport Procuradores from './Empresas/AltProcuradores'\r\nimport Socios from './Empresas/AltSocios'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport UnderConstruction from './Utils/UnderConstruction'\r\nimport PdfTest from './Veiculos/Certificate'\r\n\r\nexport default () =>\r\n    \r\n    <Switch>\r\n        <Route exact path='/' component={HomeTemplate} />\r\n        <Route path='/certidoes' component = {UnderConstruction} />\r\n        <Route path='/veiculos' exact component = {VeiculosHome} />\r\n        <Route path='/veiculos/cadastro' exact component = {CadVeiculos} />\r\n        <Route path='/veiculos/altDados' exact component = {AltVeiculos} />\r\n        <Route path='/veiculos/altSeguro' exact component = {AltSeguro} />\r\n        <Route path='/veiculos/baixaVeiculo' exact component = {BaixaVeiculo} />\r\n        <Route path='/veiculos/config' exact component = {Config} />\r\n        <Route path='/consultas' component = {Consultas} />\r\n        <Route path='/empresas' exact component = {EmpresasHome} />\r\n        <Route path='/empresas/cadastro' component = {Empresas} />             \r\n        <Route path='/empresas/socios' component = {Socios} />     \r\n        <Route path='/empresas/procuradores' component = {Procuradores} />     \r\n        <Route path='/crv' component = {PdfTest} />\r\n        <Route path='/faleConosco' component = {UnderConstruction} />\r\n    </Switch>\r\n\r\n","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport promise from 'redux-promise';\r\nimport multi from 'redux-multi';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './rootReducer'\r\n\r\n\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { Header, Footer } from './Layouts'\r\nimport { Container } from '@material-ui/core';\r\nimport Routes from './Routes'\r\n\r\nfunction App() {\r\n\r\n  const useStyles = makeStyles(theme => ({\r\n    root: { backgroundColor:'#fbfbfb' }\r\n  }))\r\n\r\n  const { root } = useStyles()\r\n  const store = applyMiddleware(promise, multi, thunk)(createStore)\r\n  return (\r\n    <Provider store={store(rootReducer)}>\r\n      <div className={root}>\r\n        <Container maxWidth=\"lg\" style={{ minHeight: '100vh' }}>\r\n          <BrowserRouter>\r\n            <Header />\r\n            <Routes />\r\n          </BrowserRouter>\r\n          <Footer />\r\n        </Container>\r\n      </div>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.jsx';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}