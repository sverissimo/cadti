{"version":3,"sources":["Store/dataReducer.js","rootReducer.js","Layouts/Header.jsx","Layouts/Footer.jsx","Layouts/TabMenu.jsx","HomeTemplate.jsx","Veiculos/VeiculosHome.jsx","Store/StoreHOC.jsx","Store/dataActions.js","Utils/Loading.jsx","Forms/configVehicleForm.js","Utils/checkInputErrors.js","Utils/autoComplete.jsx","Reusable Components/TextInput.jsx","Forms/seguroForm.js","Forms/cadForm.js","Forms/vistoriaForm.js","Veiculos/AddEquipa.jsx","Utils/PopUp.jsx","Veiculos/CadVeiculoTemplate.jsx","Reusable Components/DragAndDrop.jsx","Forms/cadVehicleFiles.js","Forms/altDadosFiles.js","Veiculos/VehicleDocs.jsx","Utils/ShowLocalFiles.jsx","Veiculos/VehicleReview.jsx","Utils/Crumbs.jsx","Utils/StepperButtons.jsx","Utils/Stepper.jsx","Utils/ReactToast.jsx","Utils/formatMoney.js","Utils/AlertDialog.jsx","Veiculos/CadVeiculo.jsx","Forms/altForm.js","Forms/altFormVistoria.js","Reusable Components/SelectEmpresa.jsx","Veiculos/AltDadosTemplate.jsx","Utils/FormDialog.jsx","Veiculos/AltDados.jsx","Forms/altSegForm.js","Veiculos/AltSeguroTemplate.jsx","Veiculos/ShowAllPlates.jsx","Veiculos/ConfigAddDialog.jsx","Veiculos/AltSeguro.jsx","Forms/baixaForm.js","Veiculos/BaixaTemplate.jsx","Veiculos/BaixaVeiculo.jsx","Veiculos/ConfigTemplate.jsx","Veiculos/Config.jsx","Utils/formatDate.js","Consultas/tables.js","Consultas/ConsultasTemplate.jsx","Forms/certificate.js","Veiculos/Certificate.jsx","Forms/empresasForm.js","Forms/sociosForm.js","Forms/procuradorForm.js","Reusable Components/ShowDetails.jsx","Utils/formatFileSize.js","Utils/downloadFile.js","Forms/empresaFiles.js","Utils/ShowFiles.jsx","Consultas/ConsultasContainer.jsx","Empresas/EmpresasTemplate.jsx","Empresas/SociosTemplate.jsx","Empresas/EmpresaReview.jsx","Empresas/EmpresasContainer.jsx","Empresas/EmpresasHome.jsx","Empresas/Procurador.jsx","Empresas/AltProcuradoresTemplate.jsx","Empresas/AltProcuradores.jsx","Empresas/AltSociosTemplate.jsx","Empresas/AltSocios.jsx","Utils/UnderConstruction.jsx","Routes.jsx","App.jsx","serviceWorker.js","index.js"],"names":["initState","dataReducer","state","action","type","payload","collection","data","update","forEach","el","unshift","id","map","v","console","log","apolice","placaIndex","vehicleIndex","seguros","seguro","find","s","index","findIndex","placas","splice","veiculos","tablePK","updatedData","match","Number","element","setColor","loading","rootReducer","combineReducers","useStyles","makeStyles","theme","toolbarTitle","flex","toolbarSecondary","justifyContent","overflowX","backgroundColor","color","toolbarLink","padding","flexShrink","mainFeaturedPost","position","palette","grey","common","white","marginBottom","spacing","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","overlay","top","bottom","right","left","mainFeaturedPostContent","breakpoints","up","paddingRight","mainGrid","marginTop","card","display","cardDetails","cardMedia","width","markdown","typography","body2","sidebarAboutBox","sidebarSection","footer","background","paper","sections","title","link","withRouter","props","classes","useState","document","location","pathname","path","setSelected","useEffect","Fragment","CssBaseline","Toolbar","Button","size","Typography","component","variant","align","noWrap","className","IconButton","i","Link","RouterLink","to","key","href","style","fontFamily","fontSize","borderBottom","fontWeight","onClick","Footer","items","tab","changeTab","Tabs","value","indicatorColor","textColor","centered","onChange","item","Tab","label","height","featuredPosts","date","description","imageUrl","minHeight","Grid","container","cardGrid","post","xs","md","CardActionArea","textDecoration","Card","CardContent","paragraph","Hidden","xsDown","CardMedia","src","menuCards","VeiculosHome","url","alt","socket","getData","collectionsArray","dispatch","getState","a","async","promiseArray","returnObj","length","collectionName","push","axios","get","Promise","all","then","res","r","humps","camelizeKeys","responseArray","replace","camelize","Object","assign","insertData","dataFromServer","seguradoras","seguradora","sg","seguradoraId","plates","vehicles","updatedCollection","dataEmissao","vencimento","placa","veiculoId","collectionPayload","batch","updateData","updateCollection","deleteOne","Loading","textAlign","zIndex","configVehicleForm","field","name","table","socketIO","require","requestArray","WrappedComponent","collections","req","With","redux","this","request","colName","on","insertedObjects","updatedObjects","object","off","c","every","col","hasOwnProperty","React","Component","connect","bindActionCreators","checkInputErrors","sendState","p","querySelectorAll","inputs","errors","errString","textContent","l","parentNode","moment","isValid","previousSibling","e","slice","openAlertDialog","alertType","customMsg","autoComplete","datalist","textField","marginLeft","marginRight","fontColor","select","helperText","margin","TextInput","handleInput","handleBlur","form","errorHandler","max","min","toString","pattern","helper","TextField","onBlur","error","FormHelperTextProps","disabled","InputLabelProps","shrink","undefined","inputProps","disable","list","maxLength","minLength","multiline","rows","fullWidth","SelectProps","options","opt","MenuItem","seguroForm","cadForm","Date","getFullYear","zero","concat","step","AddEquipa","equipamentos","handleCheck","direction","justify","alignItems","eq","FormControlLabel","control","Checkbox","checked","PopUp","close","children","format","borderRadius","border","boxShadow","overflowY","cursor","flexWrap","selectEmpresa","minWidth","formHolder","text","secondary","empresas","handleEquipa","razaoSocial","activeStep","addEquipa","delegatarioCompartilhado","subtitle","selectedEmpresa","button","shared","setShared","Paper","float","DragAndDrop","formData","handleFiles","dropDisplay","single","fileName","setFileName","entries","pair","onDrop","getRootProps","getInputProps","cadVehicleFiles","altDadosFiles","root","flexGrow","sendButton","VehicleDocs","filesForm","parentComponent","insuranceExists","k","divContainer","alignContent","divFiles","icon","verticalAlign","paddingLeft","fileIcon","ShowLocalFiles","files","fileArray","fieldName","f","file","window","URL","createObjectURL","createElement","setAttribute","body","appendChild","click","createLink","Revisao","ultimateData","vehicleDetails","obj","newForm","filledForm","y","colSpan","values","d","j","Array","isArray","equipamentosId","Crumbs","links","Breadcrumbs","separator","aria-label","paddingBottom","backButton","StepperButtons","setActiveStep","lastStep","handleSubmit","instructions","CustomStepper","steps","Stepper","Step","StepLabel","useStyles1","success","green","dark","info","primary","main","warning","amber","iconVariant","opacity","message","MySnackbarContentWrapper","onClose","other","SnackbarContent","clsx","aria-describedby","Icon","CustomizedSnackbars","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","msg","formatMoney","toFixed","AlertDialog","confirm","customTitle","customMessage","cnpj","createAlert","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","StoreHOC","frota","toastMsg","confirmToast","fileNames","filter","setState","array","prevActiveStep","allInsurances","target","delegatarioId","empresa","filteredInsurances","toLocaleUpperCase","se","testApolice","testSeguradora","keys","newInsurance","getId","stateId","dbName","dbId","alertLabel","toLowerCase","nombre","getElementsByName","focus","modelosChassi","carrocerias","x","handleCadastro","anoCarroceria","peso_dianteiro","peso_traseiro","poltronas","compartilhadoId","modeloChassiId","modeloCarroceriaId","indicadorIdade","pbt","isNaN","review","modeloChassi","modeloCarroceria","vReview","validEmissao","validVenc","situacao","vehicle","decamelizeKeys","insurance","submitFiles","catch","err","resetState","toast","seguradora_id","column","ids","put","FormData","fn","filesNames","append","delete","showFiles","selectedFiles","metadata","filesCollection","selectedVehicle","resetFiles","resetEquip","toggleDialog","escFunction","keyCode","equipArray","addEventListener","CadVeiculoTemplate","PureComponent","altForm","SelectEmpresa","input","altPlacaOption","showAltPlaca","justificativa","updatePlate","newPlate","nPlate","stepTitles","altPlaca","reset","toUpperCase","capitalize","charAt","vEquip","currentEquipa","ve","utilizacao","dominio","delegatario","pesoDianteiro","pesoTraseiro","tempObj","compartilhado","requestObject","closeAlert","AltDadosTemplate","chip","AltSeguro","enableAddPlaca","addPlate","deleteInsurance","enableChangeApolice","showAllPlates","addedPlaca","seguroFile","sort","flexDirection","Chip","onDelete","ConfigAddDialog","helperMessage","marca","marcas","selectMarca","newElement","addNewElement","newPlates","newVehicles","checkExistance","inputValue","InsuranceUpdatedFrota","updatedPlates","updatedVehicles","allPlates","clearFields","selectedSeguradora","vehicleFound","checkFields","valid","seg","allPlatesObj","insuredPlates","plate","stateKey","includes","placaInput","indexOf","removeInsurance","updateApolice","updatedDates","emissaoDidChange","isSame","vencimentoDidChange","data_emissao","requestObj","columns","vehicleIds","cadSeguro","delegatario_id","newApoliceNumber","seguroFormData","openAddDialog","baixaForm","delegaTransf","FormControl","FormLabel","RadioGroup","row","Radio","labelPlacement","Send","check","openDialog","newDelega","disableSubmit","checkArray","enableSubmit","BaixaTemplate","ConfigTemplate","staticData","selectCollection","handleChange","enableEdit","removeItem","edit","autoCorrect","spellCheck","addCounter","count","b","localeCompare","marcaChassi","marcaCarroceria","JSON","parse","stringify","divCell","divWrap","childNodes","inputTarget","marcaCollection","m","marcaId","changedElement","newData","requestElement","originalData","editedElements","rest","realChanges","decamelize","prevProps","formatDate","test","getDate","getMonth","getHours","getMinutes","vehicleTable","render","rowData","filtering","segurosTable","tables","vencimentoContrato","showDetails","showCertificate","del","subject","exportButton","exportFileName","exportCsv","csvData","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","Blob","FileSaver","exportToCSV","actionsColumnIndex","searchFieldStyle","headerStyle","emptyRowsWhenPaging","pageSize","localization","header","actions","emptyDataSourceMessage","editRow","deleteText","deleteTooltip","filterRow","filterTooltip","toolbar","searchTooltip","searchPlaceholder","exportName","exportAriaLabel","exportTitle","pagination","labelRowsSelect","labelDisplayedRows","firstTooltip","previousTooltip","nextTooltip","lastTooltip","iconProps","tooltip","event","hidden","editable","onRowDelete","oldData","caracteristicas","pesagem","informacoesGerais","PdfCertificate","setVehicle","localStorage","getItem","setTimeout","print","carac","delega","peso","obs","line","ultimateForm","origin","InputProps","redirect","empresasForm","sociosForm","procuradorForm","VehicleDetails","tableData","formPattern","laudoId","vData","dataRegistro","sm","lg","formatFileSize","bytes","Math","round","downloadFile","originalName","method","responseType","response","empresaFiles","divRow","grid","justifyItems","ShowFiles","typeId","fileLabels","o","download","filename","empresaId","getMoreInfo","uploadDate","ConsultasContainer","tablePKs","dbTables","elementDetails","vehicleDocs","primaryKeys","pk","updatedElement","closeFiles","socios","empresaDocs","socio","socioId","sociosArray","filesToReturn","procuradores","procId","selectedElement","deleteHandler","itemId","seguroVencido","isBefore","contratoVencido","setItem","closeCertificate","certified","TabMenu","ConsultasTemplate","elementId","dropBox","dropBoxItem","dropBoxItem2","iconButton","addButton","addSocio","removeSocio","handleEdit","empresaDetails","addedSocios","totalShare","sObject","invalid","share","pop","editSocio","fs","filteredSocios","alert","alreadyExists","numero","contratoSocial","contratoFile","delegatarioStatus","resetEmpresa","resetSocios","EmpresasTemplate","SociosTemplate","divider","gutterBottom","StyledTableCell","withStyles","head","TableCell","StyledCell","StyledTableRow","default","TableRow","Procurador","procuracao","procArray","pro","procuradorId","Table","TableHead","TableBody","lineHeight","containerList","selector","paper2","addProc","removeProc","getFile","plusOne","minusOne","procDisplay","procsToAdd","selectedDocs","z","procuracaoId","filteredProc","procuracoesArray","procuracoes","pr","procFiles","nProc","addedProcs","n","newMembers","procIdArray","fp","gotId","cpfProcurador","procs","procurador_id","novaProcuracao","status","procuracao_id","reverse","proc","selectedFile","_id","AltProcuradoresTemplate","AltSociosTemplate","dialogTitle","cpfSocio","reduce","originalSocios","oldMembers","createdAt","altObj","originals","socioIdsArray","newSocio","socio_id","updatedList","underConstruction","exact","HomeTemplate","UnderConstruction","CadVeiculos","AltVeiculos","BaixaVeiculo","Config","Consultas","EmpresasHome","Empresas","Socios","Procuradores","PdfTest","App","store","applyMiddleware","promise","multi","thunk","createStore","Container","maxWidth","Routes","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.666daf47.chunk.js","sourcesContent":["const initState = {}\r\n\r\nconst dataReducer = (state = initState, action) => {\r\n    const { type, payload } = action\r\n\r\n    switch (type) {\r\n\r\n        case 'GET_DATA':            \r\n            return { ...state, ...payload }\r\n\r\n        case 'INSERT_DATA': {\r\n            const { collection, data } = payload\r\n\r\n            if (state[collection] && data) {\r\n                let update = [...state[collection]]\r\n                data.forEach(el => {\r\n                    update.unshift(el)\r\n                })\r\n                return {\r\n                    ...state, [collection]: update\r\n                }\r\n            }\r\n            return state\r\n        }\r\n\r\n        case 'UPDATE_DATA': {\r\n            const { collection, data, id } = payload\r\n            if (state[collection] && data) {\r\n                const update = state[collection].map(v => {\r\n                    data.forEach(el => {\r\n                        if (v[id] === el[id]) {\r\n                            v = el\r\n                        }\r\n                    })\r\n                    return v\r\n                })\r\n                console.log({ [collection]: update })\r\n                return {\r\n                    ...state, [collection]: update\r\n                }\r\n            }\r\n            return state\r\n        }\r\n\r\n\r\n        case 'UPDATE_COLLECTION': {\r\n            const { data, collection } = payload\r\n            console.log(payload)\r\n            return {\r\n                ...state, [collection]: data\r\n            }\r\n        }\r\n\r\n        case 'REMOVE_FROM_INSURANCE':\r\n            const { apolice, placaIndex, vehicleIndex } = payload\r\n\r\n            if (state.seguros) {\r\n\r\n                let seguros = [...state.seguros],\r\n                    seguro = seguros.find(s => s.apolice === apolice),\r\n                    index = seguros.findIndex(s => s.apolice === apolice)\r\n\r\n                seguro.placas.splice(placaIndex, 1)\r\n                seguro.veiculos.splice(vehicleIndex, 1)\r\n                seguros[index] = seguro\r\n                console.log(seguros)\r\n                return {\r\n                    ...state, seguros\r\n                }\r\n            }\r\n            return state\r\n\r\n        case 'DELETE_ONE':\r\n            const { tablePK, collection } = payload\r\n            if (state[collection]) {\r\n                let\r\n                    { id } = payload,\r\n                    updatedData = [...state[collection]]\r\n                console.log(id, collection)\r\n                if (!collection.match('Docs')) id = Number(id)\r\n                \r\n                const\r\n                    element = updatedData.find(el => el[tablePK] === id),\r\n                    index = updatedData.findIndex(el => el === element)\r\n\r\n                updatedData.splice(index, 1)\r\n\r\n                return {\r\n                    ...state, [collection]: updatedData\r\n                }\r\n            }\r\n            return state\r\n\r\n        case 'SET_COLOR':\r\n            return { ...state, setColor: action.payload }\r\n\r\n        case 'LOADING':\r\n            return { ...state, loading: action.payload }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default dataReducer;","import dataReducer from './Store/dataReducer'\r\nimport { combineReducers } from 'redux';\r\n\r\nconst rootReducer = combineReducers({    \r\n    data: dataReducer    \r\n})\r\n\r\nexport default rootReducer","import React, { useState, useEffect } from 'react'\r\nimport { Link as RouterLink } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { Toolbar, Typography, Button, IconButton, Link } from '@material-ui/core'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { withRouter } from 'react-router'\r\nimport './stylez.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    toolbarTitle: {\r\n        flex: 1,\r\n    },\r\n    toolbarSecondary: {\r\n        justifyContent: 'space-between',\r\n        overflowX: 'auto',\r\n        backgroundColor: '#0398c1',\r\n        color: 'white'\r\n    },\r\n\r\n    toolbarLink: {\r\n        padding: '12px 55px 13px 55px',\r\n        flexShrink: 0,\r\n    },\r\n    mainFeaturedPost: {\r\n        position: 'relative',\r\n        backgroundColor: theme.palette.grey[800],\r\n        color: theme.palette.common.white,\r\n        marginBottom: theme.spacing(4),\r\n        backgroundImage: '/images/bus_wallpaper.jpg',\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n    },\r\n    overlay: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        left: 0,\r\n        backgroundColor: 'rgba(0,0,0,.3)',\r\n    },\r\n    mainFeaturedPostContent: {\r\n        position: 'relative',\r\n        padding: theme.spacing(3),\r\n        [theme.breakpoints.up('md')]: {\r\n            padding: theme.spacing(6),\r\n            paddingRight: 0,\r\n        },\r\n    },\r\n    mainGrid: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    card: {\r\n        display: 'flex',\r\n    },\r\n    cardDetails: {\r\n        flex: 1,\r\n    },\r\n    cardMedia: {\r\n        width: 160,\r\n    },\r\n    markdown: {\r\n        ...theme.typography.body2,\r\n        padding: theme.spacing(3, 0),\r\n    },\r\n    sidebarAboutBox: {\r\n        padding: theme.spacing(2),\r\n        backgroundColor: theme.palette.grey[200],\r\n    },\r\n    sidebarSection: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    footer: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        marginTop: theme.spacing(8),\r\n        padding: theme.spacing(6, 0),\r\n    },\r\n}));\r\n\r\nconst sections = [\r\n    { title: 'Página Inicial', link: '/' },\r\n    { title: 'Certidões', link: '/certidoes' },\r\n    { title: 'Consultas', link: '/consultas' },\r\n    { title: 'Veículos', link: '/veiculos' },\r\n    { title: 'Empresas', link: '/empresas' },\r\n    { title: 'Fale Conosco', link: '/faleConosco' },\r\n];\r\n\r\n\r\nconst Header = props => {\r\n    const classes = useStyles()\r\n    const [path, setSelected] = useState(document.location.pathname)\r\n    const { pathname } = props.location\r\n    \r\n    useEffect(() => {\r\n        setSelected(pathname)        \r\n    }, [pathname])\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n\r\n            <Toolbar>\r\n                <Button size=\"small\">Criar usuário</Button>\r\n                <Typography\r\n                    component=\"h2\"\r\n                    variant=\"h6\"\r\n                    color=\"inherit\"\r\n                    align=\"center\"\r\n                    noWrap\r\n                    className={classes.toolbarTitle}\r\n                >\r\n                    Seinfra - Subsecretaria de Transportes e Mobilidade - MG\r\n                    </Typography>\r\n                <IconButton>\r\n                    <SearchIcon />\r\n                </IconButton>\r\n                <Button variant=\"outlined\" size=\"small\">\r\n                    Fazer login\r\n                    </Button>\r\n            </Toolbar>\r\n            <Toolbar component=\"nav\" variant=\"dense\" className={classes.toolbarSecondary}>\r\n                {sections.map(({ link, title }, i) => (\r\n                    <Link\r\n                        component={RouterLink}\r\n                        to={link}\r\n                        key={i}\r\n                        color=\"inherit\"\r\n                        noWrap\r\n                        variant=\"body2\"\r\n                        href=\"\"\r\n                        style={{\r\n                            fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana, sans-serif',\r\n                            fontSize: '15px',\r\n                            backgroundColor: (path.match(link) && link !== '/' && link !== '/faleConosco')\r\n                                ? '#11a7d2' : '',\r\n                            //borderTop: (path === link && link !== '/' && link !== '/faleConosco') ? '2px solid #fff' : '',\r\n                            borderBottom: (path.match(link) && link !== '/' && link !== '/faleConosco') ? '1.5px solid #fff' : '',\r\n                            fontWeight: (path.match(link) && (link === '/' || link === '/faleConosco')) ? '500' : '400'\r\n                        }}\r\n                        className={classes.toolbarLink}\r\n                        onClick={() => setSelected(link)}\r\n                    >\r\n                        {title}\r\n                    </Link>\r\n                ))}\r\n            </Toolbar>\r\n        </React.Fragment >\r\n    )\r\n}\r\nexport default withRouter(Header)","//import React from 'react'\r\n\r\nconst Footer = () => {\r\n    return null\r\n    \r\n    /* (\r\n        <footer className=\"grey lighten-2 black-text\"\r\n            style={{\r\n                \r\n                bottom: 0,\r\n                width: '100%',\r\n                borderTop: '0.1px solid #999',\r\n                marginTop: 'auto',\r\n                maxHeight: '20px',\r\n                left: 0\r\n            }}>\r\n            <span style={{ fontSize: '0.6rem' }}>\r\n                Seinfra, Governo de Minas Gerais. Desenvolvido por Sandro Veríssimo, © 2019.\r\n            </span>\r\n        </footer>\r\n    ) */\r\n}\r\n\r\nexport default Footer;","import React from 'react'\r\nimport { Tabs, Tab } from '@material-ui/core'\r\n\r\nexport default ({items, tab, changeTab}) =>\r\n\r\n    <div className='tabMenu'> \r\n        <Tabs value={tab}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            centered \r\n            onChange={changeTab}>\r\n            {items.map((item, i)=> <Tab key={i} label={item} />)}\r\n        </Tabs>\r\n    </div>\r\n\r\n\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActionArea from '@material-ui/core/CardActionArea'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport './home.css'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({  \r\n  \r\n    card: {\r\n        display: 'flex',\r\n        fontSize: '0.5rem'\r\n    },\r\n    cardDetails: {\r\n        flex: 1,\r\n        fontSize: '0.5rem'\r\n    },\r\n    cardMedia: {\r\n        width: '120px',\r\n        height: '180px'\r\n    },    \r\n    footer: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        marginTop: theme.spacing(8),\r\n        padding: theme.spacing(6, 0),\r\n    }\r\n}));\r\n\r\nconst featuredPosts = [\r\n    {\r\n        title: 'Veículos',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastre e altere os dados do veículo ou solicite sua baixa',\r\n        link: '/veiculos',\r\n        imageUrl: '/images/vehicles.jpg'\r\n    },\r\n    {\r\n        title: 'Empresas',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastre e gerencie dados de empresas, sócios e procuradores',\r\n        link: '/empresas',\r\n        imageUrl: '/images/empresas12.jpg'\r\n    },\r\n    {\r\n        title: 'Consultas',\r\n        date: '03/Dez',\r\n        description:\r\n            'Consulte e gerencie dados de veículos, seguros e empresas',\r\n        link: '/consultas',\r\n        imageUrl: '/images/consultas2.jpg'\r\n    },\r\n]\r\n\r\nexport default function () {\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n            <div\r\n                style={{\r\n                    minHeight: '83vh',\r\n                    width: '100%',\r\n                    height: 'auto',\r\n                }}>\r\n                <main className=\"homeMainPost\">\r\n                    <h1>\r\n                        SisMob - MG\r\n                    </h1>\r\n                    <h2>\r\n                        Sistema de Gestão da Mobilidade do Estado de Minas Gerais\r\n                    </h2>\r\n                </main>\r\n                <Grid container spacing={4} className={classes.cardGrid}>\r\n                    {featuredPosts.map(post => (\r\n                        <Grid item key={post.title} xs={12} md={4}>\r\n                            <CardActionArea component=\"span\" >\r\n                                <Link to={post.link} style={{ textDecoration: 'none' }}>\r\n                                    <Card className={classes.card}>\r\n                                        <div className={classes.cardDetails}>\r\n                                            <CardContent>\r\n                                                <Typography component=\"h3\" variant=\"h6\">\r\n                                                    {post.title}\r\n                                                </Typography>\r\n                                                <br />\r\n                                                <Typography variant='body2' paragraph>\r\n                                                    {post.description}\r\n                                                </Typography>\r\n                                                <Typography variant='body2' color=\"primary\">\r\n\r\n                                                    Clique aqui para {post.title}\r\n\r\n                                                </Typography>\r\n                                            </CardContent>\r\n                                        </div>\r\n                                        <Hidden xsDown>\r\n                                            <CardMedia\r\n                                                className={classes.cardMedia}\r\n                                                component=\"img\"\r\n                                                src={post.imageUrl}\r\n                                                title={post.title}\r\n                                            />\r\n                                        </Hidden>\r\n                                    </Card>\r\n                                </Link>\r\n                            </CardActionArea>\r\n                        </Grid>\r\n                    ))}\r\n                </Grid>\r\n            </div >\r\n        </React.Fragment >\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './veiculos.css'\r\n\r\nconst menuCards = [\r\n    {\r\n        title: 'Cadastro de Veículos',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastrar um novo veículo no sistema.',\r\n        imageUrl: '/images/add_new.jpg',\r\n        link: '/cadastro'\r\n    },\r\n    {\r\n        title: 'Alteração de dados',\r\n        date: '07/Nov',\r\n        description:\r\n            'Alterar dados de um veículo',\r\n        link: '/altDados',\r\n        imageUrl: '/images/pen.png'\r\n    },\r\n    {\r\n        title: 'Seguros',\r\n        date: '07/Nov',\r\n        description:\r\n            'Atualizar seguros e apólices',\r\n        link: '/altSeguro',\r\n        imageUrl: \"/images/car_insurance2.png\"\r\n    },\r\n    {\r\n        title: 'Baixa',\r\n        date: '07/Nov',\r\n        description:\r\n            'Baixa de veículos',\r\n        link: '/baixaVeiculo',\r\n        imageUrl: \"/images/remove_doc.png\"\r\n    },\r\n    {\r\n        title: 'Configurações',\r\n        date: '07/Nov',\r\n        description:\r\n            'Chassi, carrocerias, seguradoras, etc',\r\n        link: '/Config',\r\n        imageUrl: \"/images/config2.jpg\"\r\n    }\r\n]\r\n\r\nexport default function VeiculosHome(props) {\r\n    const { match } = props\r\n    return (\r\n        <div>\r\n            <div className=\"jumbotron\">\r\n                <h1>\r\n                    Veículos\r\n                </h1>\r\n                <p>\r\n                    Selecione uma das opções abaixo.\r\n                </p>\r\n            </div>\r\n            <section className=\"cardSection\">\r\n                {\r\n                    menuCards.map(({ title, link, imageUrl, description }, i) =>\r\n                        <Link to={match.url + link} key={i} className=\"card\">                            \r\n                                <span className=\"cardImage\"> <img src={imageUrl} alt=\"tst\" /> </span>\r\n                                <div className=\"cardText\">\r\n                                    <h3 >{title}</h3>\r\n                                    <p > {description}</p>\r\n                                </div>                            \r\n                        </Link>\r\n                    )}\r\n            </section>\r\n        </div >\r\n    )\r\n}\r\n","import React from 'react'\r\nimport humps from 'humps'\r\n\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { getData, insertData, updateData, updateCollection, deleteOne } from './dataActions'\r\n\r\nimport Loading from '../Utils/Loading'\r\nimport { configVehicleForm } from '../Forms/configVehicleForm'\r\n\r\nconst socketIO = require('socket.io-client')\r\nlet socket\r\n\r\nexport default function (requestArray, WrappedComponent) {\r\n\r\n    let collections = []\r\n    collections = requestArray.map(req => req.replace('getFiles/', '').replace('lookUpTable/', ''))\r\n\r\n    class With extends React.Component {\r\n\r\n        async componentDidMount() {\r\n            const { redux } = this.props\r\n            let request = []\r\n\r\n            requestArray.forEach(req => {\r\n                const colName = req.replace('getFiles/', '').replace('lookUpTable/', '')\r\n                if (!redux[colName] || !redux[colName][0]) {\r\n                    request.push(req)\r\n                }\r\n            })\r\n\r\n            if (request[0]) await this.props.getData(request)\r\n\r\n            if (!socket) socket = socketIO()\r\n            socket.on('insertVehicle', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'veiculos')\r\n            })\r\n            socket.on('insertInsurance', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'seguros')\r\n            })\r\n            socket.on('insertEmpresa', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'empresas')\r\n            })\r\n            socket.on('insertSocios', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'socios')\r\n            })\r\n            socket.on('insertProcuradores', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'procuradores')\r\n            })\r\n            socket.on('addElements', ({ insertedObjects, table }) => {\r\n                const { collection } = configVehicleForm.find(el => el.table === table)                \r\n                this.props.insertData(insertedObjects, collection)\r\n            })\r\n\r\n            socket.on('updateElements', ({ collection, updatedCollection }) => {                \r\n                this.props.updateCollection(updatedCollection, collection)\r\n            })\r\n\r\n            socket.on('updateVehicle', updatedObjects => {\r\n                this.props.updateData(updatedObjects, 'veiculos', 'veiculoId')\r\n            })\r\n            socket.on('updateInsurance', updatedObjects => {\r\n                this.props.updateCollection(updatedObjects, 'seguros')\r\n            })\r\n            socket.on('updateSocios', updatedObjects => {\r\n                this.props.updateCollection(updatedObjects, 'socios')\r\n            })\r\n\r\n            socket.on('deleteOne', object => {\r\n                const { id, tablePK, collection } = object\r\n                this.props.deleteOne(id, tablePK, collection)\r\n            })\r\n\r\n            socket.on('insertFiles', object => {\r\n                const { insertedObjects, collection } = object\r\n                console.log(object)\r\n                this.props.insertData(insertedObjects, collection)\r\n            })\r\n        }\r\n        componentWillUnmount() {\r\n            if (!socket) socket = socketIO(':3001')\r\n            const clearAll = ['insertVehicle', 'insertInsurance', 'insertEmpresa', 'insertSocios', 'insertFiles',\r\n                'insertProcuradores', 'updateVehicle', 'updateInsurance', 'updateSocios', 'deleteOne']\r\n\r\n            clearAll.forEach(el => socket.off(el))\r\n        }\r\n        render() {\r\n\r\n            collections = collections.map(c => humps.camelize(c))\r\n\r\n            if (collections.length === 0 || !collections.every(col => this.props.redux.hasOwnProperty(col))) {\r\n                return <Loading />\r\n            }\r\n            else {\r\n                return <WrappedComponent {...this.props} />\r\n            }\r\n        }\r\n    }\r\n\r\n    function mapStateToProps(state) {\r\n        return {\r\n            redux: {\r\n                ...state.data,\r\n            }\r\n        }\r\n    }\r\n\r\n    function mapDispatchToProps(dispatch) {\r\n        return bindActionCreators({ getData, insertData, updateData, updateCollection, deleteOne }, dispatch)\r\n    }\r\n\r\n    return connect(mapStateToProps, mapDispatchToProps)(With)\r\n}\r\n","import axios from 'axios'\r\nimport humps from 'humps'\r\nimport { batch } from 'react-redux'\r\n\r\nexport const getData = (collectionsArray = []) => {\r\n    return async (dispatch, getState) => {\r\n\r\n        let promiseArray = [], returnObj = {}\r\n        if (collectionsArray.length > 0) {\r\n            collectionsArray.forEach(collectionName => {\r\n                promiseArray.push(axios.get(`/api/${collectionName}`))\r\n            })\r\n\r\n            await Promise.all(promiseArray)\r\n                .then(res => res.map(r => humps.camelizeKeys(r.data)))\r\n                .then(responseArray => {\r\n                    responseArray.forEach((el, i) => {\r\n                        let key = collectionsArray[i]\r\n                            .replace('getFiles/', '')\r\n                            .replace('lookUpTable/', '')\r\n                        key = humps.camelize(key)                        \r\n                        Object.assign(returnObj, { [key]: el })\r\n                    })\r\n                })\r\n        }\r\n        dispatch({\r\n            type: 'GET_DATA',\r\n            payload: returnObj\r\n        })\r\n    }\r\n}\r\n\r\nexport const insertData = (dataFromServer, collection) => (dispatch, getState) => {\r\n    const\r\n        data = humps.camelizeKeys(dataFromServer),\r\n        payload = { collection, data },\r\n        seguradoras = getState().data.seguradoras\r\n\r\n    if (!seguradoras) {\r\n        console.log(payload)\r\n        dispatch({ type: 'INSERT_DATA', payload })\r\n        return\r\n    }\r\n\r\n    if (collection === 'seguros' && data[0].placas && data[0].placas.length === 1) {\r\n\r\n        const seguradora = seguradoras.find(sg => sg.id === data[0].seguradoraId)\r\n        let\r\n            seguro = data[0],\r\n            plates = [], vehicles = [],\r\n            veiculos = getState().data.veiculos,\r\n\r\n            updatedCollection = veiculos.map(v => {\r\n                if (v.apolice === seguro.apolice) {\r\n                    v.seguradora = seguradora.seguradora\r\n                    v.dataEmissao = seguro.dataEmissao\r\n                    v.vencimento = seguro.vencimento\r\n                }\r\n                return v\r\n            })\r\n\r\n        veiculos.forEach(v => {\r\n            if (v.apolice === seguro.apolice) {\r\n                plates.push(v.placa)\r\n                vehicles.push(v.veiculoId)\r\n            }\r\n        })\r\n        seguro.placas = plates\r\n        seguro.veiculos = vehicles\r\n        seguro = [seguro]\r\n\r\n        const collectionPayload = { data: updatedCollection, collection: 'veiculos' }\r\n        batch(() => {\r\n            dispatch({ type: 'INSERT_DATA', payload: { data: seguro, collection: 'seguros' } })\r\n            dispatch({ type: 'UPDATE_COLLECTION', payload: collectionPayload })\r\n        })\r\n    } else dispatch({ type: 'INSERT_DATA', payload })\r\n\r\n}\r\n\r\nexport const updateData = (dataFromServer, collection, id) => dispatch => {\r\n    const\r\n        data = humps.camelizeKeys(dataFromServer),\r\n        payload = { collection, data, id }\r\n    dispatch({ type: 'UPDATE_DATA', payload })\r\n}\r\n\r\nexport const updateCollection = (data, collection) => dispatch => {\r\n\r\n    data = humps.camelizeKeys(data)\r\n    const payload = { data, collection }\r\n    dispatch({\r\n        type: 'UPDATE_COLLECTION',\r\n        payload\r\n    })\r\n}\r\n\r\nexport const updateInsurance = ({ value, ids }) => (dispatch, getState) => {\r\n    const\r\n        apolice = value,\r\n        seguros = getState().data.seguros,\r\n        veiculos = getState().data.veiculos\r\n\r\n    if (!seguros || !veiculos) return\r\n\r\n    let seguro = seguros.find(s => s.apolice === apolice),\r\n        placas = seguro.placas || [], vehicleIDs = seguro.veiculos || []\r\n\r\n    veiculos.forEach(v => {\r\n        ids.forEach(id => {\r\n            if (v.veiculoId === id) {\r\n                placas.push(v.placa)\r\n                vehicleIDs.push(v.veiculoId)\r\n            }\r\n        })\r\n    })\r\n\r\n    seguro.placas = placas\r\n    seguro.veiculos = vehicleIDs\r\n    seguro = [seguro]\r\n    console.log(seguro)\r\n\r\n    const payload = { collection: 'seguros', data: seguro, id: 'apolice' }\r\n\r\n    dispatch({ type: 'UPDATE_DATA', payload })\r\n}\r\n\r\nexport const removeInsurance = (apolice, placaIndex, vehicleIndex) => dispatch => {\r\n\r\n    dispatch({\r\n        type: 'REMOVE_FROM_INSURANCE',\r\n        payload: { apolice, placaIndex, vehicleIndex }\r\n    })\r\n}\r\n\r\nexport const deleteOne = (id, tablePK, collection) => dispatch => {\r\n    tablePK = humps.camelize(tablePK)    \r\n    dispatch({\r\n        type: 'DELETE_ONE',\r\n        payload: { id, tablePK, collection }\r\n    })\r\n}","import React from 'react';\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div style={{\r\n            position: 'fixed',\r\n            top: '45%',\r\n            right: '15%',\r\n            left: '15%',\r\n            height: '50%',\r\n            marginBottom: '25px',\r\n            marginTop: '25px',\r\n            textAlign: 'center',\r\n            zIndex: 1\r\n        }}>\r\n            <img src=\"/images/loading.gif\" alt=\"\" height=\"60px\" width=\"60px\" />\r\n            <p> Carregando... </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loading","export const configVehicleForm = [\r\n\r\n    {\r\n        collection: 'equipamentos',\r\n        field: 'item',\r\n        label: 'Equipamentos',\r\n        name: 'equipamentosId',\r\n        table: 'equipamentos'\r\n    },\r\n    {\r\n        collection:'marcaCarroceria',\r\n        field: 'marca',\r\n        label: 'Marcas de Carroceria',\r\n        name:'marcaCarroceria',\r\n        table: 'marca_carroceria'\r\n    },\r\n    {\r\n        collection: 'carrocerias',\r\n        field: 'modelo',\r\n        label: 'Modelos de Carroceria',\r\n        name:'modeloCarroceria',\r\n        table: 'modelo_carroceria'\r\n    },\r\n    {\r\n        collection: 'marcaChassi',\r\n        field: 'marca',\r\n        label: 'Marcas de Chassi',\r\n        name: 'marcaChassi',\r\n        table: 'marca_chassi'\r\n    },\r\n    {\r\n        collection: 'modelosChassi',\r\n        field: 'modeloChassi',\r\n        label: 'Modelos de Chassi',\r\n        name: 'modeloChassi',\r\n        table: 'modelo_chassi'\r\n    },\r\n    {\r\n        collection: 'seguradoras',\r\n        field: 'seguradora',\r\n        label: 'Seguradoras',\r\n        name: 'seguradora',\r\n        table: 'seguradora'\r\n    }\r\n\r\n]","import moment from 'moment'\r\n\r\nexport const checkInputErrors = sendState => {\r\n\r\n    const p = document.querySelectorAll('p'),\r\n        inputs = document.querySelectorAll('input')\r\n\r\n    let label = [], errors = [],\r\n        errString = 'Favor verificar o preenchimento dos seguintes campos: '\r\n\r\n    if (p) {\r\n        p.forEach(el => {\r\n            if (el.textContent === 'Valor inválido' || el.textContent === '✘') {\r\n                const parent = el.parentNode\r\n                const l = parent.querySelectorAll('label')\r\n                label.push(l[0])\r\n            }\r\n        })\r\n    }\r\n    if (inputs) {\r\n        inputs.forEach(el => {\r\n            if (el.type === 'date') {\r\n                if (!moment(el.value, 'YYYY-MM-DD', true).isValid()) {\r\n                    const parent = el.parentNode\r\n                    const l = parent.previousSibling\r\n                    label.push(l)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    if (label[0]) {\r\n        label.forEach(l => errors.push(l.textContent))\r\n        errors.forEach(e => errString += e + ', ')\r\n        errString = errString\r\n            .replace('(kg)', '')\r\n            .replace('(cm)', '')\r\n            .slice(0, -2) + '.'\r\n\r\n        if (sendState) return { openAlertDialog: true, alertType: 'inputError', customMsg: errString }\r\n        return errors\r\n    } else return null\r\n}","import React from 'react'\r\n\r\nexport default function autoComplete({ collection, datalist, value }) {\r\n    \r\n    if (value.length > 2 && typeof collection !== 'string') {\r\n        return (\r\n            <datalist id={datalist}>\r\n                {\r\n                    collection.map((item, index) => {\r\n\r\n                        return (\r\n                            <option key={index}>{item[datalist]}</option>\r\n                        )\r\n                    })}\r\n            </datalist>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n","import React, { Fragment } from 'react'\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport AutoComplete from '../Utils/autoComplete'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',\r\n        marginBottom: '2px',\r\n\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    select: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',\r\n        marginBottom: '2px',\r\n        background: '#fafafa',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    helperText: {\r\n        margin: '2px 0',\r\n        fontSize: '0.7rem'\r\n    },\r\n}))\r\n\r\nexport default function TextInput({ handleInput, handleBlur, form, data }) {\r\n\r\n    const classes = useStyles(),\r\n        { helperText } = classes\r\n\r\n    const errorHandler = (el) => {\r\n        let value = data[el.field]\r\n\r\n        if (el.type === 'number') {\r\n            if (value > el.max || value < el.min) return true\r\n            else return false\r\n        }\r\n        if (value && typeof value !== 'string') value = value.toString()\r\n        if (el.pattern && value) return data[el.field].match(el.pattern) === null\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        let value = data[el.field]\r\n        if (value && typeof value !== 'string') value = value.toString()\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return ' '\r\n    }\r\n\r\n    return form.map((el, i) =>\r\n        <Fragment key={i}>\r\n            <TextField\r\n                name={el.field}\r\n                label={el.label}\r\n                margin={el.margin}\r\n                className={classes.textField}\r\n                onChange={handleInput}\r\n                onBlur={handleBlur}\r\n                type={el.type || ''}\r\n                error={errorHandler(el)}\r\n                helperText={helper(el)}\r\n                FormHelperTextProps={{ className: helperText }}\r\n                select={el.select || false}\r\n                value={data[el.field] || ''}\r\n                disabled={el.disabled || false}\r\n                InputLabelProps={{\r\n                    className: classes.textField,\r\n                    shrink: el.type === 'date' || undefined,\r\n                    style: { fontSize: '0.7rem', fontWeight: 400, color: '#888' }\r\n                }}\r\n                inputProps={{\r\n                    style: {\r\n                        background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                        fontSize: '0.9rem', textAlign: 'center', color: '#000', width: el.width || 300, height: '7px'\r\n                    },\r\n                    value: `${data[el.field] || ''}`,\r\n                    list: el.datalist || '',\r\n                    maxLength: el.maxLength || '',\r\n                    minLength: el.minLength || '',\r\n                    max: el.max || '',\r\n                }}\r\n\r\n                multiline={el.multiline || false}\r\n                rows={el.rows || null}\r\n                variant={el.variant || 'filled'}\r\n                fullWidth={el.fullWidth || false}\r\n                SelectProps={{\r\n                    style: {\r\n                        background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                        fontSize: '0.9rem', textAlign: 'center', color: '#555', fontWeight: 400,\r\n                        width: 325, height: '44px'\r\n                    }\r\n                }}\r\n            >\r\n\r\n                {el.select === true && el.options.map((opt, i) =>\r\n                    <MenuItem key={i} value={opt} >\r\n                        {opt}\r\n                    </MenuItem>\r\n                )}\r\n\r\n\r\n            </TextField>\r\n            {el.autoComplete === true && <AutoComplete\r\n                collection={data[el.collection]}\r\n                datalist={el.datalist}\r\n                value={data[el.field] || ''}\r\n            />\r\n            }\r\n        </Fragment>\r\n    )\r\n}","export const seguroForm = [\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',        \r\n        autoComplete: true,\r\n        datalist: 'seguradora',\r\n        collection: 'seguradoras'\r\n    },\r\n    {       \r\n        field: 'apolice',\r\n        label: 'Apólice',        \r\n        autoComplete: true,\r\n        datalist: 'apolice',\r\n        collection: 'seguros',\r\n        maxLength: 25\r\n    },    \r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emissão',        \r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',        \r\n    }]","import { vistoriaForm } from './vistoriaForm'\r\nimport { seguroForm } from './seguroForm'\r\n\r\nexport const cadForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    maxLength: 8,\r\n    pattern: '[a-zA-Z]{3}[-]?[ ]?\\\\d{4}|[A-Z]{3}[-]?[ ]?[0-9]{1}[A-Z]{1}[0-9]{2}'\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    maxLength: 11,\r\n    pattern: '\\\\d{11}'\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilização',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Convencional', 'Executivo', 'Leito', 'Semi-Leito', 'Urbano']\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Número do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    datalist: 'modeloChassi',\r\n    autoComplete: true,\r\n    collection: 'modelosChassi'\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    max: Number(new Date().getFullYear()),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{ \r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,    \r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    datalist: 'modelo',\r\n    autoComplete: true,\r\n    collection: 'carrocerias'\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    max: Number(new Date().getFullYear() + 1),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{    \r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,    \r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,    \r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situação da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veículo próprio', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n}\r\n]]\r\n    .concat([seguroForm])\r\n    .concat([vistoriaForm])\r\n    .concat([[]])\r\n    .concat([[]])","export const vistoriaForm = [\r\n    {\r\n        field: 'cilindros',\r\n        label: 'Cilindros',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12,\r\n        step: 1\r\n    },\r\n    {\r\n        field: 'potencia',\r\n        label: 'Potência (cv)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 600\r\n    },\r\n    {\r\n        field: 'eixos',\r\n        label: 'Eixos',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 8\r\n    },\r\n    {\r\n        field: 'pneumaticos',\r\n        label: 'Pneumáticos',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 20\r\n    },\r\n    {\r\n        field: 'peso_dianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12000\r\n    },\r\n    {\r\n        field: 'peso_traseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 15000\r\n    },\r\n    {\r\n        field: 'poltronas',\r\n        label: 'Poltronas',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 120\r\n    },\r\n    {\r\n        field: 'piques_poltrona',\r\n        label: 'Piques poltrona',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'distancia_minima',\r\n        label: 'Distância Mínima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',        \r\n        max: 150\r\n    },\r\n    {\r\n        field: 'distancia_maxima',\r\n        label: 'Distância Máxima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    }   \r\n]","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    item: {\r\n        color: '#000',\r\n        fontSize: '0.8rem',\r\n        textAlign: 'left'\r\n    },\r\n}))\r\n\r\nexport default function AddEquipa({ data, equipamentos, handleCheck }) {\r\n    const classes = useStyles(), { item } = classes\r\n\r\n    return <Grid\r\n        container\r\n        direction=\"row\"\r\n        justify=\"space-between\"\r\n        alignItems=\"center\"\r\n    >\r\n        {\r\n            equipamentos.map((eq, i) =>\r\n                <Grid item xs={12} md={4} key={i} className={item}>\r\n                    <FormControlLabel                        \r\n                        control={\r\n                            <Checkbox                                \r\n                                checked={data[eq.item]}\r\n                                value={eq.item}\r\n                                onChange={() => handleCheck(eq.item)} />\r\n                        }\r\n                        label={\r\n                            <Typography className={item}>\r\n                                {eq.item}\r\n                            </Typography>\r\n                        }\r\n                    />\r\n                </Grid>\r\n            )\r\n        }\r\n    </Grid>\r\n}\r\n","import React from 'react'\r\n\r\nexport default function PopUp({ close, children, title, format }) {\r\n\r\n    return (\r\n        <div>\r\n            <div\r\n                style={{\r\n                    position: 'fixed',\r\n                    height: '80vh',\r\n                    top: format ? format.top : '10%',\r\n                    right: format ? format.right : '33%',\r\n                    left: format ? format.left : '33%',\r\n                    padding: '5px 0px 7px 20px',\r\n                    borderRadius: '15px',\r\n                    border: '1px solid #aaa',\r\n                    backgroundColor: 'white',\r\n                    zIndex: 10,\r\n                    boxShadow: '2px',\r\n                    overflowY: 'auto'\r\n                }}>\r\n                <div className='row'>\r\n                    <div ><h5>{title}</h5></div>\r\n                </div>\r\n                {children}\r\n                <div style={{\r\n                    position: 'absolute',\r\n                    top: '0.4%',\r\n                    right: '0.4%'\r\n                }}>\r\n                    <div>\r\n                        <i className=\"material-icons right\" title=\"Fechar\" style={{ cursor: 'pointer', color: 'red' }} onClick={close}>close</i>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        </div >\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nimport TextInput from '../Reusable Components/TextInput'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { cadForm } from '../Forms/cadForm'\r\n\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport AddEquipa from './AddEquipa'\r\nimport PopUp from '../Utils/PopUp'\r\n\r\nimport './veiculos.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: '6px'\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 400,\r\n        fontSize: '0.9rem',\r\n        textAlign: 'center'\r\n    },\r\n    selectEmpresa: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        minWidth: 350,\r\n        fontColor: '#bbb',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport default function ({ empresas, equipamentos, data, handleInput, handleBlur,\r\n    handleEquipa, handleCheck }) {\r\n    const { razaoSocial, activeStep, addEquipa,\r\n        delegatarioCompartilhado, subtitle, selectedEmpresa } = data,\r\n\r\n        classes = useStyles(), { paper, container, title, selectEmpresa,\r\n            button, formHolder } = classes\r\n\r\n    const [shared, setShared] = useState(false)\r\n\r\n    const form = cadForm[activeStep]\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <Grid>\r\n                <Paper className={paper} style={{ padding: '0 2% 0 2%' }}>\r\n                    <Grid container justify=\"center\">\r\n                        {activeStep === 0 ?\r\n                            <Grid item xs={shared ? 4 : 12} style={{ marginBottom: '15px' }}>\r\n                                <Typography className={title}> Selecione a Viação</Typography>\r\n\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        list: 'razaoSocial',\r\n                                        name: 'razaoSocial',\r\n                                        style: { textAlign: 'center', fontSize: '0.8rem' }\r\n                                    }}\r\n                                    className={selectEmpresa}\r\n                                    value={razaoSocial}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={empresas}\r\n                                    datalist='razaoSocial'\r\n                                    value={razaoSocial}\r\n                                />\r\n                            </Grid>\r\n                            :\r\n                            <div className='formTitle'>Cadastro de Veículo - {razaoSocial}</div>\r\n                        }\r\n                        {\r\n                            activeStep === 0 && shared && <Grid item xs={4} style={{ marginLeft: '30px' }}>\r\n\r\n                                <Typography className={title}> Empresa autorizada a compartilhar</Typography>\r\n\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        list: 'razaoSocial',\r\n                                        name: 'delegatarioCompartilhado',\r\n                                        style: { textAlign: 'center', fontSize: '0.8rem' }\r\n                                    }}\r\n                                    className={selectEmpresa}\r\n                                    value={delegatarioCompartilhado}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={empresas}\r\n                                    datalist='razaoSocial'\r\n                                    value={delegatarioCompartilhado}\r\n                                />\r\n                            </Grid>\r\n                        }\r\n                    </Grid>\r\n\r\n                    {\r\n                        activeStep === 0 && <Grid item xs={12}>\r\n                            <FormControlLabel\r\n                                control={\r\n                                    <Checkbox\r\n                                        checked={shared === true}\r\n                                        onChange={() => setShared(!shared)}\r\n                                        value={shared}\r\n                                    />\r\n                                }\r\n                                label={\r\n                                    <Typography style={{ color: '#2979ff', fontSize: '0.7rem', float: 'right' }}>\r\n                                        Veículo Compartilhado?\r\n                                    </Typography>\r\n                                }\r\n                            />\r\n                        </Grid>\r\n                    }\r\n\r\n                </Paper>\r\n                {\r\n                    selectedEmpresa\r\n                        ?\r\n                        <Grid item xs={12}>\r\n                            {activeStep < 3 &&\r\n                                <Paper className={paper}>\r\n                                    <div className='formSubtitle'> {subtitle[activeStep]}</div>\r\n                                    <TextInput\r\n                                        form={form}\r\n                                        data={data}\r\n                                        handleBlur={handleBlur}\r\n                                        handleInput={handleInput}\r\n                                    />\r\n                                    {activeStep === 0 &&\r\n                                        <Grid container justify=\"center\">\r\n                                            <Button\r\n                                                variant=\"outlined\"\r\n                                                size=\"small\"\r\n                                                color=\"primary\"\r\n                                                className={button}\r\n                                                onClick={handleEquipa}\r\n                                            >\r\n                                                <AddIcon />\r\n                                                Equipamentos\r\n                                            </Button>\r\n                                        </Grid>}\r\n                                    {\r\n                                        addEquipa && <PopUp close={handleEquipa} title='Equipamentos'>\r\n                                            <AddEquipa\r\n                                                equipamentos={equipamentos}\r\n                                                close={handleEquipa}\r\n                                                handleCheck={handleCheck}\r\n                                                data={data} />\r\n                                        </PopUp>\r\n                                    }\r\n                                </Paper>}\r\n                        </Grid>\r\n                        :\r\n                        <Grid container justify=\"center\">\r\n                            <div className={formHolder}></div>\r\n                        </Grid>\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","import React, { Fragment, useState, useEffect } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\n\r\nexport default function DragAndDrop({ title, name, formData, handleFiles, dropDisplay, single }) {\r\n\r\n    const [fileName, setFileName] = useState()\r\n\r\n    useEffect(() => {\r\n        if (formData && typeof formData === 'object') {\r\n            for (let pair of formData.entries()) {\r\n                if (name === pair[0]) {\r\n                    setFileName(pair[1].name)\r\n                }\r\n            }\r\n        }\r\n    }, [formData, name])\r\n\r\n    return (\r\n        <>\r\n            {title && <p className='fileInput'>{title}</p>}\r\n            <Dropzone onDrop={e => handleFiles(e, name)}>\r\n                {({ getRootProps, getInputProps }) => (\r\n                    <div className={fileName ? 'dropBox fileAttached' : single ? 'dropBox' : 'multipleDropBox'} {...getRootProps()}>\r\n                        <input {...getInputProps()} />\r\n                        {\r\n                            fileName ?\r\n                                <Fragment>\r\n                                    <div> <DescriptionOutlinedIcon className='icon' />  {fileName} </div>\r\n                                    {single &&                                        \r\n                                            <span>(clique ou arraste outro arquivo para alterar)</span>                                        \r\n                                    }\r\n                                </Fragment>\r\n                                :\r\n                                <div> <AttachFileIcon className='icon' />\r\n                                    <span>  {dropDisplay}</span>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                )}\r\n            </Dropzone>\r\n        </>\r\n    )\r\n}\r\n","export const cadVehicleFiles = [\r\n    { title: 'CRLV do Veículo', name: 'crlv' },\r\n    { title: 'Apólice do Seguro', name: 'apoliceDoc' },\r\n    { title: 'Declaração de Responsabilidade de Manutenção', name: 'declaracao' },\r\n    { title: 'Certificado de Vistoria', name: 'vistoria' },\r\n    { title: 'DAE Quitada', name: 'dae' },\r\n    { title: 'Laudo de Pesagem', name: 'pesagem' },\r\n    { title: 'Laudo de Vistoria INMETRO', name: 'inmetro' },    \r\n]","export const altDadosFiles = [\r\n    { title: 'Documento de Transferência', name: 'transferenciaDoc' },\r\n    { title: 'Declaração de Responsabilidade de Manutenção', name: 'declaracao' },\r\n    { title: 'Certificado de Vistoria', name: 'vistoria' },\r\n    { title: 'DAE Quitada', name: 'dae' },\r\n    { title: 'Laudo de Pesagem', name: 'pesagem' },\r\n    { title: 'CRLV com nova placa', name: 'newPlateDoc' },\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { altDadosFiles } from '../Forms/altDadosFiles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    root: {\r\n        flexGrow: '1',\r\n        margin: '5px',\r\n        padding: '8px',\r\n    },\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 14px 0',\r\n        height: 'auto',\r\n        minHeight: '350px'\r\n    },\r\n    sendButton: {\r\n        margin: '3% 0 3% 0',\r\n        backgroundColor: 'teal',\r\n        float: 'right'\r\n    },\r\n    text: {\r\n        textAlign: 'left',\r\n        margin: theme.spacing(2),\r\n        fontSize: '0.9rem',\r\n        fontWeight: '500',\r\n        color: '#333'\r\n    },\r\n    item: {\r\n        marginTop: '10px',\r\n        padding: '0 5px'\r\n    }\r\n}))\r\n\r\nexport default function VehicleDocs({ handleFiles, parentComponent, dropDisplay, formData, insuranceExists }) {\r\n    const { root, paper, item } = useStyles()\r\n\r\n    let filesForm\r\n    if (parentComponent === 'cadastro') filesForm = cadVehicleFiles\r\n    if (parentComponent === 'altDados') filesForm = altDadosFiles\r\n    \r\n    return (\r\n        <div >\r\n            <Paper className={paper}>\r\n                <div className=\"formSubtitle\"> Anexe os documentos solicitados nos campos abaixo </div>\r\n                <Grid container className={root}>\r\n                    {filesForm.map(({ title, name }, k) =>\r\n                        name === 'apoliceDoc' && insuranceExists ? null :\r\n                        <Fragment key={k}>\r\n                            <Grid item xs={10} md={4} className={item}>\r\n                                <DragAndDrop\r\n                                    title={title}\r\n                                    name={name}\r\n                                    formData={formData}\r\n                                    dropDisplay={dropDisplay}\r\n                                    handleFiles={handleFiles}\r\n                                />\r\n                            </Grid>\r\n                        </Fragment>\r\n                    )}\r\n                </Grid>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\n\r\nconst divContainer = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    alignContent: 'center',\r\n    flexWrap: 'wrap'\r\n}\r\n\r\nconst divFiles = {\r\n    textAlign: 'center',\r\n    alignItems: 'flex-start',\r\n    height: '40px',\r\n    border: '1px #ccc solid',\r\n    padding: '7px 8px 0 8px',\r\n    margin: '1% 1% 0.5% 1%',\r\n    fontSize: '0.8rem',\r\n    backgroundColor: '#f6f6f6',\r\n    borderRadius: '6px',\r\n\r\n}\r\n\r\nconst icon = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    paddingLeft: '2%'\r\n}\r\n\r\nconst fileIcon = {\r\n    verticalAlign: 'middle',\r\n    padding: '0 0% 0 2%',\r\n\r\n}\r\n\r\nexport default function ShowLocalFiles({ form, files }) {\r\n\r\n    /* let doc\r\n    if (files) doc = contratoSocial.get('contratoSocial') || new FormData() */\r\n\r\n    const createLink = (key, fileName) => {\r\n\r\n        const file = files.get(key)\r\n\r\n        const url = window.URL.createObjectURL(file);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n\r\n        if (file && (file.type === 'application/pdf' || file.type.match('image/'))) {\r\n            link.setAttribute('rel', \"noopener\")\r\n            link.setAttribute('target', \"_blank\")\r\n            link.setAttribute('title', fileName)\r\n        }\r\n        else link.setAttribute('download', fileName)\r\n        document.body.appendChild(link);\r\n        link.click();\r\n    }\r\n\r\n    let fileArray = []\r\n\r\n    if (files) for (let pair of files.entries()) {\r\n        form.forEach(({ name, title }) => {\r\n            if (name === pair[0]) {\r\n                if (pair[1] && pair[1].name)\r\n                    fileArray.push({ label: title, fieldName: name, fileName: pair[1].name })\r\n            }\r\n        })\r\n    }    \r\n    return <React.Fragment>\r\n        <div style={divContainer}>\r\n            {fileArray.map((f, i) =>\r\n                <div style={divFiles} key={i}>\r\n                    <InsertDriveFileOutlinedIcon style={fileIcon} />\r\n                    <span style={{ verticalAlign: 'middle', }}>\r\n                        {' '} {f.label}\r\n                    </span>\r\n                    <GetAppIcon style={icon}\r\n                        onClick={() => createLink(f.fieldName, f.fileName)} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    </React.Fragment >\r\n}","import React, { Fragment } from 'react'\r\n\r\nimport ShowLocalFiles from '../Utils/ShowLocalFiles'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 5px 0',\r\n        height: 'auto'\r\n    }\r\n}))\r\n\r\nexport default function Revisao({ data, parentComponent, form, filesForm, files }) {\r\n\r\n    const classes = useStyles(),\r\n        { paper } = classes\r\n\r\n    let vehicleDetails = [], obj = {}, newForm = [], filledForm = [], ultimateData\r\n    form.forEach(f => {\r\n        f.forEach(e => {\r\n            if (data.hasOwnProperty([e.field])) {\r\n                Object.assign(obj, { [e.field]: data[e.field] })\r\n                newForm.push(e)\r\n            }\r\n        })\r\n        vehicleDetails.push(obj)\r\n        filledForm.push(newForm)\r\n        obj = {}\r\n        newForm = []\r\n    })\r\n    if (parentComponent === 'cadastro') ultimateData = [\r\n        { subtitle: 'Detalhes do veículo', form: filledForm[0], data: vehicleDetails[0] },\r\n        { subtitle: 'Detalhes do seguro', form: filledForm[1], data: vehicleDetails[1] },\r\n        { subtitle: 'Informações sobre a vistoria', form: filledForm[2], data: vehicleDetails[2] },\r\n    ]\r\n\r\n    if (parentComponent === 'altDados') ultimateData = [\r\n        { subtitle: 'Detalhes do veículo', form: filledForm[0], data: vehicleDetails[0] },\r\n        { subtitle: 'Informações sobre a vistoria', form: filledForm[1], data: vehicleDetails[1] }\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <Paper className={paper}>\r\n                <div className='divTable'>\r\n                    {\r\n                        ultimateData.map(({ subtitle, form, data }, y) =>\r\n                            <Fragment key={y}>\r\n                                <table>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className='tHeader'\r\n                                                colSpan={form.length}>{subtitle}</th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            {form.map((s, i) => <th key={i}>{s.label}</th>)}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            {Object.values(data).map((d, j) =>\r\n                                                <td className='review' key={j}>\r\n                                                    {d}\r\n                                                </td>\r\n                                            )}\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n\r\n                            </Fragment>\r\n                        )}\r\n\r\n                </div>\r\n                <div style={{ margin: '30px 0 0 25px' }}>\r\n                    <h3> Equipamentos </h3>\r\n                    <p>\r\n                        {\r\n                            Array.isArray(data.equipamentosId) && data.equipamentosId &&\r\n                            data.equipamentosId.map((e, i) => <span\r\n                                style={{\r\n                                    fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana',\r\n                                    fontSize: '12px'\r\n                                }}\r\n                                key={i}>\r\n                                {i !== data.equipamentosId.length ? e + ', ' : e\r\n                                }\r\n                            </span>)\r\n                        }\r\n                    </p>\r\n                </div>\r\n\r\n\r\n                <h3 style={{ margin: '30px 0 0 25px' }}> <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} /> Documentos </h3>\r\n                {files && <ShowLocalFiles form={filesForm} files={files} />}\r\n            </Paper >\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nexport default function Crumbs({links, text}) {\r\n    return (\r\n        <Grid style={{ marginTop: '1%', paddingLeft: '1%' }}>\r\n            <Breadcrumbs separator=\"›\" aria-label=\"breadcrumb\" >\r\n                <Link\r\n                    to='/' style={{}}\r\n                >\r\n                    <HomeIcon style={{ verticalAlign: 'middle', marginRight: '5px', paddingBottom: '3px' }} />\r\n                    <span style={{ fontSize: '0.8rem', }}>\r\n                        Página inicial\r\n                    </span>\r\n\r\n                </Link>\r\n                <Link color=\"primary\" to={links[1]} style={{ fontSize: '0.8rem' }}>\r\n                    {links[0]}\r\n            </Link>\r\n                <span style={{ fontSize: '0.8rem' }} >{text}</span>\r\n            </Breadcrumbs>\r\n        </Grid>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Button } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    button: {\r\n        margin: theme.spacing(1),\r\n        float: 'right'\r\n    },\r\n    backButton: {\r\n        margin: theme.spacing(1),\r\n        float: 'left',\r\n        color: '#333',\r\n        backgroundColor: '#eee'\r\n    }\r\n}))\r\n\r\nexport default function StepperButtons({ activeStep, setActiveStep, lastStep, handleSubmit, disabled }) {\r\n    \r\n    const classes = useStyles(), { backButton, button } = classes\r\n    return (\r\n        <div>\r\n            <Button\r\n                variant=\"contained\"\r\n                className={backButton}\r\n                onClick={() => setActiveStep('back')}\r\n                disabled={activeStep === 0}\r\n            >\r\n                Voltar\r\n            </Button>\r\n            {activeStep < lastStep ?\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={button}\r\n                    onClick={() => setActiveStep('next')}\r\n                    disabled={disabled}\r\n                >\r\n                    Avançar\r\n                </Button>\r\n                :\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={button}\r\n                    onClick={() => handleSubmit()}\r\n                >\r\n                    Aprovar\r\n            </Button>}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        marginTop: '1%',\r\n    },\r\n    button: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        padding: '1% 0 0 3%',\r\n        fontWeight: 500\r\n    },\r\n}))\r\n\r\nexport default function CustomStepper({ activeStep, steps }) {\r\n\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Stepper activeStep={activeStep}>\r\n                {steps.map((label, index) => {\r\n                    const stepProps = {};\r\n                    const labelProps = {};\r\n                    return (\r\n                        <Step key={label} {...stepProps}>\r\n                            <StepLabel {...labelProps}>{label}</StepLabel>\r\n                        </Step>\r\n                    )\r\n                })}\r\n            </Stepper>\r\n        </div>\r\n    )\r\n}","import React, { Fragment } from 'react';\r\nimport clsx from 'clsx';\r\n//import { ErrorIcon, InfoIcon, Close, WarningIcon } from '@material-ui/icons/';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport { Snackbar, SnackbarContent, Icon } from '@material-ui/core';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles1 = makeStyles(theme => ({\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    icon: {\r\n        fontSize: 20,\r\n    },\r\n    iconVariant: {\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center'        \r\n    },\r\n}));\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles1();\r\n    const { className, message, onClose, variant, ...other } = props;\r\n\r\n\r\n    return (\r\n        <SnackbarContent\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <Fragment>\r\n                    <span id=\"client-snackbar\" className={classes.message}>\r\n                        <Icon>check</Icon>    {message}\r\n                    </span>\r\n                </Fragment>\r\n            }\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nexport default function CustomizedSnackbars(props) {\r\n    \r\n    return (\r\n        <div>\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                open={props.open}\r\n                autoHideDuration={2000}\r\n                onClose={props.close}\r\n            >\r\n                <MySnackbarContentWrapper\r\n                    variant=\"success\"\r\n                    message={props.msg}                    \r\n                />\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n}","export const formatMoney = (value = '') => {\r\n    let v = value.replace(/\\D/g, '');\r\n    v = (v / 100).toFixed(2) + '';\r\n    v = v.replace(\".\", \",\");\r\n    v = v.replace(/(\\d)(\\d{3})(\\d{3}),/g, \"$1.$2.$3,\");\r\n    v = v.replace(/(\\d)(\\d{3}),/g, \"$1.$2,\");\r\n    return v\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog({ open, alertType, close, confirm, customTitle = '', customMessage = '' }) {\r\n\r\n  const createAlert = type => {\r\n    let title, message\r\n    if (typeof type === 'object') {\r\n      title = 'Empresa já cadastrada'\r\n      message = `A empresa ${type.razaoSocial} já está cadastrada no sistema com o CNPJ ${type.cnpj}.`\r\n      return { title, message }\r\n    }\r\n\r\n    switch (type) {\r\n      case 'plateNotFound':\r\n        title = 'Placa não encontrada'\r\n        message = 'A placa informada não corresponde a nenhum veículo da frota da viação selecionada. Para cadastrar um novo veículo, selecione a opção Veículos => \"Cadastro de Veículo\" no menu acima.'\r\n        return { title, message }\r\n      case 'invalidPlate':\r\n        title = 'Placa inválida'\r\n        message = 'Certifique-se de que a placa informada é uma placa válida, com três letras seguidas de 4 números (ex: AAA-0000)'\r\n        return { title, message }\r\n      case 'plateExists':\r\n        title = 'Placa já cadastrada!'\r\n        message = 'A placa informada já está cadastrada. Para atualizar seguro, alterar dados ou solicitar baixa, utilize as opções acima. '\r\n        return { title, message }\r\n      case 'invalidModel':\r\n        title = 'Modelo não cadastrado.'\r\n        message = customMessage\r\n        return { title, message }\r\n      case 'inputError':\r\n        title = 'Preenchimento inválido.'\r\n        message = customMessage\r\n        return { title, message }\r\n      case 'fieldsMissing':\r\n        title = 'Favor preencher todos os campos.'\r\n        message = 'Os campos acima são de preenchimento obrigatório. Certifique-se de ter preenchido todos eles.'\r\n        return { title, message }\r\n      case 'invalidInsurance':\r\n        title = 'Favor verificar os dados do seguro.'\r\n        message = 'As informações referentes ao seguro do veículo são obrigatórias. Certifique-se de ter informado todas elas.'\r\n        return { title, message }\r\n      case 'filesNotFound':\r\n        const subject = 'Procuração'\r\n        title = 'Arquivos não encontrados'\r\n        message = `Não há nenhum arquivo anexado no sistema para a ${subject} selecionada. \r\n          Ao cadastrar ou atualizar a ${subject}, certifique-se de anexar o arquivo correspondente.`\r\n        return { title, message }\r\n\r\n      case 'empresaNotFound':\r\n        title = 'Empresa não encontrada.'\r\n        message = `A empresa informada não está registrada no sistema. Para cadastrar uma nova empresa, utilize a opção Empresas -> Cadastrar.`\r\n        return { title, message }\r\n      case 'seguradoraNotFound':\r\n        title = 'Seguradora não encontrada.'\r\n        message = `A seguradora informada não está registrada no sistema. Favor verificar o nome da seguradora.`\r\n        return { title, message }\r\n\r\n      case 'alreadyExists':\r\n        title = 'CPF já cadastrado.'\r\n        message = `O CPF informado corresponde a um sócio já cadastrado. \r\n          Para remover ou editar as informações dos sócios, utilize a respectiva opção abaixo.`\r\n        return { title, message }\r\n      case 'numberNotValid':\r\n        title = 'Número inválido.'\r\n        message = 'O número digitado não é válido.'\r\n        return { title, message }\r\n      case 'overShared':\r\n        title = 'Participação societária inválida.'\r\n        message = 'A participação societária informada excede a 100%.'\r\n        return { title, message }\r\n      case 'subShared':\r\n        title = 'Participação societária inválida.'\r\n        message = 'A participação societária informada não soma 100%. Favor informar todos os sócios com suas respectivas participações.'\r\n        return { title, message }\r\n      case 'veiculoPendente':\r\n        title = 'Pendências encontradas para este veículo.'\r\n        message = 'Verifique se há alguma aprovação pendente quanto ao cadastro, seguro, transferência ou alteração de dados do veículo.'\r\n        return { title, message }\r\n      case 'seguroVencido':\r\n        title = 'Pendências encontradas para o seguro deste veículo.'\r\n        message = 'Para regularizar o seguro deste veículo, acesse a opção Veículos=>Seguros no menu acima.'\r\n        return { title, message }\r\n      case 'contratoVencido':\r\n        title = 'Contrato expirado.'\r\n        message = 'O contrato de concessão com o delegatário selecionado está expirado.'\r\n        return { title, message }\r\n      default:\r\n        return { title: null, message: null }\r\n    }\r\n  }\r\n  const { title, message } = createAlert(alertType)\r\n\r\n  if (title && message) return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={close}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {message}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={close} color=\"primary\">\r\n            {confirm ? 'Cancelar' : 'Fechar'}\r\n          </Button>\r\n          {confirm && <Button onClick={close} color=\"primary\" autoFocus>\r\n            Confirmar\r\n          </Button>}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n  else return null\r\n}","import React, { PureComponent, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport moment from 'moment'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport CadVeiculoTemplate from './CadVeiculoTemplate'\r\nimport VehicleDocs from './VehicleDocs'\r\nimport Review from './VehicleReview'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport StepperButtons from '../Utils/StepperButtons'\r\nimport CustomStepper from '../Utils/Stepper'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport { formatMoney } from '../Utils/formatMoney'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { cadForm } from '../Forms/cadForm'\r\n\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass VeiculosContainer extends PureComponent {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        activeStep: 0,\r\n        steps: ['Dados do Veículo', 'Dados do seguro', 'Vistoria e laudos', 'Documentos', 'Revisão'],\r\n        subtitle: ['Informe os dados do Veículo', 'Informe os dados do Seguro',\r\n            'Preencha os campos abaixo conforme a vistoria realizada'],\r\n        razaoSocial: '',\r\n        frota: [],\r\n        delegatarioCompartilhado: '',\r\n        toastMsg: 'Veículo cadastrado!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        insuranceExists: false,\r\n        addEquipa: false,\r\n        openAlertDialog: false,\r\n        dropDisplay: 'Clique ou arraste para anexar'\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n        const { redux } = this.props,\r\n            { modelosChassi, carrocerias, seguradoras } = redux\r\n        let equipamentos = {}\r\n\r\n        if (redux && redux.equipamentos) {\r\n            redux.equipamentos.forEach(e => Object.assign(equipamentos, { [e.item]: false }))\r\n            const equipArray = Object.keys(equipamentos)\r\n            await this.setState({\r\n                modelosChassi, carrocerias, seguradoras, equipamentos: equipArray, ...equipamentos,\r\n                allInsurances: this.props.redux['seguros']\r\n            })\r\n        }\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n\r\n        if (this.state.activeStep === 0) {\r\n            const matchPlaca = this.state.frota.filter(v => v.placa === this.state.placa)[0]\r\n            if (matchPlaca) {\r\n                await this.setState({ placa: '' });\r\n                this.setState({ alertType: 'plateExists', openAlertDialog: true })\r\n                return null\r\n            }\r\n        }\r\n\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n\r\n        let array = []\r\n        const { equipamentos } = this.state\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n\r\n        if (prevActiveStep === 1) {\r\n            equipamentos.forEach(e => {\r\n                if (this.state[e] === true) {\r\n                    array.push(e)\r\n                }\r\n            })\r\n            if (array[0]) this.setState({ equipamentosId: array })\r\n            else this.setState({ equipamentosId: [] })\r\n        }\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { veiculos, empresas } = this.props.redux,\r\n            { allInsurances, apolice, seguradora, dataEmissao, vencimento } = this.state,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n\r\n                let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n                if (selectedEmpresa) {\r\n                    const { razaoSocial, delegatarioId } = selectedEmpresa\r\n                    await this.setState({ selectedEmpresa, razaoSocial, delegatarioId })\r\n                    if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                    const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n                    const filteredInsurances = allInsurances.filter(seguro => seguro.empresa === this.state.razaoSocial)\r\n\r\n                    this.setState({ frota, seguros: filteredInsurances })\r\n\r\n                } else this.setState({ selectedEmpresa: undefined, frota: [], placa: undefined, apolice: undefined })\r\n                break\r\n\r\n            case 'placa':\r\n                if (typeof value === 'string') {\r\n                    value = value.toLocaleUpperCase()\r\n                    await this.setState({ [name]: value })\r\n                }\r\n                break\r\n\r\n            case ('apolice' || 'seguradora'): {\r\n                const\r\n                    { seguros } = this.props.redux,\r\n                    { selectedEmpresa } = this.state,\r\n                    s = [...seguros.filter(se => se.delegatarioId === selectedEmpresa.delegatarioId)]\r\n\r\n                let insuranceExists,\r\n                    testApolice = { ...s.find(s => s[name] === value) },\r\n                    testSeguradora = { ...s.find(s => s[name] === value && s.apolice === this.state.apolice) }\r\n\r\n                if (name === 'apolice') insuranceExists = testApolice\r\n                if (name === 'seguradora') insuranceExists = testSeguradora\r\n\r\n                if (insuranceExists && insuranceExists.dataEmissao && insuranceExists.vencimento) {\r\n\r\n                    const dataEmissao = moment(insuranceExists.dataEmissao).format('YYYY-MM-DD'),\r\n                        vencimento = insuranceExists.vencimento.toString().slice(0, 10),\r\n                        seguradora = insuranceExists.seguradora\r\n                    await this.setState({ seguradora, dataEmissao, vencimento, insuranceExists })\r\n                    return\r\n                }\r\n                if (Object.keys(insuranceExists).length === 0) {\r\n                    let newInsurance = {}\r\n                    Object.assign(newInsurance,\r\n                        {\r\n                            empresa: selectedEmpresa.razaoSocial,\r\n                            delegatarioId: selectedEmpresa.delegatarioId,\r\n                            apolice, seguradora, dataEmissao, vencimento, placas: [], veiculos: []\r\n                        })\r\n                    await this.setState({ newInsurance, insuranceExists: false, dataEmissao: '', vencimento: '' })\r\n                }\r\n                break\r\n            }\r\n            case ('valorChassi'):                \r\n                this.setState({ [name]: formatMoney(value) })\r\n                break\r\n            case ('valorCarroceria'):                \r\n                this.setState({ [name]: formatMoney(value) })\r\n                break\r\n                \r\n            default: void 0\r\n        }\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId, alertLabel) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            this.setState({\r\n                alertType: 'invalidModel', openAlertDialog: true,\r\n                customMsg: `O modelo de ${alertLabel} não está cadastrado no sistema.`\r\n            })\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const\r\n            { empresas, seguros } = this.props.redux,\r\n            { frota, modelosChassi, carrocerias, seguradoras, allInsurances } = this.state,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n            case 'modeloChassi':\r\n                this.getId(name, value, modelosChassi, 'modeloChassiId', 'modeloChassi', 'id', 'chassi')\r\n                break;\r\n            case 'modeloCarroceria':\r\n                this.getId(name, value, carrocerias, 'modeloCarroceriaId', 'modelo', 'id', 'carroceria')\r\n                break;\r\n            case 'delegatarioCompartilhado':\r\n                this.getId(name, value, empresas, 'compartilhadoId', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            case 'seguradora':\r\n                await this.getId(name, value, seguradoras, 'seguradoraId', 'seguradora', 'id', 'Seguradora')\r\n                let filteredInsurances = []\r\n\r\n                if (this.state.delegatarioId && this.state.seguradora === '') {\r\n                    filteredInsurances = allInsurances.filter(s => s.delegatarioId === this.state.delegatarioId)\r\n                    this.setState({ seguros: filteredInsurances })\r\n                }\r\n                if (!this.state.delegatarioId && this.state.seguradora !== '') {\r\n                    filteredInsurances = allInsurances.filter(s => s.seguradora === this.state.seguradora)\r\n                    this.setState({ seguros: filteredInsurances })\r\n                }\r\n                if (this.state.delegatarioId && this.state.seguradora !== '') {\r\n                    filteredInsurances = allInsurances\r\n                        .filter(s => s.delegatarioId === this.state.delegatarioId)\r\n                        .filter(s => s.seguradora === this.state.seguradora)\r\n                    this.setState({ seguros: filteredInsurances })\r\n                }\r\n                break\r\n            case 'apolice':\r\n                const insuranceExists = seguros.find(s => s.apolice === value)\r\n                if (insuranceExists) this.setState({ insuranceExists })\r\n                break\r\n\r\n            default: void 0\r\n        }\r\n\r\n        if (name === 'placa' && typeof this.state.frota !== 'string') {\r\n\r\n            if (value.length === 7) {\r\n                const x = value.replace(/(\\w{3})/, '$1-')\r\n                await this.setState({ placa: x })\r\n                value = x\r\n            }\r\n            if (value.length === 8) {\r\n                const x = value.replace(' ', '-')\r\n                await this.setState({ placa: x })\r\n                value = x\r\n            }\r\n            const matchPlaca = frota.find(v => v.placa === value)\r\n            if (matchPlaca) {\r\n                await this.setState({ placa: null });\r\n                value = ''\r\n                this.setState({ alertType: 'plateExists', openAlertDialog: true })\r\n                document.getElementsByName('placa')[0].focus()\r\n            }\r\n        }\r\n    }\r\n\r\n    handleCadastro = async () => {\r\n        const { anoCarroceria, equipamentosId, peso_dianteiro, peso_traseiro,\r\n            poltronas, delegatarioId, compartilhadoId, seguros, modeloChassiId,\r\n            modeloCarroceriaId, seguradoraId } = this.state,\r\n            situacao = 'Ativo',\r\n            indicadorIdade = anoCarroceria\r\n\r\n        let pbt = Number(poltronas) * 93 + (Number(peso_dianteiro) + Number(peso_traseiro))\r\n        if (isNaN(pbt)) pbt = undefined\r\n\r\n        let review = {}\r\n\r\n        cadForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                for (let k in this.state) {\r\n                    if (k === obj.field) Object.assign(review, { [k]: this.state[k] })\r\n                }\r\n            })\r\n        })\r\n\r\n        let { dataEmissao, vencimento, delegatarioCompartilhado,\r\n            modeloChassi, modeloCarroceria, seguradora, ...vReview } = review,\r\n\r\n            seguro = { apolice: review.apolice, seguradoraId, delegatarioId }\r\n\r\n        const validEmissao = moment(dataEmissao, 'YYYY-MM-DD', true).isValid(),\r\n            validVenc = moment(vencimento, 'YYYY-MM-DD', true).isValid()\r\n\r\n        if (validEmissao) seguro.dataEmissao = dataEmissao\r\n        if (validVenc) seguro.vencimento = vencimento\r\n\r\n        Object.assign(vReview, {\r\n            delegatarioId, situacao, indicadorIdade, pbt, equipamentosId,\r\n            modeloChassiId, modeloCarroceriaId\r\n        })\r\n        vReview.delegatarioCompartilhado = compartilhadoId\r\n\r\n        Object.keys(vReview).forEach(key => {\r\n            if (vReview[key] === '') delete vReview[key]\r\n        })\r\n        Object.keys(seguro).forEach(key => {\r\n            if (seguro[key] === '') delete seguro[key]\r\n        })\r\n\r\n        const vehicle = humps.decamelizeKeys(vReview)\r\n        const insurance = humps.decamelizeKeys(seguro)\r\n\r\n        const insuranceExists = seguros.filter(s => s.apolice === insurance.apolice)\r\n\r\n        if (insuranceExists[0]) {\r\n            await axios.post('/api/cadastroVeiculo', vehicle)\r\n                .then(res => {\r\n                    const veiculoId = res.data\r\n                    this.submitFiles(veiculoId)\r\n                })\r\n                .catch(err => console.log(err))\r\n            this.resetState()\r\n            this.toast()\r\n\r\n        } else if (!insuranceExists[0] && insurance.apolice !== undefined\r\n            && insurance.apolice.length > 2 && insurance.seguradora_id !== undefined) {\r\n            let veiculoId\r\n            await axios.post('/api/cadastroVeiculo', vehicle)\r\n                .then(res => {\r\n                    console.log(res)\r\n                    veiculoId = res.data\r\n                    this.submitFiles(veiculoId)\r\n                })\r\n                .catch(err => console.log(err))\r\n            await axios.post('/api/cadSeguro', insurance)\r\n                .then((res) => console.log(res.data))\r\n\r\n            const body = {\r\n                table: 'veiculo',\r\n                column: 'apolice',\r\n                value: insurance.apolice,\r\n                tablePK: 'veiculo_id',\r\n                ids: [veiculoId]\r\n            }\r\n            await axios.put('/api/updateInsurances', body)\r\n                .then(res => console.log(res.data))\r\n\r\n\r\n\r\n            this.resetState()\r\n            this.toast()\r\n\r\n        } else {\r\n            this.setState({ alertType: 'invalidInsurance', openAlertDialog: true })\r\n        }\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files.length > 0) {\r\n            let\r\n                formData = new FormData(),\r\n                fn = this.state.fileNames\r\n\r\n            fn.push({ [name]: files[0].name })\r\n            await this.setState({ filesNames: fn, [name]: files[0] })\r\n\r\n            cadVehicleFiles.forEach(({ name }) => {\r\n                for (let keys in this.state) {\r\n                    if (keys.match(name)) {\r\n                        formData.append(name, this.state[name])\r\n                        if (!formData.get(keys)) formData.delete(keys)\r\n                    }\r\n                    else void 0\r\n                }\r\n            })\r\n            this.setState({ form: formData })\r\n        }\r\n    }\r\n\r\n    submitFiles = async veiculoId => {\r\n        const\r\n            { selectedEmpresa, apolice } = this.state,\r\n            { delegatarioId } = selectedEmpresa\r\n        let\r\n            newForm = new FormData(),\r\n            seguroForm = new FormData()\r\n\r\n        if (veiculoId && this.state.form) {\r\n            newForm.append('veiculoId', veiculoId);\r\n            for (let pair of this.state.form.entries()) {\r\n                if (pair[0] && pair[1]) {\r\n                    if (pair[0] === 'apoliceDoc') {\r\n                        seguroForm.append('fieldName', 'apoliceDoc')\r\n                        seguroForm.append('apolice', apolice)\r\n                        seguroForm.append('empresaId', delegatarioId)\r\n                        seguroForm.append(pair[0], pair[1])\r\n                    }\r\n                    else if (pair[1]) newForm.append(pair[0], pair[1])\r\n                }\r\n                else {\r\n                    newForm = null\r\n                    seguroForm = null\r\n                }\r\n            }\r\n        }\r\n        for (let pair of newForm.entries()) {\r\n            console.log(pair[0], pair[1])\r\n        }\r\n        if (newForm) await axios.post('/api/mongoUpload', newForm)\r\n            .then(res => console.log(res.data))\r\n            .catch(err => console.log(err))\r\n        if (seguroForm) await axios.post('/api/empresaUpload', seguroForm)\r\n            .then(res => console.log(res.data))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    showFiles = id => {\r\n\r\n        let selectedFiles = this.state.files.filter(f => f.metadata.veiculoId === id.toString())\r\n\r\n        if (selectedFiles[0]) {\r\n            this.setState({ filesCollection: selectedFiles, showFiles: true, selectedVehicle: id })\r\n\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n            this.setState({ filesCollection: [] })\r\n        }\r\n    }\r\n\r\n    resetState = () => {\r\n        const\r\n            resetState = {},\r\n            { equipamentos } = this.props.redux,\r\n            resetFiles = {},\r\n            resetEquip = {}\r\n\r\n        cadForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                Object.keys(obj).forEach(key => {\r\n                    if (key === 'field' && this.state[obj[key]]) Object.assign(resetState, { [obj[key]]: undefined })\r\n                })\r\n            })\r\n        })\r\n        cadVehicleFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: null })\r\n        })\r\n\r\n        equipamentos.forEach(e => Object.assign(resetEquip, { [e.item]: false }))\r\n\r\n        this.setState({\r\n            ...resetState,\r\n            ...resetFiles,\r\n            ...resetEquip,\r\n            activeStep: 0,\r\n            razaoSocial: '',\r\n            selectedEmpresa: undefined,\r\n            frota: [],\r\n            delegatarioCompartilhado: '',\r\n            files: [],\r\n            fileNames: [],\r\n            insuranceExists: false,\r\n            form: new FormData()\r\n        })\r\n    }\r\n\r\n    handleCheck = item => this.setState({ ...this.state, [item]: !this.state[item] })\r\n    handleEquipa = () => this.setState({ addEquipa: !this.state.addEquipa })\r\n    toggleDialog = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const\r\n            { confirmToast, toastMsg, activeStep, openAlertDialog, alertType, steps,\r\n                selectedEmpresa, placa, dropDisplay, form, insuranceExists } = this.state,\r\n            { empresas, equipamentos } = this.props.redux\r\n\r\n        return <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Cadastro de veículo' />\r\n\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <CadVeiculoTemplate\r\n                data={this.state}\r\n                empresas={empresas}\r\n                equipamentos={equipamentos}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                handleEquipa={this.handleEquipa}\r\n                handleCheck={this.handleCheck}\r\n                match={this.props.match}\r\n            />\r\n            {activeStep === 3 && <VehicleDocs\r\n                parentComponent='cadastro'\r\n                handleFiles={this.handleFiles}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n                insuranceExists={insuranceExists}\r\n            />}\r\n\r\n            {activeStep === 4 && <Review\r\n                parentComponent='cadastro' files={this.state.form}\r\n                filesForm={cadVehicleFiles} data={this.state}\r\n                form={cadForm}\r\n            />}\r\n\r\n            {selectedEmpresa && <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleCadastro}\r\n                setActiveStep={this.setActiveStep}\r\n                disabled={(typeof placa !== 'string' || placa === '')}\r\n            />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.toggleDialog} alertType={alertType} customMessage={this.state.customMsg} />}\r\n        </Fragment>\r\n    }\r\n}\r\nconst collections = ['veiculos', 'empresas', 'modelosChassi', 'carrocerias',\r\n    'seguradoras', 'seguros', 'equipamentos']\r\n\r\nexport default StoreHOC(collections, VeiculosContainer)","import { altFormVistoria } from './altFormVistoria'\r\n\r\nexport const altForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    datalist: 'placa',\r\n    autoComplete: true,\r\n    collection: 'frota',\r\n},\r\n{\r\n    field: 'delegatario',\r\n    label: 'Delegatário',\r\n    margin: 'normal',\r\n    datalist: 'razaoSocial',\r\n    autoComplete: true,\r\n    collection: 'empresas'\r\n},\r\n{\r\n    field: 'compartilhado',\r\n    label: 'Delegatário Compartilhado',\r\n    margin: 'normal',\r\n    datalist: 'razaoSocial',\r\n    autoComplete: true,\r\n    collection: 'empresas'\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilização',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Convencional', 'Executivo', 'Leito', 'Semi-Leito', 'Urbano']\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situação da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veículo próprio', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Número do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17,\r\n    disabled: true\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    disabled: true\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    disabled: true\r\n},\r\n\r\n]]\r\n    .concat([altFormVistoria])\r\n    .concat([[]])\r\n    .concat([[]])","export const altFormVistoria = [\r\n  \r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12000\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 15000\r\n    },\r\n    {\r\n        field: 'poltronas',\r\n        label: 'Poltronas',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 120\r\n    },\r\n    {\r\n        field: 'piquesPoltrona',\r\n        label: 'Piques poltrona',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'distanciaMinima',\r\n        label: 'Distância Mínima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',        \r\n        max: 150\r\n    },\r\n    {\r\n        field: 'distanciaMaxima',\r\n        label: 'Distância Máxima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    }         \r\n]","import React from 'react'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AutoComplete from '../Utils/autoComplete'\r\n\r\nimport './commonStyles.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1),\r\n        minWidth: '700px'\r\n    }\r\n}));\r\n\r\nexport default function SelectEmpresa(props) {\r\n\r\n    const\r\n        { empresas, handleInput, handleBlur } = props,\r\n        { razaoSocial } = props.data,\r\n        classes = useStyles(), { paper } = classes\r\n\r\n    return (\r\n        <div className='selectEmpresa'>\r\n            <Paper className={paper} style={{ padding: '0 2% 0 2%' }}>\r\n                <div className='item'>\r\n                    <h3>  Selecione a Viação </h3>\r\n                    <input\r\n                        list='razaoSocial'\r\n                        name='razaoSocial'\r\n                        className='selectEmpresa'\r\n                        value={razaoSocial}\r\n                        onChange={handleInput}\r\n                        onBlur={handleBlur}\r\n                    />\r\n                    <AutoComplete\r\n                        style={{ textAlign: 'center', width: '500px' }}\r\n                        collection={empresas}\r\n                        datalist='razaoSocial'\r\n                        value={razaoSocial}\r\n                    />\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Fragment } from 'react'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AddEquipa from './AddEquipa'\r\nimport PopUp from '../Utils/PopUp'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { altForm } from '../Forms/altForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1)\r\n    },\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 300,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, data, handleCheck, handleEquipa,\r\n    altPlacaOption, showAltPlaca, empresas, equipamentos }) {\r\n    const { activeStep, subtitle, placa, justificativa, selectedEmpresa, addEquipa } = data,\r\n        classes = useStyles(), { paper, container } = classes\r\n\r\n    let form = altForm[activeStep]\r\n\r\n    return (\r\n        <Fragment>\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                className={container}\r\n                justify=\"center\"\r\n            >\r\n                {activeStep === 0 &&\r\n                    <SelectEmpresa\r\n                        data={data}\r\n                        empresas={empresas}\r\n                        handleInput={handleInput}\r\n                        handleBlur={handleBlur}\r\n                    />\r\n                }\r\n                {\r\n                    selectedEmpresa ?\r\n                        <Grid item xs={12}>\r\n                            {activeStep < 3 &&\r\n                                <Paper className={paper}>\r\n                                    <h3 className='formSubtitle'> {subtitle[activeStep] + (placa && activeStep !== 0 ? ' - placa ' + placa : '')}</h3>\r\n\r\n                                    <TextInput\r\n                                        form={form}\r\n                                        data={data}\r\n                                        handleBlur={handleBlur}\r\n                                        handleInput={handleInput}\r\n                                    />\r\n                                </Paper>}\r\n\r\n                            {activeStep === 0 &&\r\n                                <Grid container justify=\"center\">\r\n                                    <Button\r\n                                        variant=\"outlined\"\r\n                                        size=\"small\"\r\n                                        color=\"primary\"\r\n                                        className={classes.button}\r\n                                        onClick={handleEquipa}\r\n                                    >\r\n                                        <AddIcon />\r\n                                        Equipamentos\r\n                                        </Button>\r\n                                </Grid>}\r\n\r\n                            {altPlacaOption && placa.match('[a-zA-Z]{3}[-]?\\\\d{4}') &&\r\n                                <div className='addNewDiv'>\r\n                                    <span onClick={() => showAltPlaca()}> → Clique aqui para alterar a placa para o formato Mercosul.</span>\r\n                                </div>\r\n                            }\r\n                            {\r\n                                addEquipa && <PopUp close={handleEquipa} title='Equipamentos'>\r\n                                    <AddEquipa\r\n                                        equipamentos={equipamentos}\r\n                                        close={handleEquipa}\r\n                                        handleCheck={handleCheck}\r\n                                        data={data} />\r\n                                </PopUp>\r\n                            }\r\n                        </Grid>\r\n                        :\r\n                        <Grid container justify=\"center\">\r\n                            <div className={classes.formHolder}></div>\r\n                        </Grid>\r\n                }\r\n            </Grid>\r\n            {activeStep === 1 && <Grid\r\n                container\r\n                direction=\"row\"\r\n                justify=\"center\"\r\n                alignItems=\"center\">\r\n                <Grid>\r\n                    <TextField\r\n                        name='justificativa'\r\n                        value={justificativa}\r\n                        label='Justificativa'\r\n                        type='text'\r\n                        onChange={handleInput}\r\n                        InputLabelProps={{ shrink: true, style: { fontWeight: 600, marginBottom: '5%' } }}\r\n                        inputProps={{ style: { paddingBottom: '2%', width: '900px' } }}\r\n                        multiline\r\n                        rows={4}\r\n                        variant='outlined'\r\n                    />\r\n                </Grid>\r\n            </Grid>}\r\n        </Fragment>\r\n    )\r\n}   ","import React from 'react';\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog({ open, close, handleInput, handleFiles,\r\n  updatePlate, newPlate, formData, dropDisplay }) {\r\n\r\n  const errorHandler = nPlate => {\r\n\r\n    if (nPlate.length < 9 && nPlate.match('[a-zA-Z]{3}?[-]\\\\d{1}\\\\w{1}\\\\d{2}')) return false\r\n    else return true\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={open} onClose={close} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Alterar Placa</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Para alterar a placa do veículo para o padrãop Mercosul, digite a placa no campo abaixo e anexe o CRLV atualizado do veículo.\r\n              </DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            name='newPlate'\r\n            label=\"Nova placa\"\r\n            type=\"text\"\r\n            onChange={handleInput}\r\n            value={newPlate}\r\n            error={errorHandler(newPlate)}\r\n            fullWidth\r\n          />\r\n          <br /><br /><br />\r\n          <DragAndDrop\r\n            title='Nova placa'\r\n            name='newPlateDoc'\r\n            formData={formData}\r\n            dropDisplay={dropDisplay}\r\n            handleFiles={handleFiles}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={close} color=\"primary\">\r\n            Cancelar\r\n              </Button>\r\n          <Button onClick={updatePlate} color=\"primary\" disabled={errorHandler(newPlate)}>\r\n            Confirmar\r\n              </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport ReactToast from '../Utils/ReactToast'\r\nimport { altDadosFiles } from '../Forms/altDadosFiles'\r\nimport { altForm } from '../Forms/altForm'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport CustomStepper from '../Utils/Stepper'\r\n\r\nimport AltDadosTemplate from './AltDadosTemplate'\r\nimport VehicleDocs from './VehicleDocs'\r\nimport Review from './VehicleReview'\r\nimport StepperButtons from '../Utils/StepperButtons'\r\n\r\nimport FormDialog from '../Utils/FormDialog'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass AltDados extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        stepTitles: ['Informe a placa para alterar os dados abaixo ou mantenha as informações atuais e clique em avançar',\r\n            'Altere os dados desejados abaixo e clique em avançar', 'Anexe os documentos solicitados',\r\n            'Revisão das informações e deferimento'],\r\n        steps: ['Alterar dados do Veículo', 'Alterar dados adicionais', 'Documentos', 'Revisão'],\r\n\r\n        subtitle: ['Dados do Veículo', 'Informações adicionais',\r\n            'Anexe os arquivos solicitados', 'Revisão'],\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        delegatarioCompartilhado: '',\r\n        frota: [],\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        activeStep: 0,\r\n        files: [],\r\n        fileNames: [],\r\n        openAlertDialog: false,\r\n        altPlaca: false,\r\n        newPlate: '',\r\n        placa: '',\r\n        addEquipa: false,\r\n        dropDisplay: 'Clique ou arraste para anexar'\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { redux } = this.props\r\n        let equipamentos = {}\r\n\r\n        if (redux && redux.equipamentos) {\r\n            redux.equipamentos.forEach(e => Object.assign(equipamentos, { [e.item]: false }))\r\n            const equipArray = Object.keys(equipamentos)\r\n            await this.setState({ equipamentos: equipArray, ...equipamentos })\r\n        }\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const { veiculos, empresas } = this.props.redux,\r\n            { name, value } = e.target\r\n\r\n\r\n        if (name === 'razaoSocial') {\r\n            let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n\r\n                this.setState({ frota })\r\n\r\n            } else {\r\n                this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                this.reset()\r\n            }\r\n        }\r\n\r\n        if (name === 'placa' && this.state.frota) {\r\n            const vehicle = this.state.frota.find(v => v.placa === value)\r\n            if (!vehicle) this.state.equipamentos.forEach(e => this.setState({ [e]: false }))\r\n        }\r\n\r\n        if (name === 'newPlate') {\r\n            let newPlate = value\r\n            if (typeof newPlate === 'string') {\r\n                newPlate = newPlate.replace(/[a-z]/g, l => l.toUpperCase())\r\n                if (newPlate.match('[A-Z]{3}[0-9]{1}[A-Z]{1}[0-9]{2}')) newPlate = newPlate.replace(/(\\w{3})/, '$1-')\r\n                this.setState({ ...this.state, newPlate })\r\n            }\r\n        } else this.setState({ [name]: value })\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            this.setState({ openAlertDialog: true, alertType: 'empresaNotFound' })\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    capitalize = (field, value) => {\r\n        if (!value || typeof value !== 'string') return\r\n        if (field === 'utilizacao') {\r\n            if (value === 'RODOVIARIO') value = 'CONVENCIONAL'\r\n            if (value === 'SEMI LEITO - EXECUTIVO') value = 'Semi-Leito'\r\n            if (value !== 'Semi-Leito') value = value.charAt(0) + value.slice(1).toLowerCase()\r\n        }\r\n        if (field === 'dominio' && value === 'Sim') value = 'Veículo próprio'\r\n        if (field === 'dominio' && value === 'Não') value = 'Possuidor'\r\n\r\n        return value\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const\r\n            { empresas } = this.props.redux,\r\n            { frota, equipamentos } = this.state,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target,\r\n            vEquip = []\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n\r\n            case 'compartilhado':\r\n                this.getId(name, value, empresas, 'delegatarioCompartilhado', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            case 'delegatario':\r\n                await this.getId(name, value, empresas, 'delegatarioId', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            default:\r\n                void 0\r\n        }\r\n        if (name === 'placa' && value.length > 2 && Array.isArray(this.state.frota)) {\r\n\r\n            let vehicle = this.state.frota.find(v => {\r\n                if (typeof value === 'string') return v.placa.toLowerCase().match(value.toLowerCase())\r\n                else return v.placa.match(value)\r\n            })\r\n\r\n            if (vehicle && vehicle.equipamentosId) {\r\n                const currentEquipa = vehicle.equipamentosId\r\n                equipamentos.forEach(e => {\r\n                    if (currentEquipa.toLowerCase().match(e.toLowerCase())) vEquip.push(e)\r\n                })\r\n                vEquip.forEach(ve => this.setState({ [ve]: true }))\r\n            }\r\n\r\n\r\n\r\n            if (vehicle && vehicle.utilizacao) {\r\n                vehicle.utilizacao = this.capitalize('utilizacao', vehicle.utilizacao)\r\n            }\r\n\r\n            if (vehicle && vehicle.dominio) {\r\n                vehicle.dominio = this.capitalize('dominio', vehicle.dominio)\r\n            }\r\n\r\n            await this.setState({ ...vehicle, equipamentosId: vEquip, disable: true })\r\n\r\n            if (vehicle !== undefined && vehicle.hasOwnProperty('empresa')) this.setState({ delegatario: vehicle.empresa })\r\n\r\n            let reset = {}\r\n            if (frota[0]) Object.keys(frota[0]).forEach(k => reset[k] = '')\r\n            if (this.state.placa !== '' && !vehicle) {\r\n                this.setState({ alertType: 'plateNotFound', openAlertDialog: true })\r\n                this.setState({ ...reset, disable: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    showAltPlaca = () => {\r\n        const title = 'Alteração de placa',\r\n            message = 'Para alterar a placa para o novo padrão Mercosul, informe a nova placa no campo abaixo.'\r\n        this.setState({ altPlaca: true, title, message })\r\n    }\r\n\r\n    updatePlate = () => {\r\n        this.setState({ placa: this.state.newPlate })\r\n        this.toggleDialog()\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n        const { poltronas, pesoDianteiro, pesoTraseiro, delegatarioId,\r\n            delegatarioCompartilhado, equipamentosId, newPlate } = this.state\r\n\r\n        let tempObj = {}\r\n\r\n        altForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                for (let k in this.state) {\r\n                    if (k === obj.field && !obj.disabled) {\r\n                        if (this.state[k]) Object.assign(tempObj, { [k]: this.state[k] })\r\n                    }\r\n                }\r\n            })\r\n        })\r\n\r\n        let pbt = Number(poltronas) * 93 + (Number(pesoDianteiro) + Number(pesoTraseiro))\r\n        if (isNaN(pbt)) pbt = undefined\r\n\r\n        tempObj = Object.assign(\r\n            tempObj, { delegatarioId, delegatarioCompartilhado, pbt, equipamentosId })\r\n\r\n        tempObj = humps.decamelizeKeys(tempObj)\r\n\r\n        Object.keys(tempObj).forEach(key => {\r\n            if (tempObj[key] === '' || tempObj[key] === 'null' || !tempObj[key]) delete tempObj[key]\r\n        })\r\n\r\n        const { placa, delegatario, compartilhado, ...requestObject } = tempObj\r\n\r\n        if (newPlate && newPlate !== '') requestObject.placa = newPlate\r\n\r\n        const table = 'veiculo',\r\n            tablePK = 'veiculo_id'\r\n\r\n        await axios.put('/api/updateVehicle', { requestObject, table, tablePK, id: this.state.veiculoId })\r\n        await this.submitFiles()\r\n        this.setState({ activeStep: 0, razaoSocial: '', selectedEmpresa: undefined })\r\n        this.reset()\r\n        this.setState({})\r\n        this.toast()\r\n\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n\r\n            let formData = new FormData()\r\n            formData.append('veiculoId', this.state.veiculoId)\r\n\r\n            let fn = this.state.fileNames\r\n\r\n            if (files && files.length > 0) {\r\n\r\n                fn.push({ [name]: files[0].name })\r\n                await this.setState({ filesNames: fn, [name]: files[0] })\r\n\r\n                altDadosFiles.forEach(({ name }) => {\r\n                    for (let keys in this.state) {\r\n                        if (keys.match(name)) {\r\n                            formData.append(name, this.state[name])\r\n                        }\r\n                        else void 0\r\n                    }\r\n                })\r\n                this.setState({ form: formData })\r\n            }\r\n        }\r\n    }\r\n\r\n    submitFiles = () => {\r\n        const { form } = this.state\r\n\r\n        axios.post('/api/mongoUpload', form)\r\n            .then(res => console.log('uploaded'))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    handleCheck = async item => {\r\n        const { equipamentos } = this.state\r\n        let array = []\r\n        await this.setState({ ...this.state, [item]: !this.state[item] })\r\n\r\n        equipamentos.forEach(e => {\r\n            if (this.state[e] === true) {\r\n                array.push(e)\r\n            }\r\n        })\r\n        if (array[0]) this.setState({ equipamentosId: array })\r\n        else this.setState({ equipamentosId: [] })\r\n    }\r\n\r\n    handleEquipa = () => this.setState({ addEquipa: !this.state.addEquipa })\r\n    toggleDialog = () => this.setState({ altPlaca: !this.state.altPlaca })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    reset = () => {\r\n\r\n        let resetFiles = {}\r\n\r\n        altForm.forEach(form => form.forEach(el => this.setState({ [el.field]: '' })))\r\n        altDadosFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: undefined })\r\n        })\r\n        this.setState({ ...resetFiles, form: undefined })\r\n    }\r\n\r\n    render() {\r\n        const\r\n            { confirmToast, toastMsg, stepTitles, activeStep, steps, altPlaca,\r\n                selectedEmpresa, openAlertDialog, alertType, dropDisplay, form } = this.state,\r\n            { empresas, equipamentos } = this.props.redux\r\n\r\n        return <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Alteração de dados' />\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                stepTitles={stepTitles}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            {activeStep < 2 && <AltDadosTemplate\r\n                data={this.state}\r\n                empresas={empresas}\r\n                equipamentos={equipamentos}\r\n                setActiveStep={this.setActiveStep}\r\n                altPlacaOption={activeStep === 0}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                showAltPlaca={this.showAltPlaca}\r\n                handleEquipa={this.handleEquipa}\r\n                handleCheck={this.handleCheck}\r\n            />}\r\n            {activeStep === 2 && <VehicleDocs\r\n                parentComponent='altDados'\r\n                handleFiles={this.handleFiles}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n            />}\r\n            {activeStep === 3 && <Review\r\n                parentComponent='altDados' files={this.state.form}\r\n                filesForm={altDadosFiles} data={this.state}\r\n                form={altForm}\r\n            />}\r\n\r\n            {selectedEmpresa && <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleSubmit}\r\n                setActiveStep={this.setActiveStep}\r\n            />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            <FormDialog\r\n                open={altPlaca}\r\n                close={this.toggleDialog}\r\n                newPlate={this.state.newPlate}\r\n                handleInput={this.handleInput}\r\n                handleFiles={this.handleFiles}\r\n                updatePlate={this.updatePlate}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n            />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'equipamentos'];\r\n\r\nexport default StoreHOC(collections, AltDados)","export const seguroForm = [\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',        \r\n        autoComplete: true,\r\n        datalist: 'seguradora',\r\n        collection: 'seguradoras',\r\n        maxLength: 80\r\n    },\r\n    {       \r\n        field: 'apolice',\r\n        label: 'Apólice',        \r\n        autoComplete: true,\r\n        datalist: 'apolice',\r\n        collection: 'seguros',\r\n        maxLength: 25\r\n    },    \r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emissão'        \r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento'        \r\n    }]","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Chip from '@material-ui/core/Chip'\r\n\r\nimport Add from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Search from '@material-ui/icons/Search'\r\n\r\nimport { seguroForm } from '../Forms/altSegForm'\r\nimport './veiculos.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 400,\r\n        fontSize: '0.9rem',\r\n        textAlign: 'center',\r\n        marginBottom: '20px'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 300,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n    }\r\n}))\r\n\r\nexport default function AltSeguro({ empresas, data, enableAddPlaca, handleInput, handleBlur,\r\n    addPlate, deleteInsurance, handleFiles, handleSubmit, enableChangeApolice, showAllPlates }) {\r\n\r\n    const { selectedEmpresa, placa, apolice, addedPlaca, frota, insuranceExists,\r\n        newInsurance, dropDisplay, seguroFile } = data\r\n\r\n    const classes = useStyles(), { paper, textField, chip } = classes\r\n\r\n    let placas = []\r\n    let insurance\r\n\r\n    if (insuranceExists.hasOwnProperty('placas')) insurance = insuranceExists\r\n    else if (newInsurance && newInsurance.placas) insurance = newInsurance\r\n\r\n    if (insurance) {\r\n        if (insurance.placas[0] && insurance.placas[0] !== null) placas = insurance.placas.sort()\r\n        if (placa !== undefined && placa.length > 2 && placas[0]) {\r\n            if (typeof placa === 'string') placas = insurance.placas.filter(p => p.toLowerCase().match(placa.toLowerCase())).sort()\r\n            else placas = insurance.placas.filter(p => p.match(placa)).sort()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <div style={{ width: '100%', display: 'flex', flexDirection: 'column' }}>\r\n                <Crumbs links={['Veículos', '/veiculos']} text='Seguros' />\r\n                <SelectEmpresa\r\n                    data={data}\r\n                    empresas={empresas}\r\n                    handleInput={handleInput}\r\n                    handleBlur={handleBlur}\r\n                />\r\n                {selectedEmpresa &&\r\n                    <Paper className={paper}>\r\n                        <h3 className='formSubtitle'>Informe os dados do seguro.</h3>\r\n                        <TextInput\r\n                            form={seguroForm}\r\n                            data={data}\r\n                            handleBlur={handleBlur}\r\n                            handleInput={handleInput}\r\n                        />\r\n                        {insurance &&\r\n                            <div className='addNewDiv'>\r\n                                <span onClick={() => enableChangeApolice()}> → Clique aqui para alterar o número da apólice mantendo as placas.</span>\r\n                            </div>\r\n                        }\r\n                    </Paper>\r\n                }\r\n                {selectedEmpresa && (insurance || enableAddPlaca) &&\r\n                    <Paper className={paper}>\r\n                        <p>Utilize as opções abaixo para filtrar, adicionar ou excluir placas desta apólice</p>\r\n                        <section className='addSeguro'>\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        name: 'addedPlaca',\r\n                                        list: 'placa'\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        style: { fontSize: '0.8rem' }\r\n                                    }}\r\n                                    label='Insira a placa'\r\n                                    className={textField}\r\n                                    value={addedPlaca}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={frota}\r\n                                    datalist='placa'\r\n                                    value={addedPlaca}\r\n                                />\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    variant=\"contained\"\r\n                                    className={classes.button}\r\n                                    style={{ margin: '10px 0 10px 0' }}\r\n                                    onClick={() => addPlate(addedPlaca)}\r\n                                >\r\n                                    <Add /> Adicionar\r\n                            </Button>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        name: 'placa',\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        style: { fontSize: '0.8rem' }\r\n                                    }}\r\n                                    label='Filtrar'\r\n                                    className={textField}\r\n                                    value={placa || ''}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <Search style={{ marginTop: '18px' }} />\r\n                            </div>\r\n                            <DragAndDrop\r\n                                name='apoliceDoc'\r\n                                formData={seguroFile}\r\n                                dropDisplay={dropDisplay}\r\n                                handleFiles={handleFiles}\r\n                                single={true}\r\n                            />\r\n\r\n                        </section>\r\n\r\n                        <div className='addNewDiv' style={{ justifyContent: 'flex-start', padding: '10px' }}>\r\n                            <span onClick={() => showAllPlates()}>→ Clique aqui para selecionar placas</span>\r\n\r\n                        </div>\r\n\r\n                        {/********************************* Lista de placas vinculadas (Chips) ********************************************/}\r\n\r\n                        {insurance && insurance.placas[0]\r\n                            ?\r\n                            <div style={{ margin: '15px' }}>\r\n                                Placas vinculadas a apólice {insurance.apolice}\r\n                            </div>\r\n                            :\r\n                            <div style={{ marginTop: '30px' }}></div>\r\n                        }\r\n                        {insurance && apolice && apolice.length > 2 && placas[0] && placas.map((placa, i) =>\r\n                            <Chip\r\n                                key={i}\r\n                                label={placa}\r\n                                onDelete={() => deleteInsurance(placa)}\r\n                                className={chip}\r\n                                color='primary'\r\n                                variant=\"outlined\"\r\n                            />\r\n                        )}\r\n                    </Paper>}\r\n            </div >\r\n            {apolice && (insurance || enableAddPlaca) &&\r\n                <div style={{ minHeight: '60px', position: 'flex' }}>\r\n                    <Button\r\n                        size=\"small\"\r\n                        color='primary'\r\n                        className='saveButton'\r\n                        variant=\"contained\"\r\n                        onClick={() => handleSubmit()}\r\n                    // disabled={!placas[0] || !seguroFile ? true : false}\r\n                    >\r\n                        Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                    </Button>\r\n                </div>}\r\n        </Fragment >\r\n    )\r\n}","import React from 'react'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport '../Layouts/popUp.css'\r\n\r\nexport default function AddEquipa({ title, data, items, handleCheck, close }) {\r\n    console.log('started rendering')\r\n    return (\r\n        <div className=\"popUpWindow\">\r\n            <h3>{title} Clique em \"X\" ou pressione 'esc' para voltar</h3>\r\n            {items.map((item, i) =>\r\n                <span className=\"checkListItem\" key={i}>\r\n                    <FormControlLabel\r\n                        control={\r\n                            <Checkbox\r\n                                size='small'\r\n                                checked={data[item] === true}                              \r\n                                onChange={() => handleCheck(item)} />\r\n                        }\r\n                        label={<p className=\"checkListItem\">{item}</p>}\r\n                    />\r\n                </span>\r\n            )\r\n            }\r\n            <div style={{\r\n                position: 'absolute',\r\n                top: '0.4%',\r\n                right: '0.4%'\r\n            }}>\r\n                <div>\r\n                    <i className=\"material-icons right\" title=\"Fechar\" style={{ cursor: 'pointer', color: 'red' }} onClick={close}>close</i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function ConfigAddDialog({ open, close, title, helperMessage, marca, marcas, selectMarca, newElement, handleInput, addNewElement }) {\r\n\r\n    return (\r\n        <div>\r\n            <Dialog open={open} onClose={close} aria-labelledby=\"form-dialog-title\">\r\n                <DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        {helperMessage}\r\n                    </DialogContentText>\r\n                    <div className=\"editFields\">\r\n                        {marcas && <div className=\"configMarca\">\r\n                            <TextField\r\n                                onChange={selectMarca}\r\n                                value={marca}\r\n                                label='Selecione uma marca'\r\n                                select={true}\r\n                                InputLabelProps={{ shrink: true }}\r\n                                SelectProps={{\r\n                                    style: {\r\n                                        fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                                        width: 325, height: '44px'\r\n                                    }\r\n                                }}\r\n                            >\r\n                                {marcas.map(({ marca }, i) =>\r\n                                    <MenuItem key={i} value={marca} >\r\n                                        {marca}\r\n                                    </MenuItem>\r\n                                )}\r\n                            </TextField>\r\n                        </div>}\r\n                        <div className=\"configField\">\r\n                            <TextField\r\n                                autoFocus\r\n                                margin=\"dense\"\r\n                                name='newElement'\r\n                                label=\"Inserir\"\r\n                                type=\"text\"\r\n                                onChange={handleInput}\r\n                                value={newElement}\r\n                                fullWidth\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <br /><br /><br />\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={close} color=\"primary\">\r\n                        Cancelar\r\n              </Button>\r\n                    <Button onClick={() => addNewElement()} color=\"primary\">\r\n                        Confirmar\r\n              </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport { removeInsurance } from '../Store/dataActions'\r\n\r\nimport ReactToast from '../Utils/ReactToast'\r\nimport moment from 'moment'\r\n\r\nimport AltSeguroTemplate from './AltSeguroTemplate'\r\nimport ShowAllPlates from './ShowAllPlates'\r\nimport ConfigAddDialog from './ConfigAddDialog'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\nimport { seguroForm } from '../Forms/seguroForm'\r\n\r\nclass AltSeguro extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.openAddDialog) this.toggleDialog()\r\n                if (this.state.showAllPlates) this.setState({ showAllPlates: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        addedPlaca: '',\r\n        insuranceExists: {},\r\n        razaoSocial: '',\r\n        seguradora: '',\r\n        newPlates: [],\r\n        newVehicles: [],\r\n        toastMsg: 'Seguro atualizado!',\r\n        confirmToast: false,\r\n        dropDisplay: 'Clique ou arraste para anexar a apólice',\r\n        showAllPlates: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            seguradoras: this.props.redux['seguradoras'],\r\n            allInsurances: this.props.redux['seguros']\r\n        })\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    checkExistance = async (name, inputValue) => {\r\n\r\n        const\r\n            { seguros, veiculos } = this.props.redux,\r\n            { selectedEmpresa, newInsurance } = this.state,\r\n            s = [...seguros.filter(se => se.delegatarioId === selectedEmpresa.delegatarioId)],\r\n            frota = veiculos.filter(v => v.delegatarioId === selectedEmpresa.delegatarioId)\r\n\r\n        let insuranceExists,\r\n            testApolice = { ...s.find(s => s[name] === inputValue) },\r\n            testSeguradora = { ...s.find(s => s[name] === inputValue && s.apolice === this.state.apolice) },\r\n            InsuranceUpdatedFrota = [],\r\n            updatedPlates = [],\r\n            updatedVehicles = []\r\n\r\n        if (name === 'apolice') {\r\n            insuranceExists = testApolice\r\n            InsuranceUpdatedFrota = frota.filter(v => v.apolice === inputValue)\r\n\r\n            if (newInsurance && newInsurance.apolice && newInsurance.apolice !== inputValue) {\r\n                this.setState({ newInsurance: false, dataEmissao: '', vencimento: '' })\r\n            }\r\n        }\r\n\r\n        if (name === 'seguradora') {\r\n            insuranceExists = testSeguradora\r\n            InsuranceUpdatedFrota = frota.filter(v => v.apolice === this.state.apolice)\r\n        }\r\n        if (insuranceExists && insuranceExists.dataEmissao && insuranceExists.vencimento) {\r\n            InsuranceUpdatedFrota.forEach(v => {\r\n                updatedPlates.push(v.placa)\r\n                updatedVehicles.push(v.veiculoId)\r\n            })\r\n\r\n            insuranceExists.placas = updatedPlates\r\n            insuranceExists.veiculos = updatedVehicles\r\n\r\n            const dataEmissao = moment(insuranceExists.dataEmissao).format('YYYY-MM-DD'),\r\n                vencimento = insuranceExists.vencimento.toString().slice(0, 10),\r\n                { seguradora, seguradoraId } = insuranceExists\r\n            await this.setState({ seguradora, seguradoraId, dataEmissao, vencimento, insuranceExists })\r\n            return\r\n        }\r\n        if (Object.keys(insuranceExists).length === 0) this.setState({ insuranceExists: false, dataEmissao: '', vencimento: '' })\r\n    }\r\n\r\n    handleInput = async e => {\r\n\r\n        let { value } = e.target\r\n        const\r\n            { name } = e.target,\r\n            { veiculos, empresas, seguradoras } = this.props.redux,\r\n            { allInsurances, selectedEmpresa, frota, insuranceExists, apolice, dataEmissao,\r\n                vencimento, newInsurance, seguradora } = this.state\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n                let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n                if (selectedEmpresa) {\r\n                    await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                    if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n                    const\r\n                        frota = veiculos.filter(v => v.empresa === this.state.razaoSocial),\r\n                        filteredInsurances = allInsurances.filter(seguro => seguro.empresa === this.state.razaoSocial),\r\n                        allPlates = frota.map(vehicle => vehicle.placa).sort()\r\n\r\n                    this.setState({ frota, seguros: filteredInsurances, allPlates })\r\n\r\n                } else {\r\n                    this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                    this.clearFields()\r\n                }\r\n                break\r\n\r\n            case 'apolice':\r\n                this.checkExistance('apolice', value)\r\n                break\r\n\r\n            case 'seguradora':\r\n                this.checkExistance(name, value)\r\n                const selectedSeguradora = seguradoras.find(sg => sg.seguradora === value)\r\n                if (selectedSeguradora) {\r\n                    this.setState({ seguradoraId: selectedSeguradora.id })\r\n                }\r\n                break\r\n\r\n            case 'addedPlaca':\r\n                const vehicleFound = frota.find(v => v.placa === value)\r\n                if (vehicleFound) this.setState({ vehicleFound })\r\n                break;\r\n            default:\r\n                void 0\r\n        }\r\n\r\n        // *************NEW INSURANCE CHECK / UPDATE STATE****************\r\n\r\n        const fields = ['seguradora', 'apolice', 'dataEmissao', 'vencimento']\r\n        const checkFields = fields.every(f => this.state[f] && this.state[f] !== '')\r\n\r\n        if (name !== 'razaoSocial' && !newInsurance && checkFields && Object.keys(insuranceExists).length === 0) {\r\n            let newInsurance = {}, seguradoraId\r\n            const selectedSeguradora = seguradoras.find(sg => sg.seguradora === this.state.seguradora)\r\n            if (selectedSeguradora) seguradoraId = selectedSeguradora.id\r\n\r\n            Object.assign(newInsurance,\r\n                {\r\n                    empresa: selectedEmpresa.razaoSocial,\r\n                    delegatarioId: selectedEmpresa.delegatarioId,\r\n                    apolice, seguradora, seguradoraId, dataEmissao, vencimento, placas: [], veiculos: []\r\n                })\r\n\r\n            await this.setState({ newInsurance, seguradoraId })\r\n        }\r\n    }\r\n\r\n    handleBlur = e => {\r\n\r\n        const\r\n            { seguradoras } = this.props.redux,\r\n            { seguradora, allInsurances, selectedEmpresa } = this.state,\r\n            { name } = e.target\r\n\r\n        if (name === 'seguradora') {\r\n            let filteredInsurances = []\r\n\r\n            const valid = seguradoras.find(s => s.seguradora.toLowerCase().match(seguradora.toLowerCase()))\r\n            if (valid && seguradora.length > 2) this.setState({ seguradora: valid.seguradora })\r\n            if (!valid && seguradora.length > 2) this.setState({ openAlertDialog: true, alertType: 'seguradoraNotFound', seguradora: undefined })\r\n\r\n            if (selectedEmpresa && !seguradora) {\r\n                filteredInsurances = allInsurances.filter(seguro => seguro.empresa === selectedEmpresa.razaoSocial)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n            else if (!selectedEmpresa && seguradora !== '') {\r\n                filteredInsurances = allInsurances.filter(s => s.seguradora === seguradora)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n            else if (selectedEmpresa && seguradora !== '') {\r\n                filteredInsurances = allInsurances\r\n                    .filter(seg => seg.empresa === selectedEmpresa.razaoSocial)\r\n                    .filter(seg => seg.seguradora === seguradora)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n        }\r\n        if (name === 'dataEmissao' || name === 'vencimento') {\r\n            const errors = checkInputErrors()\r\n            if (errors) this.setState({ errors })\r\n            else this.setState({ errors: undefined })\r\n        }\r\n    }\r\n    showAllPlates = () => {\r\n       \r\n        const\r\n            { insuranceExists, newInsurance, allPlates } = this.state\r\n\r\n        let placas, veiculos, allPlatesObj = {}\r\n        if (insuranceExists) [placas, veiculos] = [insuranceExists.placas, insuranceExists.veiculos]\r\n        if (newInsurance) [placas, veiculos] = [newInsurance.placas, newInsurance.veiculos]\r\n\r\n        allPlates.forEach(p => {\r\n            Object.assign(allPlatesObj, { [p]: false })\r\n        })\r\n        placas.forEach(p => {\r\n            Object.assign(allPlatesObj, { [p]: true })\r\n        })\r\n\r\n        this.setState({ allPlatesObj, insuredPlates: placas, showAllPlates: !this.state.showAllPlates })\r\n    }\r\n\r\n    handleCheck = async plate => {\r\n\r\n        const\r\n            { insuranceExists, newInsurance } = this.state\r\n\r\n        let placas, veiculos, insurance, stateKey,\r\n            allPlatesObj = { ...this.state.allPlatesObj }\r\n\r\n        if (insuranceExists) {\r\n            [placas, veiculos] = [insuranceExists.placas, insuranceExists.veiculos]\r\n            insurance = { ...this.state.insuranceExists }\r\n            stateKey = 'insuranceExists'\r\n        }\r\n        if (newInsurance) {\r\n            [placas, veiculos] = [newInsurance.placas, newInsurance.veiculos]\r\n            insurance = { ...this.state.newInsurance }\r\n            stateKey = 'newInsurance'\r\n        }\r\n\r\n        if (placas.includes(plate)) {\r\n            placas = placas.filter(p => p !== plate)\r\n            insurance.placas = placas\r\n        }\r\n        else {\r\n            placas.push(plate)\r\n            insurance.placas = placas\r\n        }\r\n\r\n        allPlatesObj[plate] = !allPlatesObj[plate]\r\n\r\n        await this.setState({ allPlatesObj, [stateKey]: insurance })\r\n    }\r\n\r\n    addPlate = async placaInput => {\r\n        const { vehicleFound, apolice } = this.state\r\n        let { insuranceExists, newInsurance } = this.state\r\n\r\n        if (!placaInput || placaInput === '') return\r\n\r\n        //Check if vehicle belongs to frota before add to insurance and  if plate already belongs to apolice\r\n        if (vehicleFound === undefined || vehicleFound.hasOwnProperty('veiculoId') === false) {\r\n            this.setState({ openAlertDialog: true, alertType: 'plateNotFound' })\r\n            return null\r\n        } else if (insuranceExists !== undefined && insuranceExists.hasOwnProperty('placas') && vehicleFound.hasOwnProperty('placa')) {\r\n            const check = insuranceExists.placas.find(p => p === vehicleFound.placa)\r\n            if (check !== undefined) {\r\n                this.setState({ openAlertDialog: true, alertType: 'plateExists' })\r\n                return null\r\n            }\r\n        }\r\n        // Add plates to rendered list\r\n        if (apolice) {\r\n            if (!insuranceExists.placas && !insuranceExists.veiculos) {\r\n\r\n                let update = { ...newInsurance }\r\n                update.placas.push(placaInput)\r\n                update.veiculos.push(vehicleFound.veiculoId)\r\n\r\n                await this.setState({\r\n                    newInsurance: update,\r\n                    newPlates: [...this.state.newPlates, placaInput],\r\n                    newVehicles: [...this.state.newVehicles, vehicleFound.veiculoId]\r\n                })\r\n\r\n            } else {\r\n                let obj = { ...insuranceExists }\r\n                let { placas, veiculos } = obj\r\n\r\n                placas.push(placaInput)\r\n                veiculos.push(vehicleFound.veiculoId)\r\n                obj.placas = placas\r\n                obj.veiculos = veiculos\r\n\r\n                await this.setState({\r\n                    insuranceExists: obj,\r\n                    newPlates: [...this.state.newPlates, placaInput],\r\n                    newVehicles: [...this.state.newVehicles, vehicleFound.veiculoId]\r\n                })\r\n            }\r\n            if (document.getElementsByName('addedPlaca')[0]) document.getElementsByName('addedPlaca')[0].focus()\r\n            this.setState({ addedPlaca: '' })\r\n        }\r\n    }\r\n\r\n    deleteInsurance = async placaInput => {\r\n\r\n        await this.setState({ vehicleFound: this.state.frota.find(v => v.placa === placaInput) })\r\n        const { vehicleFound, apolice } = this.state\r\n\r\n        let insuranceExists = { ...this.state.insuranceExists },\r\n            { placas, veiculos } = insuranceExists,\r\n            newInsurance = { ...this.state.newInsurance }\r\n\r\n        if (newInsurance && newInsurance.apolice) {\r\n            let newPlates = [...newInsurance.placas],\r\n                newVehicles = [...newInsurance.veiculos]\r\n\r\n            const\r\n                i = newPlates.indexOf(placaInput),\r\n                k = newVehicles.indexOf(vehicleFound.veiculoId)\r\n\r\n            newInsurance.placas.splice(i, 1)\r\n            newInsurance.veiculos.splice(k, 1)\r\n            await this.setState({ newInsurance })\r\n            return\r\n        }\r\n\r\n\r\n        const body = {\r\n            table: 'veiculo',\r\n            column: 'apolice',\r\n            value: 'Seguro não cadastrado',\r\n            tablePK: 'veiculo_id',\r\n            ids: [vehicleFound.veiculoId]\r\n        }\r\n\r\n        await axios.put('/api/updateInsurances', body)\r\n\r\n        const\r\n            i = placas.indexOf(placaInput),\r\n            k = veiculos.indexOf(vehicleFound.veiculoId)\r\n\r\n        await this.props.removeInsurance(apolice, i, k)\r\n\r\n        insuranceExists.placas.splice(i, 1)\r\n        insuranceExists.veiculos.splice(k, 1)\r\n\r\n        await this.setState({ insuranceExists })\r\n        return\r\n    }\r\n\r\n    updateApolice = () => {\r\n        const\r\n            { insuranceExists, dataEmissao, vencimento } = this.state,\r\n            { id, veiculos } = insuranceExists\r\n\r\n\r\n        let updatedDates = {}\r\n        const emissaoDidChange = !moment(dataEmissao).isSame(moment(insuranceExists.dataEmissao))\r\n        const vencimentoDidChange = !moment(vencimento).isSame(moment(insuranceExists.vencimento))\r\n\r\n        if (!emissaoDidChange && !vencimentoDidChange) return\r\n\r\n        if (emissaoDidChange) updatedDates.data_emissao = dataEmissao\r\n        if (vencimentoDidChange) updatedDates.vencimento = vencimento\r\n\r\n        const requestObj = {\r\n            id,\r\n            columns: Object.keys(updatedDates),\r\n            updatedDates,\r\n            vehicleIds: veiculos\r\n        }\r\n        axios.put('/api/updateApolice', requestObj)\r\n            .then(r => console.log(r.data))\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const\r\n            { seguradora, insuranceExists, newVehicles, errors, newElement } = this.state,\r\n            { veiculos } = insuranceExists\r\n        let frota = [...this.state.frota]\r\n\r\n        if (errors && errors[0]) {\r\n            this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n        if (!seguradora || seguradora === '') {\r\n            this.setState({ openAlertDialog: true, alertType: 'seguradoraNotFound', seguradora: undefined })\r\n            return\r\n        }\r\n\r\n        //Create seguro object\r\n        const { seguradoraId, apolice, dataEmissao, vencimento, selectedEmpresa } = this.state\r\n\r\n        let cadSeguro = {\r\n            apolice,\r\n            seguradora_id: seguradoraId,\r\n            delegatario_id: selectedEmpresa.delegatarioId\r\n        }\r\n\r\n        const validEmissao = moment(dataEmissao, 'YYYY-MM-DD', true).isValid(),\r\n            validVenc = moment(vencimento, 'YYYY-MM-DD', true).isValid()\r\n\r\n        if (validEmissao) cadSeguro.data_emissao = dataEmissao\r\n        if (validVenc) cadSeguro.vencimento = vencimento\r\n\r\n        //Create a new insurance\r\n        if (!insuranceExists) await axios.post('/api/cadSeguro', cadSeguro)\r\n        //else just update the dates\r\n        if (insuranceExists) await this.updateApolice()\r\n\r\n\r\n        //Define body and post VehicleUpdate\r\n        let body = {\r\n            table: 'veiculo',\r\n            column: 'apolice',\r\n            value: apolice,\r\n            tablePK: 'veiculo_id',\r\n            ids: newVehicles,\r\n            vehicleIds: veiculos\r\n        }\r\n\r\n        if (newElement && insuranceExists && insuranceExists.id) {\r\n            axios.put('/api/changeApoliceNumber', { id: insuranceExists.id, newApoliceNumber: newElement })\r\n        }\r\n\r\n        await axios.put('/api/updateInsurances', body)\r\n            .then(res => console.log(res.data))\r\n\r\n        frota = frota.map(v => {\r\n            newVehicles.forEach(id => {\r\n                if (v.veiculoId === id) {\r\n                    v.apolice = apolice\r\n                    return v\r\n                } else return v\r\n            })\r\n            return v\r\n        })\r\n\r\n        this.toast()\r\n        this.submitFiles()\r\n        this.clearFields()\r\n        this.setState({ newPlates: [], newVehicles: [], frota })\r\n    }\r\n\r\n    handleFiles = async file => {\r\n        let formData = new FormData()\r\n        formData.append('apoliceDoc', file[0])\r\n        await this.setState({ dropDisplay: file[0].name, seguroFile: formData })\r\n    }\r\n\r\n    submitFiles = async () => {\r\n        const { apolice, selectedEmpresa } = this.state\r\n\r\n        let seguroFormData = new FormData()\r\n\r\n        if (this.state.seguroFile) {\r\n            seguroFormData.append('fieldName', 'apoliceDoc')\r\n            seguroFormData.append('apolice', apolice)\r\n            seguroFormData.append('empresaId', selectedEmpresa.delegatarioId)\r\n            for (let pair of this.state.seguroFile.entries()) {\r\n                seguroFormData.append(pair[0], pair[1])\r\n            }\r\n            await axios.post('/api/empresaUpload', seguroFormData)\r\n                .then(r => console.log(r.data))\r\n            this.toast()\r\n        }\r\n    }\r\n\r\n\r\n    addNewElement = () => this.setState({ apolice: this.state.newElement, openAddDialog: false })\r\n    toggleDialog = () => this.setState({ openAddDialog: !this.state.openAddDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    clearFields = () => {\r\n        this.setState({\r\n            insuranceExists: '', seguradora: '', newInsurance: '',\r\n            apolice: '', dataEmissao: '', vencimento: '', seguroFile: null,\r\n            dropDisplay: 'Clique ou arraste para anexar a apólice'\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const\r\n            { openAlertDialog, alertType, openAddDialog, showAllPlates, allPlates, allPlatesObj } = this.state,\r\n            { empresas } = this.props.redux\r\n\r\n        const enableAddPlaca = seguroForm\r\n            .every(k => this.state.hasOwnProperty(k.field) && this.state[k.field] !== '')\r\n\r\n        return (\r\n            <Fragment>\r\n                <AltSeguroTemplate\r\n                    data={this.state}\r\n                    empresas={empresas}\r\n                    enableAddPlaca={enableAddPlaca}\r\n                    handleInput={this.handleInput}\r\n                    handleBlur={this.handleBlur}\r\n                    addPlate={this.addPlate}\r\n                    deleteInsurance={this.deleteInsurance}\r\n                    enableChangeApolice={this.toggleDialog}\r\n                    handleFiles={this.handleFiles}\r\n                    handleSubmit={this.handleSubmit}\r\n                    showAllPlates={this.showAllPlates}\r\n                />\r\n                {openAddDialog && <ConfigAddDialog\r\n                    open={openAddDialog}\r\n                    close={this.toggleDialog}\r\n                    title='Alterar número da apólice'\r\n                    helperMessage='Informe o número atualizado da apólice.'\r\n                    handleInput={this.handleInput}\r\n                    addNewElement={this.addNewElement}\r\n                />}\r\n                {\r\n                    showAllPlates &&\r\n                    <ShowAllPlates\r\n                        items={allPlates}\r\n                        close={this.showAllPlates}\r\n                        title='Selecione as placas para adicionar à apólice.'\r\n                        handleCheck={this.handleCheck}\r\n                        data={allPlatesObj} />\r\n                }\r\n\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'seguradoras', 'seguros']\r\n\r\nexport default connect(null, { removeInsurance })(StoreHOC(collections, AltSeguro))","export const baixaForm = [\r\n    {\r\n        field: 'placa',\r\n        label: 'Placa',      \r\n        datalist: 'placa',\r\n        autoComplete: true,\r\n        collection: 'frota',\r\n        maxLength: 8\r\n    },\r\n    {\r\n        field: 'renavam',\r\n        label: 'Renavam',        \r\n    },\r\n    {\r\n        field: 'nChassi',\r\n        label: 'Número do Chassi',        \r\n        maxLength: 17,\r\n    },\r\n    {\r\n        field: 'delegatario',\r\n        label: 'Delegatário',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilização',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'dominio',\r\n        label: 'Situação da Propriedade',        \r\n        disabled: true\r\n    },\r\n\r\n    {\r\n        field: 'marcaChassi',\r\n        label: 'Marca do Chassi',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloChassi',\r\n        label: 'Modelo do Chassi',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'marcaCarroceria',\r\n        label: 'Marca da Carroceria',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloCarroceria',\r\n        label: 'Modelo da Carroceria',        \r\n        disabled: true\r\n    },\r\n    {\r\n        type: 'number',\r\n        field: 'indicadorIdade',\r\n        label: 'Ano',        \r\n        disabled: true\r\n    }\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport { baixaForm } from '../Forms/baixaForm'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport { Send } from '@material-ui/icons'\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nimport './veiculos.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1),\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, handleCheck, handleSubmit, data, empresas }) {\r\n    const { razaoSocial, frota, checked, delegaTransf, justificativa } = data,\r\n        classes = useStyles(), { paper, container, formHolder } = classes\r\n\r\n    return (\r\n        <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Baixa de veículo' />\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}\r\n                handleBlur={handleBlur}\r\n            />\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                className={container}\r\n                justify=\"center\"\r\n            >\r\n                {razaoSocial && frota[0] &&\r\n                    <Grid item xs={12}>\r\n                        <Paper className={paper}>\r\n                            <Typography className='formSubtitle'>Informe os dados para a baixa</Typography>\r\n                            <TextInput\r\n                                form={baixaForm}\r\n                                data={data}\r\n                                handleBlur={handleBlur}\r\n                                handleInput={handleInput}\r\n                            />\r\n                        </Paper>\r\n                        <Grid container\r\n                            direction=\"row\"\r\n                            justify=\"space-between\"\r\n                            alignItems=\"center\"\r\n                            style={{ width: checked === 'venda' || checked === 'outro' ? '1200px' : '600px', marginTop: '25px' }}\r\n                        >\r\n                            <Grid item xs={checked ? 6 : 12}>\r\n                                <FormControl component=\"fieldset\">\r\n                                    <FormLabel component=\"legend\">Motivo da baixa</FormLabel>\r\n                                    <RadioGroup aria-label=\"position\" name=\"position\"\r\n                                        onChange={handleCheck} row\r\n                                        style={{ width: 'auto' }}\r\n                                        className='radio'\r\n                                    >\r\n                                        <FormControlLabel\r\n                                            className='radio'\r\n                                            value=\"venda\"\r\n                                            control={<Radio color=\"primary\" />}\r\n                                            label={<span style={{ fontSize: '0.8rem' }}>{\"Venda para outra empresa do sistema\"}</span>}\r\n                                            labelPlacement=\"start\"\r\n\r\n                                        />\r\n                                        <FormControlLabel\r\n                                            value=\"outro\"\r\n                                            control={<Radio color=\"primary\" />}\r\n                                            label={<span style={{ fontSize: '0.8rem' }}>{\"Outro\"}</span>}\r\n                                            labelPlacement=\"start\"\r\n                                        />\r\n\r\n                                    </RadioGroup>\r\n                                </FormControl>\r\n                            </Grid>\r\n\r\n                            {checked === 'venda' ?\r\n                                <Grid item xs={6} >\r\n                                    <TextField\r\n                                        inputProps={{\r\n                                            list: 'razaoSocial',\r\n                                            name: 'delegaTransf',\r\n                                        }}\r\n                                        value={delegaTransf}\r\n                                        onChange={handleInput}\r\n                                        onBlur={handleBlur}\r\n                                        label='Informe o delegatário para o qual foi transferido o veículo.'\r\n                                        fullWidth\r\n                                    />\r\n                                    <AutoComplete\r\n                                        collection={empresas}\r\n                                        datalist='razaoSocial'\r\n                                        value={delegaTransf}\r\n                                    />\r\n                                </Grid>\r\n                                :\r\n                                checked === 'outro' &&\r\n                                <Grid item xs={6}>\r\n                                    <TextField\r\n                                        name='justificativa'\r\n                                        value={justificativa}\r\n                                        label='Justificativa'\r\n                                        type='text'\r\n                                        onChange={handleInput}\r\n                                        InputLabelProps={{ shrink: true }}\r\n                                        multiline\r\n                                        rows={3}\r\n                                        variant='outlined'\r\n                                        fullWidth\r\n                                    />\r\n                                </Grid>\r\n                            }\r\n                        </Grid>\r\n                        <Grid container direction=\"row\" justify='flex-end' style={{ width: '1200px' }}>\r\n                            <Grid item xs={11} style={{ width: '1000px' }}></Grid>\r\n                            <Grid item xs={1} style={{ align: \"right\" }}>\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    color=\"primary\"\r\n                                    variant=\"outlined\"\r\n                                    style={{ margin: '10px 0 10px 0' }}\r\n                                    onClick={() => handleSubmit()}\r\n                                >\r\n                                    Confirmar <span>&nbsp;&nbsp; </span> <Send />\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                }\r\n                {!razaoSocial && !frota[0] &&\r\n                    <Grid container justify=\"center\">\r\n                        <div className={formHolder}></div>\r\n                    </Grid>}\r\n            </Grid>\r\n        </Fragment>\r\n    )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport BaixaTemplate from './BaixaTemplate'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport { baixaForm } from '../Forms/baixaForm'\r\n\r\nimport './veiculos.css'\r\n\r\nclass BaixaVeiculo extends Component {\r\n\r\n    state = {\r\n        empresas: [],\r\n        razaoSocial: '',        \r\n        frota: [],\r\n        placa: '',\r\n        form: {},\r\n        check: '',\r\n        delegaTransf: '',\r\n        toastMsg: 'Baixa realizada com sucesso!',\r\n        confirmToast: false,\r\n        openDialog: false,\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n        const { name, value } = e.target,\r\n            { veiculos, empresas } = this.props.redux\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        if (name === 'razaoSocial') {\r\n            let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n                this.setState({ frota })\r\n\r\n            } else {\r\n                await this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                this.reset()\r\n            }\r\n        }\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const\r\n            { empresas } = this.props.redux,\r\n            { frota } = this.state,\r\n            { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'delegaTransf') {\r\n            if (value.length > 0) {\r\n                const newDelega = empresas.find(e => e.razaoSocial === value)\r\n                if (newDelega) {\r\n                    await this.setState({ delegatarioId: newDelega.delegatarioId, delegaTransf: newDelega.razaoSocial, disableSubmit: true })\r\n                    void 0\r\n                } else this.setState({ openAlertDialog: true, alertType: 'empresaNotFound', delegaTransf: '' })\r\n            }\r\n        }\r\n\r\n        if (name === 'placa' && typeof frota !== 'string') {\r\n            if (value === '') this.setState({ disableSubmit: true })\r\n            if (value.length > 0) {\r\n                let vehicle\r\n                if (value.length > 2) vehicle = frota.find(v => {\r\n                    if (typeof value === 'string') return v.placa.toLowerCase().match(value.toLowerCase())\r\n                    else return v.placa.match(value)\r\n                })\r\n\r\n                await this.setState({ ...vehicle })\r\n\r\n                if (!vehicle) {\r\n                    let reset = {}\r\n                    if (frota[0]) Object.keys(frota[0]).forEach(k => reset[k] = '')\r\n                    this.setState({ alertType: 'plateNotFound', openAlertDialog: true, disableSubmit: true })\r\n                    this.setState({ ...reset })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const { checked, delegatarioId } = this.state\r\n\r\n        let checkArray = ['selectedEmpresa', 'placa', 'delegatarioId']\r\n        let tempObj, enableSubmit\r\n\r\n        if (checked === 'venda') {\r\n            checkArray.push('delegaTransf')\r\n            enableSubmit = checkArray.every(k => this.state.hasOwnProperty(k) && this.state[k] !== '')\r\n            tempObj = { delegatarioId, situacao: 'pendente' }\r\n        }\r\n        if (checked === 'outro') {\r\n            checkArray.push('justificativa')\r\n            enableSubmit = checkArray.every(k => this.state.hasOwnProperty(k) && this.state[k] !== '')\r\n            tempObj = { situacao: 'excluído' }\r\n        }\r\n        if (!enableSubmit) {\r\n            await this.setState({ openAlertDialog: true, alertType: 'fieldsMissing' })\r\n            return null\r\n        }\r\n\r\n        tempObj.apolice = 'Seguro não cadastrado'\r\n\r\n        const requestObject = humps.decamelizeKeys(tempObj)\r\n\r\n        const table = 'veiculo',\r\n            tablePK = 'veiculo_id'\r\n        await axios.put('/api/updateVehicle', { requestObject, table, tablePK, id: this.state.veiculoId })\r\n            .then(() => this.toast())\r\n            .catch(err => console.log(err))\r\n        await this.setState({ selectedEmpresa: undefined, frota: [], razaoSocial: '' })\r\n        this.reset()\r\n    }\r\n\r\n    handleCheck = e => this.setState({ checked: e.target.value })\r\n    reset = () => {\r\n        baixaForm.forEach(el => this.setState({ [el.field]: '' }))\r\n        this.setState({ delegaTransf: '', check: '', justificativa: '', checked: false })\r\n    }\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const { delegaTransf, confirmToast, toastMsg, checked, openAlertDialog,\r\n            alertType } = this.state\r\n\r\n        return <Fragment>\r\n            <BaixaTemplate\r\n                data={this.state}\r\n                empresas={this.props.redux.empresas}\r\n                checked={checked}\r\n                delegaTransf={delegaTransf}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                handleCheck={this.handleCheck}\r\n                handleSubmit={this.handleSubmit}\r\n            />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n        </Fragment >\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas']\r\n\r\nexport default StoreHOC(collections, BaixaVeiculo)","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport Add from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport './config.css'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',        \r\n        width: '275px',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    select: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),        \r\n        marginBottom: '2px',\r\n        background: '#fafafa',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    }\r\n}))\r\n\r\nexport default function ConfigTemplate({ collections, collection, data, staticData,\r\n    selectCollection, handleChange, enableEdit, removeItem, handleSubmit, openAddDialog }) {\r\n\r\n    const\r\n        classes = useStyles(),\r\n        { textField } = classes\r\n\r\n    return (\r\n        <Fragment>\r\n           <Crumbs links={['Veículos', '/veiculos']} text='Alterar configurações de veículos' />\r\n            <center>\r\n                <h5>Selecione uma das opções abaixo.</h5>\r\n            </center>\r\n            <div className=\"selectHeader\">\r\n                <TextField\r\n                    className={textField}\r\n                    onChange={selectCollection}\r\n                    value={collection}\r\n                    select={true}\r\n                    SelectProps={{\r\n                        style: {\r\n                            fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                            width: 325, height: '44px'\r\n                        }\r\n                    }}\r\n                >\r\n                    {collections.map((opt, i) =>\r\n                        <MenuItem key={i} value={opt} >\r\n                            {opt}\r\n                        </MenuItem>\r\n                    )}\r\n                </TextField>\r\n            </div>\r\n           {staticData && collection && <div className='divHeader'>\r\n                <Button\r\n                    size=\"small\"\r\n                    color='primary'\r\n                    variant='outlined'\r\n                    //  className={classes.button}\r\n                    style={{ margin: '10px 0 10px 0' }}\r\n                    onClick={() => openAddDialog()}\r\n                >\r\n                    <Add /> Adicionar\r\n                </Button>\r\n            </div>}\r\n            <div className='container'>\r\n                {\r\n                    data && staticData && data.map((el, i) =>\r\n                        <div className='divCell' key={i}>\r\n                            <TextField\r\n                                value={el.edit ? el[staticData.field] : el[staticData.field] + ' (' + el['count'] + ')'}\r\n                                onChange={handleChange}\r\n                                name={el.field}\r\n                                type='text'\r\n                                inputProps={{\r\n                                    autoCorrect: 'off',\r\n                                    spellCheck: false,\r\n                                    style: {\r\n                                        fontSize: '0.8rem',\r\n                                        color: el.edit === true ? '#000' : '#999'\r\n                                    },                                    \r\n                                }}\r\n                                className={textField}\r\n                                disabled={el.edit === false}\r\n                            />\r\n\r\n                            <button component='span'\r\n                                className='configVehicleIcon'\r\n                                title='Editar'\r\n                                onClick={() => enableEdit(i)}\r\n                                display='none'>\r\n                                <EditIcon className='confIcon' color='primary' />\r\n                            </button>\r\n                            <button\r\n                                className='configVehicleIcon'\r\n                                title='Remover'\r\n                                onClick={() => removeItem(i)}>\r\n                                <DeleteIcon className='confIcon' color='secondary' />\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n            </div>\r\n            {\r\n                data &&\r\n                <Grid container direction=\"row\" justify='flex-end' >\r\n                    <Grid item xs={1} style={{ align: \"right\", margin: '20px 95px 10px 0' }}>\r\n                        <Button\r\n                            size=\"small\"\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            title='Salvar'\r\n                            onClick={() => handleSubmit()}\r\n                        >\r\n                            Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            }\r\n        </Fragment >\r\n    )\r\n}","import React, { PureComponent } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport ConfigAddDialog from './ConfigAddDialog'\r\nimport ReactToast from '../Utils/ReactToast'\r\nimport ConfigTemplate from './ConfigTemplate'\r\nimport { configVehicleForm } from '../Forms/configVehicleForm'\r\nimport { Fragment } from 'react'\r\n\r\nclass VehicleConfig extends PureComponent {\r\n\r\n    state = {\r\n        collection: '',\r\n        marca: '',\r\n        options: [],\r\n        openAddDialog: false,\r\n        confirmToast: false,\r\n        toastMsg: 'Dados atualizados!',\r\n    }\r\n    componentDidMount() {\r\n        let options = []\r\n        configVehicleForm.forEach(col => { options.push(col.label) })\r\n        this.setState({ options })\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const\r\n            { redux } = this.props,\r\n            { veiculos } = redux,\r\n            { staticData, data } = this.state\r\n\r\n        if (!staticData || !data) return null\r\n        \r\n        const { collection } = staticData\r\n        if (JSON.stringify(prevProps.redux[collection]) !== JSON.stringify(redux[collection])) {        \r\n            const data = this.addCounter(veiculos, staticData, redux[collection])\r\n            this.setState({ data })\r\n        }\r\n    }\r\n\r\n    addCounter = (veiculos, staticData, data) => {\r\n        const { name, field, label } = staticData\r\n\r\n        data.forEach(el => {\r\n            const vehicles = veiculos.filter(v => {\r\n                if (label === 'Equipamentos' && v[name]) return v[name].toLowerCase().match(el[field].toLowerCase())\r\n                return v[name] === el[field]\r\n            }),\r\n                count = vehicles.length\r\n            Object.assign(el, { count })\r\n        })\r\n        data = data.sort((a, b) => a[field].localeCompare(b[field]))\r\n        return data\r\n    }\r\n\r\n    selectCollection = async e => {\r\n        const\r\n            { value } = e.target,\r\n            { veiculos, marcaChassi, marcaCarroceria } = this.props.redux\r\n        let\r\n            staticData = configVehicleForm.find(el => el.label === value),\r\n            data = JSON.parse(JSON.stringify(this.props.redux[staticData.collection]))\r\n\r\n        data = this.addCounter(veiculos, staticData, data)\r\n        data.forEach(el => el.edit = false)\r\n\r\n        this.setState({ marcas: undefined, marca: '' })\r\n        if (staticData.collection === 'modelosChassi') this.setState({ marcas: marcaChassi })\r\n        if (staticData.collection === 'carrocerias') this.setState({ marcas: marcaCarroceria })\r\n\r\n        await this.setState({ collection: value, data, staticData })\r\n        void 0\r\n    }\r\n\r\n    enableEdit = async index => {\r\n        const\r\n            divCell = document.querySelectorAll('.divCell'),\r\n            divWrap = divCell[index].childNodes[0],\r\n            inputTarget = divWrap.querySelectorAll('input')[0]\r\n        let\r\n            data = [...this.state.data]\r\n\r\n        if (data[index].edit === true) data[index].edit = false\r\n        else {\r\n            data.forEach(s => s.edit = false)\r\n            data[index].edit = true\r\n        }\r\n        await this.setState({ data })\r\n        inputTarget.focus()\r\n    }\r\n\r\n    selectMarca = e => {\r\n        const\r\n            { value } = e.target,\r\n            { collection } = this.state.staticData,\r\n            { marcaChassi, marcaCarroceria } = this.props.redux\r\n\r\n        let marcaCollection\r\n        if (collection === 'modelosChassi') marcaCollection = marcaChassi\r\n        if (collection === 'carrocerias') marcaCollection = marcaCarroceria\r\n\r\n        const { id } = marcaCollection.find(m => m.marca === value)\r\n\r\n        this.setState({ marca: value, marcaId: id })\r\n    }\r\n\r\n    handleChange = async e => {\r\n        const\r\n            { value } = e.target,\r\n            name = this.state.staticData.field\r\n            //{ collection } = this.state.staticData\r\n\r\n\r\n        let changedElement = this.state.data.find(el => el.edit === true)\r\n        const index = this.state.data.indexOf(changedElement)\r\n\r\n        //const reduxItem = JSON.parse(JSON.stringify(this.props.redux[collection][index]))\r\n        changedElement[name] = value\r\n\r\n        let newData = [...this.state.data]\r\n        newData[index] = changedElement\r\n\r\n        await this.setState({ data: newData })       \r\n    }\r\n\r\n    handleInput = e => {\r\n        const { value } = e.target\r\n        this.setState({ newElement: value })\r\n    }\r\n\r\n    addNewElement = async () => {\r\n\r\n        const\r\n            { staticData, newElement, marcaId } = this.state,\r\n            { table, field, collection } = staticData,\r\n            { veiculos } = this.props.redux\r\n\r\n        let requestElement = { [field]: newElement }\r\n        if (marcaId) requestElement.marcaId = marcaId\r\n        requestElement = humps.decamelizeKeys(requestElement)\r\n\r\n        await axios.post('/api/addElement', { table, requestElement })\r\n\r\n        let data = this.props.redux[collection]\r\n        data = this.addCounter(veiculos, staticData, data)\r\n\r\n        this.setState({ openAddDialog: false, data })\r\n    }\r\n\r\n    removeItem = async index => {\r\n\r\n        let data = [...this.state.data]\r\n        const\r\n            { staticData } = this.state,\r\n            { collection, table } = staticData,\r\n            id = data[index].id,\r\n            originalData = this.props.redux[collection],\r\n            registered = originalData.find(el => el.id === id)\r\n\r\n        if (registered) {\r\n            await axios.delete(`/api/delete?table=${table}&tablePK=id&id=${id}`)\r\n                .catch(err => console.log(err))\r\n        }\r\n        data.splice(index, 1)\r\n        this.setState({ data })\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const\r\n            { redux } = this.props,\r\n            { data, staticData } = this.state,\r\n            { collection, field, table } = staticData,\r\n            originalData = JSON.parse(JSON.stringify(redux[collection]))\r\n\r\n        let editedElements = []\r\n\r\n        data.forEach(el => {\r\n            if (el.hasOwnProperty('id')) {\r\n                const { count, edit, ...rest } = el\r\n                editedElements.push(rest)\r\n            }\r\n        })\r\n\r\n        let realChanges = [], tempObj = {}\r\n\r\n        editedElements.forEach(el => {\r\n            originalData.forEach(item => {\r\n                if (el.id === item.id) {\r\n                    Object.keys(el).forEach(key => {\r\n                        if (el[key] !== item[key]) {\r\n                            if (!tempObj.id) tempObj = { ...tempObj, id: el.id }\r\n                            Object.assign(tempObj, { [key]: el[key] })\r\n                        }\r\n                    })\r\n                    if (Object.keys(tempObj).length > 0) realChanges.push(tempObj)\r\n                    tempObj = {}\r\n                }\r\n            })\r\n        })\r\n\r\n        const\r\n            tablePK = 'id',\r\n            column = humps.decamelize(field)\r\n\r\n        editedElements = humps.decamelizeKeys(realChanges)\r\n\r\n        await axios.put('/api/editElements', { requestArray: editedElements, table, tablePK, column })\r\n            .then(r => console.log('updated.'))\r\n            .catch(err => console.log(err))\r\n\r\n        editedElements = []\r\n        realChanges = []\r\n        tempObj = {}\r\n        this.toast()\r\n\r\n        this.setState({ collection: '', staticData: undefined })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openAddDialog: !this.state.openAddDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n\r\n        const { options, collection, data, staticData, openAddDialog, marca, marcas, confirmToast, toastMsg } = this.state\r\n        return (\r\n            <Fragment>\r\n                <ConfigTemplate\r\n                    collections={options}\r\n                    collection={collection}\r\n                    data={data}\r\n                    staticData={staticData}\r\n                    selectCollection={this.selectCollection}\r\n                    enableEdit={this.enableEdit}\r\n                    handleChange={this.handleChange}\r\n                    handleSubmit={this.handleSubmit}\r\n                    openAddDialog={this.toggleDialog}\r\n                    removeItem={this.removeItem}\r\n                />\r\n                {openAddDialog && <ConfigAddDialog\r\n                    open={openAddDialog}\r\n                    close={this.toggleDialog}\r\n                    title={staticData.label}\r\n                    helperMessage='Para adicionar, insira o nome no campo abaixo e clique em \"Confirmar\".'\r\n                    marca={marca}\r\n                    marcas={marcas}\r\n                    selectMarca={this.selectMarca}\r\n                    handleInput={this.handleInput}\r\n                    addNewElement={this.addNewElement}\r\n                />}\r\n                <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['seguradoras', 'lookUpTable/marca_chassi', 'modelosChassi', 'lookUpTable/marca_carroceria',\r\n    'carrocerias', 'equipamentos', 'veiculos']\r\n\r\nexport default StoreHOC(collections, VehicleConfig)","const formatDate = (date, min) => {\r\n\r\n    const minutes = () => {\r\n        if (new Date(date).getMinutes() < 10) {\r\n            return '0' + new Date(date).getMinutes()\r\n        } else {\r\n            return new Date(date).getMinutes()\r\n        }\r\n    }\r\n\r\n    if (/\\d/.test(date)) {\r\n        let data = new Date(date).getDate() + '/' + (new Date(date).getMonth() + 1) + '/' + new Date(date).getFullYear()// + ', ' + new Date(date).getHours() + ':' + minutes() + 'h'\r\n        if (min) data += ', ' + new Date(date).getHours() + ':' + minutes() + 'h'\r\n        return data.toString()\r\n    } else {\r\n        return date\r\n    }\r\n}\r\n\r\nexport default formatDate;","import formatDate from '../Utils/formatDate'\r\n\r\nexport const delegatarioTable = [\r\n    {\r\n        field: 'razaoSocial',\r\n        title: 'Razão Social',\r\n    },\r\n    {\r\n        field: 'delegatarioStatus',\r\n        title: 'Situação',\r\n    },\r\n    {\r\n        field: 'vencimentoContrato',\r\n        title: 'Data de Vencimento',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.vencimentoContrato)\r\n    },\r\n    {\r\n        field: 'cidade',\r\n        title: 'Município',\r\n    },\r\n    {\r\n        field: 'telefone',\r\n        title: 'Telefone',\r\n    },\r\n    {\r\n        field: 'frota',\r\n        title: 'Tamanho da frota'\r\n    }\r\n  /*   {\r\n        field: 'procuradoresList',\r\n        title: 'Nome do Procurador',\r\n        fSize: '0.3rem',\r\n        render: rowData => rowData.procuradoresList\r\n            ?\r\n            rowData.procuradoresList.map(s => s.charAt(0).toUpperCase()\r\n                .concat(s.slice(1).toLowerCase())).toString().replace(/,/g, \", \")\r\n            :\r\n            ''\r\n    } */\r\n]\r\n\r\nexport const sociosTable = [\r\n    {\r\n        field: 'nomeSocio',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfSocio',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'razaoSocial',\r\n        title: 'Delegatário(s)',\r\n    },\r\n    {\r\n        field: 'emailSocio',\r\n        title: 'E-mail',        \r\n        \r\n    },\r\n    {\r\n        field: 'share',\r\n        title: 'Participação Societária (%)',\r\n        filtering: false,        \r\n    }\r\n]\r\n\r\n\r\nexport const procuradorTable = [\r\n    {\r\n        field: 'nomeProcurador',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfProcurador',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'emailProcurador',\r\n        title: 'E-mail',\r\n    },\r\n    {\r\n        field: 'telProcurador',\r\n        title: 'Telefone'        \r\n    }\r\n]\r\n\r\nexport const vehicleTable = [\r\n    {\r\n        field: 'placa',\r\n        title: 'Placa',\r\n    },\r\n    {\r\n        field: 'modeloCarroceria',\r\n        title: 'Modelo da Carroceria',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Delegatário',\r\n    },\r\n    {\r\n        field: 'seguradora',\r\n        title: 'Seguradora',\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        title: 'Número da Apólice',\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Vencimento Seguro',\r\n        render: rowData => formatDate(rowData.vencimento)\r\n    },\r\n    {\r\n        field: 'indicadorIdade',\r\n        title: 'Ano de Fabricação',\r\n        filtering: false\r\n    }\r\n]\r\n\r\nexport const segurosTable = [\r\n    {\r\n        field: 'apolice',\r\n        title: 'Número da Apólice',\r\n    },\r\n    {\r\n        field: 'seguradora',\r\n        title: 'Seguradora',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Segurado',\r\n    },\r\n    {\r\n        field: 'segurados',\r\n        title: 'Número de veículos',\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Vencimento',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.vencimento)\r\n    }\r\n]\r\n\r\nexport const tables = [delegatarioTable].concat([sociosTable]).concat([procuradorTable]).concat([vehicleTable]).concat([segurosTable])\r\n","import React from 'react'\r\nimport * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\n\r\nimport MaterialTable from 'material-table';\r\nimport { tables } from './tables'\r\n\r\nexport default function ({ tab, collection, showDetails, showFiles, showCertificate, del }) {\r\n\r\n\r\n    const id = ['delegatarioId', 'socioId', 'procuradorId', 'veiculoId', 'apolice'][tab],\r\n        subject = ['empresas', 'sócios', 'procuradores', 'veículos', 'seguros']\r\n    if (!Array.isArray(collection)) collection = []\r\n    return (\r\n        <div style={{ margin: '10px 0' }} className='noPrint'>\r\n            <MaterialTable\r\n                title={`Pesquisar dados de ${subject[tab]}`}\r\n                columns={tables[tab]}\r\n                data={collection}\r\n                style={{ fontFamily: 'Segoe UI', fontSize: '14px' }}\r\n                options={{\r\n                    filtering: true,\r\n                    exportButton: true,\r\n                    exportFileName: subject[tab],\r\n                    exportCsv: (columns, data) => {\r\n                        const\r\n                            fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8',\r\n                            fileExtension = '.xlsx',\r\n                            fileName = subject[tab]\r\n\r\n                        const exportToCSV = (csvData, fileName) => {\r\n                            const ws = XLSX.utils.json_to_sheet(csvData);\r\n                            const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n                            const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n                            const data = new Blob([excelBuffer], { type: fileType });\r\n                            FileSaver.saveAs(data, fileName + fileExtension);\r\n                        }\r\n                        exportToCSV(data, fileName)\r\n                    },\r\n                    actionsColumnIndex: -1,\r\n                    searchFieldStyle: { color: '#024', fontSize: '14px' },\r\n                    headerStyle: { backgroundColor: '#FAFAFC' },\r\n                    emptyRowsWhenPaging: false,\r\n                    pageSize: 10,\r\n                }}\r\n\r\n                localization={{\r\n                    header: { actions: 'Opções' },\r\n                    body: {\r\n                        emptyDataSourceMessage: 'Registro não encontrado.',\r\n                        editRow: { deleteText: 'Tem certeza que deseja apagar esse registro ?' },\r\n                        deleteTooltip: 'Apagar',\r\n                        filterRow: { filterTooltip: 'Filtrar' }\r\n                    },\r\n                    toolbar: {\r\n                        searchTooltip: 'Procurar',\r\n                        searchPlaceholder: 'Procurar',\r\n                        exportName: 'Salvar como arquivo do excel',\r\n                        exportAriaLabel: 'Exportar',\r\n                        exportTitle: 'Exportar'\r\n                    },\r\n                    pagination: {\r\n\r\n                        labelRowsSelect: 'Resultados por página',\r\n                        labelDisplayedRows: ' {from}-{to} a {count}',\r\n                        firstTooltip: 'Primeira página',\r\n                        previousTooltip: 'Página anterior',\r\n                        nextTooltip: 'Próxima Página',\r\n                        lastTooltip: 'Última Página',\r\n\r\n                    }\r\n                }}\r\n                actions={[\r\n                    {\r\n                        icon: 'info',\r\n                        iconProps: { color: 'primary' },\r\n                        tooltip: 'Mais informações',\r\n                        onClick: (event, rowData) => showDetails(event, rowData)\r\n                    },\r\n                    {\r\n                        icon: 'file_copy_outline',\r\n                        iconProps: { color: 'secondary' },\r\n                        tooltip: 'Ver arquivos',\r\n                        onClick: (event, rowData) => showFiles(rowData[id])\r\n                    },\r\n                    {\r\n                        icon: 'class_outlined',\r\n                        iconProps: { color: 'action' },\r\n                        tooltip: 'Emitir certificado',\r\n                        hidden: tab !== 3,\r\n                        onClick: (event, rowData) => showCertificate(rowData)\r\n                    }\r\n                ]}\r\n                editable={{\r\n                    onRowDelete: async oldData => await del(oldData)\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}","export const delegatario = [[\r\n    {\r\n        field: 'empresa',\r\n        label: 'Delegatário',\r\n        width: '120mm',\r\n        left: '50mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimentoContrato',\r\n        label: 'Validade do Contrato',\r\n        width: '36mm',\r\n        left: '5mm'\r\n    },\r\n]]\r\n\r\nexport const caracteristicas = [\r\n    [\r\n        {\r\n            field: 'placa',\r\n            label: 'Placa',\r\n            width: '25mm',\r\n            left: '8mm'\r\n        },\r\n        {\r\n            field: 'renavam',\r\n            label: 'Renavam',\r\n            width: '42mm',\r\n            left: '14mm'\r\n        },\r\n        {\r\n            field: 'poltronas',\r\n            label: 'Poltronas',\r\n            width: '16mm',\r\n            left: '2mm'\r\n        },\r\n        {\r\n            field: 'piquesPoltrona',\r\n            label: 'Piques poltrona',\r\n            width: '19mm'\r\n        },\r\n        {\r\n            field: 'nChassi',\r\n            label: 'Número do Chassi',\r\n            width: '50mm',\r\n            left: '15mm'\r\n        },\r\n\r\n    ],\r\n    [\r\n        {\r\n            field: 'marcaChassi',\r\n            label: 'Marca do Chassi',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'modeloChassi',\r\n            label: 'Modelo do Chassi',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'anoChassi',\r\n            label: 'Ano do chassi',\r\n        },\r\n        {\r\n            field: 'distanciaMinima',\r\n            label: 'Distância Mínima (cm)',\r\n        },\r\n        {\r\n            field: 'distanciaMaxima',\r\n            label: 'Distância Máxima (cm)'\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            field: 'marcaCarroceria',\r\n            label: 'Marca da Carroceria',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'modeloCarroceria',\r\n            label: 'Modelo da Carroceria',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'anoCarroceria',\r\n            label: 'Ano da carroceria',\r\n        },\r\n        {\r\n            field: 'cores',\r\n            label: 'Cores',\r\n            width: '45mm',\r\n            left: '15mm'\r\n        }]\r\n]\r\n\r\nexport const seguro = [[\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',\r\n        width: '75mm',\r\n        left: '27.5mm'\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        label: 'Apólice',\r\n        width: '35mm',\r\n        left: '13mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emissão',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    }]]\r\n\r\nexport const pesagem = [[\r\n    {\r\n        field: 'eixos',\r\n        label: 'Nº Eixos',\r\n        width: '15mm',\r\n        left: '2mm'\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        width: '28mm',\r\n        left: '4mm'\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        width: '28mm',\r\n        left: '4mm'\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        field: 'pesoPassageiros',\r\n        label: 'Passag/Bagagem',\r\n        width: '25mm',\r\n        left: '3mm'\r\n    },\r\n]]\r\n\r\n\r\nexport const informacoesGerais = [[\r\n    {\r\n        type: 'date',\r\n        field: 'dataRegistro',\r\n        label: 'Data de Registro',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'dataExpedicao',\r\n        label: 'Data de expedição',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilização',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'equipamentosId',\r\n        label: 'Acessórios',\r\n        width: '65mm',\r\n    }\r\n]]\r\n\r\nexport const other = [[\r\n    {\r\n        field: 'compartilhado', \r\n        label: 'Empresas autorizadas a compartilhar',\r\n        width: '120mm',\r\n        left: '20mm'\r\n    },\r\n    {\r\n        field: 'observacoes', \r\n        label: 'Observações',\r\n        width: '80mm',        \r\n    }\r\n]]","import React, { Fragment, useState, useEffect } from 'react'\r\nimport moment from 'moment'\r\n\r\nimport { delegatario, caracteristicas, seguro, pesagem, informacoesGerais, other } from '../Forms/certificate'\r\n\r\nimport './certificate.css'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        paddingRight: '25px',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    }\r\n}))\r\n\r\n\r\nexport default function PdfCertificate() {\r\n\r\n    const [vehicle, setVehicle] = useState({})\r\n    const data = JSON.parse(localStorage.getItem('vehicle'))\r\n    console.log('1', data)\r\n\r\n    useEffect(() => {\r\n        async function setData() {\r\n            console.log('2', localStorage)\r\n            let menus = document.querySelectorAll('.MuiToolbar-root')\r\n            menus.forEach(m => m.style.display = 'none')\r\n            await setVehicle(data)\r\n            setTimeout(() => {\r\n                if (data) window.print()\r\n            }, 500);\r\n        }\r\n        setData()\r\n        localStorage.removeItem('vehicle')\r\n        console.log('3', localStorage)\r\n    }, [])\r\n\r\n    const classes = useStyles(),\r\n        { textField } = classes\r\n\r\n    let carac = caracteristicas,\r\n        delega = delegatario,\r\n        seg = seguro,\r\n        peso = pesagem,\r\n        info = informacoesGerais,\r\n        obs = other,\r\n        object = {}\r\n\r\n    const formArray = [carac, delega, seg, peso, info, obs]\r\n\r\n    if (vehicle)\r\n        formArray.forEach(form => {\r\n            Object.entries(vehicle).forEach(([key, value]) => {\r\n                form.forEach((line, i) => {\r\n                    line.forEach((obj, k) => {\r\n                        if (obj.field === key) {\r\n                            object = Object.assign(obj, { value })\r\n                            form[i][k] = object\r\n                            object = {}\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n        })\r\n    const checkMulti = field => {\r\n        if (field === 'equipamentosId' || field === 'equipamentosId') return\r\n        else return 'certificate'\r\n    }\r\n    const redirect = () => {\r\n        let menus = document.querySelectorAll('.MuiToolbar-root')\r\n        menus.forEach(m => m.style.display = 'none')\r\n        const url = window.location.origin\r\n        window.location.href = url;\r\n    }\r\n    const ultimateForm = [\r\n        { title: 'Delegatário', form: delega },\r\n        { title: 'Características do Veículo', form: carac },\r\n        { title: 'Seguro', form: seg },\r\n        { title: 'Pesagem', form: peso },\r\n        { title: 'Informações gerais', form: info },\r\n        { title: 'Outras informações', form: obs }\r\n    ]\r\n    if (!vehicle) {\r\n        const url = window.location.origin\r\n        window.location.replace(url)\r\n        return null\r\n    }\r\n    return (\r\n        <Fragment>\r\n            <div id='pdfPage' className='A4'>\r\n                <div className='header'>\r\n                    <img src='/images/certficateHeader.png' height='100%' width='100%' alt=\"header\" />\r\n                </div>\r\n                {ultimateForm.map(({ title, form }, y) =>\r\n                    <div className={title !== 'Delegatário' ? 'box' : 'firstBox'} key={y}>\r\n                        {title !== 'Delegatário' && <span className='boxTitle'>{title}</span>}\r\n                        {form.map((line, i) =>\r\n                            <div key={i} className={title !== 'Delegatário' ? 'divLine' : 'firstDivLine'} style={{ marginTop: i === 0 && '11mm' }}>\r\n                                {line.map((el, k) =>\r\n                                    <TextField\r\n                                        disabled\r\n                                        key={k}\r\n                                        name={el.field}\r\n                                        label={el.label}\r\n                                        className={textField}\r\n                                        multiline={el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? true : false}\r\n                                        rows={\r\n                                            el.value && el.value.length < 86 ? '2' :\r\n                                                el.value && el.value.length < 140 ? '3' : '4'\r\n                                        }\r\n                                        variant={el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? 'outlined' : 'standard'}\r\n                                        value={\r\n                                            el.type === 'date' ? moment(el.value).format('DD-MM-YYYY') :\r\n                                                el.field === 'dataExpedicao' ? moment().format('DD-MM-YYYY') :\r\n                                                    el.value || ''\r\n                                        }\r\n                                        inputProps={{\r\n                                            className: checkMulti(el.field),\r\n                                            style: {\r\n                                                width: el.width || '18mm',\r\n                                                fontSize: '2.7mm',\r\n                                                padding: '1px 0',\r\n                                                margin: '0',\r\n                                                flex: '1',\r\n                                                color: '#000'\r\n                                            }\r\n                                        }}\r\n                                        InputProps={{ style: { padding: el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? '1mm' : '' } }}\r\n                                        InputLabelProps={{\r\n                                            shrink: true,\r\n                                            style: {\r\n                                                fontSize: '13px',\r\n                                                textAlign: 'center !important',\r\n                                                left: el.left || '0',\r\n                                                color: '#000'\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n                <div className='porteObrigatorio'>\r\n                    <img src=\"/images/porteObrigatorio.png\" height='100%' width='100%' alt=\"porte obrigatório\" />\r\n                    <br />\r\n                    Este certificado pode ser verificado em <span className='link' onClick={() => redirect()}> http://www.sismob.mg.gov.br </span>\r\n                </div>\r\n            </div>\r\n            <br />\r\n\r\n            <button title='Imprimir / salvar PDF' className='noprint printButton' onClick={() => window.print()}>\r\n                <PrintTwoToneIcon style={{\r\n                    cursor: 'pointer',\r\n                    color: 'rgb(161, 161, 180)',\r\n                    fontSize: '40pt',\r\n                }} /></button>\r\n        </Fragment>\r\n    )\r\n}","export const empresasForm = [{\r\n    field: 'razaoSocial',\r\n    label: 'Razão Social',\r\n    maxLength: 90\r\n},\r\n{\r\n    field: 'cnpj',\r\n    label: 'CNPJ',\r\n    maxLength: 18,\r\n    pattern: /^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2}$/\r\n},\r\n{\r\n    field: 'inscricaoEstadual',\r\n    label: 'Inscrição Estadual',\r\n    maxLength: 13,\r\n    pattern: '\\\\d{13}'\r\n},\r\n{\r\n    field: 'telefone',\r\n    label: 'Telefone',\r\n    maxLength: 20,\r\n    pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))',    \r\n},\r\n{\r\n    field: 'email',\r\n    label: 'E-mail',\r\n    type: 'email',\r\n    maxLength: 60,\r\n},\r\n{\r\n    field: 'cep',\r\n    label: 'CEP',       \r\n    maxLength: 10    \r\n},\r\n{    \r\n    field: 'numero',\r\n    label: 'Número',\r\n    type: 'number',\r\n    max: 32000\r\n},\r\n{\r\n    field: 'complemento',\r\n    label: 'Complemento',\r\n    maxLength: 20,\r\n},\r\n{    \r\n    field: 'rua',\r\n    label: 'Rua',\r\n    maxLength: 100,        \r\n},\r\n{    \r\n    field: 'bairro',\r\n    label: 'Bairro',\r\n    maxLength: 40,\r\n},\r\n{\r\n    field: 'cidade',\r\n    label: 'Cidade',\r\n    maxLength: 60,        \r\n},\r\n{\r\n    field: 'uf',\r\n    label: 'Estado',\r\n    maxLength: 2, \r\n    pattern: '[A-Z]{2}'\r\n}\r\n]","export const sociosForm = [{\r\n    field: 'nomeSocio',\r\n    label: 'Nome do Sócio',\r\n    maxLength: 90,\r\n    width: 190\r\n},\r\n{\r\n    field: 'cpfSocio',\r\n    label: 'CPF',    \r\n    maxLength: 11,\r\n    pattern: '\\\\d{11}',\r\n    width: 190\r\n},\r\n{\r\n    field: 'telSocio',\r\n    label: 'Telefone',\r\n    maxLength: 16,    \r\n    pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))',\r\n    width: 190\r\n},\r\n{\r\n    field: 'emailSocio',\r\n    label: 'E-mail',\r\n    maxLength: 60,\r\n    width: 190\r\n},\r\n{\r\n    field: 'share',\r\n    label: 'Participação Societária (%)',\r\n    maxLength: 5,\r\n    type: 'number',\r\n    max: 100,\r\n    width: 190    \r\n}]","export const procuradorForm = [{\r\n    field: 'nomeProcurador',\r\n    label: 'Nome do Procurador',\r\n    maxLength: 90,\r\n    width: 320\r\n},\r\n{\r\n    field: 'cpfProcurador',\r\n    label: 'CPF',    \r\n    maxLength: 11,\r\n    pattern: '\\\\d{11}'  \r\n},\r\n{\r\n    field: 'telProcurador',\r\n    label: 'Telefone',    \r\n    type: 'tel',    \r\n    maxLength: 20,\r\n    pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))'\r\n},\r\n{\r\n    field: 'emailProcurador',\r\n    label: 'E-mail',\r\n    type: 'email',\r\n    maxLength: 60,\r\n    pattern: '[a-zA-Z0-9]@([a-zA-Z0-9])?[.]([a-zA-Z0-9])',\r\n    width: 320\r\n}]","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport formatDate from '../Utils/formatDate'\r\nimport { cadForm } from '../Forms/cadForm'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport { seguroForm } from '../Forms/seguroForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '9%',\r\n        width: 150,\r\n        fontSize: '0.6rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center'\r\n    }\r\n}))\r\n\r\nexport default function VehicleDetails({ data, tab }) {\r\n    const classes = useStyles(), { textField } = classes\r\n\r\n    let { tableData, ...ultimateData } = data,\r\n        formPattern = empresasForm\r\n    if (tab === 1) formPattern = sociosForm\r\n    if (tab === 2) formPattern = procuradorForm\r\n    if (tab === 4) formPattern = seguroForm\r\n\r\n    if (tab === 3) {\r\n        let { veiculoId, laudoId, tableData, modeloChassiId, modeloCarroceriaId, delegatarioId, ...vData } = data\r\n        vData.dataRegistro = formatDate(data.dataRegistro)\r\n        vData.dataEmissao = formatDate(data.dataEmissao)\r\n        vData.vencimento = formatDate(data.vencimento)\r\n        ultimateData = vData\r\n        formPattern = cadForm\r\n    }\r\n    \r\n    let element = []\r\n\r\n    Object.keys(ultimateData).forEach(key => {\r\n        if (tab === 3) {\r\n            formPattern.forEach(form => {\r\n                form.forEach(({ field, label, type }) => {\r\n                    if (key === field) {\r\n                        let obj = {}\r\n                        Object.assign(obj, { field, label, value: ultimateData[key] })\r\n                        if (type) Object.assign(obj, { type })\r\n                        element.push(obj)\r\n                        obj = {}\r\n                    }\r\n                })\r\n            })\r\n        } else {\r\n            formPattern.forEach(({ field, label, type }) => {\r\n                if (key === field) {\r\n                    let obj = {}\r\n                    Object.assign(obj, { field, label, value: ultimateData[key] })\r\n                    if (type) Object.assign(obj, { type })\r\n                    element.push(obj)\r\n                    obj = {}\r\n                }\r\n            })\r\n        }\r\n    })\r\n\r\n    Object.keys(ultimateData).forEach(key => {\r\n        const equal = element.find(el => el.field === key)\r\n        if (!equal) element.push({ field: key, label: key, value: ultimateData[key] })\r\n    })\r\n\r\n    return <Grid\r\n        container\r\n        direction=\"row\"\r\n        justify=\"space-evenly\"\r\n        alignItems=\"baseline\"\r\n    >\r\n        {\r\n            element.map(({ field, label, value, type }, i) => <Grid key={i} item xs={6} sm={4} md={3} lg={2}>\r\n                <TextField\r\n                    className={textField}\r\n                    name={field}\r\n                    label={label}\r\n                    value={type === 'date' ? formatDate(value) : value || ''}\r\n                    InputLabelProps={{ shrink: true, style: { fontSize: '0.9rem', fontWeight: 500 } }}\r\n                    inputProps={{ style: { fontSize: '0.7rem' } }}\r\n                    variant='outlined'\r\n                />\r\n            </Grid>\r\n            )}\r\n    </Grid>\r\n}\r\n","const formatFileSize = (bytes) => {\r\n\r\n    if (bytes > 1024 && bytes < 1048576) {\r\n        return Math.round(bytes / 1024) + ' KB'\r\n\r\n    } else if (bytes >= 1048576 && bytes < (1048576 * 1024)) {\r\n        return ((bytes / 1024) / 1024).toFixed(2) + ' MB'\r\n    } else {\r\n        return bytes + ' bytes'\r\n    }\r\n}\r\n\r\nexport default formatFileSize","import axios from 'axios'\r\n//import { logout } from '../auth/logout';\r\n\r\nconst downloadFile = (id, originalName, collection, fieldName) => {\r\n    if (fieldName && fieldName === 'apoliceDoc') collection = 'empresaDocs'\r\n        axios({\r\n            url: `/api/mongoDownload/?collection=${collection}&id=${id}`,\r\n            method: 'GET',\r\n            responseType: 'blob', // important\r\n        }).then((response) => {\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', originalName);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n        })\r\n            .catch(err => {\r\n                console.log(err)\r\n                //          logout(err)\r\n            })\r\n}\r\n\r\nexport default downloadFile","export const empresaFiles = [\r\n    { title: 'Contrato Social', name: 'contratoSocial' },\r\n    { title: 'Procuração', name: 'procuracao' },\r\n    { title: 'Apólice', name: 'apoliceDoc' }\r\n]","import React from 'react';\r\nimport formatDate from './formatDate'\r\nimport formatFileSize from './formatFileSize'\r\n//import { fileLabel } from '../config/configLabels'\r\nimport download from './downloadFile'\r\nimport PopUp from './PopUp'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\n\r\nconst divRow = {\r\n    marginBottom: 0,\r\n    display: 'grid',\r\n    grid: '50px / 4% 40% 25% 25%',\r\n    width: '99%',\r\n    margin: 'auto',\r\n    padding: '10px 0 0 0',\r\n    justifyItems: 'auto'\r\n}\r\n\r\nconst ShowFiles = ({ filesCollection, close, format, typeId, empresas }) => {\r\n\r\n    let files = [],\r\n        collection = 'empresaDocs', fileLabels = [...empresaFiles]\r\n\r\n    switch (typeId) {\r\n        case 'veiculoId':\r\n            collection = 'vehicleDocs'\r\n            fileLabels = [...cadVehicleFiles]\r\n            if (!fileLabels.find(f => f.name === 'transferenciaDoc')) fileLabels.push({ title: 'Documento de Transferência', name: 'transferenciaDoc' })\r\n            if (!fileLabels.find(f => f.name === 'newPlateDoc')) fileLabels.push({ title: 'CRLV com nova placa', name: 'newPlateDoc' })\r\n            if (!fileLabels.find(f => f.name === 'apoliceDoc')) fileLabels.push({ title: 'Apólice de seguro', name: 'apoliceDoc' })\r\n            break;\r\n        default: void 0\r\n    }\r\n    console.log('ShowFilesComp, filesCollection', filesCollection)\r\n    if (filesCollection && filesCollection[0]) {\r\n        filesCollection.forEach(obj => {\r\n            fileLabels.forEach(o => {\r\n                if (obj.metadata && o.name === obj.metadata.fieldName) files.push({ ...obj, label: o.title })\r\n            })\r\n        })\r\n    }\r\n\r\n    const getMoreInfo = file => {\r\n        const { metadata } = file\r\n\r\n        switch (metadata.fieldName) {\r\n            case 'procuracao':\r\n                const emp = empresas.find(e => e.delegatarioId === Number(metadata.empresaId))\r\n                return ' - ' + emp.razaoSocial\r\n            case 'apoliceDoc':\r\n                if (metadata.apolice) return ' número ' + metadata.apolice\r\n                else return ' '\r\n            default:\r\n                return ''\r\n        }\r\n    }\r\n    const header = ['Arquivo', 'Data de Upload', 'Tamanho']\r\n    //console.log(filesCollection)\r\n\r\n    if (files[0]) {\r\n        return <PopUp title='Arquivos' close={close} format={format}>\r\n            <div className=\"row\">\r\n                <div className=\"row\">\r\n                    <h5>\r\n                        <img alt=\"\" src=\"/images/folderIcon2.jpg\" style={{ paddingLeft: '20px', marginRight: '20px' }} />\r\n                    </h5>\r\n                </div>\r\n                <hr style={{ marginBottom: '5px' }} />\r\n                <div style={divRow}>\r\n                    <div>\r\n                        <img alt=\"\" src=\"/images/multipleFiles2.png\" height='50%' />\r\n                    </div>\r\n                    {header.map((title, i) =>\r\n                        <div key={i}>\r\n                            <span style={{ fontSize: '1.2em', fontWeight: 500 }}>{title}</span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <hr style={{ margin: '0 0 20px 0' }} />\r\n                {\r\n                    files.map((file, index) =>\r\n                        <div key={index}>\r\n                            <div style={divRow}>\r\n                                <div className=\"col s1\">\r\n                                    <img alt=\"\" src=\"/images/genericFile.png\" />\r\n                                </div>\r\n                                <div className=\"col s11\">\r\n                                    <span\r\n                                        style={{ textDecoration: 'underline', cursor: 'pointer', color: 'blue' }}\r\n                                        onClick={() => download(file.id, file.filename, collection, file.metadata.fieldName)}>\r\n                                        {file.label + getMoreInfo(file)}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"col s3\">\r\n                                    {formatDate(file.uploadDate, true)}\r\n                                </div>\r\n                                <div className=\"col s3\">\r\n                                    {formatFileSize(file.length)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n            </div>\r\n        </PopUp>\r\n    }\r\n    else return null\r\n}\r\n\r\nexport default ShowFiles;","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport moment from 'moment'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport { connect } from 'react-redux'\r\nimport { updateCollection } from '../Store/dataActions'\r\n\r\nimport ConsultasTemplate from './ConsultasTemplate'\r\nimport { TabMenu } from '../Layouts'\r\n\r\nimport Certificate from '../Veiculos/Certificate'\r\nimport PopUp from '../Utils/PopUp'\r\nimport ShowDetails from '../Reusable Components/ShowDetails'\r\nimport ShowFiles from '../Utils/ShowFiles'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nconst format = {\r\n    top: '5%',\r\n    left: '10%',\r\n    right: '10%'\r\n}\r\n\r\nclass ConsultasContainer extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.showDetails) this.showDetails()\r\n                if (this.state.showFiles) this.closeFiles()\r\n                if (this.state.showCertificate) this.closeCertificate()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        tab: 0,\r\n        items: ['Empresas', 'Sócios', 'Procuradores', 'Veículos', 'Seguros'],\r\n        tablePKs: ['delegatario_id', 'socio_id', 'procurador_id', 'veiculo_id', 'id'],\r\n        dbTables: ['delegatario', 'socios', 'procurador', 'veiculo', 'seguro'],\r\n        options: ['empresas', 'socios', 'procuradores', 'veiculos', 'seguros'],\r\n        empresas: [],\r\n        seguros: [],\r\n        razaoSocial: '',\r\n        showDetails: false,\r\n        showFiles: false,\r\n        openDialog: false,\r\n        filesCollection: [],\r\n        elementDetails: '',\r\n        vehicleDocs: [],\r\n        showCertificate: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    changeTab = async (e, value) => {\r\n        await this.setState({ tab: value })\r\n        return\r\n    }\r\n\r\n    showDetails = async (e, elementDetails) => {\r\n        const\r\n            { redux } = this.props,\r\n            { options, tab, tablePKs } = this.state,\r\n            primaryKeys = tablePKs.map(pk => humps.camelize(pk))\r\n\r\n        let updatedElement\r\n\r\n        if (elementDetails) updatedElement = redux[options[tab]].find(e => e[primaryKeys[tab]] === elementDetails[primaryKeys[tab]])\r\n\r\n        if (elementDetails !== undefined && updatedElement) {\r\n            await this.setState({ showDetails: !this.state.showDetails, elementDetails: updatedElement })\r\n            void 0\r\n        }\r\n        else this.setState({ showDetails: !this.state.showDetails, elementDetails: undefined })\r\n    }\r\n\r\n    closeFiles = () => {\r\n        this.setState({ showFiles: !this.state.showFiles })\r\n    }\r\n\r\n    showFiles = id => {\r\n        const\r\n            { tab } = this.state,\r\n            { veiculos, socios, empresaDocs, vehicleDocs } = this.props.redux\r\n        \r\n        let selectedFiles = empresaDocs.filter(f => f.metadata.empresaId === id.toString())\r\n        let typeId = 'empresaId'\r\n\r\n        switch (tab) {\r\n            case 1:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.empresaId === id.toString())\r\n                const socio = socios.find(v => v.socioId === id)\r\n                if (socio) {\r\n                    let sociosArray = []\r\n                    selectedFiles = empresaDocs\r\n                        .filter(f => f.metadata.empresaId === socio.delegatarioId.toString())\r\n                        .forEach(f => {\r\n                            if (f.metadata.socios && f.metadata.socios.includes(id))\r\n                                sociosArray.push(f)\r\n                        })\r\n                    selectedFiles = sociosArray                    \r\n                }\r\n                break\r\n\r\n            case 2:\r\n                typeId = 'procuracaoId'\r\n                let filesToReturn = []\r\n\r\n                empresaDocs.forEach(f => {\r\n                    if (f.metadata.fieldName === 'procuracao') {\r\n                        f.metadata.procuradores.forEach(procId => {\r\n                            if (procId === id) filesToReturn.push(f)\r\n                        })\r\n                    }\r\n                })\r\n                selectedFiles = filesToReturn\r\n                break\r\n            case 3:                \r\n                typeId = 'veiculoId'\r\n                selectedFiles = vehicleDocs.filter(f => f.metadata.veiculoId === id.toString())\r\n                const vehicle = veiculos.find(v => v.veiculoId === id)                \r\n                if (vehicle) {                    \r\n                    const seguro = empresaDocs.find(f => f.metadata.apolice === vehicle.apolice.toString())                    \r\n                    if (seguro) selectedFiles.push(seguro)\r\n                }\r\n                break\r\n            case 4:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.apolice === id.toString())\r\n                break\r\n            default: void 0\r\n        }\r\n\r\n        if (selectedFiles[0]) {\r\n            this.setState({ filesCollection: selectedFiles, showFiles: true, typeId, selectedElement: id })\r\n\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n            this.setState({ filesCollection: [] })\r\n        }\r\n    }\r\n\r\n    deleteHandler = data => {\r\n        const { dbTables, tablePKs, tab } = this.state,\r\n            table = dbTables[tab],\r\n            tablePK = tablePKs[tab],\r\n            itemId = humps.camelize(tablePK)\r\n\r\n        axios.delete(`/api/delete?table=${table}&tablePK=${tablePK}&id=${data[itemId]}`)\r\n            .then(r => console.log(r.data))\r\n    }\r\n\r\n    showCertificate = async vehicle => {\r\n\r\n        const\r\n            { situacao, vencimento, vencimentoContrato } = vehicle,\r\n            seguroVencido = moment(vencimento).isBefore(),\r\n            contratoVencido = moment(vencimentoContrato).isBefore()\r\n\r\n        if (situacao !== 'Ativo') {\r\n            await this.setState({ alertType: 'veiculoPendente', openAlertDialog: true })\r\n            return\r\n        }\r\n        if (seguroVencido) {\r\n            await this.setState({ alertType: 'seguroVencido', openAlertDialog: true })\r\n            return\r\n        }\r\n        if (contratoVencido) {\r\n            await this.setState({ alertType: 'contratoVencido', openAlertDialog: true })\r\n            return\r\n        }\r\n\r\n        const url = window.location.origin + '/crv'\r\n        localStorage.setItem('vehicle', JSON.stringify(vehicle))\r\n        window.open(url, 'noopener')\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    closeCertificate = () => this.setState({ showCertificate: !this.state.showCertificate })\r\n\r\n    render() {\r\n        const\r\n            { tab, options, items, showDetails, elementDetails, showFiles, selectedElement, filesCollection,\r\n                openAlertDialog, alertType, typeId, tablePKs, showCertificate, certified } = this.state,\r\n            { redux } = this.props,\r\n            { empresas } = redux,\r\n            primaryKeys = tablePKs.map(pk => humps.camelize(pk))\r\n\r\n        let updatedElement\r\n        if (elementDetails && showDetails) updatedElement = redux[options[tab]].find(e => e[primaryKeys[tab]] === elementDetails[primaryKeys[tab]])\r\n\r\n        return <Fragment>\r\n            <TabMenu items={items}\r\n                tab={tab}\r\n                changeTab={this.changeTab} />\r\n            <ConsultasTemplate\r\n                tab={tab}\r\n                items={items}\r\n                collection={this.props.redux[options[tab]]}\r\n                showDetails={this.showDetails}\r\n                showFiles={this.showFiles}\r\n                del={this.deleteHandler}\r\n                showCertificate={this.showCertificate}\r\n            />\r\n            {showDetails && <PopUp\r\n                close={this.showDetails}\r\n                title='Informações sobre o veículo'\r\n                format={format}\r\n            >\r\n                <ShowDetails\r\n                    close={this.showDetails}\r\n                    data={updatedElement || elementDetails}\r\n                    tab={tab}\r\n                />\r\n            </PopUp>}\r\n            {\r\n                showCertificate &&\r\n                <Certificate vehicle={certified} />\r\n            }\r\n            {showFiles &&\r\n                <ShowFiles\r\n                    tab={tab}\r\n                    elementId={selectedElement}\r\n                    filesCollection={filesCollection}\r\n                    close={this.closeFiles}\r\n                    format={format}\r\n                    typeId={typeId}\r\n                    empresas={empresas} />\r\n            }\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'socios', 'procuradores', 'seguros', 'seguradoras',\r\n    'getFiles/vehicleDocs', 'getFiles/empresaDocs']\r\n\r\nexport default connect(null, { updateCollection })(StoreHOC(collections, ConsultasContainer))","import React from 'react'\r\n\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1),\r\n        height: 'auto',\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 500,\r\n        textAlign: 'center'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 300,\r\n        fontColor: '#bbb',\r\n        textAlign: 'center'\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    dropBox: {\r\n        margin: '2% 0',\r\n    },\r\n    dropBoxItem: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '17px',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#4169E1',\r\n        backgroundColor: '#fafafa'\r\n    },\r\n    dropBoxItem2: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '0 1% 0 1%',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#00000',\r\n        backgroundColor: '#fafafa'\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, data, handleFiles }) {\r\n    const { activeStep, stepTitles, dropDisplay } = data,\r\n        classes = useStyles(), { paper, container, title, dropBox, dropBoxItem, dropBoxItem2 } = classes\r\n\r\n    let form = empresasForm\r\n\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <Grid>\r\n                {\r\n                    true\r\n                        ?\r\n                        <Grid item xs={12}>\r\n                            <Paper className={paper}>\r\n                                <Typography className={title}> {stepTitles[activeStep]}</Typography>\r\n                                <TextInput\r\n                                    form={form}\r\n                                    data={data}\r\n                                    handleBlur={handleBlur}\r\n                                    handleInput={handleInput}\r\n                                />\r\n                                <Dropzone onDrop={handleFiles}>\r\n                                    {({ getRootProps, getInputProps }) => (\r\n                                        <Grid container justify=\"center\" alignItems='center' className={dropBox} direction='row' {...getRootProps()}>\r\n                                            <input {...getInputProps()} />\r\n                                            {\r\n                                                dropDisplay.match('Clique ou') ?\r\n                                                    <Grid item xs={6} className={dropBoxItem}> {dropDisplay} </Grid>\r\n                                                    :\r\n                                                    <Grid item xs={6} className={dropBoxItem2}> <DescriptionOutlinedIcon />  {dropDisplay} <br /> (clique ou arraste outro arquivo para alterar)</Grid>\r\n                                            }\r\n                                        </Grid>\r\n                                    )}\r\n                                </Dropzone>\r\n                            </Paper>\r\n                        </Grid >\r\n                        :\r\n                        <Grid container justify=\"center\">\r\n                            <div className={classes.formHolder}></div>\r\n                        </Grid>\r\n                }\r\n            </Grid>\r\n        </Grid >\r\n    )\r\n}","import React, { Fragment } from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { sociosForm as form } from '../Forms/sociosForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1)\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 500,\r\n        textAlign: 'center'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 200,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    },\r\n    addButton: {\r\n        marginBottom: '1%',\r\n        padding: '1% 0'\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, data, addSocio, removeSocio, handleFiles, enableEdit, handleEdit }) {\r\n    const { activeStep, stepTitles, socios } = data,\r\n        classes = useStyles(), { paper, container, title, iconButton, list, addButton } = classes\r\n\r\n    const errorHandler = (el) => {\r\n\r\n        const value = data[el.field]\r\n\r\n        if (el.pattern && value) {\r\n            return value.match(el.pattern) === null\r\n        }\r\n        if (value > el.max || value < el.min) return true\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        const value = data[el.field]\r\n\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return undefined\r\n    }\r\n    \r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <Grid>\r\n                <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        <Typography className={title}> {stepTitles[activeStep]}</Typography>\r\n\r\n                        {\r\n                            form.map((el, i) =>\r\n                                <Fragment key={i}>\r\n                                    <TextField\r\n                                        name={el.field}\r\n                                        label={el.label}\r\n                                        margin='normal'\r\n                                        className={classes.textField}\r\n                                        onChange={handleInput}\r\n                                        onBlur={handleBlur}\r\n                                        type={el.type || ''}\r\n                                        error={errorHandler(el)}\r\n                                        helperText={helper(el)}\r\n                                        select={el.select || false}\r\n                                        value={data[el.field] || ''}\r\n                                        disabled={el.disabled || false}\r\n                                        InputLabelProps={{\r\n                                            className: classes.textField,\r\n                                            shrink: el.type === 'date' || undefined,\r\n                                            style: { fontSize: '0.75rem', fontWeight: 400, color: '#455a64', marginBottom: '5%' }\r\n                                        }}\r\n                                        inputProps={{\r\n                                            style: { background: el.disabled && data.disable ? '#fff' : '#fafafa',  height: '7px' },\r\n                                            value: `${data[el.field] || ''}`,\r\n                                            list: el.datalist || '',\r\n                                            maxLength: el.maxLength || '',\r\n                                            minLength: el.minLength || '',\r\n                                            max: el.max || '',\r\n                                        }}\r\n                                        multiline={el.multiline || false}\r\n                                        rows={el.rows || null}\r\n                                        variant={el.variant || 'filled'}\r\n                                        fullWidth={el.fullWidth || false}\r\n                                    >\r\n                                        {el.select === true && el.options.map((opt, i) =>\r\n                                            <MenuItem key={i} value={opt}>\r\n                                                {opt}\r\n                                            </MenuItem>)}\r\n                                    </TextField>\r\n                                </Fragment>\r\n                            )}\r\n                        <Button color='primary' className={addButton} onClick={addSocio}>\r\n                            <AddIcon /> Adicionar sócio\r\n                        </Button>\r\n                    </Paper>\r\n                </Grid>\r\n                {\r\n                    socios.length > 0 && <Grid container\r\n                        direction=\"row\"\r\n                        className={container}\r\n                        justify=\"center\"\r\n                        alignItems=\"center\">\r\n                        <Grid item xs={12}>\r\n                            <Paper className={paper}>\r\n                                <p className={title}>{activeStep === 1 ? 'Sócios' : 'Procuradores'} cadastrados</p>\r\n                                {socios.map((s, i) =>\r\n                                    <Grid key={i}>\r\n                                        {form.map((e, k) =>\r\n                                            <Fragment key={k + 1000}>\r\n                                                <TextField\r\n                                                    value={s[e.field] || ''}\r\n                                                    name={e.field}\r\n                                                    label={e.label}\r\n                                                    className={list}\r\n                                                    disabled={e.field === 'cpfSocio' ? true : s.edit ? false : true}\r\n                                                    onChange={handleEdit}\r\n                                                    InputLabelProps={{ shrink: true, style: { fontWeight: 600 } }}\r\n                                                />\r\n                                            </Fragment>\r\n                                        )}\r\n                                        <Button component='span' className={iconButton} title='editar' onClick={() => enableEdit(i)}>\r\n                                            <EditIcon />\r\n                                        </Button>\r\n\r\n                                        <Button className={iconButton} color='secondary' title='Remover' onClick={() => removeSocio(i)}>\r\n                                            <DeleteIcon />\r\n                                        </Button>\r\n                                    </Grid>\r\n                                )}\r\n                            </Paper>\r\n                        </Grid>\r\n                    </Grid>\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\n\r\nimport ShowLocalFiles from '../Utils/ShowLocalFiles'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 5px 0',\r\n        height: 'auto'\r\n    }\r\n}))\r\n\r\nexport default function Revisao({ data, empresasForm, sociosForm, filesForm, files }) {\r\n\r\n    const { socios } = data,\r\n        classes = useStyles(),\r\n        { paper } = classes\r\n\r\n    let empresaDetails = [], obj = {}, filledForm = [], ultimateData\r\n\r\n    empresasForm.forEach(e => {\r\n        if (data.hasOwnProperty([e.field])) {\r\n            Object.assign(obj, { [e.field]: data[e.field] })\r\n            filledForm.push(e)\r\n        }\r\n    })\r\n    empresaDetails.push(obj)\r\n\r\n    ultimateData = [\r\n        { subtitle: 'Detalhes da empresa', form: filledForm, data: empresaDetails },\r\n        { subtitle: 'Informações sobre os sócios', form: sociosForm, data: socios }\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <Paper className={paper}>\r\n                <div className='divTable'>\r\n                    {\r\n                        ultimateData.map(({ subtitle, form, data }, y) =>\r\n                            <Fragment key={y}>\r\n                                <table>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className='tHeader'\r\n                                                colSpan={form.length}>{subtitle}</th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            {form.map((s, i) => <th key={i}>{s.label}</th>)}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {y === 0 && <tr>\r\n                                            {data.map((obj, j) =>\r\n                                                Object.values(obj).map((el, k) =>\r\n                                                    <td className='review' key={k}>\r\n                                                        {el}\r\n                                                    </td>\r\n                                                )\r\n                                            )}\r\n                                        </tr>}\r\n                                        {y !== 0 && data.map((obj, j) =>\r\n                                            <tr>\r\n                                                {Object.values(obj).map((el, k) =>\r\n                                                    <td className='review' key={k}>\r\n                                                        {el}\r\n                                                    </td>\r\n                                                )}\r\n                                            </tr>\r\n                                        )}\r\n                                    </tbody>\r\n                                </table>\r\n\r\n                            </Fragment>\r\n                        )}\r\n                </div>\r\n\r\n                <h3 style={{ margin: '30px 0 0 25px' }}> <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} /> Documentos </h3>\r\n                {files && <ShowLocalFiles form={filesForm} files={files} />}\r\n            </Paper >\r\n        </>\r\n    )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport EmpresasTemplate from './EmpresasTemplate'\r\nimport SociosTemplate from './SociosTemplate'\r\nimport Review from './EmpresaReview'\r\n\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport Crumbs from '../Utils/Crumbs'\r\n\r\nimport StepperButtons from '../Utils/StepperButtons'\r\nimport CustomStepper from '../Utils/Stepper'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass EmpresasContainer extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        activeStep: 0,\r\n        stepTitles: ['Preencha os dados da empresa', 'Informações sobre os sócios',\r\n            'Revisão'],\r\n        steps: ['Dados da Empresa', 'Sócios', 'Revisão'],\r\n        razaoSocial: '',\r\n        toastMsg: 'Empresa cadastrada!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        socios: [],\r\n        dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n        showFiles: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const { name, value } = e.target\r\n        this.setState({ [name]: value })\r\n    }\r\n\r\n    addSocio = async () => {\r\n        let socios = this.state.socios,\r\n            sObject = {},\r\n            invalid = 0,\r\n            totalShare = 0\r\n\r\n        sociosForm.forEach(obj => {\r\n            if (this.state[obj.field] === '' || this.state[obj.field] === undefined) {\r\n                invalid += 1\r\n            }\r\n        })\r\n\r\n        if (invalid === 100) {\r\n            this.setState({ alertType: 'fieldsMissing', openAlertDialog: true })\r\n            return null\r\n        } else {\r\n            sociosForm.forEach(obj => {\r\n                Object.assign(sObject, { [obj.field]: this.state[obj.field] })\r\n            })\r\n            socios.push(sObject)\r\n\r\n            socios.forEach(s => {\r\n                totalShare += Number(s.share)\r\n            })\r\n            if (totalShare > 100) {\r\n                socios.pop()\r\n                this.setState({ alertType: 'overShared', openAlertDialog: true })\r\n            }\r\n            else {\r\n                await this.setState({ socios, totalShare })\r\n                sociosForm.forEach(obj => {\r\n                    this.setState({ [obj.field]: '' })\r\n                })\r\n                document.getElementsByName('nomeSocio')[0].focus()\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    enableEdit = index => {\r\n\r\n        let editSocio = this.state.socios\r\n        if (editSocio[index].edit === true) editSocio[index].edit = false\r\n        else {\r\n            editSocio.forEach(s => s.edit = false)\r\n            editSocio[index].edit = true\r\n        }\r\n        this.setState({ socios: editSocio })\r\n\r\n    }\r\n\r\n    handleEdit = e => {\r\n        const { name } = e.target, { socios } = this.state\r\n\r\n        let { value } = e.target\r\n        if (name === 'share') value = value.replace(',', '.')\r\n\r\n        let editSocio = socios.filter(s => s.edit === true)[0]\r\n        const index = socios.indexOf(editSocio)\r\n\r\n        editSocio[name] = value\r\n\r\n        let fs = socios\r\n        fs[index] = editSocio\r\n\r\n        this.setState({ filteredSocios: fs })\r\n\r\n    }\r\n\r\n    removeSocio = index => {\r\n        let socios = this.state.socios\r\n        socios.splice(index, 1)\r\n        this.setState({ socios })\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId, alertLabel) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            alert(alertLabel + ' não cadastrado')\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const { empresas } = this.props.redux\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n            case 'cnpj':\r\n                const alreadyExists = empresas.filter(e => e.cnpj === value)\r\n                if (alreadyExists[0]) {\r\n                    this.setState({ cnpj: '' })\r\n                    this.setState({ alertType: alreadyExists[0], openAlertDialog: true })\r\n                }\r\n                break;\r\n            case 'share':\r\n                value = value.replace(',', '.')\r\n                if (value > 100) {\r\n                    this.setState({ alertType: 'overShared', openAlertDialog: true })\r\n                }\r\n                else {\r\n                    const totalShare = Number(this.state.totalShare) + Number(value)\r\n                    this.setState({ [name]: value, totalShare })\r\n                }\r\n                break;\r\n            case 'numero':\r\n                if (value && !value.match(/^\\d+$/)) {\r\n                    await this.setState({ numero: '' })\r\n                    this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    handleFiles = (file) => {\r\n        let formData = new FormData()\r\n        formData.append('contratoSocial', file[0])\r\n        this.setState({ dropDisplay: file[0].name, contratoSocial: formData })\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        let { socios, contratoSocial } = this.state,\r\n            empresa = {},\r\n            contratoFile = new FormData(),\r\n            empresaId\r\n\r\n        empresasForm.forEach(e => {\r\n            if (this.state.hasOwnProperty([e.field])) {\r\n                Object.assign(empresa, { [e.field]: this.state[e.field] })\r\n            }\r\n        })\r\n\r\n        empresa.delegatarioStatus = 'Ativo'\r\n\r\n        Object.entries(empresa).forEach(([k, v]) => {\r\n            if (!v || v === '') delete empresa[k]\r\n        })\r\n\r\n        socios.forEach(s => {\r\n            delete s.edit\r\n            Object.entries(s).forEach(([k, v]) => {\r\n                if (!v || v === '') delete socios[k]\r\n            })\r\n        })\r\n\r\n        empresa = humps.decamelizeKeys(empresa)\r\n        socios = humps.decamelizeKeys(socios)\r\n\r\n        await axios.post('/api/empresaFullCad', { empresa, socios })\r\n            .then(delegatarioId => {\r\n                empresaId = delegatarioId.data\r\n            })\r\n\r\n        if (contratoSocial) {\r\n            contratoFile.append('fieldName', 'contratoSocial')\r\n            contratoFile.append('empresaId', empresaId)\r\n            for (let pair of contratoSocial.entries()) {\r\n                contratoFile.append(pair[0], pair[1])\r\n            }\r\n            await axios.post('/api/empresaUpload', contratoFile)\r\n                .then(r => console.log('file ok.'))\r\n        }\r\n\r\n        this.toast()\r\n        this.resetState()\r\n\r\n    }\r\n    resetState = () => {\r\n        let\r\n            resetEmpresa = {},\r\n            resetSocios = {},\r\n            resetFiles = {}\r\n\r\n        empresasForm.forEach(obj => {\r\n            Object.keys(obj).forEach(key => {\r\n                if (key === 'field' && this.state[obj[key]]) Object.assign(resetEmpresa, { [obj[key]]: undefined })\r\n            })\r\n        })\r\n\r\n        sociosForm.forEach(obj => {\r\n            Object.keys(obj).forEach(key => {\r\n                if (key === 'field' && this.state[obj[key]]) Object.assign(resetSocios, { [obj[key]]: undefined })\r\n            })\r\n        })\r\n\r\n        empresaFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: undefined })\r\n        })\r\n\r\n        this.setState({\r\n            ...resetEmpresa,\r\n            ...resetSocios,\r\n            ...resetFiles,\r\n            activeStep: 0,\r\n            razaoSocial: '',\r\n            files: [],\r\n            fileNames: [],\r\n            addedSocios: [0],\r\n            totalShare: 0,\r\n            socios: [],\r\n            dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n            showFiles: false\r\n        })\r\n    }\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    showFiles = () => this.setState({ showFiles: true })\r\n    closeFiles = () => this.setState({ showFiles: !this.state.showFiles })\r\n\r\n    render() {\r\n\r\n        const { activeStep, confirmToast, toastMsg, steps, openAlertDialog,\r\n            alertType, contratoSocial } = this.state\r\n\r\n        return <Fragment>\r\n\r\n            <Crumbs links={['Empresas', '/empresas']} text='Cadastro de empresas' />\r\n\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            {\r\n                activeStep === 0 ?\r\n                    <EmpresasTemplate\r\n                        data={this.state}\r\n                        handleInput={this.handleInput}\r\n                        handleBlur={this.handleBlur}\r\n                        handleFiles={this.handleFiles}\r\n                    />\r\n                    : activeStep === 1 ?\r\n                        <SociosTemplate\r\n                            data={this.state}\r\n                            handleInput={this.handleInput}\r\n                            handleBlur={this.handleBlur}\r\n                            addSocio={this.addSocio}\r\n                            removeSocio={this.removeSocio}\r\n                            handleFiles={this.handleFiles}\r\n                            enableEdit={this.enableEdit}\r\n                            handleEdit={this.handleEdit}\r\n                        />\r\n                        :\r\n                        activeStep === 2 && <Review\r\n                            files={contratoSocial}\r\n                            filesForm={empresaFiles} data={this.state}\r\n                            sociosForm={sociosForm} empresasForm={empresasForm}\r\n                        />\r\n            }\r\n            <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleSubmit}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['empresas']\r\n\r\nexport default (StoreHOC(collections, EmpresasContainer))","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActionArea from '@material-ui/core/CardActionArea'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Hidden from '@material-ui/core/Hidden'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    toolbar: {\r\n        borderBottom: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    toolbarTitle: {\r\n        flex: 1,\r\n    },\r\n    toolbarSecondary: {\r\n        justifyContent: 'space-between',\r\n        overflowX: 'auto',\r\n    },\r\n    toolbarLink: {\r\n        padding: theme.spacing(1),\r\n        flexShrink: 0,\r\n    },\r\n    mainFeaturedPost: {\r\n        position: 'relative',\r\n        backgroundColor: theme.palette.grey[100],\r\n        color: theme.palette.common.white,\r\n        marginBottom: theme.spacing(4),\r\n        backgroundImage: '/images/empresaBg2.jpg',\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n    },\r\n    overlay: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        left: 0,\r\n        backgroundColor: 'rgba(0,0,0,.1)',\r\n    },\r\n    mainFeaturedPostContent: {\r\n        position: 'relative',\r\n        padding: theme.spacing(3),\r\n        [theme.breakpoints.up('md')]: {\r\n            padding: theme.spacing(6),\r\n            paddingRight: 0,\r\n        },\r\n    },\r\n    mainGrid: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    card: {\r\n        display: 'flex',\r\n    },\r\n    cardDetails: {\r\n        flex: 1,\r\n    },\r\n    cardMedia: {\r\n        width: '120px',\r\n        height: '180px'\r\n    },\r\n    markdown: {\r\n        ...theme.typography.body2,\r\n        padding: theme.spacing(3, 0),\r\n    },\r\n    sidebarAboutBox: {\r\n        padding: theme.spacing(2),\r\n        backgroundColor: theme.palette.grey[200],\r\n    },\r\n    sidebarSection: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    footer: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        marginTop: theme.spacing(8),\r\n        padding: theme.spacing(6, 0),\r\n    },\r\n}));\r\n\r\nconst featuredPosts = [\r\n    {\r\n        title: 'Cadastrar',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastrar uma nova empresa no sistema.',\r\n        imageUrl: '/images/addCompany21.png',\r\n        link: '/empresas/cadastro'\r\n    },\r\n    {\r\n        title: 'Sócios',\r\n        date: '07/Nov',\r\n        description:\r\n            'Gerenciar sócios e alterações de contrato social',\r\n        link: '/empresas/socios',\r\n        imageUrl: '/images/socios3.png'\r\n    },\r\n    {\r\n        title: 'Procuradores',\r\n        date: '07/Nov',\r\n        description:\r\n            'Alterar relação de procuradores e procurações',\r\n        link: '/empresas/procuradores',\r\n        imageUrl: '/images/procuradores31.png'\r\n    },\r\n]\r\n\r\nexport default function () {\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n            <div style={{\r\n                minHeight: '83vh',\r\n                height: 'auto'\r\n            }}>\r\n                <main>\r\n                    <Paper className={classes.mainFeaturedPost}>\r\n                        <div style={{  height: '90px', width: '100%' }}>\r\n                            <img src=\"/images/empresasBg2.jpg\" alt=\"Empresas\" width='100%' height= '280px'/>\r\n                        </div>\r\n                        <div className={classes.overlay} />\r\n                        <Grid container>\r\n                            <Grid item md={4}>\r\n                                <div className={classes.mainFeaturedPostContent}>\r\n                                    <Typography component=\"h1\" variant=\"h4\" gutterBottom>\r\n                                        Empresas\r\n                                    </Typography>\r\n                                    <Typography variant=\"body1\" paragraph>\r\n                                        Selecione uma das opções abaixo.\r\n                                    </Typography>\r\n                                </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                    <Grid container spacing={4} className={classes.cardGrid}>\r\n                        {featuredPosts.map(post => (\r\n                            <Grid item key={post.title} xs={12} md={4}>\r\n                                <Link to={post.link} style={{ textDecoration: 'none' }}>\r\n                                    <CardActionArea component=\"span\" >\r\n                                        <Card className={classes.card}>\r\n                                            <div className={classes.cardDetails}>\r\n                                                <CardContent>\r\n                                                    <Typography component=\"h2\" variant=\"h6\">\r\n                                                        {post.title}\r\n                                                    </Typography>\r\n                                                    <br />\r\n                                                    <Typography variant=\"body2\" paragraph>\r\n                                                        {post.description}\r\n                                                    </Typography>\r\n                                                    <Typography variant=\"body2\" color=\"primary\">\r\n\r\n                                                        {post.title}\r\n\r\n                                                    </Typography>\r\n                                                </CardContent>\r\n                                            </div>\r\n                                            <Hidden xsDown>\r\n                                                <CardMedia\r\n                                                    className={classes.cardMedia}\r\n                                                    component=\"img\"\r\n                                                    src={post.imageUrl}\r\n                                                    title={post.title}\r\n                                                />\r\n                                            </Hidden>\r\n                                        </Card>\r\n                                    </CardActionArea>\r\n                                </Link>\r\n                            </Grid>\r\n                        ))}\r\n                    </Grid>\r\n                </main>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nconst StyledTableCell = withStyles(theme => ({\r\n    head: {\r\n        backgroundColor: '#e1f5fe',\r\n        color: '#00000',\r\n        fontWeight: 600,\r\n        fontSize: 14,\r\n    },\r\n    body: {\r\n        fontSize: 14,\r\n\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledCell = withStyles(theme => ({\r\n    head: {\r\n        backgroundColor: '#e1f5fe',\r\n        color: '#00000',\r\n    },\r\n    body: {\r\n        fontSize: 13,\r\n\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles(theme => ({\r\n    root: {\r\n        '&:nth-of-type(odd)': {\r\n            backgroundColor: theme.palette.background.default,\r\n        },\r\n    },\r\n}))(TableRow);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: '1',\r\n        padding: '1%',\r\n        textAlign: 'center'\r\n    },\r\n    title: {\r\n        marginTop: '2%',\r\n        fontColor: '#000',\r\n        fontSize: '0.9rem',\r\n        backgroundColor: '#B2DCEA',\r\n        textAlign: 'center'\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(2),\r\n        width: \"100%\",\r\n        padding: '2% 0 1% 0',\r\n        height: 'auto'\r\n    },\r\n    table: {\r\n        marginBottom: theme.spacing(2),\r\n        overflowX: 'auto'\r\n    }\r\n}))\r\n\r\n\r\nexport default function Procurador({ procuracao, procuradores }) {\r\n\r\n    const classes = useStyles(),\r\n        { title, table } = classes\r\n\r\n    let procArray = []\r\n\r\n    procuracao.procuradores.forEach(id => {\r\n        const pro = procuradores.find(p => p.procuradorId === id)\r\n        procArray.push(pro)\r\n    })\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div style={{ width: '100%', align: 'left' }}>\r\n                <Typography className={title}> Procuradores cadastrados </Typography>\r\n            </div>\r\n            <Table className={table}>\r\n                <TableHead>\r\n                    <StyledTableRow>\r\n                        {procuradorForm.map((s, i) => <StyledTableCell key={i}>{s.label}</StyledTableCell>)}\r\n                    </StyledTableRow>\r\n                </TableHead>\r\n                { procArray.map((d, j) =>\r\n                    d ?\r\n                        <TableBody key={j}>\r\n                            <TableRow>\r\n                                {\r\n                                    procuradorForm.map((obj, l) =>\r\n                                        <StyledCell key={l}>\r\n                                            {d[obj.field]}\r\n                                        </StyledCell>\r\n                                    )\r\n                                }\r\n                            </TableRow>\r\n                        </TableBody>\r\n                        :\r\n                        null\r\n                )}\r\n            </Table>\r\n        </ React.Fragment>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\nimport moment from 'moment'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nimport AddCircleOutlineSharpIcon from '@material-ui/icons/AddCircleOutlineSharp';\r\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\r\n\r\nimport Procurador from './Procurador'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\n\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\n\r\nconst divContainer = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    alignContent: 'center',\r\n    flexWrap: 'wrap',\r\n    position: 'relative'\r\n}\r\n\r\nconst divFiles = {\r\n    textAlign: 'center',\r\n    alignItems: 'flex-start',\r\n    justify: 'space-between',\r\n    lineHeight: '40px',\r\n    border: '1px #ccc solid',\r\n    padding: '0 1%',\r\n    margin: '1% 1% 0.5% 1%',\r\n    fontSize: '0.8rem',\r\n    backgroundColor: '#f6f6f6',\r\n    borderRadius: '6px',\r\n    width: 180\r\n}\r\n\r\nconst icon = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    paddingLeft: '2%'\r\n}\r\n\r\nconst fileIcon = {\r\n    verticalAlign: 'middle',\r\n    padding: '0 0% 0 2%',\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1),\r\n        height: 'auto',\r\n        backgroundColor: '#fafafa',\r\n    },\r\n    containerList: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(2),\r\n        height: 'auto',\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        textAlign: 'center',\r\n        fontSize: '1.1rem'\r\n    },\r\n    selector: {\r\n        width: '380px',\r\n        fontSize: '0.8rem',\r\n        margin: '10px 0',\r\n        textAlign: 'center'\r\n\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center'\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1),\r\n    },\r\n    paper2: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1),\r\n        position: 'relative'\r\n    },\r\n\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    },\r\n    addButton: {\r\n        padding: '5px 10px 5px 8px',\r\n        height: '40px',\r\n        margin: '5px',\r\n        float: 'right',\r\n        fontSize: '0.8rem'\r\n    },\r\n    dropBox: {\r\n        margin: '30px 0 15px 0',\r\n    },\r\n    dropBoxItem: {\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '60px',\r\n        padding: '10px 15px 0 15px',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#4169E1',\r\n        backgroundColor: '#fafafa'\r\n\r\n    },\r\n    dropBoxItem2: {\r\n        margin: '1% 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '60px',\r\n        padding: '0 1% 0 1%',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        color: 'black',\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, redux, data, addProc, removeProc,\r\n    handleFiles, getFile, plusOne, minusOne }) {\r\n    const { procDisplay, selectedEmpresa, procsToAdd, selectedDocs } = data,\r\n        { empresas, procuradores } = redux,\r\n\r\n        classes = useStyles(), {\r\n            paper, container, title, dropBox,\r\n            dropBoxItem, dropBoxItem2, addButton, paper2, containerList } = classes\r\n\r\n    const errorHandler = (el) => {\r\n\r\n        const value = data[el.field]\r\n\r\n        if (el.pattern && value) {\r\n            return value.match(el.pattern) === null\r\n        }\r\n        if (value > el.max || value < el.min) return true\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        const value = data[el.field]\r\n\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return undefined\r\n    }\r\n\r\n    const handleDates = (date) => {\r\n\r\n        if (date) return moment(date).format('DD-MM-YYYY')\r\n        else return ''\r\n    }\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"flex-start\"\r\n        >\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}                \r\n            />\r\n            {selectedEmpresa && <Paper className={paper2}>\r\n                <Typography className={title}> Cadastrar nova procuração </Typography>\r\n                <h4 style={{ fontWeight: 400, fontSize: '0.9em' }}> Se a procuração abranger mais de um procurador, clique em \"+\" para adicionar e anexe apenas 1 vez.</h4>\r\n                {procsToAdd.map((p, j) =>\r\n                    <Grid item xs={12} key={j} style={{ float: 'left' }}>\r\n                        {procuradorForm.map((el, i) =>\r\n                            <Fragment key={i}>\r\n                                <TextField\r\n                                    name={el.field + j}\r\n                                    label={el.label}\r\n                                    margin='normal'\r\n                                    className={classes.textField}\r\n                                    onChange={e => handleInput(e)}                                    \r\n                                    type={el.type || ''}\r\n                                    error={errorHandler(el)}\r\n                                    helperText={helper(el)}\r\n                                    select={el.select || false}\r\n                                    value={data[el.field + j] || ''}\r\n                                    disabled={el.disabled || false}\r\n                                    InputLabelProps={{\r\n                                        className: classes.textField,\r\n                                        shrink: el.type === 'date' || undefined,\r\n                                        style: { fontSize: '0.7rem', fontWeight: 400, color: '#888' }\r\n                                    }}\r\n                                    inputProps={{\r\n                                        style: {\r\n                                            background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                            fontSize: '0.9rem', textAlign: 'center', color: '#000', width: el.width || 150, height: '7px'\r\n                                        },\r\n                                        value: `${data[el.field + j] || ''}`,\r\n                                        list: el.datalist || '',\r\n                                        maxLength: el.maxLength || '',\r\n                                        minLength: el.minLength || '',\r\n                                        max: el.max || '',\r\n                                    }}\r\n                                    multiline={el.multiline || false}\r\n                                    rows={el.rows || null}\r\n                                    variant={el.variant || 'filled'}\r\n                                    fullWidth={el.fullWidth || false}\r\n                                >\r\n                                </TextField>\r\n                                {j === procsToAdd.length - 1 && i === 3 &&\r\n                                    <>\r\n                                        <AddCircleOutlineSharpIcon\r\n                                            onClick={() => plusOne()}\r\n                                            style={{\r\n                                                verticalAlign: 'middle',\r\n                                                position: 'absolute',\r\n                                                bottom: '136px',\r\n                                                right: j > 0 ? '15px' : '35px',\r\n                                                color: '#009688',\r\n                                                fontSize: 30,\r\n                                                cursor: 'pointer',\r\n                                                zIndex: 1\r\n                                            }}\r\n                                        />\r\n                                        {j > 0 && <RemoveCircleOutlineIcon\r\n                                            onClick={() => minusOne()}\r\n                                            style={{\r\n                                                verticalAlign: 'middle',\r\n                                                position: 'absolute',\r\n                                                bottom: '136px',\r\n                                                right: '45px',\r\n                                                color: 'red',\r\n                                                fontSize: 30,\r\n                                                cursor: 'pointer',\r\n                                                zIndex: 1\r\n                                            }}\r\n                                        />}\r\n                                    </>\r\n                                }\r\n                            </Fragment>\r\n                        )}\r\n                    </Grid>\r\n                )}\r\n                <Grid container style={{ position: 'relative' }}>\r\n                    <Grid item xs={6}>\r\n                        <Dropzone onDrop={handleFiles}>\r\n                            {({ getRootProps, getInputProps }) => (\r\n                                <Grid container justify=\"center\"\r\n                                    alignItems='center' className={dropBox} direction='row' {...getRootProps()}>\r\n                                    <input {...getInputProps()} />\r\n                                    {\r\n                                        procDisplay.match('Clique ou') ?\r\n                                            <Grid item xs={6} className={dropBoxItem}> {procDisplay} </Grid>\r\n                                            :\r\n                                            <Grid item xs={6} className={dropBoxItem2}> <DescriptionOutlinedIcon />  {procDisplay} <br /> (clique ou arraste outro arquivo para alterar)</Grid>\r\n                                    }\r\n                                </Grid>\r\n                            )}\r\n                        </Dropzone>\r\n                    </Grid>\r\n                    <Grid item xs={6} className={dropBox}>\r\n                        <TextField\r\n                            name='vencimento'\r\n                            label='Vencimento'\r\n                            margin='normal'\r\n                            className={classes.textField}\r\n                            onChange={e => handleInput(e)}\r\n                            type='date'\r\n                            helper='se indeterminado, deixar em branco'                            \r\n                            value={data.vencimento || ''}\r\n                            InputLabelProps={{\r\n                                className: classes.textField,\r\n                                shrink: true,\r\n                                style: { fontSize: '0.8rem', color: '#455a64', marginBottom: '5%' }\r\n                            }}\r\n                            inputProps={{\r\n                                style: { background: '#fafafa', fontSize: '0.8rem', textAlign: 'center', color: '#000', height: '9px' },\r\n                            }}\r\n                            variant={'filled'}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </Paper>}\r\n            <Grid container direction=\"row\" justify='flex-start' style={{ width: '1200px' }}>\r\n                <Grid item xs={9} style={{ width: '1000px' }}></Grid>\r\n                <Grid item xs={3} style={{ align: \"right\" }}>\r\n                    {selectedEmpresa && <Button\r\n                        className={addButton}\r\n                        size='small'\r\n                        color=\"secondary\"\r\n                        variant=\"contained\"\r\n                        onClick={addProc}\r\n                    >\r\n                        <AddIcon />Cadastrar procuração\r\n                        </Button>}\r\n                </Grid>\r\n            </Grid>\r\n            {selectedEmpresa && selectedDocs[0] && <h2 style={{ margin: '25px 0 0 15px' }}>Procurações cadastradas</h2>}\r\n            {\r\n                selectedEmpresa && !selectedDocs[0] &&\r\n                <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        Nenhum procurador cadastrado para {selectedEmpresa.razaoSocial}\r\n                    </Paper>\r\n                </Grid>\r\n            }\r\n            {\r\n                selectedDocs.length > 0 && selectedDocs.map((procuracao, z) => <Grid container\r\n                    key={z * 0.01}\r\n                    direction=\"row\"\r\n                    className={containerList}\r\n                    justify=\"center\"\r\n                    alignItems=\"flex-start\">\r\n                    <Grid item xs={12}>\r\n                        <Paper style={{ padding: '10px 15px 20px 15px' }}>\r\n                            <p className={title}>Procuração {\r\n                                !procuracao.vencimento ?\r\n                                    'por prazo indeterminado'\r\n                                    :\r\n                                    'com vencimento em ' + handleDates(procuracao.vencimento)\r\n                            }</p>\r\n\r\n                            <Procurador procuradores={procuradores} procuracao={procuracao} />\r\n\r\n                            <div style={divContainer}>\r\n                                <span style={divFiles}>\r\n                                    <InsertDriveFileOutlinedIcon style={fileIcon} />\r\n                                    <span style={{ verticalAlign: 'middle', }}>\r\n                                        {' '} Baixar arquivo\r\n                                    </span>\r\n                                    <GetAppIcon style={icon} onClick={() => getFile(procuracao.procuracaoId)} />\r\n                                </span>\r\n                                <span style={{ ...divFiles, width: 90, backgroundColor: 'white', border: 0, position: 'absolute', right: 0 }}>\r\n                                    <DeleteOutlinedIcon color='secondary' style={icon} onClick={() => removeProc(procuracao)} />\r\n                                    Apagar\r\n                                    </span>\r\n                            </div>\r\n                        </Paper>\r\n                    </Grid>\r\n                </Grid>\r\n                )}\r\n        </Grid>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport AltProcuradoresTemplate from './AltProcuradoresTemplate'\r\nimport download from '../Utils/downloadFile'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\n\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass AltProcuradores extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.openDialog) this.toggleDialog()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        filteredProc: [],\r\n        procDisplay: 'Clique ou arraste para anexar a procuração referente a este(s) procurador(es).',        \r\n        procuradores: [],\r\n        procsToAdd: [1],\r\n        procuracoesArray: [],\r\n        selectedDocs: []\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        axios.get('/api/getFiles/empresaDocs?fieldName=procuracao')\r\n            .then(r => this.setState({ files: r.data }))\r\n\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n\r\n        const\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target,\r\n            procuracoes = [...this.props.redux.procuracoes],\r\n            procArray = [],\r\n            procuracoesArray = []\r\n\r\n        const procuradores = [...this.props.redux.procuradores]\r\n\r\n        this.setState({ ...this.state, [name]: value })\r\n\r\n        if (name === 'razaoSocial' && Array.isArray(procuradores)) {\r\n\r\n            procuracoes = procuracoes.filter(pr => pr.razaoSocial === value)\r\n\r\n            if (procuracoes[0]) procuracoes.forEach(pr => {\r\n                pr.procuradores.forEach(id => {\r\n                    const pro = procuradores.find(p => p.procuradorId === id)\r\n                    if (pro) procArray.push(pro)\r\n\r\n                })\r\n                procuracoesArray.push(procArray)\r\n                procArray = []\r\n            })\r\n\r\n            this.setState({ procuracoesArray, selectedDocs: procuracoes })\r\n\r\n            const selectedEmpresa = this.props.redux.empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n            } else this.setState({ selectedEmpresa: undefined })\r\n        }\r\n    }\r\n\r\n    addProc = async () => {\r\n        const\r\n            { selectedEmpresa, procFiles, vencimento } = this.state,\r\n            procuradores = [...this.props.redux.procuradores],\r\n            nProc = [...this.state.procsToAdd]\r\n        let\r\n            selectedDocs = [...this.state.selectedDocs],\r\n            files = [...this.state.files],\r\n            addedProcs = [],\r\n            sObject = {}\r\n\r\n        nProc.forEach((n, i) => {\r\n            procuradorForm.forEach(obj => {\r\n                Object.assign(sObject, { [obj.field]: this.state[obj.field + i] })\r\n            })\r\n            let j = 0\r\n            Object.values(sObject).forEach(v => {\r\n                if (v) j += 1\r\n            })\r\n            if (j > 0) addedProcs.push(sObject)\r\n\r\n            j = 0\r\n            sObject = {}\r\n\r\n            procuradorForm.forEach(obj => {\r\n                this.setState({ [obj.field + i]: '' })\r\n            })\r\n        })\r\n\r\n        let gotId, newMembers = [], procIdArray = [],\r\n            contratoFile = new FormData()\r\n\r\n        addedProcs.forEach(fp => {\r\n            gotId = procuradores.filter(p => p.cpfProcurador === fp.cpfProcurador)\r\n            if (gotId.length > 0 && gotId[0].hasOwnProperty('procuradorId')) {\r\n                procIdArray.push(gotId[0].procuradorId)\r\n            } else {\r\n                newMembers.push(fp)\r\n            }\r\n        })\r\n\r\n        if (newMembers.length > 0) {\r\n            newMembers = humps.decamelizeKeys(newMembers)\r\n            await axios.post('/api/cadProcuradores', { procuradores: newMembers, table: 'procurador', tablePK: 'procurador_id' })\r\n                .then(procs => {\r\n                    procs.data.forEach(p => procIdArray.push(p.procurador_id))\r\n                })\r\n            await axios.get('/api/procuradores')\r\n                .then(res => {\r\n                    const procuradores = humps.camelizeKeys(res.data)\r\n                    this.setState({ procuradores })\r\n                })\r\n        }\r\n\r\n        let novaProcuracao = {\r\n            delegatario_id: selectedEmpresa.delegatarioId,\r\n            vencimento,\r\n            status: 'vigente',\r\n            procuradores: procIdArray\r\n        }\r\n\r\n        Object.entries(novaProcuracao).forEach(([k, v]) => {\r\n            if (!v || v === '') delete novaProcuracao[k]\r\n        })\r\n\r\n        let procuracaoId\r\n\r\n        await axios.post('/api/cadProcuracao', novaProcuracao)\r\n            .then(r => {\r\n                procuracaoId = r.data[0].procuracao_id\r\n            })\r\n\r\n        novaProcuracao.procuracaoId = procuracaoId\r\n\r\n        if (procFiles) {\r\n            contratoFile.append('fieldName', 'procuracao')\r\n            contratoFile.append('empresaId', selectedEmpresa.delegatarioId)\r\n            contratoFile.append('procuracaoId', procuracaoId)\r\n            contratoFile.append('procuradores', procIdArray)\r\n            for (let pair of procFiles.entries()) {\r\n                contratoFile.append(pair[0], pair[1])\r\n            }\r\n            await axios.post('/api/empresaUpload', contratoFile)\r\n                .then(r => console.log(r.data))\r\n\r\n            await axios.get(`/api/getOneFile?collection=empresaDocs&id=${procuracaoId}`)\r\n                .then(r => { if (r.data[0]) files.push(r.data[0]) })\r\n        }\r\n\r\n\r\n        selectedDocs.reverse()\r\n        selectedDocs.push(novaProcuracao)\r\n        selectedDocs.reverse()\r\n\r\n        this.setState({\r\n            selectedDocs,\r\n            files,\r\n            procDisplay: 'Clique ou arraste para anexar a procuração referente a este(s) procurador(es).',\r\n            procsToAdd: [1],\r\n            vencimento: '',\r\n            procFiles: undefined\r\n        })\r\n\r\n        this.toast()\r\n    }\r\n\r\n    removeProc = async proc => {\r\n\r\n        const { files } = this.state,\r\n            id = proc.procuracaoId,\r\n            selectedFile = files.find(f => Number(f.metadata.procuracaoId) === id)\r\n\r\n\r\n        let procs = [...this.state.selectedDocs]\r\n\r\n        await axios.delete(`/api/delete?table=procuracao&tablePK=procuracao_id&id=${id}`)\r\n            .then(r => { console.log(r.data) })\r\n\r\n        if (selectedFile && selectedFile.hasOwnProperty('_id')) axios.get(`/api/deleteFile/${selectedFile._id}`)\r\n\r\n        const i = procs.indexOf(proc)\r\n        procs.splice(i, 1)\r\n\r\n        this.setState({ selectedDocs: procs })\r\n    }\r\n\r\n    handleFiles = (file) => {\r\n        let procFiles = new FormData()\r\n        procFiles.append('procFile', file[0])\r\n        this.setState({ procFiles, procDisplay: file[0].name })\r\n    }\r\n\r\n    getFile = id => {\r\n        const { files } = this.state\r\n\r\n        const selectedFile = files.find(f => Number(f.metadata.procuracaoId) === id)\r\n\r\n        if (selectedFile) {\r\n            const { _id, filename } = selectedFile\r\n            download(_id, filename, 'empresaDocs')\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n        }\r\n    }  \r\n\r\n    plusOne = () => {\r\n        let i = [...this.state.procsToAdd]\r\n        i.push(1)\r\n        this.setState({ procsToAdd: i })\r\n    }\r\n\r\n    minusOne = () => {\r\n        let i = [...this.state.procsToAdd]\r\n        i.pop()\r\n        this.setState({ procsToAdd: i })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const {  openAlertDialog, alertType } = this.state\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Alteração de procuradores' />\r\n                <AltProcuradoresTemplate\r\n                    data={this.state}\r\n                    redux={this.props.redux}\r\n                    handleInput={this.handleInput}\r\n                    removeProc={this.removeProc}\r\n                    handleFiles={this.handleFiles}\r\n                    addProc={this.addProc}                   \r\n                    handleSubmit={this.handleSubmit}                    \r\n                    plusOne={this.plusOne}\r\n                    minusOne={this.minusOne}\r\n                    getFile={this.getFile}\r\n                />               \r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['empresas', 'procuradores', 'procuracoes']\r\n\r\nexport default (StoreHOC(collections, AltProcuradores))","import React, { Fragment } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1)\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 500,\r\n        textAlign: 'center'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 200,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    helperText: {\r\n        marginTop: '4px'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    },\r\n    addButton: {\r\n        marginBottom: '1%',\r\n        padding: '1% 0'\r\n    },\r\n    dropBox: {\r\n        margin: '1% 0',\r\n    },\r\n    dropBoxItem: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '17px',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#4169E1',\r\n        backgroundColor: '#fafafa'\r\n    },\r\n    dropBoxItem2: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '0 1% 0 1%',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#00000',\r\n        backgroundColor: '#fafafa'\r\n    }\r\n}))\r\n\r\n\r\nexport default function AltSociosTemplate({ empresas, data, removeSocio, handleBlur, handleInput,\r\n    addSocio, handleFiles, enableEdit, handleEdit, handleSubmit }) {\r\n\r\n    const\r\n        { dropDisplay, filteredSocios, selectedEmpresa } = data,\r\n        classes = useStyles(),\r\n        { paper, container, title, iconButton, dropBox,\r\n            dropBoxItem, dropBoxItem2, list, addButton } = classes\r\n\r\n    const errorHandler = (el) => {\r\n\r\n        const value = data[el.field]\r\n\r\n        if (el.pattern && value) {\r\n            return value.match(el.pattern) === null\r\n        }\r\n        if (value > el.max || value < el.min) return true\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        const value = data[el.field]\r\n\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return ' '\r\n    }\r\n    \r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}\r\n                handleBlur={handleBlur}\r\n            />\r\n            {\r\n                //selectedEmpresa \r\n                true && <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        {\r\n                            sociosForm.map((el, i) =>\r\n                                <Fragment key={i}>\r\n                                    <TextField\r\n                                        name={el.field}\r\n                                        label={el.label}\r\n                                        margin='normal'\r\n                                        className={classes.textField}\r\n                                        onChange={handleInput}\r\n                                        onBlur={handleBlur}\r\n                                        type={el.type || ''}\r\n                                        error={errorHandler(el)}\r\n                                        helperText={helper(el)}\r\n                                        FormHelperTextProps={{\r\n                                            className: classes.helperText\r\n                                        }}\r\n                                        select={el.select || false}\r\n                                        value={data[el.field] || ''}\r\n                                        disabled={el.disabled}\r\n                                        InputLabelProps={{\r\n                                            className: classes.textField,\r\n                                            shrink: el.type === 'date' || undefined,\r\n                                            style: { fontSize: '0.7rem', color: '#455a64', marginBottom: '5%' }\r\n                                        }}\r\n                                        inputProps={{\r\n                                            style: { background: el.disabled && data.disable ? '#fff' : '#fafafa', height: '7px' },\r\n                                            value: `${data[el.field] || ''}`,\r\n                                            list: el.datalist || '',\r\n                                            maxLength: el.maxLength || '',\r\n                                            minLength: el.minLength || '',\r\n                                            max: el.max || '',\r\n                                        }}\r\n                                        variant={el.variant || 'filled'}\r\n                                    >\r\n                                    </TextField>\r\n                                </Fragment>\r\n                            )}\r\n\r\n                        <Button color='primary' className={addButton} onClick={addSocio}>\r\n                            <AddIcon /> Adicionar sócio\r\n                        </Button>\r\n                    </Paper>\r\n                </Grid>\r\n            }\r\n            {\r\n                selectedEmpresa && filteredSocios.length === 0 &&\r\n                <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        Nenhum sócio cadastrado para {selectedEmpresa.razaoSocial}\r\n                    </Paper>\r\n\r\n                </Grid>\r\n            }\r\n            {\r\n                filteredSocios.length > 0 && selectedEmpresa && <Grid container\r\n                    direction=\"row\"\r\n                    className={container}\r\n                    justify=\"center\"\r\n                    alignItems=\"center\">\r\n                    <Grid item xs={12}>\r\n                        <Paper className={paper}>\r\n                            <p className={title}>Sócios cadastrados</p>\r\n                            {filteredSocios.map((s, i) =>\r\n                                <Grid key={i}>\r\n                                    {sociosForm.map((e, k) =>\r\n                                        <Fragment key={k + 1000}>\r\n                                            <TextField\r\n                                                value={s[e.field] || ''}\r\n                                                name={e.field}\r\n                                                label={e.label}\r\n                                                className={list}\r\n                                                disabled={e.field === 'cpfSocio' ? true : s.edit ? false : true}\r\n                                                onChange={handleEdit}\r\n                                                InputLabelProps={{ shrink: true, style: { fontWeight: 600 } }}\r\n                                                inputProps={{ style: { fontSize: '0.8rem' } }}\r\n                                            />\r\n                                        </Fragment>\r\n                                    )}\r\n                                    <Button component='span' className={iconButton} title='editar' onClick={() => enableEdit(i)}>\r\n                                        <EditIcon />\r\n                                    </Button>\r\n                                    <Button className={iconButton} color='secondary' title='Remover' onClick={() => removeSocio(i)}>\r\n                                        <DeleteIcon />\r\n                                    </Button>\r\n                                </Grid>\r\n                            )}\r\n                        </Paper>\r\n                        <Dropzone onDrop={handleFiles}>\r\n                            {({ getRootProps, getInputProps }) => (\r\n                                <Grid container justify=\"center\" alignItems='center' className={dropBox} direction='row' {...getRootProps()}>\r\n                                    <input {...getInputProps()} />\r\n                                    {\r\n                                        dropDisplay.match('Clique ou') ?\r\n                                            <Grid item xs={6} className={dropBoxItem}> {dropDisplay} </Grid>\r\n                                            :\r\n                                            <Grid item xs={6} className={dropBoxItem2}> <DescriptionOutlinedIcon />  {dropDisplay} <br /> (clique ou arraste outro arquivo para alterar)</Grid>\r\n                                    }\r\n                                </Grid>\r\n                            )}\r\n                        </Dropzone>\r\n                        <Grid container direction=\"row\" justify='flex-end' style={{ width: '1200px' }}>\r\n                            <Grid item xs={10} style={{ width: '1000px' }}></Grid>\r\n                            <Grid item xs={1} style={{ align: \"right\" }}>\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    color=\"primary\"\r\n                                    variant=\"contained\"\r\n                                    style={{ margin: '0px 0 10px 0' }}\r\n                                    onClick={() => handleSubmit()}                                    \r\n                                >\r\n                                    Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            }\r\n        </Grid>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport humps from 'humps'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport AltSociosTemplate from './AltSociosTemplate'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass AltSocios extends Component {\r\n\r\n    state = {\r\n        razaoSocial: '',\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        dialogTitle: '',\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        filteredSocios: [],\r\n        dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n        showFiles: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const originals = humps.decamelizeKeys(this.props.redux.socios)\r\n        this.setState({ originals })\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { empresas, socios } = this.props.redux,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        this.setState({ ...this.state, [name]: value })\r\n\r\n        if (name === 'razaoSocial') {\r\n            const filteredSocios = [...socios.filter(s => s.razaoSocial === value)],\r\n                selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n            if (filteredSocios.length > 0) {\r\n                this.setState({ filteredSocios, selectedEmpresa })\r\n            } else this.setState({ filteredSocios: [] })\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n            } else this.setState({ selectedEmpresa: undefined })\r\n        }\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const { filteredSocios } = this.state\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n        switch (name) {\r\n            case 'cpfSocio':\r\n                const alreadyExists = filteredSocios.find(e => e.cpfSocio === value)\r\n                if (alreadyExists) {\r\n                    this.setState({ alertType: 'alreadyExists', openAlertDialog: true })\r\n                    this.setState({ cpfSocio: '' })\r\n                }\r\n                break;\r\n            case 'share':\r\n\r\n                if (value) {\r\n                    value = value.replace(',', '.')\r\n\r\n                    if (value > 100) {\r\n                        await this.setState({ share: '' })\r\n                        value = ''\r\n                        this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n                    }\r\n                    if (value !== '0' && value !== '00' && !Number(value)) {\r\n\r\n                        await this.setState({ share: '' })\r\n                        this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n\r\n                    } else {\r\n                        let totalShare = filteredSocios.map(s => Number(s.share))\r\n                            .reduce((a, b) => a + b)\r\n\r\n                        totalShare += Number(value)\r\n                        this.setState({ totalShare, share: value })\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    addSocio = async () => {\r\n        let socios = this.state.filteredSocios,\r\n            sObject = {}\r\n\r\n        //check if totalShare is more than 100\r\n        if (this.state.totalShare > 100) {\r\n            this.setState({ openAlertDialog: true, alertType: 'overShared' })\r\n            return null\r\n        }\r\n\r\n        sociosForm.forEach(obj => {\r\n            Object.assign(sObject, { [obj.field]: this.state[obj.field] })\r\n        })\r\n        socios.unshift(sObject)\r\n\r\n        await this.setState({ filteredSocios: socios })\r\n\r\n        sociosForm.forEach(obj => {\r\n            this.setState({ [obj.field]: '' })\r\n        })\r\n        document.getElementsByName('nomeSocio')[0].focus()\r\n    }\r\n\r\n    removeSocio = async index => {\r\n\r\n        let socios = [...this.state.filteredSocios]\r\n        const\r\n            id = socios[index].socioId,\r\n            originalSocios = this.props.redux.socios,\r\n            registered = originalSocios.find(s => s.socioId === id)\r\n\r\n        if (registered) {\r\n            await axios.delete(`/api/delete?table=socios&tablePK=socio_id&id=${id}`)\r\n                .catch(err => console.log(err))\r\n        }\r\n\r\n        socios.splice(index, 1)\r\n        this.setState({ filteredSocios: socios })\r\n    }\r\n\r\n    enableEdit = index => {\r\n\r\n        let editSocio = this.state.filteredSocios\r\n        if (editSocio[index].edit === true) editSocio[index].edit = false\r\n        else {\r\n            editSocio.forEach(s => s.edit = false)\r\n            editSocio[index].edit = true\r\n        }\r\n        this.setState({ filteredSocios: editSocio })\r\n\r\n    }\r\n\r\n    handleEdit = e => {\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'share') value = value.replace(',', '.')\r\n        let editSocio = this.state.filteredSocios.filter(s => s.edit === true)[0]\r\n        const index = this.state.filteredSocios.indexOf(editSocio)\r\n\r\n        editSocio[name] = value\r\n\r\n        let fs = this.state.filteredSocios\r\n        fs[index] = editSocio\r\n\r\n        this.setState({ filteredSocios: fs })\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n        const\r\n            { selectedEmpresa, contratoSocial, filteredSocios } = this.state,\r\n            { socios } = this.props.redux\r\n\r\n        //check if totalShare is more than 100\r\n        let updatedShare = filteredSocios.map(s => Number(s.share))\r\n            .reduce((a, b) => a + b)\r\n\r\n        if (updatedShare > 100) {\r\n            this.setState({ openAlertDialog: true, alertType: 'overShared' })\r\n            return null\r\n        }\r\n\r\n        let\r\n            oldMembers = [], newMembers = [],\r\n            contratoFile = new FormData(),\r\n            keys = sociosForm.map(el => humps.decamelize(el.field))\r\n        keys.splice(1, 1)\r\n\r\n        filteredSocios.forEach(fs => {\r\n            let { razaoSocial, createdAt, edit, ...rest } = fs\r\n            fs = rest\r\n            fs.delegatarioId = selectedEmpresa.delegatarioId\r\n            if (!fs.hasOwnProperty('socioId')) {\r\n                const gotId = socios.find(s => s.cpfSocio === fs.cpfSocio)\r\n                if (gotId) {\r\n                    fs.socioId = gotId.socioId\r\n                    oldMembers.push(fs)\r\n                } else {\r\n                    newMembers.push(fs)\r\n                }\r\n            } else {\r\n                oldMembers.push(fs)\r\n                delete oldMembers.socioId\r\n            }\r\n        })\r\n\r\n        const table = 'socios', tablePK = 'socio_id'\r\n        let realChanges = [], altObj = {}\r\n\r\n        const originals = humps.camelizeKeys(this.state.originals)\r\n\r\n        oldMembers.forEach(m => {\r\n            originals.forEach(s => {\r\n                if (m.socioId === s.socioId) {\r\n                    Object.keys(m).forEach(key => {\r\n                        if (m[key] !== s[key] || key === 'socioId') {\r\n                            Object.assign(altObj, { [key]: m[key] })\r\n                        }\r\n                    })\r\n                    if (Object.keys(altObj).length > 1) realChanges.push(altObj)\r\n                    altObj = {}\r\n                }\r\n            })\r\n        })\r\n\r\n        oldMembers = humps.decamelizeKeys(realChanges)\r\n        newMembers = humps.decamelizeKeys(newMembers)\r\n        let socioIdsArray = filteredSocios\r\n            .filter(s => s.socioId !== undefined)\r\n            .map(s => s.socioId)\r\n\r\n        try {\r\n            if (oldMembers.length > 0) {\r\n                await axios.put('/api/editSocios', { requestArray: oldMembers, table, tablePK, keys })\r\n                    .then(r => console.log(r.data))\r\n            }\r\n\r\n            if (newMembers.length > 0) {\r\n                await axios.post('/api/cadSocios', { socios: newMembers, table, tablePK })\r\n                    .then(r => r.data.forEach(newSocio => socioIdsArray.push(newSocio.socio_id)))\r\n            }\r\n            \r\n            if (contratoSocial) {\r\n                contratoFile.append('empresaId', selectedEmpresa.delegatarioId)\r\n                contratoFile.append('socios', socioIdsArray)\r\n\r\n                for (let pair of contratoSocial.entries()) {\r\n                    contratoFile.append(pair[0], pair[1])\r\n                }\r\n                await axios.post('/api/empresaUpload', contratoFile)\r\n                    .then(r => console.log(r.data))\r\n            }\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n\r\n        oldMembers = []\r\n        realChanges = []\r\n        altObj = {}\r\n        newMembers = []\r\n        this.toast()\r\n\r\n        const updatedList = humps.decamelizeKeys(this.props.redux.socios)\r\n        this.setState({\r\n            razaoSocial: '', selectedEmpresa: undefined, filteredSocios: [],\r\n            dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n            contratoSocial: undefined,\r\n            originals: updatedList\r\n        })\r\n    }\r\n\r\n    handleFiles = (file) => {\r\n\r\n        let formData = new FormData()\r\n        formData.append('contratoSocial', file[0])\r\n        this.setState({ dropDisplay: file[0].name, contratoSocial: formData })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const { openAlertDialog, alertType } = this.state,\r\n            { empresas } = this.props.redux\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Alteração do quadro societário' />\r\n                <AltSociosTemplate\r\n                    data={this.state}\r\n                    empresas={empresas}\r\n                    handleInput={this.handleInput}\r\n                    handleBlur={this.handleBlur}\r\n                    addSocio={this.addSocio}\r\n                    removeSocio={this.removeSocio}\r\n                    enableEdit={this.enableEdit}\r\n                    handleEdit={this.handleEdit}\r\n                    handleFiles={this.handleFiles}\r\n                    handleSubmit={this.handleSubmit}\r\n                />\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['empresas', 'socios']\r\n\r\nexport default StoreHOC(collections, AltSocios)","import React from 'react'\r\n\r\nexport default function underConstruction() {\r\n    return (\r\n        <div style={{ height: '60vh', width: '100%', margin: '15% 35%' }}>\r\n            <img src=\"/images/underConstruction.png\" alt=\"Página em construção\" />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport HomeTemplate from './HomeTemplate'\r\n\r\nimport VeiculosHome from './Veiculos/VeiculosHome'\r\nimport CadVeiculos from './Veiculos/CadVeiculo'\r\nimport AltVeiculos from './Veiculos/AltDados'\r\nimport AltSeguro from './Veiculos/AltSeguro'\r\nimport BaixaVeiculo from './Veiculos/BaixaVeiculo'\r\nimport Config from './Veiculos/Config'\r\n\r\nimport Consultas from './Consultas/ConsultasContainer'\r\nimport Empresas from './Empresas/EmpresasContainer'\r\nimport EmpresasHome from './Empresas/EmpresasHome'\r\nimport Procuradores from './Empresas/AltProcuradores'\r\nimport Socios from './Empresas/AltSocios'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport UnderConstruction from './Utils/UnderConstruction'\r\nimport PdfTest from './Veiculos/Certificate'\r\n\r\nexport default () =>\r\n    \r\n    <Switch>\r\n        <Route exact path='/' component={HomeTemplate} />\r\n        <Route path='/certidoes' component = {UnderConstruction} />\r\n        <Route path='/veiculos' exact component = {VeiculosHome} />\r\n        <Route path='/veiculos/cadastro' exact component = {CadVeiculos} />\r\n        <Route path='/veiculos/altDados' exact component = {AltVeiculos} />\r\n        <Route path='/veiculos/altSeguro' exact component = {AltSeguro} />\r\n        <Route path='/veiculos/baixaVeiculo' exact component = {BaixaVeiculo} />\r\n        <Route path='/veiculos/config' exact component = {Config} />\r\n        <Route path='/consultas' component = {Consultas} />\r\n        <Route path='/empresas' exact component = {EmpresasHome} />\r\n        <Route path='/empresas/cadastro' component = {Empresas} />             \r\n        <Route path='/empresas/socios' component = {Socios} />     \r\n        <Route path='/empresas/procuradores' component = {Procuradores} />     \r\n        <Route path='/crv' component = {PdfTest} />\r\n        <Route path='/faleConosco' component = {UnderConstruction} />\r\n    </Switch>\r\n\r\n","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport promise from 'redux-promise';\r\nimport multi from 'redux-multi';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './rootReducer'\r\n\r\n\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { Header, Footer } from './Layouts'\r\nimport { Container } from '@material-ui/core';\r\nimport Routes from './Routes'\r\n\r\nfunction App() {\r\n\r\n  const useStyles = makeStyles(theme => ({\r\n    root: { backgroundColor:'#fbfbfb' }\r\n  }))\r\n\r\n  const { root } = useStyles()\r\n  const store = applyMiddleware(promise, multi, thunk)(createStore)\r\n  return (\r\n    <Provider store={store(rootReducer)}>\r\n      <div className={root}>\r\n        <Container maxWidth=\"lg\" style={{ minHeight: '100vh' }}>\r\n          <BrowserRouter>\r\n            <Header />\r\n            <Routes />\r\n          </BrowserRouter>\r\n          <Footer />\r\n        </Container>\r\n      </div>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.jsx';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}