{"version":3,"sources":["Store/dataReducer.js","rootReducer.js","Layouts/Header.jsx","Layouts/Footer.jsx","Layouts/TabMenu.jsx","HomeTemplate.jsx","Veiculos/VeiculosHome.jsx","Store/StoreHOC.jsx","Store/dataActions.js","Layouts/Loading.jsx","Forms/configVehicleForm.js","Utils/checkInputErrors.js","Utils/autoComplete.jsx","Reusable Components/TextInput.jsx","Forms/seguroForm.js","Forms/cadForm.js","Forms/vistoriaForm.js","Reusable Components/ClosePopUpButton.jsx","Veiculos/AddEquipa.jsx","Veiculos/CadVeiculoTemplate.jsx","Reusable Components/DragAndDrop.jsx","Forms/cadVehicleFiles.js","Forms/altDadosFiles.js","Veiculos/VehicleDocs.jsx","Utils/ShowLocalFiles.jsx","Utils/downloadFile.js","Reusable Components/StandardTable.jsx","Veiculos/VehicleReview.jsx","Utils/Crumbs.jsx","Utils/StepperButtons.jsx","Utils/Stepper.jsx","Utils/ReactToast.jsx","Utils/formatMoney.js","Utils/AlertDialog.jsx","Veiculos/CadVeiculo.jsx","Forms/altForm.js","Forms/altFormVistoria.js","Reusable Components/SelectEmpresa.jsx","Veiculos/AltDadosTemplate.jsx","Utils/FormDialog.jsx","Veiculos/AltDados.jsx","Forms/altSegForm.js","Veiculos/AltSeguroTemplate.jsx","Veiculos/ShowAllPlates.jsx","Veiculos/ConfigAddDialog.jsx","Veiculos/AltSeguro.jsx","Forms/baixaForm.js","Veiculos/BaixaTemplate.jsx","Veiculos/BaixaVeiculo.jsx","Veiculos/ConfigTemplate.jsx","Veiculos/Config.jsx","Utils/formatDate.js","Consultas/tables.js","Consultas/ConsultasTemplate.jsx","Forms/certificate.js","Veiculos/Certificate.jsx","Forms/joinForms.js","Forms/empresasForm.js","Forms/sociosForm.js","Forms/procuradorForm.js","Reusable Components/ShowDetails.jsx","Utils/formatFileSize.js","Forms/empresaFiles.js","Reusable Components/ShowFiles.jsx","Consultas/ConsultasContainer.jsx","Empresas/EmpresasTemplate.jsx","Empresas/SociosTemplate.jsx","Empresas/EmpresaReview.jsx","Empresas/EmpresasContainer.jsx","Empresas/EmpresasHome.jsx","Empresas/Procurador.jsx","Empresas/AltProcuradoresTemplate.jsx","Empresas/AltProcuradores.jsx","Empresas/AltSociosTemplate.jsx","Empresas/AltSocios.jsx","Relatorios/chartsConfig.js","Relatorios/RelatoriosTemplate.jsx","Relatorios/Relatorios.jsx","Forms/laudoForm.js","Reusable Components/Placa.jsx","Reusable Components/CustomTable.jsx","Reusable Components/OnClickMenu.jsx","Veiculos/LaudosTemplate.jsx","Forms/laudosTable.js","Veiculos/Laudos.jsx","Utils/UnderConstruction.jsx","Routes.jsx","App.jsx","serviceWorker.js","index.js"],"names":["initState","dataReducer","state","action","type","payload","collection","data","update","forEach","el","unshift","id","map","v","apolice","placaIndex","vehicleIndex","seguros","seguro","find","s","index","findIndex","placas","splice","veiculos","tablePK","updatedData","match","Number","element","setColor","loading","rootReducer","combineReducers","useStyles","makeStyles","theme","toolbarTitle","flex","toolbarSecondary","justifyContent","overflowX","backgroundColor","color","toolbarLink","padding","flexShrink","mainFeaturedPost","position","palette","grey","common","white","marginBottom","spacing","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","overlay","top","bottom","right","left","mainFeaturedPostContent","breakpoints","up","paddingRight","mainGrid","marginTop","card","display","cardDetails","cardMedia","width","markdown","typography","body2","sidebarAboutBox","sidebarSection","footer","background","paper","sections","title","link","withRouter","props","classes","useState","document","location","pathname","path","setSelected","useEffect","Fragment","CssBaseline","Toolbar","Button","size","Typography","component","variant","align","noWrap","className","IconButton","i","Link","RouterLink","to","key","href","style","fontFamily","fontSize","borderBottom","fontWeight","onClick","Footer","items","tab","changeTab","Tabs","value","indicatorColor","textColor","centered","onChange","item","Tab","label","featuredPosts","date","description","imageUrl","minHeight","height","textDecoration","src","alt","menuCards","VeiculosHome","url","socket","getData","collectionsArray","dispatch","getState","a","async","promiseArray","returnObj","length","collectionName","push","axios","get","Promise","all","then","res","r","humps","camelizeKeys","responseArray","replace","camelize","Object","assign","insertData","dataFromServer","seguradoras","console","log","seguradora","sg","seguradoraId","plates","vehicles","updatedCollection","dataEmissao","vencimento","placa","veiculoId","collectionPayload","batch","updateData","updateCollection","deleteOne","Loading","configVehicleForm","field","name","table","socketIO","require","requestArray","WrappedComponent","collections","req","With","redux","this","request","colName","on","insertedObjects","updatedObjects","object","off","c","every","col","hasOwnProperty","React","Component","connect","bindActionCreators","checkInputErrors","sendState","p","querySelectorAll","inputs","errors","errString","textContent","l","parentNode","moment","isValid","previousSibling","e","slice","openAlertDialog","alertType","customMsg","autoComplete","datalist","textField","marginLeft","marginRight","fontColor","textAlign","select","helperText","margin","TextInput","handleInput","handleBlur","form","selectOptions","errorHandler","max","min","toString","pattern","helper","TextField","onBlur","error","FormHelperTextProps","disabled","InputLabelProps","shrink","undefined","inputProps","disable","list","maxLength","minLength","multiline","rows","fullWidth","SelectProps","opt","MenuItem","options","seguroForm","cadForm","Date","getFullYear","zero","concat","step","ClosePopUpButton","close","cursor","AddEquipa","equipamentos","handleCheck","eq","FormControlLabel","control","Checkbox","checked","container","flexWrap","selectEmpresa","minWidth","formHolder","text","secondary","empresas","handleEquipa","razaoSocial","activeStep","addEquipa","delegatarioCompartilhado","subtitle","selectedEmpresa","button","shared","setShared","Grid","direction","justify","Paper","xs","float","DragAndDrop","formData","handleFiles","dropDisplay","single","fileName","setFileName","entries","pair","onDrop","getRootProps","getInputProps","cadVehicleFiles","altDadosFiles","root","flexGrow","sendButton","VehicleDocs","filesForm","parentComponent","insuranceExists","k","md","divContainer","alignContent","divFiles","alignItems","border","borderRadius","icon","verticalAlign","paddingLeft","fileIcon","ShowLocalFiles","files","fileArray","fieldName","f","file","window","URL","createObjectURL","createElement","setAttribute","body","appendChild","click","createLink","downloadFile","originalName","method","responseType","response","Blob","catch","err","StandardTable","labels","values","docs","colSpan","j","filename","metadata","ISO_8601","format","Revisao","ultimateData","vehicleDetails","obj","newForm","filledForm","y","Array","isArray","equipamentosId","Crumbs","links","Breadcrumbs","separator","aria-label","paddingBottom","backButton","StepperButtons","setActiveStep","lastStep","handleSubmit","instructions","CustomStepper","steps","Stepper","Step","StepLabel","useStyles1","success","green","dark","info","primary","main","warning","amber","iconVariant","opacity","message","MySnackbarContentWrapper","onClose","other","SnackbarContent","clsx","aria-describedby","Icon","CustomizedSnackbars","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","msg","formatMoney","toFixed","AlertDialog","confirm","customTitle","customMessage","cnpj","createAlert","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","StoreHOC","frota","toastMsg","confirmToast","fileNames","filter","setState","array","prevActiveStep","allInsurances","target","delegatarioId","empresa","filteredInsurances","toLocaleUpperCase","se","testApolice","testSeguradora","keys","newInsurance","getId","stateId","dbName","dbId","alertLabel","toLowerCase","nombre","getElementsByName","focus","modelosChassi","carrocerias","x","handleCadastro","anoCarroceria","pesoDianteiro","pesoTraseiro","poltronas","compartilhadoId","modeloChassiId","modeloCarroceriaId","indicadorIdade","pbt","isNaN","review","modeloChassi","modeloCarroceria","vReview","validEmissao","validVenc","situacao","vehicle","decamelizeKeys","insurance","post","submitFiles","resetState","toast","seguradora_id","column","ids","put","FormData","fn","filesNames","append","delete","showFiles","selectedFiles","filesCollection","selectedVehicle","resetFiles","resetEquip","toggleDialog","escFunction","keyCode","equipArray","addEventListener","CadVeiculoTemplate","PureComponent","altForm","SelectEmpresa","input","altPlacaOption","showAltPlaca","justificativa","header","inputNames","inputLabels","fileInputName","inputName","stepTitles","altPlaca","newPlate","reset","toUpperCase","capitalize","charAt","vEquip","currentEquipa","ve","utilizacao","dominio","delegatario","updatePlate","tempObj","compartilhado","requestObject","closeAlert","AltDadosTemplate","chip","AltSeguro","enableAddPlaca","addPlate","removeFromInsurance","enableChangeApolice","showAllPlates","addedPlaca","seguroFile","sort","flexDirection","Chip","onDelete","ShowAllPlates","htmlFor","ConfigAddDialog","helperMessage","marca","marcas","selectMarca","newElement","addNewElement","deletedVehicles","checkExistance","inputValue","JSON","parse","stringify","allPlates","clearFields","selectedSeguradora","vehicleFound","checkFields","valid","seg","allPlatesObj","insuredPlates","plate","placaInput","check","includes","indexOf","updateInsurance","updates","emissaoDidChange","isSame","vencimentoDidChange","seguradoraDidChange","data_emissao","requestObj","columns","vehicleIds","cadSeguro","delegatario_id","newApoliceNumber","dontUpdateProps","seguroFormData","openAddDialog","prevProps","prevState","updatedInsurance","baixaForm","delegaTransf","FormControl","FormLabel","RadioGroup","row","Radio","labelPlacement","Send","openDialog","newDelega","disableSubmit","checkArray","enableSubmit","BaixaTemplate","ConfigTemplate","staticData","selectCollection","handleChange","enableEdit","removeItem","edit","autoCorrect","spellCheck","addCounter","count","b","localeCompare","marcaChassi","marcaCarroceria","divCell","divWrap","childNodes","inputTarget","marcaCollection","m","marcaId","changedElement","newData","requestElement","originalData","editedElements","rest","realChanges","decamelize","formatDate","test","getDate","getMonth","getHours","getMinutes","vehicleTable","render","rowData","filtering","segurosTable","tables","vencimentoContrato","showDetails","showCertificate","del","subject","exportButton","exportFileName","exportCsv","csvData","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","FileSaver","exportToCSV","actionsColumnIndex","searchFieldStyle","headerStyle","emptyRowsWhenPaging","pageSize","localization","actions","emptyDataSourceMessage","editRow","deleteText","deleteTooltip","filterRow","filterTooltip","toolbar","searchTooltip","searchPlaceholder","exportName","exportAriaLabel","exportTitle","pagination","labelRowsSelect","labelDisplayedRows","firstTooltip","previousTooltip","nextTooltip","lastTooltip","iconProps","tooltip","event","hidden","editable","onRowDelete","oldData","caracteristicas","pesagem","informacoesGerais","PdfCertificate","setVehicle","localStorage","getItem","setTimeout","print","carac","delega","peso","obs","line","ultimateForm","origin","InputProps","redirect","createdAt","eForm","sForm","segForm","vForm","empresasForm","sociosForm","procuradorForm","ShowDetails","formPattern","tableData","laudoId","vData","formatFileSize","bytes","Math","round","empresaFiles","divRow","grid","justifyItems","ShowFiles","typeId","fileLabels","o","download","empresaId","getMoreInfo","uploadDate","ConsultasContainer","tablePKs","dbTables","detailsTitle","detailsHeader","elementDetails","vehicleDocs","primaryKeys","pk","updatedElement","closeFiles","socios","empresaDocs","socio","socioId","sociosArray","filesToReturn","procuradores","procId","reverse","selectedElement","deleteHandler","itemId","seguroVencido","isBefore","contratoVencido","setItem","closeCertificate","certified","TabMenu","ConsultasTemplate","elementId","dropBox","dropBoxItem","zIndex","boxShadow","dropBoxItem2","iconButton","addButton","addSocio","removeSocio","handleEdit","empresaDetails","addedSocios","totalShare","sObject","invalid","share","pop","editSocio","fs","filteredSocios","alert","alreadyExists","numero","contratoSocial","contratoFile","delegatarioStatus","resetEmpresa","resetSocios","EmpresasTemplate","SociosTemplate","divider","gutterBottom","paragraph","cardGrid","CardActionArea","Card","CardContent","Hidden","xsDown","CardMedia","StyledTableCell","withStyles","head","TableCell","StyledCell","StyledTableRow","default","TableRow","Procurador","procuracao","procArray","pro","procuradorId","Table","TableHead","d","TableBody","lineHeight","containerList","selector","paper2","addProc","removeProc","getFile","plusOne","minusOne","procDisplay","procsToAdd","selectedDocs","z","procuracaoId","filteredProc","procuracoesArray","procuracoes","pr","procFiles","nProc","addedProcs","n","newMembers","procIdArray","fp","gotId","cpfProcurador","procs","procurador_id","novaProcuracao","status","procuracao_id","proc","selectedFile","_id","AltProcuradoresTemplate","AltSociosTemplate","dialogTitle","cpfSocio","reduce","originalSocios","oldMembers","altObj","originals","socioIdsArray","newSocio","socio_id","updatedList","barChart","offsetX","offsetY","floating","legend","show","chart","xaxis","dataLabels","enabled","plotOptions","bar","donutChart","pie","donut","formatter","val","total","showAlways","responsive","breakpoint","RelatoriosTemplate","selectedVehicles","tableLabels","mediaIdades","moda","segurosVencidos","segurosVigentes","oldVehicles","veiculosNovos","categories","series","colors","tableValues","sum","newArray","shift","countExpired","selectedId","setRazaoSocial","setEmpresa","allExpired","setExpired","allValid","setValid","setOldVehicles","idades","ano","counter","unsortedLabels","arr","ultimateObj","parcial","poltronasPerYear","poltronasAcc","poltronasMedia","year","acc","average","currentYear","expired","needsLaudo","veiculosAntigos","laudoForm","Placa","city","tableHeaders","laudosArray","laudoDocs","laudo","laudoDocId","StyledMenu","Menu","elevation","getContentAnchorEl","transformOrigin","OnClickMenu","anchorEl","handleClose","menuOptions","keepMounted","Boolean","memo","filteredVehicles","stateInputs","laudoDoc","functions","clickOnPlate","closeMenu","clear","renderColor","laudos","validade","isAfter","toDate","cidade","paddingTop","overflow","laudosTable","empresasLaudo","freeze","empresaLaudo","empresaInput","setFilteredVehicles","details","setDetails","selectVehicle","setAnchorEl","setDropDisplay","setLaudoDoc","setToast","alertDialog","setAlertDialog","changeInputs","setTableData","vehiclesLaudo","laudosTemp","dateA","updatedVehicle","insertLaudos","useCallback","filtered","tempArray","table2","t","toggleToast","clearForm","allFields","persist","currentTarget","laudoAlreadyExists","errorLabel","empresa_id","veiculo_id","requestBody","querySelector","underConstruction","exact","HomeTemplate","CadVeiculos","AltVeiculos","Laudos","BaixaVeiculo","Config","Consultas","EmpresasHome","Empresas","Socios","Procuradores","Relatorios","PdfTest","UnderConstruction","App","store","applyMiddleware","promise","multi","thunk","createStore","Container","maxWidth","Routes","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"ghBAAMA,EAAY,GAwGHC,EAtGK,WAAgC,IAA/BC,EAA8B,uDAAtBF,EAAWG,EAAW,uCACvCC,EAAkBD,EAAlBC,KAAMC,EAAYF,EAAZE,QAEd,OAAQD,GAEJ,IAAK,WACD,OAAO,eAAKF,EAAZ,GAAsBG,GAE1B,IAAK,cAAgB,IACTC,EAAqBD,EAArBC,WAAYC,EAASF,EAATE,KAEpB,GAAIL,EAAMI,IAAeC,EAAM,CAC3B,IAAIC,EAAM,YAAON,EAAMI,IAIvB,OAHAC,EAAKE,SAAQ,SAAAC,GACTF,EAAOG,QAAQD,MAEZ,eACAR,EADP,eACeI,EAAaE,IAGhC,OAAON,EAGX,IAAK,cAAgB,IACTI,EAAyBD,EAAzBC,WAAYC,EAAaF,EAAbE,KAAMK,EAAOP,EAAPO,GAC1B,GAAIV,EAAMI,IAAeC,EAAM,CAC3B,IAAMC,EAASN,EAAMI,GAAYO,KAAI,SAAAC,GAMjC,OALAP,EAAKE,SAAQ,SAAAC,GACLI,EAAEF,KAAQF,EAAGE,KACbE,EAAIJ,MAGLI,KAGX,OAAO,eACAZ,EADP,eACeI,EAAaE,IAGhC,OAAON,EAIX,IAAK,oBAAsB,IACfK,EAAqBF,EAArBE,KAAMD,EAAeD,EAAfC,WAEd,OAAO,eACAJ,EADP,eACeI,EAAaC,IAIhC,IAAK,wBAAL,IACYQ,EAAsCV,EAAtCU,QAASC,EAA6BX,EAA7BW,WAAYC,EAAiBZ,EAAjBY,aAE7B,GAAIf,EAAMgB,QAAS,CAEf,IAAIA,EAAO,YAAOhB,EAAMgB,SACpBC,EAASD,EAAQE,MAAK,SAAAC,GAAC,OAAIA,EAAEN,UAAYA,KACzCO,EAAQJ,EAAQK,WAAU,SAAAF,GAAC,OAAIA,EAAEN,UAAYA,KAMjD,OAJAI,EAAOK,OAAOC,OAAOT,EAAY,GACjCG,EAAOO,SAASD,OAAOR,EAAc,GACrCC,EAAQI,GAASH,EAEV,eACAjB,EADP,CACcgB,YAGlB,OAAOhB,EAEX,IAAK,aAAL,IACYyB,EAAwBtB,EAAxBsB,QAASrB,EAAeD,EAAfC,WACjB,GAAIJ,EAAMI,GAAa,CAEf,IAAEM,EAAOP,EAAPO,GACFgB,EADA,YACkB1B,EAAMI,IAEvBA,EAAWuB,MAAM,UAASjB,EAAKkB,OAAOlB,IAE3C,IACImB,EAAUH,EAAYR,MAAK,SAAAV,GAAE,OAAIA,EAAGiB,KAAaf,KACjDU,EAAQM,EAAYL,WAAU,SAAAb,GAAE,OAAIA,IAAOqB,KAI/C,OAFAH,EAAYH,OAAOH,EAAO,GAEnB,eACApB,EADP,eACeI,EAAasB,IAGhC,OAAO1B,EAEX,IAAK,YACD,OAAO,eAAKA,EAAZ,CAAmB8B,SAAU7B,EAAOE,UAExC,IAAK,UACD,OAAO,eAAKH,EAAZ,CAAmB+B,QAAS9B,EAAOE,UAEvC,QACI,OAAOH,IC7FJgC,EAJKC,YAAgB,CAChC5B,KAAMN,I,iGCKJmC,G,OAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCC,aAAc,CACVC,KAAM,GAEVC,iBAAkB,CACdC,eAAgB,gBAChBC,UAAW,OACXC,gBAAiB,UACjBC,MAAO,SAGXC,YAAa,CACTC,QAAS,sBACTC,WAAY,GAEhBC,iBAAkB,CACdC,SAAU,WACVN,gBAAiBN,EAAMa,QAAQC,KAAK,KACpCP,MAAOP,EAAMa,QAAQE,OAAOC,MAC5BC,aAAcjB,EAAMkB,QAAQ,GAC5BC,gBAAiB,4BACjBC,eAAgB,QAChBC,iBAAkB,YAClBC,mBAAoB,UAExBC,QAAS,CACLX,SAAU,WACVY,IAAK,EACLC,OAAQ,EACRC,MAAO,EACPC,KAAM,EACNrB,gBAAiB,kBAErBsB,wBAAwB,aACpBhB,SAAU,WACVH,QAAST,EAAMkB,QAAQ,IACtBlB,EAAM6B,YAAYC,GAAG,MAAQ,CAC1BrB,QAAST,EAAMkB,QAAQ,GACvBa,aAAc,IAGtBC,SAAU,CACNC,UAAWjC,EAAMkB,QAAQ,IAE7BgB,KAAM,CACFC,QAAS,QAEbC,YAAa,CACTlC,KAAM,GAEVmC,UAAW,CACPC,MAAO,KAEXC,SAAS,eACFvC,EAAMwC,WAAWC,MADhB,CAEJhC,QAAST,EAAMkB,QAAQ,EAAG,KAE9BwB,gBAAiB,CACbjC,QAAST,EAAMkB,QAAQ,GACvBZ,gBAAiBN,EAAMa,QAAQC,KAAK,MAExC6B,eAAgB,CACZV,UAAWjC,EAAMkB,QAAQ,IAE7B0B,OAAQ,CACJtC,gBAAiBN,EAAMa,QAAQgC,WAAWC,MAC1Cb,UAAWjC,EAAMkB,QAAQ,GACzBT,QAAST,EAAMkB,QAAQ,EAAG,SAI5B6B,EAAW,CACb,CAAEC,MAAO,oBAAkBC,KAAM,KACjC,CAAED,MAAO,YAAaC,KAAM,cAC5B,CAAED,MAAO,cAAYC,KAAM,aAC3B,CAAED,MAAO,WAAYC,KAAM,aAC3B,CAAED,MAAO,gBAAcC,KAAM,eAC7B,CAAED,MAAO,eAAgBC,KAAM,iBAiEpBC,eA7DA,SAAAC,GACX,IAAMC,EAAUtD,IADI,EAEQuD,mBAASC,SAASC,SAASC,UAFnC,mBAEbC,EAFa,KAEPC,EAFO,KAGZF,EAAaL,EAAMI,SAAnBC,SAMR,OAJAG,qBAAU,WACND,EAAYF,KACb,CAACA,IAGA,kBAAC,IAAMI,SAAP,KACI,kBAACC,EAAA,EAAD,MAEA,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQC,KAAK,SAAb,oBACA,kBAACC,EAAA,EAAD,CACIC,UAAU,KACVC,QAAQ,KACR5D,MAAM,UACN6D,MAAM,SACNC,QAAM,EACNC,UAAWlB,EAAQnD,cANvB,4DAUA,kBAACsE,EAAA,EAAD,KACI,kBAAC,IAAD,OAEJ,kBAACR,EAAA,EAAD,CAAQI,QAAQ,WAAWH,KAAK,SAAhC,gBAIJ,kBAACF,EAAA,EAAD,CAASI,UAAU,MAAMC,QAAQ,QAAQG,UAAWlB,EAAQjD,kBACvD4C,EAASxE,KAAI,WAAkBiG,GAAlB,IAAGvB,EAAH,EAAGA,KAAMD,EAAT,EAASA,MAAT,OACV,kBAACyB,EAAA,EAAD,CACIP,UAAWQ,IACXC,GAAI1B,EACJ2B,IAAKJ,EACLjE,MAAM,UACN8D,QAAM,EACNF,QAAQ,QACRU,KAAK,GACLC,MAAO,CACHC,WAAY,gDACZC,SAAU,OACV1E,gBAAkBmD,EAAKlE,MAAM0D,IAAkB,MAATA,GAAyB,iBAATA,EAChD,UAAY,GAElBgC,aAAexB,EAAKlE,MAAM0D,IAAkB,MAATA,GAAyB,iBAATA,EAA2B,mBAAqB,GACnGiC,YAAazB,EAAKlE,MAAM0D,IAAmB,MAATA,GAAyB,iBAATA,EAAoC,MAAR,OAElFqB,UAAWlB,EAAQ5C,YACnB2E,QAAS,kBAAMzB,EAAYT,KAE1BD,WCzHVoC,EArBA,WACX,OAAO,M,kBCAI,kBAAEC,EAAF,EAAEA,MAAOC,EAAT,EAASA,IAAKC,EAAd,EAAcA,UAAd,OAEX,yBAAKjB,UAAU,WACX,kBAACkB,EAAA,EAAD,CAAMC,MAAOH,EACTI,eAAe,UACfC,UAAU,UACVC,UAAQ,EACRC,SAAUN,GACTF,EAAM9G,KAAI,SAACuH,EAAMtB,GAAP,OAAY,kBAACuB,EAAA,EAAD,CAAKnB,IAAKJ,EAAGwB,MAAOF,U,SCPjDG,G,OAAgB,CAClB,CACIjD,MAAO,cACPkD,KAAM,SACNC,YACI,iEACJlD,KAAM,YACNmD,SAAU,wBAEd,CACIpD,MAAO,WACPkD,KAAM,SACNC,YACI,kEACJlD,KAAM,YACNmD,SAAU,0BAEd,CACIpD,MAAO,YACPkD,KAAM,SACNC,YACI,+DACJlD,KAAM,aACNmD,SAAU,0BAEd,CACIpD,MAAO,gBACPkD,KAAM,SACNC,YACI,+EACJlD,KAAM,cACNmD,SAAU,4BAIH,aAEX,OACI,kBAAC,IAAMxC,SAAP,KACI,yBACIkB,MAAO,CACHuB,UAAW,OACX/D,MAAO,OACPgE,OAAQ,SAEZ,0BAAMhC,UAAU,gBACZ,2CAGA,6FAIJ,6BAASA,UAAU,sBACd2B,EAAc1H,KAAI,WAAyCiG,GAAzC,IAAGvB,EAAH,EAAGA,KAAMD,EAAT,EAASA,MAAOmD,EAAhB,EAAgBA,YAAaC,EAA7B,EAA6BA,SAA7B,OACf,yBAAKxB,IAAKJ,EAAGF,UAAU,YAEnB,kBAAC,IAAD,CAAMK,GAAI1B,EAAM6B,MAAO,CAAEyB,eAAgB,SACrC,yBAAKjC,UAAU,YACX,yBAAKA,UAAU,gBACX,wBAAIA,UAAU,eAAeQ,MAAO,CAACI,WAAY,MAC5ClC,GAEL,uBAAGsB,UAAU,gBACR6B,IAIT,yBAAK7B,UAAU,aACX,yBAAKkC,IAAKJ,EAAUK,IAAKzD,EAAOsB,UAAU,yBCrE5EoC,G,OAAY,CACd,CACI1D,MAAO,0BACPkD,KAAM,SACNC,YACI,0CACJC,SAAU,sBACVnD,KAAM,aAEV,CACID,MAAO,2BACPkD,KAAM,SACNC,YACI,iCACJlD,KAAM,YACNmD,SAAU,mBAEd,CACIpD,MAAO,UACPkD,KAAM,SACNC,YACI,kCACJlD,KAAM,aACNmD,SAAU,8BAEd,CACIpD,MAAO,SACPkD,KAAM,SACNC,YACI,kCACJlD,KAAM,UACNmD,SAAU,sBAEd,CACIpD,MAAO,QACPkD,KAAM,SACNC,YACI,uBACJlD,KAAM,gBACNmD,SAAU,0BAEd,CACIpD,MAAO,sBACPkD,KAAM,SACNC,YACI,wCACJlD,KAAM,UACNmD,SAAU,yBAIH,SAASO,EAAaxD,GAAQ,IACjC5D,EAAU4D,EAAV5D,MACR,OACI,6BACI,yBAAK+E,UAAU,aACX,2CAGA,sEAIJ,6BAASA,UAAU,eAEXoC,EAAUnI,KAAI,WAAyCiG,GAAzC,IAAGxB,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAMmD,EAAhB,EAAgBA,SAAUD,EAA1B,EAA0BA,YAA1B,OACV,kBAAC,IAAD,CAAMxB,GAAIpF,EAAMqH,IAAM3D,EAAM2B,IAAKJ,EAAGF,UAAU,QACtC,0BAAMA,UAAU,aAAhB,IAA6B,yBAAKkC,IAAKJ,EAAUK,IAAKzD,IAAtD,KACA,yBAAKsB,UAAU,YACX,4BAAMtB,GACN,+BAAMmD,U,IC/DtCU,E,0HCPSC,GAAU,WAA4B,IAA3BC,EAA0B,uDAAP,GACvC,OAAO,SAAOC,EAAUC,GAAjB,iBAAAC,EAAAC,OAAA,mDAECC,EAAe,GAAIC,EAAY,KAC/BN,EAAiBO,OAAS,GAH3B,uBAICP,EAAiB5I,SAAQ,SAAAoJ,GACrBH,EAAaI,KAAKC,KAAMC,IAAN,eAAkBH,QALzC,WAAAL,EAAA,MAQOS,QAAQC,IAAIR,GACbS,MAAK,SAAAC,GAAG,OAAIA,EAAIvJ,KAAI,SAAAwJ,GAAC,OAAIC,KAAMC,aAAaF,EAAE9J,YAC9C4J,MAAK,SAAAK,GACFA,EAAc/J,SAAQ,SAACC,EAAIoG,GACvB,IAAII,EAAMmC,EAAiBvC,GACtB2D,QAAQ,YAAa,IACrBA,QAAQ,eAAgB,IAC7BvD,EAAMoD,KAAMI,SAASxD,GACrByD,OAAOC,OAAOjB,EAAdgB,OAAA,IAAAA,CAAA,GAA4BzD,EAAMxG,WAhB/C,OAoBH4I,EAAS,CACLlJ,KAAM,WACNC,QAASsJ,IAtBV,uCA2BEkB,GAAa,SAACC,EAAgBxK,GAAjB,OAAgC,SAACgJ,EAAUC,GACjE,IACIhJ,EAAO+J,KAAMC,aAAaO,GAC1BzK,EAAU,CAAEC,aAAYC,QACxBwK,EAAcxB,IAAWhJ,KAAKwK,YAElC,IAAKA,EAGD,OAFAC,QAAQC,IAAI5K,QACZiJ,EAAS,CAAElJ,KAAM,cAAeC,YAIpC,GAAmB,YAAfC,GAA4BC,EAAK,GAAGiB,QAAoC,IAA1BjB,EAAK,GAAGiB,OAAOoI,OAAc,CAE3E,IAAMsB,EAAaH,EAAY3J,MAAK,SAAA+J,GAAE,OAAIA,EAAGvK,KAAOL,EAAK,GAAG6K,gBAExDjK,EAASZ,EAAK,GACd8K,EAAS,GAAIC,EAAW,GACxB5J,EAAW6H,IAAWhJ,KAAKmB,SAE3B6J,EAAoB7J,EAASb,KAAI,SAAAC,GAM7B,OALIA,EAAEC,UAAYI,EAAOJ,UACrBD,EAAEoK,WAAaA,EAAWA,WAC1BpK,EAAE0K,YAAcrK,EAAOqK,YACvB1K,EAAE2K,WAAatK,EAAOsK,YAEnB3K,KAGfY,EAASjB,SAAQ,SAAAK,GACTA,EAAEC,UAAYI,EAAOJ,UACrBsK,EAAOvB,KAAKhJ,EAAE4K,OACdJ,EAASxB,KAAKhJ,EAAE6K,eAGxBxK,EAAOK,OAAS6J,EAChBlK,EAAOO,SAAW4J,EAClBnK,EAAS,CAACA,GAEV,IAAMyK,EAAoB,CAAErL,KAAMgL,EAAmBjL,WAAY,YACjEuL,aAAM,WACFvC,EAAS,CAAElJ,KAAM,cAAeC,QAAS,CAAEE,KAAMY,EAAQb,WAAY,aACrEgJ,EAAS,CAAElJ,KAAM,oBAAqBC,QAASuL,YAEhDtC,EAAS,CAAElJ,KAAM,cAAeC,cAI9ByL,GAAa,SAAChB,EAAgBxK,EAAYM,GAA7B,OAAoC,SAAA0I,GAC1D,IACI/I,EAAO+J,KAAMC,aAAaO,GAE9BxB,EAAS,CAAElJ,KAAM,cAAeC,QADlB,CAAEC,aAAYC,OAAMK,UAIzBmL,GAAmB,SAACxL,EAAMD,GAAP,OAAsB,SAAAgJ,GAGlD,IAAMjJ,EAAU,CAAEE,KADlBA,EAAO+J,KAAMC,aAAahK,GACFD,cACxB0K,QAAQC,IAAI5K,GACZiJ,EAAS,CACLlJ,KAAM,oBACNC,cA0CK2L,GAAY,SAACpL,EAAIe,EAASrB,GAAd,OAA6B,SAAAgJ,GAClD3H,EAAU2I,KAAMI,SAAS/I,GACzB2H,EAAS,CACLlJ,KAAM,aACNC,QAAS,CAAEO,KAAIe,UAASrB,kBCjIjB2L,GATC,WACZ,OACI,yBAAKrF,UAAU,WACX,yBAAKkC,IAAI,sBAAsBC,IAAI,GAAGH,OAAO,OAAOhE,MAAM,SAC1D,gDCNCsH,GAAoB,CAE7B,CACI5L,WAAY,eACZ6L,MAAO,OACP7D,MAAO,eACP8D,KAAM,iBACNC,MAAO,gBAEX,CACI/L,WAAW,kBACX6L,MAAO,QACP7D,MAAO,uBACP8D,KAAK,kBACLC,MAAO,oBAEX,CACI/L,WAAY,cACZ6L,MAAO,SACP7D,MAAO,wBACP8D,KAAK,mBACLC,MAAO,qBAEX,CACI/L,WAAY,cACZ6L,MAAO,QACP7D,MAAO,mBACP8D,KAAM,cACNC,MAAO,gBAEX,CACI/L,WAAY,gBACZ6L,MAAO,eACP7D,MAAO,oBACP8D,KAAM,eACNC,MAAO,iBAEX,CACI/L,WAAY,cACZ6L,MAAO,aACP7D,MAAO,cACP8D,KAAM,aACNC,MAAO,cAEX,CACI/L,WAAY,SACZ+L,MAAO,WHpCTC,GAAWC,EAAQ,KAGV,YAAUC,EAAcC,GAEnC,IAAIC,EAAc,GAClBA,EAAcF,EAAa3L,KAAI,SAAA8L,GAAG,OAAIA,EAAIlC,QAAQ,YAAa,IAAIA,QAAQ,eAAgB,OAHtC,IAK/CmC,EAL+C,gRAQrCC,EAAUC,KAAKrH,MAAfoH,MACJE,EAAU,GAEdP,EAAa/L,SAAQ,SAAAkM,GACjB,IAAMK,EAAUL,EAAIlC,QAAQ,YAAa,IAAIA,QAAQ,eAAgB,IAChEoC,EAAMG,IAAaH,EAAMG,GAAS,IACnCD,EAAQjD,KAAK6C,OAIjBI,EAAQ,GAlBiC,0CAkBvBD,KAAKrH,MAAM2D,QAAQ2D,IAlBI,OAoBxC5D,IAAQA,EAASmD,MACtBnD,EAAO8D,GAAG,iBAAiB,SAAAC,GACvB,EAAKzH,MAAMoF,WAAWqC,EAAiB,eAE3C/D,EAAO8D,GAAG,mBAAmB,SAAAC,GACzB,EAAKzH,MAAMoF,WAAWqC,EAAiB,cAE3C/D,EAAO8D,GAAG,iBAAiB,SAAAC,GACvB,EAAKzH,MAAMoF,WAAWqC,EAAiB,eAE3C/D,EAAO8D,GAAG,gBAAgB,SAAAC,GACtB,EAAKzH,MAAMoF,WAAWqC,EAAiB,aAE3C/D,EAAO8D,GAAG,sBAAsB,SAAAC,GAC5B,EAAKzH,MAAMoF,WAAWqC,EAAiB,mBAE3C/D,EAAO8D,GAAG,eAAe,YAAiC,IAA9BC,EAA6B,EAA7BA,gBAAiBb,EAAY,EAAZA,MACjC/L,EAAe4L,GAAkB9K,MAAK,SAAAV,GAAE,OAAIA,EAAG2L,QAAUA,KAAzD/L,WACR,EAAKmF,MAAMoF,WAAWqC,EAAiB5M,MAG3C6I,EAAO8D,GAAG,kBAAkB,YAAwC,IAArC3M,EAAoC,EAApCA,WAAYiL,EAAwB,EAAxBA,kBACvC,EAAK9F,MAAMsG,iBAAiBR,EAAmBjL,MAGnD6I,EAAO8D,GAAG,iBAAiB,SAAAE,GACvB,EAAK1H,MAAMqG,WAAWqB,EAAgB,WAAY,gBAEtDhE,EAAO8D,GAAG,mBAAmB,SAAAE,GACzB,EAAK1H,MAAMsG,iBAAiBoB,EAAgB,cAEhDhE,EAAO8D,GAAG,gBAAgB,SAAAE,GACtB,EAAK1H,MAAMsG,iBAAiBoB,EAAgB,aAGhDhE,EAAO8D,GAAG,aAAa,SAAAG,GAAW,IACtBxM,EAA4BwM,EAA5BxM,GAAIe,EAAwByL,EAAxBzL,QAASrB,EAAe8M,EAAf9M,WACrB,EAAKmF,MAAMuG,UAAUpL,EAAIe,EAASrB,MAGtC6I,EAAO8D,GAAG,eAAe,SAAAG,GAAW,IACxBF,EAAgCE,EAAhCF,gBAAiB5M,EAAe8M,EAAf9M,WACzB0K,QAAQC,IAAImC,GACZ,EAAK3H,MAAMoF,WAAWqC,EAAiB5M,MA/DE,+FAmExC6I,IAAQA,EAASmD,GAAS,UACd,CAAC,gBAAiB,kBAAmB,gBAAiB,eAAgB,cACnF,qBAAsB,gBAAiB,kBAAmB,eAAgB,aAErE7L,SAAQ,SAAAC,GAAE,OAAIyI,EAAOkE,IAAI3M,QAvEW,+BAyEvC,IAAD,OAIL,OAA2B,KAF3BgM,EAAcA,EAAY7L,KAAI,SAAAyM,GAAC,OAAIhD,KAAMI,SAAS4C,OAElC1D,QAAiB8C,EAAYa,OAAM,SAAAC,GAAG,OAAI,EAAK/H,MAAMoH,MAAMY,eAAeD,MAI/E,kBAACf,EAAqBK,KAAKrH,OAH3B,kBAAC,GAAD,UA9EkC,GAKlCiI,IAAMC,WA6FzB,OAAOC,aAZP,SAAyB1N,GACrB,MAAO,CACH2M,MAAM,eACC3M,EAAMK,UAKrB,SAA4B+I,GACxB,OAAOuE,YAAmB,CAAEzE,WAASyB,cAAYiB,cAAYC,oBAAkBC,cAAa1C,KAGzFsE,CAA6ChB,II7G3CkB,GAAmB,SAAAC,GAE5B,IAAMC,EAAIpI,SAASqI,iBAAiB,KAChCC,EAAStI,SAASqI,iBAAiB,SAEnC3F,EAAQ,GAAI6F,EAAS,GACrBC,EAAY,yDAuBhB,OArBIJ,GACAA,EAAEvN,SAAQ,SAAAC,GACN,GAAuB,sBAAnBA,EAAG2N,aAAuD,WAAnB3N,EAAG2N,YAAqB,CAC/D,IACMC,EADS5N,EAAG6N,WACDN,iBAAiB,SAClC3F,EAAMwB,KAAKwE,EAAE,QAIrBJ,GACAA,EAAOzN,SAAQ,SAAAC,GACX,GAAgB,SAAZA,EAAGN,OACEoO,KAAO9N,EAAGqH,MAAO,cAAc,GAAM0G,UAAW,CACjD,IACMH,EADS5N,EAAG6N,WACDG,gBACjBpG,EAAMwB,KAAKwE,OAMvBhG,EAAM,IACNA,EAAM7H,SAAQ,SAAA6N,GAAC,OAAIH,EAAOrE,KAAKwE,EAAED,gBACjCF,EAAO1N,SAAQ,SAAAkO,GAAC,OAAIP,GAAaO,EAAI,QACrCP,EAAYA,EACP3D,QAAQ,OAAQ,IAChBA,QAAQ,OAAQ,IAChBmE,MAAM,GAAI,GAAK,IAEhBb,EAAkB,CAAEc,iBAAiB,EAAMC,UAAW,aAAcC,UAAWX,GAC5ED,GACG,M,UCvCH,SAASa,GAAT,GAAwD,IAAhC1O,EAA+B,EAA/BA,WAAY2O,EAAmB,EAAnBA,SAE/C,OAFkE,EAATlH,MAE/C6B,OAAS,GAA2B,kBAAftJ,EAEvB,8BAAUM,GAAIqO,GAEN3O,EAAWO,KAAI,SAACuH,EAAM9G,GAElB,OACI,4BAAQ4F,IAAK5F,GAAQ8G,EAAK6G,QAMvC,K,cCTT7M,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnC4M,UAAW,CACPC,WAAY7M,EAAMkB,QAAQ,GAC1B4L,YAAa9M,EAAMkB,QAAQ,GAC3Be,UAAW,MACXhB,aAAc,MAEd+D,SAAU,SACV+H,UAAW,OACXC,UAAW,UAEfC,OAAQ,CACJJ,WAAY7M,EAAMkB,QAAQ,GAC1B4L,YAAa9M,EAAMkB,QAAQ,GAC3Be,UAAW,MACXhB,aAAc,MACd4B,WAAY,UACZmC,SAAU,SACV+H,UAAW,OACXC,UAAW,UAEfE,WAAY,CACRC,OAAQ,QACRnI,SAAU,cAIH,SAASoI,GAAT,GAA4E,IAAvDC,EAAsD,EAAtDA,YAAaC,EAAyC,EAAzCA,WAAYC,EAA6B,EAA7BA,KAAMtP,EAAuB,EAAvBA,KAAMuP,EAAiB,EAAjBA,cAE/DpK,EAAUtD,KACVoN,EAAe9J,EAAf8J,WAEAO,EAAe,SAACrP,GAClB,IAAIqH,EAAQxH,EAAKG,EAAGyL,OAEpB,MAAgB,WAAZzL,EAAGN,KACC2H,EAAQrH,EAAGsP,KAAOjI,EAAQrH,EAAGuP,KAGjClI,GAA0B,kBAAVA,IAAoBA,EAAQA,EAAMmI,eAClDxP,EAAGyP,UAAWpI,IAAmD,OAArCxH,EAAKG,EAAGyL,OAAOtK,MAAMnB,EAAGyP,WAItDC,EAAS,SAAC1P,GACZ,IAAIqH,EAAQxH,EAAKG,EAAGyL,OAEpB,OADIpE,GAA0B,kBAAVA,IAAoBA,EAAQA,EAAMmI,YAClDnI,EAAQrH,EAAGsP,KAAOjI,EAAQrH,EAAGuP,IAAY,oBACpClI,GAAqC,OAA5BA,EAAMlG,MAAMnB,EAAGyP,SAA0B,SAClDzP,EAAGyP,SAAWpI,GAAqC,OAA5BA,EAAMlG,MAAMnB,EAAGyP,SAA0B,SAC7D,KAGhB,OACI,yBAAKvJ,UAAU,eAEPiJ,EAAKhP,KAAI,SAACH,EAAIoG,GAAL,OACL,kBAAC,WAAD,CAAUI,IAAKJ,GACX,kBAACuJ,GAAA,EAAD,CACIjE,KAAM1L,EAAGyL,MACT7D,MAAO5H,EAAG4H,MACVmH,OAAQ/O,EAAG+O,OACX7I,UAAWlB,EAAQwJ,UACnB/G,SAAUwH,EACVW,OAAQV,EACRxP,KAAMM,EAAGN,MAAQ,GACjBmQ,MAAOR,EAAarP,GACpB8O,WAAYY,EAAO1P,GACnB8P,oBAAqB,CAAE5J,UAAW4I,GAClCD,OAAQ7O,EAAG6O,SAAU,EACrBxH,MAAOxH,EAAKG,EAAGyL,QAAU,GACzBsE,SAAU/P,EAAG+P,WAAY,EACzBC,gBAAiB,CACb9J,UAAWlB,EAAQwJ,UACnByB,OAAoB,SAAZjQ,EAAGN,WAAmBwQ,EAC9BxJ,MAAO,CAAEE,SAAU,SAAUE,WAAY,IAAK3E,MAAO,SAEzDgO,WAAY,CACRzJ,MAAO,CACHjC,WAAYzE,EAAG+P,UAAYlQ,EAAKuQ,QAAU,OAAS,UACnDxJ,SAAU,SAAUgI,UAAW,SAAUzM,MAAO,OAAQ+B,MAAOlE,EAAGkE,OAAS,IAAKgE,OAAQ,OAE5Fb,MAAM,GAAD,OAAKxH,EAAKG,EAAGyL,QAAU,IAC5B4E,KAAMrQ,EAAGuO,UAAY,GACrB+B,UAAWtQ,EAAGsQ,WAAa,GAC3BC,UAAWvQ,EAAGuQ,WAAa,GAC3BjB,IAAKtP,EAAGsP,KAAO,IAGnBkB,UAAWxQ,EAAGwQ,YAAa,EAC3BC,KAAMzQ,EAAGyQ,MAAQ,KACjB1K,QAAS/F,EAAG+F,SAAW,SACvB2K,UAAW1Q,EAAG0Q,YAAa,EAC3BC,YAAa,CACTjK,MAAO,CACHjC,WAAYzE,EAAG+P,UAAYlQ,EAAKuQ,QAAU,OAAS,UACnDxJ,SAAU,SAAUgI,UAAW,SAAUzM,MAAO,OAAQ2E,WAAY,IACpE5C,MAAO,IAAKgE,OAAQ,WAIb,IAAdlI,EAAG6O,OACAO,EACIA,EAAcjP,KAAI,SAACyQ,EAAKxK,GAAN,OACd,kBAACyK,GAAA,EAAD,CAAUrK,IAAKJ,EAAGiB,MAAOuJ,GACpBA,MAIT5Q,EAAG8Q,QAAQ3Q,KAAI,SAACyQ,EAAKxK,GAAN,OACX,kBAACyK,GAAA,EAAD,CAAUrK,IAAKJ,EAAGiB,MAAOuJ,GACpBA,MAGX,OAIW,IAApB5Q,EAAGsO,cAAyB,kBAAC,GAAD,CACzB1O,WAAYC,EAAKG,EAAGJ,YACpB2O,SAAUvO,EAAGuO,SACblH,MAAOxH,EAAKG,EAAGyL,QAAU,U,gEClIxCsF,GAAa,CACtB,CACItF,MAAO,aACP7D,MAAO,aACP0G,cAAc,EACdC,SAAU,aACV3O,WAAY,eAEhB,CACI6L,MAAO,UACP7D,MAAO,aACP0G,cAAc,EACdC,SAAU,UACV3O,WAAY,UACZ0Q,UAAW,IAEf,CACI5Q,KAAM,OACN+L,MAAO,cACP7D,MAAO,sBAEX,CACIlI,KAAM,OACN+L,MAAO,aACP7D,MAAO,eCrBFoJ,GAAU,CAAC,CAAC,CACrBvF,MAAO,QACP7D,MAAO,QACPmH,OAAQ,SACRuB,UAAW,EACXb,QAAS,sEAEb,CACIhE,MAAO,UACP7D,MAAO,UACPmH,OAAQ,SACRuB,UAAW,GACXb,QAAS,WAEb,CACIhE,MAAO,aACP7D,MAAO,mBACPmH,OAAQ,SACRF,QAAQ,EACRiC,QAAS,CAAC,eAAgB,YAAa,QAAS,aAAc,WAElE,CACIrF,MAAO,UACP7D,MAAO,sBACPmH,OAAQ,SACRuB,UAAW,IAEf,CACI7E,MAAO,eACP7D,MAAO,mBACPmH,OAAQ,SACRR,SAAU,eACVD,cAAc,EACd1O,WAAY,iBAEhB,CACI6L,MAAO,YACP7D,MAAO,gBACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAKlO,QAAO,IAAI6P,MAAOC,eACvB3B,IAAKnO,QAAO,IAAI6P,MAAOC,eAAiB,IAE5C,CACIzF,MAAO,cACP7D,MAAO,uBACPmH,OAAQ,SACRoC,MAAM,EACN1B,QAAS,YACTc,UAAW,EACXD,UAAW,IAEf,CACI7E,MAAO,mBACP7D,MAAO,uBACPmH,OAAQ,SACRR,SAAU,SACVD,cAAc,EACd1O,WAAY,eAEhB,CACIF,KAAM,SACN+L,MAAO,gBACP7D,MAAO,oBACPmH,OAAQ,SACRO,IAAKlO,QAAO,IAAI6P,MAAOC,cAAgB,GACvC3B,IAAKnO,QAAO,IAAI6P,MAAOC,eAAiB,IAE5C,CACIzF,MAAO,kBACP7D,MAAO,2BACPmH,OAAQ,SACRoC,MAAM,EACN1B,QAAS,YACTc,UAAW,EACXD,UAAW,IAEf,CACI7E,MAAO,UACP7D,MAAO,gCACPmH,OAAQ,SACRF,QAAQ,EACRiC,QAAS,CAAC,wBAAmB,UAAW,cAE5C,CACIrF,MAAO,QACP7D,MAAO,QACPmH,OAAQ,SACRuB,UAAW,MAGVc,OAAO,CAACL,KACRK,OAAO,CC/FgB,CACxB,CACI3F,MAAO,YACP7D,MAAO,YACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,GACL+B,KAAM,GAEV,CACI5F,MAAO,WACP7D,MAAO,mBACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,KAET,CACI7D,MAAO,QACP7D,MAAO,QACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,GAET,CACI7D,MAAO,cACP7D,MAAO,iBACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,IAET,CACI7D,MAAO,gBACP7D,MAAO,sBACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,MAET,CACI7D,MAAO,eACP7D,MAAO,qBACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,MAET,CACI7D,MAAO,YACP7D,MAAO,YACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,KAET,CACI7D,MAAO,iBACP7D,MAAO,kBACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,IAET,CACI7D,MAAO,kBACP7D,MAAO,8BACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,KAET,CACI7D,MAAO,kBACP7D,MAAO,8BACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,QCpEE,SAASgC,GAAT,GAAoC,IAATC,EAAQ,EAARA,MACtC,OACI,yBAAK7K,MAAO,CACRlE,SAAU,WACVY,IAAK,OACLE,MAAO,SAEP,6BACI,uBAAG4C,UAAU,uBAAuBtB,MAAM,SAAS8B,MAAO,CAAE8K,OAAQ,UAAWrP,MAAO,OAAS4E,QAASwK,GAAxG,W,OCHD,SAASE,GAAT,GAAgE,IAA3C5R,EAA0C,EAA1CA,KAAM6R,EAAoC,EAApCA,aAAcC,EAAsB,EAAtBA,YAAaJ,EAAS,EAATA,MAEjE,OAAO,yBAAKrL,UAAU,cAAcQ,MAAO,CAAEpD,MAAO,MAAOC,KAAM,QAC7D,wBAAI2C,UAAY,gBAAhB,gBADG,IAC8C,6BACjD,yBAAKA,UAAU,sBAEPwL,EAAavR,KAAI,SAACyR,EAAIxL,GAAL,OACb,0BAAMF,UAAU,kBAAkBM,IAAKJ,GACnC,kBAACyL,GAAA,EAAD,CACIC,QACI,kBAACC,GAAA,EAAD,CACIC,QAASnS,EAAK+R,EAAGlK,MACjBL,MAAOuK,EAAGlK,KACVD,SAAU,kBAAMkK,EAAYC,EAAGlK,SAEvCE,MAAO,uBAAG1B,UAAU,kBAAkB0L,EAAGlK,aAM7D,kBAAC4J,GAAD,CAAkBC,MAAOA,KCRjC,IAAM7P,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCqQ,UAAW,CACPlO,QAAS,OACTmO,SAAU,OACV7P,QAAS,OAEbuC,MAAO,CACHzC,MAAO,OACP2E,WAAY,IACZF,SAAU,SACVgI,UAAW,UAEfuD,cAAe,CACX1D,WAAY7M,EAAMkB,QAAQ,GAC1B4L,YAAa9M,EAAMkB,QAAQ,GAC3BsP,SAAU,IACVzD,UAAW,QAEf0D,WAAY,CACRnO,MAAO,KAEXQ,MAAO,CACHrC,QAAST,EAAMkB,QAAQ,GACvB8L,UAAW,SACXzM,MAAOP,EAAMa,QAAQ6P,KAAKC,UAC1BxD,OAAQnN,EAAMkB,QAAQ,QAIf,eACmB,IADP0P,EACM,EADNA,SAAUd,EACJ,EADIA,aAAc7R,EAClB,EADkBA,KAAMoP,EACxB,EADwBA,YAAaC,EACrC,EADqCA,WAClEuD,EAA6B,EAA7BA,aAAcd,EAAe,EAAfA,YACNe,EACoD7S,EADpD6S,YAAaC,EACuC9S,EADvC8S,WAAYC,EAC2B/S,EAD3B+S,UAC7BC,EAAwDhT,EAAxDgT,yBAA0BC,EAA8BjT,EAA9BiT,SAAUC,EAAoBlT,EAApBkT,gBAEpC/N,EAAUtD,KAAegD,EACEM,EADFN,MAAOuN,EACLjN,EADKiN,UAAWrN,EAChBI,EADgBJ,MAAOuN,EACvBnN,EADuBmN,cAC9Ca,EAAuBhO,EAAvBgO,OAAQX,EAAerN,EAAfqN,WALa,EAODpN,oBAAS,GAPR,mBAOtBgO,EAPsB,KAOdC,EAPc,KASvB/D,EAAO6B,GAAQ2B,GACrB,OACI,kBAACQ,GAAA,EAAD,CACIlB,WAAS,EACTmB,UAAU,MACVlN,UAAW+L,EACXoB,QAAQ,UAER,kBAACF,GAAA,EAAD,KACI,kBAACG,GAAA,EAAD,CAAOpN,UAAWxB,EAAOgC,MAAO,CAAErE,QAAS,cACvC,kBAAC8Q,GAAA,EAAD,CAAMlB,WAAS,EAACoB,QAAQ,UACJ,IAAfV,EACG,kBAACQ,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAIN,EAAS,EAAI,GAAIvM,MAAO,CAAE7D,aAAc,SACnD,kBAACgD,EAAA,EAAD,CAAYK,UAAWtB,GAAvB,6BAEA,kBAAC+K,GAAA,EAAD,CACIQ,WAAY,CACRE,KAAM,cACN3E,KAAM,cACNhF,MAAO,CAAEkI,UAAW,SAAUhI,SAAU,WAE5CV,UAAWiM,EACX9K,MAAOqL,EACPjL,SAAUwH,EACVW,OAAQV,IAEZ,kBAAC,GAAD,CACItP,WAAY4S,EACZjE,SAAS,cACTlH,MAAOqL,KAIf,yBAAKxM,UAAU,aAAf,4BAAkDwM,GAGnC,IAAfC,GAAoBM,GAAU,kBAACE,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,EAAG7M,MAAO,CAAE+H,WAAY,SAEjE,kBAAC5I,EAAA,EAAD,CAAYK,UAAWtB,GAAvB,sCAEA,kBAAC+K,GAAA,EAAD,CACIQ,WAAY,CACRE,KAAM,cACN3E,KAAM,2BACNhF,MAAO,CAAEkI,UAAW,SAAUhI,SAAU,WAE5CV,UAAWiM,EACX9K,MAAOwL,EACPpL,SAAUwH,EACVW,OAAQV,IAEZ,kBAAC,GAAD,CACItP,WAAY4S,EACZjE,SAAS,cACTlH,MAAOwL,MAOJ,IAAfF,GAAoB,kBAACQ,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,IAC/B,kBAAC1B,GAAA,EAAD,CACIC,QACI,kBAACC,GAAA,EAAD,CACIC,SAAoB,IAAXiB,EACTxL,SAAU,kBAAMyL,GAAWD,IAC3B5L,MAAO4L,IAGfrL,MACI,kBAAC/B,EAAA,EAAD,CAAYa,MAAO,CAAEvE,MAAO,UAAWyE,SAAU,SAAU4M,MAAO,UAAlE,iCAUhBT,EAEI,kBAACI,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,IACVZ,EAAa,GACV,kBAACW,GAAA,EAAD,CAAOpN,UAAWxB,GACd,yBAAKwB,UAAU,gBAAf,IAAgC4M,EAASH,IACzC,kBAAC3D,GAAD,CACIG,KAAMA,EACNtP,KAAMA,EACNqP,WAAYA,EACZD,YAAaA,IAED,IAAf0D,GACG,kBAACQ,GAAA,EAAD,CAAMlB,WAAS,EAACoB,QAAQ,UACpB,kBAAC1N,EAAA,EAAD,CACII,QAAQ,WACRH,KAAK,QACLzD,MAAM,UACN+D,UAAW8M,EACXjM,QAAS0L,GAET,kBAAC,KAAD,MAPJ,kBAcZG,GAAa,kBAACnB,GAAD,CACTC,aAAcA,EACdH,MAAOkB,EACPd,YAAaA,EACb9R,KAAMA,KAIlB,kBAACsT,GAAA,EAAD,CAAMlB,WAAS,EAACoB,QAAQ,UACpB,yBAAKnN,UAAWmM,Q,kDC3K7B,SAASoB,GAAT,GAA0F,IAAnE7O,EAAkE,EAAlEA,MAAO8G,EAA2D,EAA3DA,KAAMgI,EAAqD,EAArDA,SAAUC,EAA2C,EAA3CA,YAAaC,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,OAAQnN,EAAS,EAATA,MAAS,EAEpEzB,qBAFoE,mBAE7F6O,EAF6F,KAEnFC,EAFmF,KAepG,OAXAxO,qBAAU,WACN,GAAImO,GAAgC,kBAAbA,EAAuB,CAAC,IAAD,uBAC1C,YAAiBA,EAASM,UAA1B,+CAAqC,CAAC,IAA7BC,EAA4B,QAC7BvI,IAASuI,EAAK,IACdF,EAAYE,EAAK,GAAGvI,OAHc,wFAOzCqI,EAAY,QAClB,CAACL,EAAUhI,IAGV,yBAAKhF,MAAOA,GAAgB,MACvB9B,GAAS,uBAAGsB,UAAU,aAAatB,GACpC,kBAAC,KAAD,CAAUsP,OAAQ,SAAAjG,GAAC,OAAI0F,EAAY1F,EAAGvC,MACjC,gBAAGyI,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,cAAjB,OACG,uCAAKlO,UAAW4N,EAAW,uBAAyBD,EAAS,UAAY,mBAAuBM,KAC5F,0BAAWC,KAEPN,EACI,kBAAC,WAAD,KACI,iCAAM,kBAAC,KAAD,CAAyB5N,UAAU,SAAzC,KAAqD4N,EAArD,KACCD,GACG,iFAIR,iCAAM,kBAAC,KAAD,CAAgB3N,UAAU,SAC5B,mCAAS0N,SCtCtC,IAAMS,GAAkB,CAC3B,CAAEzP,MAAO,qBAAmB8G,KAAM,QAClC,CAAE9G,MAAO,uBAAqB8G,KAAM,cACpC,CAAE9G,MAAO,2DAAgD8G,KAAM,cAC/D,CAAE9G,MAAO,0BAA2B8G,KAAM,YAC1C,CAAE9G,MAAO,cAAe8G,KAAM,OAC9B,CAAE9G,MAAO,mBAAoB8G,KAAM,YCN1B4I,GAAgB,CACzB,CAAE1P,MAAO,gCAA8B8G,KAAM,oBAC7C,CAAE9G,MAAO,2DAAgD8G,KAAM,cAC/D,CAAE9G,MAAO,0BAA2B8G,KAAM,YAC1C,CAAE9G,MAAO,cAAe8G,KAAM,OAC9B,CAAE9G,MAAO,mBAAoB8G,KAAM,WACnC,CAAE9G,MAAO,sBAAuB8G,KAAM,gBCIpChK,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnC2S,KAAM,CACFC,SAAU,IACVzF,OAAQ,MACR1M,QAAS,OAEbqC,MAAO,CACHvC,MAAOP,EAAMa,QAAQ6P,KAAKC,UAC1BrO,MAAO,OACP7B,QAAS,eACT6F,OAAQ,OACRD,UAAW,SAEfwM,WAAY,CACR1F,OAAQ,YACR7M,gBAAiB,OACjBsR,MAAO,SAEXlB,KAAM,CACF1D,UAAW,OACXG,OAAQnN,EAAMkB,QAAQ,GACtB8D,SAAU,SACVE,WAAY,MACZ3E,MAAO,QAEXuF,KAAM,CACF7D,UAAW,OACXxB,QAAS,aAIF,SAASqS,GAAT,GAAgG,IAGvGC,EAH8BhB,EAAwE,EAAxEA,YAAaiB,EAA2D,EAA3DA,gBAAiBhB,EAA0C,EAA1CA,YAAaF,EAA6B,EAA7BA,SAAUmB,EAAmB,EAAnBA,gBAAmB,EAC5EnT,KAAtB6S,EADkG,EAClGA,KAAM7P,EAD4F,EAC5FA,MAAOgD,EADqF,EACrFA,KAMrB,MAHwB,aAApBkN,IAAgCD,EAAYN,IACxB,aAApBO,IAAgCD,EAAYL,IAG5C,6BACI,kBAAChB,GAAA,EAAD,CAAOpN,UAAWxB,GACd,yBAAKwB,UAAU,gBAAf,uDACA,kBAACiN,GAAA,EAAD,CAAMlB,WAAS,EAAC/L,UAAWqO,GACtBI,EAAUxU,KAAI,WAAkB2U,GAAlB,IAAGlQ,EAAH,EAAGA,MAAO8G,EAAV,EAAUA,KAAV,MACF,eAATA,GAAyBmJ,EAAkB,KAC3C,kBAAC,WAAD,CAAUrO,IAAKsO,GACX,kBAAC3B,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,GAAIwB,GAAI,EAAG7O,UAAWwB,GACjC,kBAAC+L,GAAD,CACI7O,MAAOA,EACP8G,KAAMA,EACNgI,SAAUA,EACVE,YAAaA,EACbD,YAAaA,Y,8CC3D3CqB,GAAe,CACjBjR,QAAS,OACT/B,eAAgB,SAChBkC,MAAO,OACP+Q,aAAc,SACd/C,SAAU,QAGRgD,GAAW,CACbtG,UAAW,SACXuG,WAAY,aACZjN,OAAQ,OACRkN,OAAQ,iBACR/S,QAAS,gBACT0M,OAAQ,gBACRnI,SAAU,SACV1E,gBAAiB,UACjBmT,aAAc,OAIZC,GAAO,CACTC,cAAe,SACf/D,OAAQ,UACRgE,YAAa,MAGXC,GAAW,CACbF,cAAe,SACflT,QAAS,aAIE,SAASqT,GAAT,GAA0C,IAAhBvG,EAAe,EAAfA,KAAMwG,EAAS,EAATA,MAuBvCC,EAAY,GAEhB,GAAID,EAAJ,4BAAW,IAAX,IAAW,EAAX,iBAAoB1B,EAApB,QACI9E,EAAKpP,SAAQ,YAAsB,IAAnB2L,EAAkB,EAAlBA,KAAM9G,EAAY,EAAZA,MACd8G,IAASuI,EAAK,IACVA,EAAK,IAAMA,EAAK,GAAGvI,MACnBkK,EAAUxM,KAAK,CAAExB,MAAOhD,EAAOiR,UAAWnK,EAAMoI,SAAUG,EAAK,GAAGvI,WAJvE,EAAiBiK,EAAM3B,UAAvB,+CAAmC,IAA9C,mFAQA,OAAO,kBAAC,IAAMxO,SAAP,KACH,yBAAKkB,MAAOsO,IACPY,EAAUzV,KAAI,SAAC2V,EAAG1P,GAAJ,OACX,yBAAKM,MAAOwO,GAAU1O,IAAKJ,GACvB,kBAAC,KAAD,CAA6BM,MAAO+O,KACpC,0BAAM/O,MAAO,CAAE6O,cAAe,WACzB,IADL,IACWO,EAAElO,OAEb,kBAAC,KAAD,CAAYlB,MAAO4O,GACfvO,QAAS,kBArCV,SAACP,EAAKsN,GAErB,IAAMiC,EAAOJ,EAAMrM,IAAI9C,GAEjBgC,EAAMwN,OAAOC,IAAIC,gBAAgBH,GACjClR,EAAOK,SAASiR,cAAc,KACpCtR,EAAK4B,KAAO+B,EAERuN,IAAuB,oBAAdA,EAAKrW,MAA8BqW,EAAKrW,KAAKyB,MAAM,YAC5D0D,EAAKuR,aAAa,MAAO,YACzBvR,EAAKuR,aAAa,SAAU,UAC5BvR,EAAKuR,aAAa,QAAStC,IAE1BjP,EAAKuR,aAAa,WAAYtC,GACnC5O,SAASmR,KAAKC,YAAYzR,GAC1BA,EAAK0R,QAsB0BC,CAAWV,EAAED,UAAWC,EAAEhC,mBC5EjE,IAoBe2C,GApBM,SAACvW,EAAIwW,EAAc9W,EAAYiW,GAC5CA,GAA2B,eAAdA,IAA4BjW,EAAa,eACtDyJ,KAAM,CACFb,IAAI,kCAAD,OAAoC5I,EAApC,eAAqDM,GACxDyW,OAAQ,MACRC,aAAc,SACfnN,MAAK,SAACoN,GACL,IAAMrO,EAAMwN,OAAOC,IAAIC,gBAAgB,IAAIY,KAAK,CAACD,EAAShX,QACpDgF,EAAOK,SAASiR,cAAc,KACpCtR,EAAK4B,KAAO+B,EACZ3D,EAAKuR,aAAa,WAAYM,GAC9BxR,SAASmR,KAAKC,YAAYzR,GAC1BA,EAAK0R,WAEJQ,OAAM,SAAAC,GACH1M,QAAQC,IAAIyM,OCdb,SAASC,GAAT,GAAwE,IAA/C/N,EAA8C,EAA9CA,OAAQtE,EAAsC,EAAtCA,MAAOsS,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,OAAQzQ,EAAe,EAAfA,MAAO0Q,EAAQ,EAARA,KAW1E,OACI,+BACI,+BACI,4BACI,wBAAIlR,UAAU,UACVQ,MAAOA,EACP2Q,QAASnO,GAAStE,IAE1B,4BACKsS,EAAO/W,KAAI,SAACyN,EAAGxH,GAAJ,OAAU,wBAAII,IAAKJ,EAAGM,MAAOA,GAAQkH,QAGzD,+BACI,4BACKuJ,EAAOhX,KAAI,SAACC,EAAGkX,GAAJ,OACR,wBAAIpR,UAAU,SAASM,IAAK8Q,EAAG5Q,MAAOA,EAAOK,QAAS,kBAAMqQ,GAAQA,EAAKlX,GAAKuW,GAAaW,EAAKlX,GAAIkX,EAAKG,SAAU,cAAeH,EAAKI,SAAS3B,WAAa,QAxB9JxO,EAyBiBjH,EAxB5B0N,KAAOzG,EAAO,6BAA6B,GAAM0G,UAC1CD,KAAOzG,EAAOyG,KAAO2J,UAAU,GAAMC,OAAO,cAG5CrQ,IALI,IAAAA,Q,yBCGjB3F,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC8C,MAAO,CACHvC,MAAOP,EAAMa,QAAQ6P,KAAKC,UAC1BrO,MAAO,OACP7B,QAAS,cACT6F,OAAQ,YAID,SAASyP,GAAT,GAAqE,IAKdC,EALpC/X,EAAiD,EAAjDA,KAAM+U,EAA2C,EAA3CA,gBAAiBzF,EAA0B,EAA1BA,KAAMwF,EAAoB,EAApBA,UAAWgB,EAAS,EAATA,MAGhEjR,EADUhD,KACVgD,MAEFmT,EAAiB,GAAIC,EAAM,GAAIC,EAAU,GAAIC,EAAa,GAwB9D,OAvBA7I,EAAKpP,SAAQ,SAAA+V,GACTA,EAAE/V,SAAQ,SAAAkO,GACFpO,EAAKkN,eAAe,CAACkB,EAAExC,UACvBxB,OAAOC,OAAO4N,EAAd7N,OAAA,IAAAA,CAAA,GAAsBgE,EAAExC,MAAQ5L,EAAKoO,EAAExC,SACvCsM,EAAQ3O,KAAK6E,OAGrB4J,EAAezO,KAAK0O,GACpBE,EAAW5O,KAAK2O,GAChBD,EAAM,GACNC,EAAU,MAEU,aAApBnD,IAAgCgD,EAAe,CAC/C,CAAE9E,SAAU,yBAAuB3D,KAAM6I,EAAW,GAAInY,KAAMgY,EAAe,IAC7E,CAAE/E,SAAU,qBAAsB3D,KAAM6I,EAAW,GAAInY,KAAMgY,EAAe,IAC5E,CAAE/E,SAAU,qCAAgC3D,KAAM6I,EAAW,GAAInY,KAAMgY,EAAe,MAGlE,aAApBjD,IAAgCgD,EAAe,CAC/C,CAAE9E,SAAU,yBAAuB3D,KAAM6I,EAAW,GAAInY,KAAMgY,EAAe,IAC7E,CAAE/E,SAAU,qCAAgC3D,KAAM6I,EAAW,GAAInY,KAAMgY,EAAe,MAItF,oCACI,kBAACvE,GAAA,EAAD,CAAOpN,UAAWxB,GACd,0BAAMwB,UAAU,YAER0R,EAAazX,KAAI,WAA2B8X,GAA3B,IAAGnF,EAAH,EAAGA,SAAU3D,EAAb,EAAaA,KAAMtP,EAAnB,EAAmBA,KAAnB,OACb,kBAAC,WAAD,CAAU2G,IAAKyR,GACX,kBAAChB,GAAD,CACI/N,OAAQiG,EAAKjG,OACbtE,MAAOkO,EACPoE,OAAQ/H,EAAKhP,KAAI,SAAAQ,GAAC,OAAGA,EAAEiH,SACvBuP,OAAQlN,OAAOkN,OAAOtX,UAK1C,6BAAS6G,MAAO,CAAEqI,OAAQ,kBACtB,8CACA,2BAEQmJ,MAAMC,QAAQtY,EAAKuY,iBAAmBvY,EAAKuY,gBAC3CvY,EAAKuY,eAAejY,KAAI,SAAC8N,EAAG7H,GAAJ,OAAU,0BAC9BM,MAAO,CACHC,WAAY,oCACZC,SAAU,QAEdJ,IAAKJ,GACJA,IAAMvG,EAAKuY,eAAelP,OAAS+E,EAAI,KAAOA,QAO/D,wBAAIvH,MAAO,CAAEqI,OAAQ,kBAArB,IAAyC,kBAAC,KAAD,CAAsBrI,MAAO,CAAE6O,cAAe,SAAUlT,QAAS,eAA1G,gBACCsT,GAAS,kBAACD,GAAD,CAAgBvG,KAAMwF,EAAWgB,MAAOA,M,mCC3EnD,SAAS0C,GAAT,GAAgC,IAAfC,EAAc,EAAdA,MAAOhG,EAAO,EAAPA,KACnC,OACI,kBAACa,GAAA,EAAD,CAAMzM,MAAO,CAAE7C,UAAW,KAAM2R,YAAa,OACzC,kBAAC+C,GAAA,EAAD,CAAaC,UAAU,SAAIC,aAAW,cAClC,kBAAC,IAAD,CACIlS,GAAG,IAAIG,MAAO,IAEd,kBAAC,KAAD,CAAUA,MAAO,CAAE6O,cAAe,SAAU7G,YAAa,MAAOgK,cAAe,SAC/E,0BAAMhS,MAAO,CAAEE,SAAU,WAAzB,sBAKJ,kBAAC,IAAD,CAAMzE,MAAM,UAAUoE,GAAI+R,EAAM,GAAI5R,MAAO,CAAEE,SAAU,WAClD0R,EAAM,IAEX,0BAAM5R,MAAO,CAAEE,SAAU,WAAc0L,KCnBvD,IAAM5Q,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnCoR,OAAQ,CACJjE,OAAQnN,EAAMkB,QAAQ,GACtB0Q,MAAO,SAEXmF,WAAY,CACR5J,OAAQnN,EAAMkB,QAAQ,GACtB0Q,MAAO,OACPrR,MAAO,OACPD,gBAAiB,YAIV,SAAS0W,GAAT,GAA0F,IAAhEjG,EAA+D,EAA/DA,WAAYkG,EAAmD,EAAnDA,cAAeC,EAAoC,EAApCA,SAAUC,EAA0B,EAA1BA,aAAchJ,EAAY,EAAZA,SAElF/K,EAAUtD,KAAeiX,EAAuB3T,EAAvB2T,WAAY3F,EAAWhO,EAAXgO,OAC3C,OACI,6BACI,kBAACrN,EAAA,EAAD,CACII,QAAQ,YACRG,UAAWyS,EACX5R,QAAS,kBAAM8R,EAAc,SAC7B9I,SAAyB,IAAf4C,GAJd,UAQCA,EAAamG,EACV,kBAACnT,EAAA,EAAD,CACII,QAAQ,YACR5D,MAAM,UACN+D,UAAW8M,EACXjM,QAAS,kBAAM8R,EAAc,SAC7B9I,SAAUA,GALd,cAUA,kBAACpK,EAAA,EAAD,CACII,QAAQ,YACR5D,MAAM,UACN+D,UAAW8M,EACXjM,QAAS,kBAAMgS,MAJnB,Y,kCCpCVrX,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC2S,KAAM,CACFrQ,MAAO,OACPL,UAAW,MAEfmP,OAAQ,CACJtE,YAAa9M,EAAMkB,QAAQ,IAE/BkW,aAAc,CACVnV,UAAWjC,EAAMkB,QAAQ,GACzBT,QAAS,YACTyE,WAAY,SAIL,SAASmS,GAAT,GAA+C,IAAtBtG,EAAqB,EAArBA,WAAYuG,EAAS,EAATA,MAE1ClU,EAAUtD,KAEhB,OACI,yBAAKwE,UAAWlB,EAAQuP,MACpB,kBAAC4E,GAAA,EAAD,CAASxG,WAAYA,GAChBuG,EAAM/Y,KAAI,SAACyH,EAAOhH,GAGf,OACI,kBAACwY,GAAA,EAAD,eAAM5S,IAAKoB,GAHG,IAIV,kBAACyR,GAAA,EAHU,GAGiBzR,S,8DCzBlD0R,GAAa3X,aAAW,SAAAC,GAAK,MAAK,CACpC2X,QAAS,CACLrX,gBAAiBsX,KAAM,MAE3B3J,MAAO,CACH3N,gBAAiBN,EAAMa,QAAQoN,MAAM4J,MAEzCC,KAAM,CACFxX,gBAAiBN,EAAMa,QAAQkX,QAAQC,MAE3CC,QAAS,CACL3X,gBAAiB4X,KAAM,MAE3BxE,KAAM,CACF1O,SAAU,IAEdmT,YAAa,CACTC,QAAS,GACTtL,YAAa9M,EAAMkB,QAAQ,IAE/BmX,QAAS,CACLlW,QAAS,OACToR,WAAY,cAIpB,SAAS+E,GAAyBnV,GAC9B,IAAMC,EAAUsU,KACRpT,EAAmDnB,EAAnDmB,UAAW+T,EAAwClV,EAAxCkV,QAAkBlU,GAAsBhB,EAA/BoV,QAA+BpV,EAAtBgB,SAAYqU,EAFZ,YAEsBrV,EAFtB,6CAKrC,OACI,kBAACsV,GAAA,EAAD,eACInU,UAAWoU,aAAKtV,EAAQe,GAAUG,GAClCqU,mBAAiB,kBACjBN,QACI,kBAAC,WAAD,KACI,0BAAM/Z,GAAG,kBAAkBgG,UAAWlB,EAAQiV,SAC1C,kBAACO,GAAA,EAAD,cADJ,OAC2BP,KAI/BG,IAKD,SAASK,GAAoB1V,GAExC,OACI,6BACI,kBAAC2V,GAAA,EAAD,CACIC,aAAc,CACVC,SAAU,MACVC,WAAY,SAEhBC,KAAM/V,EAAM+V,KACZC,iBAAkB,IAClBZ,QAASpV,EAAMwM,OAEf,kBAAC2I,GAAD,CACInU,QAAQ,UACRkU,QAASlV,EAAMiW,QCtE5B,IAAMC,GAAc,WAAiB,IAAhB5T,EAAe,uDAAP,GAC5BjH,EAAIiH,EAAM0C,QAAQ,MAAO,IAK7B,OADA3J,GADAA,GADAA,GADAA,GAAKA,EAAI,KAAK8a,QAAQ,GAAK,IACrBnR,QAAQ,IAAK,MACbA,QAAQ,uBAAwB,cAChCA,QAAQ,gBAAiB,W,kDCGpB,SAASoR,GAAT,GAAiG,IAA1EL,EAAyE,EAAzEA,KAAM1M,EAAmE,EAAnEA,UAAWmD,EAAwD,EAAxDA,MAAO6J,EAAiD,EAAjDA,QAAiD,KAAxCC,YAAwC,EAAtBC,sBAAsB,MAAN,GAAM,IAEzF,SAAA5b,GAElB,GAAoB,kBAATA,EAGT,MAAO,CAAEkF,MAFD,2BAEQqV,QADT,oBAAgBva,EAAKgT,YAArB,2DAA6EhT,EAAK6b,KAAlF,MAIT,OAAQ7b,GACN,IAAK,gBAGH,MAAO,CAAEkF,MAFD,0BAEQqV,QADN,oNAEZ,IAAK,eAGH,MAAO,CAAErV,MAFD,oBAEQqV,QADN,+HAEZ,IAAK,cAGH,MAAO,CAAErV,MAFD,0BAEQqV,QADN,wIAEZ,IAAK,eAGH,MAAO,CAAErV,MAFD,4BAEQqV,QADNqB,GAEZ,IAAK,aAGH,MAAO,CAAE1W,MAFD,6BAEQqV,QADNqB,GAEZ,IAAK,gBAGH,MAAO,CAAE1W,MAFD,mCAEQqV,QADN,uGAEZ,IAAK,mBAGH,MAAO,CAAErV,MAFD,sCAEQqV,QADN,8HAEZ,IAAK,gBAKH,MAAO,CAAErV,MAHD,8BAGQqV,QAFT,gEAFS,mBAET,iEAFS,mBAET,wDAIT,IAAK,kBAGH,MAAO,CAAErV,MAFD,6BAEQqV,QADT,2IAET,IAAK,qBAGH,MAAO,CAAErV,MAFD,gCAEQqV,QADT,sGAGT,IAAK,gBAIH,MAAO,CAAErV,MAHD,wBAGQqV,QAFT,+KAGT,IAAK,iBAGH,MAAO,CAAErV,MAFD,yBAEQqV,QADN,+CAEZ,IAAK,aAGH,MAAO,CAAErV,MAFD,gDAEQqV,QADN,+DAEZ,IAAK,YAGH,MAAO,CAAErV,MAFD,gDAEQqV,QADN,8IAEZ,IAAK,kBAGH,MAAO,CAAErV,MAFD,kDAEQqV,QADN,8IAEZ,IAAK,gBAGH,MAAO,CAAErV,MAFD,4DAEQqV,QADN,wGAEZ,IAAK,kBAGH,MAAO,CAAErV,MAFD,qBAEQqV,QADN,iFAEZ,QACE,MAAO,CAAErV,MAAO,KAAMqV,QAAS,OAGVuB,CAAYpN,GAA/BxJ,EAxFqG,EAwFrGA,MAAOqV,EAxF8F,EAwF9FA,QAEf,OAAIrV,GAASqV,EACX,6BACE,kBAACwB,GAAA,EAAD,CACEX,KAAMA,EACNX,QAAS5I,EACTmK,kBAAgB,qBAChBnB,mBAAiB,4BAEjB,kBAACoB,GAAA,EAAD,CAAazb,GAAG,sBAAsB0E,GACtC,kBAACgX,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAmB3b,GAAG,4BACnB+Z,IAGL,kBAAC6B,GAAA,EAAD,KACE,kBAACnW,EAAA,EAAD,CAAQoB,QAASwK,EAAOpP,MAAM,WAC3BiZ,EAAU,WAAa,UAEzBA,GAAW,kBAACzV,EAAA,EAAD,CAAQoB,QAASwK,EAAOpP,MAAM,UAAU4Z,WAAS,GAAjD,gBAOR,K,IC+ZCC,MAHK,CAAC,WAAY,WAAY,gBAAiB,cAC1D,cAAe,UAAW,gB,YA/f1B,aAAe,IAAD,8BACV,+CAQJxc,MAAQ,CACJmT,WAAY,EACZuG,MAAO,CAAC,sBAAoB,kBAAmB,oBAAqB,aAAc,cAClFpG,SAAU,CAAC,iCAA+B,6BACtC,2DACJJ,YAAa,GACbuJ,MAAO,GACPpJ,yBAA0B,GAC1BqJ,SAAU,yBACVC,cAAc,EACdxG,MAAO,GACPyG,UAAW,GACXvH,iBAAiB,EACjBjC,WAAW,EACXzE,iBAAiB,EACjByF,YAAa,iCAxBH,EA8CdiF,cAAgB,SAAMpZ,GAAN,qBAAAqJ,EAAAC,OAAA,mDAEkB,IAA1B,EAAKvJ,MAAMmT,WAFH,oBAGW,EAAKnT,MAAMyc,MAAMI,QAAO,SAAAjc,GAAC,OAAIA,EAAE4K,QAAU,EAAKxL,MAAMwL,SAAO,GAHtE,kCAAAlC,EAAA,MAKE,EAAKwT,SAAS,CAAEtR,MAAO,MALzB,cAMJ,EAAKsR,SAAS,CAAElO,UAAW,cAAeD,iBAAiB,IANvD,kBAOG,MAPH,YAWJV,EAAW,EAAKjO,MAAhBiO,UACMA,EAAO,GAZT,oCAAA3E,EAAA,MAaF,EAAKwT,SAAL,eAAmB,EAAK9c,MAAxB,GAAkC4N,GAAiB,eAbjD,0CAiBRmP,EAAQ,GACJ7K,EAAiB,EAAKlS,MAAtBkS,aACF8K,EAAiB,EAAKhd,MAAMmT,WACnB,SAAXlT,GAAmB,EAAK6c,SAAS,CAAE3J,WAAY6J,EAAiB,IACrD,SAAX/c,GAAmB,EAAK6c,SAAS,CAAE3J,WAAY6J,EAAiB,IACrD,UAAX/c,GAAoB,EAAK6c,SAAS,CAAE3J,WAAY,IAE7B,IAAnB6J,IACA9K,EAAa3R,SAAQ,SAAAkO,IACK,IAAlB,EAAKzO,MAAMyO,IACXsO,EAAMnT,KAAK6E,MAGfsO,EAAM,GAAI,EAAKD,SAAS,CAAElE,eAAgBmE,IACzC,EAAKD,SAAS,CAAElE,eAAgB,MA/B7B,uCA9CF,EAiFdnJ,YAAc,SAAMhB,GAAN,iEAAAnF,EAAAC,OAAA,kDAEmB,EAAKhE,MAAMoH,MAAlCnL,EAFI,EAEJA,SAAUwR,EAFN,EAEMA,SAFN,EAG4D,EAAKhT,MAArEid,EAHI,EAGJA,cAAepc,EAHX,EAGWA,QAASmK,EAHpB,EAGoBA,WAAYM,EAHhC,EAGgCA,YAAaC,EAH7C,EAG6CA,WACjDW,EAASuC,EAAEyO,OAAXhR,KAEArE,EAAU4G,EAAEyO,OAAZrV,MAEN,EAAKiV,SAAL,eAAiB5Q,EAAOrE,IARd,KAUFqE,EAVE,OAWD,gBAXC,OA4BD,UA5BC,QAmCA,YAnCA,QAoEA,gBApEA,QAuEA,oBAvEA,6BAaEqH,EAAkBP,EAAS9R,MAAK,SAAAuN,GAAC,OAAIA,EAAEyE,cAAgBrL,MAbzD,wBAgBUqL,EAA+BK,EAA/BL,YAAaiK,EAAkB5J,EAAlB4J,cAhBvB,YAAA7T,EAAA,MAiBQ,EAAKwT,SAAS,CAAEvJ,kBAAiBL,cAAaiK,mBAjBtD,QAkBMtV,IAAU0L,EAAgBL,aAAa,EAAK4J,SAAS,CAAEvJ,qBAAiB7C,IAEtE+L,EAAQjb,EAASqb,QAAO,SAAAjc,GAAC,OAAIA,EAAEwc,UAAY,EAAKpd,MAAMkT,eACtDmK,EAAqBJ,EAAcJ,QAAO,SAAA5b,GAAM,OAAIA,EAAOmc,UAAY,EAAKpd,MAAMkT,eAExF,EAAK4J,SAAS,CAAEL,QAAOzb,QAASqc,IAvBlC,wBAyBK,EAAKP,SAAS,CAAEvJ,qBAAiB7C,EAAW+L,MAAO,GAAIjR,WAAOkF,EAAW7P,aAAS6P,IAzBvF,+CA6BmB,kBAAV7I,EA7BT,wBA8BEA,EAAQA,EAAMyV,oBA9BhB,YAAAhU,EAAA,MA+BQ,EAAKwT,SAAL,eAAiB5Q,EAAOrE,KA/BhC,+CAqCI7G,EAAY,EAAKuE,MAAMoH,MAAvB3L,QACAuS,EAAoB,EAAKvT,MAAzBuT,gBACFpS,EAvCF,YAuCUH,EAAQ6b,QAAO,SAAAU,GAAE,OAAIA,EAAGJ,gBAAkB5J,EAAgB4J,kBAGlEK,EA1CF,eA0CqBrc,EAAED,MAAK,SAAAC,GAAC,OAAIA,EAAE+K,KAAUrE,MAC3C4V,EA3CF,eA2CwBtc,EAAED,MAAK,SAAAC,GAAC,OAAIA,EAAE+K,KAAUrE,GAAS1G,EAAEN,UAAY,EAAKb,MAAMa,YAEvE,YAATqL,IAAoBmJ,EAAkBmI,GAC7B,eAATtR,IAAuBmJ,EAAkBoI,KAEzCpI,GAAmBA,EAAgB/J,aAAe+J,EAAgB9J,YAhDpE,wBAkDQD,EAAcgD,KAAO+G,EAAgB/J,aAAa4M,OAAO,cAC3D3M,EAAa8J,EAAgB9J,WAAWyE,WAAWtB,MAAM,EAAG,IAC5D1D,EAAaqK,EAAgBrK,WApDnC,YAAA1B,EAAA,MAqDQ,EAAKwT,SAAS,CAAE9R,aAAYM,cAAaC,aAAY8J,qBArD7D,6CAwD0C,IAAxC5K,OAAOiT,KAAKrI,GAAiB3L,OAxD/B,wBAyDMiU,EAAe,GACnBlT,OAAOC,OAAOiT,EACV,CACIP,QAAS7J,EAAgBL,YACzBiK,cAAe5J,EAAgB4J,cAC/Btc,UAASmK,aAAYM,cAAaC,aAAYjK,OAAQ,GAAIE,SAAU,KA9D9E,YAAA8H,EAAA,MAgEQ,EAAKwT,SAAS,CAAEa,eAActI,iBAAiB,EAAO/J,YAAa,GAAIC,WAAY,MAhE3F,2DAwEF,EAAKuR,SAAL,eAAiB5Q,EAAOuP,GAAY5T,KAxElC,oEAjFA,EAgKd+V,MAAQ,SAAO1R,EAAMrE,EAAOzH,EAAYyd,EAASC,EAAQC,EAAMC,GAAvD,yBAAA1U,EAAAC,OAAA,mDAEErB,EAAO9H,EAAWyc,QAAO,SAAArc,GAAE,OAAIA,EAAGsd,GAAQG,cAActc,MAAMkG,EAAMoW,kBAC5D,KAAVpW,GAAc,EAAKiV,UAAL,mBAAiB5Q,EAAO,IAAxB,cAA6B2R,EAAU,IAAvC,KACd3V,EAAK,GAJL,oBAKMgW,EAAShW,EAAK,GAAG4V,GACjBpd,EAAKwH,EAAK,GAAG6V,GACL,KAAVlW,EAPJ,kCAAAyB,EAAA,MAQU,EAAKwT,UAAL,mBAAiB5Q,EAAOgS,GAAxB,cAAiCL,EAAUnd,GAA3C,KARV,kDAAA4I,EAAA,MAYM,EAAKwT,UAAL,mBAAiB5Q,EAAO,IAAxB,cAA6B2R,EAAU,IAAvC,KAZN,QAaA,EAAKf,SAAS,CACVlO,UAAW,eAAgBD,iBAAiB,EAC5CE,UAAU,eAAD,OAAiBmP,EAAjB,4CAEbtY,SAASyY,kBAAkBjS,GAAM,GAAGkS,QAjBpC,uCAhKM,EAqLd1O,WAAa,SAAOjB,GAAP,6CAAAnF,EAAAC,OAAA,kDAEmB,EAAKhE,MAAMoH,MAAjCqG,EAFG,EAEHA,SAAUhS,EAFP,EAEOA,QAFP,EAG+D,EAAKhB,MAAvEyc,EAHG,EAGHA,MAAO4B,EAHJ,EAGIA,cAAeC,EAHnB,EAGmBA,YAAazT,EAHhC,EAGgCA,YAAaoS,EAH7C,EAG6CA,cAChD/Q,EAASuC,EAAEyO,OAAXhR,KAEArE,EAAU4G,EAAEyO,OAAZrV,OAEAoG,EAASL,MACH,EAAKkP,SAAS,CAAE7O,WACvB,EAAK6O,SAAS,CAAE7O,YAAQyC,IAVpB,KAYDxE,EAZC,OAaA,iBAbA,OAgBA,qBAhBA,OAmBA,6BAnBA,QAsBA,eAtBA,QAyCA,YAzCA,+BAcD,EAAK0R,MAAM1R,EAAMrE,EAAOwW,EAAe,iBAAkB,eAAgB,KAAM,UAd9E,mCAiBD,EAAKT,MAAM1R,EAAMrE,EAAOyW,EAAa,qBAAsB,SAAU,KAAM,cAjB1E,oCAoBD,EAAKV,MAAM1R,EAAMrE,EAAOmL,EAAU,kBAAmB,cAAe,iBApBnE,gDAAA1J,EAAA,MAuBK,EAAKsU,MAAM1R,EAAMrE,EAAOgD,EAAa,eAAgB,aAAc,KAAM,eAvB9E,eAwBGwS,EAAqB,GAErB,EAAKrd,MAAMmd,eAA2C,KAA1B,EAAKnd,MAAMgL,aACvCqS,EAAqBJ,EAAcJ,QAAO,SAAA1b,GAAC,OAAIA,EAAEgc,gBAAkB,EAAKnd,MAAMmd,iBAC9E,EAAKL,SAAS,CAAE9b,QAASqc,KAExB,EAAKrd,MAAMmd,eAA2C,KAA1B,EAAKnd,MAAMgL,aACxCqS,EAAqBJ,EAAcJ,QAAO,SAAA1b,GAAC,OAAIA,EAAE6J,aAAe,EAAKhL,MAAMgL,cAC3E,EAAK8R,SAAS,CAAE9b,QAASqc,KAEzB,EAAKrd,MAAMmd,eAA2C,KAA1B,EAAKnd,MAAMgL,aACvCqS,EAAqBJ,EAChBJ,QAAO,SAAA1b,GAAC,OAAIA,EAAEgc,gBAAkB,EAAKnd,MAAMmd,iBAC3CN,QAAO,SAAA1b,GAAC,OAAIA,EAAE6J,aAAe,EAAKhL,MAAMgL,cAC7C,EAAK8R,SAAS,CAAE9b,QAASqc,KAtC5B,oCA0CKhI,EAAkBrU,EAAQE,MAAK,SAAAC,GAAC,OAAIA,EAAEN,UAAYgH,OACnC,EAAKiV,SAAS,CAAEzH,oBA3CpC,wCAiDI,UAATnJ,GAAgD,kBAArB,EAAKlM,MAAMyc,MAjDjC,oBAmDgB,IAAjB5U,EAAM6B,OAnDL,wBAoDK6U,EAAI1W,EAAM0C,QAAQ,UAAW,OApDlC,YAAAjB,EAAA,MAqDK,EAAKwT,SAAS,CAAEtR,MAAO+S,KArD5B,QAsDD1W,EAAQ0W,EAtDP,WAwDgB,IAAjB1W,EAAM6B,OAxDL,wBAyDK6U,EAAI1W,EAAM0C,QAAQ,IAAK,KAzD5B,YAAAjB,EAAA,MA0DK,EAAKwT,SAAS,CAAEtR,MAAO+S,KA1D5B,QA2DD1W,EAAQ0W,EA3DP,YA6Dc9B,EAAMvb,MAAK,SAAAN,GAAC,OAAIA,EAAE4K,QAAU3D,KA7D1C,oCAAAyB,EAAA,MA+DK,EAAKwT,SAAS,CAAEtR,MAAO,QA/D5B,QAgED3D,EAAQ,GACR,EAAKiV,SAAS,CAAElO,UAAW,cAAeD,iBAAiB,IAC3DjJ,SAASyY,kBAAkB,SAAS,GAAGC,QAlEtC,uCArLC,EA4PdI,eAAiB,4EAAAlV,EAAAC,OAAA,qDAG4B,EAAKvJ,MAFtCye,EADK,EACLA,cAAe7F,EADV,EACUA,eAAgB8F,EAD1B,EAC0BA,cAAeC,EADzC,EACyCA,aAClDC,EAFS,EAETA,UAAWzB,EAFF,EAEEA,cAAe0B,EAFjB,EAEiBA,gBAAiB7d,EAFlC,EAEkCA,QAAS8d,EAF3C,EAE2CA,eACpDC,EAHS,EAGTA,mBAAoB7T,EAHX,EAGWA,aACT,QACX8T,EAAiBP,EAEjBQ,EAA0B,GAApBrd,OAAOgd,IAAmBhd,OAAO8c,GAAiB9c,OAAO+c,IAC/DO,MAAMD,KAAMA,OAAMvO,GAElByO,EAAS,GAEb3N,GAAQjR,SAAQ,SAAAoP,GACZA,EAAKpP,SAAQ,SAAA+X,GACT,IAAK,IAAIhD,KAAK,EAAKtV,MACXsV,IAAMgD,EAAIrM,OAAOxB,OAAOC,OAAOyU,EAAd1U,OAAA,IAAAA,CAAA,GAAyB6K,EAAI,EAAKtV,MAAMsV,WAMnEhK,EAC6D6T,EAD7D7T,YAAaC,EACgD4T,EADhD5T,WACgD4T,EADpC9L,yBACoC8L,EAA3DC,aAA2DD,EAA7CE,iBAA6CF,EAA3BnU,WAAesU,EAtB1C,YAsBsDH,EAtBtD,wGAwBTle,EAAS,CAAEJ,QAASse,EAAOte,QAASqK,eAAciS,iBAGlDoC,EAAejR,KAAOhD,EAAa,cAAc,GAAMiD,UACvDiR,EAAYlR,KAAO/C,EAAY,cAAc,GAAMgD,UAEnDgR,IAActe,EAAOqK,YAAcA,GACnCkU,IAAWve,EAAOsK,WAAaA,GAEnCd,OAAOC,OAAO4U,EAAS,CACnBnC,gBAAesC,SA9BJ,QA8BcT,iBAAgBC,MAAKrG,iBAC9CkG,iBAAgBC,uBAEpBO,EAAQjM,yBAA2BwL,EAEnCpU,OAAOiT,KAAK4B,GAAS/e,SAAQ,SAAAyG,GACJ,KAAjBsY,EAAQtY,WAAoBsY,EAAQtY,MAE5CyD,OAAOiT,KAAKzc,GAAQV,SAAQ,SAAAyG,GACJ,KAAhB/F,EAAO+F,WAAoB/F,EAAO+F,MAGpC0Y,EAAUtV,KAAMuV,eAAeL,GAC/BM,EAAYxV,KAAMuV,eAAe1e,KAEjCoU,EAAkBrU,EAAQ6b,QAAO,SAAA1b,GAAC,OAAIA,EAAEN,UAAY+e,EAAU/e,YAEhD,GAnDP,oCAAAyI,EAAA,MAoDHO,KAAMgW,KAAK,uBAAwBH,GACpCzV,MAAK,SAAAC,GACF,IAAMuB,EAAYvB,EAAI7J,KACtB,EAAKyf,YAAYrU,MAEpB8L,OAAM,SAAAC,GAAG,OAAI1M,QAAQC,IAAIyM,OAzDrB,QA0DT,EAAKuI,aACL,EAAKC,QA3DI,2BA6DD3K,EAAgB,SAA4B3E,IAAtBkP,EAAU/e,WACrC+e,EAAU/e,QAAQ6I,OAAS,SAAiCgH,IAA5BkP,EAAUK,cA9DpC,oCAAA3W,EAAA,MAgEHO,KAAMgW,KAAK,uBAAwBH,GACpCzV,MAAK,SAAAC,GACFY,QAAQC,IAAIb,EAAI7J,MAChBoL,EAAYvB,EAAI7J,KAChB,EAAKyf,YAAYrU,MAEpB8L,OAAM,SAAAC,GAAG,OAAI1M,QAAQC,IAAIyM,OAtErB,2BAAAlO,EAAA,MAuEHO,KAAMgW,KAAK,iBAAkBD,GAC9B3V,MAAK,SAACC,GAAD,OAASY,QAAQC,IAAIb,EAAI7J,UAxE1B,eA0EHwW,EAAO,CACT1K,MAAO,UACP+T,OAAQ,UACRrY,MAAO+X,EAAU/e,QACjBY,QAAS,aACT0e,IAAK,CAAC1U,IA/ED,YAAAnC,EAAA,MAiFHO,KAAMuW,IAAI,wBAAyBvJ,GACpC5M,MAAK,SAAAC,GAAG,OAAIY,QAAQC,IAAIb,EAAI7J,UAlFxB,QAsFT,EAAK0f,aACL,EAAKC,QAvFI,wBA0FT,EAAKlD,SAAS,CAAElO,UAAW,mBAAoBD,iBAAiB,IA1FvD,uCA5PH,EA0VdwF,YAAc,SAAOgC,EAAOjK,GAAd,iBAAA5C,EAAAC,OAAA,qDAEN4M,GAASA,EAAMzM,OAAS,GAFlB,uBAIFwK,EAAW,IAAImM,UACfC,EAAK,EAAKtgB,MAAM4c,WAEjBhT,KAAH,eAAWsC,EAAOiK,EAAM,GAAGjK,OAPrB,WAAA5C,EAAA,MAQA,EAAKwT,SAAL,aAAgByD,WAAYD,GAAKpU,EAAOiK,EAAM,MAR9C,OAUNtB,GAAgBtU,SAAQ,YAAe,IAAZ2L,EAAW,EAAXA,KACvB,IAAK,IAAIwR,KAAQ,EAAK1d,MACd0d,EAAK/b,MAAMuK,KACXgI,EAASsM,OAAOtU,EAAM,EAAKlM,MAAMkM,IAC5BgI,EAASpK,IAAI4T,IAAOxJ,EAASuM,OAAO/C,OAKrD,EAAKZ,SAAS,CAAEnN,KAAMuE,IAnBhB,sCA1VA,EAiXd4L,YAAc,SAAMrU,GAAN,iDAAAnC,EAAAC,OAAA,qDAEyB,EAAKvJ,MAAlCuT,EAFI,EAEJA,gBAAiB1S,EAFb,EAEaA,QACjBsc,EAAkB5J,EAAlB4J,cAEF5E,EAAU,IAAI8H,SACd9O,EAAa,IAAI8O,UAEjB5U,IAAa,EAAKzL,MAAM2P,KARlB,iBAUN,IADA4I,EAAQiI,OAAO,YAAa/U,GATtB,4BAUN,EAAiB,EAAKzL,MAAM2P,KAAK6E,UAAjC,gDAASC,EAAmC,SAC/B,IAAMA,EAAK,GACA,eAAZA,EAAK,IACLlD,EAAWiP,OAAO,YAAa,cAC/BjP,EAAWiP,OAAO,UAAW3f,GAC7B0Q,EAAWiP,OAAO,YAAarD,GAC/B5L,EAAWiP,OAAO/L,EAAK,GAAIA,EAAK,KAE3BA,EAAK,IAAI8D,EAAQiI,OAAO/L,EAAK,GAAIA,EAAK,KAG/C8D,EAAU,KACVhH,EAAa,MAtBf,yOA0BV,IA1BU,6BA0BV,EAAiBgH,EAAQ/D,UAAzB,+CAASC,EAA2B,QAChC3J,QAAQC,IAAI0J,EAAK,GAAIA,EAAK,IA3BpB,8OA6BN8D,EA7BM,oCAAAjP,EAAA,MA6BSO,KAAMgW,KAAK,qBAAsBtH,GAC/CtO,MAAK,SAAAC,GAAG,OAAIY,QAAQC,IAAIb,EAAI7J,SAC5BkX,OAAM,SAAAC,GAAG,OAAI1M,QAAQC,IAAIyM,OA/BpB,YAgCNjG,EAhCM,oCAAAjI,EAAA,MAgCYO,KAAMgW,KAAK,qBAAsBtO,GAClDtH,MAAK,SAAAC,GAAG,OAAIY,QAAQC,IAAIb,EAAI7J,SAC5BkX,OAAM,SAAAC,GAAG,OAAI1M,QAAQC,IAAIyM,OAlCpB,sGAjXA,EAsZdkJ,UAAY,SAAAhgB,GAER,IAAIigB,EAAgB,EAAK3gB,MAAMmW,MAAM0G,QAAO,SAAAvG,GAAC,OAAIA,EAAE0B,SAASvM,YAAc/K,EAAGsP,cAEzE2Q,EAAc,GACd,EAAK7D,SAAS,CAAE8D,gBAAiBD,EAAeD,WAAW,EAAMG,gBAAiBngB,KAGlF,EAAKoc,SAAS,CAAElO,UAAW,gBAAiBD,iBAAiB,IAC7D,EAAKmO,SAAS,CAAE8D,gBAAiB,OA/Z3B,EAmadb,WAAa,WAEL,IAAAA,EAAa,GACX7N,EAAiB,EAAK3M,MAAMoH,MAA5BuF,aACF4O,EAAa,GACbC,EAAa,GAEjBvP,GAAQjR,SAAQ,SAAAoP,GACZA,EAAKpP,SAAQ,SAAA+X,GACT7N,OAAOiT,KAAKpF,GAAK/X,SAAQ,SAAAyG,GACT,UAARA,GAAmB,EAAKhH,MAAMsY,EAAItR,KAAOyD,OAAOC,OAAOqV,EAAdtV,OAAA,IAAAA,CAAA,GAA6B6N,EAAItR,QAAO0J,aAIjGmE,GAAgBtU,SAAQ,YAAe,IAAZ2L,EAAW,EAAXA,KACvBzB,OAAOC,OAAOoW,EAAdrW,OAAA,IAAAA,CAAA,GAA6ByB,EAAO,UAGxCgG,EAAa3R,SAAQ,SAAAkO,GAAC,OAAIhE,OAAOC,OAAOqW,EAAdtW,OAAA,IAAAA,CAAA,GAA6BgE,EAAEvG,MAAO,OAEhE,EAAK4U,SAAL,eACOiD,EADP,GAEOe,EAFP,GAGOC,EAHP,CAII5N,WAAY,EACZD,YAAa,GACbK,qBAAiB7C,EACjB+L,MAAO,GACPpJ,yBAA0B,GAC1B8C,MAAO,GACPyG,UAAW,GACXvH,iBAAiB,EACjB1F,KAAM,IAAI0Q,aAncJ,EAucdlO,YAAc,SAAAjK,GAAI,OAAI,EAAK4U,SAAL,eAAmB,EAAK9c,MAAxB,eAAgCkI,GAAQ,EAAKlI,MAAMkI,OAvc3D,EAwcd+K,aAAe,kBAAM,EAAK6J,SAAS,CAAE1J,WAAY,EAAKpT,MAAMoT,aAxc9C,EAycd4N,aAAe,kBAAM,EAAKlE,SAAS,CAAEnO,iBAAkB,EAAK3O,MAAM2O,mBAzcpD,EA0cdqR,MAAQ,kBAAM,EAAKlD,SAAS,CAAEH,cAAe,EAAK3c,MAAM2c,gBAxcpD,EAAKsE,YAAc,SAACxS,GACE,KAAdA,EAAEyS,SACE,EAAKlhB,MAAMoT,WAAW,EAAKH,gBAJ7B,E,sKA6BFtG,EAAUC,KAAKrH,MAAfoH,MACF0R,EAA4C1R,EAA5C0R,cAAeC,EAA6B3R,EAA7B2R,YAAazT,EAAgB8B,EAAhB9B,YAC9BqH,EAAe,IAEfvF,IAASA,EAAMuF,a,uBACfvF,EAAMuF,aAAa3R,SAAQ,SAAAkO,GAAC,OAAIhE,OAAOC,OAAOwH,EAAdzH,OAAA,IAAAA,CAAA,GAA+BgE,EAAEvG,MAAO,OAClEiZ,EAAa1W,OAAOiT,KAAKxL,G,mBACzBtF,KAAKkQ,SAAL,aACFuB,gBAAeC,cAAazT,cAAaqH,aAAciP,GAAejP,EADpE,CAEF+K,cAAerQ,KAAKrH,MAAMoH,MAAX,Y,OAGvBjH,SAAS0b,iBAAiB,UAAWxU,KAAKqU,aAAa,G,8FAGlCrU,KAAKkQ,SAAS,M,+BAga7B,IAAD,EAGkElQ,KAAK5M,MADtE2c,EAFD,EAECA,aAAcD,EAFf,EAEeA,SAAUvJ,EAFzB,EAEyBA,WAAYxE,EAFrC,EAEqCA,gBAAiBC,EAFtD,EAEsDA,UAAW8K,EAFjE,EAEiEA,MAC9DnG,EAHH,EAGGA,gBAAiB/H,EAHpB,EAGoBA,MAAO4I,EAH3B,EAG2BA,YAAazE,EAHxC,EAGwCA,KAAM0F,EAH9C,EAG8CA,gBAH9C,EAI4BzI,KAAKrH,MAAMoH,MAAtCqG,EAJD,EAICA,SAAUd,EAJX,EAIWA,aAEhB,OAAO,kBAAC,WAAD,KACH,kBAAC2G,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAchG,KAAK,2BAE/C,kBAAC2G,GAAD,CACItG,WAAYA,EACZuG,MAAOA,EACPL,cAAezM,KAAKyM,gBAExB,kBAACgI,GAAD,CACIhhB,KAAMuM,KAAK5M,MACXgT,SAAUA,EACVd,aAAcA,EACdzC,YAAa7C,KAAK6C,YAClBC,WAAY9C,KAAK8C,WACjBuD,aAAcrG,KAAKqG,aACnBd,YAAavF,KAAKuF,YAClBxQ,MAAOiL,KAAKrH,MAAM5D,QAEN,IAAfwR,GAAoB,kBAAC+B,GAAD,CACjBE,gBAAgB,WAChBjB,YAAavH,KAAKuH,YAClBC,YAAaA,EACbF,SAAUvE,EACV0F,gBAAiBA,IAGL,IAAflC,GAAoB,kBAAC,GAAD,CACjBiC,gBAAgB,WAAWe,MAAOvJ,KAAK5M,MAAM2P,KAC7CwF,UAAWN,GAAiBxU,KAAMuM,KAAK5M,MACvC2P,KAAM6B,KAGT+B,GAAmB,kBAAC6F,GAAD,CAChBjG,WAAYA,EACZmG,SAAUI,EAAMhQ,OAAS,EACzB6P,aAAc3M,KAAK4R,eACnBnF,cAAezM,KAAKyM,cACpB9I,SAA4B,kBAAV/E,GAAgC,KAAVA,IAE5C,kBAAC,GAAD,CAAY8P,KAAMqB,EAAc5K,MAAOnF,KAAKoT,MAAOxE,IAAKkB,IACvD/N,GAAmB,kBAACgN,GAAD,CAAaL,KAAM3M,EAAiBoD,MAAOnF,KAAKoU,aAAcpS,UAAWA,EAAWkN,cAAelP,KAAK5M,MAAM6O,iB,GA5f9GyS,kBCrBnBC,GAAU,CAAC,CAAC,CACrBtV,MAAO,QACP7D,MAAO,QACPmH,OAAQ,SACRR,SAAU,QACVD,cAAc,EACd1O,WAAY,SAEhB,CACI6L,MAAO,cACP7D,MAAO,iBACPmH,OAAQ,SACRR,SAAU,cACVD,cAAc,EACd1O,WAAY,YAEhB,CACI6L,MAAO,gBACP7D,MAAO,+BACPmH,OAAQ,SACRR,SAAU,cACVD,cAAc,EACd1O,WAAY,YAEhB,CACI6L,MAAO,aACP7D,MAAO,mBACPmH,OAAQ,SACRF,QAAQ,EACRiC,QAAS,CAAC,eAAgB,YAAa,QAAS,aAAc,WAElE,CACIrF,MAAO,UACP7D,MAAO,gCACPmH,OAAQ,SACRF,QAAQ,EACRiC,QAAS,CAAC,wBAAmB,UAAW,cAE5C,CACIrF,MAAO,QACP7D,MAAO,QACPmH,OAAQ,SACRuB,UAAW,IAEf,CACI7E,MAAO,UACP7D,MAAO,UACPmH,OAAQ,SACRgB,UAAU,GAEd,CACItE,MAAO,UACP7D,MAAO,sBACPmH,OAAQ,SACRuB,UAAW,GACXP,UAAU,GAEd,CACItE,MAAO,eACP7D,MAAO,mBACPmH,OAAQ,SACRgB,UAAU,GAEd,CACItE,MAAO,YACP7D,MAAO,gBACPmH,OAAQ,SACRrP,KAAM,SACNqQ,UAAU,GAEd,CACItE,MAAO,cACP7D,MAAO,uBACPmH,OAAQ,SACRoC,MAAM,EACNpB,UAAU,GAEd,CACItE,MAAO,mBACP7D,MAAO,uBACPmH,OAAQ,SACRgB,UAAU,GAEd,CACIrQ,KAAM,SACN+L,MAAO,gBACP7D,MAAO,oBACPmH,OAAQ,SACRgB,UAAU,GAEd,CACItE,MAAO,kBACP7D,MAAO,2BACPmH,OAAQ,SACRoC,MAAM,EACNpB,UAAU,KAITqB,OAAO,CCrGmB,CAE3B,CACI3F,MAAO,gBACP7D,MAAO,sBACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,MAET,CACI7D,MAAO,eACP7D,MAAO,qBACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,MAET,CACI7D,MAAO,YACP7D,MAAO,YACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,KAET,CACI7D,MAAO,iBACP7D,MAAO,kBACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,IAET,CACI7D,MAAO,kBACP7D,MAAO,8BACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,KAET,CACI7D,MAAO,kBACP7D,MAAO,8BACPmH,OAAQ,SACRrP,KAAM,SACN4P,IAAK,QD4DR8B,OAAO,CAAC,KACRA,OAAO,CAAC,KEhGP1P,I,OAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnC8C,MAAO,CACHrC,QAAST,EAAMkB,QAAQ,GACvB8L,UAAW,SACXzM,MAAOP,EAAMa,QAAQ6P,KAAKC,UAC1BxD,OAAQnN,EAAMkB,QAAQ,GACtBsP,SAAU,cAIH,SAAS4O,GAAcjc,GAAQ,IAGpCyN,EAAsCzN,EAAtCyN,SAAUvD,EAA4BlK,EAA5BkK,YAAaC,EAAenK,EAAfmK,WACvBwD,EAAgB3N,EAAMlF,KAAtB6S,YACuBhO,EAAfhD,KAAegD,MAE7B,OACI,yBAAKwB,UAAU,iBACX,kBAACoN,GAAA,EAAD,CAAOpN,UAAWxB,EAAOgC,MAAO,CAAErE,QAAS,cACvC,yBAAK6D,UAAU,QACX,2DACA,2BACImK,KAAK,cACL3E,KAAK,cACLxF,UAAU,gBACVmB,MAAOqL,EACPjL,SAAUwH,EACVW,OAAQV,IAEZ,kBAAC,GAAD,CACIxI,MAAO,CAAEkI,UAAW,SAAU1K,MAAO,SACrCtE,WAAY4S,EACZjE,SAAS,cACTlH,MAAOqL,OC5B/B,IAAMhR,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCqQ,UAAW,CACPlO,QAAS,OACTmO,SAAU,OACV7P,QAAST,EAAMkB,QAAQ,IAG3B0L,UAAW,CACPC,WAAY7M,EAAMkB,QAAQ,GAC1B4L,YAAa9M,EAAMkB,QAAQ,GAC3BoB,MAAO,IACP0C,SAAU,SACV+H,UAAW,OACXC,UAAW,UAEfyD,WAAY,CACRnO,MAAO,KAEX+c,MAAO,CACHrS,UAAW,UAEflK,MAAO,CACHrC,QAAST,EAAMkB,QAAQ,GACvB8L,UAAW,SACXzM,MAAOP,EAAMa,QAAQ6P,KAAKC,UAC1BxD,OAAQnN,EAAMkB,QAAQ,QAIf,eAC8C,IADlCmM,EACiC,EADjCA,YAAaC,EACoB,EADpBA,WAAYrP,EACQ,EADRA,KAAM8R,EACE,EADFA,YAAac,EACX,EADWA,aACnEyO,EAAwD,EAAxDA,eAAgBC,EAAwC,EAAxCA,aAAc3O,EAA0B,EAA1BA,SAAUd,EAAgB,EAAhBA,aAChCiB,EAA2E9S,EAA3E8S,WAAYG,EAA+DjT,EAA/DiT,SAAU9H,EAAqDnL,EAArDmL,MAAOoW,EAA8CvhB,EAA9CuhB,cAAerO,EAA+BlT,EAA/BkT,gBAAiBH,EAAc/S,EAAd+S,UACjE5N,EAAUtD,KAAegD,EAAqBM,EAArBN,MAAOuN,EAAcjN,EAAdiN,UAEhC9C,EAAO4R,GAAQpO,GAEnB,OACI,kBAAC,WAAD,KACI,kBAACQ,GAAA,EAAD,CACIlB,WAAS,EACTmB,UAAU,MACVlN,UAAW+L,EACXoB,QAAQ,UAEQ,IAAfV,GACG,kBAACqO,GAAD,CACInhB,KAAMA,EACN2S,SAAUA,EACVvD,YAAaA,EACbC,WAAYA,IAIhB6D,EACI,kBAACI,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,IACVZ,EAAa,GACV,kBAACW,GAAA,EAAD,CAAOpN,UAAWxB,GACd,wBAAIwB,UAAU,gBAAd,IAA+B4M,EAASH,IAAe3H,GAAwB,IAAf2H,EAAmB,YAAc3H,EAAQ,KAEzG,kBAACgE,GAAD,CACIG,KAAMA,EACNtP,KAAMA,EACNqP,WAAYA,EACZD,YAAaA,KAIT,IAAf0D,GACG,kBAACQ,GAAA,EAAD,CAAMlB,WAAS,EAACoB,QAAQ,UACpB,kBAAC1N,EAAA,EAAD,CACII,QAAQ,WACRH,KAAK,QACLzD,MAAM,UACN+D,UAAWlB,EAAQgO,OACnBjM,QAAS0L,GAET,kBAAC,KAAD,MAPJ,iBAYPyO,GAAkBlW,EAAM7J,MAAM,0BAC3B,yBAAK+E,UAAU,aACX,0BAAMa,QAAS,kBAAMoa,MAArB,sEAIJvO,GAAa,kBAACnB,GAAD,CACTC,aAAcA,EACdH,MAAOkB,EACPd,YAAaA,EACb9R,KAAMA,KAKlB,kBAACsT,GAAA,EAAD,CAAMlB,WAAS,EAACoB,QAAQ,UACpB,yBAAKnN,UAAWlB,EAAQqN,eAIxB,IAAfM,GAAoB,kBAACQ,GAAA,EAAD,CACjBlB,WAAS,EACTmB,UAAU,MACVC,QAAQ,SACR8B,WAAW,UACX,kBAAChC,GAAA,EAAD,KACI,kBAACxD,GAAA,EAAD,CACIjE,KAAK,gBACLrE,MAAO+Z,EACPxZ,MAAM,gBACNlI,KAAK,OACL+H,SAAUwH,EACVe,gBAAiB,CAAEC,QAAQ,EAAMvJ,MAAO,CAAEI,WAAY,IAAKjE,aAAc,OACzEsN,WAAY,CAAEzJ,MAAO,CAAEgS,cAAe,KAAMxU,MAAO,UACnDsM,WAAS,EACTC,KAAM,EACN1K,QAAQ,iBCxHjB,SAASoV,GAAT,GACoC,IADbL,EACY,EADZA,KAAMvJ,EACM,EADNA,MAAO3M,EACD,EADCA,MAAOyc,EACR,EADQA,OAAQC,EAChB,EADgBA,WAAYC,EAC5B,EAD4BA,YAAaC,EACzC,EADyCA,cAAepG,EACxD,EADwDA,QAASnM,EACjE,EADiEA,YAAa0E,EAC9E,EAD8EA,YAC9HwD,EAAgD,EAAhDA,OAAQzD,EAAwC,EAAxCA,SAAUE,EAA8B,EAA9BA,YAA8B,IAAjBlU,YAAiB,MAAV,OAAU,EAE5CqQ,GAAW,EACTV,EAAe,SAACoS,EAAWpa,GAC/B,GAAkB,aAAdoa,EACF,OAAIpa,EAAM6B,OAAS,GAAK7B,EAAMlG,MAAM,sCAClC4O,GAAW,GACJ,IAGPA,GAAW,GACJ,IAKb,OACE,kBAAC0L,GAAA,EAAD,CAAQX,KAAMA,EAAMX,QAAS5I,EAAOmK,kBAAgB,qBAClD,kBAACC,GAAA,EAAD,CAAazb,GAAG,qBAAqB0E,GACrC,kBAACgX,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACGwF,GAEH,6BAEEC,EAAWnhB,KAAI,SAACshB,EAAWrb,GAAZ,OACb,kBAACuJ,GAAA,EAAD,CACEnJ,IAAKJ,EACL2V,UAAyB,aAAd0F,IAA4B,EACvC/V,KAAM+V,EACN7Z,MAAO2Z,EAAYnb,GACnBqB,SAAUwH,EACVkI,OAAQA,EAAO/Q,GACf1G,KAAMA,EACNmQ,MAAOR,EAAaoS,EAAWtK,EAAO/Q,IACtCsK,WAAS,EACTV,gBAAiB,CAAEC,QAAQ,QAGjC,6BAAM,6BACN,kBAACwD,GAAD,CACE7O,MAAM,iBACN8G,KAAM8V,EACN9N,SAAUA,EACVE,YAAaA,EACbD,YAAaA,KAGjB,kBAACmI,GAAA,EAAD,KACE,kBAACnW,EAAA,EAAD,CAAQoB,QAASwK,EAAOpP,MAAM,WAA9B,YAGA,kBAACwD,EAAA,EAAD,CAAQoB,QAASqU,EAASjZ,MAAM,UAAU4N,SAAUA,GAApD,e,ICiVOiM,MAFK,CAAC,WAAY,WAAY,gB,YAvXzC,aAAe,IAAD,8BACV,+CAQJxc,MAAQ,CACJkiB,WAAY,CAAC,8GACT,0DAAwD,kCACxD,kDACJxI,MAAO,CAAC,8BAA4B,2BAA4B,aAAc,cAE9EpG,SAAU,CAAC,sBAAoB,+BAC3B,gCAAiC,cACrCN,SAAU,GACVE,YAAa,GACbG,yBAA0B,GAC1BoJ,MAAO,GACPC,SAAU,qBACVC,cAAc,EACdxJ,WAAY,EACZgD,MAAO,GACPyG,UAAW,GACXjO,iBAAiB,EACjBwT,UAAU,EACVC,SAAU,GACV5W,MAAO,GACP4H,WAAW,EACXgB,YAAa,iCA/BH,EAgDdiF,cAAgB,SAAMpZ,GAAN,iBAAAqJ,EAAAC,OAAA,qDACJ0E,EAAW,EAAKjO,MAAhBiO,UACMA,EAAO,GAFT,uBAGR,EAAK6O,SAAL,eAAmB,EAAK9c,MAAxB,GAAkC4N,GAAiB,cAH3C,0BAONoP,EAAiB,EAAKhd,MAAMmT,WACnB,SAAXlT,GAAmB,EAAK6c,SAAS,CAAE3J,WAAY6J,EAAiB,IACrD,SAAX/c,GAAmB,EAAK6c,SAAS,CAAE3J,WAAY6J,EAAiB,IACrD,UAAX/c,GAAoB,EAAK6c,SAAS,CAAE3J,WAAY,IAVxC,sCAhDF,EA6Dd1D,YAAc,SAAMhB,GAAN,+BAAAnF,EAAAC,OAAA,qDACqB,EAAKhE,MAAMoH,MAAlCnL,EADE,EACFA,SAAUwR,EADR,EACQA,SADR,EAEYvE,EAAEyO,OAAlBhR,EAFI,EAEJA,KAAMrE,EAFF,EAEEA,MAGC,gBAATqE,EALM,sBAMFqH,EAAkBP,EAAS9R,MAAK,SAAAuN,GAAC,OAAIA,EAAEyE,cAAgBrL,MANrD,mCAAAyB,EAAA,MASI,EAAKwT,SAAS,CAAE5J,YAAaK,EAAgBL,YAAaK,qBAT9D,OAUE1L,IAAU0L,EAAgBL,aAAa,EAAK4J,SAAS,CAAEvJ,qBAAiB7C,IAEtE+L,EAAQjb,EAASqb,QAAO,SAAAjc,GAAC,OAAIA,EAAEwc,UAAY,EAAKpd,MAAMkT,eAE5D,EAAK4J,SAAS,CAAEL,UAdd,wBAiBF,EAAKK,SAAS,CAAEvJ,qBAAiB7C,EAAW+L,MAAO,KACnD,EAAK4F,QAlBH,QAsBG,UAATnW,GAAoB,EAAKlM,MAAMyc,QACf,EAAKzc,MAAMyc,MAAMvb,MAAK,SAAAN,GAAC,OAAIA,EAAE4K,QAAU3D,MACzC,EAAK7H,MAAMkS,aAAa3R,SAAQ,SAAAkO,GAAC,OAAI,EAAKqO,SAAL,eAAiBrO,GAAI,QAG/D,aAATvC,EAEwB,kBADpBkW,EAAWva,MAEXua,EAAWA,EAAS7X,QAAQ,UAAU,SAAA6D,GAAC,OAAIA,EAAEkU,kBAChC3gB,MAAM,sCAAqCygB,EAAWA,EAAS7X,QAAQ,UAAW,QAC/F,EAAKuS,SAAL,eAAmB,EAAK9c,MAAxB,CAA+BoiB,eAEhC,EAAKtF,SAAL,eAAiB5Q,EAAOrE,IAlCrB,uCA7DA,EAkGd+V,MAAQ,SAAO1R,EAAMrE,EAAOzH,EAAYyd,EAASC,EAAQC,GAAjD,yBAAAzU,EAAAC,OAAA,mDAEErB,EAAO9H,EAAWyc,QAAO,SAAArc,GAAE,OAAIA,EAAGsd,GAAQG,cAActc,MAAMkG,EAAMoW,kBAC5D,KAAVpW,GAAc,EAAKiV,UAAL,mBAAiB5Q,EAAO,IAAxB,cAA6B2R,EAAU,IAAvC,KACd3V,EAAK,GAJL,oBAKMgW,EAAShW,EAAK,GAAG4V,GACjBpd,EAAKwH,EAAK,GAAG6V,GACL,KAAVlW,EAPJ,kCAAAyB,EAAA,MAQU,EAAKwT,UAAL,mBAAiB5Q,EAAOgS,GAAxB,cAAiCL,EAAUnd,GAA3C,KARV,kDAAA4I,EAAA,MAYM,EAAKwT,UAAL,mBAAiB5Q,EAAO,IAAxB,cAA6B2R,EAAU,IAAvC,KAZN,QAaA,EAAKf,SAAS,CAAEnO,iBAAiB,EAAMC,UAAW,oBAClDlJ,SAASyY,kBAAkBjS,GAAM,GAAGkS,QAdpC,uCAlGM,EAoHdmE,WAAa,SAACtW,EAAOpE,GACjB,GAAKA,GAA0B,kBAAVA,EASrB,MARc,eAAVoE,IACc,eAAVpE,IAAwBA,EAAQ,gBACtB,2BAAVA,IAAoCA,EAAQ,cAClC,eAAVA,IAAwBA,EAAQA,EAAM2a,OAAO,GAAK3a,EAAM6G,MAAM,GAAGuP,gBAE3D,YAAVhS,GAAiC,QAAVpE,IAAiBA,EAAQ,yBACtC,YAAVoE,GAAiC,WAAVpE,IAAiBA,EAAQ,aAE7CA,GA9HG,EAiId6H,WAAa,SAAOjB,GAAP,mCAAAnF,EAAAC,OAAA,gDAEHyJ,EAAa,EAAKzN,MAAMoH,MAAxBqG,SAFG,EAGqB,EAAKhT,MAA7Byc,EAHG,EAGHA,MAAOvK,EAHJ,EAGIA,aACPhG,EAASuC,EAAEyO,OAAXhR,KAEArE,EAAU4G,EAAEyO,OAAZrV,MACF4a,EAAS,IAEPxU,EAASL,MACH,EAAKkP,SAAS,CAAE7O,WACvB,EAAK6O,SAAS,CAAE7O,YAAQyC,IAXpB,KAaDxE,EAbC,OAeA,kBAfA,OAkBA,gBAlBA,8BAgBD,EAAK0R,MAAM1R,EAAMrE,EAAOmL,EAAU,2BAA4B,cAAe,iBAhB5E,+CAAA1J,EAAA,MAmBK,EAAKsU,MAAM1R,EAAMrE,EAAOmL,EAAU,gBAAiB,cAAe,kBAnBvE,yDAwBI,UAAT9G,GAAoBrE,EAAM6B,OAAS,GAAKgP,MAAMC,QAAQ,EAAK3Y,MAAMyc,QAxB5D,wBA0BDiD,EAAU,EAAK1f,MAAMyc,MAAMvb,MAAK,SAAAN,GAChC,MAAqB,kBAAViH,EAA2BjH,EAAE4K,MAAMyS,cAActc,MAAMkG,EAAMoW,eAC5Drd,EAAE4K,MAAM7J,MAAMkG,QAGf6X,EAAQ9G,iBACb8J,EAAgBhD,EAAQ9G,eAC9B1G,EAAa3R,SAAQ,SAAAkO,GACbiU,EAAczE,cAActc,MAAM8M,EAAEwP,gBAAgBwE,EAAO7Y,KAAK6E,MAExEgU,EAAOliB,SAAQ,SAAAoiB,GAAE,OAAI,EAAK7F,SAAL,eAAiB6F,GAAK,QAG3CjD,GAAWA,EAAQkD,aACnBlD,EAAQkD,WAAa,EAAKL,WAAW,aAAc7C,EAAQkD,aAG3DlD,GAAWA,EAAQmD,UACnBnD,EAAQmD,QAAU,EAAKN,WAAW,UAAW7C,EAAQmD,UA5CpD,YAAAvZ,EAAA,MA+CC,EAAKwT,SAAL,eAAmB4C,EAAnB,CAA4B9G,eAAgB6J,EAAQ7R,SAAS,MA/C9D,aAiDWF,IAAZgP,GAAyBA,EAAQnS,eAAe,YAAY,EAAKuP,SAAS,CAAEgG,YAAapD,EAAQtC,UAEjGiF,EAAQ,GACR5F,EAAM,IAAIhS,OAAOiT,KAAKjB,EAAM,IAAIlc,SAAQ,SAAA+U,GAAC,OAAI+M,EAAM/M,GAAK,MACnC,KAArB,EAAKtV,MAAMwL,OAAiBkU,IAC5B,EAAK5C,SAAS,CAAElO,UAAW,gBAAiBD,iBAAiB,IAC7D,EAAKmO,SAAL,eAAmBuF,EAAnB,CAA0BzR,SAAS,MAvDlC,uCAjIC,EA6Ld+Q,aAAe,WAGX,EAAK7E,SAAS,CAAEqF,UAAU,EAAM/c,MAFlB,2BAEyByc,OAD1B,2IA/LH,EAmMdkB,YAAc,WACV,EAAKjG,SAAS,CAAEtR,MAAO,EAAKxL,MAAMoiB,WAClC,EAAKpB,gBArMK,EAwMdzH,aAAe,kDAAAjQ,EAAAC,OAAA,yDAEiE,EAAKvJ,MADzE4e,EADG,EACHA,UAAWF,EADR,EACQA,cAAeC,EADvB,EACuBA,aAAcxB,EADrC,EACqCA,cAC5C9J,EAFO,EAEPA,yBAA0BuF,EAFnB,EAEmBA,eAAgBwJ,EAFnC,EAEmCA,SAAU7O,EAF7C,EAE6CA,gBAEpDyP,EAAU,GAEdzB,GAAQhhB,SAAQ,SAAAoP,GACZA,EAAKpP,SAAQ,SAAA+X,GACT,IAAK,IAAIhD,KAAK,EAAKtV,MACXsV,IAAMgD,EAAIrM,OAAUqM,EAAI/H,UACpB,EAAKvQ,MAAMsV,IAAI7K,OAAOC,OAAOsY,EAAdvY,OAAA,IAAAA,CAAA,GAA0B6K,EAAI,EAAKtV,MAAMsV,WAMxE2J,EAA0B,GAApBrd,OAAOgd,IAAmBhd,OAAO8c,GAAiB9c,OAAO+c,IAC/DO,MAAMD,KAAMA,OAAMvO,GAEtBsS,EAAUvY,OAAOC,OACbsY,EAAS,CAAE7F,gBAAe9J,2BAA0B4L,MAAKrG,mBAE7DoK,EAAU5Y,KAAMuV,eAAeqD,GAE/BvY,OAAOiT,KAAKsF,GAASziB,SAAQ,SAAAyG,GACJ,KAAjBgc,EAAQhc,IAAgC,SAAjBgc,EAAQhc,IAAoBgc,EAAQhc,WAAagc,EAAQhc,OAzB7E,EA4BqDgc,GAAxDxX,MA5BG,EA4BIsX,YA5BJ,EA4BiBG,cAAkBC,EA5BnC,uDA8BPd,GAAyB,KAAbA,IAAiBc,EAAc1X,MAAQ4W,GACnD7O,EAAgB4J,gBAAkBA,IAAe+F,EAAcriB,QAAU,4BAE/D,UACA,aAlCH,YAAAyI,EAAA,MAoCLO,KAAMuW,IAAI,qBAAsB,CAAE8C,gBAAe/W,MAHzC,UAGgD1K,QAFhD,aAEyDf,GAAI,EAAKV,MAAMyL,aApC3E,2BAAAnC,EAAA,MAqCL,EAAKwW,eArCA,QAsCX,EAAKhD,SAAS,CAAE3J,WAAY,EAAGD,YAAa,GAAIK,qBAAiB7C,IACjE,EAAK2R,QACL,EAAKvF,SAAS,IACd,EAAKkD,QAzCM,uCAxMD,EAqPd7L,YAAc,SAAOgC,EAAOjK,GAAd,iBAAA5C,EAAAC,OAAA,oDAEN4M,IAASA,EAAM,GAFT,oBAGNrL,QAAQC,IAAIoL,EAAOjK,IACfgI,EAAW,IAAImM,UACVG,OAAO,YAAa,EAAKxgB,MAAMyL,WAEpC6U,EAAK,EAAKtgB,MAAM4c,YAEhBzG,GAASA,EAAMzM,OAAS,GATtB,wBAWF4W,EAAG1W,KAAH,eAAWsC,EAAOiK,EAAM,GAAGjK,OAXzB,WAAA5C,EAAA,MAYI,EAAKwT,SAAL,aAAgByD,WAAYD,GAAKpU,EAAOiK,EAAM,MAZlD,OAcFrB,GAAcvU,SAAQ,YAAe,IAAZ2L,EAAW,EAAXA,KACrB,IAAK,IAAIwR,KAAQ,EAAK1d,MACd0d,EAAK/b,MAAMuK,IAAS,EAAKlM,MAAMkM,IAC/BgI,EAASsM,OAAOtU,EAAM,EAAKlM,MAAMkM,OAK7C,EAAK4Q,SAAS,CAAEnN,KAAMuE,IAtBpB,uCArPA,EAgRd4L,YAAc,WAAO,IACTnQ,EAAS,EAAK3P,MAAd2P,KAER9F,KAAMgW,KAAK,qBAAsBlQ,GAC5B1F,MAAK,SAAAC,GAAG,OAAIY,QAAQC,IAAI,eACxBwM,OAAM,SAAAC,GAAG,OAAI1M,QAAQC,IAAIyM,OArRpB,EAwRdrF,YAAc,SAAMjK,GAAN,iBAAAoB,EAAAC,OAAA,uDACF2I,EAAiB,EAAKlS,MAAtBkS,aACJ6K,EAAQ,GAFF,WAAAzT,EAAA,MAGJ,EAAKwT,SAAL,eAAmB,EAAK9c,MAAxB,eAAgCkI,GAAQ,EAAKlI,MAAMkI,OAH/C,OAKVgK,EAAa3R,SAAQ,SAAAkO,IACK,IAAlB,EAAKzO,MAAMyO,IACXsO,EAAMnT,KAAK6E,MAGfsO,EAAM,GAAI,EAAKD,SAAS,CAAElE,eAAgBmE,IACzC,EAAKD,SAAS,CAAElE,eAAgB,KAX3B,sCAxRA,EAsSd3F,aAAe,kBAAM,EAAK6J,SAAS,CAAE1J,WAAY,EAAKpT,MAAMoT,aAtS9C,EAuSd4N,aAAe,kBAAM,EAAKlE,SAAS,CAAEqF,UAAW,EAAKniB,MAAMmiB,YAvS7C,EAwSdgB,WAAa,kBAAM,EAAKrG,SAAS,CAAEnO,iBAAkB,EAAK3O,MAAM2O,mBAxSlD,EAySdqR,MAAQ,kBAAM,EAAKlD,SAAS,CAAEH,cAAe,EAAK3c,MAAM2c,gBAzS1C,EA0Sd0F,MAAQ,WAEJ,IAAIvB,EAAa,GAEjBS,GAAQhhB,SAAQ,SAAAoP,GAAI,OAAIA,EAAKpP,SAAQ,SAAAC,GAAE,OAAI,EAAKsc,SAAL,eAAiBtc,EAAGyL,MAAQ,WACvE6I,GAAcvU,SAAQ,YAAe,IAAZ2L,EAAW,EAAXA,KACrBzB,OAAOC,OAAOoW,EAAdrW,OAAA,IAAAA,CAAA,GAA6ByB,OAAOwE,OAExC,EAAKoM,SAAL,eAAmBgE,EAAnB,CAA+BnR,UAAMe,MAhTrC,EAAKuQ,YAAc,SAACxS,GACE,KAAdA,EAAEyS,SACE,EAAKlhB,MAAMoT,WAAW,EAAKH,gBAJ7B,E,gKAmCFtG,EAAUC,KAAKrH,MAAfoH,MACJuF,EAAe,IAEfvF,IAASA,EAAMuF,a,uBACfvF,EAAMuF,aAAa3R,SAAQ,SAAAkO,GAAC,OAAIhE,OAAOC,OAAOwH,EAAdzH,OAAA,IAAAA,CAAA,GAA+BgE,EAAEvG,MAAO,OAClEiZ,EAAa1W,OAAOiT,KAAKxL,G,mBACzBtF,KAAKkQ,SAAL,aAAgB5K,aAAciP,GAAejP,K,OAEvDxM,SAAS0b,iBAAiB,UAAWxU,KAAKqU,aAAa,G,8FAGlCrU,KAAKkQ,SAAS,M,+BAuQ7B,IAAD,EAE4BlQ,KAAKrH,MAAMoH,MAAtCqG,EAFD,EAECA,SAAUd,EAFX,EAEWA,aAFX,EAKkDtF,KAAK5M,MADtD2c,EAJD,EAICA,aAAcD,EAJf,EAIeA,SAAUwF,EAJzB,EAIyBA,WAAY/O,EAJrC,EAIqCA,WAAYuG,EAJjD,EAIiDA,MAAOyI,EAJxD,EAIwDA,SAAU5O,EAJlE,EAIkEA,gBAAiB5E,EAJnF,EAImFA,gBAAiBC,EAJpG,EAIoGA,UACjGwF,EALH,EAKGA,YAAazE,EALhB,EAKgBA,KAAMvK,EALtB,EAKsBA,MAAOyc,EAL7B,EAK6BA,OAAQO,EALrC,EAKqCA,SAE1C,OAAO,kBAAC,WAAD,KACH,kBAACvJ,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAchG,KAAK,6BAC/C,kBAAC2G,GAAD,CACItG,WAAYA,EACZuG,MAAOA,EACPwI,WAAYA,EACZ7I,cAAezM,KAAKyM,gBAEvBlG,EAAa,GAAK,kBAACiQ,GAAD,CACf/iB,KAAMuM,KAAK5M,MACXgT,SAAUA,EACVd,aAAcA,EACdmH,cAAezM,KAAKyM,cACpBqI,eAA+B,IAAfvO,EAChB1D,YAAa7C,KAAK6C,YAClBC,WAAY9C,KAAK8C,WACjBiS,aAAc/U,KAAK+U,aACnB1O,aAAcrG,KAAKqG,aACnBd,YAAavF,KAAKuF,cAEN,IAAfgB,GAAoB,kBAAC+B,GAAD,CACjBE,gBAAgB,WAChBjB,YAAavH,KAAKuH,YAClBC,YAAaA,EACbF,SAAUvE,IAEE,IAAfwD,GAAoB,kBAAC,GAAD,CACjBiC,gBAAgB,WAAWe,MAAOvJ,KAAK5M,MAAM2P,KAC7CwF,UAAWL,GAAezU,KAAMuM,KAAK5M,MACrC2P,KAAM4R,KAGThO,GAAmB,kBAAC6F,GAAD,CAChBjG,WAAYA,EACZmG,SAAUI,EAAMhQ,OAAS,EACzB6P,aAAc3M,KAAK2M,aACnBF,cAAezM,KAAKyM,gBAExB,kBAAC,GAAD,CAAYiC,KAAMqB,EAAc5K,MAAOnF,KAAKoT,MAAOxE,IAAKkB,IACxD,kBAAC,GAAD,CACIpB,KAAM6G,EACNpQ,MAAOnF,KAAKoU,aACZ5b,MAAOA,EACPyc,OAAQA,EACRC,WAAY,CAAC,YACbC,YAAa,CAAC,iBACdC,cAAc,cACdrK,OAAQ,CAACyK,GACT3S,YAAa7C,KAAK6C,YAClB0E,YAAavH,KAAKuH,YAClByH,QAAShP,KAAKmW,YACd3O,YAAaA,EACbF,SAAUvE,IAEbhB,GAAmB,kBAACgN,GAAD,CAAaL,KAAM3M,EAAiBoD,MAAOnF,KAAKuW,WAAYvU,UAAWA,EAAWkN,cAAelP,KAAK5M,MAAM6O,iB,GApXrHpB,c,+BCtBV8D,GAAa,CACtB,CACItF,MAAO,aACP7D,MAAO,aACP0G,cAAc,EACdC,SAAU,aACV3O,WAAY,cACZ0Q,UAAW,IAEf,CACI7E,MAAO,UACP7D,MAAO,aACP0G,cAAc,EACdC,SAAU,UACV3O,WAAY,UACZ0Q,UAAW,IAEf,CACI5Q,KAAM,OACN+L,MAAO,cACP7D,MAAO,sBAEX,CACIlI,KAAM,OACN+L,MAAO,aACP7D,MAAO,eCJTlG,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnC8C,MAAO,CACHrC,QAAST,EAAMkB,QAAQ,GACvB8L,UAAW,SACXzM,MAAOP,EAAMa,QAAQ6P,KAAKC,UAC1BxD,OAAQnN,EAAMkB,QAAQ,IAE1B8B,MAAO,CACHzC,MAAO,OACP2E,WAAY,IACZF,SAAU,SACVgI,UAAW,SACX/L,aAAc,QAElB2L,UAAW,CACPC,WAAY7M,EAAMkB,QAAQ,GAC1B4L,YAAa9M,EAAMkB,QAAQ,GAC3BoB,MAAO,IACP0C,SAAU,SACV+H,UAAW,OACXC,UAAW,UAEfiU,KAAM,CACF9T,OAAQnN,EAAMkB,QAAQ,SAIf,SAASggB,GAAT,GACsF,IADjEtQ,EACgE,EADhEA,SAAU3S,EACsD,EADtDA,KAAMkjB,EACgD,EADhDA,eAAgB9T,EACgC,EADhCA,YAAaC,EACmB,EADnBA,WAC7E8T,EAAgG,EAAhGA,SAAUC,EAAsF,EAAtFA,oBAAqBtP,EAAiE,EAAjEA,YAAaoF,EAAoD,EAApDA,aAAcmK,EAAsC,EAAtCA,oBAAqBC,EAAiB,EAAjBA,cAEvEpQ,EACmClT,EADnCkT,gBAAiB/H,EACkBnL,EADlBmL,MAAO3K,EACWR,EADXQ,QAAS+iB,EACEvjB,EADFujB,WAAYnH,EACVpc,EADUoc,MAAOpH,EACjBhV,EADiBgV,gBACxDuK,EAAuCvf,EAAvCuf,UAAWxL,EAA4B/T,EAA5B+T,YAAayP,EAAexjB,EAAfwjB,WAEtBre,EAAUtD,KAAegD,EAA2BM,EAA3BN,MAAO8J,EAAoBxJ,EAApBwJ,UAAWqU,EAAS7d,EAAT6d,KAE7C/hB,EAAS,GAUb,OARIse,GAAaA,EAAUte,SACnBse,EAAUte,OAAO,IAA8B,OAAxBse,EAAUte,OAAO,KAAaA,EAASse,EAAUte,OAAOwiB,aACrEpT,IAAVlF,GAAuBA,EAAM9B,OAAS,GAAKpI,EAAO,KACnBA,EAAV,kBAAVkK,EAA6BoU,EAAUte,OAAOub,QAAO,SAAA/O,GAAC,OAAIA,EAAEmQ,cAActc,MAAM6J,EAAMyS,kBAAgB6F,OACnGlE,EAAUte,OAAOub,QAAO,SAAA/O,GAAC,OAAIA,EAAEnM,MAAM6J,MAAQsY,SAK/D,kBAAC,WAAD,KACI,yBAAK5c,MAAO,CAAExC,MAAO,OAAQH,QAAS,OAAQwf,cAAe,WACzD,kBAAClL,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAchG,KAAK,YAC/C,kBAAC0O,GAAD,CACInhB,KAAMA,EACN2S,SAAUA,EACVvD,YAAaA,EACbC,WAAYA,IAEf6D,GACG,kBAACO,GAAA,EAAD,CAAOpN,UAAWxB,GACd,wBAAIwB,UAAU,gBAAd,+BACA,kBAAC8I,GAAD,CACIG,KAAM4B,GACNlR,KAAMA,EACNqP,WAAYA,EACZD,YAAaA,IAEhB4F,GACG,yBAAK3O,UAAU,aACX,0BAAMa,QAAS,kBAAMmc,MAArB,oFAKfnQ,GAAmBqM,IAAcA,EAAUte,QAAUiiB,IAClD,kBAACzP,GAAA,EAAD,CAAOpN,UAAWxB,GACd,wHACA,6BAASwB,UAAU,aACf,6BACI,kBAACyJ,GAAA,EAAD,CACIQ,WAAY,CACRzE,KAAM,aACN2E,KAAM,SAEVL,gBAAiB,CACbtJ,MAAO,CAAEE,SAAU,WAEvBgB,MAAM,iBACN1B,UAAWsI,EACXnH,MAAO+b,EACP3b,SAAUwH,EACVW,OAAQV,IAEZ,kBAAC,GAAD,CACItP,WAAYqc,EACZ1N,SAAS,QACTlH,MAAO+b,IAEX,kBAACzd,EAAA,EAAD,CACIC,KAAK,QACLG,QAAQ,YACRG,UAAWlB,EAAQgO,OACnBtM,MAAO,CAAEqI,OAAQ,iBACjBhI,QAAS,kBAAMic,EAASI,KAExB,kBAAC,KAAD,MAPJ,eAWJ,6BACI,kBAACzT,GAAA,EAAD,CACIQ,WAAY,CACRzE,KAAM,SAEVsE,gBAAiB,CACbtJ,MAAO,CAAEE,SAAU,WAEvBgB,MAAM,UACN1B,UAAWsI,EACXnH,MAAO2D,GAAS,GAChBvD,SAAUwH,EACVW,OAAQV,IAEZ,kBAAC,IAAD,CAAQxI,MAAO,CAAE7C,UAAW,WAEhC,kBAAC4P,GAAD,CACI/H,KAAK,aACLgI,SAAU2P,EACVzP,YAAaA,EACbD,YAAaA,EACbE,QAAQ,KAKhB,yBAAK3N,UAAU,YAAYQ,MAAO,CAAE1E,eAAgB,aAAcK,QAAS,SACvE,0BAAM0E,QAAS,kBAAMoc,MAArB,8CAMH/D,GAAaA,EAAUte,QAAUse,EAAUte,OAAO,GAE/C,yBAAK4F,MAAO,CAAEqI,OAAQ,SAAtB,kCACiCqQ,EAAU/e,SAG3C,yBAAKqG,MAAO,CAAE7C,UAAW,UAE5Bub,GAAaA,EAAUte,QAAUT,GAAWA,EAAQ6I,OAAS,GAAKpI,EAAO,IAAMA,EAAOX,KAAI,SAAC6K,EAAO5E,GAAR,OACvF,kBAACod,GAAA,EAAD,CACIhd,IAAKJ,EACLwB,MAAOoD,EACPyY,SAAU,kBAAMR,EAAoBjY,IACpC9E,UAAW2c,EACX1gB,MAAM,UACN4D,QAAQ,kBAK3B1F,IAAY+e,GAAa2D,IACtB,yBAAKrc,MAAO,CAAEuB,UAAW,OAAQzF,SAAU,SACvC,kBAACmD,EAAA,EAAD,CACIC,KAAK,QACLzD,MAAM,UACN+D,UAAU,aACVH,QAAQ,YACRgB,QAAS,kBAAMgS,MALnB,UAQW,2CARX,IAQsC,kBAAC,KAAD,SCpK3C2K,OAvBf,YAAoE,IAA3Czc,EAA0C,EAA1CA,MAAOrC,EAAmC,EAAnCA,MAAO/E,EAA4B,EAA5BA,KAAM0R,EAAsB,EAAtBA,MAAOI,EAAe,EAAfA,YAChD,OACI,yBAAKzL,UAAU,mBACX,4BAAKtB,EAAL,mDACA,yBAAKsB,UAAU,sBAEPe,EAAM9G,KAAI,SAACuH,EAAMtB,GAAP,OACN,yBAAKF,UAAU,gBAAgBM,IAAKJ,GAChC,2BACIlG,GAAIkG,EACJ1G,KAAK,WACLsS,SAAwB,IAAfnS,EAAK6H,GACdD,SAAU,kBAAMkK,EAAYjK,MAChC,2BAAOic,QAASvd,GAAIsB,QAKpC,kBAAC4J,GAAD,CAAkBC,MAAOA,MCXtB,SAASqS,GAAT,GAAqI,IAA1G9I,EAAyG,EAAzGA,KAAMvJ,EAAmG,EAAnGA,MAAO3M,EAA4F,EAA5FA,MAAOif,EAAqF,EAArFA,cAAeC,EAAsE,EAAtEA,MAAOC,EAA+D,EAA/DA,OAAQC,EAAuD,EAAvDA,YAAaC,EAA0C,EAA1CA,WAAYhV,EAA8B,EAA9BA,YAAaiV,EAAiB,EAAjBA,cAE9H,OACI,6BACI,kBAACzI,GAAA,EAAD,CAAQX,KAAMA,EAAMX,QAAS5I,EAAOmK,kBAAgB,qBAChD,kBAACC,GAAA,EAAD,CAAazb,GAAG,qBAAqB0E,GACrC,kBAACgX,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACKgI,GAEL,yBAAK3d,UAAU,cACV6d,GAAU,yBAAK7d,UAAU,eACtB,kBAACyJ,GAAA,EAAD,CACIlI,SAAUuc,EACV3c,MAAOyc,EACPlc,MAAM,sBACNiH,QAAQ,EACRmB,gBAAiB,CAAEC,QAAQ,GAC3BU,YAAa,CACTjK,MAAO,CACHE,SAAU,SAAUzE,MAAO,OAAQ2E,WAAY,IAC/C5C,MAAO,IAAKgE,OAAQ,UAI3B6b,EAAO5jB,KAAI,WAAYiG,GAAZ,IAAG0d,EAAH,EAAGA,MAAH,OACR,kBAACjT,GAAA,EAAD,CAAUrK,IAAKJ,EAAGiB,MAAOyc,GACpBA,QAKjB,yBAAK5d,UAAU,eACX,kBAACyJ,GAAA,EAAD,CACIoM,WAAS,EACThN,OAAO,QACPrD,KAAK,aACL9D,MAAM,UACNlI,KAAK,OACL+H,SAAUwH,EACV5H,MAAO4c,EACPvT,WAAS,MAKrB,6BAAM,6BAAM,8BAGhB,kBAACoL,GAAA,EAAD,KACI,kBAACnW,EAAA,EAAD,CAAQoB,QAASwK,EAAOpP,MAAM,WAA9B,YAGA,kBAACwD,EAAA,EAAD,CAAQoB,QAAS,kBAAMmd,KAAiB/hB,MAAM,WAA9C,gB,ICiaL6Z,MAFK,CAAC,WAAY,WAAY,cAAe,W,YA9cxD,aAAe,IAAD,8BACV,+CASJxc,MAAQ,CACJ4jB,WAAY,GACZhE,UAAW,GACXvK,iBAAiB,EACjBnC,YAAa,GACblI,WAAY,GACZ2Z,gBAAiB,GACjBjI,SAAU,qBACVC,cAAc,EACdvI,YAAa,6CACbuP,eAAe,GApBL,EA6CdiB,eAAiB,SAAO1Y,EAAM2Y,GAAb,+BAAAvb,EAAAC,OAAA,mDAGTvI,EAAU8jB,KAAKC,MAAMD,KAAKE,UAAU,EAAKzf,MAAMoH,MAAM3L,UACnDuS,EAAoB,EAAKvT,MAAzBuT,gBACFpS,EALS,YAKDH,EAAQ6b,QAAO,SAAAU,GAAE,OAAIA,EAAGJ,gBAAkB5J,EAAgB4J,kBAElEyC,EAPS,eAOQze,EAAED,MAAK,SAAAC,GAAC,OAAIA,EAAE+K,KAAU2Y,QACvCxP,EAAkB5K,OAAOiT,KAAKkC,GAAWlW,OAAS,GAR3C,wBAWH4B,EAAcgD,KAAOsR,EAAUtU,aAAa4M,OAAO,cACrD3M,EAAaqU,EAAUrU,WAAWyE,WAAWtB,MAAM,EAAG,IACpD1D,EAA6B4U,EAA7B5U,WAAYE,EAAiB0U,EAAjB1U,aAbT,WAAA5B,EAAA,MAcH,EAAKwT,SAAS,CAAE9R,aAAYE,eAAcI,cAAaC,aAAYqU,YAAWvK,qBAd3E,yCAiBR,EAAKyH,SAAS,CAAEzH,kBAAiBuK,UAAW,GAAItU,YAAa,GAAIC,WAAY,GAAIoZ,gBAAiB,KAjB1F,uCA7CH,EAiEdlV,YAAc,SAAMhB,GAAN,iEAAAnF,EAAAC,OAAA,gDAEJ1B,EAAU4G,EAAEyO,OAAZrV,MAEAqE,EAASuC,EAAEyO,OAAXhR,KAJI,EAKgC,EAAK3G,MAAMoH,MAA/CnL,EALI,EAKJA,SAAUwR,EALN,EAKMA,SAAUnI,EALhB,EAKgBA,YALhB,EAOuC,EAAK7K,MADhDid,EANI,EAMJA,cAAe1J,EANX,EAMWA,gBAAiBkJ,EAN5B,EAM4BA,MAAOmD,EANnC,EAMmCA,UAAW/e,EAN9C,EAM8CA,QAASyK,EANvD,EAMuDA,YACzDC,EAPE,EAOFA,WAAYoS,EAPV,EAOUA,aAAc3S,EAPxB,EAOwBA,WAElC,EAAK8R,SAAL,eAAiB5Q,EAAOrE,IATd,KAWFqE,EAXE,OAYD,gBAZC,OA+BD,YA/BC,QAmCD,eAnCC,QA0CD,eA1CC,6BAaEqH,EAAkBP,EAAS9R,MAAK,SAAAuN,GAAC,OAAIA,EAAEyE,cAAgBrL,MAbzD,oCAAAyB,EAAA,MAgBQ,EAAKwT,SAAS,CAAE5J,YAAaK,EAAgBL,YAAaK,qBAhBlE,QAiBM1L,IAAU0L,EAAgBL,aAAa,EAAK4J,SAAS,CAAEvJ,qBAAiB7C,IAExE+L,EAAQjb,EAASqb,QAAO,SAAAjc,GAAC,OAAIA,EAAEwc,UAAY,EAAKpd,MAAMkT,eACtDmK,EAAqBJ,EAAcJ,QAAO,SAAA5b,GAAM,OAAIA,EAAOmc,UAAY,EAAKpd,MAAMkT,eAClF+R,EAAYxI,EAAM9b,KAAI,SAAA+e,GAAO,OAAIA,EAAQlU,SAAOsY,OAEpD,EAAKhH,SAAS,CAAEL,QAAOzb,QAASqc,EAAoB4H,cAvBtD,wBA0BE,EAAKnI,SAAS,CAAEvJ,qBAAiB7C,EAAW+L,MAAO,KACnD,EAAKyI,cA3BP,mDAgCF,EAAKN,eAAe,UAAW/c,GAhC7B,oCAoCIsd,EAAqBta,EAAY3J,MAAK,SAAA+J,GAAE,OAAIA,EAAGD,aAAenD,OAEhE,EAAKiV,SAAS,CAAE5R,aAAcia,EAAmBzkB,KAtCnD,oCA2CI0kB,EAAe3I,EAAMvb,MAAK,SAAAN,GAAC,OAAIA,EAAE4K,QAAU3D,OAC/B,EAAKiV,SAAS,CAAEsI,iBA5ChC,wCAqDJC,EADS,CAAC,aAAc,UAAW,cAAe,cAC7BhY,OAAM,SAAAiJ,GAAC,OAAI,EAAKtW,MAAMsW,IAAwB,KAAlB,EAAKtW,MAAMsW,MAErD,gBAATpK,GAA2ByR,IAAgB0H,GAAiD,IAAlC5a,OAAOiT,KAAKkC,GAAWlW,OAvD3E,wBAwDFiU,EAAe,IACbwH,EAAqBta,EAAY3J,MAAK,SAAA+J,GAAE,OAAIA,EAAGD,aAAe,EAAKhL,MAAMgL,iBACvDE,EAAeia,EAAmBzkB,IAE1D+J,OAAOC,OAAOiT,EACV,CACIP,QAAS7J,EAAgBL,YACzBiK,cAAe5J,EAAgB4J,cAC/Btc,UAASmK,aAAYE,eAAcI,cAAaC,aAAYjK,OAAQ,GAAIE,SAAU,KAhEpF,YAAA8H,EAAA,MAmEA,EAAKwT,SAAS,CAAEzH,iBAAiB,EAAOuK,UAAWjC,EAAczS,kBAnEjE,uCAjEA,EAwIdwE,WAAa,SAAAjB,GAGL,IAAE5D,EAAgB,EAAKtF,MAAMoH,MAA3B9B,YAAF,EACiD,EAAK7K,MAApDgL,EADF,EACEA,WAAYiS,EADd,EACcA,cAAe1J,EAD7B,EAC6BA,gBAC3BrH,EAASuC,EAAEyO,OAAXhR,KAEN,GAAa,eAATA,EAAuB,CACvB,IAAImR,EAAqB,GAEnBiI,EAAQza,EAAY3J,MAAK,SAAAC,GAAC,OAAIA,EAAE6J,WAAWiT,cAActc,MAAMqJ,EAAWiT,kBAC5EqH,GAASta,EAAWtB,OAAS,GAAG,EAAKoT,SAAS,CAAE9R,WAAYsa,EAAMta,cACjEsa,GAASta,EAAWtB,OAAS,GAAG,EAAKoT,SAAS,CAAEnO,iBAAiB,EAAMC,UAAW,qBAAsB5D,gBAAY0F,IAErH6C,IAAoBvI,GACpBqS,EAAqBJ,EAAcJ,QAAO,SAAA5b,GAAM,OAAIA,EAAOmc,UAAY7J,EAAgBL,eACvF,EAAK4J,SAAS,CAAE9b,QAASqc,KAEnB9J,GAAkC,KAAfvI,EAIpBuI,GAAkC,KAAfvI,IACxBqS,EAAqBJ,EAChBJ,QAAO,SAAA0I,GAAG,OAAIA,EAAInI,UAAY7J,EAAgBL,eAC9C2J,QAAO,SAAA0I,GAAG,OAAIA,EAAIva,aAAeA,KACtC,EAAK8R,SAAS,CAAE9b,QAASqc,MAPzBA,EAAqBJ,EAAcJ,QAAO,SAAA1b,GAAC,OAAIA,EAAE6J,aAAeA,KAChE,EAAK8R,SAAS,CAAE9b,QAASqc,KASjC,GAAa,gBAATnR,GAAmC,eAATA,EAAuB,CACjD,IAAM+B,EAASL,KACXK,EAAQ,EAAK6O,SAAS,CAAE7O,WACvB,EAAK6O,SAAS,CAAE7O,YAAQyC,MAxKvB,EA2KdiT,cAAgB,WAAO,IAAD,EACe,EAAK3jB,MAA9B4f,EADU,EACVA,UAAWqF,EADD,EACCA,UACf3jB,EAAS,GAAIkkB,EAAe,GAE5B5F,GAAaA,EAAUte,SAAQA,EAASse,EAAUte,QAEtD2jB,EAAU1kB,SAAQ,SAAAuN,GAAC,OAAIrD,OAAOC,OAAO8a,EAAd/a,OAAA,IAAAA,CAAA,GAA+BqD,GAAI,OAC1DxM,EAAOf,SAAQ,SAAAuN,GAAC,OAAIrD,OAAOC,OAAO8a,EAAd/a,OAAA,IAAAA,CAAA,GAA+BqD,GAAI,OAEvD,EAAKgP,SAAS,CAAE0I,eAAcC,cAAenkB,EAAQqiB,eAAgB,EAAK3jB,MAAM2jB,iBApLtE,EAuLdxR,YAAc,SAAMuT,GAAN,eAAApc,EAAAC,OAAA,iDAENic,EAFM,eAEc,EAAKxlB,MAAMwlB,eACtBE,IAAUF,EAAaE,IAER,IAAxBF,EAAaE,GAAiB,EAAKlC,SAASkC,GAC3C,EAAKjC,oBAAoBiC,GAE9B,EAAK5I,SAAS,CAAE0I,iBARN,sCAvLA,EAkMdhC,SAAW,SAAMmC,GAAN,6BAAArc,EAAAC,OAAA,qDAGkB,EAAKvJ,MAAxBa,EAHC,EAGDA,QAAS4b,EAHR,EAGQA,MACX2I,EAAe3I,EAAMvb,MAAK,SAAAN,GAAC,OAAIA,EAAE4K,QAAUma,KAJxC,EAM8B,EAAK3lB,MAApCqV,EANC,EAMDA,gBAAiBuK,EANhB,EAMgBA,UAElB+F,GAA6B,KAAfA,EARZ,yDAWcjV,IAAjB0U,IAA2E,IAA7CA,EAAa7X,eAAe,aAXvD,uBAYH,EAAKuP,SAAS,CAAEnO,iBAAiB,EAAMC,UAAW,kBAZ/C,kBAaI,MAbJ,WAcwB,IAApByG,IAA4BuK,EAAUte,SAAU8jB,EAAa5Z,MAdjE,qBAeWoU,EAAUte,OAAOJ,MAAK,SAAA4M,GAAC,OAAIA,IAAMsX,EAAa5Z,SAfzD,wBAiBC,EAAKsR,SAAS,CAAEnO,iBAAiB,EAAMC,UAAW,gBAjBnD,kBAkBQ,MAlBR,QAsBH/N,KAEIP,EAFK,eAESsf,IAENte,SAAQhB,EAAOgB,OAAS,IAC/BhB,EAAOkB,WAAUlB,EAAOkB,SAAW,IAExClB,EAAOgB,OAAOsI,KAAK+b,GACnBrlB,EAAOkB,SAASoI,KAAKwb,EAAa3Z,WAElC,EAAKqR,SAAS,CAAE8C,UAAWtf,EAAQsjB,WAAY,MAhC5C,uCAlMG,EAsOdH,oBAAsB,SAAMkC,GAAN,6CAAArc,EAAAC,OAAA,kDAGO,EAAKvJ,MAAxBa,EAHY,EAGZA,QAAS4b,EAHG,EAGHA,MACX2I,EAAe3I,EAAMvb,MAAK,SAAAN,GAAC,OAAIA,EAAE4K,QAAUma,KACzCla,EAAqB2Z,EAArB3Z,UAAWD,EAAU4Z,EAAV5Z,MAGboU,EARc,eAQG,EAAK5f,MAAM4f,WAC5B+E,EATc,YASQ,EAAK3kB,MAAM2kB,iBACjCrjB,EAAS,GAAIE,EAAW,IAGtB+jB,EAAM,EAAKhgB,MAAMoH,MAAM3L,QAAQE,MAAK,SAAAC,GAAC,OAAIA,EAAEN,UAAYA,OAClD0kB,EAAIjkB,SAAQskB,EAAQL,EAAIjkB,OAAOukB,SAASra,IAE/Coa,IACMpkB,EAAaoe,EAAbpe,SACA8T,EAAI9T,EAASskB,QAAQra,GAC3BkZ,EAAgB/a,KAAKpI,EAAS8T,IAC9B,EAAKwH,SAAS,CAAE6H,qBAGhB/E,EAAUte,SAAQA,EAASse,EAAUte,QACrCse,EAAUpe,WAAUA,EAAWoe,EAAUpe,UAGzCoF,EAAItF,EAAOwkB,QAAQta,GACnB8J,EAAI9T,EAASskB,QAAQra,GAEzBmU,EAAUte,OAAOC,OAAOqF,EAAG,GAC3BgZ,EAAUpe,SAASD,OAAO+T,EAAG,GAE7B,EAAKwH,SAAS,CAAE8C,cAjCE,uCAtOR,EA0QdmG,gBAAkB,WAAO,IAAD,EAEuC,EAAK/lB,MAA1D4f,EAFc,EAEdA,UAAWtU,EAFG,EAEHA,YAAaC,EAFV,EAEUA,WAAYL,EAFtB,EAEsBA,aACpCxK,EAAiBkf,EAAjBlf,GAAIc,EAAaoe,EAAbpe,SAGNwkB,EAAU,GAEVC,GAAoB3X,KAAOhD,GAAa4a,OAAO5X,KAAOsR,EAAUtU,cAChE6a,GAAuB7X,KAAO/C,GAAY2a,OAAO5X,KAAOsR,EAAUrU,aAClE6a,EAAsBlb,IAAiB0U,EAAU1U,aAErD,GAAK+a,GAAqBE,IAAuBC,EAAjD,CAEIH,IAAkBD,EAAQK,aAAe/a,GACzC6a,IAAqBH,EAAQza,WAAaA,GAC1C6a,IAAqBJ,EAAQ/F,cAAgB/U,GAEjD,IAAMob,EAAa,CACf5lB,KACA6lB,QAAS9b,OAAOiT,KAAKsI,GACrBA,UACAQ,WAAYhlB,GAEhBqI,KAAMuW,IAAI,uBAAwBkG,GAC7Brc,MAAK,SAAAE,GAAC,OAAIW,QAAQC,IAAIZ,EAAE9J,WAnSnB,EAsSdkZ,aAAe,8DAAAjQ,EAAAC,OAAA,qDAE6E,EAAKvJ,MAArFgL,EAFG,EAEHA,WAAYqK,EAFT,EAESA,gBAAiBuK,EAF1B,EAE0BA,UAAW3R,EAFrC,EAEqCA,OAAQwW,EAF7C,EAE6CA,WAAYE,EAFzD,EAEyDA,gBAGhElI,EALO,YAKK,EAAKzc,MAAMyc,OACvB+J,EAAa,IAEbvY,IAAUA,EAAO,GARV,uBASP,EAAK6O,SAAL,eAAmB,EAAK9c,MAAxB,GAAkC4N,GAAiB,cAT5C,6BAYN5C,GAA6B,KAAfA,EAZR,uBAaP,EAAK8R,SAAS,CAAEnO,iBAAiB,EAAMC,UAAW,qBAAsB5D,gBAAY0F,IAb7E,+BAkBiE,EAAK1Q,MAAzEkL,EAlBG,EAkBHA,aAAcrK,EAlBX,EAkBWA,QAASyK,EAlBpB,EAkBoBA,YAAaC,EAlBjC,EAkBiCA,WAAYgI,EAlB7C,EAkB6CA,gBAEpDkT,EAAY,CACZ5lB,UACAof,cAAe/U,EACfwb,eAAgBnT,EAAgB4J,eAG9BoC,EAAejR,KAAOhD,EAAa,cAAc,GAAMiD,UACzDiR,EAAYlR,KAAO/C,EAAY,cAAc,GAAMgD,UAEnDgR,IAAckH,EAAUJ,aAAe/a,GACvCkU,IAAWiH,EAAUlb,WAAaA,GAGjC8J,EAjCM,wBAkCHuK,IAAW4G,EAAa5G,EAAUpe,UAlC/B,YAAA8H,EAAA,MAmCDO,KAAMgW,KAAK,iBAAkB4G,IAnC5B,YAsCPpR,EAtCO,wBAuCPmR,EAAa5G,EAAUpe,SAvChB,YAAA8H,EAAA,MAwCD,EAAKyc,mBAxCJ,eA4CPlP,EAAO,CACP1K,MAAO,UACP+T,OAAQ,UACRrY,MAAOhH,EACPY,QAAS,aACT0e,IAAKqG,GAGL/B,GAAcpP,GAAmBuK,EAAUlf,IAC3CmJ,KAAMuW,IAAI,2BAA4B,CAAE1f,GAAIkf,EAAUlf,GAAIimB,iBAAkBlC,IArDrE,YAAAnb,EAAA,MAwDLO,KAAMuW,IAAI,wBAAyBvJ,GACpC5M,MAAK,SAAAC,GACFY,QAAQC,IAAIb,EAAI7J,MAChB,EAAKyc,SAAS,CAAE8J,iBAAiB,QA3D9B,YA6DPjC,EA7DO,wBA8DP9N,EAAKhP,MAAQ,2BACbgP,EAAKsJ,IAAMwE,EA/DJ,YAAArb,EAAA,MAgEDO,KAAMuW,IAAI,wBAAyBvJ,IAhElC,QAmEX4F,EAAQA,EAAM9b,KAAI,SAAAC,GAOd,OANA4lB,EAAWjmB,SAAQ,SAAAG,GACf,OAAIE,EAAE6K,YAAc/K,GAChBE,EAAEC,QAAUA,EACLD,GACGA,KAEXA,KAGX,EAAKof,QACL,EAAKF,cACL,EAAKoF,cACL,EAAKpI,SAAS,CAAEL,UAhFL,uCAtSD,EAyXdtI,YAAc,SAAMoC,GAAN,eAAAjN,EAAAC,OAAA,uDACN2K,EAAW,IAAImM,UACVG,OAAO,aAAcjK,EAAK,IAFzB,WAAAjN,EAAA,MAGJ,EAAKwT,SAAS,CAAE1I,YAAamC,EAAK,GAAGrK,KAAM2X,WAAY3P,KAHnD,sCAzXA,EA+Xd4L,YAAc,4CAAAxW,EAAAC,OAAA,qDAC2B,EAAKvJ,MAAlCa,EADE,EACFA,QAAS0S,EADP,EACOA,gBAEbsT,EAAiB,IAAIxG,UAErB,EAAKrgB,MAAM6jB,WALL,iBASN,IAHAgD,EAAerG,OAAO,YAAa,cACnCqG,EAAerG,OAAO,UAAW3f,GACjCgmB,EAAerG,OAAO,YAAajN,EAAgB4J,eAR7C,4BASN,EAAiB,EAAKnd,MAAM6jB,WAAWrP,UAAvC,+CAASC,EAAyC,QAC9CoS,EAAerG,OAAO/L,EAAK,GAAIA,EAAK,IAVlC,4PAAAnL,EAAA,MAYAO,KAAMgW,KAAK,qBAAsBgH,GAClC5c,MAAK,SAAAE,GAAC,OAAIW,QAAQC,IAAIZ,EAAE9J,UAbvB,QAcN,EAAK2f,QAdC,4EA/XA,EAkZd0E,cAAgB,kBAAM,EAAK5H,SAAS,CAAEjc,QAAS,EAAKb,MAAMykB,WAAYqC,eAAe,KAlZvE,EAmZd9F,aAAe,kBAAM,EAAKlE,SAAS,CAAEgK,eAAgB,EAAK9mB,MAAM8mB,iBAnZlD,EAoZd9G,MAAQ,kBAAM,EAAKlD,SAAS,CAAEH,cAAe,EAAK3c,MAAM2c,gBApZ1C,EAqZdwG,WAAa,kBAAM,EAAKrG,SAAS,CAAEnO,iBAAkB,EAAK3O,MAAM2O,mBArZlD,EAsZduW,YAAc,WACV,EAAKpI,SAAS,CACVzH,iBAAiB,EAAOrK,WAAY,GAAI4U,UAAW,GACnD/e,QAAS,GAAIyK,YAAa,GAAIC,WAAY,GAAIsY,WAAY,KAAMc,gBAAiB,GACjFvQ,YAAa,gDAxZjB,EAAK6M,YAAc,SAACxS,GACE,KAAdA,EAAEyS,UACE,EAAKlhB,MAAM8mB,eAAe,EAAK9F,eAC/B,EAAKhhB,MAAM2jB,eAAe,EAAK7G,SAAS,CAAE6G,eAAe,MAL3D,E,iFAwBV/W,KAAKkQ,SAAS,CACVjS,YAAa+B,KAAKrH,MAAMoH,MAAX,YACbsQ,cAAerQ,KAAKrH,MAAMoH,MAAX,UAEnBjH,SAAS0b,iBAAiB,UAAWxU,KAAKqU,aAAa,K,yCAGxC8F,EAAWC,GAEtB,IAAEhmB,EAAY4L,KAAKrH,MAAMoH,MAAvB3L,QAAF,EACgD4L,KAAK5M,MAAnDa,EADF,EACEA,QAASwU,EADX,EACWA,gBAAiBuR,EAD5B,EAC4BA,gBAEhC,GAAIG,EAAUpa,MAAM3L,UAAYA,IAAY4lB,IACxC9b,QAAQC,IAAI,mCAAoC6b,GAC5CvR,GAAiB,CACjB,IAAM4R,EAAmBjmB,EAAQE,MAAK,SAAAC,GAAC,OAAIA,EAAEN,UAAYA,KACzD+L,KAAKkQ,SAAS,CAAEzH,gBAAiB4R,O,+BAsXnC,IAAD,SAEuFra,KAAK5M,MAA3F2O,EAFD,EAECA,gBAAiBC,EAFlB,EAEkBA,UAAWkY,EAF7B,EAE6BA,cAAenD,EAF5C,EAE4CA,cAAesB,EAF3D,EAE2DA,UAAWO,EAFtE,EAEsEA,aACrExS,EAAapG,KAAKrH,MAAMoH,MAAxBqG,SAEAuQ,EAAiBhS,GAClBlE,OAAM,SAAAiI,GAAC,OAAI,EAAKtV,MAAMuN,eAAe+H,EAAErJ,QAAkC,KAAxB,EAAKjM,MAAMsV,EAAErJ,UAEnE,OACI,kBAAC,WAAD,KACI,kBAAC,GAAD,CACI5L,KAAMuM,KAAK5M,MACXgT,SAAUA,EACVuQ,eAAgBA,EAChB9T,YAAa7C,KAAK6C,YAClBC,WAAY9C,KAAK8C,WACjB8T,SAAU5W,KAAK4W,SACfC,oBAAqB7W,KAAK6W,oBAC1BC,oBAAqB9W,KAAKoU,aAC1B7M,YAAavH,KAAKuH,YAClBoF,aAAc3M,KAAK2M,aACnBoK,cAAe/W,KAAK+W,gBAEvBmD,GAAiB,kBAAC1C,GAAD,CACd9I,KAAMwL,EACN/U,MAAOnF,KAAKoU,aACZ5b,MAAM,kCACNif,cAAc,gDACd5U,YAAa7C,KAAK6C,YAClBiV,cAAe9X,KAAK8X,gBAGpBf,GACA,kBAAC,GAAD,CACIlc,MAAOwd,EACPlT,MAAOnF,KAAK+W,cACZve,MAAM,sDACN+M,YAAavF,KAAKuF,YAClB9R,KAAMmlB,IAGb7W,GAAmB,kBAACgN,GAAD,CAAaL,KAAM3M,EAAiBoD,MAAOnF,KAAKuW,WAAYvU,UAAWA,EAAWkN,cAAelP,KAAK5M,MAAM6O,YAChI,kBAAC,GAAD,CAAYyM,KAAM1O,KAAK5M,MAAM2c,aAAc5K,MAAOnF,KAAKoT,MAAOxE,IAAK5O,KAAK5M,MAAM0c,gB,GA1ctEjP,cCfXyZ,GAAY,CACrB,CACIjb,MAAO,QACP7D,MAAO,QACP2G,SAAU,QACVD,cAAc,EACd1O,WAAY,QACZ0Q,UAAW,GAEf,CACI7E,MAAO,UACP7D,MAAO,WAEX,CACI6D,MAAO,UACP7D,MAAO,sBACP0I,UAAW,IAEf,CACI7E,MAAO,cACP7D,MAAO,iBACPmI,UAAU,GAEd,CACItE,MAAO,aACP7D,MAAO,mBACPmI,UAAU,GAEd,CACItE,MAAO,UACP7D,MAAO,gCACPmI,UAAU,GAGd,CACItE,MAAO,cACP7D,MAAO,kBACPmI,UAAU,GAEd,CACItE,MAAO,eACP7D,MAAO,mBACPmI,UAAU,GAEd,CACItE,MAAO,kBACP7D,MAAO,sBACPmI,UAAU,GAEd,CACItE,MAAO,mBACP7D,MAAO,uBACPmI,UAAU,GAEd,CACIrQ,KAAM,SACN+L,MAAO,iBACP7D,MAAO,MACPmI,UAAU,I,kDCnCZrO,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCqQ,UAAW,CACPlO,QAAS,OACTmO,SAAU,OACV7P,QAAST,EAAMkB,QAAQ,IAE3BuP,WAAY,CACRnO,MAAO,KAEXQ,MAAO,CACHrC,QAAST,EAAMkB,QAAQ,GACvB8L,UAAW,SACXzM,MAAOP,EAAMa,QAAQ6P,KAAKC,UAC1BxD,OAAQnN,EAAMkB,QAAQ,QAIf,eAAmF,IAAvEmM,EAAsE,EAAtEA,YAAaC,EAAyD,EAAzDA,WAAYyC,EAA6C,EAA7CA,YAAaoH,EAAgC,EAAhCA,aAAclZ,EAAkB,EAAlBA,KAAM2S,EAAY,EAAZA,SACzEE,EAA6D7S,EAA7D6S,YAAauJ,EAAgDpc,EAAhDoc,MAAOjK,EAAyCnS,EAAzCmS,QAAS2U,EAAgC9mB,EAAhC8mB,aAAcvF,EAAkBvhB,EAAlBuhB,cAC/Cpc,EAAUtD,KAAegD,EAAiCM,EAAjCN,MAAOuN,EAA0BjN,EAA1BiN,UAAWI,EAAerN,EAAfqN,WAE/C,OACI,kBAAC,WAAD,KACI,kBAACgG,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAchG,KAAK,wBAC/C,kBAAC0O,GAAD,CACInhB,KAAMA,EACN2S,SAAUA,EACVvD,YAAaA,EACbC,WAAYA,IAEhB,kBAACiE,GAAA,EAAD,CACIlB,WAAS,EACTmB,UAAU,MACVlN,UAAW+L,EACXoB,QAAQ,UAEPX,GAAeuJ,EAAM,IAClB,kBAAC9I,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,IACX,kBAACD,GAAA,EAAD,CAAOpN,UAAWxB,GACd,kBAACmB,EAAA,EAAD,CAAYK,UAAU,gBAAtB,iCACA,kBAAC8I,GAAD,CACIG,KAAMuX,GACN7mB,KAAMA,EACNqP,WAAYA,EACZD,YAAaA,KAGrB,kBAACkE,GAAA,EAAD,CAAMlB,WAAS,EACXmB,UAAU,MACVC,QAAQ,gBACR8B,WAAW,SACXzO,MAAO,CAAExC,MAAmB,UAAZ8N,GAAmC,UAAZA,EAAsB,SAAW,QAASnO,UAAW,SAE5F,kBAACsP,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAIvB,EAAU,EAAI,IACzB,kBAAC4U,GAAA,EAAD,CAAa9gB,UAAU,YACnB,kBAAC+gB,GAAA,EAAD,CAAW/gB,UAAU,UAArB,mBACA,kBAACghB,GAAA,EAAD,CAAYrO,aAAW,WAAW/M,KAAK,WACnCjE,SAAUkK,EAAaoV,KAAG,EAC1BrgB,MAAO,CAAExC,MAAO,QAChBgC,UAAU,SAEV,kBAAC2L,GAAA,EAAD,CACI3L,UAAU,QACVmB,MAAM,QACNyK,QAAS,kBAACkV,GAAA,EAAD,CAAO7kB,MAAM,YACtByF,MAAO,0BAAMlB,MAAO,CAAEE,SAAU,WAAa,uCAC7CqgB,eAAe,UAGnB,kBAACpV,GAAA,EAAD,CACIxK,MAAM,QACNyK,QAAS,kBAACkV,GAAA,EAAD,CAAO7kB,MAAM,YACtByF,MAAO,0BAAMlB,MAAO,CAAEE,SAAU,WAAa,SAC7CqgB,eAAe,aAOlB,UAAZjV,EACG,kBAACmB,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,GACX,kBAAC5D,GAAA,EAAD,CACIQ,WAAY,CACRE,KAAM,cACN3E,KAAM,gBAEVrE,MAAOsf,EACPlf,SAAUwH,EACVW,OAAQV,EACRtH,MAAM,qEACN8I,WAAS,IAEb,kBAAC,GAAD,CACI9Q,WAAY4S,EACZjE,SAAS,cACTlH,MAAOsf,KAIH,UAAZ3U,GACA,kBAACmB,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,GACX,kBAAC5D,GAAA,EAAD,CACIjE,KAAK,gBACLrE,MAAO+Z,EACPxZ,MAAM,gBACNlI,KAAK,OACL+H,SAAUwH,EACVe,gBAAiB,CAAEC,QAAQ,GAC3BO,WAAS,EACTC,KAAM,EACN1K,QAAQ,WACR2K,WAAS,MAKzB,kBAACyC,GAAA,EAAD,CAAMlB,WAAS,EAACmB,UAAU,MAAMC,QAAQ,WAAW3M,MAAO,CAAExC,MAAO,WAC/D,kBAACiP,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,GAAI7M,MAAO,CAAExC,MAAO,YACnC,kBAACiP,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,EAAG7M,MAAO,CAAEV,MAAO,UAC9B,kBAACL,EAAA,EAAD,CACIC,KAAK,QACLzD,MAAM,UACN4D,QAAQ,WACRW,MAAO,CAAEqI,OAAQ,iBACjBhI,QAAS,kBAAMgS,MALnB,aAOc,2CAPd,IAOyC,kBAACmO,GAAA,EAAD,WAMvDxU,IAAgBuJ,EAAM,IACpB,kBAAC9I,GAAA,EAAD,CAAMlB,WAAS,EAACoB,QAAQ,UACpB,yBAAKnN,UAAWmM,QCAzB2J,MAFK,CAAC,WAAY,Y,2MA5I7Bxc,MAAQ,CACJgT,SAAU,GACVE,YAAa,GACbuJ,MAAO,GACPjR,MAAO,GACPmE,KAAM,GACNiW,MAAO,GACPuB,aAAc,GACdzK,SAAU,+BACVC,cAAc,EACdgL,YAAY,G,EAKhBlY,YAAc,SAAMhB,GAAN,6BAAAnF,EAAAC,OAAA,qDACckF,EAAEyO,OAAlBhR,EADE,EACFA,KAAMrE,EADJ,EACIA,MADJ,EAEmB,EAAKtC,MAAMoH,MAAlCnL,EAFI,EAEJA,SAAUwR,EAFN,EAEMA,SAEhB,EAAK8J,SAAL,eAAiB5Q,EAAOrE,IAEX,gBAATqE,EANM,sBAOFqH,EAAkBP,EAAS9R,MAAK,SAAAuN,GAAC,OAAIA,EAAEyE,cAAgBrL,MAPrD,mCAAAyB,EAAA,MAUI,EAAKwT,SAAS,CAAE5J,YAAaK,EAAgBL,YAAaK,qBAV9D,OAWE1L,IAAU0L,EAAgBL,aAAa,EAAK4J,SAAS,CAAEvJ,qBAAiB7C,IAEtE+L,EAAQjb,EAASqb,QAAO,SAAAjc,GAAC,OAAIA,EAAEwc,UAAY,EAAKpd,MAAMkT,eAC5D,EAAK4J,SAAS,CAAEL,UAdd,2CAAAnT,EAAA,MAiBI,EAAKwT,SAAS,CAAEvJ,qBAAiB7C,EAAW+L,MAAO,MAjBvD,QAkBF,EAAK4F,QAlBH,uC,EAuBd3S,WAAa,SAAOjB,GAAP,2BAAAnF,EAAAC,OAAA,mDAEHyJ,EAAa,EAAKzN,MAAMoH,MAAxBqG,SACAyJ,EAAU,EAAKzc,MAAfyc,MACAvQ,EAASuC,EAAEyO,OAAXhR,KACArE,EAAU4G,EAAEyO,OAAZrV,MAEO,iBAATqE,EAPK,sBAQDrE,EAAM6B,OAAS,GARd,sBASKke,EAAY5U,EAAS9R,MAAK,SAAAuN,GAAC,OAAIA,EAAEyE,cAAgBrL,MATtD,mCAAAyB,EAAA,MAWS,EAAKwT,SAAS,CAAEK,cAAeyK,EAAUzK,cAAegK,aAAcS,EAAU1U,YAAa2U,eAAe,KAXrH,+BAaM,EAAK/K,SAAS,CAAEnO,iBAAiB,EAAMC,UAAW,kBAAmBuY,aAAc,KAbzF,WAiBI,UAATjb,GAAqC,kBAAVuQ,EAjBtB,oBAkBS,KAAV5U,GAAc,EAAKiV,SAAS,CAAE+K,eAAe,MAC7ChgB,EAAM6B,OAAS,GAnBd,wBAqBG7B,EAAM6B,OAAS,IAAGgW,EAAUjD,EAAMvb,MAAK,SAAAN,GACvC,MAAqB,kBAAViH,EAA2BjH,EAAE4K,MAAMyS,cAActc,MAAMkG,EAAMoW,eAC5Drd,EAAE4K,MAAM7J,MAAMkG,OAvB7B,YAAAyB,EAAA,MA0BK,EAAKwT,SAAL,eAAmB4C,KA1BxB,QA4BIA,IACG2C,EAAQ,GACR5F,EAAM,IAAIhS,OAAOiT,KAAKjB,EAAM,IAAIlc,SAAQ,SAAA+U,GAAC,OAAI+M,EAAM/M,GAAK,MAC5D,EAAKwH,SAAS,CAAElO,UAAW,gBAAiBD,iBAAiB,EAAMkZ,eAAe,IAClF,EAAK/K,SAAL,eAAmBuF,KAhCtB,uC,EAsCb9I,aAAe,sCAAAjQ,EAAAC,OAAA,qDAEwB,EAAKvJ,MAAhCwS,EAFG,EAEHA,QAAS2K,EAFN,EAEMA,cAEb2K,EAAa,CAAC,kBAAmB,QAAS,iBAG9B,UAAZtV,IACAsV,EAAWle,KAAK,gBAChBme,EAAeD,EAAWza,OAAM,SAAAiI,GAAC,OAAI,EAAKtV,MAAMuN,eAAe+H,IAAwB,KAAlB,EAAKtV,MAAMsV,MAChF0N,EAAU,CAAE7F,gBAAesC,SAAU,aAEzB,UAAZjN,IACAsV,EAAWle,KAAK,iBAChBme,EAAeD,EAAWza,OAAM,SAAAiI,GAAC,OAAI,EAAKtV,MAAMuN,eAAe+H,IAAwB,KAAlB,EAAKtV,MAAMsV,MAChF0N,EAAU,CAAEvD,SAAU,gBAErBsI,EAjBM,kCAAAze,EAAA,MAkBD,EAAKwT,SAAS,CAAEnO,iBAAiB,EAAMC,UAAW,mBAlBjD,gCAmBA,MAnBA,cAsBXoU,EAAQniB,QAAU,2BAEZqiB,EAAgB9Y,KAAMuV,eAAeqD,GAE7B,UACA,aA3BH,YAAA1Z,EAAA,MA4BLO,KAAMuW,IAAI,qBAAsB,CAAE8C,gBAAe/W,MAFzC,UAEgD1K,QADhD,aACyDf,GAAI,EAAKV,MAAMyL,YACjFxB,MAAK,kBAAM,EAAK+V,WAChBzI,OAAM,SAAAC,GAAG,OAAI1M,QAAQC,IAAIyM,OA9BnB,2BAAAlO,EAAA,MA+BL,EAAKwT,SAAS,CAAEvJ,qBAAiB7C,EAAW+L,MAAO,GAAIvJ,YAAa,MA/B/D,QAgCX,EAAKmP,QAhCM,uC,EAmCflQ,YAAc,SAAA1D,GAAC,OAAI,EAAKqO,SAAS,CAAEtK,QAAS/D,EAAEyO,OAAOrV,S,EACrDwa,MAAQ,WACJ6E,GAAU3mB,SAAQ,SAAAC,GAAE,OAAI,EAAKsc,SAAL,eAAiBtc,EAAGyL,MAAQ,QACpD,EAAK6Q,SAAS,CAAEqK,aAAc,GAAIvB,MAAO,GAAIhE,cAAe,GAAIpP,SAAS,K,EAE7E2Q,WAAa,kBAAM,EAAKrG,SAAS,CAAEnO,iBAAkB,EAAK3O,MAAM2O,mB,EAChEqR,MAAQ,kBAAM,EAAKlD,SAAS,CAAEH,cAAe,EAAK3c,MAAM2c,gB,sFAxG/B/P,KAAKkQ,SAAS,M,+BA0G7B,IAAD,EAEalQ,KAAK5M,MADfmnB,EADH,EACGA,aAAcxK,EADjB,EACiBA,aAAcD,EAD/B,EAC+BA,SAAUlK,EADzC,EACyCA,QAAS7D,EADlD,EACkDA,gBACnDC,EAFC,EAEDA,UAEJ,OAAO,kBAAC,WAAD,KACH,kBAACoZ,GAAD,CACI3nB,KAAMuM,KAAK5M,MACXgT,SAAUpG,KAAKrH,MAAMoH,MAAMqG,SAC3BR,QAASA,EACT2U,aAAcA,EACd1X,YAAa7C,KAAK6C,YAClBC,WAAY9C,KAAK8C,WACjByC,YAAavF,KAAKuF,YAClBoH,aAAc3M,KAAK2M,eAEtB5K,GAAmB,kBAACgN,GAAD,CAAaL,KAAM3M,EAAiBoD,MAAOnF,KAAKuW,WAAYvU,UAAWA,IAC3F,kBAAC,GAAD,CAAY0M,KAAMqB,EAAc5K,MAAOnF,KAAKoT,MAAOxE,IAAKkB,S,GAzIzCjP,c,0CCErBvL,I,OAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnC4M,UAAW,CACPC,WAAY7M,EAAMkB,QAAQ,GAC1B4L,YAAa9M,EAAMkB,QAAQ,GAC3Be,UAAW,MACXK,MAAO,QACP0C,SAAU,SACV+H,UAAW,OACXC,UAAW,UAEfC,OAAQ,CACJJ,WAAY7M,EAAMkB,QAAQ,GAC1B4L,YAAa9M,EAAMkB,QAAQ,GAC3BD,aAAc,MACd4B,WAAY,UACZmC,SAAU,SACV+H,UAAW,OACXC,UAAW,eAIJ,SAAS6Y,GAAT,GAC6E,IADnDzb,EACkD,EADlDA,YAAapM,EACqC,EADrCA,WAAYC,EACyB,EADzBA,KAAM6nB,EACmB,EADnBA,WACpEC,EAAuF,EAAvFA,iBAAkBC,EAAqE,EAArEA,aAAcC,EAAuD,EAAvDA,WAAYC,EAA2C,EAA3CA,WAAY/O,EAA+B,EAA/BA,aAAcuN,EAAiB,EAAjBA,cAIhE9X,EADQ9M,KACR8M,UAEN,OACI,kBAAC,WAAD,KACG,kBAAC6J,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAchG,KAAK,+CAC9C,gCACI,uEAEJ,yBAAKpM,UAAU,gBACX,kBAACyJ,GAAA,EAAD,CACIzJ,UAAWsI,EACX/G,SAAUkgB,EACVtgB,MAAOzH,EACPiP,QAAQ,EACR8B,YAAa,CACTjK,MAAO,CACHE,SAAU,SAAUzE,MAAO,OAAQ2E,WAAY,IAC/C5C,MAAO,IAAKgE,OAAQ,UAI3B8D,EAAY7L,KAAI,SAACyQ,EAAKxK,GAAN,OACb,kBAACyK,GAAA,EAAD,CAAUrK,IAAKJ,EAAGiB,MAAOuJ,GACpBA,QAKjB8W,GAAc9nB,GAAc,yBAAKsG,UAAU,aACvC,kBAACP,EAAA,EAAD,CACIC,KAAK,QACLzD,MAAM,UACN4D,QAAQ,WAERW,MAAO,CAAEqI,OAAQ,iBACjBhI,QAAS,kBAAMuf,MAEf,kBAAC,KAAD,MARJ,eAWJ,yBAAKpgB,UAAU,aAEPrG,GAAQ6nB,GAAc7nB,EAAKM,KAAI,SAACH,EAAIoG,GAAL,OAC3B,yBAAKF,UAAU,UAAUM,IAAKJ,GAC1B,kBAACuJ,GAAA,EAAD,CACItI,MAAOrH,EAAG+nB,KAAO/nB,EAAG0nB,EAAWjc,OAASzL,EAAG0nB,EAAWjc,OAAS,KAAOzL,EAAE,MAAY,IACpFyH,SAAUmgB,EACVlc,KAAM1L,EAAGyL,MACT/L,KAAK,OACLyQ,WAAY,CACR6X,YAAa,MACbC,YAAY,EACZvhB,MAAO,CACHE,SAAU,SACVzE,OAAmB,IAAZnC,EAAG+nB,KAAgB,OAAS,SAG3C7hB,UAAWsI,EACXuB,UAAsB,IAAZ/P,EAAG+nB,OAGjB,4BAAQjiB,UAAU,OACdI,UAAU,oBACVtB,MAAM,SACNmC,QAAS,kBAAM8gB,EAAWzhB,IAC1BrC,QAAQ,QACR,kBAAC,KAAD,CAAUmC,UAAU,WAAW/D,MAAM,aAEzC,4BACI+D,UAAU,oBACVtB,MAAM,UACNmC,QAAS,kBAAM+gB,EAAW1hB,KAC1B,kBAAC,KAAD,CAAYF,UAAU,WAAW/D,MAAM,oBAMvDtC,GACA,kBAACsT,GAAA,EAAD,CAAMlB,WAAS,EAACmB,UAAU,MAAMC,QAAQ,YACpC,kBAACF,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,EAAG7M,MAAO,CAAEV,MAAO,QAAS+I,OAAQ,qBAC/C,kBAACpJ,EAAA,EAAD,CACIC,KAAK,QACLzD,MAAM,UACN4D,QAAQ,YACRnB,MAAM,SACNmC,QAAS,kBAAMgS,MALnB,UAOW,2CAPX,IAOsC,kBAAC,KAAD,U,ICmI/CiD,MAHK,CAAC,cAAe,2BAA4B,gBAAiB,+BAC7E,cAAe,eAAgB,Y,2MAtP/Bxc,MAAQ,CACJI,WAAY,GACZkkB,MAAO,GACPhT,QAAS,GACTwV,eAAe,EACfnK,cAAc,EACdD,SAAU,sB,EAuBdgM,WAAa,SAAClnB,EAAU0mB,EAAY7nB,GAAU,IAClC6L,EAAuBgc,EAAvBhc,KAAMD,EAAiBic,EAAjBjc,MAAO7D,EAAU8f,EAAV9f,MAWrB,OATA/H,EAAKE,SAAQ,SAAAC,GACT,IAIImoB,EAJannB,EAASqb,QAAO,SAAAjc,GAC7B,MAAc,iBAAVwH,GAA4BxH,EAAEsL,GAActL,EAAEsL,GAAM+R,cAActc,MAAMnB,EAAGyL,GAAOgS,eAC/Erd,EAAEsL,KAAU1L,EAAGyL,MAELvC,OACrBe,OAAOC,OAAOlK,EAAI,CAAEmoB,aAExBtoB,EAAOA,EAAKyjB,MAAK,SAACxa,EAAGsf,GAAJ,OAAUtf,EAAE2C,GAAO4c,cAAcD,EAAE3c,Q,EAIxDkc,iBAAmB,SAAM1Z,GAAN,2BAAAnF,EAAAC,OAAA,uDAET1B,EAAU4G,EAAEyO,OAAZrV,MAFS,EAGkC,EAAKtC,MAAMoH,MAAtDnL,EAHS,EAGTA,SAAUsnB,EAHD,EAGCA,YAAaC,EAHd,EAGcA,gBAEzBb,EAAalc,GAAkB9K,MAAK,SAAAV,GAAE,OAAIA,EAAG4H,QAAUP,KACvDxH,EAAOykB,KAAKC,MAAMD,KAAKE,UAAU,EAAKzf,MAAMoH,MAAMub,EAAW9nB,eAEjEC,EAAO,EAAKqoB,WAAWlnB,EAAU0mB,EAAY7nB,IACxCE,SAAQ,SAAAC,GAAE,OAAIA,EAAG+nB,MAAO,KAE7B,EAAKzL,SAAS,CAAEyH,YAAQ7T,EAAW4T,MAAO,KACZ,kBAA1B4D,EAAW9nB,YAAgC,EAAK0c,SAAS,CAAEyH,OAAQuE,IACzC,gBAA1BZ,EAAW9nB,YAA8B,EAAK0c,SAAS,CAAEyH,OAAQwE,IAbtD,WAAAzf,EAAA,MAeT,EAAKwT,SAAS,CAAE1c,WAAYyH,EAAOxH,OAAM6nB,gBAfhC,8C,EAmBnBG,WAAa,SAAMjnB,GAAN,qBAAAkI,EAAAC,OAAA,uDAELyf,EAAUtjB,SAASqI,iBAAiB,YACpCkb,EAAUD,EAAQ5nB,GAAO8nB,WAAW,GACpCC,EAAcF,EAAQlb,iBAAiB,SAAS,IAI3B,KAFrB1N,EANK,YAMM,EAAKL,MAAMK,OAEjBe,GAAOmnB,KAAeloB,EAAKe,GAAOmnB,MAAO,GAE9CloB,EAAKE,SAAQ,SAAAY,GAAC,OAAIA,EAAEonB,MAAO,KAC3BloB,EAAKe,GAAOmnB,MAAO,GAXd,WAAAjf,EAAA,MAaH,EAAKwT,SAAS,CAAEzc,UAbb,OAcT8oB,EAAY/K,QAdH,sC,EAiBboG,YAAc,SAAA/V,GAEN,IAIA2a,EAJEvhB,EAAU4G,EAAEyO,OAAZrV,MACAzH,EAAe,EAAKJ,MAAMkoB,WAA1B9nB,WADF,EAEmC,EAAKmF,MAAMoH,MAA5Cmc,EAFF,EAEEA,YAAaC,EAFf,EAEeA,gBAGA,kBAAf3oB,IAAgCgpB,EAAkBN,GACnC,gBAAf1oB,IAA8BgpB,EAAkBL,GARrC,IAUProB,EAAO0oB,EAAgBloB,MAAK,SAAAmoB,GAAC,OAAIA,EAAE/E,QAAUzc,KAA7CnH,GAER,EAAKoc,SAAS,CAAEwH,MAAOzc,EAAOyhB,QAAS5oB,K,EAG3C0nB,aAAe,SAAM3Z,GAAN,uBAAAnF,EAAAC,OAAA,uDAEL1B,EAAU4G,EAAEyO,OAAZrV,MACFqE,EAAO,EAAKlM,MAAMkoB,WAAWjc,MAI7Bsd,EAAiB,EAAKvpB,MAAMK,KAAKa,MAAK,SAAAV,GAAE,OAAgB,IAAZA,EAAG+nB,QAC7CnnB,EAAQ,EAAKpB,MAAMK,KAAKylB,QAAQyD,GAGtCA,EAAerd,GAAQrE,GAEnB2hB,EAbO,YAaO,EAAKxpB,MAAMK,OACrBe,GAASmoB,EAdN,WAAAjgB,EAAA,MAgBL,EAAKwT,SAAS,CAAEzc,KAAMmpB,KAhBjB,sC,EAmBf/Z,YAAc,SAAAhB,GAAM,IACR5G,EAAU4G,EAAEyO,OAAZrV,MACR,EAAKiV,SAAS,CAAE2H,WAAY5c,K,EAGhC6c,cAAgB,4CAAApb,EAAAC,OAAA,yDAG8B,EAAKvJ,MAAzCkoB,EAHM,EAGNA,WAAYzD,EAHN,EAGMA,WAAY6E,EAHlB,EAGkBA,QACxBnd,EAA6B+b,EAA7B/b,MAAOF,EAAsBic,EAAtBjc,MAAO7L,EAAe8nB,EAAf9nB,WACdoB,EAAa,EAAK+D,MAAMoH,MAAxBnL,SAEFioB,EAPQ,eAOYxd,EAAQwY,GAC5B6E,IAASG,EAAeH,QAAUA,GACtCG,EAAiBrf,KAAMuV,eAAe8J,GAT1B,WAAAngB,EAAA,MAWNO,KAAMgW,KAAK,kBAAmB,CAAE1T,QAAOsd,oBAXjC,OAaRppB,EAAO,EAAKkF,MAAMoH,MAAMvM,GAC5BC,EAAO,EAAKqoB,WAAWlnB,EAAU0mB,EAAY7nB,GAE7C,EAAKyc,SAAS,CAAEgK,eAAe,EAAOzmB,SAhB1B,sC,EAmBhBioB,WAAa,SAAMlnB,GAAN,yBAAAkI,EAAAC,OAAA,mDAELlJ,EAFK,YAEM,EAAKL,MAAMK,MAEpB6nB,EAAe,EAAKloB,MAApBkoB,WACA9nB,EAAsB8nB,EAAtB9nB,WAAY+L,EAAU+b,EAAV/b,MACdzL,EAAKL,EAAKe,GAAOV,GACjBgpB,EAAe,EAAKnkB,MAAMoH,MAAMvM,IACnBspB,EAAaxoB,MAAK,SAAAV,GAAE,OAAIA,EAAGE,KAAOA,KAR1C,kCAAA4I,EAAA,MAWCO,KAAM4W,OAAN,4BAAkCtU,EAAlC,0BAAyDzL,IAC1D6W,OAAM,SAAAC,GAAG,OAAI1M,QAAQC,IAAIyM,OAZzB,OAcTnX,EAAKkB,OAAOH,EAAO,GACnB,EAAK0b,SAAS,CAAEzc,SAfP,sC,EAkBbkZ,aAAe,gDAAAjQ,EAAAC,OAAA,uDAGLoD,EAAU,EAAKpH,MAAfoH,MAHK,EAIgB,EAAK3M,MAA1BK,EAJK,EAILA,KAAM6nB,EAJD,EAICA,WACN9nB,EAA6B8nB,EAA7B9nB,WAAY6L,EAAiBic,EAAjBjc,MAAOE,EAAU+b,EAAV/b,MACrBud,EAAe5E,KAAKC,MAAMD,KAAKE,UAAUrY,EAAMvM,KAE/CupB,EAAiB,GAErBtpB,EAAKE,SAAQ,SAAAC,GACT,GAAIA,EAAG+M,eAAe,MAAO,CACQ/M,EAAzBmoB,MAAyBnoB,EAAlB+nB,KADW,IACFqB,EADC,YACQppB,EADR,kBAEzBmpB,EAAe/f,KAAKggB,OAIxBC,EAAc,GAAI7G,EAAU,GAEhC2G,EAAeppB,SAAQ,SAAAC,GACnBkpB,EAAanpB,SAAQ,SAAA2H,GACb1H,EAAGE,KAAOwH,EAAKxH,KACf+J,OAAOiT,KAAKld,GAAID,SAAQ,SAAAyG,GAChBxG,EAAGwG,KAASkB,EAAKlB,KACZgc,EAAQtiB,KAAIsiB,EAAO,eAAQA,EAAR,CAAiBtiB,GAAIF,EAAGE,MAChD+J,OAAOC,OAAOsY,EAAdvY,OAAA,IAAAA,CAAA,GAA0BzD,EAAMxG,EAAGwG,SAGvCyD,OAAOiT,KAAKsF,GAAStZ,OAAS,GAAGmgB,EAAYjgB,KAAKoZ,GACtDA,EAAU,UAMR,KACV9C,EAAS9V,KAAM0f,WAAW7d,GAE9B0d,EAAiBvf,KAAMuV,eAAekK,GAtC3B,WAAAvgB,EAAA,MAwCLO,KAAMuW,IAAI,oBAAqB,CAAE9T,aAAcqd,EAAgBxd,QAAO1K,QAL9D,KAKuEye,WAChFjW,MAAK,SAAAE,GAAC,OAAIW,QAAQC,IAAI,eACtBwM,OAAM,SAAAC,GAAG,OAAI1M,QAAQC,IAAIyM,OA1CnB,OA4CXmS,EAAiB,GACjBE,EAAc,GACd7G,EAAU,GACV,EAAKhD,QAEL,EAAKlD,SAAS,CAAE1c,WAAY,GAAI8nB,gBAAYxX,IAjDjC,uC,EAoDfsQ,aAAe,kBAAM,EAAKlE,SAAS,CAAEgK,eAAgB,EAAK9mB,MAAM8mB,iB,EAChE9G,MAAQ,kBAAM,EAAKlD,SAAS,CAAEH,cAAe,EAAK3c,MAAM2c,gB,mFAxMpD,IAAIrL,EAAU,GACdtF,GAAkBzL,SAAQ,SAAA+M,GAASgE,EAAQ1H,KAAK0D,EAAIlF,UACpDwE,KAAKkQ,SAAS,CAAExL,c,yCAGDyV,GAEX,IAAEpa,EAAUC,KAAKrH,MAAfoH,MACAnL,EAAamL,EAAbnL,SADF,EAEuBoL,KAAK5M,MAA1BkoB,EAFF,EAEEA,WAAY7nB,EAFd,EAEcA,KAElB,IAAK6nB,IAAe7nB,EAAM,OAAO,KANP,IAQlBD,EAAe8nB,EAAf9nB,WACR,GAAI0kB,KAAKE,UAAU+B,EAAUpa,MAAMvM,MAAiB0kB,KAAKE,UAAUrY,EAAMvM,IAAc,CACnF,IAAMC,EAAOuM,KAAK8b,WAAWlnB,EAAU0mB,EAAYvb,EAAMvM,IACzDwM,KAAKkQ,SAAS,CAAEzc,Y,+BA0Ld,IAAD,EAEmGuM,KAAK5M,MAArGsR,EAFH,EAEGA,QAASlR,EAFZ,EAEYA,WAAYC,EAFxB,EAEwBA,KAAM6nB,EAF9B,EAE8BA,WAAYpB,EAF1C,EAE0CA,cAAexC,EAFzD,EAEyDA,MAAOC,EAFhE,EAEgEA,OAAQ5H,EAFxE,EAEwEA,aAAcD,EAFtF,EAEsFA,SAC3F,OACI,kBAAC,WAAD,KACI,kBAACuL,GAAD,CACIzb,YAAa8E,EACblR,WAAYA,EACZC,KAAMA,EACN6nB,WAAYA,EACZC,iBAAkBvb,KAAKub,iBACvBE,WAAYzb,KAAKyb,WACjBD,aAAcxb,KAAKwb,aACnB7O,aAAc3M,KAAK2M,aACnBuN,cAAela,KAAKoU,aACpBsH,WAAY1b,KAAK0b,aAEpBxB,GAAiB,kBAAC1C,GAAD,CACd9I,KAAMwL,EACN/U,MAAOnF,KAAKoU,aACZ5b,MAAO8iB,EAAW9f,MAClBic,cAAc,yEACdC,MAAOA,EACPC,OAAQA,EACRC,YAAa5X,KAAK4X,YAClB/U,YAAa7C,KAAK6C,YAClBiV,cAAe9X,KAAK8X,gBAExB,kBAAC,GAAD,CAAYpJ,KAAMqB,EAAc5K,MAAOnF,KAAKoT,MAAOxE,IAAKkB,S,GAjP5C4E,kB,yCCObyI,GAnBI,SAACzhB,EAAMyH,GAUtB,GAAI,KAAKia,KAAK1hB,GAAO,CACjB,IAAIjI,EAAO,IAAIoR,KAAKnJ,GAAM2hB,UAAY,KAAO,IAAIxY,KAAKnJ,GAAM4hB,WAAa,GAAK,IAAM,IAAIzY,KAAKnJ,GAAMoJ,cAEnG,OADI3B,IAAK1P,GAAQ,KAAO,IAAIoR,KAAKnJ,GAAM6hB,WAAa,KAThD,IAAI1Y,KAAKnJ,GAAM8hB,aAAe,GACvB,IAAM,IAAI3Y,KAAKnJ,GAAM8hB,aAErB,IAAI3Y,KAAKnJ,GAAM8hB,cAM4C,KAC/D/pB,EAAK2P,WAEZ,OAAO1H,GCwEF+hB,GAAe,CACxB,CACIpe,MAAO,QACP7G,MAAO,SAEX,CACI6G,MAAO,mBACP7G,MAAO,wBAEX,CACI6G,MAAO,UACP7G,MAAO,kBAEX,CACI6G,MAAO,aACP7G,MAAO,cAEX,CACI6G,MAAO,UACP7G,MAAO,2BAEX,CACI6G,MAAO,aACP7G,MAAO,oBACPklB,OAAQ,SAAAC,GAAO,OAAIR,GAAWQ,EAAQhf,cAE1C,CACIU,MAAO,iBACP7G,MAAO,0BACPolB,WAAW,IAINC,GAAe,CACxB,CACIxe,MAAO,UACP7G,MAAO,2BAEX,CACI6G,MAAO,aACP7G,MAAO,cAEX,CACI6G,MAAO,UACP7G,MAAO,YAEX,CACI6G,MAAO,YACP7G,MAAO,4BAEX,CACI6G,MAAO,aACP7G,MAAO,aACPolB,WAAW,EACXF,OAAQ,SAAAC,GAAO,OAAIR,GAAWQ,EAAQhf,eAIjCmf,GAAS,CA/IU,CAC5B,CACIze,MAAO,cACP7G,MAAO,mBAEX,CACI6G,MAAO,oBACP7G,MAAO,kBAEX,CACI6G,MAAO,qBACP7G,MAAO,qBACPolB,WAAW,EACXF,OAAQ,SAAAC,GAAO,OAAIR,GAAWQ,EAAQI,sBAE1C,CACI1e,MAAO,SACP7G,MAAO,gBAEX,CACI6G,MAAO,WACP7G,MAAO,YAEX,CACI6G,MAAO,QACP7G,MAAO,sBAsH0BwM,OAAO,CAvGrB,CACvB,CACI3F,MAAO,YACP7G,MAAO,QAEX,CACI6G,MAAO,WACP7G,MAAO,OAEX,CACI6G,MAAO,cACP7G,MAAO,qBAEX,CACI6G,MAAO,aACP7G,MAAO,UAGX,CACI6G,MAAO,QACP7G,MAAO,uCACPolB,WAAW,MAkF4C5Y,OAAO,CA7EvC,CAC3B,CACI3F,MAAO,iBACP7G,MAAO,QAEX,CACI6G,MAAO,gBACP7G,MAAO,OAEX,CACI6G,MAAO,kBACP7G,MAAO,UAEX,CACI6G,MAAO,gBACP7G,MAAO,eA8D0EwM,OAAO,CAACyY,KAAezY,OAAO,CAAC6Y,KC1IzG,eAA8E,IAAlE/iB,EAAiE,EAAjEA,IAAKtH,EAA4D,EAA5DA,WAAYwqB,EAAgD,EAAhDA,YAAalK,EAAmC,EAAnCA,UAAWmK,EAAwB,EAAxBA,gBAAiBC,EAAO,EAAPA,IAG3EpqB,EAAK,CAAC,gBAAiB,UAAW,eAAgB,YAAa,WAAWgH,GAC5EqjB,EAAU,CAAC,WAAY,YAAU,eAAgB,cAAY,WAEjE,OADKrS,MAAMC,QAAQvY,KAAaA,EAAa,IAEzC,yBAAK8G,MAAO,CAAEqI,OAAQ,UAAY7I,UAAU,WACxC,kBAAC,KAAD,CACItB,MAAK,6BAAwB2lB,EAAQrjB,IACrC6e,QAASmE,GAAOhjB,GAChBrH,KAAMD,EACN8G,MAAO,CAAEC,WAAY,WAAYC,SAAU,QAC3CkK,QAAS,CACLkZ,WAAW,EACXQ,cAAc,EACdC,eAAgBF,EAAQrjB,GACxBwjB,UAAW,SAAC3E,EAASlmB,IAMG,SAAC8qB,EAAS7W,GAC1B,IACM8W,EAAK,CAAEC,OAAQ,CAAE,KADZC,SAAWC,cAAcJ,IACCK,WAAY,CAAC,SAC5CC,EAAcH,SAAWF,EAAI,CAAEM,SAAU,OAAQxrB,KAAM,UACvDG,EAAO,IAAIiX,KAAK,CAACmU,GAAc,CAAEvrB,KAR5B,oFASXyrB,UAAiBtrB,EAAMiU,EARP,SAUpBsX,CAAYvrB,EATG0qB,EAAQrjB,KAW3BmkB,oBAAqB,EACrBC,iBAAkB,CAAEnpB,MAAO,OAAQyE,SAAU,QAC7C2kB,YAAa,CAAErpB,gBAAiB,WAChCspB,qBAAqB,EACrBC,SAAU,IAGdC,aAAc,CACVrK,OAAQ,CAAEsK,QAAS,gBACnBtV,KAAM,CACFuV,uBAAwB,8BACxBC,QAAS,CAAEC,WAAY,iDACvBC,cAAe,SACfC,UAAW,CAAEC,cAAe,YAEhCC,QAAS,CACLC,cAAe,WACfC,kBAAmB,WACnBC,WAAY,+BACZC,gBAAiB,WACjBC,YAAa,YAEjBC,WAAY,CAERC,gBAAiB,2BACjBC,mBAAoB,yBACpBC,aAAc,qBACdC,gBAAiB,qBACjBC,YAAa,uBACbC,YAAa,wBAIrBnB,QAAS,CACL,CACIrW,KAAM,OACNyX,UAAW,CAAE5qB,MAAO,WACpB6qB,QAAS,yBACTjmB,QAAS,SAACkmB,EAAOlD,GAAR,OAAoBK,EAAY6C,EAAOlD,KAEpD,CACIzU,KAAM,oBACNyX,UAAW,CAAE5qB,MAAO,aACpB6qB,QAAS,eACTjmB,QAAS,SAACkmB,EAAOlD,GAAR,OAAoB7J,EAAU6J,EAAQ7pB,MAEnD,CACIoV,KAAM,iBACNyX,UAAW,CAAE5qB,MAAO,UACpB6qB,QAAS,qBACTE,OAAgB,IAARhmB,EACRH,QAAS,SAACkmB,EAAOlD,GAAR,OAAoBM,EAAgBN,MAGrDoD,SAAU,CACNC,YAAa,SAAMC,GAAN,SAAAvkB,EAAAC,OAAA,kEAAAD,EAAA,MAAuBwhB,EAAI+C,IAA3B,mFC9FpB/K,GAAc,CAAC,CACxB,CACI7W,MAAO,UACP7D,MAAO,iBACP1D,MAAO,QACPX,KAAM,QAEV,CACI7D,KAAM,OACN+L,MAAO,qBACP7D,MAAO,uBACP1D,MAAO,OACPX,KAAM,SAID+pB,GAAkB,CAC3B,CACI,CACI7hB,MAAO,QACP7D,MAAO,QACP1D,MAAO,OACPX,KAAM,OAEV,CACIkI,MAAO,UACP7D,MAAO,UACP1D,MAAO,OACPX,KAAM,QAEV,CACIkI,MAAO,YACP7D,MAAO,YACP1D,MAAO,OACPX,KAAM,OAEV,CACIkI,MAAO,iBACP7D,MAAO,kBACP1D,MAAO,QAEX,CACIuH,MAAO,UACP7D,MAAO,sBACP1D,MAAO,OACPX,KAAM,SAId,CACI,CACIkI,MAAO,cACP7D,MAAO,kBACP1D,MAAO,OACPX,KAAM,QAEV,CACIkI,MAAO,eACP7D,MAAO,mBACP1D,MAAO,OACPX,KAAM,QAEV,CACIkI,MAAO,YACP7D,MAAO,iBAEX,CACI6D,MAAO,kBACP7D,MAAO,+BAEX,CACI6D,MAAO,kBACP7D,MAAO,gCAGf,CACI,CACI6D,MAAO,kBACP7D,MAAO,sBACP1D,MAAO,OACPX,KAAM,QAEV,CACIkI,MAAO,mBACP7D,MAAO,uBACP1D,MAAO,OACPX,KAAM,QAEV,CACIkI,MAAO,gBACP7D,MAAO,qBAEX,CACI6D,MAAO,QACP7D,MAAO,QACP1D,MAAO,OACPX,KAAM,UAIL9C,GAAS,CAAC,CACnB,CACIgL,MAAO,aACP7D,MAAO,aACP1D,MAAO,OACPX,KAAM,UAEV,CACIkI,MAAO,UACP7D,MAAO,aACP1D,MAAO,OACPX,KAAM,QAEV,CACI7D,KAAM,OACN+L,MAAO,cACP7D,MAAO,qBACP1D,MAAO,OACPX,KAAM,OAEV,CACI7D,KAAM,OACN+L,MAAO,aACP7D,MAAO,aACP1D,MAAO,OACPX,KAAM,SAGDgqB,GAAU,CAAC,CACpB,CACI9hB,MAAO,QACP7D,MAAO,cACP1D,MAAO,OACPX,KAAM,OAEV,CACIkI,MAAO,MACP7D,MAAO,mBACP1D,MAAO,OACPX,KAAM,OAEV,CACIkI,MAAO,gBACP7D,MAAO,sBACP1D,MAAO,OACPX,KAAM,OAEV,CACIkI,MAAO,eACP7D,MAAO,qBACP1D,MAAO,OACPX,KAAM,OAEV,CACIkI,MAAO,MACP7D,MAAO,mBACP1D,MAAO,OACPX,KAAM,OAEV,CACIkI,MAAO,kBACP7D,MAAO,iBACP1D,MAAO,OACPX,KAAM,SAKDiqB,GAAoB,CAAC,CAC9B,CACI9tB,KAAM,OACN+L,MAAO,eACP7D,MAAO,mBACP1D,MAAO,OACPX,KAAM,OAEV,CACIkI,MAAO,gBACP7D,MAAO,0BACP1D,MAAO,OACPX,KAAM,OAEV,CACIkI,MAAO,aACP7D,MAAO,mBACP1D,MAAO,OACPX,KAAM,OAEV,CACIkI,MAAO,iBACP7D,MAAO,gBACP1D,MAAO,UAIFkW,GAAQ,CAAC,CAClB,CACI3O,MAAO,gBACP7D,MAAO,sCACP1D,MAAO,QACPX,KAAM,QAEV,CACIkI,MAAO,cACP7D,MAAO,oBACP1D,MAAO,U,8BCnMTxC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnC4M,UAAW,CACP7K,aAAc,OACdiD,SAAU,SACV+H,UAAW,OACXC,UAAW,cAKJ,SAAS6e,KAAkB,IAAD,EAEPxoB,mBAAS,IAFF,mBAE9Bia,EAF8B,KAErBwO,EAFqB,KAG/B7tB,EAAOykB,KAAKC,MAAMoJ,aAAaC,QAAQ,YAC7CtjB,QAAQC,IAAI,IAAK1K,GAEjB0F,qBAAU,WACN,EAAAuD,EAAAC,OAAA,uDACIuB,QAAQC,IAAI,IAAKojB,cACLzoB,SAASqI,iBAAiB,oBAChCxN,SAAQ,SAAA8oB,GAAC,OAAIA,EAAEniB,MAAM3C,QAAU,UAHzC,WAAA+E,EAAA,MAIU4kB,EAAW7tB,IAJrB,OAKIguB,YAAW,WACHhuB,GAAMmW,OAAO8X,UAClB,KAPP,qCAUAH,aAAa7F,WAAW,WACxBxd,QAAQC,IAAI,IAAKojB,gBAClB,IAEG,IACAnf,EADU9M,KACV8M,UAEFuf,EAAQT,GACRU,EAAS1L,GACTyC,EAAMtkB,GACNwtB,EAAOV,GACP7T,EAAO8T,GACPU,EAAM9T,GACN1N,EAAS,GAITwS,GAFc,CAAC6O,EAAOC,EAAQjJ,EAAKkJ,EAAMvU,EAAMwU,GAGrCnuB,SAAQ,SAAAoP,GACdlF,OAAO+J,QAAQkL,GAASnf,SAAQ,YAAmB,IAAD,mBAAhByG,EAAgB,KAAXa,EAAW,KAC9C8H,EAAKpP,SAAQ,SAACouB,EAAM/nB,GAChB+nB,EAAKpuB,SAAQ,SAAC+X,EAAKhD,GACXgD,EAAIrM,QAAUjF,IACdkG,EAASzC,OAAOC,OAAO4N,EAAK,CAAEzQ,UAC9B8H,EAAK/I,GAAG0O,GAAKpI,EACbA,EAAS,gBAMjC,IAUM0hB,EAAe,CACjB,CAAExpB,MAAO,iBAAeuK,KAAM6e,GAC9B,CAAEppB,MAAO,mCAA8BuK,KAAM4e,GAC7C,CAAEnpB,MAAO,SAAUuK,KAAM4V,GACzB,CAAEngB,MAAO,UAAWuK,KAAM8e,GAC1B,CAAErpB,MAAO,2BAAsBuK,KAAMuK,GACrC,CAAE9U,MAAO,2BAAsBuK,KAAM+e,IAEzC,IAAKhP,EAAS,CACV,IAAM1W,EAAMwN,OAAO7Q,SAASkpB,OAE5B,OADArY,OAAO7Q,SAAS4E,QAAQvB,GACjB,KAEX,OACI,kBAAC,WAAD,KACI,yBAAKtI,GAAG,UAAUgG,UAAU,MACxB,yBAAKA,UAAU,UACX,yBAAKkC,IAAI,+BAA+BF,OAAO,OAAOhE,MAAM,OAAOmE,IAAI,YAE1E+lB,EAAajuB,KAAI,WAAkB8X,GAAlB,IAAGrT,EAAH,EAAGA,MAAOuK,EAAV,EAAUA,KAAV,OACd,yBAAKjJ,UAAqB,mBAAVtB,EAA0B,MAAQ,WAAY4B,IAAKyR,GACpD,mBAAVrT,GAA2B,0BAAMsB,UAAU,YAAYtB,GACvDuK,EAAKhP,KAAI,SAACguB,EAAM/nB,GAAP,OACN,yBAAKI,IAAKJ,EAAGF,UAAqB,mBAAVtB,EAA0B,UAAY,eAAgB8B,MAAO,CAAE7C,UAAiB,IAANuC,GAAW,SACxG+nB,EAAKhuB,KAAI,SAACH,EAAI8U,GAAL,OACN,kBAACnF,GAAA,EAAD,CACII,UAAQ,EACRvJ,IAAKsO,EACLpJ,KAAM1L,EAAGyL,MACT7D,MAAO5H,EAAG4H,MACV1B,UAAWsI,EACXgC,aAAwB,mBAAbxQ,EAAGyL,OAA4C,gBAAbzL,EAAGyL,OAA2BzL,EAAGqH,OAASrH,EAAGqH,MAAM6B,OAAS,IACzGuH,KACIzQ,EAAGqH,OAASrH,EAAGqH,MAAM6B,OAAS,GAAK,IAC/BlJ,EAAGqH,OAASrH,EAAGqH,MAAM6B,OAAS,IAAM,IAAM,IAElDnD,QAAsB,mBAAb/F,EAAGyL,OAA4C,gBAAbzL,EAAGyL,OAA2BzL,EAAGqH,OAASrH,EAAGqH,MAAM6B,OAAS,GAAM,WAAa,WAC1H7B,MACgB,SAAZrH,EAAGN,KAAkBoO,KAAO9N,EAAGqH,OAAOqQ,OAAO,cAC5B,kBAAb1X,EAAGyL,MAA4BqC,OAAS4J,OAAO,cAC3C1X,EAAGqH,OAAS,GAExB8I,WAAY,CACRjK,WArDrBuF,EAqD2CzL,EAAGyL,MApD/C,mBAAVA,GAAwC,mBAAVA,OAA4B,EAClD,eAoDwB/E,MAAO,CACHxC,MAAOlE,EAAGkE,OAAS,OACnB0C,SAAU,QACVvE,QAAS,QACT0M,OAAQ,IACRjN,KAAM,IACNK,MAAO,SAGfmsB,WAAY,CAAE5nB,MAAO,CAAErE,QAAsB,mBAAbrC,EAAGyL,OAA4C,gBAAbzL,EAAGyL,OAA2BzL,EAAGqH,OAASrH,EAAGqH,MAAM6B,OAAS,GAAM,MAAQ,KAC5I8G,gBAAiB,CACbC,QAAQ,EACRvJ,MAAO,CACHE,SAAU,OACVgI,UAAW,oBACXrL,KAAMvD,EAAGuD,MAAQ,IACjBpB,MAAO,WAtEhC,IAAAsJ,aA+EP,yBAAKvF,UAAU,oBACX,yBAAKkC,IAAI,+BAA+BF,OAAO,OAAOhE,MAAM,OAAOmE,IAAI,yBACvE,6BAFJ,2CAG4C,0BAAMnC,UAAU,OAAOa,QAAS,kBA9EvE,WACD7B,SAASqI,iBAAiB,oBAChCxN,SAAQ,SAAA8oB,GAAC,OAAIA,EAAEniB,MAAM3C,QAAU,UACrC,IAAMyE,EAAMwN,OAAO7Q,SAASkpB,OAC5BrY,OAAO7Q,SAASsB,KAAO+B,EA0EmE+lB,KAAtC,mCAGhD,6BAEA,4BAAQ3pB,MAAM,wBAAwBsB,UAAU,sBAAsBa,QAAS,kBAAMiP,OAAO8X,UACxF,kBAAC,KAAD,CAAkBpnB,MAAO,CACrB8K,OAAQ,UACRrP,MAAO,qBACPyE,SAAU,YChK9B,IACI8L,GAAc,CACVjH,MAAO,cACP7D,MAAO,UACP1D,MAAO,SAEXpD,GAAS,CACL2K,MAAO,SACP7D,MAAO,0BACP1D,MAAO,SAEXsqB,GAAY,CACR/iB,MAAO,YACP7D,MAAO,8BACPlI,KAAM,OACNwE,MAAO,SAGFuqB,GAAQ,CACjB,CACIhjB,MAAO,oBACP7D,MAAO,UAEX,CACI6D,MAAO,qBACP7D,MAAO,yBACPlI,KAAM,QARO,eAWV8uB,IAEP,CACI/iB,MAAO,QACP7D,MAAO,oBAEX,CACI6D,MAAO,QACP7D,MAAO,+BAnBM,eAsBV9G,KAKE4tB,GAAQ,CAAC,eAEXhc,IAFU,eAKV8b,KAIEG,GAAU,CAAC,eAEbjc,IAFY,eAKZ8b,IALY,eAQZ1tB,IAEP,CACI2K,MAAO,YACP7D,MAAO,uCAIFgnB,GAAQ,CACjB,CACInjB,MAAO,eACP7D,MAAO,8BACPlI,KAAM,QAEV,CACI+L,MAAO,MACP7D,MAAO,oBAEX,CACI6D,MAAO,WACP7D,MAAO,kBAEX,CACI6D,MAAO,iBACP7D,MAAO,sBAEX,CACI6D,MAAO,iBACP7D,MAAO,gBAEX,CACI6D,MAAO,gBACP7D,MAAO,qBAEX,CACI6D,MAAO,cACP7D,MAAO,mBAEX,CACI6D,MAAO,kBACP7D,MAAO,wBCtGFinB,GAAe,CACxB,CACIpjB,MAAO,cACP7D,MAAO,kBACP1D,MAAO,SAEX,CACIuH,MAAO,OACP7D,MAAO,OACP0I,UAAW,GACXb,QAAS,sCAEb,CACIhE,MAAO,oBACP7D,MAAO,2BACP0I,UAAW,GACXb,QAAS,WAEb,CACIhE,MAAO,WACP7D,MAAO,WACP0I,UAAW,GACXb,QAAS,oFAEb,CACIhE,MAAO,QACP7D,MAAO,SACPlI,KAAM,QACN4Q,UAAW,IAEf,CACI7E,MAAO,MACP7D,MAAO,MACP0I,UAAW,IAEf,CACI7E,MAAO,SACP7D,MAAO,YACPlI,KAAM,SACN4P,IAAK,MAET,CACI7D,MAAO,cACP7D,MAAO,cACP0I,UAAW,IAEf,CACI7E,MAAO,MACP7D,MAAO,MACP0I,UAAW,KAEf,CACI7E,MAAO,SACP7D,MAAO,SACP0I,UAAW,IAEf,CACI7E,MAAO,SACP7D,MAAO,SACP0I,UAAW,IAEf,CACI7E,MAAO,KACP7D,MAAO,SACP0I,UAAW,EACXb,QAAS,aCjEJqf,GAAa,CAAC,CACvBrjB,MAAO,YACP7D,MAAO,mBACP0I,UAAW,GACXpM,MAAO,KAEX,CACIuH,MAAO,WACP7D,MAAO,MACP0I,UAAW,GACXb,QAAS,UACTvL,MAAO,KAEX,CACIuH,MAAO,WACP7D,MAAO,WACP0I,UAAW,GACXb,QAAS,mFACTvL,MAAO,KAEX,CACIuH,MAAO,aACP7D,MAAO,SACP0I,UAAW,GACXpM,MAAO,KAEX,CACIuH,MAAO,QACP7D,MAAO,uCACP0I,UAAW,EACX5Q,KAAM,SACN4P,IAAK,IACLpL,MAAO,MChCE6qB,GAAiB,CAAC,CAC3BtjB,MAAO,iBACP7D,MAAO,qBACP0I,UAAW,GACXpM,MAAO,KAEX,CACIuH,MAAO,gBACP7D,MAAO,MACP0I,UAAW,GACXb,QAAS,WAEb,CACIhE,MAAO,gBACP7D,MAAO,WACPlI,KAAM,MACN4Q,UAAW,GACXb,QAAS,oFAEb,CACIhE,MAAO,kBACP7D,MAAO,SACPlI,KAAM,QACN4Q,UAAW,GACXb,QAAS,6CACTvL,MAAO,MCXI,SAAS8qB,GAAT,GAA2D,IAGlEC,EAH8BpvB,EAAmC,EAAnCA,KAAMqH,EAA6B,EAA7BA,IAAKtC,EAAwB,EAAxBA,MAAOyc,EAAiB,EAAjBA,OAAQ9P,EAAS,EAATA,MAExCqG,GAAiB/X,EAA/BqvB,UAF+D,YAEhCrvB,EAFgC,gBAKrE,OAAQqH,GACJ,KAAK,EACD+nB,EAAcJ,GAAazd,OAAOqd,IAClC,MACJ,KAAK,EACDQ,EAAcH,GAAW1d,OAAOsd,IAChC,MACJ,KAAK,EACDO,EAAcF,GACd,MACJ,KAAK,EACkJlvB,EAA7IoL,UAA6IpL,EAAlIsvB,QAAkItvB,EAAzHqvB,UAAyHrvB,EAA9Gye,eAA8Gze,EAA9F0e,mBAA8F1e,EAA1E8c,cAA0E9c,EAA3DsqB,mBAA2DtqB,EAAvCgT,yBADhH,IAC6Iuc,EAD7I,YACuJvvB,EADvJ,2IAGI+X,EAAewX,EACfH,EAAcje,GAAQI,OAAO,CAACwd,KAC9B,MACJ,KAAK,EACDK,EAAcle,GAAWK,OAAOud,IAOxC,IAAIttB,EAAU,GAkCd,OAhCA4I,OAAOiT,KAAKtF,GAAc7X,SAAQ,SAAAyG,GAClB,IAARU,EACA+nB,EAAYlvB,SAAQ,SAAAoP,GAChBA,EAAKpP,SAAQ,YAA6B,IAA1B0L,EAAyB,EAAzBA,MAAO7D,EAAkB,EAAlBA,MAAOlI,EAAW,EAAXA,KAC1B,GAAI8G,IAAQiF,EAAO,CACf,IAAIqM,EAAM,GACV7N,OAAOC,OAAO4N,EAAK,CAAErM,QAAO7D,QAAOP,MAAOuQ,EAAapR,KACnD9G,GAAMuK,OAAOC,OAAO4N,EAAK,CAAEpY,SAC/B2B,EAAQ+H,KAAK0O,GACbA,EAAM,UAKlBmX,EAAYlvB,SAAQ,YAA+C,IAA5C0L,EAA2C,EAA3CA,MAAO7D,EAAoC,EAApCA,MAAOlI,EAA6B,EAA7BA,KAAMwE,EAAuB,EAAvBA,MAAuB,EAAhBwM,UAC9C,GAAIlK,IAAQiF,EAAO,CACf,IAAIqM,EAAM,GACV7N,OAAOC,OAAO4N,EAAK,CAAErM,QAAO7D,QAAOP,MAAOuQ,EAAapR,KACnD9G,GAAMuK,OAAOC,OAAO4N,EAAK,CAAEpY,SAC3BwE,GAAO+F,OAAOC,OAAO4N,EAAK,CAAE5T,UAChC7C,EAAQ+H,KAAK0O,GACbA,EAAM,UAMtB7N,OAAOiT,KAAKtF,GAAc7X,SAAQ,SAAAyG,GAChBnF,EAAQX,MAAK,SAAAV,GAAE,OAAIA,EAAGyL,QAAUjF,MACxB,IAARU,GAAW7F,EAAQ+H,KAAK,CAAEqC,MAAOjF,EAAKoB,MAAOpB,EAAKa,MAAOuQ,EAAapR,QAIpF,yBAAKN,UAAU,cAAcQ,MAAO,CAAEnD,KAAM,MAAOD,MAAO,QACtD,wBAAI4C,UAAU,gBAAgBtB,EAA9B,IAAsC/E,EAAKwhB,IAD/C,IAC6D,6BACzD,yBAAKnb,UAAU,qBAAqBQ,MAAO,CAAE1E,eAAgB,eAErDX,EAAQlB,KAAI,WAAuCiG,GAAvC,IAAGqF,EAAH,EAAGA,MAAO7D,EAAV,EAAUA,MAAOP,EAAjB,EAAiBA,MAAO3H,EAAxB,EAAwBA,KAAMwE,EAA9B,EAA8BA,MAA9B,OACR,yBAAKgC,UAAU,kBAAkBQ,MAAO,CAAExC,MAAOA,GAAgB,KAAQsC,IAAKJ,GAC1E,kBAACuJ,GAAA,EAAD,CACIjE,KAAMD,EACN7D,MAAOA,EACPP,MAAgB,SAAT3H,EAAkBoO,KAAOzG,GAAOqQ,OAAO,cAAgBrQ,GAAS,GACvE2I,gBAAiB,CAAEC,QAAQ,EAAMvJ,MAAO,CAAEE,SAAU,SAAUE,WAAY,MAC1EqJ,WAAY,CACRzJ,MAAO,CACHE,SAAU,SACV1C,MAAOA,GAAgB,IACvByK,UAAW,OACXC,UAAW,WAGnB7I,QAAQ,kBAK5B,kBAACuL,GAAD,CAAkBC,MAAOA,KCtGrC,IAYe8d,GAZQ,SAACC,GAEpB,OAAIA,EAAQ,MAAQA,EAAQ,QACjBC,KAAKC,MAAMF,EAAQ,MAAQ,MAE3BA,GAAS,SAAWA,EAAS,YAC3BA,EAAQ,KAAQ,MAAMpU,QAAQ,GAAK,MAErCoU,EAAQ,UCRVG,GAAe,CACxB,CAAE7qB,MAAO,kBAAmB8G,KAAM,kBAClC,CAAE9G,MAAO,mBAAc8G,KAAM,cAC7B,CAAE9G,MAAO,aAAW8G,KAAM,eCOxBgkB,GAAS,CACX7sB,aAAc,EACdkB,QAAS,OACT4rB,KAAM,wBACNzrB,MAAO,MACP6K,OAAQ,OACR1M,QAAS,aACTutB,aAAc,QAgGHC,GA7FG,SAAC,GAA0D,IAAxDzP,EAAuD,EAAvDA,gBAAiB7O,EAAsC,EAAtCA,MAAeue,GAAuB,EAA/BpY,OAA+B,EAAvBoY,QAAQtd,EAAe,EAAfA,SAErDmD,EAAQ,GACR/V,EAAa,cAAemwB,EAAU,YAAON,IAEjD,OAAQK,GACJ,IAAK,YACDlwB,EAAa,eACbmwB,EAAU,YAAO1b,KACD3T,MAAK,SAAAoV,GAAC,MAAe,qBAAXA,EAAEpK,SAA8BqkB,EAAW3mB,KAAK,CAAExE,MAAO,gCAA8B8G,KAAM,qBAClHqkB,EAAWrvB,MAAK,SAAAoV,GAAC,MAAe,gBAAXA,EAAEpK,SAAyBqkB,EAAW3mB,KAAK,CAAExE,MAAO,sBAAuB8G,KAAM,gBACtGqkB,EAAWrvB,MAAK,SAAAoV,GAAC,MAAe,eAAXA,EAAEpK,SAAwBqkB,EAAW3mB,KAAK,CAAExE,MAAO,uBAAqB8G,KAAM,eACnGqkB,EAAWrvB,MAAK,SAAAoV,GAAC,MAAe,aAAXA,EAAEpK,SAAsBqkB,EAAW3mB,KAAK,CAAExE,MAAO,iCAA+B8G,KAAM,aAKpH0U,GAAmBA,EAAgB,IACnCA,EAAgBrgB,SAAQ,SAAA+X,GACpBiY,EAAWhwB,SAAQ,SAAAiwB,GACXlY,EAAIN,UAAYwY,EAAEtkB,OAASoM,EAAIN,SAAS3B,WAAWF,EAAMvM,KAAN,eAAgB0O,EAAhB,CAAqBlQ,MAAOooB,EAAEprB,eAsBjG,OAAI+Q,EAAM,GAEF,yBAAKzP,UAAU,eACX,4BACI,yBAAKmC,IAAI,GAAGD,IAAI,0BAA0B1B,MAAO,CAAE8O,YAAa,OAAQ9G,YAAa,UADzF,aAIA,wBAAIhI,MAAO,CAAE7D,aAAc,SAC3B,yBAAK6D,MAAOgpB,IACR,6BACI,yBAAKrnB,IAAI,GAAGD,IAAI,6BAA6BF,OAAO,SAbzD,CAAC,UAAW,iBAAkB,WAerB/H,KAAI,SAACyE,EAAOwB,GAAR,OACR,yBAAKI,IAAKJ,GACN,0BAAMM,MAAO,CAAEE,SAAU,QAASE,WAAY,MAAQlC,QAKlE,wBAAI8B,MAAO,CAAEqI,OAAQ,gBAEjB4G,EAAMxV,KAAI,SAAC4V,EAAMnV,GAAP,OACN,yBAAK4F,IAAK5F,GACN,yBAAK8F,MAAOgpB,IACR,yBAAKxpB,UAAU,UACX,yBAAKmC,IAAI,GAAGD,IAAI,6BAEpB,yBAAKlC,UAAU,WACX,0BACIQ,MAAO,CAAEyB,eAAgB,YAAaqJ,OAAQ,UAAWrP,MAAO,QAChE4E,QAAS,kBAAMkpB,GAASla,EAAK7V,GAAI6V,EAAKwB,SAAU3X,EAAYmW,EAAKyB,SAAS3B,aACzEE,EAAKnO,MAhDtB,SAAAmO,GAAS,IACjByB,EAAazB,EAAbyB,SAER,OAAQA,EAAS3B,WACb,IAAK,aAED,MAAO,MADKrD,EAAS9R,MAAK,SAAAuN,GAAC,OAAIA,EAAE0O,gBAAkBvb,OAAOoW,EAAS0Y,cAChDxd,YACvB,IAAK,aACD,OAAI8E,EAASnX,QAAgB,cAAamX,EAASnX,QACvC,IAChB,QACI,MAAO,IAqC+B8vB,CAAYpa,KAIlC,yBAAK7P,UAAU,UACVqjB,GAAWxT,EAAKqa,YAAY,IAEjC,yBAAKlqB,UAAU,UACVmpB,GAAetZ,EAAK7M,cAKzC,kBAACoI,GAAD,CAAkBC,MAAOA,KAIzB,MC7FVmG,GAAS,CACXtU,IAAK,KACLG,KAAM,MACND,MAAO,OAGL+sB,G,YAEF,aAAe,IAAD,8BACV,+CAUJ7wB,MAAQ,CACJ0H,IAAK,EACLD,MAAO,CAAC,WAAY,YAAU,eAAgB,cAAY,WAC1DqpB,SAAU,CAAC,iBAAkB,WAAY,gBAAiB,aAAc,MACxEC,SAAU,CAAC,cAAe,SAAU,aAAc,UAAW,UAC7Dzf,QAAS,CAAC,WAAY,SAAU,eAAgB,WAAY,WAC5D0f,aAAc,CAAC,UAAW,WAAS,aAAc,QAAS,cAC1DC,cAAe,CAAC,cAAe,YAAa,iBAAkB,QAAS,WACvEje,SAAU,GACVhS,QAAS,GACTkS,YAAa,GACb0X,aAAa,EACblK,WAAW,EACXiH,YAAY,EACZ/G,gBAAiB,GACjBsQ,eAAgB,GAChBC,YAAa,GACbtG,iBAAiB,GA5BP,EAqCdljB,UAAY,SAAO8G,EAAG5G,GAAV,SAAAyB,EAAAC,OAAA,kEAAAD,EAAA,MACF,EAAKwT,SAAS,CAAEpV,IAAKG,KADnB,uEArCE,EA0Cd+iB,YAAc,SAAOnc,EAAGyiB,GAAV,2BAAA5nB,EAAAC,OAAA,mDAEJoD,EAAU,EAAKpH,MAAfoH,MAFI,EAGuB,EAAK3M,MAAhCsR,EAHI,EAGJA,QAAS5J,EAHL,EAGKA,IAAKopB,EAHV,EAGUA,SAChBM,EAAcN,EAASnwB,KAAI,SAAA0wB,GAAE,OAAIjnB,KAAMI,SAAS6mB,MAIhDH,IAAgBI,EAAiB3kB,EAAM2E,EAAQ5J,IAAMxG,MAAK,SAAAuN,GAAC,OAAIA,EAAE2iB,EAAY1pB,MAAUwpB,EAAeE,EAAY1pB,aAE/FgJ,IAAnBwgB,IAAgCI,EAV1B,kCAAAhoB,EAAA,MAWA,EAAKwT,SAAS,CAAE8N,aAAc,EAAK5qB,MAAM4qB,YAAasG,eAAgBI,KAXtE,6BAcL,EAAKxU,SAAS,CAAE8N,aAAc,EAAK5qB,MAAM4qB,YAAasG,oBAAgBxgB,IAdjE,sCA1CA,EA2Dd6gB,WAAa,WACT,EAAKzU,SAAS,CAAE4D,WAAY,EAAK1gB,MAAM0gB,aA5D7B,EA+DdA,UAAY,SAAAhgB,GAEJ,IAAEgH,EAAQ,EAAK1H,MAAb0H,IAAF,EACiD,EAAKnC,MAAMoH,MAA1DnL,EADF,EACEA,SAAUgwB,EADZ,EACYA,OAAQC,EADpB,EACoBA,YAAaN,EADjC,EACiCA,YAEjCxQ,EAAgB8Q,EAAY5U,QAAO,SAAAvG,GAAC,OAAIA,EAAE0B,SAAS0Y,YAAchwB,EAAGsP,cACpEsgB,EAAS,YAEb,OAAQ5oB,GACJ,KAAK,EACDiZ,EAAgB8Q,EAAY5U,QAAO,SAAAvG,GAAC,OAAIA,EAAE0B,SAAS0Y,YAAchwB,EAAGsP,cACpE,IAAM0hB,EAAQF,EAAOtwB,MAAK,SAAAN,GAAC,OAAIA,EAAE+wB,UAAYjxB,KAC7C,GAAIgxB,EAAO,CACP,IAAIE,EAAc,GAClBjR,EAAgB8Q,EACX5U,QAAO,SAAAvG,GAAC,OAAIA,EAAE0B,SAAS0Y,YAAcgB,EAAMvU,cAAcnN,cACzDzP,SAAQ,SAAA+V,GACDA,EAAE0B,SAASwZ,QAAUlb,EAAE0B,SAASwZ,OAAO3L,SAASnlB,IAChDkxB,EAAYhoB,KAAK0M,MAE7BqK,EAAgBiR,EAEpB,MAEJ,KAAK,EACDtB,EAAS,eACT,IAAIuB,EAAgB,GAEpBJ,EAAYlxB,SAAQ,SAAA+V,GACa,eAAzBA,EAAE0B,SAAS3B,WACXC,EAAE0B,SAAS8Z,aAAavxB,SAAQ,SAAAwxB,GACxBA,IAAWrxB,GAAImxB,EAAcjoB,KAAK0M,SAIlDqK,EAAgBkR,EAChB,MACJ,KAAK,EACDvB,EAAS,YACT3P,EAAgBwQ,EAAYtU,QAAO,SAAAvG,GAAC,OAAIA,EAAE0B,SAASvM,YAAc/K,EAAGsP,cACpE,IAAM0P,EAAUle,EAASN,MAAK,SAAAN,GAAC,OAAIA,EAAE6K,YAAc/K,KACnD,GAAIgf,EAAS,CACT,IAAMze,EAASwwB,EAAYvwB,MAAK,SAAAoV,GAAC,OAAIA,EAAE0B,SAASnX,UAAY6e,EAAQ7e,QAAQmP,cACxE/O,GAAQ0f,EAAc/W,KAAK3I,GAEnC,MACJ,KAAK,EACD0f,EAAgB8Q,EAAY5U,QAAO,SAAAvG,GAAC,OAAIA,EAAE0B,SAASnX,UAAYH,EAAGsP,cAKtE2Q,EAAc,IACdA,EAAgBA,EACXmD,MAAK,SAACxa,EAAGsf,GAAJ,OAAU,IAAInX,KAAKnI,EAAC,YAAkB,IAAImI,KAAKmX,EAAC,eACrDoJ,UACL,EAAKlV,SAAS,CAAE8D,gBAAiBD,EAAeD,WAAW,EAAM4P,SAAQ2B,gBAAiBvxB,MAG1F,EAAKoc,SAAS,CAAElO,UAAW,gBAAiBD,iBAAiB,IAC7D,EAAKmO,SAAS,CAAE8D,gBAAiB,OA3H3B,EA+HdsR,cAAgB,SAAA7xB,GAAS,IAAD,EACgB,EAAKL,MAAjC+wB,EADY,EACZA,SAAUD,EADE,EACFA,SAAUppB,EADR,EACQA,IACxByE,EAAQ4kB,EAASrpB,GACjBjG,EAAUqvB,EAASppB,GACnByqB,EAAS/nB,KAAMI,SAAS/I,GAE5BoI,KAAM4W,OAAN,4BAAkCtU,EAAlC,oBAAmD1K,EAAnD,eAAiEpB,EAAK8xB,KACjEloB,MAAK,SAAAE,GAAC,OAAIW,QAAQC,IAAIZ,EAAE9J,UAtInB,EAyIdwqB,gBAAkB,SAAMnL,GAAN,yBAAApW,EAAAC,OAAA,mDAGRkW,EAA6CC,EAA7CD,SAAUlU,EAAmCmU,EAAnCnU,WAAYof,EAAuBjL,EAAvBiL,mBACxByH,EAAgB9jB,KAAO/C,GAAY8mB,WACnCC,EAAkBhkB,KAAOqc,GAAoB0H,WAEhC,UAAb5S,EAPU,kCAAAnW,EAAA,MAQJ,EAAKwT,SAAS,CAAElO,UAAW,kBAAmBD,iBAAiB,KAR3D,4CAWVyjB,EAXU,kCAAA9oB,EAAA,MAYJ,EAAKwT,SAAS,CAAElO,UAAW,gBAAiBD,iBAAiB,KAZzD,4CAeV2jB,EAfU,oCAAAhpB,EAAA,MAgBJ,EAAKwT,SAAS,CAAElO,UAAW,kBAAmBD,iBAAiB,KAhB3D,0CAoBR3F,EAAMwN,OAAO7Q,SAASkpB,OAAS,OACrCV,aAAaoE,QAAQ,UAAWzN,KAAKE,UAAUtF,IAC/ClJ,OAAO8E,KAAKtS,EAAK,YAtBH,uCAzIJ,EAkKdgY,aAAe,kBAAM,EAAKlE,SAAS,CAAE6K,YAAa,EAAK3nB,MAAM2nB,cAlK/C,EAmKdxE,WAAa,kBAAM,EAAKrG,SAAS,CAAEnO,iBAAkB,EAAK3O,MAAM2O,mBAnKlD,EAoKd6jB,iBAAmB,kBAAM,EAAK1V,SAAS,CAAE+N,iBAAkB,EAAK7qB,MAAM6qB,mBAlKlE,EAAK5J,YAAc,SAACxS,GACE,KAAdA,EAAEyS,UACE,EAAKlhB,MAAM4qB,aAAa,EAAKA,cAC7B,EAAK5qB,MAAM0gB,WAAW,EAAK6Q,aAC3B,EAAKvxB,MAAM6qB,iBAAiB,EAAK2H,qBANnC,E,mJAgCV9sB,SAAS0b,iBAAiB,UAAWxU,KAAKqU,aAAa,G,8FAGlCrU,KAAKkQ,SAAS,M,+BAmI7B,IAQFwU,EARC,EAG6G1kB,KAAK5M,MADjH0H,EAFD,EAECA,IAAK4J,EAFN,EAEMA,QAAS7J,EAFf,EAEeA,MAAOmjB,EAFtB,EAEsBA,YAAasG,EAFnC,EAEmCA,eAAgBxQ,EAFnD,EAEmDA,UAAWuR,EAF9D,EAE8DA,gBAAiBrR,EAF/E,EAE+EA,gBAC5EjS,EAHH,EAGGA,gBAAiBC,EAHpB,EAGoBA,UAAW0hB,EAH/B,EAG+BA,OAAQQ,EAHvC,EAGuCA,SAAUjG,EAHjD,EAGiDA,gBAAiB4H,EAHlE,EAGkEA,UAAWzB,EAH7E,EAG6EA,aAAcC,EAH3F,EAG2FA,cAC1FtkB,EAAUC,KAAKrH,MAAfoH,MACAqG,EAAarG,EAAbqG,SACFoe,EAAcN,EAASnwB,KAAI,SAAA0wB,GAAE,OAAIjnB,KAAMI,SAAS6mB,MAKpD,OAFIH,GAAkBtG,IAAa0G,EAAiB3kB,EAAM2E,EAAQ5J,IAAMxG,MAAK,SAAAuN,GAAC,OAAIA,EAAE2iB,EAAY1pB,MAAUwpB,EAAeE,EAAY1pB,QAE9H,kBAAC,WAAD,KACH,kBAACgrB,EAAD,CAASjrB,MAAOA,EACZC,IAAKA,EACLC,UAAWiF,KAAKjF,YACpB,kBAACgrB,GAAD,CACIjrB,IAAKA,EACLD,MAAOA,EACPrH,WAAYwM,KAAKrH,MAAMoH,MAAM2E,EAAQ5J,IACrCkjB,YAAahe,KAAKge,YAClBlK,UAAW9T,KAAK8T,UAChBoK,IAAKle,KAAKslB,cACVrH,gBAAiBje,KAAKie,kBAEzBD,GACG,kBAAC4E,GAAD,CACIzd,MAAOnF,KAAKge,YACZvqB,KAAMixB,GAAkBJ,EACxBxpB,IAAKA,EACLtC,MAAO4rB,EAAatpB,GACpBma,OAAQoP,EAAcvpB,KAI1BmjB,GACA,kBAAC,GAAD,CAAanL,QAAS+S,IAEzB/R,GACG,kBAAC,GAAD,CACIhZ,IAAKA,EACLkrB,UAAWX,EACXrR,gBAAiBA,EACjB7O,MAAOnF,KAAK2kB,WACZrZ,OAAQA,GACRoY,OAAQA,EACRtd,SAAUA,IAEjBrE,GAAmB,kBAACgN,GAAD,CAAaL,KAAM3M,EAAiBoD,MAAOnF,KAAKuW,WAAYvU,UAAWA,S,GAvNtEnB,aA+NlBC,eAAQ,KAAM,CAAE7B,qBAAhB6B,CAAoC8O,GAH/B,CAAC,WAAY,WAAY,SAAU,eAAgB,UAAW,cAC9E,uBAAwB,wBAE6CqU,KC1OnE3uB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCqQ,UAAW,CACPlO,QAAS,OACTmO,SAAU,OACV7P,QAAST,EAAMkB,QAAQ,GACvBoF,OAAQ,QAEZtD,MAAO,CACHzC,MAAO,OACP2E,WAAY,IACZ8H,UAAW,UAEfJ,UAAW,CACPC,WAAY7M,EAAMkB,QAAQ,GAC1B4L,YAAa9M,EAAMkB,QAAQ,GAC3BoB,MAAO,IACPyK,UAAW,OACXC,UAAW,UAEfyD,WAAY,CACRnO,MAAO,KAEX+c,MAAO,CACHrS,UAAW,UAEflK,MAAO,CACHrC,QAAST,EAAMkB,QAAQ,GACvB8L,UAAW,SACXzM,MAAOP,EAAMa,QAAQ6P,KAAKC,UAC1BxD,OAAQnN,EAAMkB,QAAQ,IAE1BuvB,QAAS,CACLtjB,OAAQ,QAEZujB,YAAa,CACTvjB,OAAQ,SACRqG,OAAQ,iBACRC,aAAc,KACdnN,OAAQ,OACR7F,QAAS,OACTmP,OAAQ,UACR+gB,OAAQ,IACRC,UAAW,gCACX5rB,SAAU,UACVzE,MAAO,UACPD,gBAAiB,WAErBuwB,aAAc,CACV1jB,OAAQ,SACRqG,OAAQ,iBACRC,aAAc,KACdnN,OAAQ,OACR7F,QAAS,YACTmP,OAAQ,UACR+gB,OAAQ,IACRC,UAAW,gCACX5rB,SAAU,UACVzE,MAAO,SACPD,gBAAiB,eAIV,eAA2D,IAA/C+M,EAA8C,EAA9CA,YAAaC,EAAiC,EAAjCA,WAAYrP,EAAqB,EAArBA,KAAM8T,EAAe,EAAfA,YAC9ChB,EAAwC9S,EAAxC8S,WAAY+O,EAA4B7hB,EAA5B6hB,WAAY9N,EAAgB/T,EAAhB+T,YAC5B5O,EAAUtD,KAAegD,EAAgEM,EAAhEN,MAAOuN,EAAyDjN,EAAzDiN,UAAWrN,EAA8CI,EAA9CJ,MAAOytB,EAAuCrtB,EAAvCqtB,QAASC,EAA8BttB,EAA9BstB,YAAaG,EAAiBztB,EAAjBytB,aAExEtjB,EAAO0f,GAEX,OACI,kBAAC1b,GAAA,EAAD,CACIlB,WAAS,EACTmB,UAAU,MACVlN,UAAW+L,EACXoB,QAAQ,UAER,kBAACF,GAAA,EAAD,KAIY,kBAACA,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,IACX,kBAACD,GAAA,EAAD,CAAOpN,UAAWxB,GACd,kBAACmB,EAAA,EAAD,CAAYK,UAAWtB,GAAvB,IAAgC8c,EAAW/O,IAC3C,kBAAC3D,GAAD,CACIG,KAAMA,EACNtP,KAAMA,EACNqP,WAAYA,EACZD,YAAaA,IAEjB,kBAAC,KAAD,CAAUiF,OAAQP,IACb,gBAAGQ,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,cAAjB,OACG,kBAACjB,GAAA,EAAD,eAAMlB,WAAS,EAACoB,QAAQ,SAAS8B,WAAW,SAASjP,UAAWmsB,EAASjf,UAAU,OAAUe,KACzF,0BAAWC,KAEPR,EAAYzS,MAAM,aACd,kBAACgS,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,EAAGrN,UAAWosB,GAA7B,IAA4C1e,EAA5C,KAEA,kBAACT,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,EAAGrN,UAAWusB,GAA7B,IAA4C,kBAAC,KAAD,MAA5C,KAA0E7e,EAA1E,IAAuF,6BAAvF,4DC9F9ClS,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCqQ,UAAW,CACPlO,QAAS,OACTmO,SAAU,OACV7P,QAAST,EAAMkB,QAAQ,IAE3B8B,MAAO,CACHzC,MAAO,OACP2E,WAAY,IACZ8H,UAAW,UAEfJ,UAAW,CACPC,WAAY7M,EAAMkB,QAAQ,GAC1B4L,YAAa9M,EAAMkB,QAAQ,GAC3BoB,MAAO,IACP0C,SAAU,SACV+H,UAAW,OACXC,UAAW,UAEfyD,WAAY,CACRnO,MAAO,KAEX+c,MAAO,CACHrS,UAAW,UAEflK,MAAO,CACHrC,QAAST,EAAMkB,QAAQ,GACvB8L,UAAW,SACXzM,MAAOP,EAAMa,QAAQ6P,KAAKC,UAC1BxD,OAAQnN,EAAMkB,QAAQ,IAE1BuN,KAAM,CACFtB,OAAQnN,EAAMkB,QAAQ,GACtBoB,MAAO,IACP0C,SAAU,SACV+H,UAAW,OACXC,UAAW,UAEf8jB,WAAY,CACR7uB,UAAW,OACXxB,QAAS,WAEbswB,UAAW,CACP9vB,aAAc,KACdR,QAAS,YAIF,eAA0G,IAA9F4M,EAA6F,EAA7FA,YAAaC,EAAgF,EAAhFA,WAAYrP,EAAoE,EAApEA,KAAM+yB,EAA8D,EAA9DA,SAAUC,EAAoD,EAApDA,YAA0BhL,GAA0B,EAAvClU,YAAuC,EAA1BkU,YAAYiL,EAAc,EAAdA,WAC9FngB,EAAmC9S,EAAnC8S,WAAY+O,EAAuB7hB,EAAvB6hB,WAAYsP,EAAWnxB,EAAXmxB,OAC5BhsB,EAAUtD,KAAegD,EAAyDM,EAAzDN,MAAOuN,EAAkDjN,EAAlDiN,UAAWrN,EAAuCI,EAAvCJ,MAAO8tB,EAAgC1tB,EAAhC0tB,WAAYriB,EAAoBrL,EAApBqL,KAAMsiB,EAAc3tB,EAAd2tB,UAElEtjB,EAAe,SAACrP,GAElB,IAAMqH,EAAQxH,EAAKG,EAAGyL,OAEtB,OAAIzL,EAAGyP,SAAWpI,EACqB,OAA5BA,EAAMlG,MAAMnB,EAAGyP,SAEtBpI,EAAQrH,EAAGsP,KAAOjI,EAAQrH,EAAGuP,KAI/BG,EAAS,SAAC1P,GACZ,IAAMqH,EAAQxH,EAAKG,EAAGyL,OAEtB,OAAIpE,EAAQrH,EAAGsP,KAAOjI,EAAQrH,EAAGuP,IAAY,oBACpClI,GAAqC,OAA5BA,EAAMlG,MAAMnB,EAAGyP,SAA0B,SAClDzP,EAAGyP,SAAWpI,GAAqC,OAA5BA,EAAMlG,MAAMnB,EAAGyP,SAA0B,cACpE,GAGT,OACI,kBAAC0D,GAAA,EAAD,CACIlB,WAAS,EACTmB,UAAU,MACVlN,UAAW+L,EACXoB,QAAQ,UAER,kBAACF,GAAA,EAAD,KACI,kBAACA,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,IACX,kBAACD,GAAA,EAAD,CAAOpN,UAAWxB,GACd,kBAACmB,EAAA,EAAD,CAAYK,UAAWtB,GAAvB,IAAgC8c,EAAW/O,IAGvCxD,GAAKhP,KAAI,SAACH,EAAIoG,GAAL,OACL,kBAAC,WAAD,CAAUI,IAAKJ,GACX,kBAACuJ,GAAA,EAAD,CACIjE,KAAM1L,EAAGyL,MACT7D,MAAO5H,EAAG4H,MACVmH,OAAO,SACP7I,UAAWlB,EAAQwJ,UACnB/G,SAAUwH,EACVW,OAAQV,EACRxP,KAAMM,EAAGN,MAAQ,GACjBmQ,MAAOR,EAAarP,GACpB8O,WAAYY,EAAO1P,GACnB6O,OAAQ7O,EAAG6O,SAAU,EACrBxH,MAAOxH,EAAKG,EAAGyL,QAAU,GACzBsE,SAAU/P,EAAG+P,WAAY,EACzBC,gBAAiB,CACb9J,UAAWlB,EAAQwJ,UACnByB,OAAoB,SAAZjQ,EAAGN,WAAmBwQ,EAC9BxJ,MAAO,CAAEE,SAAU,UAAWE,WAAY,IAAK3E,MAAO,UAAWU,aAAc,OAEnFsN,WAAY,CACRzJ,MAAO,CAAEjC,WAAYzE,EAAG+P,UAAYlQ,EAAKuQ,QAAU,OAAS,UAAYlI,OAAQ,OAChFb,MAAM,GAAD,OAAKxH,EAAKG,EAAGyL,QAAU,IAC5B4E,KAAMrQ,EAAGuO,UAAY,GACrB+B,UAAWtQ,EAAGsQ,WAAa,GAC3BC,UAAWvQ,EAAGuQ,WAAa,GAC3BjB,IAAKtP,EAAGsP,KAAO,IAEnBkB,UAAWxQ,EAAGwQ,YAAa,EAC3BC,KAAMzQ,EAAGyQ,MAAQ,KACjB1K,QAAS/F,EAAG+F,SAAW,SACvB2K,UAAW1Q,EAAG0Q,YAAa,IAEZ,IAAd1Q,EAAG6O,QAAmB7O,EAAG8Q,QAAQ3Q,KAAI,SAACyQ,EAAKxK,GAAN,OAClC,kBAACyK,GAAA,EAAD,CAAUrK,IAAKJ,EAAGiB,MAAOuJ,GACpBA,WAKzB,kBAACjL,EAAA,EAAD,CAAQxD,MAAM,UAAU+D,UAAWysB,EAAW5rB,QAAS6rB,GACnD,kBAAC,KAAD,MADJ,yBAMJ5B,EAAO9nB,OAAS,GAAK,kBAACiK,GAAA,EAAD,CAAMlB,WAAS,EAChCmB,UAAU,MACVlN,UAAW+L,EACXoB,QAAQ,SACR8B,WAAW,UACX,kBAAChC,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,IACX,kBAACD,GAAA,EAAD,CAAOpN,UAAWxB,GACd,uBAAGwB,UAAWtB,GAAuB,IAAf+N,EAAmB,YAAW,eAApD,gBACCqe,EAAO7wB,KAAI,SAACQ,EAAGyF,GAAJ,OACR,kBAAC+M,GAAA,EAAD,CAAM3M,IAAKJ,GACN+I,GAAKhP,KAAI,SAAC8N,EAAG6G,GAAJ,OACN,kBAAC,WAAD,CAAUtO,IAAKsO,EAAI,KACf,kBAACnF,GAAA,EAAD,CACItI,MAAO1G,EAAEsN,EAAExC,QAAU,GACrBC,KAAMuC,EAAExC,MACR7D,MAAOqG,EAAErG,MACT1B,UAAWmK,EACXN,SAAsB,aAAZ9B,EAAExC,QAA8B9K,EAAEonB,KAC5CtgB,SAAUqrB,EACV9iB,gBAAiB,CAAEC,QAAQ,EAAMvJ,MAAO,CAAEI,WAAY,YAIlE,kBAACnB,EAAA,EAAD,CAAQG,UAAU,OAAOI,UAAWwsB,EAAY9tB,MAAM,SAASmC,QAAS,kBAAM8gB,EAAWzhB,KACrF,kBAAC,KAAD,OAGJ,kBAACT,EAAA,EAAD,CAAQO,UAAWwsB,EAAYvwB,MAAM,YAAYyC,MAAM,UAAUmC,QAAS,kBAAM8rB,EAAYzsB,KACxF,kBAAC,KAAD,iBCrKtC1E,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC8C,MAAO,CACHvC,MAAOP,EAAMa,QAAQ6P,KAAKC,UAC1BrO,MAAO,OACP7B,QAAS,cACT6F,OAAQ,YAID,SAASyP,GAAT,GAAwE,IAM/BC,EANtB/X,EAAoD,EAApDA,KAAMgvB,EAA8C,EAA9CA,aAAcC,EAAgC,EAAhCA,WAAYna,EAAoB,EAApBA,UAAWgB,EAAS,EAATA,MAEjEqb,EAAWnxB,EAAXmxB,OAEFtsB,EADQhD,KACRgD,MAEFquB,EAAiB,GAAIjb,EAAM,GAAIE,EAAa,GAehD,OAbA6W,EAAa9uB,SAAQ,SAAAkO,GACbpO,EAAKkN,eAAe,CAACkB,EAAExC,UACvBxB,OAAOC,OAAO4N,EAAd7N,OAAA,IAAAA,CAAA,GAAsBgE,EAAExC,MAAQ5L,EAAKoO,EAAExC,SACvCuM,EAAW5O,KAAK6E,OAGxB8kB,EAAe3pB,KAAK0O,GAEpBF,EAAe,CACX,CAAE9E,SAAU,sBAAuB3D,KAAM6I,EAAYnY,KAAMkzB,GAC3D,CAAEjgB,SAAU,uCAA+B3D,KAAM2f,EAAYjvB,KAAMmxB,IAInE,oCACI,kBAAC1d,GAAA,EAAD,CAAOpN,UAAWxB,GACd,yBAAKwB,UAAU,YAEP0R,EAAazX,KAAI,WAA2B8X,GAA3B,IAAGnF,EAAH,EAAGA,SAAU3D,EAAb,EAAaA,KAAMtP,EAAnB,EAAmBA,KAAnB,OACb,kBAAC,WAAD,CAAU2G,IAAKyR,GACX,+BACI,+BACI,4BACI,wBAAI/R,UAAU,UACVmR,QAASlI,EAAKjG,QAAS4J,IAE/B,4BACK3D,EAAKhP,KAAI,SAACQ,EAAGyF,GAAJ,OAAU,wBAAII,IAAKJ,GAAIzF,EAAEiH,YAG3C,+BACW,IAANqQ,GAAW,4BACPpY,EAAKM,KAAI,SAAC2X,EAAKR,GAAN,OACNrN,OAAOkN,OAAOW,GAAK3X,KAAI,SAACH,EAAI8U,GAAL,OACnB,wBAAI5O,UAAU,SAASM,IAAKsO,GACvB9U,UAKV,IAANiY,GAAWpY,EAAKM,KAAI,SAAC2X,EAAKR,GAAN,OACjB,4BACKrN,OAAOkN,OAAOW,GAAK3X,KAAI,SAACH,EAAI8U,GAAL,OACpB,wBAAI5O,UAAU,SAASM,IAAKsO,GACvB9U,iBAYzC,wBAAI0G,MAAO,CAAEqI,OAAQ,kBAArB,IAAyC,kBAAC,KAAD,CAAsBrI,MAAO,CAAE6O,cAAe,SAAUlT,QAAS,eAA1G,gBACCsT,GAAS,kBAACD,GAAD,CAAgBvG,KAAMwF,EAAWgB,MAAOA,M,ICmRlDqG,MAFI,CAAC,Y,YA5UjB,aAAe,IAAD,8BACV,+CAQJxc,MAAQ,CACJmT,WAAY,EACZ+O,WAAY,CAAC,+BAAgC,uCACzC,cACJxI,MAAO,CAAC,mBAAoB,YAAU,cACtCxG,YAAa,GACbwJ,SAAU,sBACVC,cAAc,EACdxG,MAAO,GACPyG,UAAW,GACX+K,YAAY,EACZ6L,YAAa,CAAC,GACdC,WAAY,EACZjC,OAAQ,GACRpd,YAAa,wEACbsM,WAAW,GAxBD,EAiCdrH,cAAgB,SAAMpZ,GAAN,iBAAAqJ,EAAAC,OAAA,mDAENyT,EAAiB,EAAKhd,MAAMmT,WACnB,SAAXlT,GAAmB,EAAK6c,SAAS,CAAE3J,WAAY6J,EAAiB,IACrD,SAAX/c,GAAmB,EAAK6c,SAAS,CAAE3J,WAAY6J,EAAiB,IACrD,UAAX/c,GAAoB,EAAK6c,SAAS,CAAE3J,WAAY,MAE5ClF,EAAW,EAAKjO,MAAhBiO,UACMA,EAAO,GART,kCAAA3E,EAAA,MASF,EAAKwT,SAAL,eAAmB,EAAK9c,MAAxB,GAAkC4N,GAAiB,eATjD,uEAjCF,EA+Cd6B,YAAc,SAAMhB,GAAN,mBAAAnF,EAAAC,OAAA,kDACckF,EAAEyO,OAAlBhR,EADE,EACFA,KAAMrE,EADJ,EACIA,MACd,EAAKiV,SAAL,eAAiB5Q,EAAOrE,IAFd,sCA/CA,EAoDdurB,SAAW,gCAAA9pB,EAAAC,OAAA,mDACHioB,EAAS,EAAKxxB,MAAMwxB,OACpBkC,EAAU,GACVC,EAAU,EACVF,EAAa,EAEjBnE,GAAW/uB,SAAQ,SAAA+X,GACe,KAA1B,EAAKtY,MAAMsY,EAAIrM,aAA2CyE,IAA1B,EAAK1Q,MAAMsY,EAAIrM,SAC/C0nB,GAAW,MAIH,MAAZA,EAZG,uBAaH,EAAK7W,SAAS,CAAElO,UAAW,gBAAiBD,iBAAiB,IAb1D,kBAcI,MAdJ,UAgBH2gB,GAAW/uB,SAAQ,SAAA+X,GACf7N,OAAOC,OAAOgpB,EAAdjpB,OAAA,IAAAA,CAAA,GAA0B6N,EAAIrM,MAAQ,EAAKjM,MAAMsY,EAAIrM,YAEzDulB,EAAO5nB,KAAK8pB,GAEZlC,EAAOjxB,SAAQ,SAAAY,GACXsyB,GAAc7xB,OAAOT,EAAEyyB,YAEvBH,EAAa,KAxBd,iBAyBCjC,EAAOqC,MACP,EAAK/W,SAAS,CAAElO,UAAW,aAAcD,iBAAiB,IA1B3D,2CAAArF,EAAA,MA6BO,EAAKwT,SAAS,CAAE0U,SAAQiC,gBA7B/B,QA8BCnE,GAAW/uB,SAAQ,SAAA+X,GACf,EAAKwE,SAAL,eAAiBxE,EAAIrM,MAAQ,QAEjCvG,SAASyY,kBAAkB,aAAa,GAAGC,QAjC5C,uCApDG,EA2FdiK,WAAa,SAAAjnB,GAET,IAAI0yB,EAAY,EAAK9zB,MAAMwxB,QACG,IAA1BsC,EAAU1yB,GAAOmnB,KAAeuL,EAAU1yB,GAAOmnB,MAAO,GAExDuL,EAAUvzB,SAAQ,SAAAY,GAAC,OAAIA,EAAEonB,MAAO,KAChCuL,EAAU1yB,GAAOmnB,MAAO,GAE5B,EAAKzL,SAAS,CAAE0U,OAAQsC,KAnGd,EAuGdR,WAAa,SAAA7kB,GACH,IAAEvC,EAASuC,EAAEyO,OAAXhR,KAAqBslB,EAAW,EAAKxxB,MAAhBwxB,OAEvB3pB,EAAU4G,EAAEyO,OAAZrV,MACO,UAATqE,IAAkBrE,EAAQA,EAAM0C,QAAQ,IAAK,MAEjD,IAAIupB,EAAYtC,EAAO3U,QAAO,SAAA1b,GAAC,OAAe,IAAXA,EAAEonB,QAAe,GAC9CnnB,EAAQowB,EAAO1L,QAAQgO,GAE7BA,EAAU5nB,GAAQrE,EAElB,IAAIksB,EAAKvC,EACTuC,EAAG3yB,GAAS0yB,EAEZ,EAAKhX,SAAS,CAAEkX,eAAgBD,KArHtB,EAyHdV,YAAc,SAAAjyB,GACV,IAAIowB,EAAS,EAAKxxB,MAAMwxB,OACxBA,EAAOjwB,OAAOH,EAAO,GACrB,EAAK0b,SAAS,CAAE0U,YA5HN,EA+Hd5T,MAAQ,SAAO1R,EAAMrE,EAAOzH,EAAYyd,EAASC,EAAQC,EAAMC,GAAvD,yBAAA1U,EAAAC,OAAA,mDAEErB,EAAO9H,EAAWyc,QAAO,SAAArc,GAAE,OAAIA,EAAGsd,GAAQG,cAActc,MAAMkG,EAAMoW,kBAC5D,KAAVpW,GAAc,EAAKiV,UAAL,mBAAiB5Q,EAAO,IAAxB,cAA6B2R,EAAU,IAAvC,KACd3V,EAAK,GAJL,oBAKMgW,EAAShW,EAAK,GAAG4V,GACjBpd,EAAKwH,EAAK,GAAG6V,GACL,KAAVlW,EAPJ,kCAAAyB,EAAA,MAQU,EAAKwT,UAAL,mBAAiB5Q,EAAOgS,GAAxB,cAAiCL,EAAUnd,GAA3C,KARV,kDAAA4I,EAAA,MAWM,EAAKwT,UAAL,mBAAiB5Q,EAAO,IAAxB,cAA6B2R,EAAU,IAAvC,KAXN,QAYAoW,MAAMjW,EAAa,sBACnBtY,SAASyY,kBAAkBjS,GAAM,GAAGkS,QAbpC,uCA/HM,EAgJd1O,WAAa,SAAOjB,GAAP,2BAAAnF,EAAAC,OAAA,gDACDyJ,EAAa,EAAKzN,MAAMoH,MAAxBqG,SACA9G,EAASuC,EAAEyO,OAAXhR,KACFrE,EAAU4G,EAAEyO,OAAZrV,OAEAoG,EAASL,MACH,EAAKkP,SAAS,CAAE7O,WACvB,EAAK6O,SAAS,CAAE7O,YAAQyC,IAPpB,KASDxE,EATC,OAUA,SAVA,OAiBA,UAjBA,QA2BA,WA3BA,+BAWKgoB,EAAgBlhB,EAAS6J,QAAO,SAAApO,GAAC,OAAIA,EAAEsN,OAASlU,MACpC,KACd,EAAKiV,SAAS,CAAEf,KAAM,KACtB,EAAKe,SAAS,CAAElO,UAAWslB,EAAc,GAAIvlB,iBAAiB,KAdjE,oCAkBD9G,EAAQA,EAAM0C,QAAQ,IAAK,MACf,IACR,EAAKuS,SAAS,CAAElO,UAAW,aAAcD,iBAAiB,KAGpD8kB,EAAa7xB,OAAO,EAAK5B,MAAMyzB,YAAc7xB,OAAOiG,GAC1D,EAAKiV,UAAL,mBAAiB5Q,EAAOrE,GAAxB,2BAA+B4rB,GAA/B,KAxBH,iCA4BG5rB,GAAUA,EAAMlG,MAAM,SA5BzB,oCAAA2H,EAAA,MA6BS,EAAKwT,SAAS,CAAEqX,OAAQ,MA7BjC,QA8BG,EAAKrX,SAAS,CAAElO,UAAW,iBAAkBD,iBAAiB,IA9BjE,mFAhJC,EAuLdwF,YAAc,SAACoC,GACX,IAAIrC,EAAW,IAAImM,SACnBnM,EAASsM,OAAO,iBAAkBjK,EAAK,IACvC,EAAKuG,SAAS,CAAE1I,YAAamC,EAAK,GAAGrK,KAAMkoB,eAAgBlgB,KA1LjD,EA6LdqF,aAAe,gDAAAjQ,EAAAC,OAAA,yDAEsB,EAAKvJ,MAAhCwxB,EAFK,EAELA,OAAQ4C,EAFH,EAEGA,eACVhX,EAAU,GACViX,EAAe,IAAIhU,SAGvBgP,GAAa9uB,SAAQ,SAAAkO,GACb,EAAKzO,MAAMuN,eAAe,CAACkB,EAAExC,SAC7BxB,OAAOC,OAAO0S,EAAd3S,OAAA,IAAAA,CAAA,GAA0BgE,EAAExC,MAAQ,EAAKjM,MAAMyO,EAAExC,YAIzDmR,EAAQkX,kBAAoB,QAE5B7pB,OAAO+J,QAAQ4I,GAAS7c,SAAQ,YAAa,IAAD,mBAAV+U,EAAU,KAAP1U,EAAO,KACnCA,GAAW,KAANA,UAAiBwc,EAAQ9H,MAGvCkc,EAAOjxB,SAAQ,SAAAY,UACJA,EAAEonB,KACT9d,OAAO+J,QAAQrT,GAAGZ,SAAQ,YAAa,IAAD,mBAAV+U,EAAU,KAAP1U,EAAO,KAC7BA,GAAW,KAANA,UAAiB4wB,EAAOlc,SAI1C8H,EAAUhT,KAAMuV,eAAevC,GAC/BoU,EAASpnB,KAAMuV,eAAe6R,GA3BnB,WAAAloB,EAAA,MA6BLO,KAAMgW,KAAK,sBAAuB,CAAEzC,UAASoU,WAC9CvnB,MAAK,SAAAkT,GACFuT,EAAYvT,EAAc9c,SA/BvB,WAkCP+zB,EAlCO,iBAqCP,IAFAC,EAAa7T,OAAO,YAAa,kBACjC6T,EAAa7T,OAAO,YAAakQ,GApC1B,6BAqCP,EAAiB0D,EAAe5f,UAAhC,+CAASC,EAAkC,QACvC4f,EAAa7T,OAAO/L,EAAK,GAAIA,EAAK,IAtC/B,6PAAAnL,EAAA,MAwCDO,KAAMgW,KAAK,qBAAsBwU,GAClCpqB,MAAK,SAAAE,GAAC,OAAIW,QAAQC,IAAI,gBAzCpB,QA4CX,EAAKiV,QACL,EAAKD,aA7CM,6EA7LD,EA6OdA,WAAa,WACT,IACIwU,EAAe,GACfC,EAAc,GACd1T,EAAa,GAEjBuO,GAAa9uB,SAAQ,SAAA+X,GACjB7N,OAAOiT,KAAKpF,GAAK/X,SAAQ,SAAAyG,GACT,UAARA,GAAmB,EAAKhH,MAAMsY,EAAItR,KAAOyD,OAAOC,OAAO6pB,EAAd9pB,OAAA,IAAAA,CAAA,GAA+B6N,EAAItR,QAAO0J,UAI/F4e,GAAW/uB,SAAQ,SAAA+X,GACf7N,OAAOiT,KAAKpF,GAAK/X,SAAQ,SAAAyG,GACT,UAARA,GAAmB,EAAKhH,MAAMsY,EAAItR,KAAOyD,OAAOC,OAAO8pB,EAAd/pB,OAAA,IAAAA,CAAA,GAA8B6N,EAAItR,QAAO0J,UAI9Fuf,GAAa1vB,SAAQ,YAAe,IAAZ2L,EAAW,EAAXA,KACpBzB,OAAOC,OAAOoW,EAAdrW,OAAA,IAAAA,CAAA,GAA6ByB,OAAOwE,OAGxC,EAAKoM,SAAL,eACOyX,EADP,GAEOC,EAFP,GAGO1T,EAHP,CAII3N,WAAY,EACZD,YAAa,GACbiD,MAAO,GACPyG,UAAW,GACX4W,YAAa,CAAC,GACdC,WAAY,EACZjC,OAAQ,GACRpd,YAAa,wEACbsM,WAAW,MA/QL,EAkRdV,MAAQ,kBAAM,EAAKlD,SAAS,CAAEH,cAAe,EAAK3c,MAAM2c,gBAlR1C,EAmRdqE,aAAe,kBAAM,EAAKlE,SAAS,CAAE6K,YAAa,EAAK3nB,MAAM2nB,cAnR/C,EAoRdxE,WAAa,kBAAM,EAAKrG,SAAS,CAAEnO,iBAAkB,EAAK3O,MAAM2O,mBApRlD,EAqRd+R,UAAY,kBAAM,EAAK5D,SAAS,CAAE4D,WAAW,KArR/B,EAsRd6Q,WAAa,kBAAM,EAAKzU,SAAS,CAAE4D,WAAY,EAAK1gB,MAAM0gB,aApRtD,EAAKO,YAAc,SAACxS,GACE,KAAdA,EAAEyS,SACE,EAAKlhB,MAAMoT,WAAW,EAAKH,gBAJ7B,E,iFA4BVvN,SAAS0b,iBAAiB,UAAWxU,KAAKqU,aAAa,K,6CAGlCrU,KAAKkQ,SAAS,M,+BAyP7B,IAAD,EAG6BlQ,KAAK5M,MAD/BmT,EAFH,EAEGA,WAAYwJ,EAFf,EAEeA,aAAcD,EAF7B,EAE6BA,SAAUhD,EAFvC,EAEuCA,MAAO/K,EAF9C,EAE8CA,gBAC/CC,EAHC,EAGDA,UAAWwlB,EAHV,EAGUA,eAEf,OAAO,kBAAC,WAAD,KAEH,kBAACvb,GAAD,CAAQC,MAAO,CAAC,WAAY,aAAchG,KAAK,yBAE/C,kBAAC2G,GAAD,CACItG,WAAYA,EACZuG,MAAOA,EACPL,cAAezM,KAAKyM,gBAGL,IAAflG,EACI,kBAACshB,GAAD,CACIp0B,KAAMuM,KAAK5M,MACXyP,YAAa7C,KAAK6C,YAClBC,WAAY9C,KAAK8C,WACjByE,YAAavH,KAAKuH,cAEL,IAAfhB,EACE,kBAACuhB,GAAD,CACIr0B,KAAMuM,KAAK5M,MACXyP,YAAa7C,KAAK6C,YAClBC,WAAY9C,KAAK8C,WACjB0jB,SAAUxmB,KAAKwmB,SACfC,YAAazmB,KAAKymB,YAClBlf,YAAavH,KAAKuH,YAClBkU,WAAYzb,KAAKyb,WACjBiL,WAAY1mB,KAAK0mB,aAGN,IAAfngB,GAAoB,kBAAC,GAAD,CAChBgD,MAAOie,EACPjf,UAAW8a,GAAc5vB,KAAMuM,KAAK5M,MACpCsvB,WAAYA,GAAYD,aAAcA,KAGtD,kBAACjW,GAAD,CACIjG,WAAYA,EACZmG,SAAUI,EAAMhQ,OAAS,EACzB6P,aAAc3M,KAAK2M,aACnBF,cAAezM,KAAKyM,gBAExB,kBAAC,GAAD,CAAYiC,KAAMqB,EAAc5K,MAAOnF,KAAKoT,MAAOxE,IAAKkB,IACvD/N,GAAmB,kBAACgN,GAAD,CAAaL,KAAM3M,EAAiBoD,MAAOnF,KAAKuW,WAAYvU,UAAWA,EAAWkN,cAAelP,KAAK5M,MAAM6O,iB,GAzU5GpB,c,kDCR1BvL,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCsqB,QAAS,CACLrlB,aAAa,aAAD,OAAejF,EAAMa,QAAQ0xB,UAE7CtyB,aAAc,CACVC,KAAM,GAEVC,iBAAkB,CACdC,eAAgB,gBAChBC,UAAW,QAEfG,YAAa,CACTC,QAAST,EAAMkB,QAAQ,GACvBR,WAAY,GAEhBC,iBAAkB,CACdC,SAAU,WACVN,gBAAiBN,EAAMa,QAAQC,KAAK,KACpCP,MAAOP,EAAMa,QAAQE,OAAOC,MAC5BC,aAAcjB,EAAMkB,QAAQ,GAC5BC,gBAAiB,yBACjBC,eAAgB,QAChBC,iBAAkB,YAClBC,mBAAoB,UAExBC,QAAS,CACLX,SAAU,WACVY,IAAK,EACLC,OAAQ,EACRC,MAAO,EACPC,KAAM,EACNrB,gBAAiB,kBAErBsB,wBAAwB,aACpBhB,SAAU,WACVH,QAAST,EAAMkB,QAAQ,IACtBlB,EAAM6B,YAAYC,GAAG,MAAQ,CAC1BrB,QAAST,EAAMkB,QAAQ,GACvBa,aAAc,IAGtBC,SAAU,CACNC,UAAWjC,EAAMkB,QAAQ,IAE7BgB,KAAM,CACFC,QAAS,QAEbC,YAAa,CACTlC,KAAM,GAEVmC,UAAW,CACPC,MAAO,QACPgE,OAAQ,SAEZ/D,SAAS,eACFvC,EAAMwC,WAAWC,MADhB,CAEJhC,QAAST,EAAMkB,QAAQ,EAAG,KAE9BwB,gBAAiB,CACbjC,QAAST,EAAMkB,QAAQ,GACvBZ,gBAAiBN,EAAMa,QAAQC,KAAK,MAExC6B,eAAgB,CACZV,UAAWjC,EAAMkB,QAAQ,IAE7B0B,OAAQ,CACJtC,gBAAiBN,EAAMa,QAAQgC,WAAWC,MAC1Cb,UAAWjC,EAAMkB,QAAQ,GACzBT,QAAST,EAAMkB,QAAQ,EAAG,QAI5B+E,GAAgB,CAClB,CACIjD,MAAO,YACPkD,KAAM,SACNC,YACI,yCACJC,SAAU,2BACVnD,KAAM,sBAEV,CACID,MAAO,YACPkD,KAAM,SACNC,YACI,4DACJlD,KAAM,mBACNmD,SAAU,uBAEd,CACIpD,MAAO,eACPkD,KAAM,SACNC,YACI,4DACJlD,KAAM,yBACNmD,SAAU,+BAIH,cAEX,IAAMhD,EAAUtD,KAChB,OACI,kBAAC,IAAM8D,SAAP,KACI,kBAACC,EAAA,EAAD,MACA,yBAAKiB,MAAO,CACRuB,UAAW,OACXC,OAAQ,SAER,8BACI,kBAACoL,GAAA,EAAD,CAAOpN,UAAWlB,EAAQzC,kBACtB,yBAAKmE,MAAO,CAAGwB,OAAQ,OAAQhE,MAAO,SAClC,yBAAKkE,IAAI,0BAA0BC,IAAI,WAAWnE,MAAM,OAAOgE,OAAQ,WAE3E,yBAAKhC,UAAWlB,EAAQ7B,UACxB,kBAACgQ,GAAA,EAAD,CAAMlB,WAAS,GACX,kBAACkB,GAAA,EAAD,CAAMzL,MAAI,EAACqN,GAAI,GACX,yBAAK7O,UAAWlB,EAAQxB,yBACpB,kBAACqC,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAKquB,cAAY,GAApD,YAGA,kBAACvuB,EAAA,EAAD,CAAYE,QAAQ,QAAQsuB,WAAS,GAArC,8CAOhB,kBAAClhB,GAAA,EAAD,CAAMlB,WAAS,EAACnP,QAAS,EAAGoD,UAAWlB,EAAQsvB,UAC1CzsB,GAAc1H,KAAI,SAAAkf,GAAI,OACnB,kBAAClM,GAAA,EAAD,CAAMzL,MAAI,EAAClB,IAAK6Y,EAAKza,MAAO2O,GAAI,GAAIwB,GAAI,GACpC,kBAAC,IAAD,CAAMxO,GAAI8Y,EAAKxa,KAAM6B,MAAO,CAAEyB,eAAgB,SAC1C,kBAACosB,GAAA,EAAD,CAAgBzuB,UAAU,QACtB,kBAAC0uB,GAAA,EAAD,CAAMtuB,UAAWlB,EAAQlB,MACrB,yBAAKoC,UAAWlB,EAAQhB,aACpB,kBAACywB,GAAA,EAAD,KACI,kBAAC5uB,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAC9BsZ,EAAKza,OAEV,6BACA,kBAACiB,EAAA,EAAD,CAAYE,QAAQ,QAAQsuB,WAAS,GAChChV,EAAKtX,aAEV,kBAAClC,EAAA,EAAD,CAAYE,QAAQ,QAAQ5D,MAAM,WAE7Bkd,EAAKza,SAKlB,kBAAC8vB,GAAA,EAAD,CAAQC,QAAM,GACV,kBAACC,GAAA,EAAD,CACI1uB,UAAWlB,EAAQf,UACnB6B,UAAU,MACVsC,IAAKiX,EAAKrX,SACVpD,MAAOya,EAAKza,qB,yHC3J1DiwB,GAAkBC,cAAW,SAAAlzB,GAAK,MAAK,CACzCmzB,KAAM,CACF7yB,gBAAiB,UACjBC,MAAO,SACP2E,WAAY,IACZF,SAAU,IAEdyP,KAAM,CACFzP,SAAU,OARMkuB,CAWpBE,MAEEC,GAAaH,cAAW,SAAAlzB,GAAK,MAAK,CACpCmzB,KAAM,CACF7yB,gBAAiB,UACjBC,MAAO,UAEXkU,KAAM,CACFzP,SAAU,OANCkuB,CASfE,MAEEE,GAAiBJ,cAAW,SAAAlzB,GAAK,MAAK,CACxC2S,KAAM,CACF,qBAAsB,CAClBrS,gBAAiBN,EAAMa,QAAQgC,WAAW0wB,aAH/BL,CAMnBM,MAEE1zB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC2S,KAAM,CACFC,SAAU,IACVnS,QAAS,KACTuM,UAAW,UAEfhK,MAAO,CACHf,UAAW,KACX8K,UAAW,OACX/H,SAAU,SACV1E,gBAAiB,UACjB0M,UAAW,UAEfqS,MAAO,CACHrS,UAAW,UAEflK,MAAO,CACHvC,MAAOP,EAAMa,QAAQ6P,KAAKC,UAC1BxD,OAAQnN,EAAMkB,QAAQ,GACtBoB,MAAO,OACP7B,QAAS,YACT6F,OAAQ,QAEZyD,MAAO,CACH9I,aAAcjB,EAAMkB,QAAQ,GAC5Bb,UAAW,YAKJ,SAASozB,GAAT,GAAmD,IAA7BC,EAA4B,EAA5BA,WAAYhE,EAAgB,EAAhBA,aAEvCtsB,EAAUtD,KACVkD,EAAiBI,EAAjBJ,MAAO+G,EAAU3G,EAAV2G,MAET4pB,EAAY,GAOhB,OALAD,EAAWhE,aAAavxB,SAAQ,SAAAG,GAC5B,IAAMs1B,EAAMlE,EAAa5wB,MAAK,SAAA4M,GAAC,OAAIA,EAAEmoB,eAAiBv1B,KACtDq1B,EAAUnsB,KAAKosB,MAIf,kBAAC,IAAMhwB,SAAP,KACI,yBAAKkB,MAAO,CAAExC,MAAO,OAAQ8B,MAAO,SAChC,kBAACH,EAAA,EAAD,CAAYK,UAAWtB,GAAvB,+BAEJ,kBAAC8wB,GAAA,EAAD,CAAOxvB,UAAWyF,GACd,kBAACgqB,GAAA,EAAD,KACI,kBAACT,GAAD,KACKnG,GAAe5uB,KAAI,SAACQ,EAAGyF,GAAJ,OAAU,kBAACyuB,GAAD,CAAiBruB,IAAKJ,GAAIzF,EAAEiH,YAGhE2tB,EAAUp1B,KAAI,SAACy1B,EAAGte,GAAJ,OACZse,EACI,kBAACC,GAAA,EAAD,CAAWrvB,IAAK8Q,GACZ,kBAAC8d,GAAA,EAAD,KAEQrG,GAAe5uB,KAAI,SAAC2X,EAAKlK,GAAN,OACf,kBAACqnB,GAAD,CAAYzuB,IAAKoH,GACZgoB,EAAE9d,EAAIrM,aAO3B,UCxFxB,IAAMuJ,GAAe,CACjBjR,QAAS,OACT/B,eAAgB,SAChBkC,MAAO,OACP+Q,aAAc,SACd/C,SAAU,OACV1P,SAAU,YAGR0S,GAAW,CACbtG,UAAW,SACXuG,WAAY,aACZ9B,QAAS,gBACTyiB,WAAY,OACZ1gB,OAAQ,iBACR/S,QAAS,OACT0M,OAAQ,gBACRnI,SAAU,SACV1E,gBAAiB,UACjBmT,aAAc,MACdnR,MAAO,KAGLoR,GAAO,CACTC,cAAe,SACf/D,OAAQ,UACRgE,YAAa,MAGXC,GAAW,CACbF,cAAe,SACflT,QAAS,aAGPX,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCqQ,UAAW,CACPlO,QAAS,OACTmO,SAAU,OACV7P,QAAST,EAAMkB,QAAQ,GACvBoF,OAAQ,OACRhG,gBAAiB,WAErB6zB,cAAe,CACXhyB,QAAS,OACTmO,SAAU,OACV7P,QAAST,EAAMkB,QAAQ,GACvBoF,OAAQ,QAEZtD,MAAO,CACHzC,MAAO,OACPyM,UAAW,SACXhI,SAAU,UAEdovB,SAAU,CACN9xB,MAAO,QACP0C,SAAU,SACVmI,OAAQ,SACRH,UAAW,UAGfJ,UAAW,CACPC,WAAY7M,EAAMkB,QAAQ,GAC1B4L,YAAa9M,EAAMkB,QAAQ,GAC3B8D,SAAU,SACV+H,UAAW,OACXC,UAAW,UAEfyD,WAAY,CACRnO,MAAO,KAEX+c,MAAO,CACHrS,UAAW,UAEflK,MAAO,CACHrC,QAAST,EAAMkB,QAAQ,GACvB8L,UAAW,SACXzM,MAAOP,EAAMa,QAAQ6P,KAAKC,UAC1BxD,OAAQnN,EAAMkB,QAAQ,IAE1BmzB,OAAQ,CACJ5zB,QAAST,EAAMkB,QAAQ,GACvB8L,UAAW,SACXzM,MAAOP,EAAMa,QAAQ6P,KAAKC,UAC1BxD,OAAQnN,EAAMkB,QAAQ,GACtBN,SAAU,YAGd6N,KAAM,CACFtB,OAAQnN,EAAMkB,QAAQ,GACtBoB,MAAO,IACP0C,SAAU,SACV+H,UAAW,OACXC,UAAW,UAEf8jB,WAAY,CACR7uB,UAAW,OACXxB,QAAS,WAEbswB,UAAW,CACPtwB,QAAS,mBACT6F,OAAQ,OACR6G,OAAQ,MACRyE,MAAO,QACP5M,SAAU,UAEdyrB,QAAS,CACLtjB,OAAQ,iBAEZujB,YAAa,CACTld,OAAQ,iBACRC,aAAc,KACdnN,OAAQ,OACR7F,QAAS,mBACTmP,OAAQ,UACR+gB,OAAQ,IACRC,UAAW,gCACX5rB,SAAU,UACVzE,MAAO,UACPD,gBAAiB,WAGrBuwB,aAAc,CACV1jB,OAAQ,OACRqG,OAAQ,iBACRC,aAAc,KACdnN,OAAQ,OACR7F,QAAS,YACTmP,OAAQ,UACR+gB,OAAQ,IACRC,UAAW,gCACXrwB,MAAO,aAIA,eACiC,IADrB8M,EACoB,EADpBA,YAAa9C,EACO,EADPA,MAAOtM,EACA,EADAA,KAAMq2B,EACN,EADMA,QAASC,EACf,EADeA,WAC1DxiB,EAA2C,EAA3CA,YAAayiB,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,SACvBC,EAA2D12B,EAA3D02B,YAAaxjB,EAA8ClT,EAA9CkT,gBAAiByjB,EAA6B32B,EAA7B22B,WAAYC,EAAiB52B,EAAjB42B,aAC5CjkB,EAA2BrG,EAA3BqG,SAAU8e,EAAiBnlB,EAAjBmlB,aAEZtsB,EAAUtD,KACNgD,EACgEM,EADhEN,MAAOuN,EACyDjN,EADzDiN,UAAWrN,EAC8CI,EAD9CJ,MAAOytB,EACuCrtB,EADvCqtB,QACzBC,EAAgEttB,EAAhEstB,YAAaG,EAAmDztB,EAAnDytB,aAAcE,EAAqC3tB,EAArC2tB,UAAWsD,EAA0BjxB,EAA1BixB,OAAQF,EAAkB/wB,EAAlB+wB,cAEhD1mB,EAAe,SAACrP,GAElB,IAAMqH,EAAQxH,EAAKG,EAAGyL,OAEtB,OAAIzL,EAAGyP,SAAWpI,EACqB,OAA5BA,EAAMlG,MAAMnB,EAAGyP,SAEtBpI,EAAQrH,EAAGsP,KAAOjI,EAAQrH,EAAGuP,KAI/BG,EAAS,SAAC1P,GACZ,IAAMqH,EAAQxH,EAAKG,EAAGyL,OAEtB,OAAIpE,EAAQrH,EAAGsP,KAAOjI,EAAQrH,EAAGuP,IAAY,oBACpClI,GAAqC,OAA5BA,EAAMlG,MAAMnB,EAAGyP,SAA0B,SAClDzP,EAAGyP,SAAWpI,GAAqC,OAA5BA,EAAMlG,MAAMnB,EAAGyP,SAA0B,cACpE,GAQT,OACI,kBAAC0D,GAAA,EAAD,CACIlB,WAAS,EACTmB,UAAU,MACVlN,UAAW+L,EACXoB,QAAQ,cAER,kBAAC2N,GAAD,CACInhB,KAAMA,EACN2S,SAAUA,EACVvD,YAAaA,IAEhB8D,GAAmB,kBAACO,GAAA,EAAD,CAAOpN,UAAW+vB,GAClC,kBAACpwB,EAAA,EAAD,CAAYK,UAAWtB,GAAvB,qCACA,wBAAI8B,MAAO,CAAEI,WAAY,IAAKF,SAAU,UAAxC,6GACC4vB,EAAWr2B,KAAI,SAACmN,EAAGgK,GAAJ,OACZ,kBAACnE,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,GAAI/M,IAAK8Q,EAAG5Q,MAAO,CAAE8M,MAAO,SACtCub,GAAe5uB,KAAI,SAACH,EAAIoG,GAAL,OAChB,kBAAC,WAAD,CAAUI,IAAKJ,GACX,kBAACuJ,GAAA,EAAD,CACIjE,KAAM1L,EAAGyL,MAAQ6L,EACjB1P,MAAO5H,EAAG4H,MACVmH,OAAO,SACP7I,UAAWlB,EAAQwJ,UACnB/G,SAAU,SAAAwG,GAAC,OAAIgB,EAAYhB,IAC3BvO,KAAMM,EAAGN,MAAQ,GACjBmQ,MAAOR,EAAarP,GACpB8O,WAAYY,EAAO1P,GACnB6O,OAAQ7O,EAAG6O,SAAU,EACrBxH,MAAOxH,EAAKG,EAAGyL,MAAQ6L,IAAM,GAC7BvH,SAAU/P,EAAG+P,WAAY,EACzBC,gBAAiB,CACb9J,UAAWlB,EAAQwJ,UACnByB,OAAoB,SAAZjQ,EAAGN,WAAmBwQ,EAC9BxJ,MAAO,CAAEE,SAAU,SAAUE,WAAY,IAAK3E,MAAO,SAEzDgO,WAAY,CACRzJ,MAAO,CACHjC,WAAYzE,EAAG+P,UAAYlQ,EAAKuQ,QAAU,OAAS,UACnDxJ,SAAU,SAAUgI,UAAW,SAAUzM,MAAO,OAAQ+B,MAAOlE,EAAGkE,OAAS,IAAKgE,OAAQ,OAE5Fb,MAAM,GAAD,OAAKxH,EAAKG,EAAGyL,MAAQ6L,IAAM,IAChCjH,KAAMrQ,EAAGuO,UAAY,GACrB+B,UAAWtQ,EAAGsQ,WAAa,GAC3BC,UAAWvQ,EAAGuQ,WAAa,GAC3BjB,IAAKtP,EAAGsP,KAAO,IAEnBkB,UAAWxQ,EAAGwQ,YAAa,EAC3BC,KAAMzQ,EAAGyQ,MAAQ,KACjB1K,QAAS/F,EAAG+F,SAAW,SACvB2K,UAAW1Q,EAAG0Q,YAAa,IAG9B4G,IAAMkf,EAAWttB,OAAS,GAAW,IAAN9C,GAC5B,oCACI,kBAAC,KAAD,CACIW,QAAS,kBAAMsvB,KACf3vB,MAAO,CACH6O,cAAe,SACf/S,SAAU,WACVa,OAAQ,QACRC,MAAOgU,EAAI,EAAI,OAAS,OACxBnV,MAAO,UACPyE,SAAU,GACV4K,OAAQ,UACR+gB,OAAQ,KAGfjb,EAAI,GAAK,kBAAC,KAAD,CACNvQ,QAAS,kBAAMuvB,KACf5vB,MAAO,CACH6O,cAAe,SACf/S,SAAU,WACVa,OAAQ,QACRC,MAAO,OACPnB,MAAO,MACPyE,SAAU,GACV4K,OAAQ,UACR+gB,OAAQ,cASxC,kBAACpf,GAAA,EAAD,CAAMlB,WAAS,EAACvL,MAAO,CAAElE,SAAU,aAC/B,kBAAC2Q,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,GACX,kBAAC,KAAD,CAAUW,OAAQP,IACb,gBAAGQ,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,cAAjB,OACG,kBAACjB,GAAA,EAAD,eAAMlB,WAAS,EAACoB,QAAQ,SACpB8B,WAAW,SAASjP,UAAWmsB,EAASjf,UAAU,OAAUe,KAC5D,0BAAWC,KAEPmiB,EAAYp1B,MAAM,aACd,kBAACgS,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,EAAGrN,UAAWosB,GAA7B,IAA4CiE,EAA5C,KAEA,kBAACpjB,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,EAAGrN,UAAWusB,GAA7B,IAA4C,kBAAC,KAAD,MAA5C,KAA0E8D,EAA1E,IAAuF,6BAAvF,wDAMxB,kBAACpjB,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,EAAGrN,UAAWmsB,GACzB,kBAAC1iB,GAAA,EAAD,CACIjE,KAAK,aACL9D,MAAM,aACNmH,OAAO,SACP7I,UAAWlB,EAAQwJ,UACnB/G,SAAU,SAAAwG,GAAC,OAAIgB,EAAYhB,IAC3BvO,KAAK,OACLgQ,OAAO,qCACPrI,MAAOxH,EAAKkL,YAAc,GAC1BiF,gBAAiB,CACb9J,UAAWlB,EAAQwJ,UACnByB,QAAQ,EACRvJ,MAAO,CAAEE,SAAU,SAAUzE,MAAO,UAAWU,aAAc,OAEjEsN,WAAY,CACRzJ,MAAO,CAAEjC,WAAY,UAAWmC,SAAU,SAAUgI,UAAW,SAAUzM,MAAO,OAAQ+F,OAAQ,QAEpGnC,QAAS,cAKzB,kBAACoN,GAAA,EAAD,CAAMlB,WAAS,EAACmB,UAAU,MAAMC,QAAQ,aAAa3M,MAAO,CAAExC,MAAO,WACjE,kBAACiP,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,EAAG7M,MAAO,CAAExC,MAAO,YAClC,kBAACiP,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,EAAG7M,MAAO,CAAEV,MAAO,UAC7B+M,GAAmB,kBAACpN,EAAA,EAAD,CAChBO,UAAWysB,EACX/sB,KAAK,QACLzD,MAAM,YACN4D,QAAQ,YACRgB,QAASmvB,GAET,kBAAC,KAAD,MAPgB,gCAW3BnjB,GAAmB0jB,EAAa,IAAM,wBAAI/vB,MAAO,CAAEqI,OAAQ,kBAArB,iCAEnCgE,IAAoB0jB,EAAa,IACjC,kBAACtjB,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,IACX,kBAACD,GAAA,EAAD,CAAOpN,UAAWxB,GAAlB,qCACuCqO,EAAgBL,cAK3D+jB,EAAavtB,OAAS,GAAKutB,EAAat2B,KAAI,SAACm1B,EAAYoB,GAAb,OAAmB,kBAACvjB,GAAA,EAAD,CAAMlB,WAAS,EAC1EzL,IAAS,IAAJkwB,EACLtjB,UAAU,MACVlN,UAAW6vB,EACX1iB,QAAQ,SACR8B,WAAW,cACX,kBAAChC,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,IACX,kBAACD,GAAA,EAAD,CAAO5M,MAAO,CAAErE,QAAS,wBACrB,uBAAG6D,UAAWtB,GAAd,oBACK0wB,EAAWvqB,WAGR,uBAxKXjD,EAwK8CwtB,EAAWvqB,YAtKzD+C,KAAOhG,GAAM4P,OAAO,cACzB,IAmKgB,2BAKR,kBAAC2d,GAAD,CAAY/D,aAAcA,EAAcgE,WAAYA,IAEpD,yBAAK5uB,MAAOsO,IACR,0BAAMtO,MAAOwO,IACT,kBAAC,KAAD,CAA6BxO,MAAO+O,KACpC,0BAAM/O,MAAO,CAAE6O,cAAe,WACzB,IADL,mBAGA,kBAAC,KAAD,CAAY7O,MAAO4O,GAAMvO,QAAS,kBAAMqvB,EAAQd,EAAWqB,kBAE/D,0BAAMjwB,MAAK,eAAOwO,GAAP,CAAiBhR,MAAO,GAAIhC,gBAAiB,QAASkT,OAAQ,EAAG5S,SAAU,WAAYc,MAAO,KACrG,kBAAC,KAAD,CAAoBnB,MAAM,YAAYuE,MAAO4O,GAAMvO,QAAS,kBAAMovB,EAAWb,MADjF,cArLR,IAACxtB,OC6FTkU,MAFI,CAAC,WAAY,eAAgB,e,YAtQ7C,aAAe,IAAD,8BACV,+CAQJxc,MAAQ,CACJgT,SAAU,GACVE,YAAa,GACbwJ,SAAU,qBACVC,cAAc,EACdxG,MAAO,GACPyG,UAAW,GACX+K,YAAY,EACZ6L,YAAa,CAAC,GACdC,WAAY,EACZ2D,aAAc,GACdL,YAAa,uFACbjF,aAAc,GACdkF,WAAY,CAAC,GACbK,iBAAkB,GAClBJ,aAAc,IAxBJ,EAqCdxnB,YAAc,SAAMhB,GAAN,2BAAAnF,EAAAC,OAAA,mDAGJ2C,EAASuC,EAAEyO,OAAXhR,KAEArE,EAAU4G,EAAEyO,OAAZrV,MACFyvB,EANM,YAMY,EAAK/xB,MAAMoH,MAAM2qB,aACnCvB,EAAY,GACZsB,EAAmB,GAEjBvF,EAVI,YAUe,EAAKvsB,MAAMoH,MAAMmlB,cAE1C,EAAKhV,SAAL,eAAmB,EAAK9c,MAAxB,eAAgCkM,EAAOrE,KAE1B,gBAATqE,IAA0BwM,MAAMC,QAAQmZ,GAdlC,qBAgBNwF,EAAcA,EAAYza,QAAO,SAAA0a,GAAE,OAAIA,EAAGrkB,cAAgBrL,MAE1C,IAAIyvB,EAAY/2B,SAAQ,SAAAg3B,GACpCA,EAAGzF,aAAavxB,SAAQ,SAAAG,GACpB,IAAMs1B,EAAMlE,EAAa5wB,MAAK,SAAA4M,GAAC,OAAIA,EAAEmoB,eAAiBv1B,KAClDs1B,GAAKD,EAAUnsB,KAAKosB,MAG5BqB,EAAiBztB,KAAKmsB,GACtBA,EAAY,MAGhB,EAAKjZ,SAAS,CAAEua,mBAAkBJ,aAAcK,MAE1C/jB,EAAkB,EAAKhO,MAAMoH,MAAMqG,SAAS9R,MAAK,SAAAuN,GAAC,OAAIA,EAAEyE,cAAgBrL,MA9BxE,oCAAAyB,EAAA,MAiCI,EAAKwT,SAAS,CAAE5J,YAAaK,EAAgBL,YAAaK,qBAjC9D,QAkCE1L,IAAU0L,EAAgBL,aAAa,EAAK4J,SAAS,CAAEvJ,qBAAiB7C,IAlC1E,wBAmCC,EAAKoM,SAAS,CAAEvJ,qBAAiB7C,IAnClC,uCArCA,EA4EdgmB,QAAU,oEAAAptB,EAAAC,OAAA,qDAE2C,EAAKvJ,MAAhDuT,EAFA,EAEAA,gBAAiBikB,EAFjB,EAEiBA,UAAWjsB,EAF5B,EAE4BA,WAC9BumB,EAHE,YAGiB,EAAKvsB,MAAMoH,MAAMmlB,cACpC2F,EAJE,YAIU,EAAKz3B,MAAMg3B,YAEvBC,EANE,YAMiB,EAAKj3B,MAAMi3B,cAC9B9gB,EAPE,YAOU,EAAKnW,MAAMmW,OACvBuhB,EAAa,GACbhE,EAAU,GAEd+D,EAAMl3B,SAAQ,SAACo3B,EAAG/wB,GACd2oB,GAAehvB,SAAQ,SAAA+X,GACnB7N,OAAOC,OAAOgpB,EAAdjpB,OAAA,IAAAA,CAAA,GAA0B6N,EAAIrM,MAAQ,EAAKjM,MAAMsY,EAAIrM,MAAQrF,QAEjE,IAAIkR,EAAI,EACRrN,OAAOkN,OAAO+b,GAASnzB,SAAQ,SAAAK,GACvBA,IAAGkX,GAAK,MAEZA,EAAI,GAAG4f,EAAW9tB,KAAK8pB,GAE3B5b,EAAI,EACJ4b,EAAU,GAEVnE,GAAehvB,SAAQ,SAAA+X,GACnB,EAAKwE,SAAL,eAAiBxE,EAAIrM,MAAQrF,EAAI,WAI9BgxB,EAAa,GAAIC,EAAc,GACtCxD,EAAe,IAAIhU,SAEvBqX,EAAWn3B,SAAQ,SAAAu3B,IACfC,EAAQjG,EAAajV,QAAO,SAAA/O,GAAC,OAAIA,EAAEkqB,gBAAkBF,EAAGE,kBAC9CtuB,OAAS,GAAKquB,EAAM,GAAGxqB,eAAe,gBAC5CsqB,EAAYjuB,KAAKmuB,EAAM,GAAG9B,cAE1B2B,EAAWhuB,KAAKkuB,QAIpBF,EAAWluB,OAAS,GAzClB,wBA0CFkuB,EAAaxtB,KAAMuV,eAAeiY,GA1ChC,WAAAtuB,EAAA,MA2CIO,KAAMgW,KAAK,uBAAwB,CAAEiS,aAAc8F,EAAYzrB,MAAO,aAAc1K,QAAS,kBAC9FwI,MAAK,SAAAguB,GACFA,EAAM53B,KAAKE,SAAQ,SAAAuN,GAAC,OAAI+pB,EAAYjuB,KAAKkE,EAAEoqB,sBA7CjD,0BAAA5uB,EAAA,MA+CIO,KAAMC,IAAI,qBACXG,MAAK,SAAAC,GACF,IAAM4nB,EAAe1nB,KAAMC,aAAaH,EAAI7J,MAC5C,EAAKyc,SAAS,CAAEgV,qBAlDtB,eAsDFqG,EAAiB,CACjBzR,eAAgBnT,EAAgB4J,cAChC5R,aACA6sB,OAAQ,UACRtG,aAAc+F,GAGlBptB,OAAO+J,QAAQ2jB,GAAgB53B,SAAQ,YAAa,IAAD,mBAAV+U,EAAU,KAAP1U,EAAO,KAC1CA,GAAW,KAANA,UAAiBu3B,EAAe7iB,MA9DxC,YAAAhM,EAAA,MAmEAO,KAAMgW,KAAK,qBAAsBsY,GAClCluB,MAAK,SAAAE,GACFgtB,EAAehtB,EAAE9J,KAAK,GAAGg4B,kBArE3B,WAwENF,EAAehB,aAAeA,GAE1BK,EA1EE,iBA+EF,IAJAnD,EAAa7T,OAAO,YAAa,cACjC6T,EAAa7T,OAAO,YAAajN,EAAgB4J,eACjDkX,EAAa7T,OAAO,eAAgB2W,GACpC9C,EAAa7T,OAAO,eAAgBqX,GA9ElC,6BA+EF,EAAiBL,EAAUhjB,UAA3B,+CAASC,EAA6B,QAClC4f,EAAa7T,OAAO/L,EAAK,GAAIA,EAAK,IAhFpC,6PAAAnL,EAAA,MAkFIO,KAAMgW,KAAK,qBAAsBwU,GAClCpqB,MAAK,SAAAE,GAAC,OAAIW,QAAQC,IAAIZ,EAAE9J,UAnF3B,2BAAAiJ,EAAA,MAqFIO,KAAMC,IAAN,oDAAuDqtB,IACxDltB,MAAK,SAAAE,GAAWA,EAAE9J,KAAK,IAAI8V,EAAMvM,KAAKO,EAAE9J,KAAK,QAtFhD,QA0FN42B,EAAajF,UACbiF,EAAartB,KAAKuuB,GAClBlB,EAAajF,UAEb,EAAKlV,SAAS,CACVma,eACA9gB,QACA4gB,YAAa,uFACbC,WAAY,CAAC,GACbzrB,WAAY,GACZisB,eAAW9mB,IAGf,EAAKsP,QAvGC,6EA5EI,EAsLd2W,WAAa,SAAM2B,GAAN,uBAAAhvB,EAAAC,OAAA,uDAED4M,EAAU,EAAKnW,MAAfmW,MACJzV,EAAK43B,EAAKnB,aACVoB,EAAepiB,EAAMjV,MAAK,SAAAoV,GAAC,OAAI1U,OAAO0U,EAAE0B,SAASmf,gBAAkBz2B,KAGnEu3B,EAPK,YAOO,EAAKj4B,MAAMi3B,cAPlB,WAAA3tB,EAAA,MASHO,KAAM4W,OAAN,gEAAsE/f,IACvEuJ,MAAK,SAAAE,GAAOW,QAAQC,IAAIZ,EAAE9J,UAVtB,OAYLk4B,GAAgBA,EAAahrB,eAAe,QAAQ1D,KAAMC,IAAN,0BAA6ByuB,EAAaC,MAE5F5xB,EAAIqxB,EAAMnS,QAAQwS,GACxBL,EAAM12B,OAAOqF,EAAG,GAEhB,EAAKkW,SAAS,CAAEma,aAAcgB,IAjBrB,sCAtLC,EA0Md9jB,YAAc,SAACoC,GACX,IAAIihB,EAAY,IAAInX,SACpBmX,EAAUhX,OAAO,WAAYjK,EAAK,IAClC,EAAKuG,SAAS,CAAE0a,YAAWT,YAAaxgB,EAAK,GAAGrK,QA7MtC,EAgNd0qB,QAAU,SAAAl2B,GAAO,IAGP63B,EAFY,EAAKv4B,MAAfmW,MAEmBjV,MAAK,SAAAoV,GAAC,OAAI1U,OAAO0U,EAAE0B,SAASmf,gBAAkBz2B,KAEzE,GAAI63B,EAAc,CAAC,IACPC,EAAkBD,EAAlBC,IAAKzgB,EAAawgB,EAAbxgB,SACb0Y,GAAS+H,EAAKzgB,EAAU,oBAExB,EAAK+E,SAAS,CAAElO,UAAW,gBAAiBD,iBAAiB,KAzNvD,EA6NdkoB,QAAU,WACN,IAAIjwB,EAAC,YAAO,EAAK5G,MAAMg3B,YACvBpwB,EAAEgD,KAAK,GACP,EAAKkT,SAAS,CAAEka,WAAYpwB,KAhOlB,EAmOdkwB,SAAW,WACP,IAAIlwB,EAAC,YAAO,EAAK5G,MAAMg3B,YACvBpwB,EAAEitB,MACF,EAAK/W,SAAS,CAAEka,WAAYpwB,KAtOlB,EAyOdoa,aAAe,kBAAM,EAAKlE,SAAS,CAAE6K,YAAa,EAAK3nB,MAAM2nB,cAzO/C,EA0OdxE,WAAa,kBAAM,EAAKrG,SAAS,CAAEnO,iBAAkB,EAAK3O,MAAM2O,mBA1OlD,EA2OdqR,MAAQ,kBAAM,EAAKlD,SAAS,CAAEH,cAAe,EAAK3c,MAAM2c,gBAzOpD,EAAKsE,YAAc,SAACxS,GACE,KAAdA,EAAEyS,SACE,EAAKlhB,MAAM2nB,YAAY,EAAK3G,gBAJ9B,E,iFA2BO,IAAD,OAEhBnX,KAAMC,IAAI,kDACLG,MAAK,SAAAE,GAAC,OAAI,EAAK2S,SAAS,CAAE3G,MAAOhM,EAAE9J,UAExCqF,SAAS0b,iBAAiB,UAAWxU,KAAKqU,aAAa,K,6CAGlCrU,KAAKkQ,SAAS,M,+BA0M7B,IAAD,EACmClQ,KAAK5M,MAApC2O,EADJ,EACIA,gBAAiBC,EADrB,EACqBA,UAE1B,OACI,kBAAC,IAAM5I,SAAP,KACI,kBAAC6S,GAAD,CAAQC,MAAO,CAAC,WAAY,aAAchG,KAAK,oCAC/C,kBAAC2lB,GAAD,CACIp4B,KAAMuM,KAAK5M,MACX2M,MAAOC,KAAKrH,MAAMoH,MAClB8C,YAAa7C,KAAK6C,YAClBknB,WAAY/pB,KAAK+pB,WACjBxiB,YAAavH,KAAKuH,YAClBuiB,QAAS9pB,KAAK8pB,QACdnd,aAAc3M,KAAK2M,aACnBsd,QAASjqB,KAAKiqB,QACdC,SAAUlqB,KAAKkqB,SACfF,QAAShqB,KAAKgqB,UAElB,kBAAC,GAAD,CAAYtb,KAAM1O,KAAK5M,MAAM2c,aAAc5K,MAAOnF,KAAKoT,MAAOxE,IAAK5O,KAAK5M,MAAM0c,WAC7E/N,GAAmB,kBAACgN,GAAD,CAAaL,KAAM3M,EAAiBoD,MAAOnF,KAAKuW,WAAYvU,UAAWA,EAAWkN,cAAelP,KAAK5M,MAAM6O,iB,GAlQlHpB,cCIxBvL,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCqQ,UAAW,CACPlO,QAAS,OACTmO,SAAU,OACV7P,QAAST,EAAMkB,QAAQ,IAE3B8B,MAAO,CACHzC,MAAO,OACP2E,WAAY,IACZ8H,UAAW,UAEfJ,UAAW,CACPC,WAAY7M,EAAMkB,QAAQ,GAC1B4L,YAAa9M,EAAMkB,QAAQ,GAC3BoB,MAAO,IACP0C,SAAU,SACV+H,UAAW,OACXC,UAAW,UAEfyD,WAAY,CACRnO,MAAO,KAEX4K,WAAY,CACRjL,UAAW,OAEfa,MAAO,CACHrC,QAAST,EAAMkB,QAAQ,GACvB8L,UAAW,SACXzM,MAAOP,EAAMa,QAAQ6P,KAAKC,UAC1BxD,OAAQnN,EAAMkB,QAAQ,IAE1BuN,KAAM,CACFtB,OAAQnN,EAAMkB,QAAQ,GACtBoB,MAAO,IACP0C,SAAU,SACV+H,UAAW,OACXC,UAAW,UAEf8jB,WAAY,CACR7uB,UAAW,OACXxB,QAAS,WAEbswB,UAAW,CACP9vB,aAAc,KACdR,QAAS,QAEbgwB,QAAS,CACLtjB,OAAQ,QAEZujB,YAAa,CACTvjB,OAAQ,SACRqG,OAAQ,iBACRC,aAAc,KACdnN,OAAQ,OACR7F,QAAS,OACTmP,OAAQ,UACR+gB,OAAQ,IACRC,UAAW,gCACX5rB,SAAU,UACVzE,MAAO,UACPD,gBAAiB,WAErBuwB,aAAc,CACV1jB,OAAQ,SACRqG,OAAQ,iBACRC,aAAc,KACdnN,OAAQ,OACR7F,QAAS,YACTmP,OAAQ,UACR+gB,OAAQ,IACRC,UAAW,gCACX5rB,SAAU,UACVzE,MAAO,SACPD,gBAAiB,eAKV,SAASg2B,GAAT,GACqD,IADxB1lB,EACuB,EADvBA,SAAU3S,EACa,EADbA,KAAMgzB,EACO,EADPA,YAAa3jB,EACN,EADMA,WAAYD,EAClB,EADkBA,YACjF2jB,EAA+D,EAA/DA,SAAUjf,EAAqD,EAArDA,YAAakU,EAAwC,EAAxCA,WAAYiL,EAA4B,EAA5BA,WAAY/Z,EAAgB,EAAhBA,aAGzCnF,EAAiD/T,EAAjD+T,YAAa4f,EAAoC3zB,EAApC2zB,eAAgBzgB,EAAoBlT,EAApBkT,gBAC/B/N,EAAUtD,KACRgD,EACiDM,EADjDN,MAAOuN,EAC0CjN,EAD1CiN,UAAWrN,EAC+BI,EAD/BJ,MAAO8tB,EACwB1tB,EADxB0tB,WAAYL,EACYrtB,EADZqtB,QACnCC,EAA+CttB,EAA/CstB,YAAaG,EAAkCztB,EAAlCytB,aAAcpiB,EAAoBrL,EAApBqL,KAAMsiB,EAAc3tB,EAAd2tB,UAEnCtjB,EAAe,SAACrP,GAElB,IAAMqH,EAAQxH,EAAKG,EAAGyL,OAEtB,OAAIzL,EAAGyP,SAAWpI,EACqB,OAA5BA,EAAMlG,MAAMnB,EAAGyP,SAEtBpI,EAAQrH,EAAGsP,KAAOjI,EAAQrH,EAAGuP,KAI/BG,EAAS,SAAC1P,GACZ,IAAMqH,EAAQxH,EAAKG,EAAGyL,OAEtB,OAAIpE,EAAQrH,EAAGsP,KAAOjI,EAAQrH,EAAGuP,IAAY,oBACpClI,GAAqC,OAA5BA,EAAMlG,MAAMnB,EAAGyP,SAA0B,SAClDzP,EAAGyP,SAAWpI,GAAqC,OAA5BA,EAAMlG,MAAMnB,EAAGyP,SAA0B,SAC7D,KAGhB,OACI,kBAAC0D,GAAA,EAAD,CACIlB,WAAS,EACTmB,UAAU,MACVlN,UAAW+L,EACXoB,QAAQ,UAER,kBAAC2N,GAAD,CACInhB,KAAMA,EACN2S,SAAUA,EACVvD,YAAaA,EACbC,WAAYA,IAIJ,kBAACiE,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,IACnB,kBAACD,GAAA,EAAD,CAAOpN,UAAWxB,GAEVoqB,GAAW3uB,KAAI,SAACH,EAAIoG,GAAL,OACX,kBAAC,WAAD,CAAUI,IAAKJ,GACX,kBAACuJ,GAAA,EAAD,CACIjE,KAAM1L,EAAGyL,MACT7D,MAAO5H,EAAG4H,MACVmH,OAAO,SACP7I,UAAWlB,EAAQwJ,UACnB/G,SAAUwH,EACVW,OAAQV,EACRxP,KAAMM,EAAGN,MAAQ,GACjBmQ,MAAOR,EAAarP,GACpB8O,WAAYY,EAAO1P,GACnB8P,oBAAqB,CACjB5J,UAAWlB,EAAQ8J,YAEvBD,OAAQ7O,EAAG6O,SAAU,EACrBxH,MAAOxH,EAAKG,EAAGyL,QAAU,GACzBsE,SAAU/P,EAAG+P,SACbC,gBAAiB,CACb9J,UAAWlB,EAAQwJ,UACnByB,OAAoB,SAAZjQ,EAAGN,WAAmBwQ,EAC9BxJ,MAAO,CAAEE,SAAU,SAAUzE,MAAO,UAAWU,aAAc,OAEjEsN,WAAY,CACRzJ,MAAO,CAAEjC,WAAYzE,EAAG+P,UAAYlQ,EAAKuQ,QAAU,OAAS,UAAWlI,OAAQ,OAC/Eb,MAAM,GAAD,OAAKxH,EAAKG,EAAGyL,QAAU,IAC5B4E,KAAMrQ,EAAGuO,UAAY,GACrB+B,UAAWtQ,EAAGsQ,WAAa,GAC3BC,UAAWvQ,EAAGuQ,WAAa,GAC3BjB,IAAKtP,EAAGsP,KAAO,IAEnBvJ,QAAS/F,EAAG+F,SAAW,eAMvC,kBAACJ,EAAA,EAAD,CAAQxD,MAAM,UAAU+D,UAAWysB,EAAW5rB,QAAS6rB,GACnD,kBAAC,KAAD,MADJ,yBAOR7f,GAA6C,IAA1BygB,EAAetqB,QAClC,kBAACiK,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,IACX,kBAACD,GAAA,EAAD,CAAOpN,UAAWxB,GAAlB,mCACkCqO,EAAgBL,cAMtD8gB,EAAetqB,OAAS,GAAK6J,GAAmB,kBAACI,GAAA,EAAD,CAAMlB,WAAS,EAC3DmB,UAAU,MACVlN,UAAW+L,EACXoB,QAAQ,SACR8B,WAAW,UACX,kBAAChC,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,IACX,kBAACD,GAAA,EAAD,CAAOpN,UAAWxB,GACd,uBAAGwB,UAAWtB,GAAd,yBACC4uB,EAAerzB,KAAI,SAACQ,EAAGyF,GAAJ,OAChB,kBAAC+M,GAAA,EAAD,CAAM3M,IAAKJ,GACN0oB,GAAW3uB,KAAI,SAAC8N,EAAG6G,GAAJ,OACZ,kBAAC,WAAD,CAAUtO,IAAKsO,EAAI,KACf,kBAACnF,GAAA,EAAD,CACItI,MAAO1G,EAAEsN,EAAExC,QAAU,GACrBC,KAAMuC,EAAExC,MACR7D,MAAOqG,EAAErG,MACT1B,UAAWmK,EACXN,SAAsB,aAAZ9B,EAAExC,QAA8B9K,EAAEonB,KAC5CtgB,SAAUqrB,EACV9iB,gBAAiB,CAAEC,QAAQ,EAAMvJ,MAAO,CAAEI,WAAY,MACtDqJ,WAAY,CAAEzJ,MAAO,CAAEE,SAAU,iBAI7C,kBAACjB,EAAA,EAAD,CAAQG,UAAU,OAAOI,UAAWwsB,EAAY9tB,MAAM,SAASmC,QAAS,kBAAM8gB,EAAWzhB,KACrF,kBAAC,KAAD,OAEJ,kBAACT,EAAA,EAAD,CAAQO,UAAWwsB,EAAYvwB,MAAM,YAAYyC,MAAM,UAAUmC,QAAS,kBAAM8rB,EAAYzsB,KACxF,kBAAC,KAAD,YAKhB,kBAAC,KAAD,CAAU8N,OAAQP,IACb,gBAAGQ,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,cAAjB,OACG,kBAACjB,GAAA,EAAD,eAAMlB,WAAS,EAACoB,QAAQ,SAAS8B,WAAW,SAASjP,UAAWmsB,EAASjf,UAAU,OAAUe,KACzF,0BAAWC,KAEPR,EAAYzS,MAAM,aACd,kBAACgS,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,EAAGrN,UAAWosB,GAA7B,IAA4C1e,EAA5C,KAEA,kBAACT,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,EAAGrN,UAAWusB,GAA7B,IAA4C,kBAAC,KAAD,MAA5C,KAA0E7e,EAA1E,IAAuF,6BAAvF,uDAKpB,kBAACT,GAAA,EAAD,CAAMlB,WAAS,EAACmB,UAAU,MAAMC,QAAQ,WAAW3M,MAAO,CAAExC,MAAO,WAC/D,kBAACiP,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,GAAI7M,MAAO,CAAExC,MAAO,YACnC,kBAACiP,GAAA,EAAD,CAAMzL,MAAI,EAAC6L,GAAI,EAAG7M,MAAO,CAAEV,MAAO,UAC9B,kBAACL,EAAA,EAAD,CACIC,KAAK,QACLzD,MAAM,UACN4D,QAAQ,YACRW,MAAO,CAAEqI,OAAQ,gBACjBhI,QAAS,kBAAMgS,MALnB,UAOW,2CAPX,IAOsC,kBAAC,KAAD,Y,IC0DvDiD,MAFK,CAAC,WAAY,U,2MArS7Bxc,MAAQ,CACJkT,YAAa,GACbwJ,SAAU,qBACVC,cAAc,EACdxG,MAAO,GACPyG,UAAW,GACX+K,YAAY,EACZgR,YAAa,GACbnF,YAAa,CAAC,GACdC,WAAY,EACZO,eAAgB,GAChB5f,YAAa,wEACbsM,WAAW,G,EAUfjR,YAAc,SAAMhB,GAAN,2BAAAnF,EAAAC,OAAA,qDAEiB,EAAKhE,MAAMoH,MAAhCqG,EAFI,EAEJA,SAAUwe,EAFN,EAEMA,OACVtlB,EAASuC,EAAEyO,OAAXhR,KAEArE,EAAU4G,EAAEyO,OAAZrV,MAEN,EAAKiV,SAAL,eAAmB,EAAK9c,MAAxB,eAAgCkM,EAAOrE,KAE1B,gBAATqE,EATM,oBAUA8nB,EAVA,YAUqBxC,EAAO3U,QAAO,SAAA1b,GAAC,OAAIA,EAAE+R,cAAgBrL,MAC5D0L,EAAkBP,EAAS9R,MAAK,SAAAuN,GAAC,OAAIA,EAAEyE,cAAgBrL,KACvDmsB,EAAetqB,OAAS,EACxB,EAAKoT,SAAS,CAAEkX,iBAAgBzgB,oBAC7B,EAAKuJ,SAAS,CAAEkX,eAAgB,MACnCzgB,EAfE,mCAAAjK,EAAA,MAgBI,EAAKwT,SAAS,CAAE5J,YAAaK,EAAgBL,YAAaK,qBAhB9D,OAiBE1L,IAAU0L,EAAgBL,aAAa,EAAK4J,SAAS,CAAEvJ,qBAAiB7C,IAjB1E,wBAkBC,EAAKoM,SAAS,CAAEvJ,qBAAiB7C,IAlBlC,uC,EAsBdhB,WAAa,SAAMjB,GAAN,qBAAAnF,EAAAC,OAAA,gDACDyqB,EAAmB,EAAKh0B,MAAxBg0B,eACA9nB,EAASuC,EAAEyO,OAAXhR,KACFrE,EAAU4G,EAAEyO,OAAZrV,MAHG,KAIDqE,EAJC,OAKA,aALA,OAYA,UAZA,8BAMqB8nB,EAAe9yB,MAAK,SAAAuN,GAAC,OAAIA,EAAEmqB,WAAa/wB,OAE1D,EAAKiV,SAAS,CAAElO,UAAW,gBAAiBD,iBAAiB,IAC7D,EAAKmO,SAAS,CAAE8b,SAAU,MAT7B,gCAcG/wB,EAdH,uBAeGA,EAAQA,EAAM0C,QAAQ,IAAK,MAEf,KAjBf,oCAAAjB,EAAA,MAkBa,EAAKwT,SAAS,CAAE8W,MAAO,MAlBpC,QAmBO/rB,EAAQ,GACR,EAAKiV,SAAS,CAAElO,UAAW,iBAAkBD,iBAAiB,IApBrE,WAsBiB,MAAV9G,GAA2B,OAAVA,GAAmBjG,OAAOiG,GAtBlD,oCAAAyB,EAAA,MAwBa,EAAKwT,SAAS,CAAE8W,MAAO,MAxBpC,QAyBO,EAAK9W,SAAS,CAAElO,UAAW,iBAAkBD,iBAAiB,IAzBrE,wBA4BW8kB,EAAaO,EAAerzB,KAAI,SAAAQ,GAAC,OAAIS,OAAOT,EAAEyyB,UAC7CiF,QAAO,SAACvvB,EAAGsf,GAAJ,OAAUtf,EAAIsf,KAE1B6K,GAAc7xB,OAAOiG,GACrB,EAAKiV,SAAS,CAAE2W,aAAYG,MAAO/rB,IAhC1C,mF,EAyCburB,SAAW,4BAAA9pB,EAAAC,OAAA,mDACHioB,EAAS,EAAKxxB,MAAMg0B,eACpBN,EAAU,KAGV,EAAK1zB,MAAMyzB,WAAa,KALrB,uBAMH,EAAK3W,SAAS,CAAEnO,iBAAiB,EAAMC,UAAW,eAN/C,kBAOI,MAPJ,cAUP0gB,GAAW/uB,SAAQ,SAAA+X,GACf7N,OAAOC,OAAOgpB,EAAdjpB,OAAA,IAAAA,CAAA,GAA0B6N,EAAIrM,MAAQ,EAAKjM,MAAMsY,EAAIrM,YAEzDulB,EAAO/wB,QAAQizB,GAbR,WAAApqB,EAAA,MAeD,EAAKwT,SAAS,CAAEkX,eAAgBxC,KAf/B,OAiBPlC,GAAW/uB,SAAQ,SAAA+X,GACf,EAAKwE,SAAL,eAAiBxE,EAAIrM,MAAQ,QAEjCvG,SAASyY,kBAAkB,aAAa,GAAGC,QApBpC,uC,EAuBXiV,YAAc,SAAMjyB,GAAN,mBAAAkI,EAAAC,OAAA,mDAENioB,EAFM,YAEO,EAAKxxB,MAAMg0B,gBAExBtzB,EAAK8wB,EAAOpwB,GAAOuwB,QACnBmH,EAAiB,EAAKvzB,MAAMoH,MAAM6kB,QACrBsH,EAAe53B,MAAK,SAAAC,GAAC,OAAIA,EAAEwwB,UAAYjxB,KAN9C,kCAAA4I,EAAA,MASAO,KAAM4W,OAAN,uDAA6D/f,IAC9D6W,OAAM,SAAAC,GAAG,OAAI1M,QAAQC,IAAIyM,OAVxB,OAaVga,EAAOjwB,OAAOH,EAAO,GACrB,EAAK0b,SAAS,CAAEkX,eAAgBxC,IAdtB,sC,EAiBdnJ,WAAa,SAAAjnB,GAET,IAAI0yB,EAAY,EAAK9zB,MAAMg0B,gBACG,IAA1BF,EAAU1yB,GAAOmnB,KAAeuL,EAAU1yB,GAAOmnB,MAAO,GAExDuL,EAAUvzB,SAAQ,SAAAY,GAAC,OAAIA,EAAEonB,MAAO,KAChCuL,EAAU1yB,GAAOmnB,MAAO,GAE5B,EAAKzL,SAAS,CAAEkX,eAAgBF,K,EAIpCR,WAAa,SAAA7kB,GAAM,IACPvC,EAASuC,EAAEyO,OAAXhR,KACFrE,EAAU4G,EAAEyO,OAAZrV,MAEO,UAATqE,IAAkBrE,EAAQA,EAAM0C,QAAQ,IAAK,MACjD,IAAIupB,EAAY,EAAK9zB,MAAMg0B,eAAenX,QAAO,SAAA1b,GAAC,OAAe,IAAXA,EAAEonB,QAAe,GACjEnnB,EAAQ,EAAKpB,MAAMg0B,eAAelO,QAAQgO,GAEhDA,EAAU5nB,GAAQrE,EAElB,IAAIksB,EAAK,EAAK/zB,MAAMg0B,eACpBD,EAAG3yB,GAAS0yB,EAEZ,EAAKhX,SAAS,CAAEkX,eAAgBD,K,EAGpCxa,aAAe,oEAAAjQ,EAAAC,OAAA,qDAE+C,EAAKvJ,MAAzDuT,EAFK,EAELA,gBAAiB6gB,EAFZ,EAEYA,eAAgBJ,EAF5B,EAE4BA,eACjCxC,EAAW,EAAKjsB,MAAMoH,MAAtB6kB,SAGawC,EAAerzB,KAAI,SAAAQ,GAAC,OAAIS,OAAOT,EAAEyyB,UAC/CiF,QAAO,SAACvvB,EAAGsf,GAAJ,OAAUtf,EAAIsf,KAEP,KATR,uBAUP,EAAK9L,SAAS,CAAEnO,iBAAiB,EAAMC,UAAW,eAV3C,kBAWA,MAXA,UAePmqB,EAAa,GAAInB,EAAa,GAC9BvD,EAAe,IAAIhU,UACnB3C,EAAO4R,GAAW3uB,KAAI,SAAAH,GAAE,OAAI4J,KAAM0f,WAAWtpB,EAAGyL,WAC/C1K,OAAO,EAAG,GAEfyyB,EAAezzB,SAAQ,SAAAwzB,GAAO,IAAD,EACuBA,EAATnK,GADd,EACnB1W,YADmB,EACN8b,UADM,EACKzG,KADL,mDAIzB,IAFAwL,EAAKnK,GACFzM,cAAgB5J,EAAgB4J,cAC9B4W,EAAGxmB,eAAe,WASnBwrB,EAAWnvB,KAAKmqB,UACTgF,EAAWpH,YAVa,CAC/B,IAAMoG,EAAQvG,EAAOtwB,MAAK,SAAAC,GAAC,OAAIA,EAAEy3B,WAAa7E,EAAG6E,YAC7Cb,GACAhE,EAAGpC,QAAUoG,EAAMpG,QACnBoH,EAAWnvB,KAAKmqB,IAEhB6D,EAAWhuB,KAAKmqB,OAQtB5nB,EAAQ,SAAU1K,EAAU,WAC9BooB,EAAc,GAAImP,EAAS,GAEzBC,EAAY7uB,KAAMC,aAAa,EAAKrK,MAAMi5B,WAEhDF,EAAWx4B,SAAQ,SAAA8oB,GACf4P,EAAU14B,SAAQ,SAAAY,GACVkoB,EAAEsI,UAAYxwB,EAAEwwB,UAChBlnB,OAAOiT,KAAK2L,GAAG9oB,SAAQ,SAAAyG,GACfqiB,EAAEriB,KAAS7F,EAAE6F,IAAgB,YAARA,GACrByD,OAAOC,OAAOsuB,EAAdvuB,OAAA,IAAAA,CAAA,GAAyBzD,EAAMqiB,EAAEriB,QAGrCyD,OAAOiT,KAAKsb,GAAQtvB,OAAS,GAAGmgB,EAAYjgB,KAAKovB,GACrDA,EAAS,UAKrBD,EAAa3uB,KAAMuV,eAAekK,GAClC+N,EAAaxtB,KAAMuV,eAAeiY,GAC9BsB,EAAgBlF,EACfnX,QAAO,SAAA1b,GAAC,YAAkBuP,IAAdvP,EAAEwwB,WACdhxB,KAAI,SAAAQ,GAAC,OAAIA,EAAEwwB,WA7DL,YAgEHoH,EAAWrvB,OAAS,GAhEjB,oCAAAJ,EAAA,MAiEGO,KAAMuW,IAAI,kBAAmB,CAAE9T,aAAcysB,EAAY5sB,QAAO1K,UAASic,SAC1EzT,MAAK,SAAAE,GAAC,OAAIW,QAAQC,IAAIZ,EAAE9J,UAlE1B,aAqEHu3B,EAAWluB,OAAS,GArEjB,oCAAAJ,EAAA,MAsEGO,KAAMgW,KAAK,iBAAkB,CAAE2R,OAAQoG,EAAYzrB,QAAO1K,YAC3DwI,MAAK,SAAAE,GAAC,OAAIA,EAAE9J,KAAKE,SAAQ,SAAA44B,GAAQ,OAAID,EAActvB,KAAKuvB,EAASC,iBAvEnE,YA0EHhF,EA1EG,iBA8EH,IAHAC,EAAa7T,OAAO,YAAajN,EAAgB4J,eACjDkX,EAAa7T,OAAO,SAAU0Y,GA5E3B,6BA8EH,EAAiB9E,EAAe5f,UAAhC,+CAASC,EAAkC,QACvC4f,EAAa7T,OAAO/L,EAAK,GAAIA,EAAK,IA/EnC,6PAAAnL,EAAA,MAiFGO,KAAMgW,KAAK,qBAAsBwU,GAClCpqB,MAAK,SAAAE,GAAC,OAAIW,QAAQC,IAAIZ,EAAE9J,UAlF1B,2DAqFPyK,QAAQC,IAAR,MArFO,QAwFXguB,EAAa,GACblP,EAAc,GACdmP,EAAS,GACTpB,EAAa,GACb,EAAK5X,QAECqZ,EAAcjvB,KAAMuV,eAAe,EAAKpa,MAAMoH,MAAM6kB,QAC1D,EAAK1U,SAAS,CACV5J,YAAa,GAAIK,qBAAiB7C,EAAWsjB,eAAgB,GAC7D5f,YAAa,wEACbggB,oBAAgB1jB,EAChBuoB,UAAWI,IAnGJ,qF,EAuGfllB,YAAc,SAACoC,GAEX,IAAIrC,EAAW,IAAImM,SACnBnM,EAASsM,OAAO,iBAAkBjK,EAAK,IACvC,EAAKuG,SAAS,CAAE1I,YAAamC,EAAK,GAAGrK,KAAMkoB,eAAgBlgB,K,EAG/D8M,aAAe,kBAAM,EAAKlE,SAAS,CAAE6K,YAAa,EAAK3nB,MAAM2nB,c,EAC7DxE,WAAa,kBAAM,EAAKrG,SAAS,CAAEnO,iBAAkB,EAAK3O,MAAM2O,mB,EAChEqR,MAAQ,kBAAM,EAAKlD,SAAS,CAAEH,cAAe,EAAK3c,MAAM2c,gB,mFAzPpD,IAAMsc,EAAY7uB,KAAMuV,eAAe/S,KAAKrH,MAAMoH,MAAM6kB,QACxD5kB,KAAKkQ,SAAS,CAAEmc,gB,6CAGKrsB,KAAKkQ,SAAS,M,+BAuP7B,IAAD,EACkClQ,KAAK5M,MAApC2O,EADH,EACGA,gBAAiBC,EADpB,EACoBA,UACnBoE,EAAapG,KAAKrH,MAAMoH,MAAxBqG,SAEN,OACI,kBAAC,IAAMhN,SAAP,KACI,kBAAC6S,GAAD,CAAQC,MAAO,CAAC,WAAY,aAAchG,KAAK,4CAC/C,kBAAC4lB,GAAD,CACIr4B,KAAMuM,KAAK5M,MACXgT,SAAUA,EACVvD,YAAa7C,KAAK6C,YAClBC,WAAY9C,KAAK8C,WACjB0jB,SAAUxmB,KAAKwmB,SACfC,YAAazmB,KAAKymB,YAClBhL,WAAYzb,KAAKyb,WACjBiL,WAAY1mB,KAAK0mB,WACjBnf,YAAavH,KAAKuH,YAClBoF,aAAc3M,KAAK2M,eAEvB,kBAAC,GAAD,CAAY+B,KAAM1O,KAAK5M,MAAM2c,aAAc5K,MAAOnF,KAAKoT,MAAOxE,IAAK5O,KAAK5M,MAAM0c,WAC7E/N,GAAmB,kBAACgN,GAAD,CAAaL,KAAM3M,EAAiBoD,MAAOnF,KAAKuW,WAAYvU,UAAWA,S,GAjSnFnB,c,qBCbX6rB,GACA,CACLl0B,MAAO,CACH0N,KAAM,0CACNtM,MAAO,SACPnC,UAAW,GACXk1B,QAAS,EACTC,QAAS,EACTC,UAAU,EACVvyB,MAAO,CACHE,SAAU,OACVE,WAAY,IACZH,WAAY,qDAGpBuyB,OAAQ,CAAEC,MAAM,GAChBC,MAAO,CACHl5B,GAAI,2BAERm5B,MAAO,CACHniB,OAAQ,CACJxQ,MAAO,CACHE,SAAU,MACVE,WAAY,IACZH,WAAY,sDAIxB2yB,WAAY,CACRC,SAAS,GAGbC,YAAa,CAAEC,IAAK,CAAE5e,YAAY,KAI7B6e,GACA,CACL90B,MAAO,CACH0N,KAAM,wDACNtM,MAAO,SACPnC,UAAW,GACXhB,aAAc,GACdk2B,QAAS,EACTC,QAAS,EACTC,UAAU,EACVvyB,MAAO,CACHE,SAAU,OACVE,WAAY,IACZH,WAAY,qDAGpB6yB,YAAa,CACTG,IAAK,CACDC,MAAO,CACH1iB,OAAQ,CACJiiB,MAAM,EACNztB,KAAM,CACFytB,MAAM,EACNvyB,SAAU,OACVD,WAAY,mDACZG,WAAY,IACZ3E,MAAO,UACP62B,SAAU,IAEd3xB,MAAO,CACH8xB,MAAM,EACNvyB,SAAU,OACVD,WAAY,+BACZG,WAAY,IACZ3E,MAAO,UACP62B,QAAS,GACTa,UAAW,SAAUC,GACjB,OAAOA,IAGfC,MAAO,CACHZ,MAAM,EACNa,YAAY,EACZpyB,MAAO,SACPhB,SAAU,OACVD,WAAY,+BACZG,WAAY,IACZ3E,MAAO,eAM3B83B,WAAY,CAAC,CACTC,WAAY,IACZppB,QAAS,CACLsoB,MAAO,CACHl1B,MAAO,KAEXg1B,OAAQ,CACJ12B,SAAU,cCaf23B,I,OArGY,SAAC,GAE6D,IADnF3nB,EACkF,EADlFA,SAAUE,EACwE,EADxEA,YAAaK,EAC2D,EAD3DA,gBAAiBqnB,EAC0C,EAD1CA,iBAAkBljB,EACwB,EADxBA,OAAQC,EACgB,EADhBA,OAAQkjB,EACQ,EADRA,YAAanL,EACL,EADKA,UAAWoL,EAChB,EADgBA,YAAaC,EAC7B,EAD6BA,KAC7GtrB,EAAgF,EAAhFA,YAAaurB,EAAmE,EAAnEA,gBAAiBC,EAAkD,EAAlDA,gBAAiBC,EAAiC,EAAjCA,YAAaC,EAAoB,EAApBA,cAIhE,OACI,0BAAMz0B,UAAU,cACZ,kBAAC8a,GAAD,CACIxO,SAAUA,EACV3S,KAAM,CAAE6S,eACRzD,YAAaA,IAEdmrB,GAAgD,IAA5BA,EAAiBlxB,OAEpC,oCACI,wBAAIxC,MAAO,CAAExC,MAAO,OAAQ0K,UAAW,WACjCmE,EAAiDA,EAAgBL,YAA/C,gCADxB,kCACgH4nB,EADhH,2CAC+JC,EAD/J,KAGA,kBAACjnB,GAAA,EAAD,KACI,6BAASpN,UAAU,gBACf,kBAAC,KAAD,CACI4K,QAAO,eAAOgoB,GAAP,CAAyBO,MAAM,eAAMP,GAAiBO,MAAxB,CAA+BuB,WAAY1jB,MAChF2jB,OAAQ,CAAC,CAAEnvB,KAAM,cAAY7L,KAAMsX,IACnCzX,KAAK,MACLwE,MAAM,QAEV,kBAAC,KAAD,CACI4M,QAAO,eAAO4oB,GAAP,CAA2BxiB,SAAQ4jB,OAxBvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,aAyB9ID,OAAQ1jB,EACRzX,KAAK,QACLwE,MAAM,UAIlB,kBAACoP,GAAA,EAAD,KACI,iCACI,+BACI,+BACI,4BACI,wBAAIpN,UAAU,UACVQ,MAAO,CAAEvE,MAAO,OAAQD,gBAAiB,0BACzCmV,QAASgjB,EAAYnxB,QAFzB,yBAEsD6J,EAAiDA,EAAgBL,YAA/C,gCAFxE,OAIJ,4BACK2nB,EAAYl6B,KAAI,SAACyN,EAAGxH,GAAJ,OAAU,wBAAII,IAAKoH,GAAIA,QAGhD,+BAEQshB,EAAU/uB,KAAI,SAAC46B,EAAa30B,GAAd,OACV,wBAAII,IAAKJ,GACJ20B,EAAY56B,KAAI,SAACy1B,EAAGte,GAAJ,OACb,wBAAIpR,UAAU,qBAAqBM,IAAK8Q,GACnCse,cAWrC,6BAAS1vB,UAAU,gBACf,kBAAC,KAAD,CACI4K,QAAS,CACLlM,MAAM,eACC80B,GAAmB90B,MADrB,CAED0N,KAAK,qBAAD,OAAuBkoB,EAAvB,wBAAsDC,KAE9DvjB,OAAQ,CAAC,mBAAoB,oBAC7B4jB,OAAQ,CAAC,UAAW,YAExBD,OAAQ,CAACz5B,OAAOo5B,GAAkBp5B,OAAOq5B,IACzC/6B,KAAK,MACLwE,MAAM,QAEV,kBAAC,KAAD,CACI4M,QAAS,CACLlM,MAAM,eACC80B,GAAmB90B,MADrB,CAED0N,KAAK,6BAAD,OAA+BooB,EAA/B,gCAAkEC,KAE1EzjB,OAAQ,CAAC,kCAAgC,oCACzC4jB,OAAQ,CAAC,UAAW,YAExBD,OAAQ,CAACz5B,OAAOs5B,GAAct5B,OAAOu5B,IACrCj7B,KAAK,MACLwE,MAAM,MACNgE,OAAO,UA9EiC,gEAAmC6K,EAAgBL,gBChBjHsoB,GAAM,SAAAze,GACR,IAAI0e,EAAQ,YAAO1e,GAEnB,GADA0e,EAASC,QACLD,EAAS,GAET,OADcA,EAAS5C,QAAO,SAACvvB,EAAGsf,GAAJ,OAAUtf,EAAIsf,MAkB9C+S,GAAe,SAAAvwB,GAEjB,OAAOA,EACFyR,QAAO,SAAA1S,GAAC,OAAKA,EAAEoB,YAAe+C,KAAOnE,EAAEoB,YAAYgD,WAAaD,KAAOnE,EAAEoB,YAAY8mB,SAAS/jB,SAAanE,EAAEsB,WAAatB,KAC1HT,QAuKM8S,MAFK,CAAC,WAAY,aAlKd,SAAAjX,GAAU,IAsBrBq2B,EAAYhB,EAtBQ,EAGKr1B,EAAMoH,MAA7BnL,EAHkB,EAGlBA,SAAUwR,EAHQ,EAGRA,SAHQ,EAIYvN,mBAAS,IAJrB,mBAInByN,EAJmB,KAIN2oB,EAJM,OAKYp2B,wBAASiL,GALrB,mBAKnB6C,EALmB,KAKFuoB,EALE,OAMOr2B,mBAAS,IANhB,mBAMnBs2B,EANmB,KAMPC,EANO,OAOGv2B,mBAAS,IAPZ,mBAOnBw2B,EAPmB,KAOTC,EAPS,OAQYz2B,mBAAS,IARrB,mBAQnBy1B,EARmB,KAQNiB,EARM,KAuBpB5oB,GAAuC,KAApBA,GACnBqoB,EAAaroB,EAAgB4J,cAC7Byd,EAAmBp5B,EACdqb,QAAO,SAAAjc,GAAC,OAAIA,EAAEuc,gBAAkBye,MAClChB,EAAmBp5B,EAK1B,IACI46B,EACIxB,EACKj6B,KAAI,qBAAG8d,iBACP5B,QAAO,SAAAwf,GAAG,OAAY,OAARA,KACdvY,OAETgX,EAAcsB,EAAOvD,QAAO,SAACvvB,EAAGsf,GAAJ,OAAUtf,EAAIsf,EAAIwT,EAAO1yB,SAAQ,GACjEoxB,IAAe,IAAIrpB,MAAOC,cAAgBopB,GAAapf,QAAQ,GAI/D,IAAI4gB,EAAU,GACdF,EAAO77B,SAAQ,SAAUkO,QACFiC,IAAf4rB,EAAQ7tB,KACR6tB,EAAQ7tB,GAAK,GAEjB6tB,EAAQ7tB,IAAM,KAIlB,IACI8tB,EAAiB9xB,OAAOiT,KAAK4e,GAC7B5kB,EAAM,YAAO6kB,EAAezY,MAAK,SAACxa,EAAGsf,GAAJ,OAAUtf,EAAIsf,MAC/CjR,EAASlN,OAAOkN,OAAO2kB,GAEvBhkB,EAAM,GAAIkkB,EAAM,GAAIC,EAAc,GACtC/kB,EAAOnX,SAAQ,SAAA87B,GACXzB,EAAiBr6B,SAAQ,SAAAK,GACuC,IAAD,EAAvDA,EAAE6d,eAAiB7d,EAAE6d,cAAczO,aAAeqsB,IAClDG,EAAI5yB,KAAK,CAAE6B,UAAW7K,EAAE6K,UAAWmT,UAAWhe,EAAEge,YAC3CtG,EAAI+jB,IACJ,EAAA/jB,EAAI+jB,IAAKzyB,KAAT,oBAAiB4yB,IADPlkB,EAAI+jB,GAAOG,EAE1BA,EAAM,OAGdC,EAAYJ,GAAO/jB,EAAI+jB,GACvB/jB,EAAM,MAGV,IAAIokB,EAAU,EAAGC,EAAmB,CAAC,oBAAqBC,EAAe,GAAIC,EAAiB,CAAC,uBAE/FpyB,OAAOiT,KAAK+e,GAAal8B,SAAQ,SAAAu8B,GAC7BL,EAAYK,GAAMv8B,SAAQ,SAAAK,GACtB87B,GAAW97B,EAAEge,aAGjB+d,EAAiB/yB,KAAK8yB,GACtBG,EAAejzB,MAAM8yB,EAAUD,EAAYK,GAAMpzB,QAAQgS,QAAQ,IAEjE,IAAMqhB,EAAMJ,EAAiB9D,QAAO,SAACvvB,EAAGsf,GAAJ,OAAUtf,EAAIsf,IAAG,GACrDgU,EAAahzB,KAAKmzB,GAClBL,EAAU,KAGdC,EAAiB/yB,KAAK4xB,GAAImB,IAE1B,IACI9B,EAAc,CAAC,OACfU,EAAc,CAAC,wBAEnBV,EAAYjxB,KAAZ,MAAAixB,EAAW,YAASnjB,GAAT,QAAiB,WAC5B6jB,EAAY3xB,KAAZ,MAAA2xB,EAAW,YAAS5jB,IACpB4jB,EAAY3xB,KAAK4xB,GAAID,IACrBsB,EAAejzB,KApHH,SAAAmT,GACZ,IAAI0e,EAAW1e,EAAMpc,KAAI,SAAAg3B,GAAC,OAAI/1B,OAAO+1B,MAGrC,GAFA8D,EAASC,QAELD,EAAS,GAKT,OAHUA,EAAS5C,QAAO,SAACvvB,EAAGsf,GAAJ,OAAUtf,EAAIsf,KACpB6S,EAAS/xB,QAEdgS,QAAQ,GA2GPshB,CAAQH,IAE5B,IAAMnN,EAAY,CAAC6L,EAAasB,EAAgBF,GAG5C5B,EAAOwB,EAAezY,MAAK,SAACxa,EAAGsf,GAAJ,OAAU0T,EAAQhzB,GAAKgzB,EAAQ1T,MAC9DmS,EAAOA,EAAKA,EAAKrxB,OAAS,GAG1B,IAAMuzB,GAAc,IAAIxrB,MAAOC,cAE/B3L,qBAAU,WAEN,IACIk3B,GAAc,IAAIxrB,MAAOC,cACzBwrB,EAAUvB,GAAaf,GACvBuC,EAAavC,EACR/d,QAAO,SAAAjc,GAAC,OAAIq8B,EAAcr8B,EAAE6d,cAAgB,IAA0B,OAApB7d,EAAE6d,iBACpD/U,OAETsyB,EAAWkB,GACXhB,EAAStB,EAAiBlxB,OAASwzB,GACnCf,EAAegB,KAEhB,CAACvC,IAEJ,IAA0BK,EAAiBmC,EAAiBjC,EAAxDH,EAAkB,GAmBtB,OAjBI9nB,EAAYxJ,OAAS,GAAK6J,GAC1BynB,EAAkBW,GAAaf,GAE/BwC,EAAkBxC,EACb/d,QAAO,SAAAjc,GAAC,OAAIq8B,EAAcr8B,EAAE6d,cAAgB,IAA0B,OAApB7d,EAAE6d,iBACpD/U,OAELuxB,EAAkBL,EAAiBlxB,OAASsxB,EAC5CG,EAAgBP,EAAiBlxB,OAAS0zB,IAG1CpC,EAAkBe,EAClBd,EAAkBgB,EAClBmB,EAAkBlC,EAClBC,EAAgBP,EAAiBlxB,OAASwxB,GAI1C,kBAAC,GAAD,CACIloB,SAAUA,EACVE,YAAaA,EACbwE,OAAQA,EACRC,OAAQA,EACRkjB,YAAaA,EACbnL,UAAWA,EACXnc,gBAAiBA,EACjBqnB,iBAAkBA,EAClBE,YAAaA,EACbC,KAAMA,EACNtrB,YA/IY,SAAAhB,GAAM,IAGlB2O,EAFIvV,EAAU4G,EAAEyO,OAAZrV,MACRg0B,EAAeh0B,GAGXA,EAAM6B,OAAS,GACf0T,EAAUpK,EAAS9R,MAAK,SAAAuN,GAAC,OAAIA,EAAEyE,cAAgBrL,OAClCi0B,EAAW1e,GAEvB0e,EAAW,KAuIZd,gBAAiBA,EACjBC,gBAAiBA,EACjBC,YAAakC,EACbjC,cAAeA,OC/LdkC,GAAY,CACrB,CACIpxB,MAAO,KACP7D,MAAO,qBACP0I,UAAW,IAEf,CACI7E,MAAO,WACP7D,MAAO,mBACPlI,KAAM,QAEV,CACI+L,MAAO,eACP7D,MAAO,mBACPiH,QAAQ,ICDDiuB,GAXD,SAAA/3B,GAAU,IACZkG,EAA2ClG,EAA3CkG,UAAW8xB,EAAgCh4B,EAAhCg4B,KAAM/xB,EAA0BjG,EAA1BiG,MAAOjE,EAAmBhC,EAAnBgC,QAASL,EAAU3B,EAAV2B,MAEzC,OACI,yBAAKxG,GAAI+K,EAAWlE,QAASA,EAASL,MAAOA,EAAOR,UAAU,kBAC1D,yBAAKA,UAAU,aAAa62B,GAC5B,yBAAK72B,UAAU,aAAa8E,KCJzB,SAASiM,GAAT,GAAyD,IAAhCtL,EAA+B,EAA/BA,MAAOzC,EAAwB,EAAxBA,OAAQtE,EAAgB,EAAhBA,MAAO8B,EAAS,EAATA,MAClDs2B,EAAyCrxB,EAAzCqxB,aAAcC,EAA2BtxB,EAA3BsxB,YAAaC,EAAcvxB,EAAduxB,UAgBnC,OACI,+BACI,+BACI,4BACI,wBAAIh3B,UAAU,UACVQ,MAAOA,EACP2Q,QAASnO,GAAStE,IAE1B,4BACKo4B,EAAa78B,KAAI,SAACyN,EAAGxH,GAAJ,OAAU,wBAAII,IAAKJ,EAAGM,MAAOA,GAAQkH,QAG/D,+BAEQqvB,EAAY98B,KAAI,SAACg9B,EAAO7lB,GAAR,OACZ,wBAAI9Q,IAAK8Q,GAED6lB,EAAMh9B,KAAI,SAAC2X,EAAK1R,GAAN,OACN,wBAAII,IAAKJ,EAAGM,MAAOA,EAAOR,UAAwB,SAAb4R,EAAIpY,MAAmBoY,EAAIslB,WAAa,QAAU,SACnFr2B,QAAS,iBAAoB,aAAd+Q,EAAIrM,OAAwBqM,EAAIslB,WAxBnE,SAAAl9B,GACZ,IAAM6V,EAAOmnB,EAAUx8B,MAAK,SAAAoV,GAAC,OAAIA,EAAE5V,KAAOA,KACtCA,GAAM6V,GAAMU,GAAaV,EAAK7V,GAAI6V,EAAKwB,SAAU,cAAexB,EAAKyB,SAAS3B,WAsBUugB,CAAQte,EAAIslB,YAAc,OACxE,SAAbtlB,EAAIpY,MAlCtB2H,EAkCmDyQ,EAAIzQ,MAjClEyG,KAAOzG,EAAO,6BAA6B,GAAM0G,UAC1CD,KAAOzG,EAAOyG,KAAO2J,UAAU,GAAMC,OAAO,cAG5CrQ,GA6BoEyQ,EAAIzQ,OAlCpE,IAAAA,W,cCFjBg2B,GAAavI,aAAW,CAC1BpwB,MAAO,CACH0Q,OAAQ,sBAFG0f,EAIhB,SAAC/vB,GAAD,OACC,kBAACu4B,GAAA,EAAD,eACIC,UAAW,EACXC,mBAAoB,KACpB7iB,aAAc,CACVC,SAAU,SACVC,WAAY,SAEhB4iB,gBAAiB,CACb7iB,SAAU,MACVC,WAAY,SAEZ9V,OAwBG24B,GApBK,SAAC,GAA4C,IAA1CC,EAAyC,EAAzCA,SAAUC,EAA+B,EAA/BA,YAAaC,EAAkB,EAAlBA,YAG1C,OACI,oCACI,kBAACR,GAAD,CACIn9B,GAAG,cACHy9B,SAAUA,EACVG,aAAW,EACXhjB,KAAMijB,QAAQJ,GACdxjB,QAASyjB,GAERC,EAAY19B,KAAI,WAAqBiG,GAArB,IAAGxB,EAAH,EAAGA,MAAOmC,EAAV,EAAUA,QAAV,OACb,kBAAC8J,GAAA,EAAD,CAAUrK,IAAOJ,EAAGW,QAASA,GAAUnC,S,0CCiJ5CoI,OAAMgxB,MApKE,SAAC,GAEkC,IADpDxrB,EACmD,EADnDA,SAAUE,EACyC,EADzCA,YAAaK,EAC4B,EAD5BA,gBAAiBkrB,EACW,EADXA,iBAAkB5d,EACP,EADOA,gBAAiB6d,EACxB,EADwBA,YAAa9uB,EACrC,EADqCA,cAAezD,EACpD,EADoDA,MACrGgyB,EAAiD,EAAjDA,SAAUQ,EAAuC,EAAvCA,SAAUvqB,EAA6B,EAA7BA,YAAawqB,EAAgB,EAAhBA,UAE7BnvB,EAAwFmvB,EAAxFnvB,YAAaovB,EAA2ED,EAA3EC,aAAcjU,EAA6DgU,EAA7DhU,YAAazW,EAAgDyqB,EAAhDzqB,YAAaoF,EAAmCqlB,EAAnCrlB,aAAculB,EAAqBF,EAArBE,UAAWC,EAAUH,EAAVG,MAEhFC,EAAc,SAAAC,GAChB,KAAIA,GAAUA,EAAO,IAAMA,EAAO,GAAGC,UAMhC,MAAO,CAAEx8B,gBAAiB,oBANiB,IACpCw8B,EAAaD,EAAO,GAApBC,SAER,OAAI5wB,KAAO4wB,EAAU5wB,KAAO2J,UAAU1J,WAAaD,KAAO4wB,GAAUC,QAAQ7wB,OAAS8wB,UAAkB,CAAE18B,gBAAiB,oBACtH4L,KAAO4wB,EAAU5wB,KAAO2J,UAAU1J,WAAaD,KAAO4wB,GAAU7M,SAAS/jB,OAAS8wB,UAAkB,CAAE18B,gBAAiB,yBAA3H,GAKR,OACI,6BACI,kBAACmW,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAchG,KAAK,WAC/C,kBAAC0O,GAAD,CACIxO,SAAUA,EACV3S,KAAM,CAAE6S,eACRzD,YAAaA,IAGb8D,GAAmB,oCACf,4BAAQ7M,UAAU,OAAOQ,MAAO,CAAE7D,aAAc,SAEvCwd,EAGG,kBAAC,GAAD,CACIpV,UAAWoV,EAAgBpV,UAC3BlE,QAASs3B,EACT33B,MAAK,eAAO83B,EAAYne,EAAgBoe,QAAnC,CAA4ChwB,WAAY,IAC7DsuB,KAAMhqB,EAAgB8rB,OACtB7zB,MAAOqV,EAAgBrV,QAP3B,8HAUR,6BACI,kBAAC2E,GAAA,EAAD,CACIQ,WAAY,CAAEzE,KAAM,SACpBsE,gBAAiB,CAAEtJ,MAAO,CAAEE,SAAU,WACtCgB,MAAM,UACNH,SAAUwH,IAEd,kBAAC,IAAD,CAAQvI,MAAO,CAAE7C,UAAW,YAInCwc,GACG,0BAAMna,UAAU,SACZ,6BACA,wBAAIQ,MAAO,CAAE8O,YAAa,OAAQ3R,UAAW,UAA7C,oIAGA,6BACA,6BACA,kBAACmL,GAAD,CACIG,KAAM0tB,GACNh9B,KAAMq+B,EACNjvB,YAAaA,EACbG,cAAeA,IAEnB,kBAACqE,GAAD,CACI/H,KAAK,WACLgI,SAAUyqB,EACVvqB,YAAaA,EACbD,YAAaA,EACbE,QAAQ,EACRnN,MAAO,CAAExC,MAAO,QAAS6K,OAAQ,sBAErC,kBAACpJ,EAAA,EAAD,CACIC,KAAK,QACLzD,MAAM,UACN+D,UAAU,aACVH,QAAQ,YACRgB,QAAS,kBAAMgS,KACfhJ,UAAWouB,GANf,WAaR,iCACI,4BACM9d,EAiBE,KAhBA,yBAAKna,UAAU,QACX,gDACiB+3B,EAAiB/0B,OADlC,sCAGA,yBAAKhD,UAAU,qBAAqBQ,MAAO,CAAEE,SAAU,WACnD,8BACI,0BAAMF,MAAO,CAAEo4B,WAAY,MAAO38B,MAAO,qBAAsB,kBAAC,KAAD,OADnE,kBAGA,8BACI,0BAAMuE,MAAO,CAAEo4B,WAAY,MAAO38B,MAAO,qBAAsB,kBAAC,KAAD,OADnE,8DAEA,8BACI,0BAAMuE,MAAO,CAAEo4B,WAAY,MAAO38B,MAAO,qBAAsB,kBAAC,KAAD,OADnE,iCAWlBke,GACE,6BAASna,UAAU,qBACd+3B,EAAiB99B,KAAI,SAACC,EAAGgG,GAAJ,OAClB,kBAAC,GAAD,CACII,IAAKJ,EACL6E,UAAW7K,EAAE6K,UACblE,QAASs3B,EACT33B,MAAO83B,EAAYp+B,EAAEq+B,QACrB1B,KAAMhqB,EAAgB8rB,OACtB7zB,MAAO5K,EAAE4K,YAOzB,kBAAC,GAAD,CACI2yB,SAAUA,EACVC,YAAaU,EACbT,YAAa,CAAC,CACVj5B,MAAO,WACPmC,QAASqjB,OAMxB/J,GAAmBA,EAAgBoe,QAChC,oCACsB,kBAAV9yB,EACJ,yBAAKzF,UAAU,QAAQQ,MAAO,CAAC7C,UAAW,OAAQK,MAAM,OAAQ7B,QAAS,IAAKgT,aAAc,MAAO0pB,SAAU,WACzG,kBAAC,GAAD,CACI71B,OAAQyC,EAAMqxB,aAAa9zB,OAC3BtE,MAAK,gDAAwCyb,EAAgBrV,OAC7DW,MAAOA,EACPjF,MAAO,CAAEkI,UAAW,SAAUvM,QAAS,YAI/C,oCACI,6BACA,6BACA,2BAAIsJ,IAGZ,yBAAKzF,UAAU,YAAYa,QAASw3B,GAChC,kBAAC,KAAD,CAAe34B,KAAK,UACpB,0BAAMc,MAAO,CAAErE,QAAS,cAAeoM,WAAY,MAAO7H,SAAU,SAApE,gBC/KXo4B,GAAc,CACvB,CACIvzB,MAAO,eACP7G,MAAO,oBAEX,CACI6G,MAAO,KACP7G,MAAO,sBAEX,CACI6G,MAAO,YACP7G,MAAO,sBACPlF,KAAM,QAEV,CACI+L,MAAO,WACP7G,MAAO,mBACPlF,KAAM,QAGV,CACI+L,MAAO,WACP7G,MAAO,QACPlF,KAAM,SC0QCsc,MADK,CAAC,WAAY,WAAY,gBAAiB,SAAU,yBAnRzD,SAAAjX,GAAU,IAAD,EAG6CA,EAAMoH,MAAjEnL,EAHc,EAGdA,SAAUwR,EAHI,EAGJA,SAAUysB,EAHN,EAGMA,cAAeR,EAHrB,EAGqBA,OAAQ9N,EAH7B,EAG6BA,YAE3CrxB,EAAY2K,OAAOi1B,OAAO,CAC5BtrB,YAAa,kDACbsqB,YAAa,CACTh+B,QAAIgQ,EACJwuB,SAAU,GACVS,aAAc,MAVF,EAecl6B,mBAAS,IAfvB,mBAefyN,EAfe,KAeF0sB,EAfE,OAgBgBn6B,qBAhBhB,mBAgBf8N,EAhBe,KAgBEuoB,EAhBF,OAiBgBr2B,qBAjBhB,mBAiBfy1B,EAjBe,KAiBFiB,EAjBE,OAkB0B12B,mBAAS,IAlBnC,mBAkBfg5B,EAlBe,KAkBGoB,EAlBH,OAmBQp6B,oBAAS,GAnBjB,mBAmBfq6B,EAnBe,KAmBNC,EAnBM,OAoBmBt6B,qBApBnB,mBAoBfob,EApBe,KAoBEmf,EApBF,OAqBUv6B,mBAAS,MArBnB,mBAqBf04B,EArBe,KAqBL8B,EArBK,OAsBgBx6B,mBAAS3F,EAAUsU,aAtBnC,mBAsBfA,EAtBe,KAsBF8rB,EAtBE,OAuBUz6B,qBAvBV,mBAuBfk5B,EAvBe,KAuBLwB,EAvBK,OAwBI16B,oBAAS,GAxBb,mBAwBfua,GAxBe,KAwBRogB,GAxBQ,QAyBgB36B,mBAAS,CACrC6V,MAAM,EACNpb,KAAM,aACNsb,IAAK,KA5BO,qBAyBf6kB,GAzBe,MAyBFC,GAzBE,SA8Bc76B,mBAAS,eAAK3F,EAAU4+B,cA9BtC,qBA8BfA,GA9Be,MA8BF6B,GA9BE,SA+BQ96B,qBA/BR,qBA+Bf0G,GA/Be,MA+BRq0B,GA/BQ,MAiCpBz6B,qBAAU,WAENL,SAAS0b,iBAAiB,WADN,SAAA3S,GAAyB,KAAdA,EAAEyS,SAAgB6e,GAAW,GAAQE,EAAY,WAEjF,IAEHl6B,qBAAU,YACN,6BAAAuD,EAAAC,OAAA,oDACQgK,GAAuC,KAApBA,EAD3B,wBAGY0pB,GAAc,IAAIxrB,MAAOC,cACzB+K,EAAQjb,EAASqb,QAAO,SAAAjc,GAAC,OAAIA,EAAEwc,UAAY7J,EAAgBL,eAC3DgoB,EAAcze,EAAMI,QAAO,SAAAjc,GAAC,OAAIq8B,EAAcr8B,EAAE6d,cAAgB,IAA0B,OAApB7d,EAAE6d,iBAAwBqF,MAAK,SAACxa,EAAGsf,GAAJ,OAAUtf,EAAEkC,MAAMqd,cAAcD,EAAEpd,UAEvIi1B,EAAgB,GAAIC,EAAa,GACrCxF,EAAY36B,SAAQ,SAAAK,GAChBq+B,EAAO1+B,SAAQ,SAAA6N,GACPxN,EAAE6K,YAAc2C,EAAE3C,WAClBi1B,EAAW92B,KAAKwE,MAGxBsyB,EAAW5c,MAAK,SAACxa,EAAGsf,GAChB,IAAM+X,EAAQ,IAAIlvB,KAAKnI,EAAE41B,UAEzB,OADc,IAAIztB,KAAKmX,EAAEsW,UACVyB,KAEnBF,EAAc72B,KAAd,eAAwBhJ,EAAxB,CAA2Bq+B,OAAQyB,KACnCA,EAAa,MApBzB,WAAAp3B,EAAA,MAsBc6yB,EAAesE,IAtB7B,yBAAAn3B,EAAA,MAuBcu2B,EAAoBY,IAvBlC,YAyBY5f,IAAgC,OAAb4f,QAAa,IAAbA,OAAA,EAAAA,EAAe/2B,QAAS,GAzBvD,qBA2B8B,QADZk3B,EAAiBH,EAAcv/B,MAAK,SAAAN,GAAC,OAAIA,EAAE6K,YAAcoV,EAAgBpV,oBAC7D,IAAdm1B,OAAA,EAAAA,EAAgB3B,OAAOv1B,WAAvB,OAAkCmX,QAAlC,IAAkCA,OAAlC,EAAkCA,EAAiBoe,OAAOv1B,QA3B1E,iBA4BgBs2B,EAAcY,GA5B9B,kFAgCQzE,IACA0D,EAAoB,IACpB/D,IAlCR,sCAsCA+E,KACD,CAACttB,EAAiB/R,EAAUy9B,EAAQpe,IAGvC,IAAMpR,GAAcqxB,uBAAY,SAAAryB,GAAM,IAC1BvC,EAASuC,EAAEyO,OAAXhR,KACFrE,EAAU4G,EAAEyO,OAAZrV,MAEN,GAAa,gBAATqE,EAAJ,CAMA,GAAa,UAATA,GAAoBgvB,EAAY,GAAI,CAEpC,GADqB,kBAAVrzB,IAAoBA,EAAQA,EAAMyV,qBACxCzV,GAAmB,KAAVA,EACT,CACD,IAAI6X,EACEqhB,EAAW7F,EAAYre,QAAO,SAAAjc,GAAC,OAAIA,EAAE4K,MAAM7J,MAAMkG,MAKvD,OAJwB,IAApBk5B,EAASr3B,SAAcgW,EAAUqhB,EAAS,IAE9ClB,EAAoBkB,QACpBf,EAActgB,GAPUmgB,EAAoB3E,GAWpDqF,GAAa,eACN7B,GADK,eACSxyB,EAAOrE,SApB5B,CACI+3B,EAAa/3B,GACb,IAAM0L,EAAkBP,EAAS9R,MAAK,SAAAuN,GAAC,OAAIA,EAAEyE,cAAgBrL,KAC7Di0B,EAAWvoB,MAoBhB,CAACqsB,EAAc5sB,EAAUkoB,EAAawD,KAgBzC34B,qBAAU,WACN,GAAI8a,EACA,GAAIA,EAAgBoe,QAAUpe,EAAgBoe,OAAO,GAAI,CAE/C,IAAEA,EAAWpe,EAAXoe,OACJvB,EAAYvM,EAAYtU,QAAO,SAAAuZ,GAAC,MAA6B,aAAzBA,EAAEpe,SAAS3B,aAE/ConB,EAAc,GAAID,EAAe,GAAIwD,EAAY,GAAIC,EAAM,YAAOzB,IAEtEP,EAAO1+B,SAAQ,SAAA6N,GACX6yB,EAAO1gC,SAAQ,SAAA2gC,GACX,IAAItD,EACEe,EAAWjB,EAAUx8B,MAAK,SAAAk1B,GAAC,OAAIA,EAAEpe,SAAS2X,UAAYvhB,EAAE1N,MAE1Di+B,IAAUf,EAAae,EAASj+B,IAC/B88B,EAAa3X,SAASqb,EAAE97B,QAAQo4B,EAAa5zB,KAAKs3B,EAAE97B,OACzB87B,EAAxB97B,MANQ,IAMEsqB,EANF,YAMgBwR,EANhB,WAQA,aAAZA,EAAEj1B,MAAsB+0B,EAAUp3B,KAAV,eAAoB8lB,EAApB,CAA+B7nB,MAAOuG,EAAE8yB,EAAEj1B,OAAQ2xB,gBACzEoD,EAAUp3B,KAAV,eAAoB8lB,EAApB,CAA+B7nB,MAAOuG,EAAE8yB,EAAEj1B,aAG/C+0B,EAAU,GAAGpD,WAAYoD,EAAU,GAAGn5B,MAAQ,iCAC7Cm5B,EAAU,GAAGn5B,MAAQ,4BAC1B41B,EAAY7zB,KAAKo3B,GACjBA,EAAY,MAGhBC,EAAM,YAAOzB,IACbgB,GAAa,CAAEhD,eAAcC,cAAaC,mBAEvC8C,GAAa,mDAAD,OAAiD3f,EAAgBrV,MAAjE,QAGxB,CAACqV,EAAiBoe,EAAQ9N,IAE7B,IAMMvG,GAAc,WAEZ/J,GACAkf,GAAYD,GACZG,EAAY,QAEZF,GAAW,GACXC,OAActvB,GACduvB,EAAY,QAqEhBkB,GAAc,kBAAMf,IAAUpgB,KAE9BohB,GAAY,SAAAC,GACJA,GAAWd,GAAa,eAAKzgC,EAAU4+B,cAC3CyB,IACAD,EAAepgC,EAAUsU,cAG3BxE,GAAgBrK,EAAMoH,MAAM8yB,cAAc9+B,KAAI,SAAA8N,GAAC,OAAIA,EAAE2O,WAE3D,OACI,kBAAC,WAAD,KAEI,kBAAC,GAAD,CACIpK,SAAUA,EAAUE,YAAaA,EAAaK,gBAAiBA,EAAiBkrB,iBAAkBA,EAAkB5d,gBAAiBA,EACrIsd,SAAUA,EAAUO,YAAaA,GAAa9uB,cAAeA,GAAewE,YAAaA,EAAauqB,SAAUA,EAAUxyB,MAAOA,GACjIyyB,UAAW,CAAEnvB,eAAaovB,aArJjB,SAAMpR,GAAN,iBAAAnkB,EAAAC,OAAA,gDAEbsX,GACA4M,EAAM6T,UACNrB,EAAYxS,EAAMvQ,WAEVxc,EAAO+sB,EAAM8T,cAAb7gC,MAEAE,EAAIs6B,EAAYh6B,MAAK,SAAAN,GAAC,OAAIA,EAAE6K,UAAUuE,aAAetP,MAC7Ds/B,EAAcp/B,GACdi/B,EAAoB,CAACj/B,KAVR,sCAqJ+BgqB,eAAazW,YAhC7C,SAACgC,EAAOjK,GAExB,GAAIiK,GAASA,EAAM,GAAI,CACnB,IAAIjC,EAAW,IAAImM,SACnBnM,EAASsM,OAAO,YAAa,YAC7BtM,EAASsM,OAAO,UAAWke,GAAYh+B,IACvCwT,EAASsM,OAAO,YAAaK,EAAgBpV,WAC7CyI,EAASsM,OAAOtU,EAAMiK,EAAM,IAC5BgqB,EAAYjsB,GACZgsB,EAAe/pB,EAAM,GAAGjK,QAuB8CqN,aAjFzD,oCAAAjQ,EAAAC,OAAA,mDAEXo2B,EAAoCjB,GAApCiB,aAAiBlW,EAFN,YAEyBiV,GAFzB,kBAGbzwB,EAASL,MAAsB,KAI7B4zB,EAAqBvC,EAAO/9B,MAAK,SAAAkN,GAAC,OAAIA,EAAE1N,KAAOg+B,GAAYh+B,OAPhD,uBASb4/B,GAAe,eACRD,GADO,CAEV/kB,MAAM,EACNE,IAAK,0DAAsDgmB,EAAmB9gC,GAAGsP,cAErFoxB,KAda,6BAiBjB32B,OAAOiT,KAAKghB,IAAan+B,SAAQ,SAAA+U,GAC7B,GAAU,aAANA,KAAsBopB,GAAYppB,IAAyB,KAAnBopB,GAAYppB,IAAY,CAChE,IAAImsB,EAAapE,GAAUn8B,MAAK,SAAAoX,GAAG,OAAIA,EAAIrM,QAAUqJ,KAAGlN,MACxD6F,EAAOrE,KAAK63B,QAGhBxzB,EAAO,GAvBM,wBAwBbqyB,GAAe,eACRD,GADO,CAEV/kB,MAAM,EACNE,IAAK,yDAA2DvN,EAAO+B,cAE3EoxB,KA7Ba,kCAkCXhkB,EAAUqiB,EAAcv+B,MAAK,SAAAuN,GAAC,OAAIA,EAAE2O,UAAYuiB,QACzClW,EAAeiY,WAAatkB,EAAQ1c,IACjD+oB,EAAekY,WAAa9gB,EAAgBpV,UAEtCm2B,EAAc,CAAEz1B,MAAO,SAAUsd,kBAtCtB,YAAAngB,EAAA,MAyCXO,KAAMgW,KAAK,kBAAmB+hB,GAC/B33B,MAAK,kBAAMk3B,QACX5pB,OAAM,SAAAC,GAAG,OAAI1M,QAAQC,IAAIyM,OA3Cb,YA6CbmnB,EA7Ca,oCAAAr1B,EAAA,MA6CGO,KAAMgW,KAAK,qBAAsB8e,IA7CpC,QA8CjByC,GAAU,sBA9CO,uCAiFuEtC,UAlB5E,kBAAMmB,EAAY,OAkBqElB,MAnGzF,WACVr5B,SAASm8B,cAAc,oBAAoBh6B,MAAQ,GACnDg4B,EAAoB3E,GACpB8E,QAkGKF,GAAW,kBAACtQ,GAAD,CACRzd,MAAO6Y,GACPvqB,KAAI,eAAOwgB,EAAP,CAAwB6O,UAAW,KACvChoB,IAAK,EACLtC,MAAO,aACPyc,OAAQ,wBAGXwe,GAAY/kB,MAAQ,kBAACK,GAAD,CAAaL,KAAM+kB,GAAY/kB,KAAMvJ,MA3BhD,kBAAMuuB,GAAe,eAAKD,GAAN,CAAmB/kB,MAAO+kB,GAAY/kB,SA2BU1M,UAAWyxB,GAAYngC,KAAM4b,cAAeukB,GAAY7kB,MACtI,kBAAC,GAAD,CAAYF,KAAM0E,GAAOjO,MAAOovB,GAAa3lB,IAAI,oCCzR9C,SAASsmB,KACpB,OACI,yBAAK56B,MAAO,CAAEwB,OAAQ,OAAQhE,MAAO,OAAQ6K,OAAQ,YACjD,yBAAK3G,IAAI,gCAAgCC,IAAI,mCCgB1C,yBAEX,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOk5B,OAAK,EAACl8B,KAAK,IAAIS,UAAW07B,IACjC,kBAAC,IAAD,CAAOn8B,KAAK,YAAYk8B,OAAK,EAACz7B,UAAWyC,IACzC,kBAAC,IAAD,CAAOlD,KAAK,qBAAqBk8B,OAAK,EAACz7B,UAAW27B,KAClD,kBAAC,IAAD,CAAOp8B,KAAK,qBAAqBk8B,OAAK,EAACz7B,UAAW47B,KAClD,kBAAC,IAAD,CAAOr8B,KAAK,sBAAsBk8B,OAAK,EAACz7B,UAAWgd,KACnD,kBAAC,IAAD,CAAOzd,KAAK,mBAAmBk8B,OAAK,EAACz7B,UAAW67B,KAChD,kBAAC,IAAD,CAAOt8B,KAAK,yBAAyBk8B,OAAK,EAACz7B,UAAW87B,KACtD,kBAAC,IAAD,CAAOv8B,KAAK,mBAAmBk8B,OAAK,EAACz7B,UAAW+7B,KAChD,kBAAC,IAAD,CAAOx8B,KAAK,aAAaS,UAAWg8B,KACpC,kBAAC,IAAD,CAAOz8B,KAAK,YAAYk8B,OAAK,EAACz7B,UAAWi8B,KACzC,kBAAC,IAAD,CAAO18B,KAAK,qBAAqBS,UAAWk8B,KAC5C,kBAAC,IAAD,CAAO38B,KAAK,mBAAmBS,UAAWm8B,KAC1C,kBAAC,IAAD,CAAO58B,KAAK,yBAAyBS,UAAWo8B,KAChD,kBAAC,IAAD,CAAO78B,KAAK,cAAcS,UAAWq8B,KACrC,kBAAC,IAAD,CAAO98B,KAAK,OAAOS,UAAWs8B,KAC9B,kBAAC,IAAD,CAAO/8B,KAAK,eAAeS,UAAWu8B,OCA/BC,OAvBf,WAEE,IAIQ/tB,EAJU5S,aAAW,SAAAC,GAAK,MAAK,CACrC2S,KAAM,CAAErS,gBAAgB,cAGTR,GAAT6S,KACFguB,EAAQC,YAAgBC,IAASC,IAAOC,IAAhCH,CAAuCI,KACrD,OACE,kBAAC,IAAD,CAAUL,MAAOA,EAAM/gC,IACrB,yBAAK0E,UAAWqO,GACd,kBAACsuB,EAAA,EAAD,CAAWC,SAAS,KAAKp8B,MAAO,CAAEuB,UAAW,UAC3C,kBAAC,IAAD,KACE,kBAAC,EAAD,MACA,kBAAC86B,GAAD,OAEF,kBAAC,EAAD,UCpBUhF,QACW,cAA7B/nB,OAAO7Q,SAAS69B,UAEe,UAA7BhtB,OAAO7Q,SAAS69B,UAEhBhtB,OAAO7Q,SAAS69B,SAAS7hC,MACvB,2DCbN8hC,IAASnZ,OAAO,kBAAC,GAAD,MAAS5kB,SAASg+B,eAAe,SD4H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM55B,MAAK,SAAA65B,GACjCA,EAAaC,kB","file":"static/js/main.b444bd5f.chunk.js","sourcesContent":["const initState = {}\r\n\r\nconst dataReducer = (state = initState, action) => {\r\n    const { type, payload } = action\r\n\r\n    switch (type) {\r\n\r\n        case 'GET_DATA':            \r\n            return { ...state, ...payload }\r\n\r\n        case 'INSERT_DATA': {\r\n            const { collection, data } = payload\r\n\r\n            if (state[collection] && data) {\r\n                let update = [...state[collection]]\r\n                data.forEach(el => {\r\n                    update.unshift(el)\r\n                })\r\n                return {\r\n                    ...state, [collection]: update\r\n                }\r\n            }\r\n            return state\r\n        }\r\n\r\n        case 'UPDATE_DATA': {\r\n            const { collection, data, id } = payload\r\n            if (state[collection] && data) {\r\n                const update = state[collection].map(v => {\r\n                    data.forEach(el => {\r\n                        if (v[id] === el[id]) {\r\n                            v = el\r\n                        }\r\n                    })\r\n                    return v\r\n                })\r\n               // console.log({ [collection]: update })\r\n                return {\r\n                    ...state, [collection]: update\r\n                }\r\n            }\r\n            return state\r\n        }\r\n\r\n\r\n        case 'UPDATE_COLLECTION': {\r\n            const { data, collection } = payload\r\n           // console.log(payload)\r\n            return {\r\n                ...state, [collection]: data\r\n            }\r\n        }\r\n\r\n        case 'REMOVE_FROM_INSURANCE':\r\n            const { apolice, placaIndex, vehicleIndex } = payload\r\n\r\n            if (state.seguros) {\r\n\r\n                let seguros = [...state.seguros],\r\n                    seguro = seguros.find(s => s.apolice === apolice),\r\n                    index = seguros.findIndex(s => s.apolice === apolice)\r\n\r\n                seguro.placas.splice(placaIndex, 1)\r\n                seguro.veiculos.splice(vehicleIndex, 1)\r\n                seguros[index] = seguro\r\n               // console.log(seguros)\r\n                return {\r\n                    ...state, seguros\r\n                }\r\n            }\r\n            return state\r\n\r\n        case 'DELETE_ONE':\r\n            const { tablePK, collection } = payload\r\n            if (state[collection]) {\r\n                let\r\n                    { id } = payload,\r\n                    updatedData = [...state[collection]]\r\n               // console.log(id, collection)\r\n                if (!collection.match('Docs')) id = Number(id)\r\n                \r\n                const\r\n                    element = updatedData.find(el => el[tablePK] === id),\r\n                    index = updatedData.findIndex(el => el === element)\r\n\r\n                updatedData.splice(index, 1)\r\n\r\n                return {\r\n                    ...state, [collection]: updatedData\r\n                }\r\n            }\r\n            return state\r\n\r\n        case 'SET_COLOR':\r\n            return { ...state, setColor: action.payload }\r\n\r\n        case 'LOADING':\r\n            return { ...state, loading: action.payload }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default dataReducer;","import dataReducer from './Store/dataReducer'\r\nimport { combineReducers } from 'redux';\r\n\r\nconst rootReducer = combineReducers({    \r\n    data: dataReducer    \r\n})\r\n\r\nexport default rootReducer","import React, { useState, useEffect } from 'react'\r\nimport { Link as RouterLink } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { Toolbar, Typography, Button, IconButton, Link } from '@material-ui/core'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { withRouter } from 'react-router'\r\nimport './stylez.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    toolbarTitle: {\r\n        flex: 1,\r\n    },\r\n    toolbarSecondary: {\r\n        justifyContent: 'space-between',\r\n        overflowX: 'auto',\r\n        backgroundColor: '#0398c1',\r\n        color: 'white'\r\n    },\r\n\r\n    toolbarLink: {\r\n        padding: '12px 55px 13px 55px',\r\n        flexShrink: 0,\r\n    },\r\n    mainFeaturedPost: {\r\n        position: 'relative',\r\n        backgroundColor: theme.palette.grey[800],\r\n        color: theme.palette.common.white,\r\n        marginBottom: theme.spacing(4),\r\n        backgroundImage: '/images/bus_wallpaper.jpg',\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n    },\r\n    overlay: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        left: 0,\r\n        backgroundColor: 'rgba(0,0,0,.3)',\r\n    },\r\n    mainFeaturedPostContent: {\r\n        position: 'relative',\r\n        padding: theme.spacing(3),\r\n        [theme.breakpoints.up('md')]: {\r\n            padding: theme.spacing(6),\r\n            paddingRight: 0,\r\n        },\r\n    },\r\n    mainGrid: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    card: {\r\n        display: 'flex',\r\n    },\r\n    cardDetails: {\r\n        flex: 1,\r\n    },\r\n    cardMedia: {\r\n        width: 160,\r\n    },\r\n    markdown: {\r\n        ...theme.typography.body2,\r\n        padding: theme.spacing(3, 0),\r\n    },\r\n    sidebarAboutBox: {\r\n        padding: theme.spacing(2),\r\n        backgroundColor: theme.palette.grey[200],\r\n    },\r\n    sidebarSection: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    footer: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        marginTop: theme.spacing(8),\r\n        padding: theme.spacing(6, 0),\r\n    },\r\n}));\r\n\r\nconst sections = [\r\n    { title: 'Página Inicial', link: '/' },\r\n    { title: 'Consultas', link: '/consultas' },\r\n    { title: 'Veículos', link: '/veiculos' },\r\n    { title: 'Empresas', link: '/empresas' },\r\n    { title: 'Relatórios', link: '/relatorios' },\r\n    { title: 'Fale Conosco', link: '/faleConosco' },\r\n];\r\n\r\n\r\nconst Header = props => {\r\n    const classes = useStyles()\r\n    const [path, setSelected] = useState(document.location.pathname)\r\n    const { pathname } = props.location\r\n\r\n    useEffect(() => {\r\n        setSelected(pathname)\r\n    }, [pathname])\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n\r\n            <Toolbar>\r\n                <Button size=\"small\">Criar usuário</Button>\r\n                <Typography\r\n                    component=\"h2\"\r\n                    variant=\"h6\"\r\n                    color=\"inherit\"\r\n                    align=\"center\"\r\n                    noWrap\r\n                    className={classes.toolbarTitle}\r\n                >\r\n                    Seinfra - Subsecretaria de Transportes e Mobilidade - MG\r\n                    </Typography>\r\n                <IconButton>\r\n                    <SearchIcon />\r\n                </IconButton>\r\n                <Button variant=\"outlined\" size=\"small\">\r\n                    Fazer login\r\n                    </Button>\r\n            </Toolbar>\r\n            <Toolbar component=\"nav\" variant=\"dense\" className={classes.toolbarSecondary}>\r\n                {sections.map(({ link, title }, i) => (\r\n                    <Link\r\n                        component={RouterLink}\r\n                        to={link}\r\n                        key={i}\r\n                        color=\"inherit\"\r\n                        noWrap\r\n                        variant=\"body2\"\r\n                        href=\"\"\r\n                        style={{\r\n                            fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana, sans-serif',\r\n                            fontSize: '15px',\r\n                            backgroundColor: (path.match(link) && link !== '/' && link !== '/faleConosco')\r\n                                ? '#11a7d2' : '',\r\n                            //borderTop: (path === link && link !== '/' && link !== '/faleConosco') ? '2px solid #fff' : '',\r\n                            borderBottom: (path.match(link) && link !== '/' && link !== '/faleConosco') ? '1.5px solid #ccc' : '',\r\n                            fontWeight: (path.match(link) && (link === '/' || link === '/faleConosco')) ? '500' : '400'\r\n                        }}\r\n                        className={classes.toolbarLink}\r\n                        onClick={() => setSelected(link)}\r\n                    >\r\n                        {title}\r\n                    </Link>\r\n                ))}\r\n            </Toolbar>\r\n        </React.Fragment >\r\n    )\r\n}\r\nexport default withRouter(Header)","//import React from 'react'\r\n\r\nconst Footer = () => {\r\n    return null\r\n    \r\n    /* (\r\n        <footer className=\"grey lighten-2 black-text\"\r\n            style={{\r\n                \r\n                bottom: 0,\r\n                width: '100%',\r\n                borderTop: '0.1px solid #999',\r\n                marginTop: 'auto',\r\n                maxHeight: '20px',\r\n                left: 0\r\n            }}>\r\n            <span style={{ fontSize: '0.6rem' }}>\r\n                Seinfra, Governo de Minas Gerais. Desenvolvido por Sandro Veríssimo, © 2019.\r\n            </span>\r\n        </footer>\r\n    ) */\r\n}\r\n\r\nexport default Footer;","import React from 'react'\r\nimport { Tabs, Tab } from '@material-ui/core'\r\n\r\nexport default ({items, tab, changeTab}) =>\r\n\r\n    <div className='tabMenu'> \r\n        <Tabs value={tab}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            centered \r\n            onChange={changeTab}>\r\n            {items.map((item, i)=> <Tab key={i} label={item} />)}\r\n        </Tabs>\r\n    </div>\r\n\r\n\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './home.css'\r\n\r\nconst featuredPosts = [\r\n    {\r\n        title: 'Veículos',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastre e altere os dados do veículo ou solicite sua baixa',\r\n        link: '/veiculos',\r\n        imageUrl: '/images/vehicles.jpg'\r\n    },\r\n    {\r\n        title: 'Empresas',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastre e gerencie dados de empresas, sócios e procuradores',\r\n        link: '/empresas',\r\n        imageUrl: '/images/empresas12.jpg'\r\n    },\r\n    {\r\n        title: 'Consultas',\r\n        date: '03/Dez',\r\n        description:\r\n            'Consulte e gerencie dados de veículos, seguros e empresas',\r\n        link: '/consultas',\r\n        imageUrl: '/images/consultas2.jpg'\r\n    },\r\n    {\r\n        title: 'Relatórios',\r\n        date: '03/Dez',\r\n        description:\r\n            'Acompanhe a situação dos veículos por meio de gráficos e tabelas',\r\n        link: '/relatorios',\r\n        imageUrl: '/images/relatorios.jpg'\r\n    },\r\n]\r\n\r\nexport default function () {\r\n\r\n    return (\r\n        <React.Fragment>            \r\n            <div\r\n                style={{\r\n                    minHeight: '83vh',\r\n                    width: '100%',\r\n                    height: 'auto',\r\n                }}>\r\n                <main className=\"homeMainPost\">\r\n                    <h1>\r\n                        SisMob - MG\r\n                    </h1>\r\n                    <h2>\r\n                        Sistema de Gestão da Mobilidade do Estado de Minas Gerais\r\n                    </h2>\r\n                </main>\r\n                <section className='homeCardsContainer'>\r\n                    {featuredPosts.map(({ link, title, description, imageUrl }, i) => (\r\n                        <div key={i} className='homeCard'>\r\n\r\n                            <Link to={link} style={{ textDecoration: 'none' }}>\r\n                                <div className='homeCard'>\r\n                                    <div className=\"homeCardText\">\r\n                                        <h6 className=\"homeCardText\" style={{fontWeight: 500}}>\r\n                                            {title}\r\n                                        </h6>\r\n                                        <p className=\"homeCardText\">\r\n                                            {description}\r\n                                        </p>\r\n                                       \r\n                                    </div>\r\n                                    <div className='homeImage'>\r\n                                        <img src={imageUrl} alt={title} className='homeImage' />\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n\r\n                        </div>\r\n                    ))}\r\n                </section>\r\n            </div >\r\n        </React.Fragment >\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './veiculos.css'\r\n\r\nconst menuCards = [\r\n    {\r\n        title: 'Cadastro de Veículos',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastrar um novo veículo no sistema',\r\n        imageUrl: '/images/add_new.jpg',\r\n        link: '/cadastro'\r\n    },\r\n    {\r\n        title: 'Alteração de dados',\r\n        date: '07/Nov',\r\n        description:\r\n            'Alterar dados de um veículo',\r\n        link: '/altDados',\r\n        imageUrl: '/images/pen.png'\r\n    },\r\n    {\r\n        title: 'Seguros',\r\n        date: '07/Nov',\r\n        description:\r\n            'Atualizar seguros e apólices',\r\n        link: '/altSeguro',\r\n        imageUrl: \"/images/car_insurance2.png\"\r\n    },\r\n    {\r\n        title: 'Laudos',\r\n        date: '07/Nov',\r\n        description:\r\n            'Laudos de segurança veicular',\r\n        link: '/laudos',\r\n        imageUrl: \"/images/laudos.png\"\r\n    },\r\n    {\r\n        title: 'Baixa',\r\n        date: '07/Nov',\r\n        description:\r\n            'Baixa de veículos',\r\n        link: '/baixaVeiculo',\r\n        imageUrl: \"/images/remove_doc.png\"\r\n    },\r\n    {\r\n        title: 'Configurações',\r\n        date: '07/Nov',\r\n        description:\r\n            'Chassi, carrocerias, seguradoras, etc',\r\n        link: '/config',\r\n        imageUrl: \"/images/config2.jpg\"\r\n    }\r\n]\r\n\r\nexport default function VeiculosHome(props) {\r\n    const { match } = props\r\n    return (\r\n        <div>\r\n            <div className=\"jumbotron\">\r\n                <h1>\r\n                    Veículos\r\n                </h1>\r\n                <p>\r\n                    Selecione uma das opções abaixo.\r\n                </p>\r\n            </div>\r\n            <section className=\"cardSection\">\r\n                {\r\n                    menuCards.map(({ title, link, imageUrl, description }, i) =>\r\n                        <Link to={match.url + link} key={i} className=\"card\">                            \r\n                                <span className=\"cardImage\"> <img src={imageUrl} alt={title} /> </span>\r\n                                <div className=\"cardText\">\r\n                                    <h3 >{title}</h3>\r\n                                    <p > {description}</p>\r\n                                </div>                            \r\n                        </Link>\r\n                    )}\r\n            </section>\r\n        </div >\r\n    )\r\n}\r\n","import React from 'react'\r\nimport humps from 'humps'\r\n\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { getData, insertData, updateData, updateCollection, deleteOne } from './dataActions'\r\n\r\nimport Loading from '../Layouts/Loading'\r\nimport { configVehicleForm } from '../Forms/configVehicleForm'\r\n\r\nconst socketIO = require('socket.io-client')\r\nlet socket\r\n\r\nexport default function (requestArray, WrappedComponent) {\r\n\r\n    let collections = []\r\n    collections = requestArray.map(req => req.replace('getFiles/', '').replace('lookUpTable/', ''))\r\n\r\n    class With extends React.Component {\r\n\r\n        async componentDidMount() {\r\n            const { redux } = this.props\r\n            let request = []\r\n\r\n            requestArray.forEach(req => {\r\n                const colName = req.replace('getFiles/', '').replace('lookUpTable/', '')\r\n                if (!redux[colName] || !redux[colName][0]) {\r\n                    request.push(req)\r\n                }\r\n            })\r\n\r\n            if (request[0]) await this.props.getData(request)\r\n\r\n            if (!socket) socket = socketIO()\r\n            socket.on('insertVehicle', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'veiculos')\r\n            })\r\n            socket.on('insertInsurance', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'seguros')\r\n            })\r\n            socket.on('insertEmpresa', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'empresas')\r\n            })\r\n            socket.on('insertSocios', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'socios')\r\n            })\r\n            socket.on('insertProcuradores', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'procuradores')\r\n            })\r\n            socket.on('addElements', ({ insertedObjects, table }) => {\r\n                const { collection } = configVehicleForm.find(el => el.table === table)\r\n                this.props.insertData(insertedObjects, collection)\r\n            })\r\n\r\n            socket.on('updateElements', ({ collection, updatedCollection }) => {                \r\n                this.props.updateCollection(updatedCollection, collection)\r\n            })\r\n\r\n            socket.on('updateVehicle', updatedObjects => {                \r\n                this.props.updateData(updatedObjects, 'veiculos', 'veiculoId')\r\n            })\r\n            socket.on('updateInsurance', updatedObjects => {\r\n                this.props.updateCollection(updatedObjects, 'seguros')\r\n            })\r\n            socket.on('updateSocios', updatedObjects => {\r\n                this.props.updateCollection(updatedObjects, 'socios')\r\n            })\r\n\r\n            socket.on('deleteOne', object => {\r\n                const { id, tablePK, collection } = object\r\n                this.props.deleteOne(id, tablePK, collection)\r\n            })\r\n\r\n            socket.on('insertFiles', object => {\r\n                const { insertedObjects, collection } = object\r\n                console.log(object)\r\n                this.props.insertData(insertedObjects, collection)\r\n            })\r\n        }\r\n        componentWillUnmount() {\r\n            if (!socket) socket = socketIO(':3001')\r\n            const clearAll = ['insertVehicle', 'insertInsurance', 'insertEmpresa', 'insertSocios', 'insertFiles',\r\n                'insertProcuradores', 'updateVehicle', 'updateInsurance', 'updateSocios', 'deleteOne']\r\n\r\n            clearAll.forEach(el => socket.off(el))\r\n        }\r\n        render() {\r\n\r\n            collections = collections.map(c => humps.camelize(c))\r\n\r\n            if (collections.length === 0 || !collections.every(col => this.props.redux.hasOwnProperty(col))) {\r\n                return <Loading />\r\n            }\r\n            else {\r\n                return <WrappedComponent {...this.props} />\r\n            }\r\n        }\r\n    }\r\n\r\n    function mapStateToProps(state) {\r\n        return {\r\n            redux: {\r\n                ...state.data,\r\n            }\r\n        }\r\n    }\r\n\r\n    function mapDispatchToProps(dispatch) {\r\n        return bindActionCreators({ getData, insertData, updateData, updateCollection, deleteOne }, dispatch)\r\n    }\r\n\r\n    return connect(mapStateToProps, mapDispatchToProps)(With)\r\n}\r\n","import axios from 'axios'\r\nimport humps from 'humps'\r\nimport { batch } from 'react-redux'\r\n\r\nexport const getData = (collectionsArray = []) => {\r\n    return async (dispatch, getState) => {\r\n\r\n        let promiseArray = [], returnObj = {}\r\n        if (collectionsArray.length > 0) {\r\n            collectionsArray.forEach(collectionName => {\r\n                promiseArray.push(axios.get(`/api/${collectionName}`))\r\n            })\r\n\r\n            await Promise.all(promiseArray)\r\n                .then(res => res.map(r => humps.camelizeKeys(r.data)))\r\n                .then(responseArray => {\r\n                    responseArray.forEach((el, i) => {\r\n                        let key = collectionsArray[i]\r\n                            .replace('getFiles/', '')\r\n                            .replace('lookUpTable/', '')\r\n                        key = humps.camelize(key)                        \r\n                        Object.assign(returnObj, { [key]: el })\r\n                    })\r\n                })\r\n        }\r\n        dispatch({\r\n            type: 'GET_DATA',\r\n            payload: returnObj\r\n        })\r\n    }\r\n}\r\n\r\nexport const insertData = (dataFromServer, collection) => (dispatch, getState) => {\r\n    const\r\n        data = humps.camelizeKeys(dataFromServer),\r\n        payload = { collection, data },\r\n        seguradoras = getState().data.seguradoras\r\n\r\n    if (!seguradoras) {\r\n        console.log(payload)\r\n        dispatch({ type: 'INSERT_DATA', payload })\r\n        return\r\n    }\r\n\r\n    if (collection === 'seguros' && data[0].placas && data[0].placas.length === 1) {\r\n\r\n        const seguradora = seguradoras.find(sg => sg.id === data[0].seguradoraId)\r\n        let\r\n            seguro = data[0],\r\n            plates = [], vehicles = [],\r\n            veiculos = getState().data.veiculos,\r\n\r\n            updatedCollection = veiculos.map(v => {\r\n                if (v.apolice === seguro.apolice) {\r\n                    v.seguradora = seguradora.seguradora\r\n                    v.dataEmissao = seguro.dataEmissao\r\n                    v.vencimento = seguro.vencimento\r\n                }\r\n                return v\r\n            })\r\n\r\n        veiculos.forEach(v => {\r\n            if (v.apolice === seguro.apolice) {\r\n                plates.push(v.placa)\r\n                vehicles.push(v.veiculoId)\r\n            }\r\n        })\r\n        seguro.placas = plates\r\n        seguro.veiculos = vehicles\r\n        seguro = [seguro]\r\n\r\n        const collectionPayload = { data: updatedCollection, collection: 'veiculos' }\r\n        batch(() => {\r\n            dispatch({ type: 'INSERT_DATA', payload: { data: seguro, collection: 'seguros' } })\r\n            dispatch({ type: 'UPDATE_COLLECTION', payload: collectionPayload })\r\n        })\r\n    } else dispatch({ type: 'INSERT_DATA', payload })\r\n\r\n}\r\n\r\nexport const updateData = (dataFromServer, collection, id) => dispatch => {\r\n    const\r\n        data = humps.camelizeKeys(dataFromServer),\r\n        payload = { collection, data, id }\r\n    dispatch({ type: 'UPDATE_DATA', payload })\r\n}\r\n\r\nexport const updateCollection = (data, collection) => dispatch => {\r\n\r\n    data = humps.camelizeKeys(data)\r\n    const payload = { data, collection }\r\n    console.log(payload)\r\n    dispatch({\r\n        type: 'UPDATE_COLLECTION',\r\n        payload\r\n    })\r\n}\r\n\r\nexport const updateInsurance = ({ value, ids }) => (dispatch, getState) => {\r\n    const\r\n        apolice = value,\r\n        seguros = getState().data.seguros,\r\n        veiculos = getState().data.veiculos\r\n\r\n    if (!seguros || !veiculos) return\r\n\r\n    let seguro = seguros.find(s => s.apolice === apolice),\r\n        placas = seguro.placas || [], vehicleIDs = seguro.veiculos || []\r\n\r\n    veiculos.forEach(v => {\r\n        ids.forEach(id => {\r\n            if (v.veiculoId === id) {\r\n                placas.push(v.placa)\r\n                vehicleIDs.push(v.veiculoId)\r\n            }\r\n        })\r\n    })\r\n\r\n    seguro.placas = placas\r\n    seguro.veiculos = vehicleIDs\r\n    seguro = [seguro]\r\n    console.log(seguro)\r\n\r\n    const payload = { collection: 'seguros', data: seguro, id: 'apolice' }\r\n\r\n    dispatch({ type: 'UPDATE_DATA', payload })\r\n}\r\n\r\nexport const removeInsurance = (apolice, placaIndex, vehicleIndex) => dispatch => {\r\n\r\n    dispatch({\r\n        type: 'REMOVE_FROM_INSURANCE',\r\n        payload: { apolice, placaIndex, vehicleIndex }\r\n    })\r\n}\r\n\r\nexport const deleteOne = (id, tablePK, collection) => dispatch => {\r\n    tablePK = humps.camelize(tablePK)    \r\n    dispatch({\r\n        type: 'DELETE_ONE',\r\n        payload: { id, tablePK, collection }\r\n    })\r\n}","import React from 'react'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className='loading'>\r\n            <img src=\"/images/loading.gif\" alt=\"\" height=\"60px\" width=\"60px\" />\r\n            <p> Carregando... </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading","export const configVehicleForm = [\r\n\r\n    {\r\n        collection: 'equipamentos',\r\n        field: 'item',\r\n        label: 'Equipamentos',\r\n        name: 'equipamentosId',\r\n        table: 'equipamentos'\r\n    },\r\n    {\r\n        collection:'marcaCarroceria',\r\n        field: 'marca',\r\n        label: 'Marcas de Carroceria',\r\n        name:'marcaCarroceria',\r\n        table: 'marca_carroceria'\r\n    },\r\n    {\r\n        collection: 'carrocerias',\r\n        field: 'modelo',\r\n        label: 'Modelos de Carroceria',\r\n        name:'modeloCarroceria',\r\n        table: 'modelo_carroceria'\r\n    },\r\n    {\r\n        collection: 'marcaChassi',\r\n        field: 'marca',\r\n        label: 'Marcas de Chassi',\r\n        name: 'marcaChassi',\r\n        table: 'marca_chassi'\r\n    },\r\n    {\r\n        collection: 'modelosChassi',\r\n        field: 'modeloChassi',\r\n        label: 'Modelos de Chassi',\r\n        name: 'modeloChassi',\r\n        table: 'modelo_chassi'\r\n    },\r\n    {\r\n        collection: 'seguradoras',\r\n        field: 'seguradora',\r\n        label: 'Seguradoras',\r\n        name: 'seguradora',\r\n        table: 'seguradora'\r\n    },\r\n    {\r\n        collection: 'laudos',        \r\n        table: 'laudos'\r\n    }\r\n\r\n]","import moment from 'moment'\r\n\r\nexport const checkInputErrors = sendState => {\r\n\r\n    const p = document.querySelectorAll('p'),\r\n        inputs = document.querySelectorAll('input')\r\n\r\n    let label = [], errors = [],\r\n        errString = 'Favor verificar o preenchimento dos seguintes campos: '\r\n\r\n    if (p) {\r\n        p.forEach(el => {\r\n            if (el.textContent === 'Valor inválido' || el.textContent === '✘') {\r\n                const parent = el.parentNode\r\n                const l = parent.querySelectorAll('label')\r\n                label.push(l[0])\r\n            }\r\n        })\r\n    }\r\n    if (inputs) {\r\n        inputs.forEach(el => {\r\n            if (el.type === 'date') {\r\n                if (!moment(el.value, 'YYYY-MM-DD', true).isValid()) {\r\n                    const parent = el.parentNode\r\n                    const l = parent.previousSibling\r\n                    label.push(l)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    if (label[0]) {\r\n        label.forEach(l => errors.push(l.textContent))\r\n        errors.forEach(e => errString += e + ', ')\r\n        errString = errString\r\n            .replace('(kg)', '')\r\n            .replace('(cm)', '')\r\n            .slice(0, -2) + '.'\r\n\r\n        if (sendState) return { openAlertDialog: true, alertType: 'inputError', customMsg: errString }\r\n        return errors\r\n    } else return null\r\n}","import React from 'react'\r\n\r\nexport default function autoComplete({ collection, datalist, value }) {\r\n    \r\n    if (value.length > 2 && typeof collection !== 'string') {\r\n        return (\r\n            <datalist id={datalist}>\r\n                {\r\n                    collection.map((item, index) => {\r\n\r\n                        return (\r\n                            <option key={index}>{item[datalist]}</option>\r\n                        )\r\n                    })}\r\n            </datalist>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n","import React, { Fragment } from 'react'\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport AutoComplete from '../Utils/autoComplete'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',\r\n        marginBottom: '2px',\r\n\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    select: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',\r\n        marginBottom: '2px',\r\n        background: '#fafafa',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    helperText: {\r\n        margin: '2px 0',\r\n        fontSize: '0.7rem'\r\n    },\r\n}))\r\n\r\nexport default function TextInput({ handleInput, handleBlur, form, data, selectOptions }) {\r\n\r\n    const classes = useStyles(),\r\n        { helperText } = classes\r\n\r\n    const errorHandler = (el) => {\r\n        let value = data[el.field]\r\n\r\n        if (el.type === 'number') {\r\n            if (value > el.max || value < el.min) return true\r\n            else return false\r\n        }\r\n        if (value && typeof value !== 'string') value = value.toString()\r\n        if (el.pattern && value) return data[el.field].match(el.pattern) === null\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        let value = data[el.field]\r\n        if (value && typeof value !== 'string') value = value.toString()\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return ' '\r\n    }\r\n\r\n    return (\r\n        <div className='flex center'>\r\n            {\r\n                form.map((el, i) => (\r\n                    <Fragment key={i}>\r\n                        <TextField\r\n                            name={el.field}\r\n                            label={el.label}\r\n                            margin={el.margin}\r\n                            className={classes.textField}\r\n                            onChange={handleInput}\r\n                            onBlur={handleBlur}\r\n                            type={el.type || ''}\r\n                            error={errorHandler(el)}\r\n                            helperText={helper(el)}\r\n                            FormHelperTextProps={{ className: helperText }}\r\n                            select={el.select || false}\r\n                            value={data[el.field] || ''}\r\n                            disabled={el.disabled || false}\r\n                            InputLabelProps={{\r\n                                className: classes.textField,\r\n                                shrink: el.type === 'date' || undefined,\r\n                                style: { fontSize: '0.7rem', fontWeight: 400, color: '#888' }\r\n                            }}\r\n                            inputProps={{\r\n                                style: {\r\n                                    background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                    fontSize: '0.9rem', textAlign: 'center', color: '#000', width: el.width || 300, height: '7px'\r\n                                },\r\n                                value: `${data[el.field] || ''}`,\r\n                                list: el.datalist || '',\r\n                                maxLength: el.maxLength || '',\r\n                                minLength: el.minLength || '',\r\n                                max: el.max || '',\r\n                            }}\r\n\r\n                            multiline={el.multiline || false}\r\n                            rows={el.rows || null}\r\n                            variant={el.variant || 'filled'}\r\n                            fullWidth={el.fullWidth || false}\r\n                            SelectProps={{\r\n                                style: {\r\n                                    background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                    fontSize: '0.9rem', textAlign: 'center', color: '#555', fontWeight: 400,\r\n                                    width: 325, height: '44px'\r\n                                }\r\n                            }}\r\n                        >\r\n                            {el.select === true ?\r\n                                selectOptions ?\r\n                                    selectOptions.map((opt, i) =>\r\n                                        <MenuItem key={i} value={opt} >\r\n                                            {opt}\r\n                                        </MenuItem>\r\n                                    )\r\n                                    :\r\n                                    el.options.map((opt, i) =>\r\n                                        <MenuItem key={i} value={opt} >\r\n                                            {opt}\r\n                                        </MenuItem>\r\n                                    )\r\n                                : null\r\n                            }\r\n\r\n                        </TextField>\r\n                        {el.autoComplete === true && <AutoComplete\r\n                            collection={data[el.collection]}\r\n                            datalist={el.datalist}\r\n                            value={data[el.field] || ''}\r\n                        />\r\n                        }\r\n                    </Fragment>\r\n                ))\r\n            }\r\n        </div>\r\n\r\n    )\r\n}","export const seguroForm = [\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',        \r\n        autoComplete: true,\r\n        datalist: 'seguradora',\r\n        collection: 'seguradoras'\r\n    },\r\n    {       \r\n        field: 'apolice',\r\n        label: 'Apólice',        \r\n        autoComplete: true,\r\n        datalist: 'apolice',\r\n        collection: 'seguros',\r\n        maxLength: 25\r\n    },    \r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emissão',        \r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',        \r\n    }]","import { vistoriaForm } from './vistoriaForm'\r\nimport { seguroForm } from './seguroForm'\r\n\r\nexport const cadForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    maxLength: 8,\r\n    pattern: '[a-zA-Z]{3}[-]?[ ]?\\\\d{4}|[A-Z]{3}[-]?[ ]?[0-9]{1}[A-Z]{1}[0-9]{2}'\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    maxLength: 11,\r\n    pattern: '\\\\d{11}'\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilização',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Convencional', 'Executivo', 'Leito', 'Semi-Leito', 'Urbano']\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Número do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    datalist: 'modeloChassi',\r\n    autoComplete: true,\r\n    collection: 'modelosChassi'\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    max: Number(new Date().getFullYear()),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{ \r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,    \r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    datalist: 'modelo',\r\n    autoComplete: true,\r\n    collection: 'carrocerias'\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    max: Number(new Date().getFullYear() + 1),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{    \r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,    \r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,    \r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situação da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veículo próprio', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n}\r\n]]\r\n    .concat([seguroForm])\r\n    .concat([vistoriaForm])    ","export const vistoriaForm = [\r\n    {\r\n        field: 'cilindros',\r\n        label: 'Cilindros',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12,\r\n        step: 1\r\n    },\r\n    {\r\n        field: 'potencia',\r\n        label: 'Potência (cv)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 600\r\n    },\r\n    {\r\n        field: 'eixos',\r\n        label: 'Eixos',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 8\r\n    },\r\n    {\r\n        field: 'pneumaticos',\r\n        label: 'Pneumáticos',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 20\r\n    },\r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12000\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 15000\r\n    },\r\n    {\r\n        field: 'poltronas',\r\n        label: 'Poltronas',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 120\r\n    },\r\n    {\r\n        field: 'piquesPoltrona',\r\n        label: 'Piques poltrona',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'distanciaMinima',\r\n        label: 'Distância Mínima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',        \r\n        max: 150\r\n    },\r\n    {\r\n        field: 'distanciaMaxima',\r\n        label: 'Distância Máxima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    }   \r\n]","import React from 'react'\r\n\r\nexport default function ClosePopUpButton({close}) {\r\n    return (\r\n        <div style={{\r\n            position: 'absolute',\r\n            top: '0.4%',\r\n            right: '0.4%'\r\n        }}>\r\n            <div>\r\n                <i className=\"material-icons right\" title=\"Fechar\" style={{ cursor: 'pointer', color: 'red' }} onClick={close}>close</i>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\n\r\nimport '../Layouts/popUp.css'\r\n\r\nexport default function AddEquipa({ data, equipamentos, handleCheck, close }) {\r\n\r\n    return <div className='popUpWindow' style={{ right: '33%', left: '33%' }}>\r\n        <h4 className = 'equipaHeader'>Equipamentos</h4> <hr />\r\n        <div className=\"checkListContainer\">\r\n            {\r\n                equipamentos.map((eq, i) =>\r\n                    <span className=\"checkListEquipa\" key={i}>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={data[eq.item]}\r\n                                    value={eq.item}\r\n                                    onChange={() => handleCheck(eq.item)} />\r\n                            }\r\n                            label={<p className=\"checkListLabel\">{eq.item}</p>}\r\n                        />\r\n                    </span>\r\n                )\r\n            }\r\n        </div>\r\n        <ClosePopUpButton close={close} />\r\n    </div>\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nimport TextInput from '../Reusable Components/TextInput'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { cadForm } from '../Forms/cadForm'\r\n\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport AddEquipa from './AddEquipa'\r\n\r\nimport './veiculos.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: '6px'\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 400,\r\n        fontSize: '0.9rem',\r\n        textAlign: 'center'\r\n    },\r\n    selectEmpresa: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        minWidth: 350,\r\n        fontColor: '#bbb',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport default function ({ empresas, equipamentos, data, handleInput, handleBlur,\r\n    handleEquipa, handleCheck }) {\r\n    const { razaoSocial, activeStep, addEquipa,\r\n        delegatarioCompartilhado, subtitle, selectedEmpresa } = data,\r\n\r\n        classes = useStyles(), { paper, container, title, selectEmpresa,\r\n            button, formHolder } = classes\r\n\r\n    const [shared, setShared] = useState(false)\r\n\r\n    const form = cadForm[activeStep]\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <Grid>\r\n                <Paper className={paper} style={{ padding: '0 2% 0 2%' }}>\r\n                    <Grid container justify=\"center\">\r\n                        {activeStep === 0 ?\r\n                            <Grid item xs={shared ? 4 : 12} style={{ marginBottom: '15px' }}>\r\n                                <Typography className={title}> Selecione a Viação</Typography>\r\n\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        list: 'razaoSocial',\r\n                                        name: 'razaoSocial',\r\n                                        style: { textAlign: 'center', fontSize: '0.8rem' }\r\n                                    }}\r\n                                    className={selectEmpresa}\r\n                                    value={razaoSocial}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={empresas}\r\n                                    datalist='razaoSocial'\r\n                                    value={razaoSocial}\r\n                                />\r\n                            </Grid>\r\n                            :\r\n                            <div className='formTitle'>Cadastro de Veículo - {razaoSocial}</div>\r\n                        }\r\n                        {\r\n                            activeStep === 0 && shared && <Grid item xs={4} style={{ marginLeft: '30px' }}>\r\n\r\n                                <Typography className={title}> Empresa autorizada a compartilhar</Typography>\r\n\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        list: 'razaoSocial',\r\n                                        name: 'delegatarioCompartilhado',\r\n                                        style: { textAlign: 'center', fontSize: '0.8rem' }\r\n                                    }}\r\n                                    className={selectEmpresa}\r\n                                    value={delegatarioCompartilhado}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={empresas}\r\n                                    datalist='razaoSocial'\r\n                                    value={delegatarioCompartilhado}\r\n                                />\r\n                            </Grid>\r\n                        }\r\n                    </Grid>\r\n\r\n                    {\r\n                        activeStep === 0 && <Grid item xs={12}>\r\n                            <FormControlLabel\r\n                                control={\r\n                                    <Checkbox\r\n                                        checked={shared === true}\r\n                                        onChange={() => setShared(!shared)}\r\n                                        value={shared}\r\n                                    />\r\n                                }\r\n                                label={\r\n                                    <Typography style={{ color: '#2979ff', fontSize: '0.7rem', float: 'right' }}>\r\n                                        Veículo Compartilhado?\r\n                                    </Typography>\r\n                                }\r\n                            />\r\n                        </Grid>\r\n                    }\r\n\r\n                </Paper>\r\n                {\r\n                    selectedEmpresa\r\n                        ?\r\n                        <Grid item xs={12}>\r\n                            {activeStep < 3 &&\r\n                                <Paper className={paper}>\r\n                                    <div className='formSubtitle'> {subtitle[activeStep]}</div>\r\n                                    <TextInput\r\n                                        form={form}\r\n                                        data={data}\r\n                                        handleBlur={handleBlur}\r\n                                        handleInput={handleInput}\r\n                                    />\r\n                                    {activeStep === 0 &&\r\n                                        <Grid container justify=\"center\">\r\n                                            <Button\r\n                                                variant=\"outlined\"\r\n                                                size=\"small\"\r\n                                                color=\"primary\"\r\n                                                className={button}\r\n                                                onClick={handleEquipa}\r\n                                            >\r\n                                                <AddIcon />\r\n                                                Equipamentos\r\n                                            </Button>\r\n                                        </Grid>}\r\n\r\n                                </Paper>}\r\n                            {\r\n                                addEquipa && <AddEquipa\r\n                                    equipamentos={equipamentos}\r\n                                    close={handleEquipa}\r\n                                    handleCheck={handleCheck}\r\n                                    data={data} />\r\n                            }\r\n                        </Grid>\r\n                        :\r\n                        <Grid container justify=\"center\">\r\n                            <div className={formHolder}></div>\r\n                        </Grid>\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","import React, { Fragment, useState, useEffect } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\n\r\nexport default function DragAndDrop({ title, name, formData, handleFiles, dropDisplay, single, style }) {\r\n\r\n    const [fileName, setFileName] = useState()\r\n\r\n    useEffect(() => {\r\n        if (formData && typeof formData === 'object') {\r\n            for (let pair of formData.entries()) {\r\n                if (name === pair[0]) {\r\n                    setFileName(pair[1].name)\r\n                }\r\n            }\r\n        }\r\n        else setFileName(null)\r\n    }, [formData, name])\r\n\r\n    return (\r\n        <div style={style ? style : null}>\r\n            {title && <p className='fileInput'>{title}</p>}\r\n            <Dropzone onDrop={e => handleFiles(e, name)}>\r\n                {({ getRootProps, getInputProps }) => (\r\n                    <div className={fileName ? 'dropBox fileAttached' : single ? 'dropBox' : 'multipleDropBox'} {...getRootProps()}>\r\n                        <input {...getInputProps()} />\r\n                        {\r\n                            fileName ?\r\n                                <Fragment>\r\n                                    <div> <DescriptionOutlinedIcon className='icon' />  {fileName} </div>\r\n                                    {single &&\r\n                                        <span>(clique ou arraste outro arquivo para alterar)</span>\r\n                                    }\r\n                                </Fragment>\r\n                                :\r\n                                <div> <AttachFileIcon className='icon' />\r\n                                    <span>  {dropDisplay}</span>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                )}\r\n            </Dropzone>\r\n        </div>\r\n    )\r\n}\r\n","export const cadVehicleFiles = [\r\n    { title: 'CRLV do Veículo', name: 'crlv' },\r\n    { title: 'Apólice do Seguro', name: 'apoliceDoc' },\r\n    { title: 'Declaração de Responsabilidade de Manutenção', name: 'declaracao' },\r\n    { title: 'Certificado de Vistoria', name: 'vistoria' },\r\n    { title: 'DAE Quitada', name: 'dae' },\r\n    { title: 'Laudo de Pesagem', name: 'pesagem' },\r\n    //{ title: 'Laudo de Vistoria INMETRO', name: 'inmetro' },    \r\n]","export const altDadosFiles = [\r\n    { title: 'Documento de Transferência', name: 'transferenciaDoc' },\r\n    { title: 'Declaração de Responsabilidade de Manutenção', name: 'declaracao' },\r\n    { title: 'Certificado de Vistoria', name: 'vistoria' },\r\n    { title: 'DAE Quitada', name: 'dae' },\r\n    { title: 'Laudo de Pesagem', name: 'pesagem' },\r\n    { title: 'CRLV com nova placa', name: 'newPlateDoc' },\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { altDadosFiles } from '../Forms/altDadosFiles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    root: {\r\n        flexGrow: '1',\r\n        margin: '5px',\r\n        padding: '8px',\r\n    },\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 14px 0',\r\n        height: 'auto',\r\n        minHeight: '350px'\r\n    },\r\n    sendButton: {\r\n        margin: '3% 0 3% 0',\r\n        backgroundColor: 'teal',\r\n        float: 'right'\r\n    },\r\n    text: {\r\n        textAlign: 'left',\r\n        margin: theme.spacing(2),\r\n        fontSize: '0.9rem',\r\n        fontWeight: '500',\r\n        color: '#333'\r\n    },\r\n    item: {\r\n        marginTop: '10px',\r\n        padding: '0 5px'\r\n    }\r\n}))\r\n\r\nexport default function VehicleDocs({ handleFiles, parentComponent, dropDisplay, formData, insuranceExists }) {\r\n    const { root, paper, item } = useStyles()\r\n\r\n    let filesForm\r\n    if (parentComponent === 'cadastro') filesForm = cadVehicleFiles\r\n    if (parentComponent === 'altDados') filesForm = altDadosFiles\r\n    \r\n    return (\r\n        <div >\r\n            <Paper className={paper}>\r\n                <div className=\"formSubtitle\"> Anexe os documentos solicitados nos campos abaixo </div>\r\n                <Grid container className={root}>\r\n                    {filesForm.map(({ title, name }, k) =>\r\n                        name === 'apoliceDoc' && insuranceExists ? null :\r\n                        <Fragment key={k}>\r\n                            <Grid item xs={10} md={4} className={item}>\r\n                                <DragAndDrop\r\n                                    title={title}\r\n                                    name={name}\r\n                                    formData={formData}\r\n                                    dropDisplay={dropDisplay}\r\n                                    handleFiles={handleFiles}\r\n                                />\r\n                            </Grid>\r\n                        </Fragment>\r\n                    )}\r\n                </Grid>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\n\r\nconst divContainer = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    alignContent: 'center',\r\n    flexWrap: 'wrap'\r\n}\r\n\r\nconst divFiles = {\r\n    textAlign: 'center',\r\n    alignItems: 'flex-start',\r\n    height: '40px',\r\n    border: '1px #ccc solid',\r\n    padding: '7px 8px 0 8px',\r\n    margin: '1% 1% 0.5% 1%',\r\n    fontSize: '0.8rem',\r\n    backgroundColor: '#f6f6f6',\r\n    borderRadius: '6px',\r\n\r\n}\r\n\r\nconst icon = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    paddingLeft: '2%'\r\n}\r\n\r\nconst fileIcon = {\r\n    verticalAlign: 'middle',\r\n    padding: '0 0% 0 2%',\r\n\r\n}\r\n\r\nexport default function ShowLocalFiles({ form, files }) {\r\n\r\n    /* let doc\r\n    if (files) doc = contratoSocial.get('contratoSocial') || new FormData() */\r\n\r\n    const createLink = (key, fileName) => {\r\n\r\n        const file = files.get(key)\r\n\r\n        const url = window.URL.createObjectURL(file);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n\r\n        if (file && (file.type === 'application/pdf' || file.type.match('image/'))) {\r\n            link.setAttribute('rel', \"noopener\")\r\n            link.setAttribute('target', \"_blank\")\r\n            link.setAttribute('title', fileName)\r\n        }\r\n        else link.setAttribute('download', fileName)\r\n        document.body.appendChild(link);\r\n        link.click();\r\n    }\r\n\r\n    let fileArray = []\r\n\r\n    if (files) for (let pair of files.entries()) {\r\n        form.forEach(({ name, title }) => {\r\n            if (name === pair[0]) {\r\n                if (pair[1] && pair[1].name)\r\n                    fileArray.push({ label: title, fieldName: name, fileName: pair[1].name })\r\n            }\r\n        })\r\n    }    \r\n    return <React.Fragment>\r\n        <div style={divContainer}>\r\n            {fileArray.map((f, i) =>\r\n                <div style={divFiles} key={i}>\r\n                    <InsertDriveFileOutlinedIcon style={fileIcon} />\r\n                    <span style={{ verticalAlign: 'middle', }}>\r\n                        {' '} {f.label}\r\n                    </span>\r\n                    <GetAppIcon style={icon}\r\n                        onClick={() => createLink(f.fieldName, f.fileName)} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    </React.Fragment >\r\n}","import axios from 'axios'\r\n//import { logout } from '../auth/logout';\r\n\r\nconst downloadFile = (id, originalName, collection, fieldName) => {\r\n    if (fieldName && fieldName === 'apoliceDoc') collection = 'empresaDocs'\r\n        axios({\r\n            url: `/api/mongoDownload/?collection=${collection}&id=${id}`,\r\n            method: 'GET',\r\n            responseType: 'blob', // important\r\n        }).then((response) => {\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', originalName);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n        })\r\n            .catch(err => {\r\n                console.log(err)\r\n                //          logout(err)\r\n            })\r\n}\r\n\r\nexport default downloadFile","import React from 'react'\r\nimport moment from 'moment'\r\nimport downloadFile from '../Utils/downloadFile'\r\n\r\nexport default function StandardTable({ length, title, labels, values, style, docs }) {\r\n\r\n    const dateFormat = value => {\r\n        if (moment(value, 'YYYY-MM-DDTHH:mm:ss.SSSZZ', true).isValid()) {\r\n            return moment(value, moment.ISO_8601, true).format('DD/MM/YYYY')\r\n        }\r\n        else {\r\n            return value\r\n        }\r\n    }\r\n\r\n    return (\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th className='tHeader'\r\n                        style={style}\r\n                        colSpan={length}>{title}</th>\r\n                </tr>\r\n                <tr>\r\n                    {labels.map((l, i) => <th key={i} style={style}>{l}</th>)}\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    {values.map((v, j) =>\r\n                        <td className='review' key={j} style={style} onClick={() => docs && docs.id ? downloadFile(docs.id, docs.filename, 'vehicleDocs', docs.metadata.fieldName) : null}>\r\n                            {dateFormat(v)}\r\n                        </td>\r\n                    )}\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n","import React, { Fragment } from 'react'\r\n\r\nimport ShowLocalFiles from '../Utils/ShowLocalFiles'\r\nimport StandardTable from '../Reusable Components/StandardTable'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 5px 0',\r\n        height: 'auto'\r\n    }\r\n}))\r\n\r\nexport default function Revisao({ data, parentComponent, form, filesForm, files }) {\r\n\r\n    const classes = useStyles(),\r\n        { paper } = classes\r\n\r\n    let vehicleDetails = [], obj = {}, newForm = [], filledForm = [], ultimateData\r\n    form.forEach(f => {\r\n        f.forEach(e => {\r\n            if (data.hasOwnProperty([e.field])) {\r\n                Object.assign(obj, { [e.field]: data[e.field] })\r\n                newForm.push(e)\r\n            }\r\n        })\r\n        vehicleDetails.push(obj)\r\n        filledForm.push(newForm)\r\n        obj = {}\r\n        newForm = []\r\n    })\r\n    if (parentComponent === 'cadastro') ultimateData = [\r\n        { subtitle: 'Detalhes do veículo', form: filledForm[0], data: vehicleDetails[0] },\r\n        { subtitle: 'Detalhes do seguro', form: filledForm[1], data: vehicleDetails[1] },\r\n        { subtitle: 'Informações sobre a vistoria', form: filledForm[2], data: vehicleDetails[2] },\r\n    ]\r\n\r\n    if (parentComponent === 'altDados') ultimateData = [\r\n        { subtitle: 'Detalhes do veículo', form: filledForm[0], data: vehicleDetails[0] },\r\n        { subtitle: 'Informações sobre a vistoria', form: filledForm[1], data: vehicleDetails[1] }\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <Paper className={paper}>\r\n                <main className='divTable'>\r\n                    {\r\n                        ultimateData.map(({ subtitle, form, data }, y) =>\r\n                            <Fragment key={y}>\r\n                                <StandardTable\r\n                                    length={form.length}\r\n                                    title={subtitle}\r\n                                    labels={form.map(s=> s.label)}\r\n                                    values={Object.values(data)}\r\n                                />\r\n                            </Fragment>\r\n                        )}\r\n                </main>\r\n                <section style={{ margin: '30px 0 0 25px' }}>\r\n                    <h3> Equipamentos </h3>\r\n                    <p>\r\n                        {\r\n                            Array.isArray(data.equipamentosId) && data.equipamentosId &&\r\n                            data.equipamentosId.map((e, i) => <span\r\n                                style={{\r\n                                    fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana',\r\n                                    fontSize: '12px'\r\n                                }}\r\n                                key={i}>\r\n                                {i !== data.equipamentosId.length ? e + ', ' : e\r\n                                }\r\n                            </span>)\r\n                        }\r\n                    </p>\r\n                </section>\r\n\r\n                <h3 style={{ margin: '30px 0 0 25px' }}> <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} /> Documentos </h3>\r\n                {files && <ShowLocalFiles form={filesForm} files={files} />}\r\n            </Paper >\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nexport default function Crumbs({links, text}) {\r\n    return (\r\n        <Grid style={{ marginTop: '1%', paddingLeft: '1%' }}>\r\n            <Breadcrumbs separator=\"›\" aria-label=\"breadcrumb\" >\r\n                <Link\r\n                    to='/' style={{}}\r\n                >\r\n                    <HomeIcon style={{ verticalAlign: 'middle', marginRight: '5px', paddingBottom: '3px' }} />\r\n                    <span style={{ fontSize: '0.8rem', }}>\r\n                        Página inicial\r\n                    </span>\r\n\r\n                </Link>\r\n                <Link color=\"primary\" to={links[1]} style={{ fontSize: '0.8rem' }}>\r\n                    {links[0]}\r\n            </Link>\r\n                <span style={{ fontSize: '0.8rem' }} >{text}</span>\r\n            </Breadcrumbs>\r\n        </Grid>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Button } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    button: {\r\n        margin: theme.spacing(1),\r\n        float: 'right'\r\n    },\r\n    backButton: {\r\n        margin: theme.spacing(1),\r\n        float: 'left',\r\n        color: '#333',\r\n        backgroundColor: '#eee'\r\n    }\r\n}))\r\n\r\nexport default function StepperButtons({ activeStep, setActiveStep, lastStep, handleSubmit, disabled }) {\r\n    \r\n    const classes = useStyles(), { backButton, button } = classes\r\n    return (\r\n        <div>\r\n            <Button\r\n                variant=\"contained\"\r\n                className={backButton}\r\n                onClick={() => setActiveStep('back')}\r\n                disabled={activeStep === 0}\r\n            >\r\n                Voltar\r\n            </Button>\r\n            {activeStep < lastStep ?\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={button}\r\n                    onClick={() => setActiveStep('next')}\r\n                    disabled={disabled}\r\n                >\r\n                    Avançar\r\n                </Button>\r\n                :\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={button}\r\n                    onClick={() => handleSubmit()}\r\n                >\r\n                    Aprovar\r\n            </Button>}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        marginTop: '1%',\r\n    },\r\n    button: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        padding: '1% 0 0 3%',\r\n        fontWeight: 500\r\n    },\r\n}))\r\n\r\nexport default function CustomStepper({ activeStep, steps }) {\r\n\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Stepper activeStep={activeStep}>\r\n                {steps.map((label, index) => {\r\n                    const stepProps = {};\r\n                    const labelProps = {};\r\n                    return (\r\n                        <Step key={label} {...stepProps}>\r\n                            <StepLabel {...labelProps}>{label}</StepLabel>\r\n                        </Step>\r\n                    )\r\n                })}\r\n            </Stepper>\r\n        </div>\r\n    )\r\n}","import React, { Fragment } from 'react';\r\nimport clsx from 'clsx';\r\n//import { ErrorIcon, InfoIcon, Close, WarningIcon } from '@material-ui/icons/';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport { Snackbar, SnackbarContent, Icon } from '@material-ui/core';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles1 = makeStyles(theme => ({\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    icon: {\r\n        fontSize: 20,\r\n    },\r\n    iconVariant: {\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center'        \r\n    },\r\n}));\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles1();\r\n    const { className, message, onClose, variant, ...other } = props;\r\n\r\n\r\n    return (\r\n        <SnackbarContent\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <Fragment>\r\n                    <span id=\"client-snackbar\" className={classes.message}>\r\n                        <Icon>check</Icon>    {message}\r\n                    </span>\r\n                </Fragment>\r\n            }\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nexport default function CustomizedSnackbars(props) {\r\n    \r\n    return (\r\n        <div>\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                open={props.open}\r\n                autoHideDuration={2000}\r\n                onClose={props.close}\r\n            >\r\n                <MySnackbarContentWrapper\r\n                    variant=\"success\"\r\n                    message={props.msg}                    \r\n                />\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n}","export const formatMoney = (value = '') => {\r\n    let v = value.replace(/\\D/g, '');\r\n    v = (v / 100).toFixed(2) + '';\r\n    v = v.replace(\".\", \",\");\r\n    v = v.replace(/(\\d)(\\d{3})(\\d{3}),/g, \"$1.$2.$3,\");\r\n    v = v.replace(/(\\d)(\\d{3}),/g, \"$1.$2,\");\r\n    return v\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog({ open, alertType, close, confirm, customTitle = '', customMessage = '' }) {\r\n\r\n  const createAlert = type => {\r\n    let title, message\r\n    if (typeof type === 'object') {\r\n      title = 'Empresa já cadastrada'\r\n      message = `A empresa ${type.razaoSocial} já está cadastrada no sistema com o CNPJ ${type.cnpj}.`\r\n      return { title, message }\r\n    }\r\n\r\n    switch (type) {\r\n      case 'plateNotFound':\r\n        title = 'Placa não encontrada'\r\n        message = 'A placa informada não corresponde a nenhum veículo da frota da viação selecionada. Para cadastrar um novo veículo, selecione a opção Veículos => \"Cadastro de Veículo\" no menu acima.'\r\n        return { title, message }\r\n      case 'invalidPlate':\r\n        title = 'Placa inválida'\r\n        message = 'Certifique-se de que a placa informada é uma placa válida, com três letras seguidas de 4 números (ex: AAA-0000)'\r\n        return { title, message }\r\n      case 'plateExists':\r\n        title = 'Placa já cadastrada!'\r\n        message = 'A placa informada já está cadastrada. Para atualizar seguro, alterar dados ou solicitar baixa, utilize as opções acima. '\r\n        return { title, message }\r\n      case 'invalidModel':\r\n        title = 'Modelo não cadastrado.'\r\n        message = customMessage\r\n        return { title, message }\r\n      case 'inputError':\r\n        title = 'Preenchimento inválido.'\r\n        message = customMessage\r\n        return { title, message }\r\n      case 'fieldsMissing':\r\n        title = 'Favor preencher todos os campos.'\r\n        message = 'Os campos acima são de preenchimento obrigatório. Certifique-se de ter preenchido todos eles.'\r\n        return { title, message }\r\n      case 'invalidInsurance':\r\n        title = 'Favor verificar os dados do seguro.'\r\n        message = 'As informações referentes ao seguro do veículo são obrigatórias. Certifique-se de ter informado todas elas.'\r\n        return { title, message }\r\n      case 'filesNotFound':\r\n        const subject = 'Procuração'\r\n        title = 'Arquivos não encontrados'\r\n        message = `Não há nenhum arquivo anexado no sistema para a ${subject} selecionada. \r\n          Ao cadastrar ou atualizar a ${subject}, certifique-se de anexar o arquivo correspondente.`\r\n        return { title, message }\r\n\r\n      case 'empresaNotFound':\r\n        title = 'Empresa não encontrada.'\r\n        message = `A empresa informada não está registrada no sistema. Para cadastrar uma nova empresa, utilize a opção Empresas -> Cadastrar.`\r\n        return { title, message }\r\n      case 'seguradoraNotFound':\r\n        title = 'Seguradora não encontrada.'\r\n        message = `A seguradora informada não está registrada no sistema. Favor verificar o nome da seguradora.`\r\n        return { title, message }\r\n\r\n      case 'alreadyExists':\r\n        title = 'CPF já cadastrado.'\r\n        message = `O CPF informado corresponde a um sócio já cadastrado. \r\n          Para remover ou editar as informações dos sócios, utilize a respectiva opção abaixo.`\r\n        return { title, message }\r\n      case 'numberNotValid':\r\n        title = 'Número inválido.'\r\n        message = 'O número digitado não é válido.'\r\n        return { title, message }\r\n      case 'overShared':\r\n        title = 'Participação societária inválida.'\r\n        message = 'A participação societária informada excede a 100%.'\r\n        return { title, message }\r\n      case 'subShared':\r\n        title = 'Participação societária inválida.'\r\n        message = 'A participação societária informada não soma 100%. Favor informar todos os sócios com suas respectivas participações.'\r\n        return { title, message }\r\n      case 'veiculoPendente':\r\n        title = 'Pendências encontradas para este veículo.'\r\n        message = 'Verifique se há alguma aprovação pendente quanto ao cadastro, seguro, transferência ou alteração de dados do veículo.'\r\n        return { title, message }\r\n      case 'seguroVencido':\r\n        title = 'Pendências encontradas para o seguro deste veículo.'\r\n        message = 'Para regularizar o seguro deste veículo, acesse a opção Veículos=>Seguros no menu acima.'\r\n        return { title, message }\r\n      case 'contratoVencido':\r\n        title = 'Contrato expirado.'\r\n        message = 'O contrato de concessão com o delegatário selecionado está expirado.'\r\n        return { title, message }\r\n      default:\r\n        return { title: null, message: null }\r\n    }\r\n  }\r\n  const { title, message } = createAlert(alertType)\r\n\r\n  if (title && message) return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={close}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {message}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={close} color=\"primary\">\r\n            {confirm ? 'Cancelar' : 'Fechar'}\r\n          </Button>\r\n          {confirm && <Button onClick={close} color=\"primary\" autoFocus>\r\n            Confirmar\r\n          </Button>}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n  else return null\r\n}","import React, { PureComponent, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport moment from 'moment'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport CadVeiculoTemplate from './CadVeiculoTemplate'\r\nimport VehicleDocs from './VehicleDocs'\r\nimport Review from './VehicleReview'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport StepperButtons from '../Utils/StepperButtons'\r\nimport CustomStepper from '../Utils/Stepper'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport { formatMoney } from '../Utils/formatMoney'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { cadForm } from '../Forms/cadForm'\r\n\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass VeiculosContainer extends PureComponent {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        activeStep: 0,\r\n        steps: ['Dados do Veículo', 'Dados do seguro', 'Vistoria e laudos', 'Documentos', 'Revisão'],\r\n        subtitle: ['Informe os dados do Veículo', 'Informe os dados do Seguro',\r\n            'Preencha os campos abaixo conforme a vistoria realizada'],\r\n        razaoSocial: '',\r\n        frota: [],\r\n        delegatarioCompartilhado: '',\r\n        toastMsg: 'Veículo cadastrado!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        insuranceExists: false,\r\n        addEquipa: false,\r\n        openAlertDialog: false,\r\n        dropDisplay: 'Clique ou arraste para anexar'\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n        const { redux } = this.props,\r\n            { modelosChassi, carrocerias, seguradoras } = redux\r\n        let equipamentos = {}\r\n\r\n        if (redux && redux.equipamentos) {\r\n            redux.equipamentos.forEach(e => Object.assign(equipamentos, { [e.item]: false }))\r\n            const equipArray = Object.keys(equipamentos)\r\n            await this.setState({\r\n                modelosChassi, carrocerias, seguradoras, equipamentos: equipArray, ...equipamentos,\r\n                allInsurances: this.props.redux['seguros']\r\n            })\r\n        }\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n\r\n        if (this.state.activeStep === 0) {\r\n            const matchPlaca = this.state.frota.filter(v => v.placa === this.state.placa)[0]\r\n            if (matchPlaca) {\r\n                await this.setState({ placa: '' });\r\n                this.setState({ alertType: 'plateExists', openAlertDialog: true })\r\n                return null\r\n            }\r\n        }\r\n\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n\r\n        let array = []\r\n        const { equipamentos } = this.state\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n\r\n        if (prevActiveStep === 1) {\r\n            equipamentos.forEach(e => {\r\n                if (this.state[e] === true) {\r\n                    array.push(e)\r\n                }\r\n            })\r\n            if (array[0]) this.setState({ equipamentosId: array })\r\n            else this.setState({ equipamentosId: [] })\r\n        }\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { veiculos, empresas } = this.props.redux,\r\n            { allInsurances, apolice, seguradora, dataEmissao, vencimento } = this.state,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n\r\n                let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n                if (selectedEmpresa) {\r\n                    const { razaoSocial, delegatarioId } = selectedEmpresa\r\n                    await this.setState({ selectedEmpresa, razaoSocial, delegatarioId })\r\n                    if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                    const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n                    const filteredInsurances = allInsurances.filter(seguro => seguro.empresa === this.state.razaoSocial)\r\n\r\n                    this.setState({ frota, seguros: filteredInsurances })\r\n\r\n                } else this.setState({ selectedEmpresa: undefined, frota: [], placa: undefined, apolice: undefined })\r\n                break\r\n\r\n            case 'placa':\r\n                if (typeof value === 'string') {\r\n                    value = value.toLocaleUpperCase()\r\n                    await this.setState({ [name]: value })\r\n                }\r\n                break\r\n\r\n            case ('apolice' || 'seguradora'): {\r\n                const\r\n                    { seguros } = this.props.redux,\r\n                    { selectedEmpresa } = this.state,\r\n                    s = [...seguros.filter(se => se.delegatarioId === selectedEmpresa.delegatarioId)]\r\n\r\n                let insuranceExists,\r\n                    testApolice = { ...s.find(s => s[name] === value) },\r\n                    testSeguradora = { ...s.find(s => s[name] === value && s.apolice === this.state.apolice) }\r\n\r\n                if (name === 'apolice') insuranceExists = testApolice\r\n                if (name === 'seguradora') insuranceExists = testSeguradora\r\n\r\n                if (insuranceExists && insuranceExists.dataEmissao && insuranceExists.vencimento) {\r\n\r\n                    const dataEmissao = moment(insuranceExists.dataEmissao).format('YYYY-MM-DD'),\r\n                        vencimento = insuranceExists.vencimento.toString().slice(0, 10),\r\n                        seguradora = insuranceExists.seguradora\r\n                    await this.setState({ seguradora, dataEmissao, vencimento, insuranceExists })\r\n                    return\r\n                }\r\n                if (Object.keys(insuranceExists).length === 0) {\r\n                    let newInsurance = {}\r\n                    Object.assign(newInsurance,\r\n                        {\r\n                            empresa: selectedEmpresa.razaoSocial,\r\n                            delegatarioId: selectedEmpresa.delegatarioId,\r\n                            apolice, seguradora, dataEmissao, vencimento, placas: [], veiculos: []\r\n                        })\r\n                    await this.setState({ newInsurance, insuranceExists: false, dataEmissao: '', vencimento: '' })\r\n                }\r\n                break\r\n            }\r\n            case ('valorChassi'):\r\n                this.setState({ [name]: formatMoney(value) })\r\n                break\r\n            case ('valorCarroceria'):\r\n                this.setState({ [name]: formatMoney(value) })\r\n                break\r\n\r\n            default: void 0\r\n        }\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId, alertLabel) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            this.setState({\r\n                alertType: 'invalidModel', openAlertDialog: true,\r\n                customMsg: `O modelo de ${alertLabel} não está cadastrado no sistema.`\r\n            })\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const\r\n            { empresas, seguros } = this.props.redux,\r\n            { frota, modelosChassi, carrocerias, seguradoras, allInsurances } = this.state,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n            case 'modeloChassi':\r\n                this.getId(name, value, modelosChassi, 'modeloChassiId', 'modeloChassi', 'id', 'chassi')\r\n                break;\r\n            case 'modeloCarroceria':\r\n                this.getId(name, value, carrocerias, 'modeloCarroceriaId', 'modelo', 'id', 'carroceria')\r\n                break;\r\n            case 'delegatarioCompartilhado':\r\n                this.getId(name, value, empresas, 'compartilhadoId', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            case 'seguradora':\r\n                await this.getId(name, value, seguradoras, 'seguradoraId', 'seguradora', 'id', 'Seguradora')\r\n                let filteredInsurances = []\r\n\r\n                if (this.state.delegatarioId && this.state.seguradora === '') {\r\n                    filteredInsurances = allInsurances.filter(s => s.delegatarioId === this.state.delegatarioId)\r\n                    this.setState({ seguros: filteredInsurances })\r\n                }\r\n                if (!this.state.delegatarioId && this.state.seguradora !== '') {\r\n                    filteredInsurances = allInsurances.filter(s => s.seguradora === this.state.seguradora)\r\n                    this.setState({ seguros: filteredInsurances })\r\n                }\r\n                if (this.state.delegatarioId && this.state.seguradora !== '') {\r\n                    filteredInsurances = allInsurances\r\n                        .filter(s => s.delegatarioId === this.state.delegatarioId)\r\n                        .filter(s => s.seguradora === this.state.seguradora)\r\n                    this.setState({ seguros: filteredInsurances })\r\n                }\r\n                break\r\n            case 'apolice':\r\n                const insuranceExists = seguros.find(s => s.apolice === value)\r\n                if (insuranceExists) this.setState({ insuranceExists })\r\n                break\r\n\r\n            default: void 0\r\n        }\r\n\r\n        if (name === 'placa' && typeof this.state.frota !== 'string') {\r\n\r\n            if (value.length === 7) {\r\n                const x = value.replace(/(\\w{3})/, '$1-')\r\n                await this.setState({ placa: x })\r\n                value = x\r\n            }\r\n            if (value.length === 8) {\r\n                const x = value.replace(' ', '-')\r\n                await this.setState({ placa: x })\r\n                value = x\r\n            }\r\n            const matchPlaca = frota.find(v => v.placa === value)\r\n            if (matchPlaca) {\r\n                await this.setState({ placa: null });\r\n                value = ''\r\n                this.setState({ alertType: 'plateExists', openAlertDialog: true })\r\n                document.getElementsByName('placa')[0].focus()\r\n            }\r\n        }\r\n    }\r\n\r\n    handleCadastro = async () => {\r\n        const { anoCarroceria, equipamentosId, pesoDianteiro, pesoTraseiro,\r\n            poltronas, delegatarioId, compartilhadoId, seguros, modeloChassiId,\r\n            modeloCarroceriaId, seguradoraId } = this.state,\r\n            situacao = 'Ativo',\r\n            indicadorIdade = anoCarroceria\r\n\r\n        let pbt = Number(poltronas) * 93 + (Number(pesoDianteiro) + Number(pesoTraseiro))\r\n        if (isNaN(pbt)) pbt = undefined\r\n\r\n        let review = {}\r\n\r\n        cadForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                for (let k in this.state) {\r\n                    if (k === obj.field) Object.assign(review, { [k]: this.state[k] })\r\n                }\r\n            })\r\n        })\r\n\r\n        let\r\n            { dataEmissao, vencimento, delegatarioCompartilhado,\r\n                modeloChassi, modeloCarroceria, seguradora, ...vReview } = review,\r\n                \r\n            seguro = { apolice: review.apolice, seguradoraId, delegatarioId }\r\n\r\n        const\r\n            validEmissao = moment(dataEmissao, 'YYYY-MM-DD', true).isValid(),\r\n            validVenc = moment(vencimento, 'YYYY-MM-DD', true).isValid()\r\n\r\n        if (validEmissao) seguro.dataEmissao = dataEmissao\r\n        if (validVenc) seguro.vencimento = vencimento\r\n\r\n        Object.assign(vReview, {\r\n            delegatarioId, situacao, indicadorIdade, pbt, equipamentosId,\r\n            modeloChassiId, modeloCarroceriaId\r\n        })\r\n        vReview.delegatarioCompartilhado = compartilhadoId\r\n\r\n        Object.keys(vReview).forEach(key => {\r\n            if (vReview[key] === '') delete vReview[key]\r\n        })\r\n        Object.keys(seguro).forEach(key => {\r\n            if (seguro[key] === '') delete seguro[key]\r\n        })\r\n\r\n        const vehicle = humps.decamelizeKeys(vReview)\r\n        const insurance = humps.decamelizeKeys(seguro)\r\n\r\n        const insuranceExists = seguros.filter(s => s.apolice === insurance.apolice)\r\n\r\n        if (insuranceExists[0]) {\r\n            await axios.post('/api/cadastroVeiculo', vehicle)\r\n                .then(res => {\r\n                    const veiculoId = res.data\r\n                    this.submitFiles(veiculoId)\r\n                })\r\n                .catch(err => console.log(err))\r\n            this.resetState()\r\n            this.toast()\r\n\r\n        } else if (!insuranceExists[0] && insurance.apolice !== undefined\r\n            && insurance.apolice.length > 2 && insurance.seguradora_id !== undefined) {\r\n            let veiculoId\r\n            await axios.post('/api/cadastroVeiculo', vehicle)\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    veiculoId = res.data\r\n                    this.submitFiles(veiculoId)\r\n                })\r\n                .catch(err => console.log(err))\r\n            await axios.post('/api/cadSeguro', insurance)\r\n                .then((res) => console.log(res.data))\r\n\r\n            const body = {\r\n                table: 'veiculo',\r\n                column: 'apolice',\r\n                value: insurance.apolice,\r\n                tablePK: 'veiculo_id',\r\n                ids: [veiculoId]\r\n            }\r\n            await axios.put('/api/updateInsurances', body)\r\n                .then(res => console.log(res.data))\r\n\r\n\r\n\r\n            this.resetState()\r\n            this.toast()\r\n\r\n        } else {\r\n            this.setState({ alertType: 'invalidInsurance', openAlertDialog: true })\r\n        }\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files.length > 0) {\r\n            let\r\n                formData = new FormData(),\r\n                fn = this.state.fileNames\r\n\r\n            fn.push({ [name]: files[0].name })\r\n            await this.setState({ filesNames: fn, [name]: files[0] })\r\n\r\n            cadVehicleFiles.forEach(({ name }) => {\r\n                for (let keys in this.state) {\r\n                    if (keys.match(name)) {\r\n                        formData.append(name, this.state[name])\r\n                        if (!formData.get(keys)) formData.delete(keys)\r\n                    }\r\n                    else void 0\r\n                }\r\n            })\r\n            this.setState({ form: formData })\r\n        }\r\n    }\r\n\r\n    submitFiles = async veiculoId => {\r\n        const\r\n            { selectedEmpresa, apolice } = this.state,\r\n            { delegatarioId } = selectedEmpresa\r\n        let\r\n            newForm = new FormData(),\r\n            seguroForm = new FormData()\r\n\r\n        if (veiculoId && this.state.form) {\r\n            newForm.append('veiculoId', veiculoId);\r\n            for (let pair of this.state.form.entries()) {\r\n                if (pair[0] && pair[1]) {\r\n                    if (pair[0] === 'apoliceDoc') {\r\n                        seguroForm.append('fieldName', 'apoliceDoc')\r\n                        seguroForm.append('apolice', apolice)\r\n                        seguroForm.append('empresaId', delegatarioId)\r\n                        seguroForm.append(pair[0], pair[1])\r\n                    }\r\n                    else if (pair[1]) newForm.append(pair[0], pair[1])\r\n                }\r\n                else {\r\n                    newForm = null\r\n                    seguroForm = null\r\n                }\r\n            }\r\n        }\r\n        for (let pair of newForm.entries()) {\r\n            console.log(pair[0], pair[1])\r\n        }\r\n        if (newForm) await axios.post('/api/vehicleUpload', newForm)\r\n            .then(res => console.log(res.data))\r\n            .catch(err => console.log(err))\r\n        if (seguroForm) await axios.post('/api/empresaUpload', seguroForm)\r\n            .then(res => console.log(res.data))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    showFiles = id => {\r\n\r\n        let selectedFiles = this.state.files.filter(f => f.metadata.veiculoId === id.toString())\r\n\r\n        if (selectedFiles[0]) {\r\n            this.setState({ filesCollection: selectedFiles, showFiles: true, selectedVehicle: id })\r\n\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n            this.setState({ filesCollection: [] })\r\n        }\r\n    }\r\n\r\n    resetState = () => {\r\n        const\r\n            resetState = {},\r\n            { equipamentos } = this.props.redux,\r\n            resetFiles = {},\r\n            resetEquip = {}\r\n\r\n        cadForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                Object.keys(obj).forEach(key => {\r\n                    if (key === 'field' && this.state[obj[key]]) Object.assign(resetState, { [obj[key]]: undefined })\r\n                })\r\n            })\r\n        })\r\n        cadVehicleFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: null })\r\n        })\r\n\r\n        equipamentos.forEach(e => Object.assign(resetEquip, { [e.item]: false }))\r\n\r\n        this.setState({\r\n            ...resetState,\r\n            ...resetFiles,\r\n            ...resetEquip,\r\n            activeStep: 0,\r\n            razaoSocial: '',\r\n            selectedEmpresa: undefined,\r\n            frota: [],\r\n            delegatarioCompartilhado: '',\r\n            files: [],\r\n            fileNames: [],\r\n            insuranceExists: false,\r\n            form: new FormData()\r\n        })\r\n    }\r\n\r\n    handleCheck = item => this.setState({ ...this.state, [item]: !this.state[item] })\r\n    handleEquipa = () => this.setState({ addEquipa: !this.state.addEquipa })\r\n    toggleDialog = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const\r\n            { confirmToast, toastMsg, activeStep, openAlertDialog, alertType, steps,\r\n                selectedEmpresa, placa, dropDisplay, form, insuranceExists } = this.state,\r\n            { empresas, equipamentos } = this.props.redux\r\n\r\n        return <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Cadastro de veículo' />\r\n\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <CadVeiculoTemplate\r\n                data={this.state}\r\n                empresas={empresas}\r\n                equipamentos={equipamentos}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                handleEquipa={this.handleEquipa}\r\n                handleCheck={this.handleCheck}\r\n                match={this.props.match}\r\n            />\r\n            {activeStep === 3 && <VehicleDocs\r\n                parentComponent='cadastro'\r\n                handleFiles={this.handleFiles}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n                insuranceExists={insuranceExists}\r\n            />}\r\n\r\n            {activeStep === 4 && <Review\r\n                parentComponent='cadastro' files={this.state.form}\r\n                filesForm={cadVehicleFiles} data={this.state}\r\n                form={cadForm}\r\n            />}\r\n\r\n            {selectedEmpresa && <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleCadastro}\r\n                setActiveStep={this.setActiveStep}\r\n                disabled={(typeof placa !== 'string' || placa === '')}\r\n            />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.toggleDialog} alertType={alertType} customMessage={this.state.customMsg} />}\r\n        </Fragment>\r\n    }\r\n}\r\nconst collections = ['veiculos', 'empresas', 'modelosChassi', 'carrocerias',\r\n    'seguradoras', 'seguros', 'equipamentos']\r\n\r\nexport default StoreHOC(collections, VeiculosContainer)","import { altFormVistoria } from './altFormVistoria'\r\n\r\nexport const altForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    datalist: 'placa',\r\n    autoComplete: true,\r\n    collection: 'frota',\r\n},\r\n{\r\n    field: 'delegatario',\r\n    label: 'Delegatário',\r\n    margin: 'normal',\r\n    datalist: 'razaoSocial',\r\n    autoComplete: true,\r\n    collection: 'empresas'\r\n},\r\n{\r\n    field: 'compartilhado',\r\n    label: 'Delegatário Compartilhado',\r\n    margin: 'normal',\r\n    datalist: 'razaoSocial',\r\n    autoComplete: true,\r\n    collection: 'empresas'\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilização',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Convencional', 'Executivo', 'Leito', 'Semi-Leito', 'Urbano']\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situação da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veículo próprio', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Número do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17,\r\n    disabled: true\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    disabled: true\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    disabled: true\r\n},\r\n\r\n]]\r\n    .concat([altFormVistoria])\r\n    .concat([[]])\r\n    .concat([[]])","export const altFormVistoria = [\r\n  \r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12000\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 15000\r\n    },\r\n    {\r\n        field: 'poltronas',\r\n        label: 'Poltronas',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 120\r\n    },\r\n    {\r\n        field: 'piquesPoltrona',\r\n        label: 'Piques poltrona',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'distanciaMinima',\r\n        label: 'Distância Mínima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',        \r\n        max: 150\r\n    },\r\n    {\r\n        field: 'distanciaMaxima',\r\n        label: 'Distância Máxima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    }         \r\n]","import React from 'react'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AutoComplete from '../Utils/autoComplete'\r\n\r\nimport './commonStyles.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1),\r\n        minWidth: '700px'\r\n    }\r\n}));\r\n\r\nexport default function SelectEmpresa(props) {\r\n\r\n    const\r\n        { empresas, handleInput, handleBlur } = props,\r\n        { razaoSocial } = props.data,\r\n        classes = useStyles(), { paper } = classes\r\n\r\n    return (\r\n        <div className='selectEmpresa'>\r\n            <Paper className={paper} style={{ padding: '0 2% 0 2%' }}>\r\n                <div className='item'>\r\n                    <h3>  Selecione a Viação </h3>\r\n                    <input\r\n                        list='razaoSocial'\r\n                        name='razaoSocial'\r\n                        className='selectEmpresa'\r\n                        value={razaoSocial}\r\n                        onChange={handleInput}\r\n                        onBlur={handleBlur}\r\n                    />\r\n                    <AutoComplete\r\n                        style={{ textAlign: 'center', width: '500px' }}\r\n                        collection={empresas}\r\n                        datalist='razaoSocial'\r\n                        value={razaoSocial}\r\n                    />\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Fragment } from 'react'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AddEquipa from './AddEquipa'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { altForm } from '../Forms/altForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1)\r\n    },\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 300,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, data, handleCheck, handleEquipa,\r\n    altPlacaOption, showAltPlaca, empresas, equipamentos }) {\r\n    const { activeStep, subtitle, placa, justificativa, selectedEmpresa, addEquipa } = data,\r\n        classes = useStyles(), { paper, container } = classes\r\n\r\n    let form = altForm[activeStep]\r\n\r\n    return (\r\n        <Fragment>\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                className={container}\r\n                justify=\"center\"\r\n            >\r\n                {activeStep === 0 &&\r\n                    <SelectEmpresa\r\n                        data={data}\r\n                        empresas={empresas}\r\n                        handleInput={handleInput}\r\n                        handleBlur={handleBlur}\r\n                    />\r\n                }\r\n                {\r\n                    selectedEmpresa ?\r\n                        <Grid item xs={12}>\r\n                            {activeStep < 3 &&\r\n                                <Paper className={paper}>\r\n                                    <h3 className='formSubtitle'> {subtitle[activeStep] + (placa && activeStep !== 0 ? ' - placa ' + placa : '')}</h3>\r\n\r\n                                    <TextInput\r\n                                        form={form}\r\n                                        data={data}\r\n                                        handleBlur={handleBlur}\r\n                                        handleInput={handleInput}\r\n                                    />\r\n                                </Paper>}\r\n\r\n                            {activeStep === 0 &&\r\n                                <Grid container justify=\"center\">\r\n                                    <Button\r\n                                        variant=\"outlined\"\r\n                                        size=\"small\"\r\n                                        color=\"primary\"\r\n                                        className={classes.button}\r\n                                        onClick={handleEquipa}\r\n                                    >\r\n                                        <AddIcon />\r\n                                        Equipamentos\r\n                                        </Button>\r\n                                </Grid>}\r\n\r\n                            {altPlacaOption && placa.match('[a-zA-Z]{3}[-]?\\\\d{4}') &&\r\n                                <div className='addNewDiv'>\r\n                                    <span onClick={() => showAltPlaca()}> → Clique aqui para alterar a placa para o formato Mercosul.</span>\r\n                                </div>\r\n                            }\r\n                            {\r\n                                addEquipa && <AddEquipa\r\n                                    equipamentos={equipamentos}\r\n                                    close={handleEquipa}\r\n                                    handleCheck={handleCheck}\r\n                                    data={data} />\r\n\r\n                            }\r\n                        </Grid>\r\n                        :\r\n                        <Grid container justify=\"center\">\r\n                            <div className={classes.formHolder}></div>\r\n                        </Grid>\r\n                }\r\n            </Grid>\r\n            {activeStep === 1 && <Grid\r\n                container\r\n                direction=\"row\"\r\n                justify=\"center\"\r\n                alignItems=\"center\">\r\n                <Grid>\r\n                    <TextField\r\n                        name='justificativa'\r\n                        value={justificativa}\r\n                        label='Justificativa'\r\n                        type='text'\r\n                        onChange={handleInput}\r\n                        InputLabelProps={{ shrink: true, style: { fontWeight: 600, marginBottom: '5%' } }}\r\n                        inputProps={{ style: { paddingBottom: '2%', width: '900px' } }}\r\n                        multiline\r\n                        rows={4}\r\n                        variant='outlined'\r\n                    />\r\n                </Grid>\r\n            </Grid>}\r\n        </Fragment>\r\n    )\r\n}   ","import React from 'react';\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog({ open, close, title, header, inputNames, inputLabels, fileInputName, confirm, handleInput, handleFiles,\r\n  values, formData, dropDisplay, type = 'text' }) {\r\n\r\n  let disabled = true\r\n  const errorHandler = (inputName, value) => {\r\n    if (inputName === 'newPlate') {\r\n      if (value.length < 9 && value.match('[a-zA-Z]{3}?[-]\\\\d{1}\\\\w{1}\\\\d{2}')) {\r\n        disabled = false\r\n        return false\r\n      }\r\n      else {\r\n        disabled = true\r\n        return true\r\n      }\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <Dialog open={open} onClose={close} aria-labelledby=\"form-dialog-title\">\r\n      <DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          {header}\r\n        </DialogContentText>\r\n        <br />\r\n        {\r\n          inputNames.map((inputName, i) => (\r\n            <TextField\r\n              key={i}\r\n              autoFocus={inputName === 'newPlate' && true}\r\n              name={inputName}\r\n              label={inputLabels[i]}\r\n              onChange={handleInput}\r\n              values={values[i]}\r\n              type={type}\r\n              error={errorHandler(inputName, values[i])}\r\n              fullWidth\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n          ))}\r\n        <br /><br />\r\n        <DragAndDrop\r\n          title='Anexar arquivo'\r\n          name={fileInputName}\r\n          formData={formData}\r\n          dropDisplay={dropDisplay}\r\n          handleFiles={handleFiles}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={close} color=\"primary\">\r\n          Cancelar\r\n              </Button>\r\n        <Button onClick={confirm} color=\"primary\" disabled={disabled}>\r\n          Confirmar\r\n              </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport ReactToast from '../Utils/ReactToast'\r\nimport { altDadosFiles } from '../Forms/altDadosFiles'\r\nimport { altForm } from '../Forms/altForm'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport CustomStepper from '../Utils/Stepper'\r\n\r\nimport AltDadosTemplate from './AltDadosTemplate'\r\nimport VehicleDocs from './VehicleDocs'\r\nimport Review from './VehicleReview'\r\nimport StepperButtons from '../Utils/StepperButtons'\r\n\r\nimport FormDialog from '../Utils/FormDialog'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass AltDados extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        stepTitles: ['Informe a placa para alterar os dados abaixo ou mantenha as informações atuais e clique em avançar',\r\n            'Altere os dados desejados abaixo e clique em avançar', 'Anexe os documentos solicitados',\r\n            'Revisão das informações e deferimento'],\r\n        steps: ['Alterar dados do Veículo', 'Alterar dados adicionais', 'Documentos', 'Revisão'],\r\n\r\n        subtitle: ['Dados do Veículo', 'Informações adicionais',\r\n            'Anexe os arquivos solicitados', 'Revisão'],\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        delegatarioCompartilhado: '',\r\n        frota: [],\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        activeStep: 0,\r\n        files: [],\r\n        fileNames: [],\r\n        openAlertDialog: false,\r\n        altPlaca: false,\r\n        newPlate: '',\r\n        placa: '',\r\n        addEquipa: false,\r\n        dropDisplay: 'Clique ou arraste para anexar'\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { redux } = this.props\r\n        let equipamentos = {}\r\n\r\n        if (redux && redux.equipamentos) {\r\n            redux.equipamentos.forEach(e => Object.assign(equipamentos, { [e.item]: false }))\r\n            const equipArray = Object.keys(equipamentos)\r\n            await this.setState({ equipamentos: equipArray, ...equipamentos })\r\n        }\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const { veiculos, empresas } = this.props.redux,\r\n            { name, value } = e.target\r\n\r\n\r\n        if (name === 'razaoSocial') {\r\n            let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n\r\n                this.setState({ frota })\r\n\r\n            } else {\r\n                this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                this.reset()\r\n            }\r\n        }\r\n\r\n        if (name === 'placa' && this.state.frota) {\r\n            const vehicle = this.state.frota.find(v => v.placa === value)\r\n            if (!vehicle) this.state.equipamentos.forEach(e => this.setState({ [e]: false }))\r\n        }\r\n\r\n        if (name === 'newPlate') {\r\n            let newPlate = value\r\n            if (typeof newPlate === 'string') {\r\n                newPlate = newPlate.replace(/[a-z]/g, l => l.toUpperCase())\r\n                if (newPlate.match('[A-Z]{3}[0-9]{1}[A-Z]{1}[0-9]{2}')) newPlate = newPlate.replace(/(\\w{3})/, '$1-')\r\n                this.setState({ ...this.state, newPlate })\r\n            }\r\n        } else this.setState({ [name]: value })\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            this.setState({ openAlertDialog: true, alertType: 'empresaNotFound' })\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    capitalize = (field, value) => {\r\n        if (!value || typeof value !== 'string') return\r\n        if (field === 'utilizacao') {\r\n            if (value === 'RODOVIARIO') value = 'CONVENCIONAL'\r\n            if (value === 'SEMI LEITO - EXECUTIVO') value = 'Semi-Leito'\r\n            if (value !== 'Semi-Leito') value = value.charAt(0) + value.slice(1).toLowerCase()\r\n        }\r\n        if (field === 'dominio' && value === 'Sim') value = 'Veículo próprio'\r\n        if (field === 'dominio' && value === 'Não') value = 'Possuidor'\r\n\r\n        return value\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const\r\n            { empresas } = this.props.redux,\r\n            { frota, equipamentos } = this.state,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target,\r\n            vEquip = []\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n\r\n            case 'compartilhado':\r\n                this.getId(name, value, empresas, 'delegatarioCompartilhado', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            case 'delegatario':\r\n                await this.getId(name, value, empresas, 'delegatarioId', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            default:\r\n                void 0\r\n        }\r\n        if (name === 'placa' && value.length > 2 && Array.isArray(this.state.frota)) {\r\n\r\n            let vehicle = this.state.frota.find(v => {\r\n                if (typeof value === 'string') return v.placa.toLowerCase().match(value.toLowerCase())\r\n                else return v.placa.match(value)\r\n            })\r\n\r\n            if (vehicle && vehicle.equipamentosId) {\r\n                const currentEquipa = vehicle.equipamentosId\r\n                equipamentos.forEach(e => {\r\n                    if (currentEquipa.toLowerCase().match(e.toLowerCase())) vEquip.push(e)\r\n                })\r\n                vEquip.forEach(ve => this.setState({ [ve]: true }))\r\n            }\r\n\r\n            if (vehicle && vehicle.utilizacao) {\r\n                vehicle.utilizacao = this.capitalize('utilizacao', vehicle.utilizacao)\r\n            }\r\n\r\n            if (vehicle && vehicle.dominio) {\r\n                vehicle.dominio = this.capitalize('dominio', vehicle.dominio)\r\n            }\r\n\r\n            await this.setState({ ...vehicle, equipamentosId: vEquip, disable: true })\r\n\r\n            if (vehicle !== undefined && vehicle.hasOwnProperty('empresa')) this.setState({ delegatario: vehicle.empresa })\r\n\r\n            let reset = {}\r\n            if (frota[0]) Object.keys(frota[0]).forEach(k => reset[k] = '')\r\n            if (this.state.placa !== '' && !vehicle) {\r\n                this.setState({ alertType: 'plateNotFound', openAlertDialog: true })\r\n                this.setState({ ...reset, disable: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    showAltPlaca = () => {\r\n        const title = 'Alteração de placa',\r\n            header = 'Para alterar a placa do veículo para o padrão Mercosul, digite a placa no campo abaixo e anexe o CRLV atualizado do veículo.'\r\n        this.setState({ altPlaca: true, title, header })\r\n    }\r\n\r\n    updatePlate = () => {\r\n        this.setState({ placa: this.state.newPlate })\r\n        this.toggleDialog()\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n        const { poltronas, pesoDianteiro, pesoTraseiro, delegatarioId,\r\n            delegatarioCompartilhado, equipamentosId, newPlate, selectedEmpresa } = this.state\r\n\r\n        let tempObj = {}\r\n\r\n        altForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                for (let k in this.state) {\r\n                    if (k === obj.field && !obj.disabled) {\r\n                        if (this.state[k]) Object.assign(tempObj, { [k]: this.state[k] })\r\n                    }\r\n                }\r\n            })\r\n        })\r\n\r\n        let pbt = Number(poltronas) * 93 + (Number(pesoDianteiro) + Number(pesoTraseiro))\r\n        if (isNaN(pbt)) pbt = undefined\r\n\r\n        tempObj = Object.assign(\r\n            tempObj, { delegatarioId, delegatarioCompartilhado, pbt, equipamentosId })\r\n\r\n        tempObj = humps.decamelizeKeys(tempObj)\r\n\r\n        Object.keys(tempObj).forEach(key => {\r\n            if (tempObj[key] === '' || tempObj[key] === 'null' || !tempObj[key]) delete tempObj[key]\r\n        })\r\n\r\n        const { placa, delegatario, compartilhado, ...requestObject } = tempObj\r\n\r\n        if (newPlate && newPlate !== '') requestObject.placa = newPlate\r\n        if (selectedEmpresa.delegatarioId !== delegatarioId) requestObject.apolice = 'Seguro não cadastrado'\r\n\r\n        const table = 'veiculo',\r\n            tablePK = 'veiculo_id'\r\n\r\n        await axios.put('/api/updateVehicle', { requestObject, table, tablePK, id: this.state.veiculoId })\r\n        await this.submitFiles()\r\n        this.setState({ activeStep: 0, razaoSocial: '', selectedEmpresa: undefined })\r\n        this.reset()\r\n        this.setState({})\r\n        this.toast()\r\n\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n            console.log(files, name)\r\n            let formData = new FormData()\r\n            formData.append('veiculoId', this.state.veiculoId)\r\n\r\n            let fn = this.state.fileNames\r\n\r\n            if (files && files.length > 0) {\r\n\r\n                fn.push({ [name]: files[0].name })\r\n                await this.setState({ filesNames: fn, [name]: files[0] })\r\n\r\n                altDadosFiles.forEach(({ name }) => {\r\n                    for (let keys in this.state) {\r\n                        if (keys.match(name) && this.state[name]) {\r\n                            formData.append(name, this.state[name])\r\n                        }\r\n                        else void 0\r\n                    }\r\n                })\r\n                this.setState({ form: formData })\r\n            }\r\n        }\r\n    }\r\n\r\n    submitFiles = () => {\r\n        const { form } = this.state\r\n\r\n        axios.post('/api/vehicleUpload', form)\r\n            .then(res => console.log('uploaded'))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    handleCheck = async item => {\r\n        const { equipamentos } = this.state\r\n        let array = []\r\n        await this.setState({ ...this.state, [item]: !this.state[item] })\r\n\r\n        equipamentos.forEach(e => {\r\n            if (this.state[e] === true) {\r\n                array.push(e)\r\n            }\r\n        })\r\n        if (array[0]) this.setState({ equipamentosId: array })\r\n        else this.setState({ equipamentosId: [] })\r\n    }\r\n\r\n    handleEquipa = () => this.setState({ addEquipa: !this.state.addEquipa })\r\n    toggleDialog = () => this.setState({ altPlaca: !this.state.altPlaca })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    reset = () => {\r\n\r\n        let resetFiles = {}\r\n\r\n        altForm.forEach(form => form.forEach(el => this.setState({ [el.field]: '' })))\r\n        altDadosFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: undefined })\r\n        })\r\n        this.setState({ ...resetFiles, form: undefined })\r\n    }\r\n\r\n    render() {\r\n        const\r\n            { empresas, equipamentos } = this.props.redux,\r\n\r\n            { confirmToast, toastMsg, stepTitles, activeStep, steps, altPlaca, selectedEmpresa, openAlertDialog, alertType,\r\n                dropDisplay, form, title, header, newPlate } = this.state\r\n\r\n        return <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Alteração de dados' />\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                stepTitles={stepTitles}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            {activeStep < 2 && <AltDadosTemplate\r\n                data={this.state}\r\n                empresas={empresas}\r\n                equipamentos={equipamentos}\r\n                setActiveStep={this.setActiveStep}\r\n                altPlacaOption={activeStep === 0}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                showAltPlaca={this.showAltPlaca}\r\n                handleEquipa={this.handleEquipa}\r\n                handleCheck={this.handleCheck}\r\n            />}\r\n            {activeStep === 2 && <VehicleDocs\r\n                parentComponent='altDados'\r\n                handleFiles={this.handleFiles}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n            />}\r\n            {activeStep === 3 && <Review\r\n                parentComponent='altDados' files={this.state.form}\r\n                filesForm={altDadosFiles} data={this.state}\r\n                form={altForm}\r\n            />}\r\n\r\n            {selectedEmpresa && <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleSubmit}\r\n                setActiveStep={this.setActiveStep}\r\n            />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            <FormDialog\r\n                open={altPlaca}\r\n                close={this.toggleDialog}\r\n                title={title}\r\n                header={header}                \r\n                inputNames={['newPlate']}\r\n                inputLabels={['Alterar Placa']}\r\n                fileInputName='newPlateDoc'\r\n                values={[newPlate]}\r\n                handleInput={this.handleInput}\r\n                handleFiles={this.handleFiles}\r\n                confirm={this.updatePlate}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n            />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'equipamentos'];\r\n\r\nexport default StoreHOC(collections, AltDados)","export const seguroForm = [\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',        \r\n        autoComplete: true,\r\n        datalist: 'seguradora',\r\n        collection: 'seguradoras',\r\n        maxLength: 80\r\n    },\r\n    {       \r\n        field: 'apolice',\r\n        label: 'Apólice',        \r\n        autoComplete: true,\r\n        datalist: 'apolice',\r\n        collection: 'seguros',\r\n        maxLength: 25\r\n    },    \r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emissão'        \r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento'        \r\n    }]","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Chip from '@material-ui/core/Chip'\r\n\r\nimport Add from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Search from '@material-ui/icons/Search'\r\n\r\nimport { seguroForm } from '../Forms/altSegForm'\r\nimport './veiculos.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 400,\r\n        fontSize: '0.9rem',\r\n        textAlign: 'center',\r\n        marginBottom: '20px'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 300,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n    }\r\n}))\r\n\r\nexport default function AltSeguro({ empresas, data, enableAddPlaca, handleInput, handleBlur,\r\n    addPlate, removeFromInsurance, handleFiles, handleSubmit, enableChangeApolice, showAllPlates }) {\r\n\r\n    const { selectedEmpresa, placa, apolice, addedPlaca, frota, insuranceExists,\r\n        insurance, dropDisplay, seguroFile } = data\r\n\r\n    const classes = useStyles(), { paper, textField, chip } = classes\r\n\r\n    let placas = []\r\n\r\n    if (insurance && insurance.placas) {\r\n        if (insurance.placas[0] && insurance.placas[0] !== null) placas = insurance.placas.sort()\r\n        if (placa !== undefined && placa.length > 2 && placas[0]) {\r\n            if (typeof placa === 'string') placas = insurance.placas.filter(p => p.toLowerCase().match(placa.toLowerCase())).sort()\r\n            else placas = insurance.placas.filter(p => p.match(placa)).sort()\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <Fragment>\r\n            <div style={{ width: '100%', display: 'flex', flexDirection: 'column' }}>\r\n                <Crumbs links={['Veículos', '/veiculos']} text='Seguros' />\r\n                <SelectEmpresa\r\n                    data={data}\r\n                    empresas={empresas}\r\n                    handleInput={handleInput}\r\n                    handleBlur={handleBlur}\r\n                />\r\n                {selectedEmpresa &&\r\n                    <Paper className={paper}>\r\n                        <h3 className='formSubtitle'>Informe os dados do seguro.</h3>\r\n                        <TextInput\r\n                            form={seguroForm}\r\n                            data={data}\r\n                            handleBlur={handleBlur}\r\n                            handleInput={handleInput}\r\n                        />\r\n                        {insuranceExists &&\r\n                            <div className='addNewDiv'>\r\n                                <span onClick={() => enableChangeApolice()}> → Clique aqui para alterar o número da apólice mantendo as placas.</span>\r\n                            </div>\r\n                        }\r\n                    </Paper>\r\n                }\r\n                {selectedEmpresa && insurance && (insurance.placas || enableAddPlaca) &&\r\n                    <Paper className={paper}>\r\n                        <p>Utilize as opções abaixo para filtrar, adicionar ou excluir placas desta apólice</p>\r\n                        <section className='addSeguro'>\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        name: 'addedPlaca',\r\n                                        list: 'placa'\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        style: { fontSize: '0.8rem' }\r\n                                    }}\r\n                                    label='Insira a placa'\r\n                                    className={textField}\r\n                                    value={addedPlaca}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={frota}\r\n                                    datalist='placa'\r\n                                    value={addedPlaca}\r\n                                />\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    variant=\"contained\"\r\n                                    className={classes.button}\r\n                                    style={{ margin: '10px 0 10px 0' }}\r\n                                    onClick={() => addPlate(addedPlaca)}\r\n                                >\r\n                                    <Add /> Adicionar\r\n                            </Button>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        name: 'placa',\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        style: { fontSize: '0.8rem' }\r\n                                    }}\r\n                                    label='Filtrar'\r\n                                    className={textField}\r\n                                    value={placa || ''}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <Search style={{ marginTop: '18px' }} />\r\n                            </div>\r\n                            <DragAndDrop\r\n                                name='apoliceDoc'\r\n                                formData={seguroFile}\r\n                                dropDisplay={dropDisplay}\r\n                                handleFiles={handleFiles}\r\n                                single={true}\r\n                            />\r\n\r\n                        </section>\r\n\r\n                        <div className='addNewDiv' style={{ justifyContent: 'flex-start', padding: '10px' }}>\r\n                            <span onClick={() => showAllPlates()}>→ Clique aqui para selecionar placas</span>\r\n\r\n                        </div>\r\n\r\n                        {/********************************* Lista de placas vinculadas (Chips) ********************************************/}\r\n\r\n                        {insurance && insurance.placas && insurance.placas[0]\r\n                            ?\r\n                            <div style={{ margin: '15px' }}>\r\n                                Placas vinculadas a apólice {insurance.apolice}\r\n                            </div>\r\n                            :\r\n                            <div style={{ marginTop: '30px' }}></div>\r\n                        }\r\n                        {insurance && insurance.placas && apolice && apolice.length > 2 && placas[0] && placas.map((placa, i) =>\r\n                            <Chip\r\n                                key={i}\r\n                                label={placa}\r\n                                onDelete={() => removeFromInsurance(placa)}\r\n                                className={chip}\r\n                                color='primary'\r\n                                variant=\"outlined\"\r\n                            />\r\n                        )}\r\n                    </Paper>}\r\n            </div >\r\n            {apolice && (insurance || enableAddPlaca) &&\r\n                <div style={{ minHeight: '60px', position: 'flex' }}>\r\n                    <Button\r\n                        size=\"small\"\r\n                        color='primary'\r\n                        className='saveButton'\r\n                        variant=\"contained\"\r\n                        onClick={() => handleSubmit()}\r\n                    // disabled={!placas[0] || !seguroFile ? true : false}\r\n                    >\r\n                        Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                    </Button>\r\n                </div>}\r\n        </Fragment >\r\n    )\r\n}","import React from 'react'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport '../Layouts/popUp.css'\r\n\r\nfunction ShowAllPlates({ items, title, data, close, handleCheck }) {\r\n    return (\r\n        <div className=\"popUpWindow row\">\r\n            <h3>{title} Clique em \"X\" ou pressione 'esc' para voltar</h3>\r\n            <div className=\"checkListContainer\">\r\n                {\r\n                    items.map((item, i) =>\r\n                        <div className=\"checkListItem\" key={i}>\r\n                            <input\r\n                                id={i}\r\n                                type='checkbox'\r\n                                checked={data[item] === true}\r\n                                onChange={() => handleCheck(item)} />\r\n                            <label htmlFor={i}>{item}</label>\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n            <ClosePopUpButton close={close} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowAllPlates\r\n","import React from 'react';\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function ConfigAddDialog({ open, close, title, helperMessage, marca, marcas, selectMarca, newElement, handleInput, addNewElement }) {\r\n\r\n    return (\r\n        <div>\r\n            <Dialog open={open} onClose={close} aria-labelledby=\"form-dialog-title\">\r\n                <DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        {helperMessage}\r\n                    </DialogContentText>\r\n                    <div className=\"editFields\">\r\n                        {marcas && <div className=\"configMarca\">\r\n                            <TextField\r\n                                onChange={selectMarca}\r\n                                value={marca}\r\n                                label='Selecione uma marca'\r\n                                select={true}\r\n                                InputLabelProps={{ shrink: true }}\r\n                                SelectProps={{\r\n                                    style: {\r\n                                        fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                                        width: 325, height: '44px'\r\n                                    }\r\n                                }}\r\n                            >\r\n                                {marcas.map(({ marca }, i) =>\r\n                                    <MenuItem key={i} value={marca} >\r\n                                        {marca}\r\n                                    </MenuItem>\r\n                                )}\r\n                            </TextField>\r\n                        </div>}\r\n                        <div className=\"configField\">\r\n                            <TextField\r\n                                autoFocus\r\n                                margin=\"dense\"\r\n                                name='newElement'\r\n                                label=\"Inserir\"\r\n                                type=\"text\"\r\n                                onChange={handleInput}\r\n                                value={newElement}\r\n                                fullWidth\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <br /><br /><br />\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={close} color=\"primary\">\r\n                        Cancelar\r\n              </Button>\r\n                    <Button onClick={() => addNewElement()} color=\"primary\">\r\n                        Confirmar\r\n              </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport ReactToast from '../Utils/ReactToast'\r\nimport moment from 'moment'\r\n\r\nimport AltSeguroTemplate from './AltSeguroTemplate'\r\nimport ShowAllPlates from './ShowAllPlates'\r\nimport ConfigAddDialog from './ConfigAddDialog'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\nimport { seguroForm } from '../Forms/seguroForm'\r\n\r\nclass AltSeguro extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.openAddDialog) this.toggleDialog()\r\n                if (this.state.showAllPlates) this.setState({ showAllPlates: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        addedPlaca: '',\r\n        insurance: {},\r\n        insuranceExists: false,\r\n        razaoSocial: '',\r\n        seguradora: '',\r\n        deletedVehicles: [],\r\n        toastMsg: 'Seguro atualizado!',\r\n        confirmToast: false,\r\n        dropDisplay: 'Clique ou arraste para anexar a apólice',\r\n        showAllPlates: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            seguradoras: this.props.redux['seguradoras'],\r\n            allInsurances: this.props.redux['seguros']\r\n        })\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const\r\n            { seguros } = this.props.redux,\r\n            { apolice, insuranceExists, dontUpdateProps } = this.state\r\n\r\n        if (prevProps.redux.seguros !== seguros && !dontUpdateProps) {\r\n            console.log('Props updated. DUProps state is:', dontUpdateProps)\r\n            if (insuranceExists) {\r\n                const updatedInsurance = seguros.find(s => s.apolice === apolice)\r\n                this.setState({ insuranceExists: updatedInsurance })\r\n            }\r\n        }\r\n    }\r\n\r\n    checkExistance = async (name, inputValue) => {\r\n\r\n        const\r\n            seguros = JSON.parse(JSON.stringify(this.props.redux.seguros)),\r\n            { selectedEmpresa } = this.state,\r\n            s = [...seguros.filter(se => se.delegatarioId === selectedEmpresa.delegatarioId)]\r\n\r\n        let insurance = { ...s.find(s => s[name] === inputValue) }\r\n        const insuranceExists = Object.keys(insurance).length > 0\r\n\r\n        if (insuranceExists) {\r\n            const dataEmissao = moment(insurance.dataEmissao).format('YYYY-MM-DD'),\r\n                vencimento = insurance.vencimento.toString().slice(0, 10),\r\n                { seguradora, seguradoraId } = insurance\r\n            await this.setState({ seguradora, seguradoraId, dataEmissao, vencimento, insurance, insuranceExists })\r\n            return\r\n        }\r\n        else this.setState({ insuranceExists, insurance: {}, dataEmissao: '', vencimento: '', deletedVehicles: [] })\r\n    }\r\n\r\n    handleInput = async e => {\r\n\r\n        let { value } = e.target\r\n        const\r\n            { name } = e.target,\r\n            { veiculos, empresas, seguradoras } = this.props.redux,\r\n            { allInsurances, selectedEmpresa, frota, insurance, apolice, dataEmissao,\r\n                vencimento, newInsurance, seguradora } = this.state\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n                let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n                if (selectedEmpresa) {\r\n                    await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                    if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n                    const\r\n                        frota = veiculos.filter(v => v.empresa === this.state.razaoSocial),\r\n                        filteredInsurances = allInsurances.filter(seguro => seguro.empresa === this.state.razaoSocial),\r\n                        allPlates = frota.map(vehicle => vehicle.placa).sort()\r\n\r\n                    this.setState({ frota, seguros: filteredInsurances, allPlates })\r\n\r\n                } else {\r\n                    this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                    this.clearFields()\r\n                }\r\n                break\r\n\r\n            case 'apolice':\r\n                this.checkExistance('apolice', value)\r\n                break\r\n\r\n            case 'seguradora':\r\n                const selectedSeguradora = seguradoras.find(sg => sg.seguradora === value)\r\n                if (selectedSeguradora) {\r\n                    this.setState({ seguradoraId: selectedSeguradora.id })\r\n                }\r\n                break\r\n\r\n            case 'addedPlaca':\r\n                const vehicleFound = frota.find(v => v.placa === value)\r\n                if (vehicleFound) this.setState({ vehicleFound })\r\n                break;\r\n            default:\r\n                void 0\r\n        }\r\n\r\n        // *************NEW INSURANCE CHECK / UPDATE STATE****************\r\n\r\n        const fields = ['seguradora', 'apolice', 'dataEmissao', 'vencimento']\r\n        const checkFields = fields.every(f => this.state[f] && this.state[f] !== '')\r\n\r\n        if (name !== 'razaoSocial' && !newInsurance && checkFields && Object.keys(insurance).length === 0) {\r\n            let newInsurance = {}, seguradoraId\r\n            const selectedSeguradora = seguradoras.find(sg => sg.seguradora === this.state.seguradora)\r\n            if (selectedSeguradora) seguradoraId = selectedSeguradora.id\r\n\r\n            Object.assign(newInsurance,\r\n                {\r\n                    empresa: selectedEmpresa.razaoSocial,\r\n                    delegatarioId: selectedEmpresa.delegatarioId,\r\n                    apolice, seguradora, seguradoraId, dataEmissao, vencimento, placas: [], veiculos: []\r\n                })\r\n\r\n            await this.setState({ insuranceExists: false, insurance: newInsurance, seguradoraId })\r\n        }\r\n    }\r\n\r\n    handleBlur = e => {\r\n\r\n        const\r\n            { seguradoras } = this.props.redux,\r\n            { seguradora, allInsurances, selectedEmpresa } = this.state,\r\n            { name } = e.target\r\n\r\n        if (name === 'seguradora') {\r\n            let filteredInsurances = []\r\n\r\n            const valid = seguradoras.find(s => s.seguradora.toLowerCase().match(seguradora.toLowerCase()))\r\n            if (valid && seguradora.length > 2) this.setState({ seguradora: valid.seguradora })\r\n            if (!valid && seguradora.length > 2) this.setState({ openAlertDialog: true, alertType: 'seguradoraNotFound', seguradora: undefined })\r\n\r\n            if (selectedEmpresa && !seguradora) {\r\n                filteredInsurances = allInsurances.filter(seguro => seguro.empresa === selectedEmpresa.razaoSocial)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n            else if (!selectedEmpresa && seguradora !== '') {\r\n                filteredInsurances = allInsurances.filter(s => s.seguradora === seguradora)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n            else if (selectedEmpresa && seguradora !== '') {\r\n                filteredInsurances = allInsurances\r\n                    .filter(seg => seg.empresa === selectedEmpresa.razaoSocial)\r\n                    .filter(seg => seg.seguradora === seguradora)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n        }\r\n        if (name === 'dataEmissao' || name === 'vencimento') {\r\n            const errors = checkInputErrors()\r\n            if (errors) this.setState({ errors })\r\n            else this.setState({ errors: undefined })\r\n        }\r\n    }\r\n    showAllPlates = () => {\r\n        const { insurance, allPlates } = this.state\r\n        let placas = [], allPlatesObj = {}\r\n\r\n        if (insurance && insurance.placas) placas = insurance.placas\r\n\r\n        allPlates.forEach(p => Object.assign(allPlatesObj, { [p]: false }))\r\n        placas.forEach(p => Object.assign(allPlatesObj, { [p]: true }))\r\n\r\n        this.setState({ allPlatesObj, insuredPlates: placas, showAllPlates: !this.state.showAllPlates })\r\n    }\r\n\r\n    handleCheck = async plate => {\r\n\r\n        let allPlatesObj = { ...this.state.allPlatesObj }\r\n        allPlatesObj[plate] = !allPlatesObj[plate]\r\n\r\n        if (allPlatesObj[plate] === true) this.addPlate(plate)\r\n        else this.removeFromInsurance(plate)\r\n\r\n        this.setState({ allPlatesObj })\r\n    }\r\n\r\n    addPlate = async placaInput => {\r\n\r\n        const\r\n            { apolice, frota } = this.state,\r\n            vehicleFound = frota.find(v => v.placa === placaInput)\r\n        let\r\n            { insuranceExists, insurance } = this.state\r\n\r\n        if (!placaInput || placaInput === '') return\r\n\r\n        //Check if vehicle belongs to frota before add to insurance and  if plate already belongs to apolice\r\n        if (vehicleFound === undefined || vehicleFound.hasOwnProperty('veiculoId') === false) {\r\n            this.setState({ openAlertDialog: true, alertType: 'plateNotFound' })\r\n            return null\r\n        } else if (insuranceExists === true && insurance.placas && vehicleFound.placa) {\r\n            const check = insurance.placas.find(p => p === vehicleFound.placa)\r\n            if (check) {\r\n                this.setState({ openAlertDialog: true, alertType: 'plateExists' })\r\n                return null\r\n            }\r\n        }\r\n        // Add plates to rendered list\r\n        if (apolice) {\r\n\r\n            let update = { ...insurance }\r\n\r\n            if (!update.placas) update.placas = []\r\n            if (!update.veiculos) update.veiculos = []\r\n\r\n            update.placas.push(placaInput)\r\n            update.veiculos.push(vehicleFound.veiculoId)\r\n\r\n            this.setState({ insurance: update, addedPlaca: '' })\r\n        }\r\n    }\r\n\r\n    removeFromInsurance = async placaInput => {\r\n\r\n        const\r\n            { apolice, frota } = this.state,\r\n            vehicleFound = frota.find(v => v.placa === placaInput),\r\n            { veiculoId, placa } = vehicleFound\r\n\r\n        let\r\n            insurance = { ...this.state.insurance },\r\n            deletedVehicles = [...this.state.deletedVehicles],\r\n            placas = [], veiculos = [],\r\n            check\r\n\r\n        const seg = this.props.redux.seguros.find(s => s.apolice === apolice)\r\n        if (seg && seg.placas) check = seg.placas.includes(placa)\r\n\r\n        if (check) {\r\n            let { veiculos } = insurance\r\n            const k = veiculos.indexOf(veiculoId)\r\n            deletedVehicles.push(veiculos[k])\r\n            this.setState({ deletedVehicles })\r\n        }\r\n\r\n        if (insurance.placas) placas = insurance.placas\r\n        if (insurance.veiculos) veiculos = insurance.veiculos\r\n\r\n        const\r\n            i = placas.indexOf(placa),\r\n            k = veiculos.indexOf(veiculoId)\r\n\r\n        insurance.placas.splice(i, 1)\r\n        insurance.veiculos.splice(k, 1)\r\n\r\n        this.setState({ insurance })\r\n    }\r\n\r\n    updateInsurance = () => {\r\n        const\r\n            { insurance, dataEmissao, vencimento, seguradoraId } = this.state,\r\n            { id, veiculos } = insurance\r\n\r\n\r\n        let updates = {}\r\n        const\r\n            emissaoDidChange = !moment(dataEmissao).isSame(moment(insurance.dataEmissao)),\r\n            vencimentoDidChange = !moment(vencimento).isSame(moment(insurance.vencimento)),\r\n            seguradoraDidChange = seguradoraId !== insurance.seguradoraId\r\n\r\n        if (!emissaoDidChange && !vencimentoDidChange && seguradoraDidChange) return\r\n\r\n        if (emissaoDidChange) updates.data_emissao = dataEmissao\r\n        if (vencimentoDidChange) updates.vencimento = vencimento\r\n        if (seguradoraDidChange) updates.seguradora_id = seguradoraId\r\n\r\n        const requestObj = {\r\n            id,\r\n            columns: Object.keys(updates),\r\n            updates,\r\n            vehicleIds: veiculos\r\n        }\r\n        axios.put('/api/updateInsurance', requestObj)\r\n            .then(r => console.log(r.data))\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const { seguradora, insuranceExists, insurance, errors, newElement, deletedVehicles } = this.state\r\n\r\n        let\r\n            frota = [...this.state.frota],\r\n            vehicleIds = []\r\n\r\n        if (errors && errors[0]) {\r\n            this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n        if (!seguradora || seguradora === '') {\r\n            this.setState({ openAlertDialog: true, alertType: 'seguradoraNotFound', seguradora: undefined })\r\n            return\r\n        }\r\n\r\n        //Create seguro object\r\n        const { seguradoraId, apolice, dataEmissao, vencimento, selectedEmpresa } = this.state\r\n\r\n        let cadSeguro = {\r\n            apolice,\r\n            seguradora_id: seguradoraId,\r\n            delegatario_id: selectedEmpresa.delegatarioId\r\n        }\r\n\r\n        const validEmissao = moment(dataEmissao, 'YYYY-MM-DD', true).isValid(),\r\n            validVenc = moment(vencimento, 'YYYY-MM-DD', true).isValid()\r\n\r\n        if (validEmissao) cadSeguro.data_emissao = dataEmissao\r\n        if (validVenc) cadSeguro.vencimento = vencimento\r\n\r\n        //Create a new insurance\r\n        if (!insuranceExists) {\r\n            if (insurance) vehicleIds = insurance.veiculos\r\n            await axios.post('/api/cadSeguro', cadSeguro)\r\n        }\r\n        //else just update the insurer and/or dates\r\n        if (insuranceExists) {\r\n            vehicleIds = insurance.veiculos\r\n            await this.updateInsurance()\r\n        }\r\n\r\n        //Define body and post VehicleUpdate\r\n        let body = {\r\n            table: 'veiculo',\r\n            column: 'apolice',\r\n            value: apolice,\r\n            tablePK: 'veiculo_id',\r\n            ids: vehicleIds\r\n        }\r\n\r\n        if (newElement && insuranceExists && insurance.id) {\r\n            axios.put('/api/changeApoliceNumber', { id: insurance.id, newApoliceNumber: newElement })\r\n        }\r\n\r\n        await axios.put('/api/updateInsurances', body)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                this.setState({ dontUpdateProps: true })\r\n            })\r\n        if (deletedVehicles) {\r\n            body.value = 'Seguro não cadastrado'\r\n            body.ids = deletedVehicles\r\n            await axios.put('/api/updateInsurances', body)\r\n        }\r\n\r\n        frota = frota.map(v => {\r\n            vehicleIds.forEach(id => {\r\n                if (v.veiculoId === id) {\r\n                    v.apolice = apolice\r\n                    return v\r\n                } else return v\r\n            })\r\n            return v\r\n        })\r\n\r\n        this.toast()\r\n        this.submitFiles()\r\n        this.clearFields()\r\n        this.setState({ frota })\r\n    }\r\n\r\n    handleFiles = async file => {\r\n        let formData = new FormData()\r\n        formData.append('apoliceDoc', file[0])\r\n        await this.setState({ dropDisplay: file[0].name, seguroFile: formData })\r\n    }\r\n\r\n    submitFiles = async () => {\r\n        const { apolice, selectedEmpresa } = this.state\r\n\r\n        let seguroFormData = new FormData()\r\n\r\n        if (this.state.seguroFile) {\r\n            seguroFormData.append('fieldName', 'apoliceDoc')\r\n            seguroFormData.append('apolice', apolice)\r\n            seguroFormData.append('empresaId', selectedEmpresa.delegatarioId)\r\n            for (let pair of this.state.seguroFile.entries()) {                \r\n                seguroFormData.append(pair[0], pair[1])\r\n            }\r\n            await axios.post('/api/empresaUpload', seguroFormData)\r\n                .then(r => console.log(r.data))\r\n            this.toast()\r\n        }\r\n    }\r\n\r\n\r\n    addNewElement = () => this.setState({ apolice: this.state.newElement, openAddDialog: false })\r\n    toggleDialog = () => this.setState({ openAddDialog: !this.state.openAddDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    clearFields = () => {\r\n        this.setState({\r\n            insuranceExists: false, seguradora: '', insurance: {},\r\n            apolice: '', dataEmissao: '', vencimento: '', seguroFile: null, deletedVehicles: [],\r\n            dropDisplay: 'Clique ou arraste para anexar a apólice'\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const\r\n            { openAlertDialog, alertType, openAddDialog, showAllPlates, allPlates, allPlatesObj } = this.state,\r\n            { empresas } = this.props.redux\r\n\r\n        const enableAddPlaca = seguroForm\r\n            .every(k => this.state.hasOwnProperty(k.field) && this.state[k.field] !== '')\r\n\r\n        return (\r\n            <Fragment>\r\n                <AltSeguroTemplate\r\n                    data={this.state}\r\n                    empresas={empresas}\r\n                    enableAddPlaca={enableAddPlaca}\r\n                    handleInput={this.handleInput}\r\n                    handleBlur={this.handleBlur}\r\n                    addPlate={this.addPlate}\r\n                    removeFromInsurance={this.removeFromInsurance}\r\n                    enableChangeApolice={this.toggleDialog}\r\n                    handleFiles={this.handleFiles}\r\n                    handleSubmit={this.handleSubmit}\r\n                    showAllPlates={this.showAllPlates}\r\n                />\r\n                {openAddDialog && <ConfigAddDialog\r\n                    open={openAddDialog}\r\n                    close={this.toggleDialog}\r\n                    title='Alterar número da apólice'\r\n                    helperMessage='Informe o número atualizado da apólice.'\r\n                    handleInput={this.handleInput}\r\n                    addNewElement={this.addNewElement}\r\n                />}\r\n                {\r\n                    showAllPlates &&\r\n                    <ShowAllPlates\r\n                        items={allPlates}\r\n                        close={this.showAllPlates}\r\n                        title='Selecione as placas para adicionar à apólice.'\r\n                        handleCheck={this.handleCheck}\r\n                        data={allPlatesObj} />\r\n                }\r\n\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'seguradoras', 'seguros']\r\n\r\nexport default StoreHOC(collections, AltSeguro)","export const baixaForm = [\r\n    {\r\n        field: 'placa',\r\n        label: 'Placa',      \r\n        datalist: 'placa',\r\n        autoComplete: true,\r\n        collection: 'frota',\r\n        maxLength: 8\r\n    },\r\n    {\r\n        field: 'renavam',\r\n        label: 'Renavam',        \r\n    },\r\n    {\r\n        field: 'nChassi',\r\n        label: 'Número do Chassi',        \r\n        maxLength: 17,\r\n    },\r\n    {\r\n        field: 'delegatario',\r\n        label: 'Delegatário',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilização',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'dominio',\r\n        label: 'Situação da Propriedade',        \r\n        disabled: true\r\n    },\r\n\r\n    {\r\n        field: 'marcaChassi',\r\n        label: 'Marca do Chassi',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloChassi',\r\n        label: 'Modelo do Chassi',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'marcaCarroceria',\r\n        label: 'Marca da Carroceria',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloCarroceria',\r\n        label: 'Modelo da Carroceria',        \r\n        disabled: true\r\n    },\r\n    {\r\n        type: 'number',\r\n        field: 'indicadorIdade',\r\n        label: 'Ano',        \r\n        disabled: true\r\n    }\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport { baixaForm } from '../Forms/baixaForm'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport { Send } from '@material-ui/icons'\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nimport './veiculos.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1),\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, handleCheck, handleSubmit, data, empresas }) {\r\n    const { razaoSocial, frota, checked, delegaTransf, justificativa } = data,\r\n        classes = useStyles(), { paper, container, formHolder } = classes\r\n\r\n    return (\r\n        <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Baixa de veículo' />\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}\r\n                handleBlur={handleBlur}\r\n            />\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                className={container}\r\n                justify=\"center\"\r\n            >\r\n                {razaoSocial && frota[0] &&\r\n                    <Grid item xs={12}>\r\n                        <Paper className={paper}>\r\n                            <Typography className='formSubtitle'>Informe os dados para a baixa</Typography>\r\n                            <TextInput\r\n                                form={baixaForm}\r\n                                data={data}\r\n                                handleBlur={handleBlur}\r\n                                handleInput={handleInput}\r\n                            />\r\n                        </Paper>\r\n                        <Grid container\r\n                            direction=\"row\"\r\n                            justify=\"space-between\"\r\n                            alignItems=\"center\"\r\n                            style={{ width: checked === 'venda' || checked === 'outro' ? '1200px' : '600px', marginTop: '25px' }}\r\n                        >\r\n                            <Grid item xs={checked ? 6 : 12}>\r\n                                <FormControl component=\"fieldset\">\r\n                                    <FormLabel component=\"legend\">Motivo da baixa</FormLabel>\r\n                                    <RadioGroup aria-label=\"position\" name=\"position\"\r\n                                        onChange={handleCheck} row\r\n                                        style={{ width: 'auto' }}\r\n                                        className='radio'\r\n                                    >\r\n                                        <FormControlLabel\r\n                                            className='radio'\r\n                                            value=\"venda\"\r\n                                            control={<Radio color=\"primary\" />}\r\n                                            label={<span style={{ fontSize: '0.8rem' }}>{\"Venda para outra empresa do sistema\"}</span>}\r\n                                            labelPlacement=\"start\"\r\n\r\n                                        />\r\n                                        <FormControlLabel\r\n                                            value=\"outro\"\r\n                                            control={<Radio color=\"primary\" />}\r\n                                            label={<span style={{ fontSize: '0.8rem' }}>{\"Outro\"}</span>}\r\n                                            labelPlacement=\"start\"\r\n                                        />\r\n\r\n                                    </RadioGroup>\r\n                                </FormControl>\r\n                            </Grid>\r\n\r\n                            {checked === 'venda' ?\r\n                                <Grid item xs={6} >\r\n                                    <TextField\r\n                                        inputProps={{\r\n                                            list: 'razaoSocial',\r\n                                            name: 'delegaTransf',\r\n                                        }}\r\n                                        value={delegaTransf}\r\n                                        onChange={handleInput}\r\n                                        onBlur={handleBlur}\r\n                                        label='Informe o delegatário para o qual foi transferido o veículo.'\r\n                                        fullWidth\r\n                                    />\r\n                                    <AutoComplete\r\n                                        collection={empresas}\r\n                                        datalist='razaoSocial'\r\n                                        value={delegaTransf}\r\n                                    />\r\n                                </Grid>\r\n                                :\r\n                                checked === 'outro' &&\r\n                                <Grid item xs={6}>\r\n                                    <TextField\r\n                                        name='justificativa'\r\n                                        value={justificativa}\r\n                                        label='Justificativa'\r\n                                        type='text'\r\n                                        onChange={handleInput}\r\n                                        InputLabelProps={{ shrink: true }}\r\n                                        multiline\r\n                                        rows={3}\r\n                                        variant='outlined'\r\n                                        fullWidth\r\n                                    />\r\n                                </Grid>\r\n                            }\r\n                        </Grid>\r\n                        <Grid container direction=\"row\" justify='flex-end' style={{ width: '1200px' }}>\r\n                            <Grid item xs={11} style={{ width: '1000px' }}></Grid>\r\n                            <Grid item xs={1} style={{ align: \"right\" }}>\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    color=\"primary\"\r\n                                    variant=\"outlined\"\r\n                                    style={{ margin: '10px 0 10px 0' }}\r\n                                    onClick={() => handleSubmit()}\r\n                                >\r\n                                    Confirmar <span>&nbsp;&nbsp; </span> <Send />\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                }\r\n                {!razaoSocial && !frota[0] &&\r\n                    <Grid container justify=\"center\">\r\n                        <div className={formHolder}></div>\r\n                    </Grid>}\r\n            </Grid>\r\n        </Fragment>\r\n    )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport BaixaTemplate from './BaixaTemplate'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport { baixaForm } from '../Forms/baixaForm'\r\n\r\nimport './veiculos.css'\r\n\r\nclass BaixaVeiculo extends Component {\r\n\r\n    state = {\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        frota: [],\r\n        placa: '',\r\n        form: {},\r\n        check: '',\r\n        delegaTransf: '',\r\n        toastMsg: 'Baixa realizada com sucesso!',\r\n        confirmToast: false,\r\n        openDialog: false,\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n        const { name, value } = e.target,\r\n            { veiculos, empresas } = this.props.redux\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        if (name === 'razaoSocial') {\r\n            let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n                this.setState({ frota })\r\n\r\n            } else {\r\n                await this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                this.reset()\r\n            }\r\n        }\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const\r\n            { empresas } = this.props.redux,\r\n            { frota } = this.state,\r\n            { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'delegaTransf') {\r\n            if (value.length > 0) {\r\n                const newDelega = empresas.find(e => e.razaoSocial === value)\r\n                if (newDelega) {\r\n                    await this.setState({ delegatarioId: newDelega.delegatarioId, delegaTransf: newDelega.razaoSocial, disableSubmit: true })\r\n                    void 0\r\n                } else this.setState({ openAlertDialog: true, alertType: 'empresaNotFound', delegaTransf: '' })\r\n            }\r\n        }\r\n\r\n        if (name === 'placa' && typeof frota !== 'string') {\r\n            if (value === '') this.setState({ disableSubmit: true })\r\n            if (value.length > 0) {\r\n                let vehicle\r\n                if (value.length > 2) vehicle = frota.find(v => {\r\n                    if (typeof value === 'string') return v.placa.toLowerCase().match(value.toLowerCase())\r\n                    else return v.placa.match(value)\r\n                })\r\n\r\n                await this.setState({ ...vehicle })\r\n\r\n                if (!vehicle) {\r\n                    let reset = {}\r\n                    if (frota[0]) Object.keys(frota[0]).forEach(k => reset[k] = '')\r\n                    this.setState({ alertType: 'plateNotFound', openAlertDialog: true, disableSubmit: true })\r\n                    this.setState({ ...reset })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const { checked, delegatarioId } = this.state\r\n\r\n        let checkArray = ['selectedEmpresa', 'placa', 'delegatarioId']\r\n        let tempObj, enableSubmit\r\n\r\n        if (checked === 'venda') {\r\n            checkArray.push('delegaTransf')\r\n            enableSubmit = checkArray.every(k => this.state.hasOwnProperty(k) && this.state[k] !== '')\r\n            tempObj = { delegatarioId, situacao: 'pendente' }\r\n        }\r\n        if (checked === 'outro') {\r\n            checkArray.push('justificativa')\r\n            enableSubmit = checkArray.every(k => this.state.hasOwnProperty(k) && this.state[k] !== '')\r\n            tempObj = { situacao: 'excluído' }\r\n        }\r\n        if (!enableSubmit) {\r\n            await this.setState({ openAlertDialog: true, alertType: 'fieldsMissing' })\r\n            return null\r\n        }\r\n\r\n        tempObj.apolice = 'Seguro não cadastrado'\r\n\r\n        const requestObject = humps.decamelizeKeys(tempObj)\r\n\r\n        const table = 'veiculo',\r\n            tablePK = 'veiculo_id'\r\n        await axios.put('/api/updateVehicle', { requestObject, table, tablePK, id: this.state.veiculoId })\r\n            .then(() => this.toast())\r\n            .catch(err => console.log(err))\r\n        await this.setState({ selectedEmpresa: undefined, frota: [], razaoSocial: '' })\r\n        this.reset()\r\n    }\r\n\r\n    handleCheck = e => this.setState({ checked: e.target.value })\r\n    reset = () => {\r\n        baixaForm.forEach(el => this.setState({ [el.field]: '' }))\r\n        this.setState({ delegaTransf: '', check: '', justificativa: '', checked: false })\r\n    }\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const { delegaTransf, confirmToast, toastMsg, checked, openAlertDialog,\r\n            alertType } = this.state\r\n        \r\n        return <Fragment>\r\n            <BaixaTemplate\r\n                data={this.state}\r\n                empresas={this.props.redux.empresas}\r\n                checked={checked}\r\n                delegaTransf={delegaTransf}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                handleCheck={this.handleCheck}\r\n                handleSubmit={this.handleSubmit}\r\n            />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n        </Fragment >\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas']\r\n\r\nexport default StoreHOC(collections, BaixaVeiculo)","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport Add from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport './config.css'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',        \r\n        width: '275px',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    select: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),        \r\n        marginBottom: '2px',\r\n        background: '#fafafa',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    }\r\n}))\r\n\r\nexport default function ConfigTemplate({ collections, collection, data, staticData,\r\n    selectCollection, handleChange, enableEdit, removeItem, handleSubmit, openAddDialog }) {\r\n\r\n    const\r\n        classes = useStyles(),\r\n        { textField } = classes\r\n\r\n    return (\r\n        <Fragment>\r\n           <Crumbs links={['Veículos', '/veiculos']} text='Alterar configurações de veículos' />\r\n            <center>\r\n                <h4>Selecione uma das opções abaixo.</h4>\r\n            </center>\r\n            <div className=\"selectHeader\">\r\n                <TextField\r\n                    className={textField}\r\n                    onChange={selectCollection}\r\n                    value={collection}\r\n                    select={true}\r\n                    SelectProps={{\r\n                        style: {\r\n                            fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                            width: 325, height: '44px'\r\n                        }\r\n                    }}\r\n                >\r\n                    {collections.map((opt, i) =>\r\n                        <MenuItem key={i} value={opt} >\r\n                            {opt}\r\n                        </MenuItem>\r\n                    )}\r\n                </TextField>\r\n            </div>\r\n           {staticData && collection && <div className='divHeader'>\r\n                <Button\r\n                    size=\"small\"\r\n                    color='primary'\r\n                    variant='outlined'\r\n                    //  className={classes.button}\r\n                    style={{ margin: '10px 0 10px 0' }}\r\n                    onClick={() => openAddDialog()}\r\n                >\r\n                    <Add /> Adicionar\r\n                </Button>\r\n            </div>}\r\n            <div className='container'>\r\n                {\r\n                    data && staticData && data.map((el, i) =>\r\n                        <div className='divCell' key={i}>\r\n                            <TextField\r\n                                value={el.edit ? el[staticData.field] : el[staticData.field] + ' (' + el['count'] + ')'}\r\n                                onChange={handleChange}\r\n                                name={el.field}\r\n                                type='text'\r\n                                inputProps={{\r\n                                    autoCorrect: 'off',\r\n                                    spellCheck: false,\r\n                                    style: {\r\n                                        fontSize: '0.8rem',\r\n                                        color: el.edit === true ? '#000' : '#999'\r\n                                    },                                    \r\n                                }}\r\n                                className={textField}\r\n                                disabled={el.edit === false}\r\n                            />\r\n\r\n                            <button component='span'\r\n                                className='configVehicleIcon'\r\n                                title='Editar'\r\n                                onClick={() => enableEdit(i)}\r\n                                display='none'>\r\n                                <EditIcon className='confIcon' color='primary' />\r\n                            </button>\r\n                            <button\r\n                                className='configVehicleIcon'\r\n                                title='Remover'\r\n                                onClick={() => removeItem(i)}>\r\n                                <DeleteIcon className='confIcon' color='secondary' />\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n            </div>\r\n            {\r\n                data &&\r\n                <Grid container direction=\"row\" justify='flex-end' >\r\n                    <Grid item xs={1} style={{ align: \"right\", margin: '20px 95px 10px 0' }}>\r\n                        <Button\r\n                            size=\"small\"\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            title='Salvar'\r\n                            onClick={() => handleSubmit()}\r\n                        >\r\n                            Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            }\r\n        </Fragment >\r\n    )\r\n}","import React, { PureComponent } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport ConfigAddDialog from './ConfigAddDialog'\r\nimport ReactToast from '../Utils/ReactToast'\r\nimport ConfigTemplate from './ConfigTemplate'\r\nimport { configVehicleForm } from '../Forms/configVehicleForm'\r\nimport { Fragment } from 'react'\r\n\r\nclass VehicleConfig extends PureComponent {\r\n\r\n    state = {\r\n        collection: '',\r\n        marca: '',\r\n        options: [],\r\n        openAddDialog: false,\r\n        confirmToast: false,\r\n        toastMsg: 'Dados atualizados!',\r\n    }\r\n    componentDidMount() {\r\n        let options = []\r\n        configVehicleForm.forEach(col => { options.push(col.label) })\r\n        this.setState({ options })\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const\r\n            { redux } = this.props,\r\n            { veiculos } = redux,\r\n            { staticData, data } = this.state\r\n\r\n        if (!staticData || !data) return null\r\n        \r\n        const { collection } = staticData\r\n        if (JSON.stringify(prevProps.redux[collection]) !== JSON.stringify(redux[collection])) {        \r\n            const data = this.addCounter(veiculos, staticData, redux[collection])\r\n            this.setState({ data })\r\n        }\r\n    }\r\n\r\n    addCounter = (veiculos, staticData, data) => {\r\n        const { name, field, label } = staticData\r\n\r\n        data.forEach(el => {\r\n            const vehicles = veiculos.filter(v => {\r\n                if (label === 'Equipamentos' && v[name]) return v[name].toLowerCase().match(el[field].toLowerCase())\r\n                return v[name] === el[field]\r\n            }),\r\n                count = vehicles.length\r\n            Object.assign(el, { count })\r\n        })\r\n        data = data.sort((a, b) => a[field].localeCompare(b[field]))\r\n        return data\r\n    }\r\n\r\n    selectCollection = async e => {\r\n        const\r\n            { value } = e.target,\r\n            { veiculos, marcaChassi, marcaCarroceria } = this.props.redux\r\n        let\r\n            staticData = configVehicleForm.find(el => el.label === value),\r\n            data = JSON.parse(JSON.stringify(this.props.redux[staticData.collection]))\r\n\r\n        data = this.addCounter(veiculos, staticData, data)\r\n        data.forEach(el => el.edit = false)\r\n\r\n        this.setState({ marcas: undefined, marca: '' })\r\n        if (staticData.collection === 'modelosChassi') this.setState({ marcas: marcaChassi })\r\n        if (staticData.collection === 'carrocerias') this.setState({ marcas: marcaCarroceria })\r\n\r\n        await this.setState({ collection: value, data, staticData })\r\n        void 0\r\n    }\r\n\r\n    enableEdit = async index => {\r\n        const\r\n            divCell = document.querySelectorAll('.divCell'),\r\n            divWrap = divCell[index].childNodes[0],\r\n            inputTarget = divWrap.querySelectorAll('input')[0]\r\n        let\r\n            data = [...this.state.data]\r\n\r\n        if (data[index].edit === true) data[index].edit = false\r\n        else {\r\n            data.forEach(s => s.edit = false)\r\n            data[index].edit = true\r\n        }\r\n        await this.setState({ data })\r\n        inputTarget.focus()\r\n    }\r\n\r\n    selectMarca = e => {\r\n        const\r\n            { value } = e.target,\r\n            { collection } = this.state.staticData,\r\n            { marcaChassi, marcaCarroceria } = this.props.redux\r\n\r\n        let marcaCollection\r\n        if (collection === 'modelosChassi') marcaCollection = marcaChassi\r\n        if (collection === 'carrocerias') marcaCollection = marcaCarroceria\r\n\r\n        const { id } = marcaCollection.find(m => m.marca === value)\r\n\r\n        this.setState({ marca: value, marcaId: id })\r\n    }\r\n\r\n    handleChange = async e => {\r\n        const\r\n            { value } = e.target,\r\n            name = this.state.staticData.field\r\n            //{ collection } = this.state.staticData\r\n\r\n\r\n        let changedElement = this.state.data.find(el => el.edit === true)\r\n        const index = this.state.data.indexOf(changedElement)\r\n\r\n        //const reduxItem = JSON.parse(JSON.stringify(this.props.redux[collection][index]))\r\n        changedElement[name] = value\r\n\r\n        let newData = [...this.state.data]\r\n        newData[index] = changedElement\r\n\r\n        await this.setState({ data: newData })       \r\n    }\r\n\r\n    handleInput = e => {\r\n        const { value } = e.target\r\n        this.setState({ newElement: value })\r\n    }\r\n\r\n    addNewElement = async () => {\r\n\r\n        const\r\n            { staticData, newElement, marcaId } = this.state,\r\n            { table, field, collection } = staticData,\r\n            { veiculos } = this.props.redux\r\n\r\n        let requestElement = { [field]: newElement }\r\n        if (marcaId) requestElement.marcaId = marcaId\r\n        requestElement = humps.decamelizeKeys(requestElement)\r\n\r\n        await axios.post('/api/addElement', { table, requestElement })\r\n\r\n        let data = this.props.redux[collection]\r\n        data = this.addCounter(veiculos, staticData, data)\r\n\r\n        this.setState({ openAddDialog: false, data })\r\n    }\r\n\r\n    removeItem = async index => {\r\n\r\n        let data = [...this.state.data]\r\n        const\r\n            { staticData } = this.state,\r\n            { collection, table } = staticData,\r\n            id = data[index].id,\r\n            originalData = this.props.redux[collection],\r\n            registered = originalData.find(el => el.id === id)\r\n\r\n        if (registered) {\r\n            await axios.delete(`/api/delete?table=${table}&tablePK=id&id=${id}`)\r\n                .catch(err => console.log(err))\r\n        }\r\n        data.splice(index, 1)\r\n        this.setState({ data })\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const\r\n            { redux } = this.props,\r\n            { data, staticData } = this.state,\r\n            { collection, field, table } = staticData,\r\n            originalData = JSON.parse(JSON.stringify(redux[collection]))\r\n\r\n        let editedElements = []\r\n\r\n        data.forEach(el => {\r\n            if (el.hasOwnProperty('id')) {\r\n                const { count, edit, ...rest } = el\r\n                editedElements.push(rest)\r\n            }\r\n        })\r\n\r\n        let realChanges = [], tempObj = {}\r\n\r\n        editedElements.forEach(el => {\r\n            originalData.forEach(item => {\r\n                if (el.id === item.id) {\r\n                    Object.keys(el).forEach(key => {\r\n                        if (el[key] !== item[key]) {\r\n                            if (!tempObj.id) tempObj = { ...tempObj, id: el.id }\r\n                            Object.assign(tempObj, { [key]: el[key] })\r\n                        }\r\n                    })\r\n                    if (Object.keys(tempObj).length > 0) realChanges.push(tempObj)\r\n                    tempObj = {}\r\n                }\r\n            })\r\n        })\r\n\r\n        const\r\n            tablePK = 'id',\r\n            column = humps.decamelize(field)\r\n\r\n        editedElements = humps.decamelizeKeys(realChanges)\r\n\r\n        await axios.put('/api/editElements', { requestArray: editedElements, table, tablePK, column })\r\n            .then(r => console.log('updated.'))\r\n            .catch(err => console.log(err))\r\n\r\n        editedElements = []\r\n        realChanges = []\r\n        tempObj = {}\r\n        this.toast()\r\n\r\n        this.setState({ collection: '', staticData: undefined })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openAddDialog: !this.state.openAddDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n\r\n        const { options, collection, data, staticData, openAddDialog, marca, marcas, confirmToast, toastMsg } = this.state\r\n        return (\r\n            <Fragment>\r\n                <ConfigTemplate\r\n                    collections={options}\r\n                    collection={collection}\r\n                    data={data}\r\n                    staticData={staticData}\r\n                    selectCollection={this.selectCollection}\r\n                    enableEdit={this.enableEdit}\r\n                    handleChange={this.handleChange}\r\n                    handleSubmit={this.handleSubmit}\r\n                    openAddDialog={this.toggleDialog}\r\n                    removeItem={this.removeItem}\r\n                />\r\n                {openAddDialog && <ConfigAddDialog\r\n                    open={openAddDialog}\r\n                    close={this.toggleDialog}\r\n                    title={staticData.label}\r\n                    helperMessage='Para adicionar, insira o nome no campo abaixo e clique em \"Confirmar\".'\r\n                    marca={marca}\r\n                    marcas={marcas}\r\n                    selectMarca={this.selectMarca}\r\n                    handleInput={this.handleInput}\r\n                    addNewElement={this.addNewElement}\r\n                />}\r\n                <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['seguradoras', 'lookUpTable/marca_chassi', 'modelosChassi', 'lookUpTable/marca_carroceria',\r\n    'carrocerias', 'equipamentos', 'veiculos']\r\n\r\nexport default StoreHOC(collections, VehicleConfig)","const formatDate = (date, min) => {\r\n\r\n    const minutes = () => {\r\n        if (new Date(date).getMinutes() < 10) {\r\n            return '0' + new Date(date).getMinutes()\r\n        } else {\r\n            return new Date(date).getMinutes()\r\n        }\r\n    }\r\n\r\n    if (/\\d/.test(date)) {\r\n        let data = new Date(date).getDate() + '/' + (new Date(date).getMonth() + 1) + '/' + new Date(date).getFullYear()// + ', ' + new Date(date).getHours() + ':' + minutes() + 'h'\r\n        if (min) data += ', ' + new Date(date).getHours() + ':' + minutes() + 'h'\r\n        return data.toString()\r\n    } else {\r\n        return date\r\n    }\r\n}\r\n\r\nexport default formatDate;","import formatDate from '../Utils/formatDate'\r\n\r\nexport const delegatarioTable = [\r\n    {\r\n        field: 'razaoSocial',\r\n        title: 'Razão Social',\r\n    },\r\n    {\r\n        field: 'delegatarioStatus',\r\n        title: 'Situação',\r\n    },\r\n    {\r\n        field: 'vencimentoContrato',\r\n        title: 'Data de Vencimento',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.vencimentoContrato)\r\n    },\r\n    {\r\n        field: 'cidade',\r\n        title: 'Município',\r\n    },\r\n    {\r\n        field: 'telefone',\r\n        title: 'Telefone',\r\n    },\r\n    {\r\n        field: 'frota',\r\n        title: 'Tamanho da frota'\r\n    }\r\n  /*   {\r\n        field: 'procuradoresList',\r\n        title: 'Nome do Procurador',\r\n        fSize: '0.3rem',\r\n        render: rowData => rowData.procuradoresList\r\n            ?\r\n            rowData.procuradoresList.map(s => s.charAt(0).toUpperCase()\r\n                .concat(s.slice(1).toLowerCase())).toString().replace(/,/g, \", \")\r\n            :\r\n            ''\r\n    } */\r\n]\r\n\r\nexport const sociosTable = [\r\n    {\r\n        field: 'nomeSocio',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfSocio',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'razaoSocial',\r\n        title: 'Delegatário(s)',\r\n    },\r\n    {\r\n        field: 'emailSocio',\r\n        title: 'E-mail',        \r\n        \r\n    },\r\n    {\r\n        field: 'share',\r\n        title: 'Participação Societária (%)',\r\n        filtering: false,        \r\n    }\r\n]\r\n\r\n\r\nexport const procuradorTable = [\r\n    {\r\n        field: 'nomeProcurador',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfProcurador',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'emailProcurador',\r\n        title: 'E-mail',\r\n    },\r\n    {\r\n        field: 'telProcurador',\r\n        title: 'Telefone'        \r\n    }\r\n]\r\n\r\nexport const vehicleTable = [\r\n    {\r\n        field: 'placa',\r\n        title: 'Placa',\r\n    },\r\n    {\r\n        field: 'modeloCarroceria',\r\n        title: 'Modelo da Carroceria',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Delegatário',\r\n    },\r\n    {\r\n        field: 'seguradora',\r\n        title: 'Seguradora',\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        title: 'Número da Apólice',\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Vencimento Seguro',\r\n        render: rowData => formatDate(rowData.vencimento)\r\n    },\r\n    {\r\n        field: 'indicadorIdade',\r\n        title: 'Ano de Fabricação',\r\n        filtering: false\r\n    }\r\n]\r\n\r\nexport const segurosTable = [\r\n    {\r\n        field: 'apolice',\r\n        title: 'Número da Apólice',\r\n    },\r\n    {\r\n        field: 'seguradora',\r\n        title: 'Seguradora',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Segurado',\r\n    },\r\n    {\r\n        field: 'segurados',\r\n        title: 'Número de veículos',\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Vencimento',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.vencimento)\r\n    }\r\n]\r\n\r\nexport const tables = [delegatarioTable].concat([sociosTable]).concat([procuradorTable]).concat([vehicleTable]).concat([segurosTable])\r\n","import React from 'react'\r\nimport * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\n\r\nimport MaterialTable from 'material-table';\r\nimport { tables } from './tables'\r\n\r\nexport default function ({ tab, collection, showDetails, showFiles, showCertificate, del }) {\r\n\r\n\r\n    const id = ['delegatarioId', 'socioId', 'procuradorId', 'veiculoId', 'apolice'][tab],\r\n        subject = ['empresas', 'sócios', 'procuradores', 'veículos', 'seguros']\r\n    if (!Array.isArray(collection)) collection = []\r\n    return (\r\n        <div style={{ margin: '10px 0' }} className='noPrint'>\r\n            <MaterialTable\r\n                title={`Pesquisar dados de ${subject[tab]}`}\r\n                columns={tables[tab]}\r\n                data={collection}\r\n                style={{ fontFamily: 'Segoe UI', fontSize: '14px' }}\r\n                options={{\r\n                    filtering: true,\r\n                    exportButton: true,\r\n                    exportFileName: subject[tab],\r\n                    exportCsv: (columns, data) => {\r\n                        const\r\n                            fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8',\r\n                            fileExtension = '.xlsx',\r\n                            fileName = subject[tab]\r\n\r\n                        const exportToCSV = (csvData, fileName) => {\r\n                            const ws = XLSX.utils.json_to_sheet(csvData);\r\n                            const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n                            const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n                            const data = new Blob([excelBuffer], { type: fileType });\r\n                            FileSaver.saveAs(data, fileName + fileExtension);\r\n                        }\r\n                        exportToCSV(data, fileName)\r\n                    },\r\n                    actionsColumnIndex: -1,\r\n                    searchFieldStyle: { color: '#024', fontSize: '14px' },\r\n                    headerStyle: { backgroundColor: '#FAFAFC' },\r\n                    emptyRowsWhenPaging: false,\r\n                    pageSize: 10,\r\n                }}\r\n\r\n                localization={{\r\n                    header: { actions: 'Opções' },\r\n                    body: {\r\n                        emptyDataSourceMessage: 'Registro não encontrado.',\r\n                        editRow: { deleteText: 'Tem certeza que deseja apagar esse registro ?' },\r\n                        deleteTooltip: 'Apagar',\r\n                        filterRow: { filterTooltip: 'Filtrar' }\r\n                    },\r\n                    toolbar: {\r\n                        searchTooltip: 'Procurar',\r\n                        searchPlaceholder: 'Procurar',\r\n                        exportName: 'Salvar como arquivo do excel',\r\n                        exportAriaLabel: 'Exportar',\r\n                        exportTitle: 'Exportar'\r\n                    },\r\n                    pagination: {\r\n\r\n                        labelRowsSelect: 'Resultados por página',\r\n                        labelDisplayedRows: ' {from}-{to} a {count}',\r\n                        firstTooltip: 'Primeira página',\r\n                        previousTooltip: 'Página anterior',\r\n                        nextTooltip: 'Próxima Página',\r\n                        lastTooltip: 'Última Página',\r\n\r\n                    }\r\n                }}\r\n                actions={[\r\n                    {\r\n                        icon: 'info',\r\n                        iconProps: { color: 'primary' },\r\n                        tooltip: 'Mais informações',\r\n                        onClick: (event, rowData) => showDetails(event, rowData)\r\n                    },\r\n                    {\r\n                        icon: 'file_copy_outline',\r\n                        iconProps: { color: 'secondary' },\r\n                        tooltip: 'Ver arquivos',\r\n                        onClick: (event, rowData) => showFiles(rowData[id])\r\n                    },\r\n                    {\r\n                        icon: 'class_outlined',\r\n                        iconProps: { color: 'action' },\r\n                        tooltip: 'Emitir certificado',\r\n                        hidden: tab !== 3,\r\n                        onClick: (event, rowData) => showCertificate(rowData)\r\n                    }\r\n                ]}\r\n                editable={{\r\n                    onRowDelete: async oldData => await del(oldData)\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}","export const delegatario = [[\r\n    {\r\n        field: 'empresa',\r\n        label: 'Delegatário',\r\n        width: '120mm',\r\n        left: '50mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimentoContrato',\r\n        label: 'Validade do Contrato',\r\n        width: '36mm',\r\n        left: '5mm'\r\n    },\r\n]]\r\n\r\nexport const caracteristicas = [\r\n    [\r\n        {\r\n            field: 'placa',\r\n            label: 'Placa',\r\n            width: '25mm',\r\n            left: '8mm'\r\n        },\r\n        {\r\n            field: 'renavam',\r\n            label: 'Renavam',\r\n            width: '42mm',\r\n            left: '14mm'\r\n        },\r\n        {\r\n            field: 'poltronas',\r\n            label: 'Poltronas',\r\n            width: '16mm',\r\n            left: '2mm'\r\n        },\r\n        {\r\n            field: 'piquesPoltrona',\r\n            label: 'Piques poltrona',\r\n            width: '19mm'\r\n        },\r\n        {\r\n            field: 'nChassi',\r\n            label: 'Número do Chassi',\r\n            width: '50mm',\r\n            left: '15mm'\r\n        },\r\n\r\n    ],\r\n    [\r\n        {\r\n            field: 'marcaChassi',\r\n            label: 'Marca do Chassi',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'modeloChassi',\r\n            label: 'Modelo do Chassi',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'anoChassi',\r\n            label: 'Ano do chassi',\r\n        },\r\n        {\r\n            field: 'distanciaMinima',\r\n            label: 'Distância Mínima (cm)',\r\n        },\r\n        {\r\n            field: 'distanciaMaxima',\r\n            label: 'Distância Máxima (cm)'\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            field: 'marcaCarroceria',\r\n            label: 'Marca da Carroceria',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'modeloCarroceria',\r\n            label: 'Modelo da Carroceria',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'anoCarroceria',\r\n            label: 'Ano da carroceria',\r\n        },\r\n        {\r\n            field: 'cores',\r\n            label: 'Cores',\r\n            width: '45mm',\r\n            left: '15mm'\r\n        }]\r\n]\r\n\r\nexport const seguro = [[\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',\r\n        width: '75mm',\r\n        left: '27.5mm'\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        label: 'Apólice',\r\n        width: '35mm',\r\n        left: '13mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emissão',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    }]]\r\n\r\nexport const pesagem = [[\r\n    {\r\n        field: 'eixos',\r\n        label: 'Nº Eixos',\r\n        width: '15mm',\r\n        left: '2mm'\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        width: '28mm',\r\n        left: '4mm'\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        width: '28mm',\r\n        left: '4mm'\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        field: 'pesoPassageiros',\r\n        label: 'Passag/Bagagem',\r\n        width: '25mm',\r\n        left: '3mm'\r\n    },\r\n]]\r\n\r\n\r\nexport const informacoesGerais = [[\r\n    {\r\n        type: 'date',\r\n        field: 'dataRegistro',\r\n        label: 'Data de Registro',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'dataExpedicao',\r\n        label: 'Data de expedição',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilização',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'equipamentosId',\r\n        label: 'Acessórios',\r\n        width: '65mm',\r\n    }\r\n]]\r\n\r\nexport const other = [[\r\n    {\r\n        field: 'compartilhado', \r\n        label: 'Empresas autorizadas a compartilhar',\r\n        width: '120mm',\r\n        left: '20mm'\r\n    },\r\n    {\r\n        field: 'observacoes', \r\n        label: 'Observações',\r\n        width: '80mm',        \r\n    }\r\n]]","import React, { Fragment, useState, useEffect } from 'react'\r\nimport moment from 'moment'\r\n\r\nimport { delegatario, caracteristicas, seguro, pesagem, informacoesGerais, other } from '../Forms/certificate'\r\n\r\nimport './certificate.css'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        paddingRight: '25px',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    }\r\n}))\r\n\r\n\r\nexport default function PdfCertificate() {\r\n\r\n    const [vehicle, setVehicle] = useState({})\r\n    const data = JSON.parse(localStorage.getItem('vehicle'))\r\n    console.log('1', data)\r\n\r\n    useEffect(() => {\r\n        async function setData() {\r\n            console.log('2', localStorage)\r\n            let menus = document.querySelectorAll('.MuiToolbar-root')\r\n            menus.forEach(m => m.style.display = 'none')\r\n            await setVehicle(data)\r\n            setTimeout(() => {\r\n                if (data) window.print()\r\n            }, 500);\r\n        }\r\n        setData()\r\n        localStorage.removeItem('vehicle')\r\n        console.log('3', localStorage)\r\n    }, [])\r\n\r\n    const classes = useStyles(),\r\n        { textField } = classes\r\n\r\n    let carac = caracteristicas,\r\n        delega = delegatario,\r\n        seg = seguro,\r\n        peso = pesagem,\r\n        info = informacoesGerais,\r\n        obs = other,\r\n        object = {}\r\n\r\n    const formArray = [carac, delega, seg, peso, info, obs]\r\n\r\n    if (vehicle)\r\n        formArray.forEach(form => {\r\n            Object.entries(vehicle).forEach(([key, value]) => {\r\n                form.forEach((line, i) => {\r\n                    line.forEach((obj, k) => {\r\n                        if (obj.field === key) {\r\n                            object = Object.assign(obj, { value })\r\n                            form[i][k] = object\r\n                            object = {}\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n        })\r\n    const checkMulti = field => {\r\n        if (field === 'equipamentosId' || field === 'equipamentosId') return\r\n        else return 'certificate'\r\n    }\r\n    const redirect = () => {\r\n        let menus = document.querySelectorAll('.MuiToolbar-root')\r\n        menus.forEach(m => m.style.display = 'none')\r\n        const url = window.location.origin\r\n        window.location.href = url;\r\n    }\r\n    const ultimateForm = [\r\n        { title: 'Delegatário', form: delega },\r\n        { title: 'Características do Veículo', form: carac },\r\n        { title: 'Seguro', form: seg },\r\n        { title: 'Pesagem', form: peso },\r\n        { title: 'Informações gerais', form: info },\r\n        { title: 'Outras informações', form: obs }\r\n    ]\r\n    if (!vehicle) {\r\n        const url = window.location.origin\r\n        window.location.replace(url)\r\n        return null\r\n    }\r\n    return (\r\n        <Fragment>\r\n            <div id='pdfPage' className='A4'>\r\n                <div className='header'>\r\n                    <img src='/images/certficateHeader.png' height='100%' width='100%' alt=\"header\" />\r\n                </div>\r\n                {ultimateForm.map(({ title, form }, y) =>\r\n                    <div className={title !== 'Delegatário' ? 'box' : 'firstBox'} key={y}>\r\n                        {title !== 'Delegatário' && <span className='boxTitle'>{title}</span>}\r\n                        {form.map((line, i) =>\r\n                            <div key={i} className={title !== 'Delegatário' ? 'divLine' : 'firstDivLine'} style={{ marginTop: i === 0 && '11mm' }}>\r\n                                {line.map((el, k) =>\r\n                                    <TextField\r\n                                        disabled\r\n                                        key={k}\r\n                                        name={el.field}\r\n                                        label={el.label}\r\n                                        className={textField}\r\n                                        multiline={el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? true : false}\r\n                                        rows={\r\n                                            el.value && el.value.length < 86 ? '2' :\r\n                                                el.value && el.value.length < 140 ? '3' : '4'\r\n                                        }\r\n                                        variant={el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? 'outlined' : 'standard'}\r\n                                        value={\r\n                                            el.type === 'date' ? moment(el.value).format('DD-MM-YYYY') :\r\n                                                el.field === 'dataExpedicao' ? moment().format('DD-MM-YYYY') :\r\n                                                    el.value || ''\r\n                                        }\r\n                                        inputProps={{\r\n                                            className: checkMulti(el.field),\r\n                                            style: {\r\n                                                width: el.width || '18mm',\r\n                                                fontSize: '2.7mm',\r\n                                                padding: '1px 0',\r\n                                                margin: '0',\r\n                                                flex: '1',\r\n                                                color: '#000'\r\n                                            }\r\n                                        }}\r\n                                        InputProps={{ style: { padding: el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? '1mm' : '' } }}\r\n                                        InputLabelProps={{\r\n                                            shrink: true,\r\n                                            style: {\r\n                                                fontSize: '13px',\r\n                                                textAlign: 'center !important',\r\n                                                left: el.left || '0',\r\n                                                color: '#000'\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n                <div className='porteObrigatorio'>\r\n                    <img src=\"/images/porteObrigatorio.png\" height='100%' width='100%' alt=\"porte obrigatório\" />\r\n                    <br />\r\n                    Este certificado pode ser verificado em <span className='link' onClick={() => redirect()}> http://www.sismob.mg.gov.br </span>\r\n                </div>\r\n            </div>\r\n            <br />\r\n\r\n            <button title='Imprimir / salvar PDF' className='noprint printButton' onClick={() => window.print()}>\r\n                <PrintTwoToneIcon style={{\r\n                    cursor: 'pointer',\r\n                    color: 'rgb(161, 161, 180)',\r\n                    fontSize: '40pt',\r\n                }} /></button>\r\n        </Fragment>\r\n    )\r\n}","const\r\n    razaoSocial = {\r\n        field: 'razaoSocial',\r\n        label: 'Empresa',\r\n        width: '340px'\r\n    },\r\n    placas = {\r\n        field: 'placas',\r\n        label: 'Veículos cadastrados',\r\n        width: '340px'\r\n    },\r\n    createdAt = {\r\n        field: 'createdAt',\r\n        label: 'Data do registro no sistema',\r\n        type: 'date',\r\n        width: '190px'\r\n    }\r\n\r\nexport const eForm = [\r\n    {\r\n        field: 'delegatarioStatus',\r\n        label: 'Status'\r\n    },\r\n    {\r\n        field: 'vencimentoContrato',\r\n        label: 'Vencimento do Contrato',\r\n        type: 'date',\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n    {\r\n        field: 'frota',\r\n        label: 'Tamanho da Frota'\r\n    },\r\n    {\r\n        field: 'oldId',\r\n        label: 'Código no sistema antigo'\r\n    },\r\n    {\r\n        ...placas\r\n    },\r\n\r\n]\r\n\r\nexport const sForm = [\r\n    {\r\n        ...razaoSocial\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n]\r\n\r\nexport const segForm = [\r\n    {\r\n        ...razaoSocial\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n    {\r\n        ...placas\r\n    },\r\n    {\r\n        field: 'segurados',\r\n        label: 'Número de veículos segurados',\r\n    },\r\n]\r\n\r\nexport const vForm = [\r\n    {\r\n        field: 'dataRegistro',\r\n        label: 'Data do registro no sistema',\r\n        type: 'date',\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total'\r\n    },\r\n    {\r\n        field: 'situacao',\r\n        label: 'Situação'\r\n    },\r\n    {\r\n        field: 'indicadorIdade',\r\n        label: 'Indicador de idade'\r\n    },\r\n    {\r\n        field: 'equipamentosId',\r\n        label: 'Equipamentos'\r\n    },\r\n    {\r\n        field: 'compartilhado',\r\n        label: 'Compartilhado por'\r\n    },\r\n    {\r\n        field: 'marcaChassi',\r\n        label: 'Marca do Chassi',\r\n    },\r\n    {\r\n        field: 'marcaCarroceria',\r\n        label: 'Marca da Carroceria',                \r\n    },\r\n]","export const empresasForm = [\r\n    {\r\n        field: 'razaoSocial',\r\n        label: 'Razão Social',\r\n        width: '340px'\r\n    },\r\n    {\r\n        field: 'cnpj',\r\n        label: 'CNPJ',\r\n        maxLength: 18,\r\n        pattern: /^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2}$/\r\n    },\r\n    {\r\n        field: 'inscricaoEstadual',\r\n        label: 'Inscrição Estadual',\r\n        maxLength: 13,\r\n        pattern: '\\\\d{13}'\r\n    },\r\n    {\r\n        field: 'telefone',\r\n        label: 'Telefone',\r\n        maxLength: 20,\r\n        pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))',\r\n    },\r\n    {\r\n        field: 'email',\r\n        label: 'E-mail',\r\n        type: 'email',\r\n        maxLength: 60,\r\n    },\r\n    {\r\n        field: 'cep',\r\n        label: 'CEP',\r\n        maxLength: 10\r\n    },\r\n    {\r\n        field: 'numero',\r\n        label: 'Número',\r\n        type: 'number',\r\n        max: 32000\r\n    },\r\n    {\r\n        field: 'complemento',\r\n        label: 'Complemento',\r\n        maxLength: 20,\r\n    },\r\n    {\r\n        field: 'rua',\r\n        label: 'Rua',\r\n        maxLength: 100,\r\n    },\r\n    {\r\n        field: 'bairro',\r\n        label: 'Bairro',\r\n        maxLength: 40,\r\n    },\r\n    {\r\n        field: 'cidade',\r\n        label: 'Cidade',\r\n        maxLength: 60,\r\n    },\r\n    {\r\n        field: 'uf',\r\n        label: 'Estado',\r\n        maxLength: 2,\r\n        pattern: '[A-Z]{2}'\r\n    }\r\n]","export const sociosForm = [{\r\n    field: 'nomeSocio',\r\n    label: 'Nome do Sócio',\r\n    maxLength: 90,\r\n    width: 190\r\n},\r\n{\r\n    field: 'cpfSocio',\r\n    label: 'CPF',    \r\n    maxLength: 11,\r\n    pattern: '\\\\d{11}',\r\n    width: 190\r\n},\r\n{\r\n    field: 'telSocio',\r\n    label: 'Telefone',\r\n    maxLength: 16,    \r\n    pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))',\r\n    width: 190\r\n},\r\n{\r\n    field: 'emailSocio',\r\n    label: 'E-mail',\r\n    maxLength: 60,\r\n    width: 190\r\n},\r\n{\r\n    field: 'share',\r\n    label: 'Participação Societária (%)',\r\n    maxLength: 5,\r\n    type: 'number',\r\n    max: 100,\r\n    width: 190    \r\n}]","export const procuradorForm = [{\r\n    field: 'nomeProcurador',\r\n    label: 'Nome do Procurador',\r\n    maxLength: 90,\r\n    width: 320\r\n},\r\n{\r\n    field: 'cpfProcurador',\r\n    label: 'CPF',    \r\n    maxLength: 11,\r\n    pattern: '\\\\d{11}'  \r\n},\r\n{\r\n    field: 'telProcurador',\r\n    label: 'Telefone',    \r\n    type: 'tel',    \r\n    maxLength: 20,\r\n    pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))'\r\n},\r\n{\r\n    field: 'emailProcurador',\r\n    label: 'E-mail',\r\n    type: 'email',\r\n    maxLength: 60,\r\n    pattern: '[a-zA-Z0-9]@([a-zA-Z0-9])?[.]([a-zA-Z0-9])',\r\n    width: 320\r\n}]","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\n\r\nimport { eForm, sForm, segForm, vForm } from '../Forms/joinForms'\r\n\r\nimport { cadForm } from '../Forms/cadForm'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport { seguroForm } from '../Forms/seguroForm'\r\n\r\nexport default function ShowDetails({ data, tab, title, header, close }) {\r\n\r\n    let { tableData, ...ultimateData } = data,\r\n        formPattern\r\n\r\n    switch (tab) {\r\n        case 0:\r\n            formPattern = empresasForm.concat(eForm)\r\n            break;\r\n        case 1:\r\n            formPattern = sociosForm.concat(sForm)\r\n            break;\r\n        case 2:\r\n            formPattern = procuradorForm\r\n            break;\r\n        case 3:\r\n            let { veiculoId, laudoId, tableData, modeloChassiId, modeloCarroceriaId, delegatarioId, vencimentoContrato, delegatarioCompartilhado, ...vData } = data\r\n            \r\n            ultimateData = vData\r\n            formPattern = cadForm.concat([vForm])\r\n            break;\r\n        case 4:\r\n            formPattern = seguroForm.concat(segForm)\r\n            break;\r\n\r\n        default:\r\n            break;\r\n    }\r\n\r\n    let element = []\r\n    \r\n    Object.keys(ultimateData).forEach(key => {\r\n        if (tab === 3) {\r\n            formPattern.forEach(form => {\r\n                form.forEach(({ field, label, type }) => {\r\n                    if (key === field) {                        \r\n                        let obj = {}\r\n                        Object.assign(obj, { field, label, value: ultimateData[key] })\r\n                        if (type) Object.assign(obj, { type })\r\n                        element.push(obj)\r\n                        obj = {}\r\n                    }\r\n                })\r\n            })\r\n        } else {\r\n            formPattern.forEach(({ field, label, type, width, fullWidth }) => {\r\n                if (key === field) {\r\n                    let obj = {}\r\n                    Object.assign(obj, { field, label, value: ultimateData[key] })\r\n                    if (type) Object.assign(obj, { type })\r\n                    if (width) Object.assign(obj, { width })\r\n                    element.push(obj)\r\n                    obj = {}\r\n                }\r\n            })\r\n        }\r\n    })\r\n\r\n    Object.keys(ultimateData).forEach(key => {\r\n        const equal = element.find(el => el.field === key)\r\n        if (!equal && tab === 3) element.push({ field: key, label: key, value: ultimateData[key] })\r\n    })\r\n\r\n    return (\r\n        <div className=\"popUpWindow\" style={{ left: '20%', right: '20%' }}>\r\n            <h4 className='equipaHeader'>{title} {data[header]}</h4> <hr />\r\n            <div className=\"checkListContainer\" style={{ justifyContent: 'flex-start' }}>\r\n                {\r\n                    element.map(({ field, label, value, type, width }, i) =>\r\n                        <div className=\"showDetailsItem\" style={{ width: width ? width : 150, }} key={i}>\r\n                            <TextField\r\n                                name={field}\r\n                                label={label}\r\n                                value={type === 'date' ? moment(value).format('DD/MM/YYYY') : value || ''}\r\n                                InputLabelProps={{ shrink: true, style: { fontSize: '0.9rem', fontWeight: 500 } }}\r\n                                inputProps={{\r\n                                    style: {\r\n                                        fontSize: '0.7rem',\r\n                                        width: width ? width : 150,\r\n                                        fontColor: '#bbb',\r\n                                        textAlign: 'center'\r\n                                    }\r\n                                }}\r\n                                variant='outlined'\r\n                            />\r\n                        </div>\r\n                    )}\r\n            </div>\r\n            <ClosePopUpButton close={close} />\r\n        </div>\r\n    )\r\n}","const formatFileSize = (bytes) => {\r\n\r\n    if (bytes > 1024 && bytes < 1048576) {\r\n        return Math.round(bytes / 1024) + ' KB'\r\n\r\n    } else if (bytes >= 1048576 && bytes < (1048576 * 1024)) {\r\n        return ((bytes / 1024) / 1024).toFixed(2) + ' MB'\r\n    } else {\r\n        return bytes + ' bytes'\r\n    }\r\n}\r\n\r\nexport default formatFileSize","export const empresaFiles = [\r\n    { title: 'Contrato Social', name: 'contratoSocial' },\r\n    { title: 'Procuração', name: 'procuracao' },\r\n    { title: 'Apólice', name: 'apoliceDoc' }\r\n]","import React from 'react';\r\n\r\nimport formatDate from '../Utils/formatDate'\r\nimport formatFileSize from '../Utils/formatFileSize'\r\nimport download from '../Utils/downloadFile'\r\n\r\nimport ClosePopUpButton from './ClosePopUpButton'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\n\r\nconst divRow = {\r\n    marginBottom: 0,\r\n    display: 'grid',\r\n    grid: '50px / 4% 40% 25% 25%',\r\n    width: '99%',\r\n    margin: 'auto',\r\n    padding: '10px 0 0 0',\r\n    justifyItems: 'auto'\r\n}\r\n\r\nconst ShowFiles = ({ filesCollection, close, format, typeId, empresas }) => {\r\n\r\n    let files = [],\r\n        collection = 'empresaDocs', fileLabels = [...empresaFiles]\r\n\r\n    switch (typeId) {\r\n        case 'veiculoId':\r\n            collection = 'vehicleDocs'\r\n            fileLabels = [...cadVehicleFiles]\r\n            if (!fileLabels.find(f => f.name === 'transferenciaDoc')) fileLabels.push({ title: 'Documento de Transferência', name: 'transferenciaDoc' })\r\n            if (!fileLabels.find(f => f.name === 'newPlateDoc')) fileLabels.push({ title: 'CRLV com nova placa', name: 'newPlateDoc' })\r\n            if (!fileLabels.find(f => f.name === 'apoliceDoc')) fileLabels.push({ title: 'Apólice de seguro', name: 'apoliceDoc' })\r\n            if (!fileLabels.find(f => f.name === 'laudoDoc')) fileLabels.push({ title: 'Laudo de segurança veicular', name: 'laudoDoc' })\r\n            break;\r\n        default: void 0\r\n    }\r\n    \r\n    if (filesCollection && filesCollection[0]) {\r\n        filesCollection.forEach(obj => {\r\n            fileLabels.forEach(o => {\r\n                if (obj.metadata && o.name === obj.metadata.fieldName) files.push({ ...obj, label: o.title })\r\n            })\r\n        })\r\n    }\r\n\r\n    const getMoreInfo = file => {\r\n        const { metadata } = file\r\n\r\n        switch (metadata.fieldName) {\r\n            case 'procuracao':\r\n                const emp = empresas.find(e => e.delegatarioId === Number(metadata.empresaId))\r\n                return ' - ' + emp.razaoSocial\r\n            case 'apoliceDoc':\r\n                if (metadata.apolice) return ' número ' + metadata.apolice\r\n                else return ' '\r\n            default:\r\n                return ''\r\n        }\r\n    }\r\n    const header = ['Arquivo', 'Data de Upload', 'Tamanho']\r\n    //console.log(filesCollection)\r\n\r\n    if (files[0]) {\r\n        return (\r\n            <div className='popUpWindow'>\r\n                <h5>\r\n                    <img alt=\"\" src=\"/images/folderIcon2.jpg\" style={{ paddingLeft: '20px', marginRight: '20px' }} /> Arquivos\r\n                </h5>\r\n\r\n                <hr style={{ marginBottom: '5px' }} />\r\n                <div style={divRow}>\r\n                    <div>\r\n                        <img alt=\"\" src=\"/images/multipleFiles2.png\" height='50%' />\r\n                    </div>\r\n                    {header.map((title, i) =>\r\n                        <div key={i}>\r\n                            <span style={{ fontSize: '1.2em', fontWeight: 500 }}>{title}</span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <hr style={{ margin: '0 0 20px 0' }} />\r\n                {\r\n                    files.map((file, index) =>\r\n                        <div key={index}>\r\n                            <div style={divRow}>\r\n                                <div className=\"col s1\">\r\n                                    <img alt=\"\" src=\"/images/genericFile.png\" />\r\n                                </div>\r\n                                <div className=\"col s11\">\r\n                                    <span\r\n                                        style={{ textDecoration: 'underline', cursor: 'pointer', color: 'blue' }}\r\n                                        onClick={() => download(file.id, file.filename, collection, file.metadata.fieldName)}>\r\n                                        {file.label + getMoreInfo(file)}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"col s3\">\r\n                                    {formatDate(file.uploadDate, true)}\r\n                                </div>\r\n                                <div className=\"col s3\">\r\n                                    {formatFileSize(file.length)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                <ClosePopUpButton close={close} />\r\n            </div>\r\n        )\r\n    }\r\n    else return null\r\n}\r\n\r\nexport default ShowFiles;","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport moment from 'moment'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport { connect } from 'react-redux'\r\nimport { updateCollection } from '../Store/dataActions'\r\n\r\nimport ConsultasTemplate from './ConsultasTemplate'\r\nimport { TabMenu } from '../Layouts'\r\n\r\nimport Certificate from '../Veiculos/Certificate'\r\nimport ShowDetails from '../Reusable Components/ShowDetails'\r\nimport ShowFiles from '../Reusable Components/ShowFiles'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nconst format = {\r\n    top: '5%',\r\n    left: '10%',\r\n    right: '10%'\r\n}\r\n\r\nclass ConsultasContainer extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.showDetails) this.showDetails()\r\n                if (this.state.showFiles) this.closeFiles()\r\n                if (this.state.showCertificate) this.closeCertificate()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        tab: 0,\r\n        items: ['Empresas', 'Sócios', 'Procuradores', 'Veículos', 'Seguros'],\r\n        tablePKs: ['delegatario_id', 'socio_id', 'procurador_id', 'veiculo_id', 'id'],\r\n        dbTables: ['delegatario', 'socios', 'procurador', 'veiculo', 'seguro'],\r\n        options: ['empresas', 'socios', 'procuradores', 'veiculos', 'seguros'],\r\n        detailsTitle: ['Empresa', 'Sócio', 'Procurador', 'Placa', 'Apólice'],\r\n        detailsHeader: ['razaoSocial', 'nomeSocio', 'nomeProcurador', 'placa', 'apolice'],\r\n        empresas: [],\r\n        seguros: [],\r\n        razaoSocial: '',\r\n        showDetails: false,\r\n        showFiles: false,\r\n        openDialog: false,\r\n        filesCollection: [],\r\n        elementDetails: '',\r\n        vehicleDocs: [],\r\n        showCertificate: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    changeTab = async (e, value) => {\r\n        await this.setState({ tab: value })\r\n        return\r\n    }\r\n\r\n    showDetails = async (e, elementDetails) => {\r\n        const\r\n            { redux } = this.props,\r\n            { options, tab, tablePKs } = this.state,\r\n            primaryKeys = tablePKs.map(pk => humps.camelize(pk))\r\n\r\n        let updatedElement\r\n\r\n        if (elementDetails) updatedElement = redux[options[tab]].find(e => e[primaryKeys[tab]] === elementDetails[primaryKeys[tab]])\r\n\r\n        if (elementDetails !== undefined && updatedElement) {\r\n            await this.setState({ showDetails: !this.state.showDetails, elementDetails: updatedElement })\r\n            void 0\r\n        }\r\n        else this.setState({ showDetails: !this.state.showDetails, elementDetails: undefined })\r\n    }\r\n\r\n    closeFiles = () => {\r\n        this.setState({ showFiles: !this.state.showFiles })\r\n    }\r\n\r\n    showFiles = id => {\r\n        const\r\n            { tab } = this.state,\r\n            { veiculos, socios, empresaDocs, vehicleDocs } = this.props.redux\r\n\r\n        let selectedFiles = empresaDocs.filter(f => f.metadata.empresaId === id.toString())\r\n        let typeId = 'empresaId'\r\n\r\n        switch (tab) {\r\n            case 1:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.empresaId === id.toString())\r\n                const socio = socios.find(v => v.socioId === id)\r\n                if (socio) {\r\n                    let sociosArray = []\r\n                    selectedFiles = empresaDocs\r\n                        .filter(f => f.metadata.empresaId === socio.delegatarioId.toString())\r\n                        .forEach(f => {\r\n                            if (f.metadata.socios && f.metadata.socios.includes(id))\r\n                                sociosArray.push(f)\r\n                        })\r\n                    selectedFiles = sociosArray\r\n                }\r\n                break\r\n\r\n            case 2:\r\n                typeId = 'procuracaoId'\r\n                let filesToReturn = []\r\n\r\n                empresaDocs.forEach(f => {\r\n                    if (f.metadata.fieldName === 'procuracao') {\r\n                        f.metadata.procuradores.forEach(procId => {\r\n                            if (procId === id) filesToReturn.push(f)\r\n                        })\r\n                    }\r\n                })\r\n                selectedFiles = filesToReturn\r\n                break\r\n            case 3:\r\n                typeId = 'veiculoId'\r\n                selectedFiles = vehicleDocs.filter(f => f.metadata.veiculoId === id.toString())\r\n                const vehicle = veiculos.find(v => v.veiculoId === id)\r\n                if (vehicle) {\r\n                    const seguro = empresaDocs.find(f => f.metadata.apolice === vehicle.apolice.toString())\r\n                    if (seguro) selectedFiles.push(seguro)\r\n                }\r\n                break\r\n            case 4:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.apolice === id.toString())\r\n                break\r\n            default: void 0\r\n        }\r\n\r\n        if (selectedFiles[0]) {\r\n            selectedFiles = selectedFiles\r\n                .sort((a, b) => new Date(a['uploadDate']) - new Date(b['uploadDate']))\r\n                .reverse()\r\n            this.setState({ filesCollection: selectedFiles, showFiles: true, typeId, selectedElement: id })\r\n            \r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n            this.setState({ filesCollection: [] })\r\n        }\r\n    }\r\n\r\n    deleteHandler = data => {\r\n        const { dbTables, tablePKs, tab } = this.state,\r\n            table = dbTables[tab],\r\n            tablePK = tablePKs[tab],\r\n            itemId = humps.camelize(tablePK)\r\n\r\n        axios.delete(`/api/delete?table=${table}&tablePK=${tablePK}&id=${data[itemId]}`)\r\n            .then(r => console.log(r.data))\r\n    }\r\n\r\n    showCertificate = async vehicle => {\r\n\r\n        const\r\n            { situacao, vencimento, vencimentoContrato } = vehicle,\r\n            seguroVencido = moment(vencimento).isBefore(),\r\n            contratoVencido = moment(vencimentoContrato).isBefore()\r\n\r\n        if (situacao !== 'Ativo') {\r\n            await this.setState({ alertType: 'veiculoPendente', openAlertDialog: true })\r\n            return\r\n        }\r\n        if (seguroVencido) {\r\n            await this.setState({ alertType: 'seguroVencido', openAlertDialog: true })\r\n            return\r\n        }\r\n        if (contratoVencido) {\r\n            await this.setState({ alertType: 'contratoVencido', openAlertDialog: true })\r\n            return\r\n        }\r\n\r\n        const url = window.location.origin + '/crv'\r\n        localStorage.setItem('vehicle', JSON.stringify(vehicle))\r\n        window.open(url, 'noopener')\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    closeCertificate = () => this.setState({ showCertificate: !this.state.showCertificate })\r\n\r\n    render() {\r\n        const\r\n            { tab, options, items, showDetails, elementDetails, showFiles, selectedElement, filesCollection,\r\n                openAlertDialog, alertType, typeId, tablePKs, showCertificate, certified, detailsTitle, detailsHeader } = this.state,\r\n            { redux } = this.props,\r\n            { empresas } = redux,\r\n            primaryKeys = tablePKs.map(pk => humps.camelize(pk))\r\n\r\n        let updatedElement\r\n        if (elementDetails && showDetails) updatedElement = redux[options[tab]].find(e => e[primaryKeys[tab]] === elementDetails[primaryKeys[tab]])\r\n\r\n        return <Fragment>\r\n            <TabMenu items={items}\r\n                tab={tab}\r\n                changeTab={this.changeTab} />\r\n            <ConsultasTemplate\r\n                tab={tab}\r\n                items={items}\r\n                collection={this.props.redux[options[tab]]}\r\n                showDetails={this.showDetails}\r\n                showFiles={this.showFiles}\r\n                del={this.deleteHandler}\r\n                showCertificate={this.showCertificate}\r\n            />\r\n            {showDetails &&\r\n                <ShowDetails\r\n                    close={this.showDetails}\r\n                    data={updatedElement || elementDetails}\r\n                    tab={tab}\r\n                    title={detailsTitle[tab]}\r\n                    header={detailsHeader[tab]}\r\n                />\r\n            }\r\n            {\r\n                showCertificate &&\r\n                <Certificate vehicle={certified} />\r\n            }\r\n            {showFiles &&\r\n                <ShowFiles\r\n                    tab={tab}\r\n                    elementId={selectedElement}\r\n                    filesCollection={filesCollection}\r\n                    close={this.closeFiles}\r\n                    format={format}\r\n                    typeId={typeId}\r\n                    empresas={empresas} />\r\n            }\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'socios', 'procuradores', 'seguros', 'seguradoras',\r\n    'getFiles/vehicleDocs', 'getFiles/empresaDocs']\r\n\r\nexport default connect(null, { updateCollection })(StoreHOC(collections, ConsultasContainer))","import React from 'react'\r\n\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1),\r\n        height: 'auto',\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 500,\r\n        textAlign: 'center'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 300,\r\n        fontColor: '#bbb',\r\n        textAlign: 'center'\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    dropBox: {\r\n        margin: '2% 0',\r\n    },\r\n    dropBoxItem: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '17px',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#4169E1',\r\n        backgroundColor: '#fafafa'\r\n    },\r\n    dropBoxItem2: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '0 1% 0 1%',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#00000',\r\n        backgroundColor: '#fafafa'\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, data, handleFiles }) {\r\n    const { activeStep, stepTitles, dropDisplay } = data,\r\n        classes = useStyles(), { paper, container, title, dropBox, dropBoxItem, dropBoxItem2 } = classes\r\n\r\n    let form = empresasForm\r\n\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <Grid>\r\n                {\r\n                    true\r\n                        ?\r\n                        <Grid item xs={12}>\r\n                            <Paper className={paper}>\r\n                                <Typography className={title}> {stepTitles[activeStep]}</Typography>\r\n                                <TextInput\r\n                                    form={form}\r\n                                    data={data}\r\n                                    handleBlur={handleBlur}\r\n                                    handleInput={handleInput}\r\n                                />\r\n                                <Dropzone onDrop={handleFiles}>\r\n                                    {({ getRootProps, getInputProps }) => (\r\n                                        <Grid container justify=\"center\" alignItems='center' className={dropBox} direction='row' {...getRootProps()}>\r\n                                            <input {...getInputProps()} />\r\n                                            {\r\n                                                dropDisplay.match('Clique ou') ?\r\n                                                    <Grid item xs={6} className={dropBoxItem}> {dropDisplay} </Grid>\r\n                                                    :\r\n                                                    <Grid item xs={6} className={dropBoxItem2}> <DescriptionOutlinedIcon />  {dropDisplay} <br /> (clique ou arraste outro arquivo para alterar)</Grid>\r\n                                            }\r\n                                        </Grid>\r\n                                    )}\r\n                                </Dropzone>\r\n                            </Paper>\r\n                        </Grid >\r\n                        :\r\n                        <Grid container justify=\"center\">\r\n                            <div className={classes.formHolder}></div>\r\n                        </Grid>\r\n                }\r\n            </Grid>\r\n        </Grid >\r\n    )\r\n}","import React, { Fragment } from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { sociosForm as form } from '../Forms/sociosForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1)\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 500,\r\n        textAlign: 'center'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 200,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    },\r\n    addButton: {\r\n        marginBottom: '1%',\r\n        padding: '1% 0'\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, data, addSocio, removeSocio, handleFiles, enableEdit, handleEdit }) {\r\n    const { activeStep, stepTitles, socios } = data,\r\n        classes = useStyles(), { paper, container, title, iconButton, list, addButton } = classes\r\n\r\n    const errorHandler = (el) => {\r\n\r\n        const value = data[el.field]\r\n\r\n        if (el.pattern && value) {\r\n            return value.match(el.pattern) === null\r\n        }\r\n        if (value > el.max || value < el.min) return true\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        const value = data[el.field]\r\n\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return undefined\r\n    }\r\n    \r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <Grid>\r\n                <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        <Typography className={title}> {stepTitles[activeStep]}</Typography>\r\n\r\n                        {\r\n                            form.map((el, i) =>\r\n                                <Fragment key={i}>\r\n                                    <TextField\r\n                                        name={el.field}\r\n                                        label={el.label}\r\n                                        margin='normal'\r\n                                        className={classes.textField}\r\n                                        onChange={handleInput}\r\n                                        onBlur={handleBlur}\r\n                                        type={el.type || ''}\r\n                                        error={errorHandler(el)}\r\n                                        helperText={helper(el)}\r\n                                        select={el.select || false}\r\n                                        value={data[el.field] || ''}\r\n                                        disabled={el.disabled || false}\r\n                                        InputLabelProps={{\r\n                                            className: classes.textField,\r\n                                            shrink: el.type === 'date' || undefined,\r\n                                            style: { fontSize: '0.75rem', fontWeight: 400, color: '#455a64', marginBottom: '5%' }\r\n                                        }}\r\n                                        inputProps={{\r\n                                            style: { background: el.disabled && data.disable ? '#fff' : '#fafafa',  height: '7px' },\r\n                                            value: `${data[el.field] || ''}`,\r\n                                            list: el.datalist || '',\r\n                                            maxLength: el.maxLength || '',\r\n                                            minLength: el.minLength || '',\r\n                                            max: el.max || '',\r\n                                        }}\r\n                                        multiline={el.multiline || false}\r\n                                        rows={el.rows || null}\r\n                                        variant={el.variant || 'filled'}\r\n                                        fullWidth={el.fullWidth || false}\r\n                                    >\r\n                                        {el.select === true && el.options.map((opt, i) =>\r\n                                            <MenuItem key={i} value={opt}>\r\n                                                {opt}\r\n                                            </MenuItem>)}\r\n                                    </TextField>\r\n                                </Fragment>\r\n                            )}\r\n                        <Button color='primary' className={addButton} onClick={addSocio}>\r\n                            <AddIcon /> Adicionar sócio\r\n                        </Button>\r\n                    </Paper>\r\n                </Grid>\r\n                {\r\n                    socios.length > 0 && <Grid container\r\n                        direction=\"row\"\r\n                        className={container}\r\n                        justify=\"center\"\r\n                        alignItems=\"center\">\r\n                        <Grid item xs={12}>\r\n                            <Paper className={paper}>\r\n                                <p className={title}>{activeStep === 1 ? 'Sócios' : 'Procuradores'} cadastrados</p>\r\n                                {socios.map((s, i) =>\r\n                                    <Grid key={i}>\r\n                                        {form.map((e, k) =>\r\n                                            <Fragment key={k + 1000}>\r\n                                                <TextField\r\n                                                    value={s[e.field] || ''}\r\n                                                    name={e.field}\r\n                                                    label={e.label}\r\n                                                    className={list}\r\n                                                    disabled={e.field === 'cpfSocio' ? true : s.edit ? false : true}\r\n                                                    onChange={handleEdit}\r\n                                                    InputLabelProps={{ shrink: true, style: { fontWeight: 600 } }}\r\n                                                />\r\n                                            </Fragment>\r\n                                        )}\r\n                                        <Button component='span' className={iconButton} title='editar' onClick={() => enableEdit(i)}>\r\n                                            <EditIcon />\r\n                                        </Button>\r\n\r\n                                        <Button className={iconButton} color='secondary' title='Remover' onClick={() => removeSocio(i)}>\r\n                                            <DeleteIcon />\r\n                                        </Button>\r\n                                    </Grid>\r\n                                )}\r\n                            </Paper>\r\n                        </Grid>\r\n                    </Grid>\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\n\r\nimport ShowLocalFiles from '../Utils/ShowLocalFiles'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 5px 0',\r\n        height: 'auto'\r\n    }\r\n}))\r\n\r\nexport default function Revisao({ data, empresasForm, sociosForm, filesForm, files }) {\r\n\r\n    const { socios } = data,\r\n        classes = useStyles(),\r\n        { paper } = classes\r\n\r\n    let empresaDetails = [], obj = {}, filledForm = [], ultimateData\r\n\r\n    empresasForm.forEach(e => {\r\n        if (data.hasOwnProperty([e.field])) {\r\n            Object.assign(obj, { [e.field]: data[e.field] })\r\n            filledForm.push(e)\r\n        }\r\n    })\r\n    empresaDetails.push(obj)\r\n\r\n    ultimateData = [\r\n        { subtitle: 'Detalhes da empresa', form: filledForm, data: empresaDetails },\r\n        { subtitle: 'Informações sobre os sócios', form: sociosForm, data: socios }\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <Paper className={paper}>\r\n                <div className='divTable'>\r\n                    {\r\n                        ultimateData.map(({ subtitle, form, data }, y) =>\r\n                            <Fragment key={y}>\r\n                                <table>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className='tHeader'\r\n                                                colSpan={form.length}>{subtitle}</th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            {form.map((s, i) => <th key={i}>{s.label}</th>)}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {y === 0 && <tr>\r\n                                            {data.map((obj, j) =>\r\n                                                Object.values(obj).map((el, k) =>\r\n                                                    <td className='review' key={k}>\r\n                                                        {el}\r\n                                                    </td>\r\n                                                )\r\n                                            )}\r\n                                        </tr>}\r\n                                        {y !== 0 && data.map((obj, j) =>\r\n                                            <tr>\r\n                                                {Object.values(obj).map((el, k) =>\r\n                                                    <td className='review' key={k}>\r\n                                                        {el}\r\n                                                    </td>\r\n                                                )}\r\n                                            </tr>\r\n                                        )}\r\n                                    </tbody>\r\n                                </table>\r\n\r\n                            </Fragment>\r\n                        )}\r\n                </div>\r\n\r\n                <h3 style={{ margin: '30px 0 0 25px' }}> <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} /> Documentos </h3>\r\n                {files && <ShowLocalFiles form={filesForm} files={files} />}\r\n            </Paper >\r\n        </>\r\n    )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport EmpresasTemplate from './EmpresasTemplate'\r\nimport SociosTemplate from './SociosTemplate'\r\nimport Review from './EmpresaReview'\r\n\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport Crumbs from '../Utils/Crumbs'\r\n\r\nimport StepperButtons from '../Utils/StepperButtons'\r\nimport CustomStepper from '../Utils/Stepper'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass EmpresasContainer extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        activeStep: 0,\r\n        stepTitles: ['Preencha os dados da empresa', 'Informações sobre os sócios',\r\n            'Revisão'],\r\n        steps: ['Dados da Empresa', 'Sócios', 'Revisão'],\r\n        razaoSocial: '',\r\n        toastMsg: 'Empresa cadastrada!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        socios: [],\r\n        dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n        showFiles: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const { name, value } = e.target\r\n        this.setState({ [name]: value })\r\n    }\r\n\r\n    addSocio = async () => {\r\n        let socios = this.state.socios,\r\n            sObject = {},\r\n            invalid = 0,\r\n            totalShare = 0\r\n\r\n        sociosForm.forEach(obj => {\r\n            if (this.state[obj.field] === '' || this.state[obj.field] === undefined) {\r\n                invalid += 1\r\n            }\r\n        })\r\n\r\n        if (invalid === 100) {\r\n            this.setState({ alertType: 'fieldsMissing', openAlertDialog: true })\r\n            return null\r\n        } else {\r\n            sociosForm.forEach(obj => {\r\n                Object.assign(sObject, { [obj.field]: this.state[obj.field] })\r\n            })\r\n            socios.push(sObject)\r\n\r\n            socios.forEach(s => {\r\n                totalShare += Number(s.share)\r\n            })\r\n            if (totalShare > 100) {\r\n                socios.pop()\r\n                this.setState({ alertType: 'overShared', openAlertDialog: true })\r\n            }\r\n            else {\r\n                await this.setState({ socios, totalShare })\r\n                sociosForm.forEach(obj => {\r\n                    this.setState({ [obj.field]: '' })\r\n                })\r\n                document.getElementsByName('nomeSocio')[0].focus()\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    enableEdit = index => {\r\n\r\n        let editSocio = this.state.socios\r\n        if (editSocio[index].edit === true) editSocio[index].edit = false\r\n        else {\r\n            editSocio.forEach(s => s.edit = false)\r\n            editSocio[index].edit = true\r\n        }\r\n        this.setState({ socios: editSocio })\r\n\r\n    }\r\n\r\n    handleEdit = e => {\r\n        const { name } = e.target, { socios } = this.state\r\n\r\n        let { value } = e.target\r\n        if (name === 'share') value = value.replace(',', '.')\r\n\r\n        let editSocio = socios.filter(s => s.edit === true)[0]\r\n        const index = socios.indexOf(editSocio)\r\n\r\n        editSocio[name] = value\r\n\r\n        let fs = socios\r\n        fs[index] = editSocio\r\n\r\n        this.setState({ filteredSocios: fs })\r\n\r\n    }\r\n\r\n    removeSocio = index => {\r\n        let socios = this.state.socios\r\n        socios.splice(index, 1)\r\n        this.setState({ socios })\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId, alertLabel) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            alert(alertLabel + ' não cadastrado')\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const { empresas } = this.props.redux\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n            case 'cnpj':\r\n                const alreadyExists = empresas.filter(e => e.cnpj === value)\r\n                if (alreadyExists[0]) {\r\n                    this.setState({ cnpj: '' })\r\n                    this.setState({ alertType: alreadyExists[0], openAlertDialog: true })\r\n                }\r\n                break;\r\n            case 'share':\r\n                value = value.replace(',', '.')\r\n                if (value > 100) {\r\n                    this.setState({ alertType: 'overShared', openAlertDialog: true })\r\n                }\r\n                else {\r\n                    const totalShare = Number(this.state.totalShare) + Number(value)\r\n                    this.setState({ [name]: value, totalShare })\r\n                }\r\n                break;\r\n            case 'numero':\r\n                if (value && !value.match(/^\\d+$/)) {\r\n                    await this.setState({ numero: '' })\r\n                    this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    handleFiles = (file) => {\r\n        let formData = new FormData()\r\n        formData.append('contratoSocial', file[0])\r\n        this.setState({ dropDisplay: file[0].name, contratoSocial: formData })\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        let { socios, contratoSocial } = this.state,\r\n            empresa = {},\r\n            contratoFile = new FormData(),\r\n            empresaId\r\n\r\n        empresasForm.forEach(e => {\r\n            if (this.state.hasOwnProperty([e.field])) {\r\n                Object.assign(empresa, { [e.field]: this.state[e.field] })\r\n            }\r\n        })\r\n\r\n        empresa.delegatarioStatus = 'Ativo'\r\n\r\n        Object.entries(empresa).forEach(([k, v]) => {\r\n            if (!v || v === '') delete empresa[k]\r\n        })\r\n\r\n        socios.forEach(s => {\r\n            delete s.edit\r\n            Object.entries(s).forEach(([k, v]) => {\r\n                if (!v || v === '') delete socios[k]\r\n            })\r\n        })\r\n\r\n        empresa = humps.decamelizeKeys(empresa)\r\n        socios = humps.decamelizeKeys(socios)\r\n\r\n        await axios.post('/api/empresaFullCad', { empresa, socios })\r\n            .then(delegatarioId => {\r\n                empresaId = delegatarioId.data\r\n            })\r\n\r\n        if (contratoSocial) {\r\n            contratoFile.append('fieldName', 'contratoSocial')\r\n            contratoFile.append('empresaId', empresaId)\r\n            for (let pair of contratoSocial.entries()) {\r\n                contratoFile.append(pair[0], pair[1])\r\n            }\r\n            await axios.post('/api/empresaUpload', contratoFile)\r\n                .then(r => console.log('file ok.'))\r\n        }\r\n\r\n        this.toast()\r\n        this.resetState()\r\n\r\n    }\r\n    resetState = () => {\r\n        let\r\n            resetEmpresa = {},\r\n            resetSocios = {},\r\n            resetFiles = {}\r\n\r\n        empresasForm.forEach(obj => {\r\n            Object.keys(obj).forEach(key => {\r\n                if (key === 'field' && this.state[obj[key]]) Object.assign(resetEmpresa, { [obj[key]]: undefined })\r\n            })\r\n        })\r\n\r\n        sociosForm.forEach(obj => {\r\n            Object.keys(obj).forEach(key => {\r\n                if (key === 'field' && this.state[obj[key]]) Object.assign(resetSocios, { [obj[key]]: undefined })\r\n            })\r\n        })\r\n\r\n        empresaFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: undefined })\r\n        })\r\n\r\n        this.setState({\r\n            ...resetEmpresa,\r\n            ...resetSocios,\r\n            ...resetFiles,\r\n            activeStep: 0,\r\n            razaoSocial: '',\r\n            files: [],\r\n            fileNames: [],\r\n            addedSocios: [0],\r\n            totalShare: 0,\r\n            socios: [],\r\n            dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n            showFiles: false\r\n        })\r\n    }\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    showFiles = () => this.setState({ showFiles: true })\r\n    closeFiles = () => this.setState({ showFiles: !this.state.showFiles })\r\n\r\n    render() {\r\n\r\n        const { activeStep, confirmToast, toastMsg, steps, openAlertDialog,\r\n            alertType, contratoSocial } = this.state\r\n\r\n        return <Fragment>\r\n\r\n            <Crumbs links={['Empresas', '/empresas']} text='Cadastro de empresas' />\r\n\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            {\r\n                activeStep === 0 ?\r\n                    <EmpresasTemplate\r\n                        data={this.state}\r\n                        handleInput={this.handleInput}\r\n                        handleBlur={this.handleBlur}\r\n                        handleFiles={this.handleFiles}\r\n                    />\r\n                    : activeStep === 1 ?\r\n                        <SociosTemplate\r\n                            data={this.state}\r\n                            handleInput={this.handleInput}\r\n                            handleBlur={this.handleBlur}\r\n                            addSocio={this.addSocio}\r\n                            removeSocio={this.removeSocio}\r\n                            handleFiles={this.handleFiles}\r\n                            enableEdit={this.enableEdit}\r\n                            handleEdit={this.handleEdit}\r\n                        />\r\n                        :\r\n                        activeStep === 2 && <Review\r\n                            files={contratoSocial}\r\n                            filesForm={empresaFiles} data={this.state}\r\n                            sociosForm={sociosForm} empresasForm={empresasForm}\r\n                        />\r\n            }\r\n            <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleSubmit}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['empresas']\r\n\r\nexport default (StoreHOC(collections, EmpresasContainer))","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActionArea from '@material-ui/core/CardActionArea'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Hidden from '@material-ui/core/Hidden'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    toolbar: {\r\n        borderBottom: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    toolbarTitle: {\r\n        flex: 1,\r\n    },\r\n    toolbarSecondary: {\r\n        justifyContent: 'space-between',\r\n        overflowX: 'auto',\r\n    },\r\n    toolbarLink: {\r\n        padding: theme.spacing(1),\r\n        flexShrink: 0,\r\n    },\r\n    mainFeaturedPost: {\r\n        position: 'relative',\r\n        backgroundColor: theme.palette.grey[100],\r\n        color: theme.palette.common.white,\r\n        marginBottom: theme.spacing(4),\r\n        backgroundImage: '/images/empresaBg2.jpg',\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n    },\r\n    overlay: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        left: 0,\r\n        backgroundColor: 'rgba(0,0,0,.1)',\r\n    },\r\n    mainFeaturedPostContent: {\r\n        position: 'relative',\r\n        padding: theme.spacing(3),\r\n        [theme.breakpoints.up('md')]: {\r\n            padding: theme.spacing(6),\r\n            paddingRight: 0,\r\n        },\r\n    },\r\n    mainGrid: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    card: {\r\n        display: 'flex',\r\n    },\r\n    cardDetails: {\r\n        flex: 1,\r\n    },\r\n    cardMedia: {\r\n        width: '120px',\r\n        height: '180px'\r\n    },\r\n    markdown: {\r\n        ...theme.typography.body2,\r\n        padding: theme.spacing(3, 0),\r\n    },\r\n    sidebarAboutBox: {\r\n        padding: theme.spacing(2),\r\n        backgroundColor: theme.palette.grey[200],\r\n    },\r\n    sidebarSection: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    footer: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        marginTop: theme.spacing(8),\r\n        padding: theme.spacing(6, 0),\r\n    },\r\n}));\r\n\r\nconst featuredPosts = [\r\n    {\r\n        title: 'Cadastrar',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastrar uma nova empresa no sistema.',\r\n        imageUrl: '/images/addCompany21.png',\r\n        link: '/empresas/cadastro'\r\n    },\r\n    {\r\n        title: 'Sócios',\r\n        date: '07/Nov',\r\n        description:\r\n            'Gerenciar sócios e alterações de contrato social',\r\n        link: '/empresas/socios',\r\n        imageUrl: '/images/socios3.png'\r\n    },\r\n    {\r\n        title: 'Procuradores',\r\n        date: '07/Nov',\r\n        description:\r\n            'Alterar relação de procuradores e procurações',\r\n        link: '/empresas/procuradores',\r\n        imageUrl: '/images/procuradores31.png'\r\n    },\r\n]\r\n\r\nexport default function () {\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n            <div style={{\r\n                minHeight: '83vh',\r\n                height: 'auto'\r\n            }}>\r\n                <main>\r\n                    <Paper className={classes.mainFeaturedPost}>\r\n                        <div style={{  height: '90px', width: '100%' }}>\r\n                            <img src=\"/images/empresasBg2.jpg\" alt=\"Empresas\" width='100%' height= '280px'/>\r\n                        </div>\r\n                        <div className={classes.overlay} />\r\n                        <Grid container>\r\n                            <Grid item md={4}>\r\n                                <div className={classes.mainFeaturedPostContent}>\r\n                                    <Typography component=\"h1\" variant=\"h4\" gutterBottom>\r\n                                        Empresas\r\n                                    </Typography>\r\n                                    <Typography variant=\"body1\" paragraph>\r\n                                        Selecione uma das opções abaixo.\r\n                                    </Typography>\r\n                                </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                    <Grid container spacing={4} className={classes.cardGrid}>\r\n                        {featuredPosts.map(post => (\r\n                            <Grid item key={post.title} xs={12} md={4}>\r\n                                <Link to={post.link} style={{ textDecoration: 'none' }}>\r\n                                    <CardActionArea component=\"span\" >\r\n                                        <Card className={classes.card}>\r\n                                            <div className={classes.cardDetails}>\r\n                                                <CardContent>\r\n                                                    <Typography component=\"h2\" variant=\"h6\">\r\n                                                        {post.title}\r\n                                                    </Typography>\r\n                                                    <br />\r\n                                                    <Typography variant=\"body2\" paragraph>\r\n                                                        {post.description}\r\n                                                    </Typography>\r\n                                                    <Typography variant=\"body2\" color=\"primary\">\r\n\r\n                                                        {post.title}\r\n\r\n                                                    </Typography>\r\n                                                </CardContent>\r\n                                            </div>\r\n                                            <Hidden xsDown>\r\n                                                <CardMedia\r\n                                                    className={classes.cardMedia}\r\n                                                    component=\"img\"\r\n                                                    src={post.imageUrl}\r\n                                                    title={post.title}\r\n                                                />\r\n                                            </Hidden>\r\n                                        </Card>\r\n                                    </CardActionArea>\r\n                                </Link>\r\n                            </Grid>\r\n                        ))}\r\n                    </Grid>\r\n                </main>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nconst StyledTableCell = withStyles(theme => ({\r\n    head: {\r\n        backgroundColor: '#e1f5fe',\r\n        color: '#00000',\r\n        fontWeight: 600,\r\n        fontSize: 14,\r\n    },\r\n    body: {\r\n        fontSize: 14,\r\n\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledCell = withStyles(theme => ({\r\n    head: {\r\n        backgroundColor: '#e1f5fe',\r\n        color: '#00000',\r\n    },\r\n    body: {\r\n        fontSize: 13,\r\n\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles(theme => ({\r\n    root: {\r\n        '&:nth-of-type(odd)': {\r\n            backgroundColor: theme.palette.background.default,\r\n        },\r\n    },\r\n}))(TableRow);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: '1',\r\n        padding: '1%',\r\n        textAlign: 'center'\r\n    },\r\n    title: {\r\n        marginTop: '2%',\r\n        fontColor: '#000',\r\n        fontSize: '0.9rem',\r\n        backgroundColor: '#B2DCEA',\r\n        textAlign: 'center'\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(2),\r\n        width: \"100%\",\r\n        padding: '2% 0 1% 0',\r\n        height: 'auto'\r\n    },\r\n    table: {\r\n        marginBottom: theme.spacing(2),\r\n        overflowX: 'auto'\r\n    }\r\n}))\r\n\r\n\r\nexport default function Procurador({ procuracao, procuradores }) {\r\n\r\n    const classes = useStyles(),\r\n        { title, table } = classes\r\n\r\n    let procArray = []\r\n\r\n    procuracao.procuradores.forEach(id => {\r\n        const pro = procuradores.find(p => p.procuradorId === id)\r\n        procArray.push(pro)\r\n    })\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div style={{ width: '100%', align: 'left' }}>\r\n                <Typography className={title}> Procuradores cadastrados </Typography>\r\n            </div>\r\n            <Table className={table}>\r\n                <TableHead>\r\n                    <StyledTableRow>\r\n                        {procuradorForm.map((s, i) => <StyledTableCell key={i}>{s.label}</StyledTableCell>)}\r\n                    </StyledTableRow>\r\n                </TableHead>\r\n                { procArray.map((d, j) =>\r\n                    d ?\r\n                        <TableBody key={j}>\r\n                            <TableRow>\r\n                                {\r\n                                    procuradorForm.map((obj, l) =>\r\n                                        <StyledCell key={l}>\r\n                                            {d[obj.field]}\r\n                                        </StyledCell>\r\n                                    )\r\n                                }\r\n                            </TableRow>\r\n                        </TableBody>\r\n                        :\r\n                        null\r\n                )}\r\n            </Table>\r\n        </ React.Fragment>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\nimport moment from 'moment'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nimport AddCircleOutlineSharpIcon from '@material-ui/icons/AddCircleOutlineSharp';\r\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\r\n\r\nimport Procurador from './Procurador'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\n\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\n\r\nconst divContainer = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    alignContent: 'center',\r\n    flexWrap: 'wrap',\r\n    position: 'relative'\r\n}\r\n\r\nconst divFiles = {\r\n    textAlign: 'center',\r\n    alignItems: 'flex-start',\r\n    justify: 'space-between',\r\n    lineHeight: '40px',\r\n    border: '1px #ccc solid',\r\n    padding: '0 1%',\r\n    margin: '1% 1% 0.5% 1%',\r\n    fontSize: '0.8rem',\r\n    backgroundColor: '#f6f6f6',\r\n    borderRadius: '6px',\r\n    width: 180\r\n}\r\n\r\nconst icon = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    paddingLeft: '2%'\r\n}\r\n\r\nconst fileIcon = {\r\n    verticalAlign: 'middle',\r\n    padding: '0 0% 0 2%',\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1),\r\n        height: 'auto',\r\n        backgroundColor: '#fafafa',\r\n    },\r\n    containerList: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(2),\r\n        height: 'auto',\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        textAlign: 'center',\r\n        fontSize: '1.1rem'\r\n    },\r\n    selector: {\r\n        width: '380px',\r\n        fontSize: '0.8rem',\r\n        margin: '10px 0',\r\n        textAlign: 'center'\r\n\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center'\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1),\r\n    },\r\n    paper2: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1),\r\n        position: 'relative'\r\n    },\r\n\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    },\r\n    addButton: {\r\n        padding: '5px 10px 5px 8px',\r\n        height: '40px',\r\n        margin: '5px',\r\n        float: 'right',\r\n        fontSize: '0.8rem'\r\n    },\r\n    dropBox: {\r\n        margin: '30px 0 15px 0',\r\n    },\r\n    dropBoxItem: {\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '60px',\r\n        padding: '10px 15px 0 15px',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#4169E1',\r\n        backgroundColor: '#fafafa'\r\n\r\n    },\r\n    dropBoxItem2: {\r\n        margin: '1% 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '60px',\r\n        padding: '0 1% 0 1%',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        color: 'black',\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, redux, data, addProc, removeProc,\r\n    handleFiles, getFile, plusOne, minusOne }) {\r\n    const { procDisplay, selectedEmpresa, procsToAdd, selectedDocs } = data,\r\n        { empresas, procuradores } = redux,\r\n\r\n        classes = useStyles(), {\r\n            paper, container, title, dropBox,\r\n            dropBoxItem, dropBoxItem2, addButton, paper2, containerList } = classes\r\n\r\n    const errorHandler = (el) => {\r\n\r\n        const value = data[el.field]\r\n\r\n        if (el.pattern && value) {\r\n            return value.match(el.pattern) === null\r\n        }\r\n        if (value > el.max || value < el.min) return true\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        const value = data[el.field]\r\n\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return undefined\r\n    }\r\n\r\n    const handleDates = (date) => {\r\n\r\n        if (date) return moment(date).format('DD-MM-YYYY')\r\n        else return ''\r\n    }\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"flex-start\"\r\n        >\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}                \r\n            />\r\n            {selectedEmpresa && <Paper className={paper2}>\r\n                <Typography className={title}> Cadastrar nova procuração </Typography>\r\n                <h4 style={{ fontWeight: 400, fontSize: '0.9em' }}> Se a procuração abranger mais de um procurador, clique em \"+\" para adicionar e anexe apenas 1 vez.</h4>\r\n                {procsToAdd.map((p, j) =>\r\n                    <Grid item xs={12} key={j} style={{ float: 'left' }}>\r\n                        {procuradorForm.map((el, i) =>\r\n                            <Fragment key={i}>\r\n                                <TextField\r\n                                    name={el.field + j}\r\n                                    label={el.label}\r\n                                    margin='normal'\r\n                                    className={classes.textField}\r\n                                    onChange={e => handleInput(e)}                                    \r\n                                    type={el.type || ''}\r\n                                    error={errorHandler(el)}\r\n                                    helperText={helper(el)}\r\n                                    select={el.select || false}\r\n                                    value={data[el.field + j] || ''}\r\n                                    disabled={el.disabled || false}\r\n                                    InputLabelProps={{\r\n                                        className: classes.textField,\r\n                                        shrink: el.type === 'date' || undefined,\r\n                                        style: { fontSize: '0.7rem', fontWeight: 400, color: '#888' }\r\n                                    }}\r\n                                    inputProps={{\r\n                                        style: {\r\n                                            background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                            fontSize: '0.9rem', textAlign: 'center', color: '#000', width: el.width || 150, height: '7px'\r\n                                        },\r\n                                        value: `${data[el.field + j] || ''}`,\r\n                                        list: el.datalist || '',\r\n                                        maxLength: el.maxLength || '',\r\n                                        minLength: el.minLength || '',\r\n                                        max: el.max || '',\r\n                                    }}\r\n                                    multiline={el.multiline || false}\r\n                                    rows={el.rows || null}\r\n                                    variant={el.variant || 'filled'}\r\n                                    fullWidth={el.fullWidth || false}\r\n                                >\r\n                                </TextField>\r\n                                {j === procsToAdd.length - 1 && i === 3 &&\r\n                                    <>\r\n                                        <AddCircleOutlineSharpIcon\r\n                                            onClick={() => plusOne()}\r\n                                            style={{\r\n                                                verticalAlign: 'middle',\r\n                                                position: 'absolute',\r\n                                                bottom: '136px',\r\n                                                right: j > 0 ? '15px' : '35px',\r\n                                                color: '#009688',\r\n                                                fontSize: 30,\r\n                                                cursor: 'pointer',\r\n                                                zIndex: 1\r\n                                            }}\r\n                                        />\r\n                                        {j > 0 && <RemoveCircleOutlineIcon\r\n                                            onClick={() => minusOne()}\r\n                                            style={{\r\n                                                verticalAlign: 'middle',\r\n                                                position: 'absolute',\r\n                                                bottom: '136px',\r\n                                                right: '45px',\r\n                                                color: 'red',\r\n                                                fontSize: 30,\r\n                                                cursor: 'pointer',\r\n                                                zIndex: 1\r\n                                            }}\r\n                                        />}\r\n                                    </>\r\n                                }\r\n                            </Fragment>\r\n                        )}\r\n                    </Grid>\r\n                )}\r\n                <Grid container style={{ position: 'relative' }}>\r\n                    <Grid item xs={6}>\r\n                        <Dropzone onDrop={handleFiles}>\r\n                            {({ getRootProps, getInputProps }) => (\r\n                                <Grid container justify=\"center\"\r\n                                    alignItems='center' className={dropBox} direction='row' {...getRootProps()}>\r\n                                    <input {...getInputProps()} />\r\n                                    {\r\n                                        procDisplay.match('Clique ou') ?\r\n                                            <Grid item xs={6} className={dropBoxItem}> {procDisplay} </Grid>\r\n                                            :\r\n                                            <Grid item xs={6} className={dropBoxItem2}> <DescriptionOutlinedIcon />  {procDisplay} <br /> (clique ou arraste outro arquivo para alterar)</Grid>\r\n                                    }\r\n                                </Grid>\r\n                            )}\r\n                        </Dropzone>\r\n                    </Grid>\r\n                    <Grid item xs={6} className={dropBox}>\r\n                        <TextField\r\n                            name='vencimento'\r\n                            label='Vencimento'\r\n                            margin='normal'\r\n                            className={classes.textField}\r\n                            onChange={e => handleInput(e)}\r\n                            type='date'\r\n                            helper='se indeterminado, deixar em branco'                            \r\n                            value={data.vencimento || ''}\r\n                            InputLabelProps={{\r\n                                className: classes.textField,\r\n                                shrink: true,\r\n                                style: { fontSize: '0.8rem', color: '#455a64', marginBottom: '5%' }\r\n                            }}\r\n                            inputProps={{\r\n                                style: { background: '#fafafa', fontSize: '0.8rem', textAlign: 'center', color: '#000', height: '9px' },\r\n                            }}\r\n                            variant={'filled'}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </Paper>}\r\n            <Grid container direction=\"row\" justify='flex-start' style={{ width: '1200px' }}>\r\n                <Grid item xs={9} style={{ width: '1000px' }}></Grid>\r\n                <Grid item xs={3} style={{ align: \"right\" }}>\r\n                    {selectedEmpresa && <Button\r\n                        className={addButton}\r\n                        size='small'\r\n                        color=\"secondary\"\r\n                        variant=\"contained\"\r\n                        onClick={addProc}\r\n                    >\r\n                        <AddIcon />Cadastrar procuração\r\n                        </Button>}\r\n                </Grid>\r\n            </Grid>\r\n            {selectedEmpresa && selectedDocs[0] && <h2 style={{ margin: '25px 0 0 15px' }}>Procurações cadastradas</h2>}\r\n            {\r\n                selectedEmpresa && !selectedDocs[0] &&\r\n                <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        Nenhum procurador cadastrado para {selectedEmpresa.razaoSocial}\r\n                    </Paper>\r\n                </Grid>\r\n            }\r\n            {\r\n                selectedDocs.length > 0 && selectedDocs.map((procuracao, z) => <Grid container\r\n                    key={z * 0.01}\r\n                    direction=\"row\"\r\n                    className={containerList}\r\n                    justify=\"center\"\r\n                    alignItems=\"flex-start\">\r\n                    <Grid item xs={12}>\r\n                        <Paper style={{ padding: '10px 15px 20px 15px' }}>\r\n                            <p className={title}>Procuração {\r\n                                !procuracao.vencimento ?\r\n                                    'por prazo indeterminado'\r\n                                    :\r\n                                    'com vencimento em ' + handleDates(procuracao.vencimento)\r\n                            }</p>\r\n\r\n                            <Procurador procuradores={procuradores} procuracao={procuracao} />\r\n\r\n                            <div style={divContainer}>\r\n                                <span style={divFiles}>\r\n                                    <InsertDriveFileOutlinedIcon style={fileIcon} />\r\n                                    <span style={{ verticalAlign: 'middle', }}>\r\n                                        {' '} Baixar arquivo\r\n                                    </span>\r\n                                    <GetAppIcon style={icon} onClick={() => getFile(procuracao.procuracaoId)} />\r\n                                </span>\r\n                                <span style={{ ...divFiles, width: 90, backgroundColor: 'white', border: 0, position: 'absolute', right: 0 }}>\r\n                                    <DeleteOutlinedIcon color='secondary' style={icon} onClick={() => removeProc(procuracao)} />\r\n                                    Apagar\r\n                                    </span>\r\n                            </div>\r\n                        </Paper>\r\n                    </Grid>\r\n                </Grid>\r\n                )}\r\n        </Grid>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport AltProcuradoresTemplate from './AltProcuradoresTemplate'\r\nimport download from '../Utils/downloadFile'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\n\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass AltProcuradores extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.openDialog) this.toggleDialog()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        filteredProc: [],\r\n        procDisplay: 'Clique ou arraste para anexar a procuração referente a este(s) procurador(es).',        \r\n        procuradores: [],\r\n        procsToAdd: [1],\r\n        procuracoesArray: [],\r\n        selectedDocs: []\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        axios.get('/api/getFiles/empresaDocs?fieldName=procuracao')\r\n            .then(r => this.setState({ files: r.data }))\r\n\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n\r\n        const\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target,\r\n            procuracoes = [...this.props.redux.procuracoes],\r\n            procArray = [],\r\n            procuracoesArray = []\r\n\r\n        const procuradores = [...this.props.redux.procuradores]\r\n\r\n        this.setState({ ...this.state, [name]: value })\r\n\r\n        if (name === 'razaoSocial' && Array.isArray(procuradores)) {\r\n\r\n            procuracoes = procuracoes.filter(pr => pr.razaoSocial === value)\r\n\r\n            if (procuracoes[0]) procuracoes.forEach(pr => {\r\n                pr.procuradores.forEach(id => {\r\n                    const pro = procuradores.find(p => p.procuradorId === id)\r\n                    if (pro) procArray.push(pro)\r\n\r\n                })\r\n                procuracoesArray.push(procArray)\r\n                procArray = []\r\n            })\r\n\r\n            this.setState({ procuracoesArray, selectedDocs: procuracoes })\r\n\r\n            const selectedEmpresa = this.props.redux.empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n            } else this.setState({ selectedEmpresa: undefined })\r\n        }\r\n    }\r\n\r\n    addProc = async () => {\r\n        const\r\n            { selectedEmpresa, procFiles, vencimento } = this.state,\r\n            procuradores = [...this.props.redux.procuradores],\r\n            nProc = [...this.state.procsToAdd]\r\n        let\r\n            selectedDocs = [...this.state.selectedDocs],\r\n            files = [...this.state.files],\r\n            addedProcs = [],\r\n            sObject = {}\r\n\r\n        nProc.forEach((n, i) => {\r\n            procuradorForm.forEach(obj => {\r\n                Object.assign(sObject, { [obj.field]: this.state[obj.field + i] })\r\n            })\r\n            let j = 0\r\n            Object.values(sObject).forEach(v => {\r\n                if (v) j += 1\r\n            })\r\n            if (j > 0) addedProcs.push(sObject)\r\n\r\n            j = 0\r\n            sObject = {}\r\n\r\n            procuradorForm.forEach(obj => {\r\n                this.setState({ [obj.field + i]: '' })\r\n            })\r\n        })\r\n\r\n        let gotId, newMembers = [], procIdArray = [],\r\n            contratoFile = new FormData()\r\n\r\n        addedProcs.forEach(fp => {\r\n            gotId = procuradores.filter(p => p.cpfProcurador === fp.cpfProcurador)\r\n            if (gotId.length > 0 && gotId[0].hasOwnProperty('procuradorId')) {\r\n                procIdArray.push(gotId[0].procuradorId)\r\n            } else {\r\n                newMembers.push(fp)\r\n            }\r\n        })\r\n\r\n        if (newMembers.length > 0) {\r\n            newMembers = humps.decamelizeKeys(newMembers)\r\n            await axios.post('/api/cadProcuradores', { procuradores: newMembers, table: 'procurador', tablePK: 'procurador_id' })\r\n                .then(procs => {\r\n                    procs.data.forEach(p => procIdArray.push(p.procurador_id))\r\n                })\r\n            await axios.get('/api/procuradores')\r\n                .then(res => {\r\n                    const procuradores = humps.camelizeKeys(res.data)\r\n                    this.setState({ procuradores })\r\n                })\r\n        }\r\n\r\n        let novaProcuracao = {\r\n            delegatario_id: selectedEmpresa.delegatarioId,\r\n            vencimento,\r\n            status: 'vigente',\r\n            procuradores: procIdArray\r\n        }\r\n\r\n        Object.entries(novaProcuracao).forEach(([k, v]) => {\r\n            if (!v || v === '') delete novaProcuracao[k]\r\n        })\r\n\r\n        let procuracaoId\r\n\r\n        await axios.post('/api/cadProcuracao', novaProcuracao)\r\n            .then(r => {\r\n                procuracaoId = r.data[0].procuracao_id\r\n            })\r\n\r\n        novaProcuracao.procuracaoId = procuracaoId\r\n\r\n        if (procFiles) {\r\n            contratoFile.append('fieldName', 'procuracao')\r\n            contratoFile.append('empresaId', selectedEmpresa.delegatarioId)\r\n            contratoFile.append('procuracaoId', procuracaoId)\r\n            contratoFile.append('procuradores', procIdArray)\r\n            for (let pair of procFiles.entries()) {\r\n                contratoFile.append(pair[0], pair[1])\r\n            }\r\n            await axios.post('/api/empresaUpload', contratoFile)\r\n                .then(r => console.log(r.data))\r\n\r\n            await axios.get(`/api/getOneFile?collection=empresaDocs&id=${procuracaoId}`)\r\n                .then(r => { if (r.data[0]) files.push(r.data[0]) })\r\n        }\r\n\r\n\r\n        selectedDocs.reverse()\r\n        selectedDocs.push(novaProcuracao)\r\n        selectedDocs.reverse()\r\n\r\n        this.setState({\r\n            selectedDocs,\r\n            files,\r\n            procDisplay: 'Clique ou arraste para anexar a procuração referente a este(s) procurador(es).',\r\n            procsToAdd: [1],\r\n            vencimento: '',\r\n            procFiles: undefined\r\n        })\r\n\r\n        this.toast()\r\n    }\r\n\r\n    removeProc = async proc => {\r\n\r\n        const { files } = this.state,\r\n            id = proc.procuracaoId,\r\n            selectedFile = files.find(f => Number(f.metadata.procuracaoId) === id)\r\n\r\n\r\n        let procs = [...this.state.selectedDocs]\r\n\r\n        await axios.delete(`/api/delete?table=procuracao&tablePK=procuracao_id&id=${id}`)\r\n            .then(r => { console.log(r.data) })\r\n\r\n        if (selectedFile && selectedFile.hasOwnProperty('_id')) axios.get(`/api/deleteFile/${selectedFile._id}`)\r\n\r\n        const i = procs.indexOf(proc)\r\n        procs.splice(i, 1)\r\n\r\n        this.setState({ selectedDocs: procs })\r\n    }\r\n\r\n    handleFiles = (file) => {\r\n        let procFiles = new FormData()\r\n        procFiles.append('procFile', file[0])\r\n        this.setState({ procFiles, procDisplay: file[0].name })\r\n    }\r\n\r\n    getFile = id => {\r\n        const { files } = this.state\r\n\r\n        const selectedFile = files.find(f => Number(f.metadata.procuracaoId) === id)\r\n\r\n        if (selectedFile) {\r\n            const { _id, filename } = selectedFile\r\n            download(_id, filename, 'empresaDocs')\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n        }\r\n    }  \r\n\r\n    plusOne = () => {\r\n        let i = [...this.state.procsToAdd]\r\n        i.push(1)\r\n        this.setState({ procsToAdd: i })\r\n    }\r\n\r\n    minusOne = () => {\r\n        let i = [...this.state.procsToAdd]\r\n        i.pop()\r\n        this.setState({ procsToAdd: i })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const {  openAlertDialog, alertType } = this.state\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Alteração de procuradores' />\r\n                <AltProcuradoresTemplate\r\n                    data={this.state}\r\n                    redux={this.props.redux}\r\n                    handleInput={this.handleInput}\r\n                    removeProc={this.removeProc}\r\n                    handleFiles={this.handleFiles}\r\n                    addProc={this.addProc}                   \r\n                    handleSubmit={this.handleSubmit}                    \r\n                    plusOne={this.plusOne}\r\n                    minusOne={this.minusOne}\r\n                    getFile={this.getFile}\r\n                />               \r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['empresas', 'procuradores', 'procuracoes']\r\n\r\nexport default (StoreHOC(collections, AltProcuradores))","import React, { Fragment } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1)\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 500,\r\n        textAlign: 'center'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 200,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    helperText: {\r\n        marginTop: '4px'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    },\r\n    addButton: {\r\n        marginBottom: '1%',\r\n        padding: '1% 0'\r\n    },\r\n    dropBox: {\r\n        margin: '1% 0',\r\n    },\r\n    dropBoxItem: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '17px',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#4169E1',\r\n        backgroundColor: '#fafafa'\r\n    },\r\n    dropBoxItem2: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '0 1% 0 1%',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#00000',\r\n        backgroundColor: '#fafafa'\r\n    }\r\n}))\r\n\r\n\r\nexport default function AltSociosTemplate({ empresas, data, removeSocio, handleBlur, handleInput,\r\n    addSocio, handleFiles, enableEdit, handleEdit, handleSubmit }) {\r\n\r\n    const\r\n        { dropDisplay, filteredSocios, selectedEmpresa } = data,\r\n        classes = useStyles(),\r\n        { paper, container, title, iconButton, dropBox,\r\n            dropBoxItem, dropBoxItem2, list, addButton } = classes\r\n\r\n    const errorHandler = (el) => {\r\n\r\n        const value = data[el.field]\r\n\r\n        if (el.pattern && value) {\r\n            return value.match(el.pattern) === null\r\n        }\r\n        if (value > el.max || value < el.min) return true\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        const value = data[el.field]\r\n\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return ' '\r\n    }\r\n    \r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}\r\n                handleBlur={handleBlur}\r\n            />\r\n            {\r\n                //selectedEmpresa \r\n                true && <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        {\r\n                            sociosForm.map((el, i) =>\r\n                                <Fragment key={i}>\r\n                                    <TextField\r\n                                        name={el.field}\r\n                                        label={el.label}\r\n                                        margin='normal'\r\n                                        className={classes.textField}\r\n                                        onChange={handleInput}\r\n                                        onBlur={handleBlur}\r\n                                        type={el.type || ''}\r\n                                        error={errorHandler(el)}\r\n                                        helperText={helper(el)}\r\n                                        FormHelperTextProps={{\r\n                                            className: classes.helperText\r\n                                        }}\r\n                                        select={el.select || false}\r\n                                        value={data[el.field] || ''}\r\n                                        disabled={el.disabled}\r\n                                        InputLabelProps={{\r\n                                            className: classes.textField,\r\n                                            shrink: el.type === 'date' || undefined,\r\n                                            style: { fontSize: '0.7rem', color: '#455a64', marginBottom: '5%' }\r\n                                        }}\r\n                                        inputProps={{\r\n                                            style: { background: el.disabled && data.disable ? '#fff' : '#fafafa', height: '7px' },\r\n                                            value: `${data[el.field] || ''}`,\r\n                                            list: el.datalist || '',\r\n                                            maxLength: el.maxLength || '',\r\n                                            minLength: el.minLength || '',\r\n                                            max: el.max || '',\r\n                                        }}\r\n                                        variant={el.variant || 'filled'}\r\n                                    >\r\n                                    </TextField>\r\n                                </Fragment>\r\n                            )}\r\n\r\n                        <Button color='primary' className={addButton} onClick={addSocio}>\r\n                            <AddIcon /> Adicionar sócio\r\n                        </Button>\r\n                    </Paper>\r\n                </Grid>\r\n            }\r\n            {\r\n                selectedEmpresa && filteredSocios.length === 0 &&\r\n                <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        Nenhum sócio cadastrado para {selectedEmpresa.razaoSocial}\r\n                    </Paper>\r\n\r\n                </Grid>\r\n            }\r\n            {\r\n                filteredSocios.length > 0 && selectedEmpresa && <Grid container\r\n                    direction=\"row\"\r\n                    className={container}\r\n                    justify=\"center\"\r\n                    alignItems=\"center\">\r\n                    <Grid item xs={12}>\r\n                        <Paper className={paper}>\r\n                            <p className={title}>Sócios cadastrados</p>\r\n                            {filteredSocios.map((s, i) =>\r\n                                <Grid key={i}>\r\n                                    {sociosForm.map((e, k) =>\r\n                                        <Fragment key={k + 1000}>\r\n                                            <TextField\r\n                                                value={s[e.field] || ''}\r\n                                                name={e.field}\r\n                                                label={e.label}\r\n                                                className={list}\r\n                                                disabled={e.field === 'cpfSocio' ? true : s.edit ? false : true}\r\n                                                onChange={handleEdit}\r\n                                                InputLabelProps={{ shrink: true, style: { fontWeight: 600 } }}\r\n                                                inputProps={{ style: { fontSize: '0.8rem' } }}\r\n                                            />\r\n                                        </Fragment>\r\n                                    )}\r\n                                    <Button component='span' className={iconButton} title='editar' onClick={() => enableEdit(i)}>\r\n                                        <EditIcon />\r\n                                    </Button>\r\n                                    <Button className={iconButton} color='secondary' title='Remover' onClick={() => removeSocio(i)}>\r\n                                        <DeleteIcon />\r\n                                    </Button>\r\n                                </Grid>\r\n                            )}\r\n                        </Paper>\r\n                        <Dropzone onDrop={handleFiles}>\r\n                            {({ getRootProps, getInputProps }) => (\r\n                                <Grid container justify=\"center\" alignItems='center' className={dropBox} direction='row' {...getRootProps()}>\r\n                                    <input {...getInputProps()} />\r\n                                    {\r\n                                        dropDisplay.match('Clique ou') ?\r\n                                            <Grid item xs={6} className={dropBoxItem}> {dropDisplay} </Grid>\r\n                                            :\r\n                                            <Grid item xs={6} className={dropBoxItem2}> <DescriptionOutlinedIcon />  {dropDisplay} <br /> (clique ou arraste outro arquivo para alterar)</Grid>\r\n                                    }\r\n                                </Grid>\r\n                            )}\r\n                        </Dropzone>\r\n                        <Grid container direction=\"row\" justify='flex-end' style={{ width: '1200px' }}>\r\n                            <Grid item xs={10} style={{ width: '1000px' }}></Grid>\r\n                            <Grid item xs={1} style={{ align: \"right\" }}>\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    color=\"primary\"\r\n                                    variant=\"contained\"\r\n                                    style={{ margin: '0px 0 10px 0' }}\r\n                                    onClick={() => handleSubmit()}                                    \r\n                                >\r\n                                    Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            }\r\n        </Grid>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport humps from 'humps'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport AltSociosTemplate from './AltSociosTemplate'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass AltSocios extends Component {\r\n\r\n    state = {\r\n        razaoSocial: '',\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        dialogTitle: '',\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        filteredSocios: [],\r\n        dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n        showFiles: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const originals = humps.decamelizeKeys(this.props.redux.socios)\r\n        this.setState({ originals })\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { empresas, socios } = this.props.redux,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        this.setState({ ...this.state, [name]: value })\r\n\r\n        if (name === 'razaoSocial') {\r\n            const filteredSocios = [...socios.filter(s => s.razaoSocial === value)],\r\n                selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n            if (filteredSocios.length > 0) {\r\n                this.setState({ filteredSocios, selectedEmpresa })\r\n            } else this.setState({ filteredSocios: [] })\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n            } else this.setState({ selectedEmpresa: undefined })\r\n        }\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const { filteredSocios } = this.state\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n        switch (name) {\r\n            case 'cpfSocio':\r\n                const alreadyExists = filteredSocios.find(e => e.cpfSocio === value)\r\n                if (alreadyExists) {\r\n                    this.setState({ alertType: 'alreadyExists', openAlertDialog: true })\r\n                    this.setState({ cpfSocio: '' })\r\n                }\r\n                break;\r\n            case 'share':\r\n\r\n                if (value) {\r\n                    value = value.replace(',', '.')\r\n\r\n                    if (value > 100) {\r\n                        await this.setState({ share: '' })\r\n                        value = ''\r\n                        this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n                    }\r\n                    if (value !== '0' && value !== '00' && !Number(value)) {\r\n\r\n                        await this.setState({ share: '' })\r\n                        this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n\r\n                    } else {\r\n                        let totalShare = filteredSocios.map(s => Number(s.share))\r\n                            .reduce((a, b) => a + b)\r\n\r\n                        totalShare += Number(value)\r\n                        this.setState({ totalShare, share: value })\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    addSocio = async () => {\r\n        let socios = this.state.filteredSocios,\r\n            sObject = {}\r\n\r\n        //check if totalShare is more than 100\r\n        if (this.state.totalShare > 100) {\r\n            this.setState({ openAlertDialog: true, alertType: 'overShared' })\r\n            return null\r\n        }\r\n\r\n        sociosForm.forEach(obj => {\r\n            Object.assign(sObject, { [obj.field]: this.state[obj.field] })\r\n        })\r\n        socios.unshift(sObject)\r\n\r\n        await this.setState({ filteredSocios: socios })\r\n\r\n        sociosForm.forEach(obj => {\r\n            this.setState({ [obj.field]: '' })\r\n        })\r\n        document.getElementsByName('nomeSocio')[0].focus()\r\n    }\r\n\r\n    removeSocio = async index => {\r\n\r\n        let socios = [...this.state.filteredSocios]\r\n        const\r\n            id = socios[index].socioId,\r\n            originalSocios = this.props.redux.socios,\r\n            registered = originalSocios.find(s => s.socioId === id)\r\n\r\n        if (registered) {\r\n            await axios.delete(`/api/delete?table=socios&tablePK=socio_id&id=${id}`)\r\n                .catch(err => console.log(err))\r\n        }\r\n\r\n        socios.splice(index, 1)\r\n        this.setState({ filteredSocios: socios })\r\n    }\r\n\r\n    enableEdit = index => {\r\n\r\n        let editSocio = this.state.filteredSocios\r\n        if (editSocio[index].edit === true) editSocio[index].edit = false\r\n        else {\r\n            editSocio.forEach(s => s.edit = false)\r\n            editSocio[index].edit = true\r\n        }\r\n        this.setState({ filteredSocios: editSocio })\r\n\r\n    }\r\n\r\n    handleEdit = e => {\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'share') value = value.replace(',', '.')\r\n        let editSocio = this.state.filteredSocios.filter(s => s.edit === true)[0]\r\n        const index = this.state.filteredSocios.indexOf(editSocio)\r\n\r\n        editSocio[name] = value\r\n\r\n        let fs = this.state.filteredSocios\r\n        fs[index] = editSocio\r\n\r\n        this.setState({ filteredSocios: fs })\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n        const\r\n            { selectedEmpresa, contratoSocial, filteredSocios } = this.state,\r\n            { socios } = this.props.redux\r\n\r\n        //check if totalShare is more than 100\r\n        let updatedShare = filteredSocios.map(s => Number(s.share))\r\n            .reduce((a, b) => a + b)\r\n\r\n        if (updatedShare > 100) {\r\n            this.setState({ openAlertDialog: true, alertType: 'overShared' })\r\n            return null\r\n        }\r\n\r\n        let\r\n            oldMembers = [], newMembers = [],\r\n            contratoFile = new FormData(),\r\n            keys = sociosForm.map(el => humps.decamelize(el.field))\r\n        keys.splice(1, 1)\r\n\r\n        filteredSocios.forEach(fs => {\r\n            let { razaoSocial, createdAt, edit, ...rest } = fs\r\n            fs = rest\r\n            fs.delegatarioId = selectedEmpresa.delegatarioId\r\n            if (!fs.hasOwnProperty('socioId')) {\r\n                const gotId = socios.find(s => s.cpfSocio === fs.cpfSocio)\r\n                if (gotId) {\r\n                    fs.socioId = gotId.socioId\r\n                    oldMembers.push(fs)\r\n                } else {\r\n                    newMembers.push(fs)\r\n                }\r\n            } else {\r\n                oldMembers.push(fs)\r\n                delete oldMembers.socioId\r\n            }\r\n        })\r\n\r\n        const table = 'socios', tablePK = 'socio_id'\r\n        let realChanges = [], altObj = {}\r\n\r\n        const originals = humps.camelizeKeys(this.state.originals)\r\n\r\n        oldMembers.forEach(m => {\r\n            originals.forEach(s => {\r\n                if (m.socioId === s.socioId) {\r\n                    Object.keys(m).forEach(key => {\r\n                        if (m[key] !== s[key] || key === 'socioId') {\r\n                            Object.assign(altObj, { [key]: m[key] })\r\n                        }\r\n                    })\r\n                    if (Object.keys(altObj).length > 1) realChanges.push(altObj)\r\n                    altObj = {}\r\n                }\r\n            })\r\n        })\r\n\r\n        oldMembers = humps.decamelizeKeys(realChanges)\r\n        newMembers = humps.decamelizeKeys(newMembers)\r\n        let socioIdsArray = filteredSocios\r\n            .filter(s => s.socioId !== undefined)\r\n            .map(s => s.socioId)\r\n\r\n        try {\r\n            if (oldMembers.length > 0) {\r\n                await axios.put('/api/editSocios', { requestArray: oldMembers, table, tablePK, keys })\r\n                    .then(r => console.log(r.data))\r\n            }\r\n\r\n            if (newMembers.length > 0) {\r\n                await axios.post('/api/cadSocios', { socios: newMembers, table, tablePK })\r\n                    .then(r => r.data.forEach(newSocio => socioIdsArray.push(newSocio.socio_id)))\r\n            }\r\n            \r\n            if (contratoSocial) {\r\n                contratoFile.append('empresaId', selectedEmpresa.delegatarioId)\r\n                contratoFile.append('socios', socioIdsArray)\r\n\r\n                for (let pair of contratoSocial.entries()) {\r\n                    contratoFile.append(pair[0], pair[1])\r\n                }\r\n                await axios.post('/api/empresaUpload', contratoFile)\r\n                    .then(r => console.log(r.data))\r\n            }\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n\r\n        oldMembers = []\r\n        realChanges = []\r\n        altObj = {}\r\n        newMembers = []\r\n        this.toast()\r\n\r\n        const updatedList = humps.decamelizeKeys(this.props.redux.socios)\r\n        this.setState({\r\n            razaoSocial: '', selectedEmpresa: undefined, filteredSocios: [],\r\n            dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n            contratoSocial: undefined,\r\n            originals: updatedList\r\n        })\r\n    }\r\n\r\n    handleFiles = (file) => {\r\n\r\n        let formData = new FormData()\r\n        formData.append('contratoSocial', file[0])\r\n        this.setState({ dropDisplay: file[0].name, contratoSocial: formData })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const { openAlertDialog, alertType } = this.state,\r\n            { empresas } = this.props.redux\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Alteração do quadro societário' />\r\n                <AltSociosTemplate\r\n                    data={this.state}\r\n                    empresas={empresas}\r\n                    handleInput={this.handleInput}\r\n                    handleBlur={this.handleBlur}\r\n                    addSocio={this.addSocio}\r\n                    removeSocio={this.removeSocio}\r\n                    enableEdit={this.enableEdit}\r\n                    handleEdit={this.handleEdit}\r\n                    handleFiles={this.handleFiles}\r\n                    handleSubmit={this.handleSubmit}\r\n                />\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['empresas', 'socios']\r\n\r\nexport default StoreHOC(collections, AltSocios)","export const barChart = {\r\n    options: {\r\n        title: {\r\n            text: 'Veículos por ano de fabricação',\r\n            align: 'center',\r\n            marginTop: 10,\r\n            offsetX: 0,\r\n            offsetY: 0,\r\n            floating: false,\r\n            style: {\r\n                fontSize: '14px',\r\n                fontWeight: 500,\r\n                fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n            },\r\n        },\r\n        legend: { show: false },\r\n        chart: {\r\n            id: \"veiculos_ano_fabricacao\",\r\n        },\r\n        xaxis: {            \r\n            labels: {\r\n                style: {\r\n                    fontSize: '9px',\r\n                    fontWeight: 400,\r\n                    fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n                },\r\n            }\r\n        },\r\n        dataLabels: {\r\n            enabled: false,\r\n        },\r\n      //  fill: { colors: ['rgb(47, 75, 124)'] },\r\n        plotOptions: { bar: { horizontal: false }, },\r\n    }\r\n}\r\n\r\nexport const donutChart = {\r\n    options: {\r\n        title: {\r\n            text: 'Percentual de veículos por ano de fabricação',\r\n            align: 'center',\r\n            marginTop: 10,\r\n            marginBottom: 20,\r\n            offsetX: 0,\r\n            offsetY: 0,\r\n            floating: false,\r\n            style: {\r\n                fontSize: '13px',\r\n                fontWeight: 500,\r\n                fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n            },\r\n        },\r\n        plotOptions: {\r\n            pie: {\r\n                donut: {\r\n                    labels: {\r\n                        show: true,\r\n                        name: {\r\n                            show: true,\r\n                            fontSize: '20px',\r\n                            fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n                            fontWeight: 600,\r\n                            color: '#373d3f',\r\n                            offsetY: -10\r\n                        },\r\n                        value: {\r\n                            show: true,\r\n                            fontSize: '15px',\r\n                            fontFamily: 'Helvetica, Arial, sans-serif',\r\n                            fontWeight: 400,\r\n                            color: '#373d3f',\r\n                            offsetY: 16,\r\n                            formatter: function (val) {\r\n                                return val\r\n                            }\r\n                        },\r\n                        total: {\r\n                            show: true,\r\n                            showAlways: true,\r\n                            label: 'Total:',\r\n                            fontSize: '20px',\r\n                            fontFamily: 'Helvetica, Arial, sans-serif',\r\n                            fontWeight: 600,\r\n                            color: '#373d3f',\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        responsive: [{\r\n            breakpoint: 480,\r\n            options: {\r\n                chart: {\r\n                    width: 200\r\n                },\r\n                legend: {\r\n                    position: 'bottom'\r\n                }\r\n            }\r\n        }]\r\n    },\r\n}","import React from 'react'\r\nimport Chart from \"react-apexcharts\";\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport { barChart, donutChart } from './chartsConfig'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport './relatorios.css'\r\n\r\nconst RelatoriosTemplate = (\r\n    { empresas, razaoSocial, selectedEmpresa, selectedVehicles, labels, values, tableLabels, tableData, mediaIdades, moda, \r\n        handleInput, segurosVencidos, segurosVigentes, oldVehicles, veiculosNovos }) => {\r\n\r\n    const colors = ['#ff7c43', '#ffa600', '#FF9800', '#f95d6a', '#f44336', '#2E93fA', '#3333ff', '#66DA26', '#669999', '#E91E63', '#d45087', '#a05195', '#665191', '#2f4b7c', '#003f5c',]\r\n\r\n    return (\r\n        <main className='relatorios'>\r\n            <SelectEmpresa\r\n                empresas={empresas}\r\n                data={{ razaoSocial }}\r\n                handleInput={handleInput}\r\n            />\r\n            {(!selectedVehicles || selectedVehicles.length === 0) ? <p>Nenhum veículo cadastrado para {selectedEmpresa.razaoSocial}</p>\r\n                :\r\n                <>\r\n                    <h3 style={{ width: '100%', textAlign: 'center' }}>\r\n                        {!selectedEmpresa ? 'Exibindo todos os veículos' : selectedEmpresa.razaoSocial} - Média de idade da frota: {mediaIdades} anos. Moda do ano de fabricação: {moda}.\r\n                    </h3>\r\n                    <Paper>\r\n                        <section className='rowContainer'>\r\n                            <Chart\r\n                                options={{ ...barChart.options, xaxis: { ...barChart.options.xaxis, categories: labels } }}\r\n                                series={[{ name: \"Veículos\", data: values }]}\r\n                                type=\"bar\"\r\n                                width=\"600\"\r\n                            />\r\n                            <Chart\r\n                                options={{ ...donutChart.options, labels, colors }}\r\n                                series={values}\r\n                                type=\"donut\"\r\n                                width=\"480\"\r\n                            />\r\n                        </section>\r\n                    </Paper>\r\n                    <Paper>\r\n                        <section>\r\n                            <table>\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th className='tHeader'\r\n                                            style={{ color: '#fff', backgroundColor: 'rgb(84, 110, 122, 0.7)' }}\r\n                                            colSpan={tableLabels.length}>Veículos por ano - {!selectedEmpresa ? 'Exibindo todos os veículos' : selectedEmpresa.razaoSocial}  </th>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        {tableLabels.map((l, i) => <th key={l}>{l}</th>)}\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {\r\n                                        tableData.map((tableValues, i) =>\r\n                                            <tr key={i}>\r\n                                                {tableValues.map((d, j) =>\r\n                                                    <td className='review relatorioTD' key={j}>\r\n                                                        {d}\r\n                                                    </td>\r\n                                                )}\r\n                                            </tr>\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n                            </table>\r\n                        </section>\r\n                    </Paper>\r\n                    {/* <div className=\"addSpace\"> </div> */}\r\n                    <section className='rowContainer'>\r\n                        <Chart\r\n                            options={{\r\n                                title: {\r\n                                    ...donutChart.options.title,\r\n                                    text: `Seguros vencidos: ${segurosVencidos} / vigentes: ${segurosVigentes}`,\r\n                                },\r\n                                labels: ['Seguros vencidos', 'Seguros vigentes'],\r\n                                colors: ['#FF9800', '#3333ff']\r\n                            }}\r\n                            series={[Number(segurosVencidos), Number(segurosVigentes)]}\r\n                            type=\"pie\"\r\n                            width=\"400\"\r\n                        />\r\n                        <Chart\r\n                            options={{\r\n                                title: {\r\n                                    ...donutChart.options.title,\r\n                                    text: `Idade superior a 15 anos: ${oldVehicles} / inferior 15 anos: ${veiculosNovos}`,\r\n                                },\r\n                                labels: ['Veículos com mais de 15 anos', 'Veículos com menos de 15 anos'],\r\n                                colors: ['#f44336', '#2E93fA']\r\n                            }}\r\n                            series={[Number(oldVehicles), Number(veiculosNovos)]}\r\n                            type=\"pie\"\r\n                            width=\"420\"\r\n                            height='220'\r\n                        />\r\n                    </section>\r\n\r\n                </>\r\n            }\r\n        </main >\r\n    )\r\n}\r\n\r\nexport default RelatoriosTemplate","import React, { useState, useEffect } from 'react'\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport RelatoriosTemplate from './RelatoriosTemplate'\r\nimport moment from 'moment'\r\n\r\nconst sum = array => {\r\n    let newArray = [...array]\r\n    newArray.shift()\r\n    if (newArray[0]) {\r\n        const total = newArray.reduce((a, b) => a + b)\r\n        return total\r\n    }\r\n}\r\n\r\nconst average = array => {\r\n    let newArray = array.map(n => Number(n))\r\n    newArray.shift()\r\n\r\n    if (newArray[0]) {\r\n        const\r\n            sum = newArray.reduce((a, b) => a + b),\r\n            average = sum / newArray.length\r\n\r\n        return average.toFixed(2)\r\n    }\r\n}\r\n\r\nconst countExpired = vehicles => {        \r\n    \r\n    return vehicles\r\n        .filter(r => !r.vencimento || (moment(r.vencimento).isValid() && moment(r.vencimento).isBefore(moment()) && r.veiculoId && r))\r\n        .length\r\n}\r\n\r\nconst Relatorios = props => {\r\n\r\n    const\r\n        { veiculos, empresas } = props.redux,\r\n        [razaoSocial, setRazaoSocial] = useState(''),\r\n        [selectedEmpresa, setEmpresa] = useState(undefined),\r\n        [allExpired, setExpired] = useState(''),\r\n        [allValid, setValid] = useState(''),\r\n        [oldVehicles, setOldVehicles] = useState('')\r\n\r\n    const handleInput = e => {\r\n        const { value } = e.target\r\n        setRazaoSocial(value)\r\n        let empresa\r\n\r\n        if (value.length > 2) {\r\n            empresa = empresas.find(e => e.razaoSocial === value)\r\n            if (empresa) setEmpresa(empresa)\r\n        }\r\n        else setEmpresa('')\r\n    }\r\n\r\n    let selectedId, selectedVehicles\r\n    if (selectedEmpresa && selectedEmpresa !== '') {\r\n        selectedId = selectedEmpresa.delegatarioId\r\n        selectedVehicles = veiculos\r\n            .filter(v => v.delegatarioId === selectedId)\r\n    } else selectedVehicles = veiculos\r\n\r\n\r\n    // **************************MÉDIA****************************\r\n\r\n    const\r\n        idades =\r\n            selectedVehicles\r\n                .map(({ anoCarroceria }) => anoCarroceria)\r\n                .filter(ano => ano !== null)\r\n                .sort()\r\n\r\n    let mediaIdades = idades.reduce((a, b) => a + b / idades.length, 0)\r\n    mediaIdades = (new Date().getFullYear() - mediaIdades).toFixed(2)\r\n\r\n    // **************************CONTAGEM****************************\r\n\r\n    let counter = {}\r\n    idades.forEach(function (e) {\r\n        if (counter[e] === undefined) {\r\n            counter[e] = 0\r\n        }\r\n        counter[e] += 1\r\n    })\r\n\r\n    // *******************CONSOLIDAÇÃO DE VALORES**********************\r\n    const\r\n        unsortedLabels = Object.keys(counter),\r\n        labels = [...unsortedLabels.sort((a, b) => a - b)],\r\n        values = Object.values(counter)\r\n\r\n    let obj = {}, arr = [], ultimateObj = {}\r\n    labels.forEach(ano => {\r\n        selectedVehicles.forEach(v => {\r\n            if (v.anoCarroceria && v.anoCarroceria.toString() === ano) {\r\n                arr.push({ veiculoId: v.veiculoId, poltronas: v.poltronas })\r\n                if (!obj[ano]) obj[ano] = arr\r\n                else obj[ano].push(...arr)\r\n                arr = []\r\n            }\r\n        })\r\n        ultimateObj[ano] = obj[ano]\r\n        obj = {}\r\n    })\r\n\r\n    let parcial = 0, poltronasPerYear = ['Capacidade Total'], poltronasAcc = [], poltronasMedia = ['Capacidade Média']\r\n\r\n    Object.keys(ultimateObj).forEach(year => {\r\n        ultimateObj[year].forEach(v => {\r\n            parcial += v.poltronas\r\n        })\r\n        //poltronasTotal += parcial\r\n        poltronasPerYear.push(parcial)\r\n        poltronasMedia.push((parcial / ultimateObj[year].length).toFixed(2))\r\n\r\n        const acc = poltronasPerYear.reduce((a, b) => a + b, 0)\r\n        poltronasAcc.push(acc)\r\n        parcial = 0\r\n    })\r\n\r\n    poltronasPerYear.push(sum(poltronasPerYear))\r\n\r\n    let\r\n        tableLabels = ['Ano'],\r\n        tableValues = ['Nº de Veículos']\r\n\r\n    tableLabels.push(...labels, 'Total')\r\n    tableValues.push(...values)\r\n    tableValues.push(sum(tableValues))\r\n    poltronasMedia.push(average(poltronasMedia))\r\n\r\n    const tableData = [tableValues, poltronasMedia, poltronasPerYear]\r\n\r\n    // **************************MODA****************************\r\n    let moda = unsortedLabels.sort((a, b) => counter[a] - counter[b])\r\n    moda = moda[moda.length - 1]\r\n\r\n    //**********************SEGUROS VENCIDOS E VEÍCULOS COM LAUDO***********************\r\n    const currentYear = new Date().getFullYear()\r\n\r\n    useEffect(() => {\r\n\r\n        const\r\n            currentYear = new Date().getFullYear(),\r\n            expired = countExpired(selectedVehicles),\r\n            needsLaudo = selectedVehicles\r\n                .filter(v => currentYear - v.anoCarroceria > 14 && v.anoCarroceria !== null)\r\n                .length\r\n\r\n        setExpired(expired)\r\n        setValid(selectedVehicles.length - expired)\r\n        setOldVehicles(needsLaudo)\r\n\r\n    }, [selectedVehicles])\r\n\r\n    let segurosVencidos = [], segurosVigentes, veiculosAntigos, veiculosNovos\r\n\r\n    if (razaoSocial.length > 2 && selectedEmpresa) {\r\n        segurosVencidos = countExpired(selectedVehicles)\r\n\r\n        veiculosAntigos = selectedVehicles\r\n            .filter(v => currentYear - v.anoCarroceria > 14 && v.anoCarroceria !== null)\r\n            .length\r\n\r\n        segurosVigentes = selectedVehicles.length - segurosVencidos\r\n        veiculosNovos = selectedVehicles.length - veiculosAntigos\r\n    }\r\n    else {\r\n        segurosVencidos = allExpired\r\n        segurosVigentes = allValid\r\n        veiculosAntigos = oldVehicles\r\n        veiculosNovos = selectedVehicles.length - oldVehicles\r\n    }\r\n\r\n    return (\r\n        <RelatoriosTemplate\r\n            empresas={empresas}\r\n            razaoSocial={razaoSocial}\r\n            labels={labels}\r\n            values={values}\r\n            tableLabels={tableLabels}\r\n            tableData={tableData}\r\n            selectedEmpresa={selectedEmpresa}\r\n            selectedVehicles={selectedVehicles}\r\n            mediaIdades={mediaIdades}\r\n            moda={moda}\r\n            handleInput={handleInput}\r\n            segurosVencidos={segurosVencidos}\r\n            segurosVigentes={segurosVigentes}\r\n            oldVehicles={veiculosAntigos}\r\n            veiculosNovos={veiculosNovos}\r\n        />\r\n    )\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas']\r\n\r\nexport default StoreHOC(collections, Relatorios)","export const laudoForm = [\r\n    {\r\n        field: 'id',\r\n        label: 'Número do laudo',              \r\n        maxLength: 30\r\n    },\r\n    {\r\n        field: 'validade',\r\n        label: 'Data de validade',\r\n        type: 'date'\r\n    },\r\n    {\r\n        field: 'empresaLaudo',\r\n        label: 'Empresa emissora',        \r\n        select: true\r\n    },    \r\n]","import React from 'react'\r\n\r\nconst Placa = props => {\r\n    const { veiculoId, city, placa, onClick, style } = props\r\n\r\n    return (\r\n        <div id={veiculoId} onClick={onClick} style={style} className='placaContainer'>\r\n            <div className=\"placaCity\">{city}</div>\r\n            <div className=\"placaCode\">{placa}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Placa","import React from 'react'\r\nimport moment from 'moment'\r\nimport downloadFile from '../Utils/downloadFile'\r\n\r\nexport default function StandardTable({ table, length, title, style }) {\r\n    const { tableHeaders, laudosArray, laudoDocs } = table\r\n\r\n    const dateFormat = value => {\r\n        if (moment(value, 'YYYY-MM-DDTHH:mm:ss.SSSZZ', true).isValid()) {\r\n            return moment(value, moment.ISO_8601, true).format('DD/MM/YYYY')\r\n        }\r\n        else {\r\n            return value\r\n        }\r\n    }\r\n\r\n    const getFile = id => {\r\n        const file = laudoDocs.find(f => f.id === id)\r\n        if (id && file) downloadFile(file.id, file.filename, 'vehicleDocs', file.metadata.fieldName);\r\n    }\r\n\r\n    return (\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th className='tHeader'\r\n                        style={style}\r\n                        colSpan={length}>{title}</th>\r\n                </tr>\r\n                <tr>\r\n                    {tableHeaders.map((l, i) => <th key={i} style={style}>{l}</th>)}\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {\r\n                    laudosArray.map((laudo, j) =>\r\n                        <tr key={j}>\r\n                            {\r\n                                laudo.map((obj, i) =>\r\n                                    <td key={i} style={style} className={obj.type === 'link' && obj.laudoDocId ? 'link2' : 'review'}\r\n                                        onClick={() => obj.field === 'laudoDoc' && obj.laudoDocId ? getFile(obj.laudoDocId) : null}>\r\n                                        {obj.type === 'date' ? dateFormat(obj.value) : obj.value}\r\n                                    </td>\r\n                                )}\r\n                        </tr>\r\n                    )}\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst StyledMenu = withStyles({\r\n    paper: {\r\n        border: '1px solid #d3d4d5',\r\n    },\r\n})((props) => (\r\n    <Menu\r\n        elevation={0}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n            vertical: 'center',\r\n            horizontal: 'right',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n        }}\r\n        {...props}\r\n    />\r\n));\r\n\r\nconst OnClickMenu = ({ anchorEl, handleClose, menuOptions }) => {\r\n\r\n\r\n    return (\r\n        <>\r\n            <StyledMenu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                {menuOptions.map(({ title, onClick }, i) => (\r\n                    <MenuItem key = {i} onClick={onClick}>{title}</MenuItem>\r\n                ))}               \r\n            </StyledMenu>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default OnClickMenu","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport { laudoForm } from '../Forms/laudoForm'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport Placa from '../Reusable Components/Placa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport CustomTable from '../Reusable Components/CustomTable'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport OnClickMenu from '../Reusable Components/OnClickMenu'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Search from '@material-ui/icons/Search'\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport Button from '@material-ui/core/Button'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\n\r\nconst LaudosTemplate = (\r\n    { empresas, razaoSocial, selectedEmpresa, filteredVehicles, selectedVehicle, stateInputs, selectOptions, table,\r\n        anchorEl, laudoDoc, dropDisplay, functions }) => {\r\n\r\n    const { handleInput, clickOnPlate, showDetails, handleFiles, handleSubmit, closeMenu, clear } = functions\r\n\r\n    const renderColor = laudos => {\r\n        if (laudos && laudos[0] && laudos[0].validade) {\r\n            const { validade } = laudos[0]\r\n\r\n            if (moment(validade, moment.ISO_8601).isValid() && moment(validade).isAfter(moment().toDate())) return { backgroundColor: 'rgb(13, 136, 13)' }\r\n            if (moment(validade, moment.ISO_8601).isValid() && moment(validade).isBefore(moment().toDate())) return { backgroundColor: 'rgb(197, 128, 0)' }\r\n        }\r\n        else return { backgroundColor: 'rgb(136, 13, 13)' }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Laudos' />\r\n            <SelectEmpresa\r\n                empresas={empresas}\r\n                data={{ razaoSocial }}\r\n                handleInput={handleInput}\r\n            />\r\n            {\r\n                selectedEmpresa && <>\r\n                    <header className='flex' style={{ marginBottom: '15px' }}>\r\n                        {\r\n                            !selectedVehicle ?\r\n                                <h5> Selecione o veículo para atualizar consultar ou inserir o laudo de segurança veicular. </h5>\r\n                                :\r\n                                <Placa\r\n                                    veiculoId={selectedVehicle.veiculoId}\r\n                                    onClick={clickOnPlate}\r\n                                    style={{ ...renderColor(selectedVehicle.laudos), marginLeft: 0 }}\r\n                                    city={selectedEmpresa.cidade}\r\n                                    placa={selectedVehicle.placa}\r\n                                />\r\n                        }\r\n                        <div>\r\n                            <TextField\r\n                                inputProps={{ name: 'placa' }}\r\n                                InputLabelProps={{ style: { fontSize: '0.8rem' } }}\r\n                                label='Filtrar'\r\n                                onChange={handleInput}\r\n                            />\r\n                            <Search style={{ marginTop: '18px' }} />\r\n                        </div>\r\n                    </header>\r\n\r\n                    {selectedVehicle &&\r\n                        <main className='paper'>\r\n                            <br />\r\n                            <h3 style={{ paddingLeft: '15px', marginTop: '-10px' }}>\r\n                                Para inserir novo laudo, informe o número, a data de vencimento, a empresa que emitiu e anexe o documento referente ao laudo.\r\n                            </h3>\r\n                            <br />\r\n                            <br />\r\n                            <TextInput\r\n                                form={laudoForm}\r\n                                data={stateInputs}\r\n                                handleInput={handleInput}\r\n                                selectOptions={selectOptions}\r\n                            />\r\n                            <DragAndDrop\r\n                                name='laudoDoc'\r\n                                formData={laudoDoc}\r\n                                dropDisplay={dropDisplay}\r\n                                handleFiles={handleFiles}\r\n                                single={true}\r\n                                style={{ width: '400px', margin: '15px auto 0 auto' }}\r\n                            />\r\n                            <Button\r\n                                size=\"small\"\r\n                                color='primary'\r\n                                className='saveButton'\r\n                                variant=\"contained\"\r\n                                onClick={() => handleSubmit()}\r\n                                disabled={!laudoDoc ? true : false}\r\n                            >\r\n                                Salvar\r\n                            </Button>\r\n                        </main>\r\n                    }\r\n                    \r\n                    <section>\r\n                        <h4>\r\n                            {!selectedVehicle ?\r\n                                <div className='flex'>\r\n                                    <div>\r\n                                        {`Exibindo ${filteredVehicles.length} veículos com mais de 15 anos.`}\r\n                                    </div>\r\n                                    <div className='flex placasCaption' style={{ fontSize: '0.8rem' }}>\r\n                                        <span>\r\n                                            <span style={{ paddingTop: '5px', color: 'rgb(13, 136, 13)' }}><StopIcon /></span> Laudo vigente\r\n                                        </span>\r\n                                        <span>\r\n                                            <span style={{ paddingTop: '5px', color: 'rgb(197, 128, 0)' }}><StopIcon /></span> Laudo vencido                                            </span>\r\n                                        <span>\r\n                                            <span style={{ paddingTop: '5px', color: 'rgb(136, 13, 13)' }}><StopIcon /></span> Nenhum Laudo cadastrado\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                :\r\n                                null\r\n                            }\r\n                        </h4>\r\n                    </section>\r\n\r\n                    {!selectedVehicle &&\r\n                        <section className='center flex paper'>\r\n                            {filteredVehicles.map((v, i) => (\r\n                                <Placa\r\n                                    key={i}\r\n                                    veiculoId={v.veiculoId}\r\n                                    onClick={clickOnPlate}\r\n                                    style={renderColor(v.laudos)}\r\n                                    city={selectedEmpresa.cidade}\r\n                                    placa={v.placa}\r\n                                />\r\n\r\n                            ))}\r\n                        </section>\r\n                    }\r\n\r\n                    <OnClickMenu\r\n                        anchorEl={anchorEl}\r\n                        handleClose={closeMenu}\r\n                        menuOptions={[{\r\n                            title: 'Detalhes',\r\n                            onClick: showDetails\r\n                        }\r\n                        ]}\r\n                    />\r\n                </>\r\n            }\r\n            {selectedVehicle && selectedVehicle.laudos &&\r\n                <>\r\n                    {typeof table === 'object' ?\r\n                        <div className=\"paper\" style={{marginTop: '52px', width:'100%', padding: '0', borderRadius: '5px', overflow: 'hidden'}}>\r\n                            <CustomTable\r\n                                length={table.tableHeaders.length}\r\n                                title={`Laudos vinculados ao veículo placa ${selectedVehicle.placa}`}\r\n                                table={table}\r\n                                style={{ textAlign: 'center', padding: '8px 0' }}\r\n                            />\r\n                        </div>\r\n                        :\r\n                        <>\r\n                            <br />\r\n                            <br />\r\n                            <p>{table}</p>\r\n                        </>\r\n                    }\r\n                    <div className='voltarDiv' onClick={clear}>\r\n                        <ArrowBackIcon size='small' />\r\n                        <span style={{ padding: '2px 0 0 2px', marginLeft: '2px', fontSize: '1rem' }}>Voltar</span>\r\n                    </div>\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(LaudosTemplate)","export const laudosTable = [\r\n    {\r\n        field: 'empresaLaudo',\r\n        title: 'Empresa Emissora',\r\n    },\r\n    {\r\n        field: 'id',\r\n        title: 'Número do Laudo',\r\n    },\r\n    {\r\n        field: 'createdAt',\r\n        title: 'Registro no sistema',\r\n        type: 'date'\r\n    },\r\n    {\r\n        field: 'validade',\r\n        title: 'Data de validade',\r\n        type: 'date'\r\n    },\r\n    \r\n    {\r\n        field: 'laudoDoc',\r\n        title: 'Laudo',\r\n        type: 'link'\r\n    },\r\n]\r\n\r\n\r\n","import React, { useState, useEffect, useCallback, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport AlertDialog from '../Utils/AlertDialog'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport LaudosTemplate from './LaudosTemplate'\r\nimport ShowDetails from '../Reusable Components/ShowDetails'\r\nimport { laudoForm } from '../Forms/laudoForm'\r\nimport { laudosTable } from '../Forms/laudosTable'\r\n\r\nconst Laudos = props => {\r\n\r\n    const\r\n        { veiculos, empresas, empresasLaudo, laudos, vehicleDocs } = props.redux\r\n\r\n    const initState = Object.freeze({\r\n        dropDisplay: 'Clique ou arraste o arquivo para anexar o laudo',\r\n        stateInputs: {\r\n            id: undefined,\r\n            validade: '',\r\n            empresaLaudo: ''\r\n        }\r\n    })\r\n\r\n    const\r\n        [razaoSocial, empresaInput] = useState(''),\r\n        [selectedEmpresa, setEmpresa] = useState(),\r\n        [oldVehicles, setOldVehicles] = useState(),\r\n        [filteredVehicles, setFilteredVehicles] = useState([]),\r\n        [details, setDetails] = useState(false),\r\n        [selectedVehicle, selectVehicle] = useState(),\r\n        [anchorEl, setAnchorEl] = useState(null),\r\n        [dropDisplay, setDropDisplay] = useState(initState.dropDisplay),\r\n        [laudoDoc, setLaudoDoc] = useState(),\r\n        [toast, setToast] = useState(false),\r\n        [alertDialog, setAlertDialog] = useState({\r\n            open: false,\r\n            type: 'inputError',\r\n            msg: '',\r\n        }),\r\n        [stateInputs, changeInputs] = useState({ ...initState.stateInputs }),\r\n        [table, setTableData] = useState()\r\n\r\n    useEffect(() => {\r\n        const escFunction = e => { if (e.keyCode === 27) setDetails(false); setAnchorEl(null) }\r\n        document.addEventListener('keydown', escFunction)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        async function insertLaudos() {\r\n            if (selectedEmpresa && selectedEmpresa !== '') {\r\n                const\r\n                    currentYear = new Date().getFullYear(),\r\n                    frota = veiculos.filter(v => v.empresa === selectedEmpresa.razaoSocial),\r\n                    oldVehicles = frota.filter(v => currentYear - v.anoCarroceria > 14 && v.anoCarroceria !== null).sort((a, b) => a.placa.localeCompare(b.placa))\r\n\r\n                let vehiclesLaudo = [], laudosTemp = []\r\n                oldVehicles.forEach(v => {\r\n                    laudos.forEach(l => {\r\n                        if (v.veiculoId === l.veiculoId) {\r\n                            laudosTemp.push(l)\r\n                        }\r\n                    })\r\n                    laudosTemp.sort((a, b) => {\r\n                        const dateA = new Date(a.validade)\r\n                        const dateB = new Date(b.validade)\r\n                        return dateB - dateA\r\n                    })\r\n                    vehiclesLaudo.push({ ...v, laudos: laudosTemp })\r\n                    laudosTemp = []\r\n                })\r\n                await setOldVehicles(vehiclesLaudo)\r\n                await setFilteredVehicles(vehiclesLaudo)\r\n\r\n                if (selectedVehicle && vehiclesLaudo?.length > 0) {\r\n                    const updatedVehicle = vehiclesLaudo.find(v => v.veiculoId === selectedVehicle.veiculoId)\r\n                    if (updatedVehicle?.laudos.length !== selectedVehicle?.laudos.length) {\r\n                        selectVehicle(updatedVehicle)\r\n                    } else return\r\n                }\r\n            } else {\r\n                setOldVehicles()\r\n                setFilteredVehicles([])\r\n                setEmpresa()\r\n            }\r\n        }\r\n\r\n        insertLaudos()\r\n    }, [selectedEmpresa, veiculos, laudos, selectedVehicle])\r\n\r\n\r\n    const handleInput = useCallback(e => {\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'razaoSocial') {\r\n            empresaInput(value)\r\n            const selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n            setEmpresa(selectedEmpresa)\r\n            return\r\n        }\r\n        if (name === 'placa' && oldVehicles[0]) {\r\n            if (typeof value === 'string') value = value.toLocaleUpperCase()\r\n            if (!value || value === '') setFilteredVehicles(oldVehicles)\r\n            else {\r\n                let vehicle\r\n                const filtered = oldVehicles.filter(v => v.placa.match(value))\r\n                if (filtered.length === 1) vehicle = filtered[0]\r\n\r\n                setFilteredVehicles(filtered)\r\n                selectVehicle(vehicle)\r\n                return\r\n            }\r\n        }\r\n        changeInputs({\r\n            ...stateInputs, [name]: value\r\n        })\r\n\r\n    }, [empresaInput, empresas, oldVehicles, stateInputs])\r\n\r\n    const clickOnPlate = async event => {\r\n\r\n        if (selectedVehicle) {\r\n            event.persist()\r\n            setAnchorEl(event.target);\r\n        } else {\r\n            const { id } = event.currentTarget\r\n            let v\r\n            if (id) v = oldVehicles.find(v => v.veiculoId.toString() === id)\r\n            selectVehicle(v)\r\n            setFilteredVehicles([v])\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (selectedVehicle) {\r\n            if (selectedVehicle.laudos && selectedVehicle.laudos[0]) {\r\n\r\n                const { laudos } = selectedVehicle,\r\n                    laudoDocs = vehicleDocs.filter(d => d.metadata.fieldName === 'laudoDoc')\r\n\r\n                let laudosArray = [], tableHeaders = [], tempArray = [], table2 = [...laudosTable]\r\n\r\n                laudos.forEach(l => {\r\n                    table2.forEach(t => {\r\n                        let laudoDocId\r\n                        const laudoDoc = laudoDocs.find(d => d.metadata.laudoId === l.id)\r\n\r\n                        if (laudoDoc) laudoDocId = laudoDoc.id\r\n                        if (!tableHeaders.includes(t.title)) tableHeaders.push(t.title)\r\n                        const { title, ...tableData } = t\r\n\r\n                        if (t.field === 'laudoDoc') tempArray.push({ ...tableData, value: l[t.field], laudoDocId })\r\n                        else tempArray.push({ ...tableData, value: l[t.field] })\r\n                    })\r\n\r\n                    if (tempArray[4].laudoDocId) tempArray[4].value = 'Clique para visualizar o laudo'\r\n                    else tempArray[4].value = 'Nenhum arquivo encontrado'\r\n                    laudosArray.push(tempArray)\r\n                    tempArray = []\r\n                })\r\n\r\n                table2 = [...laudosTable]\r\n                setTableData({ tableHeaders, laudosArray, laudoDocs })\r\n\r\n            } else setTableData(`Nenhum laudo cadastrado para o veículo placa ${selectedVehicle.placa}.`)\r\n        }\r\n\r\n    }, [selectedVehicle, laudos, vehicleDocs])\r\n\r\n    const clear = () => {\r\n        document.querySelector('[name = \"placa\"]').value = ''\r\n        setFilteredVehicles(oldVehicles)\r\n        selectVehicle()\r\n    }\r\n\r\n    const showDetails = () => {\r\n\r\n        if (selectedVehicle) {\r\n            setDetails(!details)\r\n            setAnchorEl(null)\r\n        } else {\r\n            setDetails(false)\r\n            selectVehicle(undefined)\r\n            setAnchorEl(null)\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async () => {\r\n        let\r\n            { empresaLaudo, ...requestElement } = stateInputs,\r\n            errors = checkInputErrors() || []\r\n\r\n        //***************************Check for errors*********************/\r\n\r\n        const laudoAlreadyExists = laudos.find(l => l.id === stateInputs.id)\r\n        if (laudoAlreadyExists) {\r\n            setAlertDialog({\r\n                ...alertDialog,\r\n                open: true,\r\n                msg: 'O laudo informado já existe no sistema. Laudo nº ' + laudoAlreadyExists.id.toString()\r\n            })\r\n            clearForm()\r\n            return\r\n        }\r\n        Object.keys(stateInputs).forEach(k => {\r\n            if (k !== 'validade' && (!stateInputs[k] || stateInputs[k] === '')) {\r\n                let errorLabel = laudoForm.find(obj => obj.field === k).label\r\n                errors.push(errorLabel)\r\n            }\r\n        })\r\n        if (errors[0]) {\r\n            setAlertDialog({\r\n                ...alertDialog,\r\n                open: true,\r\n                msg: 'Favor verificar o preenchimento dos seguintes campos: ' + errors.toString()\r\n            })\r\n            clearForm()\r\n            return\r\n        }\r\n\r\n        //***************************Prepare the request Object*********************/\r\n        const empresa = empresasLaudo.find(e => e.empresa === empresaLaudo)\r\n        if (empresa) requestElement.empresa_id = empresa.id\r\n        requestElement.veiculo_id = selectedVehicle.veiculoId\r\n\r\n        const requestBody = { table: 'laudos', requestElement }\r\n\r\n        //*****************************Submit****************************** */\r\n        await axios.post('/api/addElement', requestBody)\r\n            .then(() => toggleToast())\r\n            .catch(err => console.log(err))\r\n\r\n        if (laudoDoc) await axios.post('/api/vehicleUpload', laudoDoc)\r\n        clearForm('Clear all Of It!!!')\r\n    }\r\n\r\n    const handleFiles = (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n            let formData = new FormData()\r\n            formData.append('fieldName', 'laudoDoc')\r\n            formData.append('laudoId', stateInputs.id)\r\n            formData.append('veiculoId', selectedVehicle.veiculoId)\r\n            formData.append(name, files[0])\r\n            setLaudoDoc(formData)\r\n            setDropDisplay(files[0].name)\r\n        }\r\n    }\r\n\r\n    const\r\n        closeMenu = () => setAnchorEl(null),\r\n        toggleAlert = () => setAlertDialog({ ...alertDialog, open: !alertDialog.open }),\r\n        toggleToast = () => setToast(!toast),\r\n\r\n        clearForm = allFields => {\r\n            if (allFields) changeInputs({ ...initState.stateInputs })\r\n            setLaudoDoc()\r\n            setDropDisplay(initState.dropDisplay)\r\n        }\r\n\r\n    const selectOptions = props.redux.empresasLaudo.map(e => e.empresa)\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <LaudosTemplate\r\n                empresas={empresas} razaoSocial={razaoSocial} selectedEmpresa={selectedEmpresa} filteredVehicles={filteredVehicles} selectedVehicle={selectedVehicle}\r\n                anchorEl={anchorEl} stateInputs={stateInputs} selectOptions={selectOptions} dropDisplay={dropDisplay} laudoDoc={laudoDoc} table={table}\r\n                functions={{ handleInput, clickOnPlate, showDetails, handleFiles, handleSubmit, closeMenu, clear }}\r\n            />\r\n            {details && <ShowDetails\r\n                close={showDetails}\r\n                data={{ ...selectedVehicle, tableData: '' }}\r\n                tab={3}\r\n                title={'Veículo'}\r\n                header={'- informações'}\r\n            />}\r\n\r\n            {alertDialog.open && <AlertDialog open={alertDialog.open} close={toggleAlert} alertType={alertDialog.type} customMessage={alertDialog.msg} />}\r\n            <ReactToast open={toast} close={toggleToast} msg='Laudo inserido com sucesso.' />\r\n        </Fragment >\r\n    )\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'empresasLaudo', 'laudos', 'getFiles/vehicleDocs']\r\nexport default StoreHOC(collections, Laudos)\r\n\r\n/*\r\n[razaoSocial, empresaInput] = useState(empresas[0].razaoSocial),\r\n        [selectedEmpresa, setEmpresa] = useState(empresas[0]),\r\n        [oldVehicles, setOldVehicles] = useState(veiculos[1]),\r\n        [filteredVehicles, setFilteredVehicles] = useState([veiculos[1]]),\r\n        [details, setDetails] = useState(false),\r\n        [selectedVehicle, selectVehicle] = useState(veiculos[1]),\r\n\r\n\r\n\r\n[razaoSocial, empresaInput] = useState(''),\r\n[selectedEmpresa, setEmpresa] = useState(),\r\n[oldVehicles, setOldVehicles] = useState(),\r\n[filteredVehicles, setFilteredVehicles] = useState([]),\r\n[details, setDetails] = useState(false),\r\n[selectedVehicle, selectVehicle] = useState(), */","import React from 'react'\r\n\r\nexport default function underConstruction() {\r\n    return (\r\n        <div style={{ height: '60vh', width: '100%', margin: '15% 35%' }}>\r\n            <img src=\"/images/underConstruction.png\" alt=\"Página em construção\" />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport HomeTemplate from './HomeTemplate'\r\n\r\nimport VeiculosHome from './Veiculos/VeiculosHome'\r\nimport CadVeiculos from './Veiculos/CadVeiculo'\r\nimport AltVeiculos from './Veiculos/AltDados'\r\nimport AltSeguro from './Veiculos/AltSeguro'\r\nimport BaixaVeiculo from './Veiculos/BaixaVeiculo'\r\nimport Config from './Veiculos/Config'\r\n\r\nimport Consultas from './Consultas/ConsultasContainer'\r\nimport Empresas from './Empresas/EmpresasContainer'\r\nimport EmpresasHome from './Empresas/EmpresasHome'\r\nimport Procuradores from './Empresas/AltProcuradores'\r\nimport Socios from './Empresas/AltSocios'\r\nimport Relatorios from './Relatorios/Relatorios'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport Laudos from './Veiculos/Laudos'\r\nimport UnderConstruction from './Utils/UnderConstruction'\r\nimport PdfTest from './Veiculos/Certificate'\r\n\r\nexport default () =>\r\n\r\n    <Switch>\r\n        <Route exact path='/' component={HomeTemplate} />\r\n        <Route path='/veiculos' exact component={VeiculosHome} />\r\n        <Route path='/veiculos/cadastro' exact component={CadVeiculos} />\r\n        <Route path='/veiculos/altDados' exact component={AltVeiculos} />\r\n        <Route path='/veiculos/altSeguro' exact component={AltSeguro} />\r\n        <Route path='/veiculos/laudos' exact component={Laudos} />\r\n        <Route path='/veiculos/baixaVeiculo' exact component={BaixaVeiculo} />\r\n        <Route path='/veiculos/config' exact component={Config} />\r\n        <Route path='/consultas' component={Consultas} />\r\n        <Route path='/empresas' exact component={EmpresasHome} />\r\n        <Route path='/empresas/cadastro' component={Empresas} />\r\n        <Route path='/empresas/socios' component={Socios} />\r\n        <Route path='/empresas/procuradores' component={Procuradores} />\r\n        <Route path='/relatorios' component={Relatorios} />\r\n        <Route path='/crv' component={PdfTest} />\r\n        <Route path='/faleConosco' component={UnderConstruction} />\r\n        {/* <Route path='/faleConosco' component={UnderConstruction} /> */}\r\n    </Switch>\r\n\r\n","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport promise from 'redux-promise';\r\nimport multi from 'redux-multi';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './rootReducer'\r\n\r\n\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { Header, Footer } from './Layouts'\r\nimport { Container } from '@material-ui/core';\r\nimport Routes from './Routes'\r\n\r\nfunction App() {\r\n\r\n  const useStyles = makeStyles(theme => ({\r\n    root: { backgroundColor:'#fbfbfb' }\r\n  }))\r\n\r\n  const { root } = useStyles()\r\n  const store = applyMiddleware(promise, multi, thunk)(createStore)\r\n  return (\r\n    <Provider store={store(rootReducer)}>\r\n      <div className={root}>\r\n        <Container maxWidth=\"lg\" style={{ minHeight: '100vh' }}>\r\n          <BrowserRouter>\r\n            <Header />\r\n            <Routes />\r\n          </BrowserRouter>\r\n          <Footer />\r\n        </Container>\r\n      </div>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.jsx';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}