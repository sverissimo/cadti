{"version":3,"sources":["Store/dataReducer.js","Store/userReducer.js","rootReducer.js","Utils/idsToString.js","Store/dataActions.js","Layouts/Loading.jsx","Forms/configVehicleForm.js","Reusable Components/ReactToast.jsx","Utils/documentCookies.js","Store/userActions.js","Store/StoreHOC.jsx","getEnvironment.js","HomeTemplate.jsx","Veiculos/VeiculosHome.jsx","Utils/setDemand.js","Utils/handleFiles.js","Utils/checkInputErrors.js","Solicitacoes/logRoutesConfig.js","Utils/logGenerator.js","Utils/autoComplete.jsx","Reusable Components/SelectEmpresa.jsx","Reusable Components/TextInput.jsx","Reusable Components/FormSubtiltle.jsx","Forms/vistoriaForm.js","Forms/cadVehicleForm.js","Reusable Components/ClosePopUpButton.jsx","Veiculos/AddEquipa.jsx","Veiculos/CadVeiculoTemplate.jsx","Reusable Components/RemoveFileButton.jsx","Reusable Components/DragAndDrop.jsx","Forms/cadVehicleFiles.js","Forms/altDadosFiles.js","Veiculos/VehicleDocs.jsx","Utils/downloadFile.js","Reusable Components/ShowLocalFiles.jsx","Reusable Components/StandardTable.jsx","Veiculos/VehicleReview.jsx","Reusable Components/Crumbs.jsx","Reusable Components/StepperButtons.jsx","Reusable Components/Stepper.jsx","Utils/formatValues.js","Reusable Components/AlertDialog.jsx","Utils/validaDistanciaMinima.js","Forms/dischargedForm.js","Veiculos/checkWeight.js","Veiculos/CadVeiculo.jsx","Utils/checkDemand.js","Forms/altForm.js","Forms/altFormVistoria.js","Veiculos/AltDadosTemplate.jsx","Reusable Components/FormDialog.jsx","Veiculos/AltDados.jsx","Forms/seguroForm.js","Forms/empresaFiles.js","Veiculos/SegurosTemplate.jsx","Veiculos/ShowAllPlates.jsx","Veiculos/ConfigAddDialog.jsx","Utils/setEmpresaDemand.js","Veiculos/Seguros.jsx","Reusable Components/ConfirmDialog.jsx","Forms/laudoForm.js","Reusable Components/Placa.jsx","Reusable Components/CustomTable.jsx","Reusable Components/OnClickMenu.jsx","Veiculos/LaudosTemplate.jsx","Forms/commonFields.js","Utils/cnpjValidator.js","Utils/cpfValidator.js","Forms/joinForms.js","Forms/cadForm.js","Forms/empresasForm.js","Forms/sociosForm.js","Forms/procuradorConsultasForm.js","Utils/createFormPattern.js","Forms/procuradorEmpresaTable.js","Forms/altContratoTable.js","Reusable Components/TextArea.jsx","Forms/procuracaoForm.js","Reusable Components/ShowDetails.jsx","Forms/laudosTable.js","Veiculos/Laudos.jsx","Store/ReactContext.jsx","Veiculos/BaixaMotivo.jsx","Veiculos/BaixaOptions.jsx","Reusable Components/CustomButton.jsx","Veiculos/BaixaGerenciar.jsx","Forms/baixaForm.js","Veiculos/BaixaTemplate.jsx","Veiculos/BaixaVeiculo.jsx","Veiculos/ConfigTemplate.jsx","Veiculos/Config.jsx","Consultas/tables.js","Consultas/exportToXlsx.js","Consultas/ConsultasTemplate.jsx","Layouts/Header.jsx","Layouts/Footer.jsx","Layouts/TabMenu.jsx","Forms/certificate.js","Veiculos/CertificateHeader.jsx","Veiculos/CertificateTemplate.jsx","Veiculos/Certificate.jsx","Utils/formatFileSize.js","Reusable Components/ShowFiles.jsx","Utils/removePDFButton.js","Consultas/getEmpresas.js","Consultas/Consultas.jsx","Forms/cadEmpresaForm.js","Empresas/EmpresasTemplate.jsx","Forms/dadosSociosForm.js","Empresas/SociosTemplate.jsx","Empresas/EmpresaCadReview.jsx","Utils/valueParser.js","Empresas/EmpresasContainer.jsx","Empresas/EmpresasHome.jsx","Forms/procuradorForm.js","Empresas/Procurador.jsx","Empresas/ProcuradoresTemplate.jsx","Empresas/Procuradores.jsx","Empresas/Socios.jsx","Relatorios/chartsConfig.js","Relatorios/RelatoriosTemplate.jsx","Relatorios/Relatorios.jsx","Reusable Components/Table.jsx","Forms/solicitacaoTable.js","Solicitacoes/SolHistory.jsx","Solicitacoes/SolicitacoesTemplate.jsx","Forms/solicitacoesTable.js","Solicitacoes/configTablePermissions.js","Solicitacoes/SolicitacoesTable.jsx","Solicitacoes/Solicitacoes.jsx","Forms/altContratoForm.js","Empresas/EmpresaReview.jsx","Empresas/AltSociosTemplate.jsx","Forms/altContratoFiles.js","Empresas/AltContratoTemplate.jsx","Empresas/AltContrato.jsx","Parametros/SimpleParams.jsx","Parametros/ParametrosTemplate.jsx","Forms/parametrosForm.js","Parametros/Parametros.jsx","Auth/UserAuthTemplate.jsx","Auth/userAuthForms.js","Auth/confirmEmailMsg.js","Auth/UserAuth.jsx","Users/userTable.js","Users/UsersTemplate.jsx","Users/Users.jsx","Forms/editAccountForm.js","Users/EditAccountTemplate.jsx","Users/EditAccount.jsx","Routes.jsx","Authentication.jsx","App.jsx","serviceWorker.js","index.js"],"names":["dataReducer","state","action","type","payload","collection","data","update","forEach","el","match","push","unshift","id","map","v","toString","apolice","placaIndex","vehicleIndex","seguros","seguro","find","s","index","findIndex","placas","splice","veiculos","tablePK","updatedData","Number","element","setColor","loading","userReducer","user","appReducer","combineReducers","rootReducer","idsToString","equipamentos","acessibilidade","equipNames","accessNames","equipamentosId","acessibilidadeId","eqId","item","result","setNamesFromIds","ids","namesArray","elementId","getData","collectionsArray","dispatch","getState","a","promiseArray","globalState","length","collectionName","axios","get","Promise","all","then","res","r","humps","camelizeKeys","responseArray","i","key","replace","camelize","Object","assign","catch","err","console","log","response","sessionExpired","every","p","hasOwnProperty","allVehicleFields","socios","Array","isArray","socs","empresas","JSON","parse","e","socioId","message","insertData","dataFromServer","seguradoras","eqNames","acNames","acId","seguradora","sg","seguradoraId","plates","vehicles","updatedCollection","dataEmissao","vencimento","placa","veiculoId","collectionPayload","batch","updateData","updateDocs","metadata","primarykey","stateCollection","selectedDocs","filter","doc","some","meta","updateCollection","deleteOne","Loading","className","src","alt","height","width","configVehicleForm","field","label","name","table","useStyles1","makeStyles","theme","success","backgroundColor","green","error","palette","dark","info","primary","main","warning","amber","display","alignItems","MySnackbarContentWrapper","props","classes","variant","onClose","other","SnackbarContent","clsx","aria-describedby","Icon","CustomizedSnackbars","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","close","status","msg","setCookie","cname","cvalue","d","Date","setTime","getTime","toUTCString","document","cookie","deleteCookie","getCookie","ca","split","c","charAt","substring","indexOf","socket","logUser","logUserOut","fetch","method","credentials","socketIO","require","requestArray","WrappedComponent","collections","includes","req","With","confirmToast","quitFn","ctrlKey","keyCode","getUser","Axios","request","toast","setState","addEventListener","redux","this","colName","window","location","hostname","env","webSocketHost","on","emit","insertedObjects","updatedObjects","primaryKey","object","removeEventListener","off","disconnect","undefined","col","setTimeout","history","React","Component","connect","bindActionCreators","featuredPosts","title","date","description","link","imageUrl","namesToRender","nomeSistema","siglaSistema","StoreHOC","nomes","parametros","sistema","Fragment","style","minHeight","to","textDecoration","fontWeight","menuCards","role","url","setDemand","demand","alteracoes","vehicleDocs","vehicle","originalVehicle","stringify","selectedEmpresa","razaoSocial","empresa","delegatario","selectedVehicle","reverse","keys","allDemandFiles","fileIds","latestDocs","filesPerFieldName","files","array","fieldExists","file","fieldName","lastDoc","reduce","b","uploadDate","demandFiles","getUpdatedValues","originalObj","newObj","sort","sizeExceedsLimit","size","alert","handleFiles","filesFormTemplate","formData","FormData","obj","set","form","postFilesReturnIds","completed","filesEndPoint","filesToSend","tempFile","append","pair","post","filesArray","filesIds","f","updateFilesMetadata","filesCollection","put","removeFile","existingFiles","has","delete","returnObj","fileToRemove","from","k","checkInputErrors","sendState","dontSetDate","querySelectorAll","inputs","errors","errString","textContent","l","parentNode","moment","value","isValid","previousSibling","slice","openAlertDialog","alertType","customMsg","errorHandler","minLength","max","min","pattern","helper","docs","logRoutesConfig","subject","path","requestAction","responseAction","concludedAction","logGenerator","pathname","userName","store","codigoEmpresa","empresaId","logRoutes","historyLength","commonFields","createdAt","logConfig","declined","approved","filteredLog","AutoComplete","datalist","useState","enableSelect","setEnabled","compartilhados","handleInput","handleBlur","shared","headerTitle","compartilhado","activeStep","singleEmpresaUser","list","headerTitles","useEffect","selectInput","getElementsByName","focus","flexDirection","marginBottom","padding","margin","textAlign","onChange","onBlur","autoComplete","useStyles","textField","marginLeft","spacing","marginRight","marginTop","fontSize","fontColor","select","background","helperText","TextInput","selectOptions","disableAll","disableSome","TextField","FormHelperTextProps","disabled","InputLabelProps","shrink","color","fontFamily","inputProps","disable","maxLength","multiline","rows","fullWidth","SelectProps","opt","MenuItem","options","FormSubtiltle","subtitle","vistoriaForm","step","cadVehicleForm","getFullYear","zero","concat","ClosePopUpButton","position","top","right","cursor","onClick","AddEquipa","handleCheck","localeCompare","left","eq","FormControlLabel","control","Checkbox","checked","button","handleEquipa","closeEquipa","resetShared","removePartilha","setShared","modelosChassi","carrocerias","addEquipa","reactivated","eqCollection","conditionalSubtitle","paddingBottom","Button","RemoveFileButton","DragAndDrop","dropDisplay","single","fileName","setFileName","fileExists","setFileExistance","filename","entries","demandFile","onDrop","getRootProps","getInputProps","cadVehicleFiles","altDadosFiles","root","flexGrow","sendButton","float","text","VehicleDocs","filesForm","parentComponent","insuranceExists","Grid","container","xs","md","downloadFile","originalName","responseType","URL","createObjectURL","Blob","createElement","href","setAttribute","body","appendChild","click","divContainer","justifyContent","alignContent","flexWrap","divFiles","border","borderRadius","icon","verticalAlign","paddingLeft","fileIcon","ShowLocalFiles","fileArray","storage","createLink","StandardTable","labels","fields","values","alteredElements","colSpan","j","ISO_8601","format","paper","secondary","Revisao","ultimateData","vehicleDetails","newForm","filledForm","Paper","y","Crumbs","links","numero","Breadcrumbs","separator","aria-label","backButton","StepperButtons","setActiveStep","lastStep","handleSubmit","uniqueStep","declineButtonLabel","setShowPendencias","showPendencias","obs","addObs","nextShortcut","CustomStepper","steps","Stepper","labelProps","Step","StepLabel","formatDate","test","getDate","getMonth","getHours","getMinutes","formatMoney","toFixed","AlertDialog","confirm","customTitle","customMessage","tab","createAlert","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","validaDistanciaMinima","utilizacao","dist","distancias","validDistance","dischargedForm","getCMT","component","modeloChassi","cmt","stringBR","num","checkWeight","poltronas","pesoDianteiro","pesoTraseiro","pbt","parseFloat","isNaN","pbtString","cmtString","frota","delegatarioCompartilhado","toastMsg","prevActiveStep","target","toLocaleUpperCase","distanciaMinima","distanciaMaxima","checkValid","stateId","dbName","dbId","alertLabel","toLowerCase","nombre","distanciaPoltronas","idadeBaixa","idadeMaxCad","difIdade","idadeBaixaAut","anoCarroceria","anoChassi","situacao","carr","chas","currentYear","maxYear","errorMsg","validateDist","x","checkPlateConflict","checkExistance","placaMatch","vehicleFound","reactivatedVehicle","vEquip","currentEquipa","ve","arrayOfEquips","stateKey","handleCadastro","compartilhadoId","modeloChassiId","modeloCarroceriaId","existingVeiculoId","oldHistoryLength","review","modeloCarroceria","vReview","decamelizeKeys","requestObject","resetState","newState","equip","resetFiles","empresaDetails","toggleDialog","escFunction","demandState","allEqs","allAcs","CadVeiculoTemplate","PureComponent","checkDemand","logsCollection","exists","altForm","altPlacaOption","showAltPlaca","header","inputNames","inputLabels","fileInputName","inputName","stepTitles","altPlaca","newPlate","reset","toUpperCase","getId","capitalize","logs","dominio","resetEquips","freeze","ce","updatePlate","tempObj","camelizedRequest","closeAlert","AltDadosTemplate","seguroForm","empresaFiles","minWidth","SegurosTemplate","enableAddPlaca","addPlate","removeFromInsurance","enableChangeApolice","showAllPlates","addedPlaca","allVehicles","insurance","apoliceDoc","renderedPlacas","paddingTop","outsider","irregular","delCompartilhado","owner","onMouseOver","getOwner","Chip","onDelete","ShowAllPlates","items","selectAll","selectAllPlates","htmlFor","ConfigAddDialog","helperMessage","marca","marcas","selectMarca","newElement","addNewElement","setEmpresaDemand","associateKeys","lastUpdate","latestDoc","empresaDocs","newMembers","oldMembers","latestDocId","om","filteredSocios","deletedVehicles","filterInsurances","filteredInsurances","allPlates","ownedPlacas","inputValue","se","renderPlacas","veiculo","newInsurance","clearFields","selectedSeguradora","checkFields","valid","seg","allPlatesObj","insuredPlates","plate","updatedState","placaInput","allSelected","check","updateInsurance","updates","emissaoDidChange","isSame","vencimentoDidChange","seguradoraDidChange","data_emissao","seguradora_id","requestObj","columns","vehicleIds","cadSeguro","codigo_empresa","emis","venc","validEmissao","validVenc","invalido","isSameOrBefore","vencido","isBefore","pendente","isAfter","vigente","confirmAndResetState","approveInsurance","column","de","vExists","dontUpdateProps","confirmMessage","openAddDialog","cleanedUpState","filteredState","insuranceVehicles","ConfirmDialog","laudoForm","Placa","city","docsCollection","idIndex","filePK","deleteIconProperties","deleteFunction","tableHeaders","arrayOfRows","fileId","getFile","StyledMenu","withStyles","Menu","elevation","getContentAnchorEl","transformOrigin","OnClickMenu","anchorEl","handleClose","menuOptions","keepMounted","Boolean","memo","filteredVehicles","stateInputs","laudoDoc","functions","clickOnPlate","showDetails","closeMenu","clear","deleteLaudo","renderColor","laudos","validade","toDate","cidade","overflow","cnpj","cnpjString","tamanho","numeros","digitos","soma","pos","cnpjValidator","cpf","cpfString","strCPF","Soma","Resto","parseInt","cpfValidator","input","phone","email","eForm","sForm","segForm","vForm","cadForm","empresasForm","sociosForm","procuradorConsultasForm","dataToReturn","tableData","formPattern","setForm","vData","laudoId","vencimentoContrato","jForm","updatedObj","updatedForm","joinForm","jf","mergeForms","consolidateForm","procuradorEmpresaTable","altContratoTable","TextArea","cols","procuracaoForm","ShowDetails","procuracoes","procuradores","altContrato","setTable","table2","setTable2","tables","setTables","createFormPattern","rowObj","selectedFiles","selectedProcs","row","pr","procuradorId","tableRow","procuracaoId","proc","procTable","fieldObj","t","o","mainTitle","setAltContrato","additionalInfo","procs","nomeProcurador","altDocs","numeroAlteracao","tableArray","defaultValue","laudosTable","deleteFile","empresasLaudo","initState","empresaLaudo","empresaInput","setEmpresa","oldVehicles","setOldVehicles","setFilteredVehicles","details","setDetails","selectVehicle","setAnchorEl","setDropDisplay","setLaudoDoc","changeInputs","setToast","setToastMsg","setTableData","setDemandFiles","setFileToRemove","alertDialog","setAlertDialog","confirmDialogProps","setConfirmDialog","fullDemand","dFiles","vehiclesLaudo","laudosTemp","dateA","updatedVehicle","insertLaudos","useCallback","filtered","event","currentTarget","persist","vehicleLaudos","laudoDocs","laudosArray","tempArray","pop","requestElement","laudoAlreadyExists","clearForm","errorLabel","toggleToast","empresa_id","veiculo_id","requestBody","closeConfirmDialog","allFields","querySelector","ReactContext","createContext","BaixaOptions","motivosBaixa","selectMotivo","selectedMotivo","placeholder","selectOption","delegaTransf","justificativa","pendencias","FormControl","RadioGroup","Radio","CustomButton","BaixaGerenciar","searchDischarged","downloadXls","reactivateVehicle","placaBaixada","dischargedFound","notFound","reactivate","selectedOption","df","onSubmit","InputProps","baixaForm","motivo","BaixaVeiculo","openDialog","delegaTransfId","disableSubmit","dataRegistro","discharged","toLocaleDateString","preventDefault","query","found","year","reqBody","patch","onDownloadProgress","progressEvent","Math","round","loaded","content","headers","BaixaTemplate","contextType","ConfigTemplate","staticData","selectCollection","handleChange","enableEdit","confirmDelete","edit","autoCorrect","spellCheck","addCounter","count","ac","marcaChassi","marcaCarroceria","editIndex","inputTarget","divCell","divWrap","childNodes","selectedObj","originalObject","noChanges","leftOpen","oldIndex","call","marcaCollection","m","marcaId","changedElement","newData","elementName","removeItem","originalData","decamelize","editedElements","prevProps","vehicleTable","render","rowData","timeUnit","segurosTable","filtering","exportToXlsx","rawData","formatedData","formField","formatValue","formatData","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","FileSaver","showFiles","showCertificate","del","exportFileName","exportButton","exportCsv","actionsColumnIndex","searchFieldStyle","headerStyle","emptyRowsWhenPaging","pageSize","rowStyle","localization","actions","emptyDataSourceMessage","editRow","deleteText","deleteTooltip","filterRow","filterTooltip","toolbar","searchTooltip","searchPlaceholder","exportCSVName","exportAriaLabel","exportTitle","pagination","labelRowsSelect","labelDisplayedRows","firstTooltip","previousTooltip","nextTooltip","lastTooltip","iconProps","tooltip","hidden","editable","isDeleteHidden","onRowDelete","oldData","toolbarTitle","flex","toolbarSecondary","overflowX","toolbarLink","flexShrink","sections","adminSections","StyledBadge","badge","Badge","withRouter","localStorage","getItem","setSelected","logCounter","setLogCounter","selected","bgColor","borderB","borderT","fontW","nomeSecretaria","siglaSecretaria","secretaria","logout","socketId","CssBaseline","Toolbar","Typography","align","noWrap","Link","RouterLink","borderBottom","borderTop","badgeContent","Footer","changeTab","Tabs","indicatorColor","textColor","centered","Tab","dadosVeiculo","caracteristicas","vistoria","pesagem","informacoesGerais","CertificateHeader","subsecretaria","superintendencia","paddingRight","CertificateTemplate","checkMulti","redirect","delega","carac","peso","ultimateForm","line","print","PdfCertificate","setVehicle","names","setNames","setData","formArray","pesoPassageiros","origin","formatFileSize","bytes","divRow","grid","justifyItems","ShowFiles","typeId","fileLabels","download","emp","getLabel","mo","MutationObserver","mutations","observer","mutation","addedNodes","addedNode","nodeType","Node","ELEMENT_NODE","classList","contains","getElementsByClassName","menuItem","remove","removePDF","observe","childList","getEmpresas","nomeEmpresas","codigos","ConsultasContainer","tablePKs","dbTables","detailsTitle","detailsHeader","elementDetails","primaryKeys","pk","updatedElement","closeFiles","socio","sociosArray","filesToReturn","procId","selectedElement","deleteHandler","itemId","cpfSocio","cpfProcurador","seguroVencido","hasLaudo","setItem","closeCertificate","certified","TabMenu","ConsultasTemplate","cadEmpresaForm","iconButton","addSocio","handleEdit","removeSocio","standAlone","sociosEditForm","EmpresaCadReview","tableLayout","valueParser","tecla","tam","vr","substr","formatCnpj","formatCpf","formatPhone","number","formatShare","fileNames","addedSocios","totalShare","parsedValue","sObject","invalid","share","editSocio","fs","socioIds","submitFile","resetEmpresa","resetSocios","EmpresasTemplate","SociosTemplate","procuradorForm","StyledTableCell","head","TableCell","StyledCell","StyledTableRow","default","TableRow","Procurador","procuracao","procArray","pro","Table","TableHead","TableBody","justify","lineHeight","addButton","addProc","removeProc","plusOne","minusOne","checkExpires","procsToAdd","expires","bottom","zIndex","z","filteredProc","procuracoesArray","cpfExists","nProc","addedProcs","n","addedProc","existingProc","approveProc","procIdArray","procurador_id","cadRequest","updateUser","novaProcuracao","procuracao_id","procuradoresRedux","selectedFile","outrasProcuracoes","dontRemove","Set","op","add","filteredProcs","cpfsToRemove","resetedFields","originalProcuradores","updatedProcs","updatedDocs","ProcuradoresTemplate","dialogTitle","originalSocios","barChart","offsetX","offsetY","floating","legend","show","chart","xaxis","dataLabels","enabled","plotOptions","bar","donutChart","pie","donut","formatter","val","total","showAlways","responsive","breakpoint","RelatoriosTemplate","selectedVehicles","tableLabels","mediaIdades","moda","segurosVencidos","segurosVigentes","veiculosNovos","categories","series","colors","tableValues","sum","newArray","shift","countExpired","selectedId","setRazaoSocial","allExpired","setExpired","allValid","setValid","idades","ano","counter","unsortedLabels","arr","ultimateObj","parcial","poltronasPerYear","poltronasAcc","poltronasMedia","acc","average","expired","needsLaudo","veiculosAntigos","staticFields","tableStyle","showInfo","setShowFiles","tableSpan","rowArray","laudoDocId","createButton","solicitacaoTable","SolHistory","solicitacao","historyLog","setHistoryLog","docSelection","sytle","SolicitacoesTemplate","showCompleted","paddingBotom","solicitacoesTable","configTablePermissions","assessDemand","parsedData","setLogs","showHistory","setShowHistory","selectedLog","selectLog","alertProperties","setFilesId","originalLogs","__v","getLogs","SolicitacoesTable","altContratoForm","forms","objField","tablesSubtitles","nomeSocio","subtitles","altContratoFiles","AltContratoTemplate","AltSociosTemplate","socioUpdates","altContratoFields","newSocios","us","newCpfs","checkSocios","existingSocios","socio_id","createRequestObj","altEmpresa","empresaUpdates","updateEmpresa","checkSocioUpdates","createLog","oldSocios","cpfsToAdd","requestInfo","cpf_socio","originalStatus","prop","fileObj","globalHandleFiles","altContMeta","crcMeta","globalRemoveFile","resetForms","clearedState","aditionalSocios","Map","socioToRemove","SimpleParams","removeOne","ParametrosTemplate","modified","commonProps","parametrosIdade","params","toastStatus","tempState","checkForChanges","stateChanged","fieldChanged","changedArray","modifiedArray","parametro","UserAuthTemplate","buttonLabel","getElementById","optionLabel","optionValue","loginForm","userAuthForms","endPoint","confirmEmailMsg","userId","host","baseURI","signIn","login","userFound","signUp","mail","vocativo","retrievePassword","recoveryMail","userTable","lookup","admin","tecnico","addUser","editUser","deleteUser","roles","addTooltip","editTooltip","onRowAdd","resolve","reject","onRowUpdate","users","UsersTemplate","editAccountForm","EditAccountTemplate","passChanged","password","confirmPassword","_id","Routes","exact","HomeTemplate","VeiculosHome","CadVeiculos","AltDados","Seguros","Laudos","Config","Consultas","EmpresasHome","AltContrato","Empresas","Socios","Procuradores","Relatorios","PdfTest","Solicitacoes","UserAuth","EditAccount","loggedIn","Container","maxWidth","applyMiddleware","promise","multi","thunk","createStore","__REDUX_DEVTOOLS_EXTENSION__","App","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a00a3527.chunk.js","sourcesContent":["const dataReducer = (state = {}, action) => {\r\n    const { type, payload } = action\r\n\r\n    switch (type) {\r\n\r\n        case 'GET_DATA':\r\n            return { ...state, ...payload }\r\n\r\n        case 'INSERT_DATA': {\r\n            const { collection, data } = payload\r\n\r\n            if (state[collection] && data) {\r\n                let update = [...state[collection]]\r\n\r\n                data.forEach(el => {\r\n                    if (collection.match('logs'))\r\n                        update.push(el)\r\n                    else\r\n                        update.unshift(el)\r\n                })\r\n\r\n                return {\r\n                    ...state, [collection]: update\r\n                }\r\n            }\r\n            return state\r\n        }\r\n\r\n        case 'UPDATE_DATA': {\r\n            const { collection, data, id } = payload\r\n\r\n            if (state[collection] && data) {\r\n                const update = state[collection].map(v => {\r\n                    data.forEach(el => {\r\n                        if (v[id] === el[id] || v[id].toString() === el[id].toString()) {\r\n                            v = el\r\n                        }\r\n                    })\r\n                    return v\r\n                })\r\n\r\n                return {\r\n                    ...state, [collection]: update\r\n                }\r\n            }\r\n            return state\r\n        }\r\n\r\n        case 'UPDATE_COLLECTION': {\r\n            const { data, collection } = payload\r\n            // console.log(payload)\r\n            return {\r\n                ...state, [collection]: data\r\n            }\r\n        }\r\n\r\n        case 'REMOVE_FROM_INSURANCE':\r\n            const { apolice, placaIndex, vehicleIndex } = payload\r\n\r\n            if (state.seguros) {\r\n\r\n                let seguros = [...state.seguros],\r\n                    seguro = seguros.find(s => s.apolice === apolice),\r\n                    index = seguros.findIndex(s => s.apolice === apolice)\r\n\r\n                seguro.placas.splice(placaIndex, 1)\r\n                seguro.veiculos.splice(vehicleIndex, 1)\r\n                seguros[index] = seguro\r\n                // console.log(seguros)\r\n                return {\r\n                    ...state, seguros\r\n                }\r\n            }\r\n            return state\r\n\r\n        case 'DELETE_ONE':\r\n            const { tablePK, collection } = payload\r\n\r\n            if (state[collection]) {\r\n                let\r\n                    { id } = payload,\r\n                    updatedData = [...state[collection]]\r\n\r\n                if (!id)\r\n                    return\r\n\r\n                if (!collection.match('Docs') && collection !== 'users') id = Number(id)\r\n                if (collection === 'laudos')\r\n                    id = id.toString()\r\n\r\n                const\r\n                    element = updatedData.find(el => el[tablePK] === id),\r\n                    index = updatedData.findIndex(el => el[tablePK] === element[tablePK])\r\n\r\n                if (index === -1)\r\n                    return\r\n\r\n                updatedData.splice(index, 1)\r\n\r\n                return {\r\n                    ...state, [collection]: updatedData\r\n                }\r\n            }\r\n            return state\r\n\r\n        case 'SET_COLOR':\r\n            return { ...state, setColor: action.payload }\r\n\r\n        case 'LOADING':\r\n            return { ...state, loading: action.payload }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default dataReducer;","const userReducer = (state = {}, action) => {\r\n    const { type, payload } = action\r\n    switch (type) {\r\n        case ('LOG_USER'):\r\n            return {\r\n                ...state, ...payload\r\n            }\r\n        case ('LOG_USER_OUT'):\r\n            return {\r\n                ...state, user: payload\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default userReducer","import dataReducer from './Store/dataReducer'\r\nimport { combineReducers } from 'redux';\r\nimport userReducer from './Store/userReducer';\r\n\r\nconst appReducer = combineReducers({\r\n    data: dataReducer,\r\n    user: userReducer\r\n})\r\n\r\nconst rootReducer = (state, action) => {\r\n    if (action.type === 'LOG_USER_OUT')\r\n        state = { data: {}, user: {} }\r\n\r\n    return appReducer(state, action)\r\n}\r\n\r\nexport default rootReducer","export const idsToString = (veiculos, equipamentos, acessibilidade) => {\r\n\r\n    let equipNames = [], accessNames = []\r\n\r\n    const equips = veiculos.map(v => {\r\n        if (!v?.equipamentosId) v.equipamentosId = []\r\n        if (!v?.acessibilidadeId) v.acessibilidadeId = []\r\n\r\n        v.equipamentosId.forEach(eqId => {\r\n            equipamentos.forEach(({ id, item }) => {\r\n                if (id === eqId) equipNames.push(item)\r\n            })\r\n        })\r\n\r\n        v.acessibilidadeId.forEach(eqId => {\r\n            acessibilidade.forEach(({ id, item }) => {\r\n                if (id === eqId) accessNames.push(item)\r\n            })\r\n        })\r\n        const result = { ...v, equipamentos: equipNames, acessibilidade: accessNames }\r\n        equipNames = []\r\n        accessNames = []\r\n        return result\r\n    })\r\n    return equips\r\n}\r\n\r\nexport const setNamesFromIds = (collection, ids) => {\r\n\r\n    let namesArray = []\r\n    ids.forEach(elementId => {\r\n        collection.forEach(({ id, item }) => {\r\n            if (elementId === id) namesArray.push(item)\r\n        })\r\n    })\r\n    return namesArray\r\n}","import axios from 'axios'\r\nimport humps from 'humps'\r\nimport { batch } from 'react-redux'\r\nimport { idsToString } from '../Utils/idsToString'\r\n\r\nexport const getData = (collectionsArray = []) => {\r\n    return async (dispatch, getState) => {\r\n\r\n        let\r\n            promiseArray = [],\r\n            globalState = {}\r\n\r\n        if (collectionsArray.length > 0) {\r\n            collectionsArray.forEach(collectionName => {\r\n                promiseArray.push(axios.get(`/api/${collectionName}`))\r\n            })\r\n\r\n            await Promise.all(promiseArray)\r\n                .then(res => res.map(r => humps.camelizeKeys(r.data)))\r\n                .then(responseArray => {\r\n                    responseArray.forEach((el, i) => {\r\n                        let key = collectionsArray[i]\r\n                            .replace('getFiles/', '')\r\n                            .replace('lookUpTable/', '')\r\n                            .replace('logs/', '')\r\n                        key = humps.camelize(key)\r\n                        Object.assign(globalState, { [key]: el })\r\n                    })\r\n                })\r\n                .catch(err => {\r\n                    //if (err.response.status === 401 || err.response.status === 403) {\r\n                    //console.log(err?.response, err?.response?.data)\r\n                    console.log(err?.response?.data)\r\n                    globalState = { ...globalState, sessionExpired: true }\r\n                })\r\n        }\r\n        //Pega os nomes dos equipamentos e itens de acessibilidade a partir do ID\r\n        if (['acessibilidade', 'equipamentos'].every(p => globalState.hasOwnProperty(p))) {\r\n            const { acessibilidade, equipamentos } = globalState\r\n            let veiculos = globalState.veiculos || globalState.allVehicleFields || getState().data?.veiculos\r\n            const updatedData = idsToString(veiculos, equipamentos, acessibilidade)\r\n            globalState.veiculos = updatedData\r\n        }\r\n\r\n        //JSON Parsing do array de empresas dos sócios, que são strings no postgresql\r\n        if (globalState.socios && Array.isArray(globalState.socios)) {\r\n            const socs = [...globalState.socios]\r\n            socs.forEach(s => {\r\n                if (s.empresas && typeof s.empresas === 'string')\r\n                    if (s.empresas.match('object'))\r\n                        console.log(s)\r\n                    else\r\n                        try {\r\n                            s.empresas = JSON.parse(s.empresas)\r\n                        }\r\n                        catch (e) {\r\n                            console.log('invalid socio id' + s.socioId + e.message)\r\n                        }\r\n            })\r\n            globalState.socios = socs\r\n        }\r\n\r\n        dispatch({\r\n            type: 'GET_DATA',\r\n            payload: globalState\r\n        })\r\n    }\r\n}\r\n\r\nexport const insertData = (dataFromServer, collection) => (dispatch, getState) => {\r\n\r\n    let data = humps.camelizeKeys(dataFromServer)\r\n    console.log(\"🚀 ~ file: dataActions.js ~ line 73 ~ insertData ~ data\", data)\r\n\r\n    const\r\n        payload = { collection, data },\r\n        seguradoras = getState().data.seguradoras\r\n\r\n    if (collection === 'socios') {\r\n        data.forEach(s => {\r\n            if (s.empresas && typeof s.empresas === 'string')\r\n                if (s.empresas.match('object'))\r\n                    console.log(s)\r\n                else\r\n                    try {\r\n                        s.empresas = JSON.parse(s.empresas)\r\n                    }\r\n                    catch (e) {\r\n                        console.log('invalid socio id' + s.socioId + e.message)\r\n                    }\r\n        })\r\n    }\r\n\r\n    if (!seguradoras) {\r\n        dispatch({ type: 'INSERT_DATA', payload })\r\n        return\r\n    }\r\n\r\n    if (collection === 'veiculos' && data[0]) {\r\n\r\n        const { acessibilidade, equipamentos } = getState().data\r\n        let\r\n            eqNames = [],\r\n            acNames = []\r\n\r\n        if (data[0]?.equipamentosId) {\r\n            data[0].equipamentosId.forEach(eqId => {\r\n                equipamentos.forEach(({ id, item }) => {\r\n                    if (eqId.toString() === id.toString()) eqNames.push(item)\r\n                })\r\n            })\r\n        }\r\n        if (data[0]?.acessibilidadeId) {\r\n            data[0].acessibilidadeId.forEach(acId => {\r\n                acessibilidade.forEach(({ id, item }) => {\r\n                    if (acId.toString() === id.toString()) {\r\n                        acNames.push(item)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n        data[0].equipamentos = eqNames\r\n        data[0].acessibilidade = acNames\r\n    }\r\n\r\n    if (collection === 'seguros' && data[0] && data[0].placas && data[0].placas.length === 1) {\r\n\r\n        const seguradora = seguradoras.find(sg => sg.id === data[0].seguradoraId)\r\n        let\r\n            seguro = data[0],\r\n            plates = [], vehicles = [],\r\n            veiculos = getState().data.veiculos,\r\n\r\n            updatedCollection = veiculos.map(v => {\r\n                if (v.apolice === seguro.apolice) {\r\n                    v.seguradora = seguradora.seguradora\r\n                    v.dataEmissao = seguro.dataEmissao\r\n                    v.vencimento = seguro.vencimento\r\n                }\r\n                return v\r\n            })\r\n\r\n        veiculos.forEach(v => {\r\n            if (v.apolice === seguro.apolice) {\r\n                plates.push(v.placa)\r\n                vehicles.push(v.veiculoId)\r\n            }\r\n        })\r\n        seguro.placas = plates\r\n        seguro.veiculos = vehicles\r\n        seguro = [seguro]\r\n\r\n        const collectionPayload = { data: updatedCollection, collection: 'veiculos' }\r\n        batch(() => {\r\n            dispatch({ type: 'INSERT_DATA', payload: { data: seguro, collection: 'seguros' } })\r\n            dispatch({ type: 'UPDATE_COLLECTION', payload: collectionPayload })\r\n        })\r\n    }\r\n\r\n    else dispatch({ type: 'INSERT_DATA', payload })\r\n\r\n}\r\n\r\nexport const updateData = (dataFromServer, collection, id) => (dispatch, getState) => {\r\n\r\n    //Se a collection for vehicleDocs, o que vem do servidor são os ids\r\n    let i = 0\r\n    if (i > 0) return\r\n    let data = humps.camelizeKeys(dataFromServer)\r\n    id = humps.camelize(id)\r\n\r\n    const { equipamentos, acessibilidade } = getState().data\r\n    if (collection === 'veiculos' && equipamentos && acessibilidade)\r\n        data = idsToString(data, equipamentos, acessibilidade)\r\n\r\n    const payload = { collection, data, id }\r\n\r\n    dispatch({ type: 'UPDATE_DATA', payload })\r\n    return\r\n}\r\n\r\nexport const updateDocs = (ids, metadata, collection, primarykey) => (dispatch, getState) => {\r\n\r\n    const stateCollection = getState().data[collection]\r\n\r\n    if (ids && ids[0] && metadata) {\r\n        let selectedDocs = stateCollection.filter(doc => ids.some(id => id === doc[primarykey]))\r\n\r\n        selectedDocs.forEach(doc => {\r\n            const meta = Object.assign({}, doc.metadata, metadata)\r\n            doc.metadata = meta\r\n        })\r\n\r\n        const payload = { collection, data: selectedDocs, id: primarykey }\r\n        dispatch({ type: 'UPDATE_DATA', payload })\r\n    }\r\n\r\n}\r\n\r\nexport const updateCollection = (data, collection) => dispatch => {\r\n\r\n    data = humps.camelizeKeys(data)\r\n    const payload = { data, collection }\r\n\r\n    //Parse do coluna empresas na tabela sócios de string p JSON\r\n    if (collection === 'socios') {\r\n        data.forEach(s => {\r\n            if (s.empresas && typeof s.empresas === 'string')\r\n                if (s.empresas.match('object'))\r\n                    console.log(s)\r\n                else\r\n                    try {\r\n                        s.empresas = JSON.parse(s.empresas)\r\n                    }\r\n                    catch (e) {\r\n                        console.log('invalid socio id' + s.socioId + e.message)\r\n                    }\r\n        })\r\n    }\r\n\r\n    dispatch({\r\n        type: 'UPDATE_COLLECTION',\r\n        payload\r\n    })\r\n}\r\n\r\nexport const updateInsurance = ({ value, ids }) => (dispatch, getState) => {\r\n    const\r\n        apolice = value,\r\n        seguros = getState().data.seguros,\r\n        veiculos = getState().data.veiculos\r\n\r\n    if (!seguros || !veiculos) return\r\n\r\n    let seguro = seguros.find(s => s.apolice === apolice),\r\n        placas = seguro.placas || [], vehicleIDs = seguro.veiculos || []\r\n\r\n    veiculos.forEach(v => {\r\n        ids.forEach(id => {\r\n            if (v.veiculoId === id) {\r\n                placas.push(v.placa)\r\n                vehicleIDs.push(v.veiculoId)\r\n            }\r\n        })\r\n    })\r\n\r\n    seguro.placas = placas\r\n    seguro.veiculos = vehicleIDs\r\n    seguro = [seguro]\r\n\r\n    const payload = { collection: 'seguros', data: seguro, id: 'apolice' }\r\n\r\n    dispatch({ type: 'UPDATE_DATA', payload })\r\n}\r\n\r\nexport const removeInsurance = (apolice, placaIndex, vehicleIndex) => dispatch => {\r\n\r\n    dispatch({\r\n        type: 'REMOVE_FROM_INSURANCE',\r\n        payload: { apolice, placaIndex, vehicleIndex }\r\n    })\r\n}\r\n\r\nexport const deleteOne = (id, tablePK, collection) => dispatch => {\r\n    tablePK = humps.camelize(tablePK)\r\n    const payload = { id, tablePK, collection }\r\n\r\n    dispatch({\r\n        type: 'DELETE_ONE',\r\n        payload\r\n    })\r\n}","import React from 'react'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className='loading'>\r\n            <img src=\"/images/loading.gif\" alt=\"\" height=\"60px\" width=\"60px\" />\r\n            <p> Carregando... </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading","export const configVehicleForm = [\r\n\r\n    {\r\n        collection: 'equipamentos',\r\n        field: 'item',\r\n        label: 'Equipamentos',\r\n        name: 'equipamentosId',\r\n        table: 'equipamentos'\r\n    },\r\n    {\r\n        collection: 'acessibilidade',\r\n        field: 'item',\r\n        label: 'Itens de acessibilidade',\r\n        name: 'acessibilidadeId',\r\n        table: 'acessibilidade'\r\n    },\r\n    {\r\n        collection: 'marcaCarroceria',\r\n        field: 'marca',\r\n        label: 'Marcas de Carroceria',\r\n        name: 'marcaCarroceria',\r\n        table: 'marca_carroceria'\r\n    },\r\n    {\r\n        collection: 'carrocerias',\r\n        field: 'modelo',\r\n        label: 'Modelos de Carroceria',\r\n        name: 'modeloCarroceria',\r\n        table: 'modelo_carroceria'\r\n    },\r\n    {\r\n        collection: 'marcaChassi',\r\n        field: 'marca',\r\n        label: 'Marcas de Chassi',\r\n        name: 'marcaChassi',\r\n        table: 'marca_chassi'\r\n    },\r\n    {\r\n        collection: 'modelosChassi',\r\n        field: 'modeloChassi',\r\n        label: 'Modelos de Chassi',\r\n        name: 'modeloChassi',\r\n        table: 'modelo_chassi'\r\n    },\r\n    {\r\n        collection: 'seguradoras',\r\n        field: 'seguradora',\r\n        label: 'Seguradoras',\r\n        name: 'seguradora',\r\n        table: 'seguradora'\r\n    },\r\n    {\r\n        collection: 'empresasLaudo',\r\n        field: 'empresa',\r\n        label: 'Empresas certificadas INMETRO',\r\n        name: 'empresa',\r\n        table: 'empresa_laudo'\r\n    },\r\n    {\r\n        collection: 'laudos',\r\n        table: 'laudos'\r\n    }\r\n]","import React from 'react';\r\nimport clsx from 'clsx';\r\n//import { ErrorIcon, InfoIcon, Close, WarningIcon } from '@material-ui/icons/';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport { Snackbar, SnackbarContent, Icon } from '@material-ui/core';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles1 = makeStyles(theme => ({\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n}));\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles1();\r\n    const { className, message, onClose, variant, ...other } = props;\r\n\r\n    return (\r\n        <SnackbarContent\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                message && typeof message === 'string' &&\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n                    <Icon>{props.variant === 'error' ?\r\n                        'close' :\r\n                        props.variant === 'warning' ?\r\n                            'error_outlined' :\r\n                            'check'}</Icon>    {message}\r\n                </span>\r\n            }\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nexport default function CustomizedSnackbars(props) {\r\n\r\n    return (\r\n        <div>\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                open={props.open}\r\n                autoHideDuration={1500}\r\n                onClose={props.close}\r\n            >\r\n                <MySnackbarContentWrapper\r\n                    variant={props.status || \"success\"}\r\n                    message={props.msg}\r\n                />\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n}","export function setCookie(cname, cvalue) {\r\n    let d = new Date(), time = 60 * 60 * 1000\r\n    d.setTime(d.getTime() + time)\r\n    d = d.toUTCString()\r\n\r\n    document.cookie = `${cname}=${cvalue}; expires=${d}; path=/`;\r\n}\r\n\r\nexport function deleteCookie(name) {\r\n    let d = new Date()\r\n    d.setTime(10)\r\n    document.cookie = `${name}=; expires=${d.toUTCString()}; path=/`\r\n}\r\n\r\nexport function getCookie(cname) {\r\n    var name = cname + \"=\";\r\n    var ca = document.cookie.split(';');\r\n    for (var i = 0; i < ca.length; i++) {\r\n        var c = ca[i];\r\n        while (c.charAt(0) === ' ') {\r\n            c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) === 0) {\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\n","import { deleteCookie } from \"../Utils/documentCookies\"\r\n\r\n\r\nexport const logUser = user => {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: 'LOG_USER',\r\n            payload: user\r\n        })\r\n    }\r\n}\r\n\r\nexport const editUser = user => dispatch => {\r\n    dispatch({\r\n        type: 'LOG_USER',\r\n        payload: user\r\n    })\r\n}\r\n\r\nexport const logUserOut = () => {\r\n    return async dispatch => {\r\n        await fetch('/auth/logout', { method: 'GET', credentials: 'same-origin' })\r\n            .then(r => {\r\n                deleteCookie('loggedIn')\r\n                return\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n        dispatch({\r\n            type: 'LOG_USER_OUT'\r\n        })\r\n    }\r\n}\r\n","import React from 'react'\r\nimport humps from 'humps'\r\nimport Axios from 'axios'\r\n\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { getData, insertData, updateData, updateCollection, deleteOne, updateDocs } from './dataActions'\r\n\r\nimport Loading from '../Layouts/Loading'\r\nimport { configVehicleForm } from '../Forms/configVehicleForm'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport { getCookie } from '../Utils/documentCookies'\r\nimport { logUser, logUserOut } from './userActions'\r\nimport { getEnvironment } from '../getEnvironment'\r\n\r\nconst socketIO = require('socket.io-client')\r\nlet socket\r\n\r\nexport default function (requestArray, WrappedComponent) {\r\n\r\n    let collections = []\r\n\r\n    //Qualquer que seja o componente, essas duas coleções do Mongo devem estar presentes\r\n    const requiredCollections = ['logs', 'parametros']\r\n    requiredCollections.forEach(c => {\r\n        if (!requestArray.includes(c))\r\n            requestArray.push(c)\r\n    })\r\n    collections = requestArray.map(req => req.replace('getFiles/', '').replace('lookUpTable/', ''))\r\n\r\n    class With extends React.Component {\r\n\r\n        state = { confirmToast: false }\r\n\r\n        quitFn = e => {\r\n            if (e.ctrlKey && e.keyCode === 17)\r\n                this.props.logUserOut()\r\n        }\r\n\r\n        async componentDidMount() {\r\n            document.addEventListener('keypress', e => this.quitFn(e))\r\n            const { redux } = this.props\r\n            let request = []\r\n\r\n            requestArray.forEach(req => {\r\n                const colName = req.replace('getFiles/', '').replace('lookUpTable/', '').replace('logs/', '')\r\n                if (!redux[colName] || !redux[colName][0]) {\r\n                    request.push(req)\r\n                }\r\n            })\r\n\r\n            if (request[0])\r\n                await this.props.getData(request)\r\n\r\n            //**************************Socket management*****************************\r\n            if (!socket) {\r\n                const { webSocketHost } = getEnvironment()\r\n                socket = socketIO(webSocketHost)\r\n            }\r\n            //Conecta o usuário em um socket, passando suas informações   \r\n            socket.on('connect', () => socket.emit('userDetails', this.props?.user))\r\n\r\n            //********************Listen to socket events and call dataActions*********************** */\r\n            socket.on('insertVehicle', insertedObjects => this.props.insertData(insertedObjects, 'veiculos'))\r\n            socket.on('insertInsurance', insertedObjects => this.props.insertData(insertedObjects, 'seguros'))\r\n            socket.on('insertEmpresa', insertedObjects => this.props.insertData(insertedObjects, 'empresas'))\r\n            socket.on('insertSocios', insertedObjects => this.props.insertData(insertedObjects, 'socios'))\r\n            socket.on('insertProcuradores', insertedObjects => this.props.insertData(insertedObjects, 'procuradores'))\r\n            socket.on('insertElements', ({ insertedObjects, collection }) => this.props.insertData(insertedObjects, collection))\r\n\r\n            socket.on('addElements', ({ insertedObjects, table }) => {\r\n                const { collection } = configVehicleForm.find(el => el.table === table)\r\n                this.props.insertData(insertedObjects, collection)\r\n            })\r\n\r\n            socket.on('updateVehicle', updatedObjects => this.props.updateData(updatedObjects, 'veiculos', 'veiculoId'))\r\n            socket.on('updateInsurance', updatedObjects => this.props.updateCollection(updatedObjects, 'seguros'))\r\n            socket.on('updateSocios', updatedObjects => this.props.updateCollection(updatedObjects, 'socios'))\r\n            socket.on('updateProcuradores', ({ collection, data, primaryKey }) => this.props.updateData(data, collection, primaryKey))\r\n            socket.on('updateLogs', updatedObjects => this.props.updateData(updatedObjects, 'logs', 'id'))\r\n            socket.on('updateAny', ({ updatedObjects, collection, primaryKey }) => this.props.updateData(updatedObjects, collection, primaryKey))\r\n            socket.on('updateDocs', ({ ids, metadata, collection, primaryKey }) => this.props.updateDocs(ids, metadata, collection, primaryKey))\r\n            socket.on('updateElements', ({ collection, updatedCollection }) => this.props.updateCollection(updatedCollection, collection))\r\n\r\n            socket.on('deleteOne', ({ id, tablePK, collection }) => {\r\n                console.log({ id, tablePK, collection })\r\n                this.props.deleteOne(id, tablePK, collection)\r\n            })\r\n\r\n            socket.on('insertFiles', object => {\r\n                const { insertedObjects, collection } = object\r\n                this.props.insertData(insertedObjects, collection)\r\n            })\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            document.removeEventListener('keypress', this.quitFn)\r\n            if (!socket) socket = socketIO(':3001')\r\n            const clearAll = ['insertVehicle', 'insertInsurance', 'insertEmpresa', 'insertSocios', 'insertFiles', 'addElements',\r\n                'insertElements', 'insertProcuradores', 'updateVehicle', 'updateInsurance', 'updateSocios', 'updateLogs', 'deleteOne',\r\n                'updateDocs', 'updateAny']\r\n\r\n            clearAll.forEach(el => socket.off(el))\r\n            socket.disconnect()\r\n            socket = undefined\r\n        }\r\n\r\n        getUser = async () => {\r\n            const\r\n                request = await Axios.get('/getUser'),\r\n                user = request?.data\r\n\r\n            if (user)\r\n                this.props.logUser(user)\r\n        }\r\n\r\n        toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n        render() {\r\n            //Todo novo render verifica o localCookie. Se tiver expirado, faz o logout do usuário.\r\n            const validSession = getCookie('loggedIn').length > 0;\r\n\r\n            if (!validSession || this.props.redux.sessionExpired) {\r\n                setTimeout(() => {\r\n                    this.props.history.push('/')\r\n                    this.props.logUserOut()\r\n                }, 1200)\r\n                return <ReactToast open={true} close={this.toast} msg='Sessão expirada.' status='error' />\r\n            }\r\n            else if (!this.props.user.name) {\r\n                this.getUser()\r\n            }\r\n\r\n            //Enquanto não tiver carregado todas as collections de um determinado componente, renderiza Loading...\r\n            collections = collections.map(c => humps.camelize(c))\r\n            if (collections.length === 0 || !collections.every(col => this.props.redux.hasOwnProperty(col))) {\r\n                return <Loading />\r\n            }\r\n            //Carregadas as collections com a devida autenticação, renderiza o componente\r\n            else\r\n                return <WrappedComponent {...this.props} />\r\n        }\r\n    }\r\n\r\n    function mapStateToProps(state) {\r\n        return {\r\n            redux: {\r\n                ...state.data,\r\n            },\r\n            user: state.user\r\n        }\r\n    }\r\n\r\n    function mapDispatchToProps(dispatch) {\r\n        return bindActionCreators({ getData, insertData, updateData, updateCollection, deleteOne, updateDocs, logUser, logUserOut }, dispatch)\r\n    }\r\n\r\n    return connect(mapStateToProps, mapDispatchToProps)(With)\r\n}","//@ts-check\r\nexport const getEnvironment = () => {\r\n\r\n    if (window.location.hostname === 'localhost') {\r\n        return {\r\n            env: 'development',\r\n            webSocketHost: 'ws://localhost:3001'\r\n        }\r\n    }\r\n    else {\r\n        return {\r\n            env: 'production',\r\n            webSocketHost: 'ws://200.198.42.167'\r\n        }\r\n    }\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport StoreHOC from './Store/StoreHOC'\r\nimport './home.css'\r\n\r\nconst featuredPosts = [\r\n    {\r\n        title: 'Veículos',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastre e altere os dados do veículo ou solicite sua baixa',\r\n        link: '/veiculos',\r\n        imageUrl: '/images/vehicles.jpg'\r\n    },\r\n    {\r\n        title: 'Empresas',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastre e gerencie dados de empresas, sócios e procuradores',\r\n        link: '/empresas',\r\n        imageUrl: '/images/empresas12.jpg'\r\n    },\r\n    {\r\n        title: 'Consultas',\r\n        date: '03/Dez',\r\n        description:\r\n            'Consulte e gerencie dados de veículos, seguros e empresas',\r\n        link: '/consultas',\r\n        imageUrl: '/images/consultas2.jpg'\r\n    },\r\n    {\r\n        title: 'Relatórios',\r\n        date: '03/Dez',\r\n        description:\r\n            'Acompanhe a situação dos veículos por meio de gráficos e tabelas',\r\n        link: '/relatorios',\r\n        imageUrl: '/images/relatorios.jpg'\r\n    },\r\n]\r\n\r\nconst namesToRender = {\r\n    nomeSistema: 'Sistema de Cadastro do Transporte Intermunicipal de Minas Gerais',\r\n    siglaSistema: 'CadTI - MG',\r\n}\r\n\r\nfunction Home(props) {\r\n    const\r\n        { parametros } = props.redux,\r\n        { nomes } = parametros[0]\r\n\r\n    if (nomes) {\r\n        namesToRender.nomeSistema = nomes?.sistema\r\n        namesToRender.siglaSistema = nomes?.siglaSistema\r\n    }\r\n    const { nomeSistema, siglaSistema } = namesToRender\r\n    return (\r\n        <React.Fragment>\r\n            <div\r\n                style={{\r\n                    minHeight: '83vh',\r\n                    width: '100%',\r\n                    height: 'auto',\r\n                }}>\r\n                <main className=\"homeMainPost\">\r\n                    <h1>\r\n                        {siglaSistema}\r\n                    </h1>\r\n                    <h2>\r\n                        {nomeSistema}\r\n                    </h2>\r\n                </main>\r\n                <section className='homeCardsContainer'>\r\n                    {featuredPosts.map(({ link, title, description, imageUrl }, i) => (\r\n                        <div key={i} className='homeCard'>\r\n\r\n                            <Link to={link} style={{ textDecoration: 'none' }}>\r\n                                <div className='homeCard'>\r\n                                    <div className=\"homeCardText\">\r\n                                        <h6 className=\"homeCardText\" style={{ fontWeight: 500 }}>\r\n                                            {title}\r\n                                        </h6>\r\n                                        <p className=\"homeCardText\">\r\n                                            {description}\r\n                                        </p>\r\n\r\n                                    </div>\r\n                                    <div className='homeImage'>\r\n                                        <img src={imageUrl} alt={title} className='homeImage' />\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n\r\n                        </div>\r\n                    ))}\r\n                </section>\r\n            </div >\r\n        </React.Fragment >\r\n    )\r\n}\r\n\r\nexport default StoreHOC(['logs', 'parametros'], Home)","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport './veiculos.scss'\r\n\r\nconst menuCards = [\r\n    {\r\n        title: 'Cadastro de Veículos',\r\n        description: 'Cadastrar um novo veículo no sistema',\r\n        imageUrl: '/images/add_new.jpg',\r\n        link: '/cadastro'\r\n    },\r\n    {\r\n        title: 'Alteração de dados',\r\n        description: 'Alterar dados de um veículo',\r\n        link: '/altDados',\r\n        imageUrl: '/images/pen.png'\r\n    },\r\n    {\r\n        title: 'Seguros',\r\n        description: 'Cadastro e atualização de seguro',\r\n        link: '/seguros',\r\n        imageUrl: \"/images/car_insurance2.png\"\r\n    },\r\n    {\r\n        title: 'Laudos',\r\n        description: 'Laudos de segurança veicular',\r\n        link: '/laudos',\r\n        imageUrl: \"/images/laudos.png\"\r\n    },\r\n    {\r\n        title: 'Baixa',\r\n        description: 'Baixa de veículos',\r\n        link: '/baixaVeiculo',\r\n        imageUrl: \"/images/remove_doc.png\"\r\n    },\r\n    {\r\n        title: 'Configurações',\r\n        description: 'Chassi, carrocerias, seguradoras, etc',\r\n        link: '/config',\r\n        imageUrl: \"/images/config2.jpg\"\r\n    }\r\n]\r\n\r\nfunction VeiculosHome(props) {\r\n\r\n    const { match, user } = props\r\n\r\n    return (\r\n        <div>\r\n            <section className=\"jumbotron\">\r\n                <h1>\r\n                    Veículos\r\n                </h1>\r\n                <p>\r\n                    Selecione uma das opções abaixo.\r\n                </p>\r\n            </section>\r\n            <section className=\"card\">\r\n                {\r\n                    menuCards.map(({ title, link, imageUrl, description }, i) =>\r\n                        user?.role !== 'admin' && link === '/config' ?      //Não renderiza a opção \"Configurações\" para usuários sem permissão\r\n                            null :\r\n                            <Link to={match.url + link} key={i} className=\"card__container\">\r\n                                <span className=\"card__image\"> <img src={imageUrl} alt={title} /> </span>\r\n                                <div className=\"card__text\">\r\n                                    <h3 >{title}</h3>\r\n                                    <p > {description}</p>\r\n                                </div>\r\n                            </Link>\r\n                    )}\r\n            </section>\r\n        </div >\r\n    )\r\n}\r\n\r\nconst collections = []\r\nexport default StoreHOC(collections, VeiculosHome)","import { setNamesFromIds } from './idsToString'\r\n\r\nexport const setDemand = (demand, redux) => {\r\n    const\r\n        { veiculos, empresas, vehicleDocs, equipamentos, acessibilidade } = redux,\r\n        history = demand?.history,\r\n\r\n        vehicle = veiculos.find(v => v.veiculoId === demand.veiculoId),\r\n        originalVehicle = JSON.parse(JSON.stringify(vehicle)),\r\n\r\n        selectedEmpresa = empresas.find(e => e.razaoSocial === demand?.empresa),\r\n        razaoSocial = selectedEmpresa?.razaoSocial,\r\n        delegatario = razaoSocial\r\n\r\n    let\r\n        selectedVehicle = { ...vehicle } || null,\r\n        alteracoes\r\n\r\n    //******************Get the last log updates\r\n    if (Array.isArray(history))\r\n        alteracoes = history.reverse().find(el => el.hasOwnProperty('alteracoes'))?.alteracoes\r\n\r\n    //******************Set Alterações into State and set equipamentosId/acessibilidade array of names for each vehicle\r\n    if (alteracoes) {\r\n        Object.keys(alteracoes).forEach(key => selectedVehicle[key] = alteracoes[key])\r\n\r\n        //Pega os nomes dos equipamentos e acessórios para renderizar\r\n        const { equipamentosId, acessibilidadeId } = alteracoes\r\n        if (equipamentosId) selectedVehicle.equipamentos = setNamesFromIds(equipamentos, equipamentosId)\r\n        if (acessibilidadeId) selectedVehicle.acessibilidade = setNamesFromIds(acessibilidade, acessibilidadeId)\r\n    }\r\n\r\n    //******************Get latest uploaded files per field\r\n    let fileIds = [], allDemandFiles, latestDocs = [], filesPerFieldName = {}\r\n    history\r\n        .filter(el => el.files)\r\n        .map(el => el.files)\r\n        .forEach(array => {\r\n            array.forEach(id => fileIds.push(id))\r\n        })\r\n    allDemandFiles = vehicleDocs.filter(doc => fileIds.indexOf(doc.id) !== -1)\r\n\r\n    let fieldExists = []\r\n    allDemandFiles.forEach(file => {\r\n        const { fieldName } = file.metadata\r\n        if (!fieldExists.includes(fieldName)) {\r\n            fieldExists.push(fieldName)\r\n            filesPerFieldName[fieldName] = [file]\r\n        }\r\n        else filesPerFieldName[fieldName].push(file)\r\n    })\r\n\r\n    Object.keys(filesPerFieldName).forEach(field => {\r\n        const arrayOfFiles = filesPerFieldName[field]\r\n        let lastDoc\r\n        lastDoc = arrayOfFiles.reduce((a, b) => new Date(a.uploadDate) > new Date(b.uploadDate) ? a : b)\r\n        latestDocs.push(lastDoc)\r\n        lastDoc = []\r\n    })\r\n\r\n    //****************** Return the object    \r\n    return {\r\n        ...selectedVehicle, originalVehicle, delegatario, razaoSocial, selectedEmpresa,\r\n        demand, demandFiles: latestDocs, alteracoes, getUpdatedValues\r\n    }\r\n}\r\n\r\nfunction getUpdatedValues(originalObj, newObj) {\r\n    Object.keys(newObj).forEach(key => {\r\n        if (newObj[key] && originalObj[key]) {\r\n\r\n            if (key === 'equipamentosId' || key === 'acessibilidadeId')\r\n                newObj[key].sort((a, b) => a - b)\r\n\r\n            if (newObj[key].toString() === originalObj[key].toString())\r\n                delete newObj[key]\r\n        }\r\n        if (newObj[key] === '' || newObj[key] === 'null' || !newObj[key]) delete newObj[key]\r\n    })\r\n    const updatedFields = newObj\r\n    return updatedFields\r\n}","import axios from \"axios\"\r\n\r\nexport const sizeExceedsLimit = files => {\r\n    if (files[0].size > 3145728) {\r\n        alert('Arquivo excedeu o limite permitido (3MB)')\r\n        return true\r\n    }\r\n}\r\n\r\nexport const handleFiles = (files, state, filesFormTemplate) => {\r\n\r\n    const formData = new FormData()\r\n\r\n    if (files && files[0]) {\r\n\r\n        if (sizeExceedsLimit(files)) return            //limit file Size\r\n\r\n        filesFormTemplate.forEach(obj => {                   //set native file fieldname property for each file attached. Makes sense if multiple files\r\n            console.log(obj.name)\r\n            for (let keys in state) {\r\n                if (keys.match(obj.name) && state[obj.name]) {\r\n                    formData.set(obj.name, state[obj.name])\r\n                }\r\n                else void 0\r\n            }\r\n        })\r\n        //for (let p of formData) { console.log(p[0], p[1]) }\r\n        return { form: formData }\r\n    }\r\n}\r\n\r\nexport const postFilesReturnIds = async (formData, metadata = {}, completed, filesEndPoint) => {\r\n    let\r\n        files,\r\n        filesIds\r\n\r\n    if (formData instanceof FormData) {\r\n        let filesToSend = new FormData()\r\n\r\n        if (completed)                              //Se a demanda for aprovada é considerada completed, e então o arquivo deixa de ser temporário.\r\n            metadata.tempFile = false\r\n        else\r\n            metadata.tempFile = true\r\n        console.log(metadata)\r\n\r\n        filesToSend.append('metadata', JSON.stringify(metadata))\r\n        for (let pair of formData) {\r\n            filesToSend.set(pair[0], pair[1])\r\n            console.log(\"🚀 ~ file: handleFiles.js ~ line 49 ~ postFilesReturnIds ~ pair[0], pair[1]\", pair[0], pair[1])\r\n        }\r\n\r\n        files = await axios.post(`/api/${filesEndPoint}`, filesToSend)\r\n    }\r\n\r\n    if (files?.data?.file) {\r\n        const filesArray = files.data.file\r\n        filesIds = filesArray.map(f => f.id)\r\n        return filesIds\r\n    }\r\n    else return null\r\n}\r\n\r\nexport const updateFilesMetadata = async (obj, filesCollection) => {\r\n\r\n    const { files, demandFiles } = obj\r\n    let metadata = { tempFile: false }\r\n\r\n    if (obj?.metadata instanceof Object)\r\n        metadata = Object.assign(obj.metadata, metadata)\r\n    //console.log(obj, metadata)\r\n    let ids\r\n\r\n    if (demandFiles && demandFiles[0])\r\n        ids = demandFiles.map(f => f.id)\r\n\r\n    else {\r\n        if (files instanceof FormData) {             //If there's any upload from Seinfra, it will overwrite the latestDocs(demandFiles) before approval\r\n            for (let pair of files) {\r\n                demandFiles.forEach((f, i) => {\r\n                    if (pair[0] === f?.metadata?.fieldName)\r\n                        demandFiles.splice(i, 1)\r\n                })\r\n            }\r\n            ids = demandFiles.map(f => f.id)\r\n        }\r\n    }\r\n\r\n    await axios.put('/api/updateFilesMetadata', { ids, collection: filesCollection, metadata })\r\n        .then(r => console.log(r.data))\r\n}\r\n\r\nexport const removeFile = (name, form) => {\r\n\r\n    const existingFiles = new FormData()\r\n\r\n    if (form instanceof FormData && form.has(name)) {\r\n        for (let p of form) {\r\n            existingFiles.set(p[0], p[1])\r\n        }\r\n\r\n        existingFiles.delete(name)\r\n\r\n        const returnObj = { fileToRemove: name, form: existingFiles, [name]: undefined }\r\n\r\n        //********If form has only 1 key left, remove it from state. */\r\n        const keyCounter = Array.from(form.keys(), k => k).length\r\n\r\n        if (keyCounter <= 1 && (form.has('veiculoId') || form.has('empresaId')))\r\n            return { fileToRemove: undefined, form: undefined, [name]: undefined }\r\n        else\r\n            return returnObj\r\n    }\r\n}","import moment from 'moment'\r\n\r\nexport const checkInputErrors = (sendState, dontSetDate) => {\r\n\r\n    const\r\n        p = document.querySelectorAll('p'),\r\n        inputs = document.querySelectorAll('input')\r\n\r\n    let\r\n        label = [],\r\n        errors = [],\r\n        errString = 'Favor verificar o preenchimento dos seguintes campos: '\r\n\r\n    if (p) {\r\n        p.forEach(el => {\r\n            if (el.textContent === 'Valor inválido' || el.textContent === '✘') {\r\n                const parent = el.parentNode\r\n                const l = parent.querySelectorAll('label')\r\n                label.push(l[0])\r\n            }\r\n        })\r\n    }\r\n    if (inputs && !dontSetDate) {\r\n        inputs.forEach(el => {\r\n            if (el.type === 'date') {\r\n                if (!moment(el.value, 'YYYY-MM-DD', true).isValid()) {\r\n                    const parent = el.parentNode\r\n                    const l = parent.previousSibling\r\n                    label.push(l)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    if (label[0]) {\r\n        label.forEach(l => errors.push(l.textContent))\r\n        errors.forEach(e => errString += e + ', ')\r\n        errString = errString\r\n            .replace('(kg)', '')\r\n            .replace('(cm)', '')\r\n            .slice(0, -2) + '.'\r\n\r\n        if (sendState) return { openAlertDialog: true, alertType: 'inputError', customMsg: errString, errors }\r\n        return errors\r\n    } else return null\r\n}\r\n\r\nexport const errorHandler = (value, el) => {\r\n    if (!value) return\r\n\r\n    if (el.errorHandler && el.errorHandler(value)) return false\r\n    else if (value && el.errorHandler && !el.errorHandler(value)) return true\r\n\r\n    if (value?.length < el?.minLength) return true\r\n\r\n    if (el.type === 'number') {\r\n        if (value > el.max || value < el.min) return true\r\n        else return false\r\n    }\r\n\r\n    if (typeof value !== 'string') value = value.toString()\r\n    if (el.pattern) return value.match(el.pattern) === null\r\n    else return false\r\n}\r\n\r\nexport const helper = (value, el) => {\r\n    if (!value) return\r\n\r\n    if (el.errorHandler && el.errorHandler(value)) return '✓'\r\n    else if (value && el.errorHandler && !el.errorHandler(value)) return '✘'\r\n\r\n    if (value?.length < el?.minLength) return '✘'\r\n    if (value?.length >= el?.minLength) return '✓'\r\n\r\n    if (typeof value !== 'string') value = value.toString()\r\n    if (value > el.max || value < el.min) return 'Valor inválido'\r\n    else if (value.match(el.pattern) === null) return '✘'\r\n    else if (el.pattern && value.match(el.pattern) !== null) return '✓'\r\n    else return ' '\r\n}\r\n","const vehicle = {\r\n\r\n    collection: 'logs',\r\n    docs: 'vehicleDocs',\r\n    primaryKey: 'veiculoId'\r\n}\r\n\r\nconst { collection, docs, primaryKey } = vehicle\r\n\r\nexport const logRoutesConfig = [\r\n    {\r\n        subject: 'Cadastro de veículo',\r\n        path: '/solicitacoes/cadastro',\r\n        requestAction: 'Cadastro de veículo solicitado',\r\n        responseAction: 'Pendências para o cadastro do veículo',\r\n        concludedAction: 'Veículo cadastrado',\r\n        collection, docs, primaryKey,\r\n    },\r\n    {\r\n        subject: 'Reativação de veículo',\r\n        path: '/solicitacoes/cadastro',\r\n        requestAction: 'Reativação de veículo solicitada',\r\n        responseAction: 'Pendências para a reativação do veículo',\r\n        concludedAction: 'Veículo reativado',\r\n        collection, docs, primaryKey,\r\n    },\r\n    {\r\n        subject: 'Alteração de dados do veículo',\r\n        path: '/solicitacoes/altDados',\r\n        requestAction: 'Alteração de dados de veículo solicitada',\r\n        responseAction: 'Pendências para a alteração de dados veicular',\r\n        concludedAction: 'Dados do veículo alterados',\r\n        collection, docs, primaryKey,\r\n    },\r\n    {\r\n        ...vehicle,\r\n        subject: 'Cadastro/alteração de seguro',\r\n        path: '/solicitacoes/seguros',\r\n        requestAction: 'Cadastro de seguro solicitado',\r\n        responseAction: 'Pendências para o cadastro do seguro',\r\n        concludedAction: 'Seguro cadastrado',\r\n        primaryKey: 'id',\r\n        collection, docs,\r\n\r\n    },\r\n    {\r\n        ...vehicle,\r\n        subject: 'Cadastro de laudo de segurança veicular',\r\n        collection: 'logs',\r\n        path: '/solicitacoes/laudos',\r\n        requestAction: 'Cadastro do laudo solicitado',\r\n        responseAction: 'Pendências para o cadastro do laudo',\r\n        concludedAction: 'Laudo veicular cadastrado',\r\n    },\r\n    {\r\n        subject: 'Baixa de veículo',\r\n        path: '/solicitacoes/baixaVeiculo',\r\n        requestAction: 'Baixa de veículo solicitada',\r\n        collection, docs, primaryKey,\r\n    },\r\n    {\r\n        subject: 'Configurações de Veículo',\r\n        collection: 'logs',\r\n        path: '/veiculos/config'\r\n    },\r\n    {\r\n        subject: 'Consultas',\r\n        path: '/consultas'\r\n    },\r\n    {\r\n        subject: 'Cadastro de empresa',\r\n        collection: 'empresaLogs',\r\n        path: '/empresas/cadastro'\r\n    },\r\n    {\r\n        subject: 'Alteração no quadro/dados de sócios',\r\n        requestAction: 'Alteração no quadro/dados de sócios solicitada',\r\n        concludedAction: 'Alteração de sócios cadastrada',\r\n        path: '/solicitacoes/socios',\r\n        docs: 'empresaDocs',\r\n        primaryKey: 'empresaId',\r\n        collection\r\n    },\r\n    {\r\n        subject: 'Alteração estatutária',\r\n        requestAction: 'Alteração estatutária solicitada',\r\n        responseAction: 'Pendências para a alteração estatutária',\r\n        concludedAction: 'Alteração estatutária cadastrada',\r\n        path: '/solicitacoes/altContrato',\r\n        docs: 'empresaDocs',\r\n        primaryKey: 'empresaId',\r\n        collection\r\n    },\r\n    {\r\n        subject: 'Cadastro de procurações/procuradores',\r\n        collection,\r\n        path: '/solicitacoes/procuradores',\r\n        docs: 'empresaDocs',\r\n        primaryKey: 'empresaId',\r\n        requestAction: 'Cadastro de procuração solicitado',\r\n        responseAction: 'Procuração indeferida',\r\n        concludedAction: 'Procuração cadastrada',\r\n    },\r\n]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import axios from 'axios'\r\nimport { store } from '../App'\r\nimport { logRoutesConfig } from '../Solicitacoes/logRoutesConfig'\r\nimport { updateFilesMetadata, postFilesReturnIds } from './handleFiles'\r\n\r\nexport async function logGenerator(obj) {\r\n    const\r\n        path = window.location.pathname,\r\n        userName = store.getState()?.user?.name || 'Usuário não identificado',\r\n        codigoEmpresa = obj.empresaId\r\n\r\n    let logRoutes = JSON.parse(JSON.stringify(logRoutesConfig))\r\n    logRoutes.forEach((el, i) => el.path = logRoutesConfig[i].path.replace('/veiculos', '').replace('/solicitacoes', '').replace('/empresas', ''))\r\n\r\n    //Cria props padrão para todos os logs\r\n    const\r\n        collection = 'logs',\r\n        historyLength = obj?.historyLength,\r\n        commonFields = {\r\n            user: userName,\r\n            createdAt: new Date(),\r\n        }\r\n\r\n    let\r\n        logConfig = logRoutes.find(e => path.match(e.path)),\r\n        log = JSON.parse(JSON.stringify(obj))\r\n\r\n    //Em caso de reativação de veículo, o path é o mesmo, aí o find tem q ser por subject\r\n    if (obj.subject && obj.subject.match('Reativação'))\r\n        logConfig = logRoutes.find(e => e.subject === obj.subject)\r\n\r\n    // if !veiculoId, update to empresaDocs\r\n    let\r\n        filesCollection = 'vehicleDocs',\r\n        filesEndPoint = 'vehicleUpload'\r\n    if (!obj.veiculoId) {\r\n        filesCollection = 'empresaDocs'\r\n        filesEndPoint = 'empresaUpload'\r\n    }\r\n\r\n    const history = Object.assign(obj.history, commonFields)\r\n    log.history = history || {}\r\n\r\n    //Se par, a próxima action é a demanda de cada rota caso contrário a resposta. Depois apaga-se o historyLength */\r\n    if (historyLength || historyLength === 0) {\r\n\r\n        if (historyLength % 2 === 0 || historyLength === 0) {\r\n\r\n            if (!obj?.history?.action)\r\n                log.history.action = logConfig?.requestAction\r\n            log.status = 'Aguardando análise'\r\n        }\r\n        else {\r\n            if (!obj?.history?.action)\r\n                log.history.action = logConfig?.responseAction\r\n            log.status = 'Pendências'\r\n        }\r\n    }\r\n\r\n    //**********************if log already exists, no need to inform veiculoId **********************    \r\n    if (obj?.id && log.veiculoId) delete log.veiculoId\r\n    delete log.historyLength\r\n\r\n    //**********************If given by the component which called this fuction, overwrite logRoutesConfig*/\r\n    if (!obj.id || obj.subject) log.subject = obj?.subject || logConfig?.subject\r\n\r\n    //*************************IF DECLINED, UPDATE LOG AND RETURN LOG*/    \r\n    if (obj.declined) {\r\n        log.history.action = 'Solicitação indeferida'\r\n        log.status = 'Solicitação indeferida'\r\n        log.completed = true\r\n\r\n        const post = axios.post('/api/logs', { log, collection, codigoEmpresa })\r\n        return post\r\n    }\r\n\r\n    //*************************CASO APROVADO, CONCLUI A SOLICITAÇÃO E ALTERA METADADOS DOS ARQUIVOS PARA TEMP:FALSE*/    \r\n    if (obj.approved && !obj.declined) {\r\n        log.history.action = logConfig?.concludedAction || 'Solicitação concluída'\r\n        log.status = 'Solicitação concluída'\r\n        log.completed = true\r\n        updateFilesMetadata(obj, filesCollection)\r\n    }\r\n\r\n    //********************** Upload files and get their Ids***********************/    \r\n    const filesIds = await postFilesReturnIds(obj?.history?.files, obj?.metadata, log?.completed, filesEndPoint)\r\n\r\n    if (filesIds)\r\n        log.history.files = filesIds\r\n\r\n    const { metadata, approved, demandFiles, ...filteredLog } = log\r\n    //**********************reestablish path**********************\r\n    logRoutes = JSON.parse(JSON.stringify(logRoutesConfig))\r\n    logConfig = logRoutes.find(e => path.match(e.path))\r\n\r\n    //**********************request and return promisse**********************\r\n\r\n    //console.log(JSON.stringify(filteredLog))\r\n    const post = axios.post('/api/logs', { log: filteredLog, collection, codigoEmpresa })\r\n    return post\r\n}","import React from 'react'\r\n\r\nexport default function AutoComplete({ collection = [], datalist, value, empresas }) {\r\n\r\n    if (value?.length > 2 && typeof collection !== 'string') {\r\n        if (datalist === 'razaoSocial' && empresas && empresas[0]) collection = empresas\r\n\r\n        return (\r\n            <datalist id={datalist}>\r\n                {\r\n                    collection.map((item, index) => {\r\n                        return (\r\n                            <option key={index}>{item[datalist]}</option>\r\n                        )\r\n                    })}\r\n            </datalist>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport AutoComplete from '../Utils/autoComplete'\r\n\r\nimport './commonStyles.css'\r\n\r\nfunction SelectEmpresa(props) {\r\n\r\n    const\r\n        [enableSelect, setEnabled] = useState(true),\r\n        { empresas, compartilhados, handleInput, handleBlur, shared, headerTitle } = props,\r\n        { razaoSocial, compartilhado, activeStep, demand } = props.data,\r\n        singleEmpresaUser = empresas.length === 1,\r\n        list = 'razaoSocial'\r\n\r\n\r\n    //Configure the form. If shared is present in state, another form will be pusshed into the array (CadVehicles)\r\n    let headerTitles = [{ title: 'Selecione a Viação', list, name: list, value: razaoSocial }]\r\n    if (shared)\r\n        headerTitles.push({ title: 'Empresa autorizada a compartilhar', list, name: 'compartilhado', value: compartilhado })\r\n\r\n\r\n    //Render field or title conditionally\r\n    useEffect(() => {\r\n        //|| user?.empresas.length === 1\r\n        if (demand || activeStep > 0 || singleEmpresaUser)\r\n            setEnabled(false)\r\n        else if (activeStep === 0)\r\n            setEnabled(true)\r\n\r\n        //focus no campo de preencher o nome da empresa\r\n        const selectInput = document.getElementsByName('razaoSocial')\r\n        if (enableSelect && selectInput[0])\r\n            selectInput[0].focus()\r\n\r\n    }, [demand, activeStep, enableSelect, singleEmpresaUser])\r\n\r\n    return (\r\n        <div\r\n            className={props.hasOwnProperty('shared') ? 'flex center' : 'paper flex center'}\r\n            style={{\r\n                flexDirection: activeStep === 0 ? 'row' : 'column',\r\n                width: '100%',\r\n                marginBottom: 0,\r\n            }}>\r\n            {\r\n                !enableSelect &&\r\n                <div className='selectedEmpresa'\r\n                    style={{ padding: shared && activeStep === 0 && '0 30px 33px 0' }}>\r\n                    {headerTitle || demand?.empresa || razaoSocial || ''}\r\n                </div>\r\n            }\r\n            {props.hasOwnProperty('shared') && activeStep !== 0 && compartilhado &&\r\n                <div className='compartilhadoHeader'>\r\n                    Compartilhado por {compartilhado}\r\n                </div>\r\n            }\r\n            {\r\n                (!activeStep || activeStep === 0) && headerTitles.map(({ title, list, name, value }, i) =>\r\n                    ((singleEmpresaUser && i === 1) || !singleEmpresaUser) &&\r\n                    < div className='flexColumn' key={i} >\r\n                        <h4 style={{ margin: '5px 0', textAlign: 'center' }}>{title}</h4>\r\n                        <input\r\n                            list={list}\r\n                            name={name}\r\n                            className='selectEmpresa'\r\n                            value={value}\r\n                            onChange={handleInput}\r\n                            onBlur={handleBlur}\r\n                            autoComplete='off'\r\n                        />\r\n                        <AutoComplete\r\n                            collection={props.hasOwnProperty('shared') ? compartilhados : empresas}\r\n                            datalist={list}\r\n                            value={value}\r\n                        />\r\n                    </div>\r\n                )\r\n            }\r\n        </div >\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return { user: state.user, redux: state.data }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SelectEmpresa)","import React, { Fragment } from 'react'\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport AutoComplete from '../Utils/autoComplete'\r\n//import { clearFormat } from '../Utils/formatValues'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '1px',\r\n        marginBottom: '1px',\r\n\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    select: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',\r\n        marginBottom: '2px',\r\n        background: '#fafafa',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    helperText: {\r\n        margin: '2px 0',\r\n        fontSize: '0.7rem'\r\n    },\r\n}))\r\n\r\nexport default function TextInput({ handleInput, handleBlur, form, data, empresas, compartilhados, selectOptions, disableAll, style = {}, disableSome = [] }) {\r\n    //console.log(\"🚀 ~ file: TextInput.jsx ~ line 39 ~ TextInput ~ data\", data)\r\n\r\n    const classes = useStyles(),\r\n        { helperText } = classes\r\n\r\n    const errorHandler = (el) => {\r\n        let value = data[el.field]\r\n        if (!value) return\r\n\r\n        if (el.errorHandler && el.errorHandler(value)) return false\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return true\r\n\r\n        if (value?.length < el?.minLength) return true\r\n\r\n        if (el.type === 'number') {\r\n            if (value > el.max || value < el.min) return true\r\n            else return false\r\n        }\r\n\r\n        if (typeof value !== 'string') value = value.toString()\r\n        if (el.pattern) return value.match(el.pattern) === null\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        let value = data[el.field]\r\n        if (!value) return ' '\r\n        if (el.errorHandler && el.errorHandler(value)) return '✓'\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return '✘'\r\n\r\n        if (value?.length < el?.minLength) return '✘'\r\n        if (value?.length >= el?.minLength) return '✓'\r\n\r\n        if (typeof value !== 'string') value = value.toString()\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value.match(el.pattern) !== null) return '✓'\r\n        else return ' '\r\n    }\r\n\r\n    return (\r\n        <div className='flex center' style={{ ...style }}>\r\n            {\r\n                form.map((el, i) => (\r\n                    <Fragment key={i}>\r\n                        <TextField\r\n                            name={el.field}\r\n                            label={el.label}\r\n                            margin={el.margin}\r\n                            className={classes.textField}\r\n                            onChange={handleInput}\r\n                            onBlur={handleBlur}\r\n                            type={el.type || ''}\r\n                            error={errorHandler(el)}\r\n                            helperText={helper(el)}\r\n                            FormHelperTextProps={{ className: helperText }}\r\n                            select={el.select || false}\r\n                            value={data[el.field] || ''}\r\n                            disabled={el.disabled || disableAll || disableSome.includes(el.field) || false}\r\n                            InputLabelProps={{\r\n                                className: classes.textField,\r\n                                shrink: el.type === 'date' || undefined,\r\n                                style: { fontSize: '0.7rem', fontWeight: 400, color: '#888', fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif' }\r\n                            }}\r\n                            inputProps={{\r\n                                style: {\r\n                                    background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                    fontSize: '0.85rem', textAlign: 'center', color: '#000', width: el.width || 300, height: '7px',\r\n                                    fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif'\r\n                                },\r\n                                value: `${data[el.field] || ''}`,\r\n                                list: el.datalist || '',\r\n                                maxLength: el.maxLength || '',\r\n                                minLength: el.minLength || '',\r\n                                max: el.max || '',\r\n                            }}\r\n\r\n                            multiline={el.multiline || false}\r\n                            rows={el.rows || null}\r\n                            variant={el.variant || 'filled'}\r\n                            fullWidth={el.fullWidth || false}\r\n                            SelectProps={{\r\n                                style: {\r\n                                    background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                    fontSize: '0.9rem', textAlign: 'center', color: '#555', fontWeight: 400,\r\n                                    width: 325, height: '44px'\r\n                                }\r\n                            }}\r\n                        >\r\n                            {el.select === true ?\r\n                                selectOptions ?\r\n                                    selectOptions.map((opt, i) =>\r\n                                        <MenuItem key={i} value={opt} >\r\n                                            {opt}\r\n                                        </MenuItem>\r\n                                    )\r\n                                    :\r\n                                    el.options.map((opt, i) =>\r\n                                        <MenuItem key={i} value={opt} >\r\n                                            {opt}\r\n                                        </MenuItem>\r\n                                    )\r\n                                : null\r\n                            }\r\n\r\n                        </TextField>\r\n                        {el.autoComplete === true && <AutoComplete\r\n                            collection={data[el.collection]}\r\n                            empresas={compartilhados ? compartilhados : empresas}\r\n                            datalist={el.datalist}\r\n                            value={data[el.field] || ''}\r\n                        />\r\n                        }\r\n                    </Fragment>\r\n                ))\r\n            }\r\n        </div>\r\n\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function FormSubtiltle({ subtitle, style = {} }) {\r\n    return (\r\n        <div className='subtitle' style={style}>\r\n            <i className='material-icons subtitle__helper'>arrow_forward</i>\r\n            <span className='subtitle__text'>\r\n                {subtitle}\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n","export const vistoriaForm = [\r\n    {\r\n        field: 'cilindros',\r\n        label: 'Cilindros',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12,\r\n        step: 1\r\n    },\r\n    {\r\n        field: 'potencia',\r\n        label: 'Potência (cv)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 600\r\n    },\r\n    {\r\n        field: 'eixos',\r\n        label: 'Eixos',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 8\r\n    },\r\n    {\r\n        field: 'pneumaticosDianteiro',\r\n        label: 'Pneumáticos Eixo Dianteiro',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'pneumaticosTraseiro',\r\n        label: 'Pneumáticos Eixo Traseiro',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 18\r\n    },\r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (t)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (t)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 15\r\n    },\r\n    {\r\n        field: 'poltronas',\r\n        label: 'Poltronas',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 120\r\n    },\r\n    {\r\n        field: 'piquesPoltrona',\r\n        label: 'Piques poltrona',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'distanciaMinima',\r\n        label: 'Distância Mínima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    },\r\n    {\r\n        field: 'distanciaMaxima',\r\n        label: 'Distância Máxima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    }\r\n]","import { vistoriaForm } from './vistoriaForm'\r\n\r\nexport const cadVehicleForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    maxLength: 8,\r\n    pattern: '[a-zA-Z]{3}[-]?[ ]?\\\\d{4}|[A-Z]{3}[-]?[ ]?[0-9]{1}[A-Z]{1}[0-9]{2}'\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    maxLength: 11,\r\n    pattern: /^(\\d{9}|\\d{11})$/\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilização',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Comercial', 'Comercial Executivo', 'Convencional', 'Convencional Executivo', 'Leito', 'Leito e Executivo', 'Semi-Leito', 'Semi-Leito Executivo']\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Número do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    datalist: 'modeloChassi',\r\n    autoComplete: true,\r\n    collection: 'modelosChassi'\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    max: Number(new Date().getFullYear()),\r\n},\r\n{\r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,\r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    datalist: 'modelo',\r\n    autoComplete: true,\r\n    collection: 'carrocerias'\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    max: Number(new Date().getFullYear() + 1)\r\n},\r\n{\r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,\r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situação da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veículo próprio', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n}\r\n]]\r\n    .concat([vistoriaForm])","import React from 'react'\r\n\r\nexport default function ClosePopUpButton({ close, title = 'Fechar' }) {\r\n    return (\r\n        <div style={{\r\n            position: 'absolute',\r\n            top: '0.4%',\r\n            right: '0.4%'\r\n        }}>\r\n            <div>\r\n                <i\r\n                    className=\"material-icons right\"\r\n                    title={title}\r\n                    style={{ cursor: 'pointer', color: 'red' }}\r\n                    onClick={close} >\r\n                    close\r\n                </i>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\n\r\nimport '../Layouts/popUp.css'\r\n\r\nexport default function AddEquipa({ data, type, equipamentos, handleCheck, close }) {\r\n\r\n    if (Array.isArray(equipamentos) && equipamentos[0]?.item) equipamentos = equipamentos.sort((a, b) => a.item.localeCompare(b.item))\r\n\r\n    return <div className='popUpWindow' style={{ right: '25%', left: '25%' }}>\r\n        <h4 className='equipaHeader'>{type === 'equipamentos' ? 'Equipamentos' : 'Itens de Acessibilidade'}</h4> <hr />\r\n        <div className=\"checkListContainer\">\r\n            {\r\n                equipamentos.map((eq, i) =>\r\n                    <span className=\"checkListEquipa\" key={i}>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={data[eq.item]}\r\n                                    value={eq.item}\r\n                                    onChange={() => handleCheck(eq.item, type)} />\r\n                            }\r\n                            label={<p className=\"checkListLabel\">{eq.item}</p>}\r\n                        />\r\n                    </span>\r\n                )\r\n            }\r\n        </div>\r\n        <ClosePopUpButton close={close} />\r\n    </div>\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\n\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { cadVehicleForm } from '../Forms/cadVehicleForm'\r\n\r\nimport AddEquipa from './AddEquipa'\r\n\r\nimport './veiculos.scss'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    button: {\r\n        marginRight: '15px'\r\n    }\r\n}))\r\n\r\nexport default function ({ redux, data, handleInput, handleBlur, handleEquipa, handleCheck, closeEquipa, resetShared, removePartilha }) {\r\n\r\n    const\r\n        [shared, setShared] = useState(false),\r\n        { button } = useStyles(),\r\n        { empresas, compartilhados, equipamentos, acessibilidade, modelosChassi, carrocerias } = redux,\r\n        { activeStep, demand, addEquipa, subtitle, selectedEmpresa, type, placa, reactivated } = data,\r\n        form = cadVehicleForm[activeStep]\r\n\r\n    let eqCollection = equipamentos\r\n    if (type === 'acessibilidade') eqCollection = acessibilidade\r\n\r\n    data.modelosChassi = modelosChassi\r\n    data.carrocerias = carrocerias\r\n\r\n    useEffect(() => {               //reset shared after submit\r\n        if (resetShared) setShared(false)\r\n    }, [resetShared])\r\n\r\n    const toggleShared = () => {\r\n        if (shared)\r\n            removePartilha()\r\n        setShared(!shared)\r\n    }\r\n\r\n    let conditionalSubtitle = subtitle[activeStep]\r\n    if (reactivated)\r\n        conditionalSubtitle += ' (reativação de veículo)'\r\n\r\n    return (\r\n        <>\r\n            <header className={activeStep !== 0 ? 'flex center' : 'paper flex center'} style={{ width: '100%' }}>\r\n                <section className='flexColumn' style={{ marginBottom: '10px' }}>\r\n                    <SelectEmpresa\r\n                        data={data}\r\n                        shared={shared}\r\n                        empresas={empresas}\r\n                        compartilhados={compartilhados}\r\n                        headerTitle={placa && selectedEmpresa && `Cadastro de veículo ${placa} - ${selectedEmpresa?.razaoSocial}`}\r\n                        handleBlur={handleBlur}\r\n                        handleInput={handleInput}\r\n                    />\r\n                </section>\r\n                {\r\n                    activeStep === 0 && !demand &&\r\n                    <section className=\"flex center\" style={{ width: '100%', margin: '-7px 0 -4px 0' }}>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={shared === true}\r\n                                    onChange={() => toggleShared()}\r\n                                    value={shared}\r\n                                />\r\n                            }\r\n                            label={\r\n                                <h4 style={{ color: '#2979ff', fontSize: '0.7rem' }}>\r\n                                    Veículo Compartilhado?\r\n                                </h4>\r\n                            }\r\n                        />\r\n                    </section>\r\n                }\r\n            </header>\r\n            {\r\n                selectedEmpresa &&\r\n                <main>\r\n                    {activeStep < 2 &&\r\n                        <section className='paper' style={{ paddingBottom: '25px' }}>\r\n                            <FormSubtiltle subtitle={conditionalSubtitle} />\r\n                            <TextInput\r\n                                form={form}\r\n                                data={data}\r\n                                handleBlur={handleBlur}\r\n                                handleInput={handleInput}\r\n                            />\r\n                        </section>}\r\n                    {activeStep === 0 &&\r\n                        <section className='flex center' style={{ marginTop: '15px' }}>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                color=\"primary\"\r\n                                className={button}\r\n                                onClick={() => handleEquipa('equipamentos')}\r\n                            >\r\n                                <AddIcon />\r\n                                                Equipamentos\r\n                            </Button>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                color=\"primary\"\r\n                                className={button}\r\n                                onClick={() => handleEquipa('acessibilidade')}\r\n                            >\r\n                                <AddIcon />\r\n                                        Acessibilidade\r\n                            </Button>\r\n                        </section>}\r\n                    {\r\n                        addEquipa && <AddEquipa\r\n                            equipamentos={eqCollection}\r\n                            close={closeEquipa}\r\n                            handleCheck={handleCheck}\r\n                            data={data} />\r\n                    }\r\n                </main>\r\n            }\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function RemoveFileButton({ name, removeFile }) {\r\n    return (\r\n        <div style={{\r\n            position: 'absolute',\r\n            top: '0.4%',\r\n            right: '0.4%'\r\n        }}>\r\n            <div>\r\n                <i\r\n                    className=\"material-icons right\"\r\n                    title='Remover arquivo'\r\n                    style={{ cursor: 'pointer', color: 'red' }}\r\n                    onClick={() => removeFile(name)}>\r\n                    close\r\n                        </i>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Fragment, useState, useEffect } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport RemoveFileButton from './RemoveFileButton';\r\n\r\n\r\nexport default function DragAndDrop({ title, name, formData, handleFiles, dropDisplay, single, style, demandFiles, fileToRemove, removeFile }) {\r\n\r\n    const [fileName, setFileName] = useState()\r\n    const [fileExists, setFileExistance] = useState()\r\n\r\n    //*************Set demandFiles names, if there are any\r\n    useEffect(() => {\r\n        if (demandFiles && demandFiles[0]) {\r\n            demandFiles.forEach(({ filename, metadata }) => {\r\n                if (name === metadata.fieldName) {\r\n                    setFileName(filename)\r\n                    setFileExistance(true)\r\n                }\r\n            })\r\n        }\r\n    }, [demandFiles, name])\r\n\r\n    //*************If there's formData from props there's a new file being attached.\r\n    useEffect(() => {\r\n        if (formData instanceof FormData) {\r\n            for (let pair of formData.entries()) {\r\n                if (name === pair[0]) {     //Attach the file if there'no command to remove\r\n                    setFileName(pair[1].name)\r\n                    setFileExistance(false)\r\n                    console.log(pair[0], pair[1])\r\n                }\r\n            }\r\n        } else if (!formData && !demandFiles) setFileName(null)\r\n    }, [formData, name, demandFiles, fileToRemove])\r\n\r\n    //*****************Remove file name from rendered field *********/    \r\n    useEffect(() => {\r\n\r\n        if (fileToRemove === name) {\r\n            const demandFile = demandFiles?.find(f => f?.metadata?.fieldName === fileToRemove)\r\n\r\n            if (fileToRemove && demandFile) {\r\n                setFileName(demandFile.filename)\r\n                setFileExistance(true)\r\n            }\r\n            else if (fileToRemove && fileToRemove === name) {\r\n                setFileName(undefined)\r\n            }\r\n        }\r\n    }, [demandFiles, fileToRemove, handleFiles, name])\r\n\r\n    return (\r\n        <div style={style ? style : null}>\r\n            <div style={{ position: 'relative', marginRight: '8px' }}>\r\n                {title ? <p className='fileInput'>{title || ''}</p>\r\n                    : <br />}\r\n                {fileName && !fileExists &&\r\n                    <RemoveFileButton removeFile={removeFile} name={name} />\r\n                }\r\n            </div>\r\n            <Dropzone onDrop={e => handleFiles(e, name)}>\r\n                {({ getRootProps, getInputProps }) => (\r\n                    <div\r\n                        style={fileExists ? { backgroundColor: '#aaa' } : {}}\r\n                        className={fileName ? 'dropBox fileAttached' : single ? 'dropBox' : 'multipleDropBox'} {...getRootProps()}>\r\n                        <input {...getInputProps()} />\r\n                        {\r\n                            fileName ?\r\n                                <Fragment>\r\n                                    <div>\r\n                                        <DescriptionOutlinedIcon className='icon' />\r\n                                        {fileName}\r\n                                    </div>\r\n                                    {single &&\r\n                                        <span>(clique ou arraste outro arquivo para alterar)</span>\r\n                                    }\r\n                                </Fragment>\r\n                                :\r\n                                <div> <AttachFileIcon className='icon' />\r\n                                    <span>  {dropDisplay}</span>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                )}\r\n            </Dropzone>\r\n        </div>\r\n    )\r\n}\r\n","export const cadVehicleFiles = [\r\n    { title: 'CRLV do Veículo', name: 'crlv' },\r\n    { title: 'Declaração de Responsabilidade de Manutenção', name: 'declaracao' },\r\n    { title: 'Certificado de Vistoria', name: 'vistoria' },\r\n    { title: 'DAE Quitada', name: 'dae' },\r\n    { title: 'Laudo de Pesagem', name: 'pesagem' },\r\n    //{ title: 'Apólice do Seguro', name: 'apoliceDoc' },\r\n]","export const altDadosFiles = [\r\n    { title: 'Formulário de Alteração de Cadastro', name: 'transferenciaDoc' },\r\n    { title: 'Declaração de Responsabilidade de Manutenção', name: 'declaracao' },\r\n    { title: 'Certificado de Vistoria', name: 'vistoria' },\r\n    { title: 'DAE Quitada', name: 'dae' },\r\n    { title: 'Laudo de Pesagem', name: 'pesagem' },\r\n    { title: 'CRLV com nova placa', name: 'newPlateDoc' },\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { altDadosFiles } from '../Forms/altDadosFiles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    root: {\r\n        flexGrow: '1',\r\n        margin: '5px',\r\n        padding: '8px',\r\n    },\r\n\r\n    sendButton: {\r\n        margin: '3% 0 3% 0',\r\n        backgroundColor: 'teal',\r\n        float: 'right'\r\n    },\r\n    text: {\r\n        textAlign: 'left',\r\n        margin: theme.spacing(2),\r\n        fontSize: '0.9rem',\r\n        fontWeight: '500',\r\n        color: '#333'\r\n    },\r\n    item: {\r\n        margin: '0 0 18px 0',\r\n        padding: '0 5px'\r\n    }\r\n}))\r\n\r\nexport default function VehicleDocs({ handleFiles, parentComponent, dropDisplay, formData, insuranceExists, demandFiles, removeFile, fileToRemove }) {\r\n    const { root, item } = useStyles()\r\n\r\n    let filesForm\r\n    if (parentComponent === 'cadastro') filesForm = cadVehicleFiles\r\n    if (parentComponent === 'altDados') filesForm = altDadosFiles\r\n\r\n    return (\r\n        <div className='paper' style={{color: '#555'}} >\r\n            <FormSubtiltle subtitle='Anexe os documentos solicitados nos campos abaixo' />\r\n            <Grid container className={root}>\r\n                {filesForm.map(({ title, name }, k) =>\r\n                    name === 'apoliceDoc' && insuranceExists ? null :\r\n                        <Fragment key={k}>\r\n                            <Grid item xs={10} md={4} className={item}>\r\n                                <DragAndDrop\r\n                                    title={title}\r\n                                    name={name}\r\n                                    formData={formData}\r\n                                    dropDisplay={dropDisplay}\r\n                                    handleFiles={handleFiles}\r\n                                    demandFiles={demandFiles}\r\n                                    removeFile={removeFile}\r\n                                    fileToRemove={fileToRemove}\r\n                                />\r\n                            </Grid>\r\n                        </Fragment>\r\n                )}\r\n            </Grid>\r\n        </div>\r\n    )\r\n}","import axios from 'axios'\r\n\r\nconst downloadFile = (id, originalName, collection, fieldName) => {\r\n    if (fieldName && fieldName === 'apoliceDoc') collection = 'empresaDocs'\r\n        axios({\r\n            url: `/api/mongoDownload/?collection=${collection}&id=${id}`,\r\n            method: 'GET',\r\n            responseType: 'blob', // important\r\n        }).then((response) => {\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', originalName);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n        })\r\n            .catch(err => {\r\n                console.log(err)\r\n                //          logout(err)\r\n            })\r\n}\r\n\r\nexport default downloadFile","import React from 'react'\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\nimport downloadFile from '../Utils/downloadFile';\r\n\r\nconst divContainer = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    alignContent: 'center',\r\n    flexWrap: 'wrap'\r\n}\r\n\r\nconst divFiles = {\r\n    textAlign: 'center',\r\n    alignItems: 'flex-start',\r\n    height: '40px',\r\n    border: '1px #ccc solid',\r\n    padding: '7px 8px 0 8px',\r\n    margin: '1% 1% 0.5% 1%',\r\n    fontSize: '0.8rem',\r\n    backgroundColor: '#f6f6f6',\r\n    borderRadius: '6px',\r\n\r\n}\r\n\r\nconst icon = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    paddingLeft: '2%'\r\n}\r\n\r\nconst fileIcon = {\r\n    verticalAlign: 'middle',\r\n    padding: '0 0% 0 2%',\r\n\r\n}\r\n\r\nexport default function ShowLocalFiles({ form, files, demand, demandFiles, collection, style = {} }) {\r\n\r\n    const createLink = (key, fileName) => {\r\n\r\n        const file = files.get(key)\r\n\r\n        const url = window.URL.createObjectURL(file);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n\r\n        //Se for imagem ou pdf, abrir em outra aba\r\n        if (file && (file.type === 'application/pdf' || file.type.match('image/'))) {\r\n            link.setAttribute('rel', \"noopener\")\r\n            link.setAttribute('target', \"_blank\")\r\n            link.setAttribute('title', fileName)\r\n        }\r\n        else link.setAttribute('download', fileName)\r\n        document.body.appendChild(link);\r\n        link.click();\r\n    }\r\n\r\n    let fileArray = []\r\n\r\n    //Se tiver demanda, pegar os dados do\r\n    if (demandFiles) {\r\n        demandFiles.forEach(file => {\r\n            form.forEach(({ name, title }) => {\r\n                if (file?.metadata?.fieldName === name)\r\n                    fileArray.push({ id: file.id, label: title, fieldName: name, fileName: file.filename, storage: 'server' })\r\n            })\r\n        })\r\n    }\r\n\r\n    //******LÓGICA PARA Q O PUSH() DO FILEARRAY SOBRESCREVA QQ OUTRO OBJETO COM MESMO FIELDNAME [criada]\r\n    if (files) for (let pair of files.entries()) {\r\n        form.forEach(({ name, title }) => {\r\n            if (name === pair[0]) {\r\n                if (pair[1] && pair[1].name) {\r\n                    const index = fileArray.findIndex(obj => obj?.fieldName === name)\r\n                    if (index !== -1)\r\n                        fileArray[index] = { label: title, fieldName: name, fileName: pair[1].name, storage: 'local' }\r\n                    else\r\n                        fileArray.push({ label: title, fieldName: name, fileName: pair[1].name, storage: 'local' })\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    return <React.Fragment>\r\n        <div style={divContainer}>\r\n            {fileArray.map((f, i) =>\r\n                <div style={{ ...divFiles, ...style }} key={i}>\r\n                    <InsertDriveFileOutlinedIcon style={fileIcon} />\r\n                    <span style={{ verticalAlign: 'middle', }}>\r\n                        {' '} {f.label}\r\n                    </span>\r\n                    <GetAppIcon style={icon}\r\n                        onClick={() => f.storage === 'local' ?\r\n                            createLink(f.fieldName, f.fileName)\r\n                            : downloadFile(f.id, f.fileName, collection, f.fieldName)} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    </React.Fragment >\r\n}","import React from 'react'\r\nimport moment from 'moment'\r\nimport downloadFile from '../Utils/downloadFile'\r\n\r\nexport default function StandardTable({ length, title, labels, fields, values, style, docs, alteredElements = [] }) {\r\n\r\n    const dateFormat = value => {\r\n        if (moment(value, 'YYYY-MM-DDTHH:mm:ss.SSSZZ', true).isValid()) {\r\n            return moment(value, moment.ISO_8601, true).format('DD/MM/YYYY')\r\n        }\r\n        else {\r\n            return value\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th className='tHeader'\r\n                        style={style}\r\n                        colSpan={length}>{title}</th>\r\n                </tr>\r\n                <tr>\r\n                    {labels.map((l, i) => <th key={i} style={style}>{l}</th>)}\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    {values.map((v, j) =>\r\n                        <td className='review' key={j}\r\n                            style={{ ...style, color: alteredElements.includes(fields[j]) ? 'red' : '#000' }}\r\n                            onClick={() => docs && docs.id ? downloadFile(docs.id, docs.filename, 'vehicleDocs', docs.metadata.fieldName) : null}>\r\n                            {dateFormat(v)}\r\n                        </td>\r\n                    )}\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n","import React, { Fragment } from 'react'\r\n\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport StandardTable from '../Reusable Components/StandardTable'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 5px 0',\r\n        height: 'auto'\r\n    }\r\n}))\r\n\r\nexport default function Revisao({ data, parentComponent, form, filesForm, files }) {\r\n    const\r\n        classes = useStyles(),\r\n        { paper } = classes,\r\n        { acessibilidade, equipamentos, alteracoes, demand, demandFiles } = data,\r\n        originalVehicle = data?.originalVehicle\r\n\r\n    let vehicleDetails = [],\r\n        obj = {},\r\n        newForm = [],\r\n        filledForm = [],\r\n        ultimateData,\r\n        alteredElements = []\r\n\r\n    form.forEach(f => {\r\n        f.forEach(e => {\r\n            if (data.hasOwnProperty([e.field])) {\r\n                Object.assign(obj, { [e.field]: data[e.field] })\r\n                newForm.push(e)\r\n            }\r\n        })\r\n        vehicleDetails.push(obj)\r\n        filledForm.push(newForm)\r\n        obj = {}\r\n        newForm = []\r\n    })\r\n    if (parentComponent === 'cadastro') ultimateData = [\r\n        { subtitle: 'Detalhes do veículo', form: filledForm[0] || [], data: vehicleDetails[0] },\r\n        { subtitle: 'Detalhes do seguro', form: filledForm[1] || [], data: vehicleDetails[1] },\r\n        { subtitle: 'Informações sobre a vistoria', form: filledForm[2] || [], data: vehicleDetails[2] },\r\n    ]\r\n\r\n    if (parentComponent === 'altDados') ultimateData = [\r\n        { subtitle: 'Detalhes do veículo', form: filledForm[0], data: vehicleDetails[0] },\r\n        { subtitle: 'Informações sobre a vistoria', form: filledForm[1], data: vehicleDetails[1] }\r\n    ]\r\n\r\n    if (alteracoes && typeof alteracoes === 'object') alteredElements = Object.keys(alteracoes)\r\n\r\n    if (originalVehicle) {\r\n        Object.keys(originalVehicle).forEach(key => {\r\n            if (data[key] && originalVehicle[key]) {\r\n                if (data[key] !== originalVehicle[key] && !alteredElements.includes(key)) {\r\n                    alteredElements.push(key)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Paper className={paper}>\r\n                <main className='divTable'>\r\n                    {\r\n                        ultimateData.map(({ subtitle, form, data }, y) =>\r\n                            form && data && <Fragment key={y}>\r\n                                <StandardTable\r\n                                    length={form?.length || 1}\r\n                                    title={subtitle}\r\n                                    labels={form.map(s => s.label)}\r\n                                    fields={form.map(el => el.field)}\r\n                                    values={Object.values(data)}\r\n                                    alteredElements={alteredElements}\r\n                                />\r\n                            </Fragment>\r\n                        )}\r\n                </main>\r\n                {\r\n                    equipamentos && equipamentos[0] &&\r\n                    <section style={{ margin: '0 0 13px 20px' }}>\r\n                        <p style={{ fontWeight: 500, color: '#555' }}> Equipamentos </p>\r\n                        <p>\r\n                            {\r\n                                equipamentos && equipamentos.map((e, i) =>\r\n                                    <span style={{ fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana', fontSize: '12px' }} key={i}>\r\n                                        {i !== equipamentos.length - 1 ? e + ', ' : e}\r\n                                    </span>\r\n                                )\r\n                            }\r\n                        </p>\r\n                    </section>\r\n                }\r\n                {\r\n                    acessibilidade && acessibilidade[0] &&\r\n                    <section style={{ margin: '0 0 13px 20px' }}>\r\n                        <p style={{ fontWeight: 500, color: '#555' }}> Itens de acessibilidade </p>\r\n                        <p>\r\n                            {\r\n                                acessibilidade.map((e, i) =>\r\n                                    <span style={{ fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana', fontSize: '12px' }} key={i}>\r\n                                        {i !== acessibilidade.length - 1 ? e + ', ' : e}\r\n                                    </span>\r\n                                )\r\n                            }\r\n                        </p>\r\n                    </section>\r\n                }\r\n                {(files || demandFiles) &&\r\n                    <div>\r\n                        <p style={{ margin: '0 0 13px 11px', fontWeight: '500', color: '#555' }}>\r\n                            <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} />\r\n                            {' Documentos'}\r\n                        </p>\r\n\r\n                        <ShowLocalFiles\r\n                            demand={demand}\r\n                            collection='vehicleDocs'\r\n                            demandFiles={demandFiles}\r\n                            form={filesForm}\r\n                            files={files}\r\n                        />\r\n                    </div>\r\n                }\r\n            </Paper >\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nexport default function Crumbs({ links, text, demand }) {\r\n    if (demand) {\r\n        links = ['Solicitações', '/solicitacoes']\r\n        text = `solicitação nº ${demand?.numero}`\r\n    }\r\n    \r\n    return (\r\n        <Grid style={{ marginTop: '1%' }}>\r\n            <Breadcrumbs separator=\"›\" aria-label=\"breadcrumb\" >\r\n                <Link\r\n                    to='/' style={{}}\r\n                >\r\n                    <HomeIcon style={{ verticalAlign: 'middle', marginRight: '5px', paddingBottom: '3px' }} />\r\n                    <span style={{ fontSize: '0.8rem', }}>\r\n                        Página inicial\r\n                    </span>\r\n\r\n                </Link>\r\n                <Link color=\"primary\" to={links[1]} style={{ fontSize: '0.8rem' }}>\r\n                    {links[0]}\r\n                </Link>\r\n                <span style={{ fontSize: '0.8rem' }} >{text}</span>\r\n            </Breadcrumbs>\r\n        </Grid>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    button: {\r\n        margin: theme.spacing(1),\r\n        float: 'right'\r\n    },\r\n    backButton: {\r\n        margin: theme.spacing(1),\r\n        float: 'left',\r\n        color: '#333',\r\n        backgroundColor: '#eee'\r\n    },\r\n    textField: {\r\n        marginTop: '20px',\r\n        width: '100%'\r\n    }\r\n}))\r\n\r\nexport default function StepperButtons({ activeStep, setActiveStep, lastStep, handleSubmit, disabled, demand, uniqueStep, declineButtonLabel,\r\n    setShowPendencias, showPendencias, handleInput, info, obs, addObs }) {\r\n\r\n    const classes = useStyles(), { backButton, button, textField } = classes\r\n\r\n    let role\r\n    if (demand?.status.match('Pendências')) role = 'empresa'\r\n    if (demand?.status.match('Aguardando')) role = 'seinfra'\r\n\r\n    useEffect(() => {\r\n        function nextShortcut(e) {\r\n            if (e.keyCode === 37 && e.ctrlKey && activeStep !== 0)\r\n                setActiveStep('back')\r\n            if (e.keyCode === 39 && e.ctrlKey && activeStep !== lastStep)\r\n                setActiveStep('next')\r\n            if (e.keyCode === 13 && e.ctrlKey)\r\n                handleSubmit()\r\n        }\r\n        document.addEventListener('keydown', nextShortcut)\r\n        return () => document.removeEventListener('keydown', nextShortcut)\r\n    })\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            {activeStep < lastStep ?\r\n                <>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        className={backButton}\r\n                        title={activeStep !== 0 ? 'Ctrl + ←' : null}\r\n                        onClick={() => setActiveStep('back')}\r\n                        disabled={activeStep === 0}\r\n                    >\r\n                        Voltar\r\n                </Button>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        title={!disabled ? 'Ctrl + →' : null}\r\n                        className={button}\r\n                        onClick={() => setActiveStep('next')}\r\n                        disabled={disabled}\r\n                    >\r\n                        Avançar\r\n                </Button>\r\n                </>\r\n                :\r\n                <div style={{ display: 'flex', flexDirection: 'column', width: '100%' }}>\r\n                    {role === 'seinfra' && !showPendencias && !addObs\r\n                        ?\r\n                        null\r\n                        :\r\n                        <TextField\r\n                            name={addObs ? 'obs' : 'info'}  //Se estiver na solicitação, info>>demand, se na aprovação, veiculo>>obs\r\n                            className={textField}\r\n                            value={addObs ? obs : info}\r\n                            label={\r\n                                !demand || role === 'empresa' ? 'Observações/informações complementares'\r\n                                    :\r\n                                    demand && uniqueStep ? 'Motivos para o indeferimento'\r\n                                        :\r\n                                        showPendencias ? 'Pendências/irregularidades para a aprovação'\r\n                                            :\r\n                                            'Observações'\r\n                            }\r\n                            type='text'\r\n                            onChange={handleInput}\r\n                            InputLabelProps={{ shrink: true, style: { fontWeight: 600, marginBottom: '5%' } }}\r\n                            inputProps={{ style: { paddingBottom: '2%' }, maxLength: 600 }}\r\n                            multiline\r\n                            rows={3}\r\n                            variant='outlined'\r\n                        />\r\n                    }\r\n                    <div style={{ display: 'flex', width: '100%' }}>\r\n                        {activeStep === lastStep && !uniqueStep &&\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={backButton}\r\n                                title={activeStep !== 0 ? 'Ctrl + ←' : null}\r\n                                onClick={() => setActiveStep('back')}\r\n                                disabled={activeStep === 0}\r\n                            >\r\n                                Voltar\r\n                        </Button>}\r\n                        <div style={{ display: 'flex', justifyContent: 'flex-end', width: '100%' }}>\r\n                            {\r\n                                !demand || role === 'empresa' ?\r\n                                    <Button\r\n                                        variant='contained'\r\n                                        color=\"primary\"\r\n                                        className={button}\r\n                                        onClick={() => handleSubmit()}\r\n                                    >\r\n                                        Enviar solicitação\r\n                                    </Button>\r\n                                    :\r\n                                    <>\r\n                                        <Button\r\n                                            variant='outlined'\r\n                                            color=\"secondary\"\r\n                                            className={button}\r\n                                            onClick={() => setShowPendencias()}\r\n                                        >\r\n                                            {showPendencias ? 'Cancelar' : declineButtonLabel || 'Registrar pendencias'}\r\n                                        </Button>\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            color={showPendencias ? \"secondary\" : \"primary\"}\r\n                                            className={button}\r\n                                            onClick={() => showPendencias ? handleSubmit(false) : handleSubmit(true)}\r\n                                        >\r\n                                            {showPendencias ? 'Indeferir' : 'Aprovar'}\r\n                                        </Button>\r\n                                    </>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nexport default function CustomStepper({ activeStep, steps }) {\r\n    return (\r\n        <div className='paper' style={{ padding: '15px', margin: '10px 0' }} >\r\n            <Stepper activeStep={activeStep}>\r\n                {steps.map((label, index) => {\r\n                    const stepProps = {};\r\n                    const labelProps = {};\r\n                    return (\r\n                        <Step key={label}\r\n                            {...stepProps}\r\n                        >\r\n                            <StepLabel {...labelProps}>\r\n                                {label}\r\n                            </StepLabel>\r\n                        </Step>\r\n                    )\r\n                })}\r\n            </Stepper>\r\n        </div>\r\n    )\r\n}","export const formatDate = (date, min) => {\r\n\r\n    const minutes = () => {\r\n        if (new Date(date).getMinutes() < 10) {\r\n            return '0' + new Date(date).getMinutes()\r\n        } else {\r\n            return new Date(date).getMinutes()\r\n        }\r\n    }\r\n\r\n    if (/\\d/.test(date)) {\r\n        let data = new Date(date).getDate() + '/' + (new Date(date).getMonth() + 1) + '/' + new Date(date).getFullYear()// + ', ' + new Date(date).getHours() + ':' + minutes() + 'h'\r\n        if (min) data += ', ' + new Date(date).getHours() + ':' + minutes() + 'h'\r\n        return data.toString()\r\n    } else {\r\n        return date\r\n    }\r\n}\r\n\r\nexport const formatMoney = (value = '') => {\r\n    let v = value.replace(/\\D/g, '');\r\n    v = (v / 100).toFixed(2) + '';\r\n    v = v.replace(\".\", \",\");\r\n    v = v.replace(/(\\d)(\\d{3})(\\d{3}),/g, \"$1.$2.$3,\");\r\n    v = v.replace(/(\\d)(\\d{3}),/g, \"$1.$2,\");\r\n    return v\r\n}\r\n\r\n\r\nexport const formatCpf = (input) => {\r\n    if (!input) return\r\n    else {\r\n        input = input\r\n            .replace(/\\D/g, '') // substitui qualquer caracter que nao seja numero por nada\r\n            .replace(/(\\d{3})(\\d)/, '$1.$2') // captura 2 grupos de numero o primeiro de 3 e o segundo de 1, apos capturar o primeiro grupo ele adiciona um ponto antes do segundo grupo de numero\r\n            .replace(/(\\d{3})(\\d)/, '$1.$2')\r\n            .replace(/(\\d{3})(\\d{1,2})/, '$1-$2')\r\n            .replace(/(-\\d{2})\\d+?$/, '$1') // captura 2 numeros seguidos de um traço e não deixa ser digitado mais nada\r\n    }\r\n    return input\r\n}\r\n\r\n/* export const formatCnpj = (input) => {\r\n    if (!input) return\r\n    return input.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})/g, \"$1.$2.$3/$4-$5\");\r\n} */\r\n\r\nexport function formatCnpj(input) {\r\n\r\n    const tecla = k => k.keyCode;\r\n    document.addEventListener('keypress', tecla)\r\n\r\n    let\r\n        tam,\r\n        vr = input.toString()\r\n\r\n    vr = vr.replace(\".\", \"\");\r\n    vr = vr.replace(\"/\", \"\");\r\n    vr = vr.replace(\"-\", \"\");\r\n    tam = vr.length + 1;\r\n    if (tecla !== 14) {\r\n        if (tam === 3)\r\n            input = vr.substr(0, 2) + '.';\r\n        if (tam === 6)\r\n            input = vr.substr(0, 2) + '.' + vr.substr(2, 5) + '.';\r\n        if (tam === 10)\r\n            input = vr.substr(0, 2) + '.' + vr.substr(2, 3) + '.' + vr.substr(6, 3) + '/';\r\n        if (tam === 15)\r\n            input = vr.substr(0, 2) + '.' + vr.substr(2, 3) + '.' + vr.substr(6, 3) + '/' + vr.substr(9, 4) + '-' + vr.substr(13, 2);\r\n    }\r\n    return input\r\n}\r\n\r\nexport function clearFormat(input) {\r\n    if (!input) return\r\n    else return input.replace(/(\\.|\\/|-)/g, \"\");\r\n}\r\n\r\nexport function formatPhone(phone) {\r\n    if (!phone) return\r\n\r\n    phone = phone\r\n        .replace(/(?!\\d)./g, '')\r\n        .replace(/(\\d{2})/, '($1) ')\r\n    if (phone.length === 13) phone = phone.replace(/(\\d{4})(\\d)/, '$1-$2')\r\n    if (phone.length === 14) phone = phone.replace(/(\\d{5})(\\d)/, '$1-$2')\r\n\r\n    return phone\r\n}\r\n\r\nexport function formatShare(number) {\r\n    if (!number) return\r\n\r\n    /* if ((number.length === 4 && number.charAt(3) === '0')) {\r\n        console.log(typeof number, number)\r\n        return number\r\n    } else if (number.length === 5 && number.charAt(4) === '0') {\r\n        console.log(typeof number, number, 'ha')\r\n        return number\r\n    }\r\n */\r\n\r\n    /*   if (number.length > 1 && number.search(',') !== -1)\r\n          return number\r\n      if (number.length >= 5) {\r\n          number = Number(number)\r\n          number = +(number.toPrecision(4))\r\n      } */\r\n    if (number.length >= 5)\r\n        number = number.slice(0, 5)\r\n    return number\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog({ open, alertType, close, confirm, customTitle, customMessage, tab }) {\r\n\r\n  const createAlert = type => {\r\n    let title, message, subject = ''\r\n    const subjectOptions = ['a empresa', 'o sócio', 'a procuração', 'o veículo', 'o seguro']\r\n\r\n    if (tab || tab === 0) subject = subjectOptions[tab]\r\n\r\n    if (customTitle && customMessage) {\r\n      title = customTitle\r\n      message = customMessage\r\n      return { title, message }\r\n    }\r\n\r\n    switch (type) {\r\n      case 'plateNotFound':\r\n        title = 'Placa não encontrada'\r\n        message = 'A placa informada não corresponde a nenhum veículo da frota da viação selecionada. Para cadastrar um novo veículo, selecione a opção Veículos => \"Cadastro de Veículo\" no menu acima.'\r\n        return { title, message }\r\n      case 'invalidPlate':\r\n        title = 'Placa inválida'\r\n        message = 'Certifique-se de que a placa informada é uma placa válida, com três letras seguidas de 4 números (ex: AAA-0000)'\r\n        return { title, message }\r\n      case 'plateExists':\r\n        title = 'Placa já cadastrada!'\r\n        message = 'A placa informada já está cadastrada. Para atualizar seguro, alterar dados ou solicitar baixa, utilize as opções acima. '\r\n        return { title, message }\r\n      case 'invalidModel':\r\n        title = 'Modelo não cadastrado.'\r\n        message = customMessage\r\n        return { title, message }\r\n      case 'inputError':\r\n        title = 'Preenchimento inválido.'\r\n        message = customMessage\r\n        return { title, message }\r\n      case 'fieldsMissing':\r\n        title = 'Favor preencher todos os campos.'\r\n        message = 'Os campos acima são de preenchimento obrigatório. Certifique-se de ter preenchido todos eles.'\r\n        return { title, message }\r\n      case 'invalidInsurance':\r\n        title = 'Favor verificar os dados do seguro.'\r\n        message = 'As informações referentes ao seguro do veículo são obrigatórias. Certifique-se de ter informado todas elas.'\r\n        return { title, message }\r\n      case 'filesNotFound':\r\n        title = 'Arquivos não encontrados'\r\n        message = `Não há nenhum documento aprovado no sistema para ${subject} selecionad${subject.charAt(0)}.\r\n          Caso haja uma solicitação em aberto para ${subject}, acesse a opção \"Solicitações\" no menu superior para ter acesso aos arquivos.`\r\n        return { title, message }\r\n\r\n      case 'empresaNotFound':\r\n        title = 'Empresa não encontrada.'\r\n        message = `A empresa informada não está registrada no sistema. Para cadastrar uma nova empresa, utilize a opção Empresas -> Cadastrar.`\r\n        return { title, message }\r\n      case 'seguradoraNotFound':\r\n        title = 'Seguradora não encontrada.'\r\n        message = `A seguradora informada não está registrada no sistema. Favor verificar o nome da seguradora.`\r\n        return { title, message }\r\n\r\n      case 'alreadyExists':\r\n        title = 'CPF já cadastrado.'\r\n        message = `O CPF informado corresponde a um sócio já cadastrado. \r\n          Para remover ou editar as informações dos sócios, utilize a respectiva opção abaixo.`\r\n        return { title, message }\r\n      case 'numberNotValid':\r\n        title = 'Número inválido.'\r\n        message = 'O número digitado não é válido.'\r\n        return { title, message }\r\n      case 'overShared':\r\n        title = 'Participação societária inválida.'\r\n        message = 'A participação societária informada excede a 100%.'\r\n        return { title, message }\r\n      case 'subShared':\r\n        title = 'Participação societária inválida.'\r\n        message = 'A participação societária informada não soma 100%. Favor informar todos os sócios com suas respectivas participações.'\r\n        return { title, message }\r\n      case 'veiculoPendente':\r\n        title = 'Pendências encontradas para este veículo.'\r\n        message = 'Verifique se há alguma aprovação pendente quanto ao cadastro, seguro, transferência ou alteração de dados do veículo.'\r\n        return { title, message }\r\n      case 'seguroVencido':\r\n        title = 'Pendências encontradas para o seguro deste veículo.'\r\n        message = 'Para regularizar o seguro deste veículo, acesse a opção Veículos=>Seguros no menu acima.'\r\n        return { title, message }\r\n      case 'contratoVencido':\r\n        title = 'Contrato expirado.'\r\n        message = 'O contrato de concessão com o delegatário selecionado está expirado.'\r\n        return { title, message }\r\n      default:\r\n        return { title: null, message: null }\r\n    }\r\n  }\r\n  const { title, message } = createAlert(alertType)\r\n\r\n  if (title && message) return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={close}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {message}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={close} color=\"primary\">\r\n            {confirm ? 'Cancelar' : 'Fechar'}\r\n          </Button>\r\n          {confirm && <Button onClick={close} color=\"primary\" autoFocus>\r\n            Confirmar\r\n          </Button>}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n  else return null\r\n}","import humps from 'humps'\r\nconst validaDistanciaMinima = (utilizacao, dist, distancias) => {\r\n\r\n    utilizacao = humps.camelize(utilizacao)\r\n    if (utilizacao === 'leitoEExecutivo')\r\n        utilizacao = 'leitoExecutivo'\r\n    let validDistance, d\r\n\r\n    if (distancias[utilizacao] && dist && dist !== '') {\r\n        dist = Number(dist)\r\n        d = distancias[utilizacao]\r\n\r\n        if (d <= dist)\r\n            validDistance = true\r\n        else\r\n            validDistance = false\r\n    }\r\n    if (validDistance)\r\n        return false\r\n    else if (d)\r\n        return `A distância mínima para a utilização \"${utilizacao}\" é de ${d} centímetros. Altere a distância ou clique em \"voltar\" para alterar a utilização.`\r\n}\r\n\r\nexport default validaDistanciaMinima","export const dischargedForm = [\r\n    { field: \"veiculoId\", label: \"Número\" },\r\n    { field: \"placa\", label: \"Placa\" },\r\n    { field: \"renavam\", label: \"RENAVAM\" },\r\n    { field: \"utilizacao\", label: \"Utilização\" },\r\n    { field: \"codigoEmpresa\", label: \"Código\" },\r\n    { field: \"empresa\", label: \"Delegatário\" },\r\n    { field: \"dataRegistro\", label: \"Data de Registro\" },\r\n    { field: \"situacao\", label: \"Situação\" },\r\n    { field: \"dataBaixa\", label: \"Data baixa\" },\r\n    { field: \"nChassi\", label: \"Número chassi\" },\r\n    { field: \"marcaChassi\", label: \"Marca chassi\" },\r\n    { field: \"modeloChassi\", label: \"Modelo chassi\" },\r\n    { field: \"anoChassi\", label: \"Ano chassi\" },\r\n    { field: \"valorChassi\", label: \"Valor Chassi\" },\r\n    { field: \"marcaCarroceria\", label: \"Marca carroceria\" },\r\n    { field: \"modeloCarroceria\", label: \"Modelo carroceria\" },\r\n    { field: \"anoCarroceria\", label: \"Ano carroceria\" },\r\n    { field: \"indicadorIdade\", label: \"Indicador de Idade\" },\r\n    { field: \"valorCarroceria\", label: \"Valor carroceria\" },\r\n    { field: \"dominio\", label: \"Leasing\" },\r\n    { field: \"delegatarioCompartilhado\", label: \"Empresas autorizadas a compartilhar\" },\r\n    { field: \"cores\", label: \"Cores\" },\r\n    { field: \"seguradora\", label: \"Seguradora\" },\r\n    { field: \"apolice\", label: \"Apólice\" },\r\n    { field: \"dataEmissao\", label: \"Data Inicio\" },\r\n    { field: \"vencimento\", label: \"Data Fim\", },\r\n    { field: \"empresaLaudo\", label: \"Empresa Laudo\", },\r\n    { field: \"numeroLaudo\", label: \"Número Laudo\", },\r\n    { field: \"validade\", label: \"Validade Laudo\", },\r\n    { field: \"cilindros\", label: \"Cilindros\" },\r\n    { field: \"potencia\", label: \"Potência\" },\r\n    { field: \"eixos\", label: \"Eixos\" },\r\n    { field: 'pneumaticosDianteiros', label: 'Pneumáticos Dianteiros', },\r\n    { field: 'pneumaticosTraseiros', label: 'Pneumáticos Traseiros', },\r\n    { field: \"pesoDianteiro\", label: \"Peso Dianteiro\" },\r\n    { field: \"pesoTraseiro\", label: \"Peso Traseiro\" },\r\n    { field: \"pbt\", label: \"PBT\" },\r\n    { field: \"poltronas\", label: \"Poltronas\" },\r\n    { field: \"piquesPoltrona\", label: \"Piques Poltrona\" },\r\n    { field: \"distanciaMinima\", label: \"Distância Mínima\" },\r\n    { field: \"distanciaMaxima\", label: \"Distância Máxima\" },\r\n    { field: \"equipamentos\", label: \"Equipamentos\" },\r\n    { field: \"acessibilidade\", label: \"Acessibilidade\" },\r\n    { field: \"sipro\", label: \"SIPRO\" },\r\n    { field: \"obs\", label: \"Observação\" }\r\n]\r\n\r\nexport const allBaixadoFields = [\r\n    \"Número\", \"Placa\", \"RENAVAM\", \"Data de Registro\", \"Utilização\", \"Código\", \"Delegatário\", \"Leasing\", \"Seguradora\", \"Apólice\", \"Data Inicio\", \"Data Fim\",\r\n    \"Empresa Laudo\", \"Número Laudo\", \"Validade Laudo\", \"Empresas autorizadas a compartilhar\", \"Poltronas\", \"Eixos\", \"PBT\", \"Marca chassi\", \"Modelo chassi\",\r\n    \"Ano chassi\", \"Número chassi\", \"Valor Chassi\", \"Situação\", \"Data baixa\", \"SIPRO\", \"Cilindros\", \"Potência\", \"Marca carroceria\", \"Modelo carroceria\",\r\n    \"Ano carroceria\", \"Valor carroceria\", \"Piques Poltrona\", \"Peso Dianteiro\", \"Peso Traseiro\", \"Cores\", \"Equipamentos\", \"Observação\", \"Indicador de Idade\",\r\n    \"Distância Mínima\", \"Distância Máxima\", \"__v\", \"id\"\r\n]\r\n","//Calcula o CMT legal após o blur do modeloChassi e salva no estado local\r\nexport const getCMT = component => {\r\n    const\r\n        { modelosChassi } = component.props.redux,\r\n        { modeloChassi } = component.state\r\n\r\n    if (!modeloChassi)\r\n        return\r\n\r\n    const cmt = modelosChassi.find(c => c.modeloChassi === modeloChassi)?.cmt\r\n    console.log(\"🚀 ~ file: CadVeiculo.jsx ~ line 190 ~ VeiculosContainer ~ cmt\", cmt)\r\n    component.setState({ cmt })\r\n}\r\n\r\n//Passa this como argumento para a função verificar se o pbt ultrapassou o cmt legal\r\nconst checkWeight = (component, name) => {\r\n\r\n    let { poltronas, pesoDianteiro, pesoTraseiro, cmt, modeloChassi } = component.state\r\n\r\n    poltronas = poltronas || 0\r\n    pesoDianteiro = pesoDianteiro || 0\r\n    pesoTraseiro = pesoTraseiro || 0\r\n\r\n    //Converte string p número para corrigir ponto e vírgula como casa decimal.\r\n    const\r\n        pd = pesoDianteiro && parseFloat(pesoDianteiro.replace(',', '.')).toFixed(3),\r\n        pt = pesoTraseiro && parseFloat(pesoTraseiro.replace(',', '.')).toFixed(3)\r\n\r\n    let pbt = +poltronas * 0.08 + (+pd + (+pt))\r\n\r\n    if (isNaN(pbt))\r\n        pbt = undefined\r\n    else\r\n        pbt = pbt.toFixed(3)\r\n    //Avalia se o PBT é maior que o CMT\r\n    if (+cmt >= pbt) {\r\n        console.log('Cmt, pbt ok.', cmt, pbt)\r\n        pbt = Number(stringBR(pbt).replace(',', '.'))\r\n        component.setState({ pbt })\r\n    }\r\n    else {\r\n        //Se o PBT for maior que o CMT, zera os campos de peso e poltronas e abre alerta (modal) para o usuário.\r\n        const\r\n            pbtString = stringBR(pbt),\r\n            cmtString = cmt && cmt.toString().replace('.', ','),\r\n            customTitle = 'Peso total bruto superior ao permitido (CMT) para o modelo de chassi informado.',\r\n            customMessage = `O número de poltronas e os pesos dianteiro e traseiro informados formam um peso bruto total de ${pbtString}t, superior à \r\n                Carga Máxima de tração permitida: modelo ${modeloChassi} -> ${cmtString}t.`\r\n        component.setState({ openAlertDialog: true, customTitle, customMessage, [name]: 0 })\r\n        setTimeout(() => {\r\n            document.getElementsByName(name)[0].focus()\r\n        }, 1550);\r\n    }\r\n}\r\n\r\n//Recebe um float de 3 casas, transforma o número em string, troca \".\" por \",\" , retira os zeros depois da vírgula\r\nconst stringBR = num => {\r\n    if (!num)\r\n        return\r\n    num = num.toString()\r\n        .replace('.', ',')\r\n        .replace(',000', '')\r\n    if (num.slice(-1) === '0' && (num.charAt(1) === ',' || num.charAt(2) === ','))\r\n        num = num.slice(0, num.length - 1)\r\n    if (num.slice(-1) === '0' && (num.charAt(1) === ',' || num.charAt(2) === ','))\r\n        num = num.slice(0, num.length - 1)\r\n\r\n    console.log(num)\r\n    return num\r\n}\r\n\r\nexport default checkWeight","import React, { PureComponent, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { setDemand } from '../Utils/setDemand'\r\nimport { handleFiles, removeFile } from '../Utils/handleFiles'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\n\r\nimport CadVeiculoTemplate from './CadVeiculoTemplate'\r\nimport VehicleDocs from './VehicleDocs'\r\nimport Review from './VehicleReview'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\nimport CustomStepper from '../Reusable Components/Stepper'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\n\r\nimport { formatMoney } from '../Utils/formatValues'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { cadVehicleForm } from '../Forms/cadVehicleForm'\r\n\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport validateDist from '../Utils/validaDistanciaMinima'\r\nimport { dischargedForm } from '../Forms/dischargedForm'\r\nimport checkWeight, { getCMT } from './checkWeight'\r\n\r\nclass VeiculosContainer extends PureComponent {\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27 && this.state.addEquipa)\r\n                this.closeEquipa()\r\n        }\r\n    }\r\n\r\n    state = {\r\n        activeStep: 0,\r\n        steps: ['Dados do Veículo', 'Vistoria e laudos', 'Documentos', 'Revisão'],\r\n        subtitle: ['Informe os dados do veículo.', 'Preencha os campos abaixo conforme a vistoria realizada'],\r\n        razaoSocial: '',\r\n        frota: [],\r\n        delegatarioCompartilhado: '',\r\n        toastMsg: 'Veículo cadastrado!',\r\n        confirmToast: false,\r\n        addEquipa: false,\r\n        openAlertDialog: false,\r\n        dropDisplay: 'Clique ou arraste para anexar'\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n        const\r\n            { redux } = this.props,\r\n            { equipamentos, acessibilidade, empresas, veiculos } = redux,\r\n            demand = this.props?.location?.state?.demand\r\n\r\n        if (empresas && empresas.length === 1)\r\n            this.setState({ selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos })\r\n\r\n        if (demand) {\r\n            let reactivated = false\r\n            const demandState = setDemand(demand, redux)\r\n            if (demandState.situacao.match('Reativação'))\r\n                reactivated = true\r\n            this.setState({ ...demandState, activeStep: 3, reactivated })\r\n        }\r\n\r\n        //*********Create state[equipamento] for each equipamentos/acessibilidade and turn them to false before a vehicle is selected *********/\r\n        //Se tiver demanda, os equipamentos e acessibilidade são definidos no dataActions para incorporar no estado global\r\n        let\r\n            allEqs = {},\r\n            allAcs = {}\r\n\r\n        equipamentos.forEach(e => Object.assign(allEqs, { [e?.item]: false }))\r\n        acessibilidade.forEach(e => Object.assign(allAcs, { [e?.item]: false }))\r\n\r\n        await this.setState({ ...allEqs, ...allAcs })\r\n        //await this.setState({ ...allEqs, ...allAcs, selectedEmpresa: redux.empresas[0], razaoSocial: 'what' })\r\n\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.setState({})\r\n        document.removeEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    setActiveStep = async action => {\r\n\r\n        if (this.state.activeStep === 0) {\r\n            const matchPlaca = this.state.frota.filter(v => v.placa === this.state.placa)[0]\r\n            if (matchPlaca) {\r\n                await this.setState({ placa: '' });\r\n                this.setState({ alertType: 'plateExists', openAlertDialog: true })\r\n                return null\r\n            }\r\n        }\r\n\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { veiculos, empresas } = this.props.redux,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n\r\n                let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n                if (selectedEmpresa) {\r\n                    const { razaoSocial, codigoEmpresa } = selectedEmpresa\r\n                    await this.setState({ selectedEmpresa, razaoSocial, codigoEmpresa })\r\n                    if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                    const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n\r\n                    this.setState({ frota })\r\n\r\n                } else this.setState({ selectedEmpresa: undefined, frota: [], placa: undefined })\r\n                break\r\n\r\n            case 'placa':\r\n                if (typeof value === 'string') {\r\n                    value = value.toLocaleUpperCase()\r\n                    await this.setState({ [name]: value })\r\n                }\r\n                break\r\n            case ('utilizacao'):\r\n                this.setState({ distanciaMinima: undefined, distanciaMaxima: undefined })\r\n                break\r\n            case ('valorChassi'):\r\n                this.setState({ [name]: formatMoney(value) })\r\n                break\r\n            case ('valorCarroceria'):\r\n                this.setState({ [name]: formatMoney(value) })\r\n                break\r\n            default: void 0\r\n        }\r\n    }\r\n\r\n    checkValid = async (name, value, collection, stateId, dbName, dbId, alertLabel) => {\r\n\r\n        const item = collection.find(el => el[dbName].toLowerCase() === value.toLowerCase())\r\n        if (!item && value && value !== '') {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            this.setState({\r\n                alertType: 'invalidModel', openAlertDialog: true,\r\n                customTitle: 'Modelo inválido.',\r\n                customMessage: `O modelo de ${alertLabel} não está cadastrado no sistema.`\r\n            })\r\n            document.getElementsByName(name)[0].focus()\r\n            return\r\n        }\r\n        if (value === '')\r\n            this.setState({ [name]: '', [stateId]: '' })\r\n        if (item) {\r\n            const\r\n                nombre = item[dbName],\r\n                id = item[dbId]\r\n            if (value !== '')\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n        }\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const\r\n            { empresas, modelosChassi, carrocerias, parametros } = this.props.redux,\r\n            { distanciaPoltronas, idadeBaixa } = parametros[0],\r\n            { idadeMaxCad, difIdade, idadeBaixaAut } = idadeBaixa,\r\n            { anoCarroceria, anoChassi, utilizacao, distanciaMinima, distanciaMaxima, situacao } = this.state,\r\n            { name } = e.target,\r\n            carr = Number(anoCarroceria),\r\n            chas = Number(anoChassi),\r\n            currentYear = new Date().getFullYear()\r\n\r\n        let\r\n            { value } = e.target,\r\n            customTitle,\r\n            customMessage,\r\n            maxYear = currentYear - idadeMaxCad\r\n\r\n        //Se o veículo for reativado, o ano de fabricação de referência para cadastro é o da baixa automática, não a idadeMaxCad\r\n        if (situacao && situacao.match('Reativação'))\r\n            maxYear = currentYear - idadeBaixaAut\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n            case 'modeloChassi':\r\n                await this.checkValid(name, value, modelosChassi, 'modeloChassiId', 'modeloChassi', 'id', 'chassi')\r\n                getCMT(this)\r\n                this.setState({ pesoDianteiro: undefined, pesoTraseiro: undefined })\r\n                break\r\n            case 'modeloCarroceria':\r\n                this.checkValid(name, value, carrocerias, 'modeloCarroceriaId', 'modelo', 'id', 'carroceria')\r\n                break\r\n            case 'delegatarioCompartilhado':\r\n                this.checkValid(name, value, empresas, 'compartilhadoId', 'razaoSocial', 'codigoEmpresa')\r\n                break\r\n            case 'anoChassi':\r\n                customTitle = 'Ano de chassi inválido.'\r\n                if (chas && chas < maxYear - 1)\r\n                    customMessage = `O ano de fabricação do chassi informado é anterior à idade máxima permitida para cadastro.`\r\n                if ((carr && chas && (carr < chas || carr > chas + difIdade)))\r\n                    customMessage = 'O ano de chassi é incompatível com o ano da carroceria informado.'\r\n\r\n                if (customMessage) {\r\n                    this.setState({ anoChassi: '', openAlertDialog: true, customTitle, customMessage })\r\n                }\r\n                break\r\n            case 'anoCarroceria':\r\n                customTitle = 'Ano de carroceria inválido.'\r\n                if (carr && carr < maxYear)\r\n                    customMessage = `O ano de fabricação do carroceria informado é anterior à idade máxima permitida.`\r\n                if ((carr && chas && (carr < chas || carr > chas + difIdade)))\r\n                    customMessage = 'O ano de fabricação carroceria é incompatível com o ano do chassi informado.'\r\n\r\n                if (customMessage) {\r\n                    this.setState({ anoCarroceria: '', openAlertDialog: true, customTitle, customMessage })\r\n                }\r\n                break\r\n            case 'distanciaMinima':\r\n                let errorMsg\r\n                if (utilizacao)\r\n                    errorMsg = validateDist(utilizacao, distanciaMinima, distanciaPoltronas)\r\n                if (distanciaMinima && +distanciaMinima > +distanciaMaxima)\r\n                    errorMsg = 'A Distância mínima não pode ser superior à distância máxima.'\r\n                if (errorMsg)\r\n                    this.setState({\r\n                        openAlertDialog: true,\r\n                        customTitle: 'Distância mínima inválida.',\r\n                        customMessage: errorMsg,\r\n                        distanciaMinima: ''\r\n                    })\r\n                break\r\n            case 'distanciaMaxima': {\r\n                let errorMsg\r\n                if (utilizacao)\r\n                    errorMsg = validateDist(utilizacao, distanciaMaxima, distanciaPoltronas)\r\n                if (distanciaMaxima && +distanciaMaxima < +distanciaMinima)\r\n                    errorMsg = 'A Distância máxima não pode ser inferior à distância mínima.'\r\n                if (errorMsg)\r\n                    this.setState({\r\n                        openAlertDialog: true,\r\n                        customTitle: 'Distância máxima inválida.',\r\n                        customMessage: errorMsg,\r\n                        distanciaMaxima: ''\r\n                    })\r\n                break\r\n            }\r\n            case ('pesoDianteiro'):\r\n                checkWeight(this, name)\r\n                break\r\n            case 'pesoTraseiro':\r\n                checkWeight(this, name)\r\n                break\r\n            case 'poltronas':\r\n                checkWeight(this, name)\r\n                break\r\n            default: void 0\r\n        }\r\n\r\n        if (name === 'placa' && typeof this.state.frota !== 'string') {\r\n\r\n            if (value.length === 7) {\r\n                const x = value.replace(/(\\w{3})/, '$1-')\r\n                await this.setState({ placa: x, reactivated: false })\r\n                value = x\r\n            }\r\n            if (value.length === 8) {\r\n                const x = value.replace(' ', '-')\r\n                await this.setState({ placa: x, reactivated: false })\r\n                value = x\r\n            }\r\n            this.checkPlateConflict(value)\r\n        }\r\n    }\r\n\r\n    checkPlateConflict = async value => {\r\n        const\r\n            checkExistance = await axios.get(`/api/alreadyExists?table=veiculos&column=placa&value=${value}`),\r\n            placaMatch = checkExistance?.data,\r\n            vehicle = placaMatch?.vehicleFound\r\n\r\n        let customTitle, customMessage\r\n\r\n        if (placaMatch) {\r\n            const { status } = placaMatch\r\n            if (status === 'existing') {\r\n                if (vehicle?.situacao.match(/Cadastro|Reativação/g)) {\r\n                    customTitle = 'Solicitação aberta.'\r\n                    customMessage = 'Já existe uma solicitação de cadastro ou reativação para a placa informada. Para acompanhar, acesse \\'Solicitações\\' e filtre pela placa do veículo. '\r\n                }\r\n                else {\r\n                    customTitle = 'Veículo já cadastrado.'\r\n                    customMessage = 'A placa informada corresponde a um veículo já cadastrado. Para alterar o cadastro, vá para Veículos -> \\'Alteração de dados\\'.'\r\n                }\r\n                this.setState({ customTitle, customMessage, openAlertDialog: true, placa: null, reactivated: false })\r\n                value = ''\r\n                return\r\n            }\r\n            else if (vehicle['Situação'] === 'Reativado') {\r\n                let reactivatedVehicle = {}\r\n                for (let k in vehicle) {\r\n                    dischargedForm.forEach(({ field, label }) => {\r\n                        if (k === label && ['renavam', 'nChassi', 'anoChassi', 'anoCarroceria'].includes(field))\r\n                            reactivatedVehicle[field] = vehicle[k]\r\n                    })\r\n                }\r\n                reactivatedVehicle.situacao = \"Reativação solicitada\"\r\n                await this.setState({ ...reactivatedVehicle, reactivated: true })\r\n                return\r\n            }\r\n\r\n            else if (status === 'discharged') {\r\n                customTitle = 'Veículo baixado.'\r\n                customMessage = 'A placa informada corresponde a um veículo baixado. Para reativar seu cadastro, vá para Veículos -> Baixa -> \\'Gerenciar Veículos Baixados\\'.'\r\n                this.setState({ customTitle, customMessage, openAlertDialog: true, placa: null, reactivated: false })\r\n                value = ''\r\n            }\r\n        }\r\n    }\r\n\r\n    handleEquipa = async type => {\r\n\r\n        const collection = this.props.redux[type]\r\n        let\r\n            vEquip = [],\r\n            currentEquipa = []\r\n\r\n        await this.setState({ type })\r\n\r\n        //Só precisa pegar a lista e marcar check na hora de abrir o dialog.\r\n        if (this.state.addEquipa === false) {\r\n            if (this.state[type])\r\n                currentEquipa = this.state[type]\r\n\r\n            collection.forEach(({ item }) => {\r\n                currentEquipa.forEach(eq => {\r\n                    if (eq.toLowerCase() === item.toLowerCase())\r\n                        vEquip.push(item)\r\n                })\r\n            })\r\n            vEquip.forEach(ve => this.setState({ [ve]: true }))\r\n        }\r\n        this.setState({ addEquipa: !this.state.addEquipa })\r\n    }\r\n\r\n    handleCheck = async item => {\r\n        const\r\n            { type } = this.state,\r\n            collection = this.props.redux[type]\r\n\r\n        if (!collection) return\r\n\r\n        let arrayOfEquips = [], ids = [], stateKey\r\n\r\n        if (type === 'equipamentos') stateKey = 'equipamentosId'\r\n        if (type === 'acessibilidade') stateKey = 'acessibilidadeId'\r\n\r\n        await this.setState({ ...this.state, [item]: !this.state[item] })\r\n\r\n        collection.forEach(({ id, item }) => {\r\n            if (this.state[item] === true) {\r\n                arrayOfEquips.push(item)\r\n                ids.push(id)\r\n            }\r\n        })\r\n\r\n        if (arrayOfEquips[0]) this.setState({ [type]: arrayOfEquips, [stateKey]: ids })\r\n        else if (type === 'equipamentos') this.setState({ equipamentos: [], [stateKey]: [] })\r\n        else if (type === 'acessibilidade') this.setState({ acessibilidade: [], [stateKey]: [] })\r\n    }\r\n\r\n    handleCadastro = async approved => {\r\n        const\r\n            { equipamentosId, acessibilidadeId, pbt, compartilhadoId, modeloChassiId, originalVehicle, getUpdatedValues,\r\n                modeloCarroceriaId, selectedEmpresa, showPendencias, info, obs, form, demand, demandFiles, reactivated } = this.state,\r\n            { codigoEmpresa } = selectedEmpresa,\r\n            existingVeiculoId = demand?.veiculoId,\r\n            oldHistoryLength = demand?.history?.length || 0\r\n\r\n        let\r\n            veiculoId,\r\n            situacao = 'Cadastro solicitado'\r\n\r\n        //**********Prepare the request Object************* */\r\n        let review = {}\r\n        cadVehicleForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                for (let k in this.state) {\r\n                    if (k === obj.field && this.state[k] !== '')\r\n                        Object.assign(review, { [k]: this.state[k] })\r\n                }\r\n            })\r\n        })\r\n        //Retira campos desnecessários para o cadastro (joins de outras tabelas)\r\n        let { delegatarioCompartilhado, modeloChassi, modeloCarroceria, apolice, ...vReview } = review\r\n        //Adiciona campos que não estão no formulário ao objeto do request\r\n        Object.assign(vReview, {\r\n            codigoEmpresa, situacao, pbt, modeloChassiId, modeloCarroceriaId, obs,\r\n            equipamentosId, acessibilidadeId, apolice: 'Seguro não cadastrado'\r\n        })\r\n\r\n        //Elimina chaves com empty string\r\n        for (let k in vReview) {\r\n            if (vReview[k] === '')\r\n                delete vReview[k]\r\n        }\r\n        console.log(vReview)\r\n        vReview.compartilhadoId = compartilhadoId && compartilhadoId\r\n        //Save only real changes to the request Object (method from setDemand())\r\n        if (demand && originalVehicle)\r\n            vReview = getUpdatedValues(originalVehicle, vReview)\r\n\r\n        const vehicle = humps.decamelizeKeys(vReview)\r\n        console.log(vReview, '437')\r\n\r\n        //***************If it doesnt exist, post the new vehicle Object **************** */\r\n        if (!existingVeiculoId)\r\n            await axios.post('/api/cadastroVeiculo', vehicle)\r\n                .then(res => {\r\n                    veiculoId = res.data\r\n                })\r\n                .catch(err => console.log(err))\r\n\r\n        //***************Else, if it exists, get existing Id and update status******************* */\r\n        else {\r\n            veiculoId = existingVeiculoId\r\n\r\n            if (demand && approved && !showPendencias)\r\n                situacao = 'Seguro não cadastrado'\r\n            const\r\n                table = 'veiculos',\r\n                tablePK = 'veiculo_id',\r\n                requestObject = {\r\n                    ...vehicle,\r\n                    situacao\r\n                }\r\n            await axios.put('/api/updateVehicle', { requestObject, table, tablePK, id: veiculoId, codigoEmpresa }) //CodigoEmpresa para F5 sockets\r\n        }\r\n\r\n        //*****************Generate log ************** */\r\n        const log = {\r\n            empresaId: selectedEmpresa?.codigoEmpresa,\r\n            veiculoId,\r\n            history: {\r\n                info,\r\n                files: form,\r\n            },\r\n            metadata: { veiculoId },\r\n            demandFiles,\r\n            historyLength: oldHistoryLength,\r\n            approved\r\n        }\r\n\r\n        if (demand) log.id = demand?.id\r\n        if (reactivated) log.subject = 'Reativação de veículo'\r\n        logGenerator(log)\r\n            .then(r => console.log(r?.data))\r\n            .catch(err => console.log(err))\r\n\r\n        //*************Confirm send and clear State******************* */\r\n        if (!approved) {\r\n            let toastMsg = 'Solicitação de cadastro enviada.'\r\n            if (demand && demand.status.match('Aguardando'))\r\n                toastMsg = 'Pendências para o cadastro registradas.'\r\n            this.toast(toastMsg)\r\n        }\r\n        else\r\n            this.toast()\r\n\r\n        if (!demand)\r\n            this.resetState()\r\n        else\r\n            setTimeout(() => { this.props.history.push('/solicitacoes') }, 1500)\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n            await this.setState({ [name]: files[0] })\r\n\r\n            const newState = handleFiles(files, this.state, cadVehicleFiles)\r\n            this.setState({ ...newState, fileToRemove: null })\r\n        }\r\n    }\r\n\r\n    removeFile = async (name) => {\r\n        const\r\n            { form } = this.state,\r\n            newState = removeFile(name, form)\r\n\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n\r\n    resetState = () => {\r\n        const\r\n            { empresas, veiculos, equipamentos, acessibilidade } = this.props.redux,\r\n            equip = equipamentos.concat(acessibilidade),\r\n            resetEquips = { acessibilidade: [], acessibilidadeId: [], equipamentos: [], equipamentosId: [] }\r\n        let\r\n            resetFiles = {},\r\n            empresaDetails = {}\r\n\r\n        cadVehicleForm.forEach(form => form.forEach(el => this.setState({ [el.field]: '' })))\r\n        cadVehicleFiles.forEach(({ name }) => { Object.assign(resetFiles, { [name]: undefined }) })\r\n\r\n        //Limpa os check de todos os equipamento\r\n        equip.forEach(e => this.setState({ [e.item]: false }))\r\n\r\n        //Se o usuário só tiver uma empresa, manter os dados da empresa após resetState\r\n        if (empresas && empresas.length === 1)\r\n            empresaDetails = { selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos }\r\n\r\n        this.setState({ ...resetFiles, ...resetEquips, ...equip, form: undefined, info: undefined, activeStep: 0, ...empresaDetails, })\r\n    }\r\n\r\n    closeEquipa = () => this.setState({ addEquipa: false })\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    toggleDialog = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    removePartilha = () => this.setState({ compartilhado: undefined })\r\n    toast = toastMsg => this.setState({ confirmToast: !this.state.confirmToast, toastMsg: toastMsg ? toastMsg : this.state.toastMsg })\r\n\r\n    render() {\r\n        const\r\n            { confirmToast, toastMsg, activeStep, openAlertDialog, alertType, steps, selectedEmpresa, dropDisplay, form,\r\n                demand, demandFiles, showPendencias, info, resetShared, customMessage, customTitle, obs } = this.state,\r\n\r\n            { redux } = this.props\r\n\r\n        return <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Cadastro de veículo' demand={demand} selectedEmpresa={selectedEmpresa} />\r\n\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <CadVeiculoTemplate\r\n                data={this.state}\r\n                redux={redux}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                handleEquipa={this.handleEquipa}\r\n                handleCheck={this.handleCheck}\r\n                closeEquipa={this.closeEquipa}\r\n                match={this.props.match}\r\n                resetShared={resetShared}\r\n                removePartilha={this.removePartilha}\r\n            />\r\n            {activeStep === 2 && <VehicleDocs\r\n                parentComponent='cadastro'\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n                handleFiles={this.handleFiles}\r\n                demandFiles={demandFiles}\r\n                fileToRemove={this.state.fileToRemove}\r\n                removeFile={this.removeFile}\r\n            />}\r\n\r\n            {activeStep === 3 && <Review\r\n                parentComponent='cadastro'\r\n                data={this.state}\r\n                files={this.state.form}\r\n                filesForm={cadVehicleFiles}\r\n                form={cadVehicleForm}\r\n            />}\r\n\r\n            {selectedEmpresa && <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                setActiveStep={this.setActiveStep}\r\n                demand={demand}\r\n                setShowPendencias={this.setShowPendencias}\r\n                showPendencias={showPendencias}\r\n                info={info}\r\n                handleSubmit={this.handleCadastro}\r\n                handleInput={this.handleInput}\r\n                addObs={demand && !showPendencias}  //Se tiver na aprovação, o campo info vira obs para registrar obs do veículo.\r\n                obs={obs}\r\n            //disabled={(typeof placa !== 'string' || placa === '')}\r\n            />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.toggleDialog} alertType={alertType} customMessage={customMessage} customTitle={customTitle} />}\r\n        </Fragment>\r\n    }\r\n}\r\nconst collections = ['veiculos', 'empresas', 'compartilhados', 'modelosChassi', 'carrocerias', 'equipamentos', 'acessibilidade', 'getFiles/vehicleDocs', 'parametros']\r\n\r\nexport default StoreHOC(collections, VeiculosContainer)","import { logRoutesConfig } from '../Solicitacoes/logRoutesConfig'\r\n\r\nexport const checkDemand = (id, logsCollection) => {\r\n\r\n    const path = window.location.pathname\r\n\r\n    logRoutesConfig.forEach((el, i) => el.path = logRoutesConfig[i].path.replace('/veiculos', '').replace('/solicitacoes', '').replace('/empresas', ''))\r\n\r\n    const\r\n        component = logRoutesConfig.find(c => path.match(c?.path)),\r\n        subject = component?.subject,\r\n        primaryKey = component?.primaryKey,\r\n        // eslint-disable-next-line eqeqeq\r\n        exists = logsCollection.find(log => log.subject === subject && log[primaryKey] == id && log.completed === false)\r\n\r\n    if (exists)\r\n        return exists\r\n    else\r\n        return false\r\n}","import { altFormVistoria } from './altFormVistoria'\r\n\r\nexport const altForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    datalist: 'placa',\r\n    autoComplete: true,\r\n    collection: 'frota',\r\n},\r\n{\r\n    field: 'delegatario',\r\n    label: 'Delegatário',\r\n    margin: 'normal',\r\n    datalist: 'razaoSocial',\r\n    autoComplete: true,\r\n    collection: 'empresas'\r\n},\r\n{\r\n    field: 'compartilhado',\r\n    label: 'Delegatário Compartilhado',\r\n    margin: 'normal',\r\n    datalist: 'razaoSocial',\r\n    autoComplete: true,\r\n    collection: 'empresas'\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilização',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Comercial', 'Comercial Executivo', 'Convencional', 'Convencional Executivo', 'Leito', 'Leito e Executivo', 'Semi-Leito', 'Semi-Leito Executivo']\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situação da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veículo próprio', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Número do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17,\r\n    disabled: true\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    disabled: true\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    disabled: true\r\n},\r\n\r\n]]\r\n    .concat([altFormVistoria])\r\n    .concat([[]])\r\n    .concat([[]])","export const altFormVistoria = [\r\n    {\r\n        field: 'poltronas',\r\n        label: 'Poltronas',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 120\r\n    },\r\n    {\r\n        field: 'piquesPoltrona',\r\n        label: 'Piques poltrona',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'distanciaMinima',\r\n        label: 'Distância Mínima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    },\r\n    {\r\n        field: 'distanciaMaxima',\r\n        label: 'Distância Máxima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    },\r\n    {\r\n        field: 'eixos',\r\n        label: 'Eixos',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 8\r\n    },\r\n    {\r\n        field: 'pneumaticosDianteiro',\r\n        label: 'Pneumáticos Eixo Dianteiro',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'pneumaticosTraseiro',\r\n        label: 'Pneumáticos Eixo Traseiro',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 18\r\n    },\r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12000\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 15000\r\n    },\r\n    {\r\n        field: 'cilindros',\r\n        label: 'Cilindros',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12,\r\n        step: 1,\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'potencia',\r\n        label: 'Potência (cv)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 600,\r\n        disabled: true\r\n    },\r\n]","import React from 'react'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AddEquipa from './AddEquipa'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { altForm } from '../Forms/altForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    button: {\r\n        marginRight: '15px'\r\n    }\r\n}))\r\n\r\nexport default function ({ handleInput, handleBlur, data, handleCheck, handleEquipa, altPlacaOption, showAltPlaca, empresas, compartilhados, equipamentos, acessibilidade, close }) {\r\n\r\n    const\r\n        { activeStep, subtitle, placa, selectedEmpresa, addEquipa, demand, type } = data,\r\n        classes = useStyles(), { button } = classes,\r\n        form = altForm[activeStep]\r\n\r\n    let eqCollection = equipamentos\r\n    if (type === 'acessibilidade') eqCollection = acessibilidade\r\n\r\n    return (\r\n        <div className='flex center'>\r\n            <header className='flex center' style={{ marginBottom: '10px', width: '100%' }}>\r\n                <SelectEmpresa\r\n                    data={data}\r\n                    empresas={empresas}\r\n                    compartilhados={compartilhados}\r\n                    headerTitle={selectedEmpresa && `Alteração de dados ${placa || ''} - ${selectedEmpresa?.razaoSocial}`}\r\n                    handleInput={handleInput}\r\n                    handleBlur={handleBlur}\r\n                />\r\n            </header>\r\n            {\r\n                selectedEmpresa &&\r\n                <main>\r\n                    {activeStep < 2 &&\r\n                        <section className='paper'>\r\n                            <FormSubtiltle subtitle={subtitle[activeStep]} />\r\n                            <TextInput\r\n                                form={form}\r\n                                data={data}\r\n                                empresas={empresas}\r\n                                compartilhados={compartilhados}\r\n                                handleBlur={handleBlur}\r\n                                handleInput={handleInput}\r\n                                disableSome={demand ? ['placa', 'delegatario'] : ['delegatario']}\r\n                            />\r\n                        </section>}\r\n\r\n                    {activeStep === 0 &&\r\n                        <section className=\"flex center\">\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                color=\"primary\"\r\n                                className={button}\r\n                                onClick={() => handleEquipa('equipamentos')}\r\n                            >\r\n                                <AddIcon />\r\n                                        Equipamentos\r\n                                    </Button>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                color=\"primary\"\r\n                                className={button}\r\n                                onClick={() => handleEquipa('acessibilidade')}\r\n                            >\r\n                                <AddIcon />\r\n                                        Acessibilidade\r\n                            </Button>\r\n                        </section>}\r\n\r\n                    {altPlacaOption && placa.match('[a-zA-Z]{3}[-]?\\\\d{4}') &&\r\n                        <div className='addNewDiv'>\r\n                            <span onClick={() => showAltPlaca()}> → Clique aqui para alterar a placa para o formato Mercosul.</span>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        addEquipa && <AddEquipa\r\n                            type={type}\r\n                            equipamentos={eqCollection}\r\n                            close={close}\r\n                            handleCheck={handleCheck}\r\n                            data={data} />\r\n                    }\r\n                </main>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport DragAndDrop from './DragAndDrop'\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog({ open, close, title, header, inputNames, inputLabels, fileInputName, confirm, handleInput, handleFiles,\r\n  values, formData, dropDisplay, type = 'text' }) {\r\n\r\n  let disabled = true\r\n  const errorHandler = (inputName, value) => {\r\n    if (inputName === 'newPlate') {\r\n      if (value.length < 9 && value.match('[a-zA-Z]{3}?[-]\\\\d{1}\\\\w{1}\\\\d{2}')) {\r\n        disabled = false\r\n        return false\r\n      }\r\n      else {\r\n        disabled = true\r\n        return true\r\n      }\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <Dialog open={open} onClose={close} aria-labelledby=\"form-dialog-title\">\r\n      <DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          {header}\r\n        </DialogContentText>\r\n        <br />\r\n        {\r\n          inputNames.map((inputName, i) => (\r\n            <TextField\r\n              key={i}\r\n              autoFocus={inputName === 'newPlate' && true}\r\n              name={inputName}\r\n              label={inputLabels[i]}\r\n              onChange={handleInput}\r\n              values={values[i]}\r\n              type={type}\r\n              error={errorHandler(inputName, values[i])}\r\n              fullWidth\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n          ))}\r\n        <br /><br />\r\n        <DragAndDrop\r\n          title='Anexar arquivo'\r\n          name={fileInputName}\r\n          formData={formData}\r\n          dropDisplay={dropDisplay}\r\n          handleFiles={handleFiles}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={close} color=\"primary\">\r\n          Cancelar\r\n              </Button>\r\n        <Button onClick={confirm} color=\"primary\" disabled={disabled}>\r\n          Confirmar\r\n              </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkDemand } from '../Utils/checkDemand'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport { altDadosFiles } from '../Forms/altDadosFiles'\r\nimport { altForm } from '../Forms/altForm'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { setDemand } from '../Utils/setDemand'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport CustomStepper from '../Reusable Components/Stepper'\r\n\r\nimport AltDadosTemplate from './AltDadosTemplate'\r\nimport VehicleDocs from './VehicleDocs'\r\nimport Review from './VehicleReview'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\n\r\nimport FormDialog from '../Reusable Components/FormDialog'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport { handleFiles, removeFile } from '../Utils/handleFiles'\r\nimport validateDist from '../Utils/validaDistanciaMinima'\r\nimport checkWeight from './checkWeight'\r\n\r\n\r\nclass AltDados extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.closeEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        stepTitles: ['Informe a placa para alterar os dados abaixo ou mantenha as informações atuais e clique em avançar',\r\n            'Altere os dados desejados abaixo e clique em avançar', 'Anexe os documentos solicitados',\r\n            'Revisão das informações e deferimento'],\r\n        steps: ['Alterar dados do Veículo', 'Alterar dados adicionais', 'Documentos', 'Revisão'],\r\n\r\n        subtitle: ['Informe os dados do veículo.', 'Informações adicionais',\r\n            'Anexe os arquivos solicitados', 'Revisão'],\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        compartilhadoId: '',\r\n        frota: [],\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        activeStep: 0,\r\n        files: [],\r\n        openAlertDialog: false,\r\n        altPlaca: false,\r\n        newPlate: '',\r\n        placa: '',\r\n        addEquipa: false,\r\n        dropDisplay: 'Clique ou arraste para anexar',\r\n        showPendencias: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const\r\n            { redux } = this.props,\r\n            { equipamentos, acessibilidade, empresas, veiculos } = redux,\r\n            demand = this.props?.location?.state?.demand\r\n\r\n        if (empresas && empresas.length === 1)\r\n            this.setState({ selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos })\r\n\r\n        if (demand) {\r\n            const\r\n                demandState = setDemand(demand, redux),\r\n                { originalVehicle, getUpdatedValues, alteracoes, compartilhadoId } = demandState\r\n            console.log(\"🚀 ~ file: AltDados.jsx ~ line 79 ~ AltDados ~ componentDidMount ~ demandState\", demandState)\r\n\r\n            //altera o objeto alteracoes por referência para destacar apenas os campos alterados ao abrir a demanda\r\n            getUpdatedValues(originalVehicle, alteracoes)\r\n\r\n            //Se uma das alterações foi apagar o delegatário compartilhado, remove prop \"compartilhado\" para não renderizar na tela\r\n            if (compartilhadoId === 'NULL')\r\n                demandState.compartilhado = ''\r\n\r\n            this.setState({ ...demandState, activeStep: 3 })\r\n        }\r\n\r\n        //*********Create state[key] for each equipamentos/acessibilidade and turn them to false before a vehicle is selected *********/\r\n        let\r\n            allEqs = {},\r\n            allAcs = {}\r\n\r\n        equipamentos.forEach(e => Object.assign(allEqs, { [e?.item]: false }))\r\n        acessibilidade.forEach(e => Object.assign(allAcs, { [e?.item]: false }))\r\n\r\n        await this.setState({ ...allEqs, ...allAcs })\r\n\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { veiculos, empresas, equipamentos } = this.props.redux,\r\n            { name, value } = e.target\r\n\r\n        if (name === 'razaoSocial') {\r\n            let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n\r\n                this.setState({ frota })\r\n\r\n            } else {\r\n                this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                this.reset()\r\n            }\r\n        }\r\n\r\n        if (name === 'placa' && this.state.frota) {\r\n            const vehicle = this.state.frota.find(v => v.placa === value)\r\n            if (!vehicle) equipamentos.forEach(e => this.setState({ [e]: false }))\r\n        }\r\n        if (name === 'utilizacao')\r\n            this.setState({ distanciaMinima: undefined, distanciaMaxima: undefined })\r\n\r\n        if (name === 'newPlate') {\r\n            let newPlate = value\r\n            if (typeof newPlate === 'string') {\r\n                newPlate = newPlate.replace(/[a-z]/g, l => l.toUpperCase())\r\n                if (newPlate.match('[A-Z]{3}[0-9]{1}[A-Z]{1}[0-9]{2}')) newPlate = newPlate.replace(/(\\w{3})/, '$1-')\r\n                this.setState({ ...this.state, newPlate })\r\n            }\r\n        }\r\n        else\r\n            this.setState({ [name]: value })\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            this.setState({ openAlertDialog: true, alertType: 'empresaNotFound' })\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    capitalize = (field, value) => {\r\n        if (!value || typeof value !== 'string') return\r\n        if (field === 'utilizacao') {\r\n            if (value === 'RODOVIARIO') value = 'Convencional'\r\n            if (value === 'EXECUTIVO') value = 'Convencional Executivo'\r\n            if (value === 'URBANO') value = 'Comercial'\r\n            if (value === 'URBANO EXECUTIVO') value = 'Comercial Executivo'\r\n            if (value === 'SEMI LEITO') value = 'Semi-Leito'\r\n            if (value === 'SEMI LEITO - EXECUTIVO') value = 'Semi-Leito Executivo'\r\n            if (value === 'LEITO') value = 'Leito'\r\n            if (value === 'LEITO E EXECUTIVO') value = 'Leito e Executivo'\r\n        }\r\n        if (field === 'dominio' && value === 'Sim') value = 'Veículo próprio'\r\n        if (field === 'dominio' && value === 'Não') value = 'Possuidor'\r\n\r\n        return value\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const\r\n            { empresas, compartilhados, logs, equipamentos, acessibilidade, parametros } = this.props.redux,\r\n            { distanciaPoltronas } = parametros[0],\r\n            { frota, demand, utilizacao, distanciaMinima, distanciaMaxima } = this.state,\r\n            { name } = e.target\r\n\r\n        let\r\n            { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n\r\n            case 'compartilhado':\r\n                this.getId(name, value, compartilhados, 'compartilhadoId', 'razaoSocial', 'codigoEmpresa')\r\n                break\r\n            case 'delegatario':\r\n                await this.getId(name, value, empresas, 'codigoEmpresa', 'razaoSocial', 'codigoEmpresa')\r\n                break\r\n            case 'distanciaMinima':\r\n                let errorMsg\r\n                if (utilizacao)\r\n                    errorMsg = validateDist(utilizacao, distanciaMinima, distanciaPoltronas)\r\n                if (distanciaMinima && distanciaMaxima && +distanciaMinima > +distanciaMaxima)\r\n                    errorMsg = 'A Distância mínima não pode ser superior à distância máxima.'\r\n                if (errorMsg)\r\n                    this.setState({\r\n                        openAlertDialog: true,\r\n                        customTitle: 'Distância mínima inválida.',\r\n                        customMessage: errorMsg,\r\n                        distanciaMinima: ''\r\n                    })\r\n                break\r\n            case 'distanciaMaxima': {\r\n                let errorMsg\r\n                if (utilizacao)\r\n                    errorMsg = validateDist(utilizacao, distanciaMaxima, distanciaPoltronas)\r\n                if (distanciaMaxima && distanciaMinima && +distanciaMaxima < +distanciaMinima)\r\n                    errorMsg = 'A Distância máxima não pode ser inferior à distância mínima.'\r\n                if (errorMsg)\r\n                    this.setState({\r\n                        openAlertDialog: true,\r\n                        customTitle: 'Distância máxima inválida.',\r\n                        customMessage: errorMsg,\r\n                        distanciaMaxima: ''\r\n                    })\r\n                break\r\n            }\r\n            case ('pesoDianteiro'):\r\n                checkWeight(this, name)\r\n                break\r\n            case 'pesoTraseiro':\r\n                checkWeight(this, name)\r\n                break\r\n            case 'poltronas':\r\n                checkWeight(this, name)\r\n                break\r\n            default:\r\n                void 0\r\n        }\r\n        if (name === 'placa' && value.length > 2 && Array.isArray(this.state.frota)) {\r\n\r\n            let vehicle = this.state.frota.find(v => {\r\n                if (typeof value === 'string') return v.placa.toLowerCase().match(value.toLowerCase())\r\n                else return v.placa.match(value)\r\n            })\r\n\r\n            if (vehicle && typeof vehicle === 'object') {\r\n\r\n                let\r\n                    utilizacao = this.capitalize('utilizacao', vehicle?.utilizacao) || null,\r\n                    dominio = this.capitalize('dominio', vehicle?.dominio) || null,\r\n                    resetEquips = {}\r\n\r\n                //Every time a new vehicle is selected, clear the equips/acessibilidade. Method this.setEquipa() will set it back.\r\n                const allEquips = equipamentos.concat(acessibilidade)\r\n                allEquips.forEach(({ item }) => Object.assign(resetEquips, { [item]: false }))\r\n\r\n                //Add few mor properties to vehicle and preserve vehicle before changes.\r\n                vehicle = Object.assign({}, vehicle, { utilizacao, dominio })\r\n                const originalVehicle = Object.freeze(vehicle)\r\n\r\n                //setState()\r\n                await this.setState({ ...resetEquips, ...vehicle, originalVehicle, disable: true })\r\n\r\n                if (vehicle !== undefined && vehicle.hasOwnProperty('empresa')) this.setState({ delegatario: vehicle.empresa })\r\n\r\n                if (!demand) {\r\n                    const customTitle = 'Solicitação já cadastrada',\r\n                        customMessage = `Já existe uma demanda aberta para o veículo de placa ${vehicle.placa}. Para acessá-la, clique em \"Solicitações\" no menu superior.`\r\n\r\n                    const demandExists = checkDemand(vehicle?.veiculoId, logs)\r\n                    if (demandExists) {\r\n                        await this.setState({ customTitle, customMessage, openAlertDialog: true, delegatario: '' })\r\n                        this.reset()\r\n                        return\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.state.placa !== '' && !vehicle) {\r\n                let reset = {}\r\n                if (frota[0]) Object.keys(frota[0]).forEach(k => reset[k] = '')\r\n                this.setState({ alertType: 'plateNotFound', openAlertDialog: true })\r\n                this.setState({ ...reset, disable: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    handleEquipa = type => {\r\n        const collection = this.props.redux[type]\r\n        let vEquip = [], currentEquipa = []\r\n\r\n        if (this.state.addEquipa === false) {\r\n\r\n            if (this.state[type]) currentEquipa = this.state[type]\r\n\r\n            collection.forEach(({ item }) => {\r\n                currentEquipa.forEach(ce => {\r\n                    if (ce.toLowerCase() === item.toLowerCase()) vEquip.push(item)\r\n                })\r\n            })\r\n\r\n            vEquip.forEach(ve => this.setState({ [ve]: true }))\r\n            console.log(this.state)\r\n        }\r\n        this.setState({ addEquipa: !this.state.addEquipa, type })\r\n    }\r\n\r\n    handleCheck = async (item, type) => {\r\n        const collection = this.props.redux[type]\r\n\r\n        if (!collection) return\r\n\r\n        let array = [], ids = [], stateKey\r\n\r\n        if (type === 'equipamentos') stateKey = 'equipamentosId'\r\n        if (type === 'acessibilidade') stateKey = 'acessibilidadeId'\r\n\r\n        await this.setState({ ...this.state, [item]: !this.state[item] })\r\n\r\n        collection.forEach(({ id, item }) => {\r\n            if (this.state[item] === true) {\r\n                array.push(item)\r\n                ids.push(id)\r\n            }\r\n        })\r\n\r\n        if (array[0]) this.setState({ [type]: array, [stateKey]: ids })\r\n        else if (type === 'equipamentos') this.setState({ equipamentos: [], [stateKey]: [] })\r\n        else if (type === 'acessibilidade') this.setState({ acessibilidade: [], [stateKey]: [] })\r\n    }\r\n\r\n    showAltPlaca = () => {\r\n        const title = 'Alteração de placa',\r\n            header = 'Para alterar a placa do veículo para o padrão Mercosul, digite a placa no campo abaixo e anexe o CRLV atualizado do veículo.'\r\n        this.setState({ altPlaca: true, title, header })\r\n    }\r\n\r\n    updatePlate = () => {\r\n        this.setState({ placa: this.state.newPlate })\r\n        this.toggleDialog()\r\n    }\r\n\r\n    handleSubmit = async (approved) => {\r\n        const\r\n            { veiculoId, pbt, codigoEmpresa, originalVehicle, showPendencias, getUpdatedValues,\r\n                compartilhadoId, newPlate, selectedEmpresa, equipamentosId, acessibilidadeId, info, demand, form, demandFiles } = this.state,\r\n\r\n            oldHistoryLength = demand?.history?.length || 0\r\n\r\n        //****************************Prepare the request Object*******************************\r\n        let tempObj = {}\r\n        altForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                for (let k in this.state) {\r\n                    if (k === obj.field && !obj.disabled) {\r\n                        if (this.state[k]) Object.assign(tempObj, { [k]: this.state[k] })\r\n                    }\r\n                }\r\n            })\r\n        })\r\n        tempObj = Object.assign(tempObj, { codigoEmpresa, compartilhadoId, pbt, equipamentosId, acessibilidadeId })\r\n\r\n        if (demand && getUpdatedValues)\r\n            tempObj = getUpdatedValues(originalVehicle, tempObj)  //Save only real changes to the request Object (method from setDemand())\r\n\r\n        let { delegatario, compartilhado, ...camelizedRequest } = tempObj //remove invalid fields for update\r\n\r\n        if (newPlate && newPlate !== '')\r\n            camelizedRequest.placa = newPlate\r\n\r\n        //Se existia um delegatário compartilhado e a alteração é de apagar a relação de compartilhamento, deletar o delCompartilhado\r\n        if ((!this.state.compartilhado || this.state.compartilhado === '') && originalVehicle?.compartilhadoId)\r\n            camelizedRequest.compartilhadoId = 'NULL'\r\n\r\n        if (!approved && Object.keys(camelizedRequest).length === 0) {\r\n            this.setState({ openAlertDialog: true, customTitle: 'Nenhuma alteração', customMessage: 'Não foi realizada nenhuma alteração na solicitação aberta. Para prosseguir, altere algum dos campos ou adicione uma justificativa.' })\r\n            return\r\n        }\r\n        const requestObject = humps.decamelizeKeys(camelizedRequest)\r\n\r\n        //******************GenerateLog********************** */\r\n        let\r\n            history = {\r\n                alteracoes: camelizedRequest,\r\n                info,\r\n                files: form,\r\n            },\r\n            log = {\r\n                empresaId: selectedEmpresa?.codigoEmpresa,\r\n                veiculoId,\r\n                history,\r\n                demandFiles,\r\n                metadata: { veiculoId },\r\n                historyLength: oldHistoryLength,\r\n                approved\r\n            }\r\n        if (demand) log.id = demand?.id\r\n\r\n        logGenerator(log)\r\n            .then(r => console.log(r?.data))\r\n            .catch(err => console.log(err))\r\n\r\n        //*********************if approved, putRequest to update DB  ********************** */\r\n        if (demand && approved && !showPendencias) {\r\n            if (selectedEmpresa.codigoEmpresa !== codigoEmpresa) requestObject.apolice = 'Seguro não cadastrado'\r\n\r\n            const\r\n                table = 'veiculos',\r\n                tablePK = 'veiculo_id'\r\n\r\n            await axios.put('/api/updateVehicle', { requestObject, table, tablePK, id: veiculoId, codigoEmpresa }) //CodigoEmpresa para F5 sockets\r\n        }\r\n\r\n        //******************Clear the state ********************** */\r\n        if (!approved) {\r\n            let toastMsg = 'Solicitação de alteração de dados enviada.'\r\n            if (demand && demand.status.match('Aguardando'))\r\n                toastMsg = 'Pendências para a alteração de dados registradas.'\r\n            this.toast(toastMsg)\r\n        }\r\n        else\r\n            this.toast()\r\n\r\n        if (!demand)\r\n            setTimeout(() => { this.reset() }, 1200);\r\n        else\r\n            setTimeout(() => { this.props.history.push('/solicitacoes') }, 1500)\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n            await this.setState({ [name]: files[0] })\r\n\r\n            const newState = handleFiles(files, this.state, altDadosFiles)\r\n            this.setState({ ...newState, fileToRemove: null })\r\n        }\r\n    }\r\n\r\n    removeFile = async (name) => {\r\n        const\r\n            { form } = this.state,\r\n            newState = removeFile(name, form)\r\n\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    toggleDialog = () => this.setState({ altPlaca: !this.state.altPlaca })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    closeEquipa = () => this.setState({ addEquipa: false })\r\n    toast = toastMsg => this.setState({ confirmToast: !this.state.confirmToast, toastMsg: toastMsg ? toastMsg : this.state.toastMsg })\r\n\r\n    reset = () => {\r\n        const\r\n            { empresas, veiculos, equipamentos, acessibilidade } = this.props.redux,\r\n            equip = equipamentos.concat(acessibilidade),\r\n            resetEquips = { acessibilidade: [], acessibilidadeId: [], equipamentos: [], equipamentosId: [] }\r\n        let\r\n            resetFiles = {},\r\n            empresaDetails = {}\r\n\r\n        altForm.forEach(form => form.forEach(el => this.setState({ [el.field]: '' })))\r\n        altDadosFiles.forEach(({ name }) => { Object.assign(resetFiles, { [name]: undefined }) })\r\n\r\n        //Limpa os check de todos os equipamento\r\n        equip.forEach(e => this.setState({ [e.item]: false }))\r\n\r\n        //Se o usuário só tiver uma empresa, manter os dados da empresa após resetState\r\n        if (empresas && empresas.length === 1)\r\n            empresaDetails = { selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos }\r\n\r\n        this.setState({ ...resetFiles, ...resetEquips, ...equip, form: undefined, info: undefined, activeStep: 0, ...empresaDetails, })\r\n    }\r\n\r\n    render() {\r\n\r\n        const\r\n            { empresas, compartilhados, equipamentos, acessibilidade } = this.props.redux,\r\n\r\n            { confirmToast, toastMsg, stepTitles, activeStep, steps, altPlaca, selectedEmpresa, openAlertDialog, alertType, customTitle, customMessage,\r\n                dropDisplay, form, title, header, newPlate, demand, showPendencias, info, demandFiles } = this.state\r\n\r\n        return <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Alteração de dados' demand={demand} />\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                stepTitles={stepTitles}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <AltDadosTemplate\r\n                data={this.state}\r\n                empresas={empresas}\r\n                compartilhados={compartilhados}\r\n                equipamentos={equipamentos}\r\n                acessibilidade={acessibilidade}\r\n                setActiveStep={this.setActiveStep}\r\n                altPlacaOption={activeStep === 0}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                showAltPlaca={this.showAltPlaca}\r\n                handleEquipa={this.handleEquipa}\r\n                handleCheck={this.handleCheck}\r\n                close={this.closeEquipa}\r\n            />\r\n            {activeStep === 2 && <VehicleDocs\r\n                parentComponent='altDados'\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n                handleFiles={this.handleFiles}\r\n                demandFiles={demandFiles}\r\n                fileToRemove={this.state.fileToRemove}\r\n                removeFile={this.removeFile}\r\n            />}\r\n            {activeStep === 3 && <Review\r\n                parentComponent='altDados'\r\n                data={this.state}\r\n                form={altForm}\r\n                files={this.state.form}\r\n                filesForm={altDadosFiles}\r\n            />}\r\n            {selectedEmpresa && <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleSubmit}\r\n                setActiveStep={this.setActiveStep}\r\n                showPendencias={showPendencias}\r\n                setShowPendencias={this.setShowPendencias}\r\n                info={info}\r\n                handleInput={this.handleInput}\r\n                demand={demand}\r\n            />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            <FormDialog\r\n                open={altPlaca}\r\n                close={this.toggleDialog}\r\n                title={title}\r\n                header={header}\r\n                inputNames={['newPlate']}\r\n                inputLabels={['Alterar Placa']}\r\n                fileInputName='newPlateDoc'\r\n                values={[newPlate]}\r\n                handleInput={this.handleInput}\r\n                handleFiles={this.handleFiles}\r\n                confirm={this.updatePlate}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n            />\r\n            {openAlertDialog &&\r\n                <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={customMessage} customTitle={customTitle} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'compartilhados', 'equipamentos', 'acessibilidade', 'getFiles/vehicleDocs', 'parametros'];\r\n\r\nexport default StoreHOC(collections, AltDados)","export const seguroForm = [\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',        \r\n        autoComplete: true,\r\n        datalist: 'seguradora',\r\n        collection: 'seguradoras',\r\n        width: 225\r\n    },\r\n    {       \r\n        field: 'apolice',\r\n        label: 'Apólice',        \r\n        autoComplete: true,\r\n        datalist: 'apolice',\r\n        collection: 'seguros',\r\n        maxLength: 25,\r\n        width: 225\r\n    },    \r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Início da vigência',\r\n        width: 225\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',\r\n        width: 225\r\n    }]","export const empresaFiles = [\r\n    { title: 'Contrato Social', name: 'contratoSocial' },\r\n    { title: 'Procuração', name: 'procuracao' },\r\n    { title: 'Apólice', name: 'apoliceDoc' },\r\n    { title: 'Alteração de contrato social', name: 'altContratoDoc' },\r\n    { title: 'CRC', name: 'crc' }\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Chip from '@material-ui/core/Chip'\r\n\r\nimport Add from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Search from '@material-ui/icons/Search'\r\n\r\nimport { seguroForm } from '../Forms/seguroForm'\r\nimport './veiculos.scss'\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: '25%',\r\n        minWidth: 310,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n}))\r\n\r\nexport default function SegurosTemplate({ empresas, data, seguros, seguradoras, enableAddPlaca, handleInput, handleBlur,\r\n    addPlate, removeFromInsurance, handleFiles, handleSubmit, enableChangeApolice, showAllPlates, removeFile, setShowPendencias }) {\r\n\r\n    const { selectedEmpresa, placa, apolice, addedPlaca, allVehicles, frota, demandFiles, fileToRemove, demand, insurance, dropDisplay, apoliceDoc,\r\n        showPendencias, info, renderedPlacas } = data\r\n\r\n    data.seguradoras = seguradoras\r\n    //data.seguros = seguros\r\n\r\n    const classes = useStyles(), { textField } = classes\r\n\r\n    const getOwner = ({ compartilhado, outsider, irregular, delCompartilhado, owner }, e) => {\r\n\r\n        e.target.title = 'Veículo próprio'\r\n        if (compartilhado)\r\n            e.target.title = `Veículo próprio. Compartilhado por: ${delCompartilhado}`\r\n        if (outsider)\r\n            e.target.title = `Autorizado compartilhamento. Proprietário: ${owner}`\r\n        if (irregular)\r\n            e.target.title = `NÃO autorizado compartilhamento! Proprietário: ${owner}`\r\n    }\r\n\r\n    const insuranceExists = seguros.some(s => s.apolice === apolice)\r\n    return (\r\n        <Fragment>\r\n            <div style={{ width: '100%', display: 'flex', flexDirection: 'column' }}>\r\n                <Crumbs links={['Veículos', '/veiculos']} text='Seguros' demand={demand} />\r\n                <SelectEmpresa\r\n                    data={data}\r\n                    empresas={empresas}\r\n                    handleInput={handleInput}\r\n                    handleBlur={handleBlur}\r\n                />\r\n                {selectedEmpresa &&\r\n                    <section className=\"paper\">\r\n                        <FormSubtiltle subtitle='Informe os dados do seguro.' />\r\n                        <TextInput\r\n                            form={seguroForm}\r\n                            data={data}\r\n                            handleBlur={handleBlur}\r\n                            handleInput={handleInput}\r\n                        />\r\n                        {insuranceExists &&\r\n                            <div className='addNewDiv'>\r\n                                <span onClick={() => enableChangeApolice()}> → Clique aqui para adicionar nova apólice mantendo as placas abaixo selecionadas.</span>\r\n                            </div>\r\n                        }\r\n                    </section>\r\n                }\r\n                {\r\n                    selectedEmpresa && enableAddPlaca &&\r\n                    <main className='paper' style={{ textAlign: 'center', color: '#555' }}>\r\n                        <p>Utilize as opções abaixo para filtrar, adicionar ou excluir placas desta apólice</p>\r\n                        <section className='flex spaceBetween' style={{ paddingTop: '17px' }}>\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        name: 'addedPlaca',\r\n                                        list: 'placa'\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        style: { fontSize: '0.8rem' }\r\n                                    }}\r\n                                    label='Insira a placa'\r\n                                    className={textField}\r\n                                    value={addedPlaca}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={allVehicles}\r\n                                    datalist='placa'\r\n                                    value={addedPlaca}\r\n                                />\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    variant=\"contained\"\r\n                                    className={classes.button}\r\n                                    style={{ margin: '10px 0 10px 0' }}\r\n                                    onClick={() => addPlate(addedPlaca)}\r\n                                >\r\n                                    <Add /> Adicionar\r\n                            </Button>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        name: 'placa',\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        style: { fontSize: '0.8rem' }\r\n                                    }}\r\n                                    label='Filtrar'\r\n                                    className={textField}\r\n                                    value={placa || ''}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <Search style={{ marginTop: '18px' }} />\r\n                            </div>\r\n\r\n                            {!demand ?\r\n                                <DragAndDrop\r\n                                    name='apoliceDoc'\r\n                                    formData={apoliceDoc}\r\n                                    dropDisplay={dropDisplay}\r\n                                    handleFiles={handleFiles}\r\n                                    demandFiles={demandFiles}\r\n                                    removeFile={removeFile}\r\n                                    fileToRemove={fileToRemove}\r\n                                    style={{ padding: '0 10px', margin: '0 10px', width: '28%', minWidth: '320px' }}\r\n                                />\r\n                                : demandFiles[0] &&\r\n                                <div style={{ width: '225px', marginTop: '15px' }}>\r\n                                    <ShowLocalFiles\r\n                                        demand={demand}\r\n                                        collection='empresaDocs'\r\n                                        demandFiles={demandFiles}\r\n                                        form={empresaFiles}\r\n                                        style={{ width: '200px' }}\r\n                                    //files={files}\r\n                                    />\r\n                                </div>\r\n                            }\r\n\r\n                        </section>\r\n\r\n                        <div className='addNewDiv' style={{ justifyContent: 'flex-start', padding: '10px' }}>\r\n                            <span onClick={() => showAllPlates()}>→ Clique aqui para selecionar placas</span>\r\n                        </div>\r\n\r\n                        {/********************************* Lista de placas vinculadas (Chips) ********************************************/}\r\n\r\n                        {insurance?.placas && insurance?.placas[0]\r\n                            ?\r\n                            <div style={{ marginTop: '15px' }}>\r\n                                Placas vinculadas a apólice {insurance.apolice}\r\n                            </div>\r\n                            :\r\n                            <div style={{ marginTop: '30px' }}></div>\r\n                        }\r\n                        {insurance && insurance.placas && apolice && apolice.length > 2 && renderedPlacas && renderedPlacas[0] &&\r\n                            <>\r\n                                <p style={{ fontSize: '0.7rem', marginBottom: '10px', marginTop: '3px', color: '#787b6e' }} >\r\n                                    Selecionado{renderedPlacas.length > 1 ? 's' : ''} {renderedPlacas.length} veículo{renderedPlacas.length > 1 ? 's' : ''} de {frota?.length}\r\n                                </p>\r\n                                <div className=\"placasChipContainer\">\r\n                                    {\r\n                                        renderedPlacas.map(({ placa, compartilhado, outsider, irregular, delCompartilhado, owner }, i,) =>\r\n\r\n                                            <div onMouseOver={e => getOwner({ compartilhado, outsider, irregular, delCompartilhado, owner }, e)} key={i}>\r\n                                                <Chip\r\n                                                    key={i}\r\n                                                    label={placa}\r\n                                                    onDelete={() => removeFromInsurance(placa)}\r\n                                                    className={\r\n                                                        compartilhado ? 'chip-compartilhado'\r\n                                                            : outsider ? 'chip-outsider'\r\n                                                                : irregular ? 'chip-irregular'\r\n                                                                    : 'chip'}\r\n                                                    variant=\"outlined\"\r\n                                                />\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                </div>\r\n                            </>\r\n                        }\r\n                    </main>}\r\n            </div >\r\n            {\r\n                apolice && (insurance || enableAddPlaca) && !demand ?\r\n                    <div style={{ minHeight: '60px', position: 'flex' }}>\r\n                        <Button\r\n                            size=\"small\"\r\n                            color='primary'\r\n                            className='saveButton'\r\n                            variant=\"contained\"\r\n                            onClick={() => handleSubmit()}\r\n                        //disabled={!renderedPlacas[0] || !apoliceDoc ? true : false}\r\n                        >\r\n                            Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                        </Button>\r\n                    </div>\r\n                    :\r\n                    selectedEmpresa && demand ?\r\n                        <StepperButtons\r\n                            uniqueStep={true}\r\n                            declineButtonLabel='Indeferir'\r\n                            demand={demand}\r\n                            setShowPendencias={setShowPendencias}\r\n                            showPendencias={showPendencias}\r\n                            info={info}\r\n                            handleSubmit={handleSubmit}\r\n                            handleInput={handleInput}\r\n                        />\r\n                        : null\r\n            }\r\n        </Fragment >\r\n    )\r\n}","import React from 'react'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport '../Layouts/popUp.css'\r\n\r\nfunction ShowAllPlates({ items, title, data, close, selectAll, handleCheck, selectAllPlates }) {\r\n\r\n    return (\r\n        <div className=\"popUpWindow row\">\r\n            <h6>{title} Clique em \"X\" ou pressione 'esc' para voltar</h6>\r\n            <div style={{ margin: '10px 0', fontSize: '0.8rem' }}>\r\n                <input\r\n                    id='all'\r\n                    type='checkbox'\r\n                    checked={selectAll === true}\r\n                    onChange={() => selectAllPlates()} />\r\n                <label htmlFor='all'>{selectAll ? 'Desmarcar todas selecionadas' : 'Selecionar todas'}</label>\r\n            </div>\r\n\r\n            <main className=\"checkListContainer\">\r\n                {\r\n                    items.map((item, i) =>\r\n                        <div className=\"checkListItem\" key={i}>\r\n                            <input\r\n                                id={i}\r\n                                type='checkbox'\r\n                                checked={data[item] === true}\r\n                                onChange={() => handleCheck(item)} />\r\n                            <label htmlFor={i}>{item}</label>\r\n                        </div>\r\n                    )\r\n                }\r\n            </main>\r\n            <ClosePopUpButton close={close} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowAllPlates\r\n","import React from 'react';\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function ConfigAddDialog({ open, close, title, helperMessage, marca, marcas, selectMarca, newElement, handleInput, addNewElement }) {\r\n\r\n    return (\r\n        <div>\r\n            <Dialog open={open} onClose={close} aria-labelledby=\"form-dialog-title\">\r\n                <DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        {helperMessage}\r\n                    </DialogContentText>\r\n                    <div className=\"editFields\">\r\n                        {marcas && <div className=\"configMarca\">\r\n                            <TextField\r\n                                onChange={selectMarca}\r\n                                value={marca}\r\n                                label='Selecione uma marca'\r\n                                select={true}\r\n                                InputLabelProps={{ shrink: true }}\r\n                                SelectProps={{\r\n                                    style: {\r\n                                        fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                                        width: 325, height: '44px'\r\n                                    }\r\n                                }}\r\n                            >\r\n                                {marcas.map(({ marca }, i) =>\r\n                                    <MenuItem key={i} value={marca} >\r\n                                        {marca}\r\n                                    </MenuItem>\r\n                                )}\r\n                            </TextField>\r\n                        </div>}\r\n                        <div className=\"configField\">\r\n                            <TextField\r\n                                autoFocus\r\n                                margin=\"dense\"\r\n                                name='newElement'\r\n                                label=\"Inserir\"\r\n                                type=\"text\"\r\n                                onChange={handleInput}\r\n                                value={newElement}\r\n                                fullWidth\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <br /><br /><br />\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={close} color=\"primary\">\r\n                        Cancelar\r\n              </Button>\r\n                    <Button onClick={() => addNewElement()} color=\"primary\">\r\n                        Confirmar\r\n              </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}","export const setEmpresaDemand = (demand, redux, socios) => {\r\n\r\n    const { pathname } = document.location\r\n    let associateKeys = { name: 'nomeSocio', id: 'socioId' }\r\n\r\n    if (pathname.match('procurador'))\r\n        associateKeys = { name: 'nomeProcurador', id: 'procuradorId' }\r\n\r\n    const\r\n        { empresas, empresaDocs } = redux,\r\n        { name, id } = associateKeys,\r\n        history = demand?.history || [],\r\n        length = history?.length,\r\n\r\n        selectedEmpresa = empresas.find(e => e.codigoEmpresa === demand?.empresaId),\r\n        razaoSocial = selectedEmpresa?.razaoSocial\r\n\r\n    let\r\n        lastUpdate,\r\n        newMembers = [],\r\n        oldMembers = [],\r\n        latestDoc\r\n\r\n    if (history[0]) lastUpdate = history[length - 1]\r\n\r\n    if (lastUpdate) {\r\n        newMembers = lastUpdate?.newMembers || []\r\n        oldMembers = lastUpdate?.oldMembers || []\r\n    }\r\n\r\n    //******************Get latest uploaded files per field\r\n\r\n    const\r\n        latestDocId = history\r\n            .reverse()\r\n            .find(el => el.files)?.files || []\r\n\r\n    if (latestDocId[0])\r\n        latestDoc = empresaDocs.find(doc => doc.id === latestDocId[0])\r\n\r\n    if (oldMembers[0])\r\n        socios.forEach(s => {\r\n            oldMembers.forEach(om => {\r\n                if (s[id] === om[id])\r\n                    Object.keys(om).forEach(key => {\r\n                        s[key] = om[key]\r\n                    })\r\n            })\r\n        })\r\n\r\n    const\r\n        filteredSocios = socios\r\n            .concat(newMembers)\r\n            .sort((a, b) => a[name].localeCompare(b[name]))\r\n\r\n    //****************** Return the object\r\n    return {\r\n        razaoSocial, selectedEmpresa, demand, latestDoc, newMembers, oldMembers, getUpdatedValues, filteredSocios\r\n    }\r\n}\r\n\r\nfunction getUpdatedValues(originalObj, newObj) {\r\n    Object.keys(newObj).forEach(key => {\r\n        if (newObj[key] && originalObj[key]) {\r\n\r\n            if (key === 'equipamentosId' || key === 'acessibilidadeId')\r\n                newObj[key].sort((a, b) => a - b)\r\n\r\n            if (newObj[key].toString() === originalObj[key].toString())\r\n                delete newObj[key]\r\n        }\r\n        if (newObj[key] === '' || newObj[key] === 'null' || !newObj[key]) delete newObj[key]\r\n    })\r\n    const updatedFields = newObj\r\n    return updatedFields\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport moment from 'moment'\r\nimport { sizeExceedsLimit } from '../Utils/handleFiles'\r\nimport SeguroTemplate from './SegurosTemplate'\r\nimport ShowAllPlates from './ShowAllPlates'\r\nimport ConfigAddDialog from './ConfigAddDialog'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport { seguroForm } from '../Forms/seguroForm'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { setEmpresaDemand } from '../Utils/setEmpresaDemand'\r\nimport { removeFile } from '../Utils/handleFiles'\r\n\r\n\r\nclass Seguro extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.openAddDialog) this.toggleDialog()\r\n                if (this.state.showAllPlates) this.setState({ showAllPlates: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        addedPlaca: '',\r\n        razaoSocial: '',\r\n        seguradora: '',\r\n        deletedVehicles: [],\r\n        toastMsg: 'Seguro atualizado!',\r\n        confirmToast: false,\r\n        dropDisplay: 'Clique ou arraste para anexar a apólice',\r\n        showAllPlates: false,\r\n        showPendencias: false,\r\n        selectAll: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const\r\n            { redux } = this.props,\r\n            demand = this.props?.location?.state?.demand,\r\n            { empresas, veiculos } = redux\r\n\r\n        if (empresas && empresas.length === 1) {\r\n            await this.setState({ selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos })\r\n            this.filterInsurances()\r\n        }\r\n\r\n        if (demand) {\r\n            const\r\n                demandState = setEmpresaDemand(demand, redux, []),\r\n                { latestDoc, newMembers, oldMembers, filteredSocios, ...filteredState } = demandState,\r\n                history = demand?.history[0],\r\n                insurance = {}\r\n\r\n            seguroForm.forEach(({ field }) => {\r\n                if (history.hasOwnProperty(field))\r\n                    insurance[field] = history[field]\r\n            })\r\n\r\n            const insuranceVehicles = redux.veiculos\r\n                .filter(v => history.vehicleIds.some(id => id === v.veiculoId))\r\n\r\n            insurance.placas = insuranceVehicles.map(v => v.placa)\r\n            insurance.veiculos = insuranceVehicles.map(v => v.veiculoId)\r\n\r\n            const seguradoraId = history?.seguradoraId\r\n\r\n            await this.setState({ ...this.state, ...filteredState, ...insurance, insurance, demand, seguradoraId, demandFiles: [latestDoc] })\r\n\r\n            await this.filterInsurances()\r\n            this.renderPlacas()\r\n        }\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n    //Se uma viação válida estiver selecionada, filtra sua frota e os veículos que apesar de não possuir os tem na apólice de seguro\r\n    filterInsurances = async () => {\r\n        const\r\n            { seguros } = this.props.redux,\r\n            { selectedEmpresa } = this.state,\r\n            { codigoEmpresa } = selectedEmpresa,\r\n            filteredInsurances = seguros.filter(seguro => seguro.codigoEmpresa === codigoEmpresa),\r\n            dataFromServer = await axios.get(`/api/allVehicles?codigoEmpresa=${codigoEmpresa}`),\r\n            allVehicles = humps.camelizeKeys(dataFromServer?.data) || [],\r\n            allPlates = allVehicles.map(vehicle => vehicle.placa).sort(),\r\n            frota = allVehicles.filter(v => v.codigoEmpresa === codigoEmpresa),\r\n            ownedPlacas = frota.map(v => v.placa)\r\n\r\n        this.setState({ seguros: filteredInsurances, allVehicles, frota, ownedPlacas, allPlates })\r\n    }\r\n\r\n    //Verifica se o seguro já existe e preenche os camopos automaticamente (plain obj to state)\r\n    checkExistance = async inputValue => {\r\n\r\n        const\r\n            seguros = JSON.parse(JSON.stringify(this.props.redux.seguros)),\r\n            { selectedEmpresa, demand } = this.state,\r\n            { codigoEmpresa } = selectedEmpresa,\r\n            s = [...seguros.filter(se => se.codigoEmpresa === codigoEmpresa)]\r\n\r\n        let insurance = { ...s.find(s => s.apolice === inputValue) }\r\n\r\n        if (demand && this.state.insurance)\r\n            insurance = this.state.insurance\r\n\r\n        const insuranceExists = Object.keys(insurance).length > 0\r\n\r\n        if (insuranceExists) {\r\n            const\r\n                dataEmissao = moment(insurance.dataEmissao).format('YYYY-MM-DD'),\r\n                vencimento = moment(insurance.vencimento).format('YYYY-MM-DD'),\r\n                { seguradora, seguradoraId } = insurance\r\n\r\n            await this.setState({ seguradora, seguradoraId, dataEmissao, vencimento, insurance })\r\n            return\r\n        }\r\n        else this.setState({ dataEmissao: '', vencimento: '', deletedVehicles: [], insurance: {} })\r\n    }\r\n\r\n    //Marca as placas que possuem compartilhamento por outra empresa. Acionado ao se informar a apólice (caso já exista)   \r\n    renderPlacas = placas => {\r\n        const { allVehicles, insurance, ownedPlacas } = this.state\r\n\r\n        if (insurance) {\r\n            //Se passar as placas como argumento se trata do filtro do searchBar. Senão é a renderização depois de preencher a apólice\r\n            if (!placas)\r\n                placas = insurance.placas\r\n            console.log(\"🚀 ~ file: Seguros.jsx ~ line 133 ~ Seguro ~ placas\", placas)\r\n\r\n            let renderedPlacas = []\r\n\r\n            if (placas) {\r\n                placas.forEach(p => {\r\n                    const\r\n                        veiculo = allVehicles.find(v => v.placa === p)\r\n                    if (!veiculo) {\r\n                        this.setState({ renderedPlacas })\r\n                        return\r\n                    }\r\n                    const\r\n                        { placa, empresa, compartilhado } = veiculo,\r\n                        vehicleDetails = { placa, owner: empresa, delCompartilhado: compartilhado }\r\n                    //Se o veículo não for próprio\r\n                    if (!ownedPlacas.includes(placa)) {\r\n                        //Se constar com compartilhado de outra viação, está fora da frota da empresa, senão pode estar irregular\r\n                        if (compartilhado)\r\n                            Object.assign(vehicleDetails, { outsider: true })\r\n                        else\r\n                            Object.assign(vehicleDetails, { irregular: true })\r\n                    }\r\n                    //Se o veículo for próprio:\r\n                    else {\r\n                        if (compartilhado)\r\n                            vehicleDetails.compartilhado = true\r\n                        else\r\n                            vehicleDetails.compartilhado = false\r\n                    }\r\n                    renderedPlacas.push(vehicleDetails)\r\n                })\r\n\r\n                this.setState({ renderedPlacas })\r\n            }\r\n        }\r\n    }\r\n\r\n    handleInput = async e => {\r\n\r\n        let { value } = e.target\r\n        const\r\n            { name } = e.target,\r\n            { empresas, seguradoras } = this.props.redux,\r\n            { selectedEmpresa, allVehicles, insurance, apolice, dataEmissao, vencimento, newInsurance, seguradora } = this.state\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n                let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n                if (selectedEmpresa) {\r\n                    await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                    if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n                    this.filterInsurances()\r\n\r\n                } else {\r\n                    this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                    this.clearFields()\r\n                }\r\n                break\r\n\r\n            case 'apolice':\r\n                if (!allVehicles) this.filterInsurances()\r\n                await this.checkExistance(value)\r\n                this.renderPlacas()\r\n                break\r\n\r\n            case 'seguradora':\r\n                const selectedSeguradora = seguradoras.find(sg => sg.seguradora === value)\r\n                if (selectedSeguradora) {\r\n                    this.setState({ seguradoraId: selectedSeguradora.id })\r\n                }\r\n                break\r\n            case 'placa':\r\n                let placas = []\r\n                if (insurance?.placas) {\r\n                    if (insurance.placas[0] && insurance.placas[0] !== null)\r\n                        placas = insurance.placas.sort()\r\n\r\n                    if (value !== undefined && value.length > 2 && placas[0]) {\r\n                        if (typeof value === 'string')\r\n                            placas = insurance.placas.filter(p => p.toLowerCase().match(value.toLowerCase())).sort()\r\n                        else\r\n                            placas = insurance.placas.filter(p => p.match(value)).sort()\r\n                    }\r\n                    this.renderPlacas(placas)\r\n                }\r\n                break\r\n            case 'addedPlaca':\r\n                const vehicleFound = allVehicles.find(v => v.placa === value)\r\n                if (vehicleFound) this.setState({ vehicleFound })\r\n                break;\r\n            default:\r\n                void 0\r\n        }\r\n\r\n        // *************NEW INSURANCE CHECK / UPDATE STATE****************\r\n        const fields = ['seguradora', 'apolice', 'dataEmissao', 'vencimento']\r\n        const checkFields = fields.every(f => this.state[f] && this.state[f] !== '')\r\n\r\n        if (name !== 'razaoSocial' && !newInsurance && checkFields && !insurance) {\r\n            let seguradoraId\r\n            const selectedSeguradora = seguradoras.find(sg => sg.seguradora === this.state.seguradora)\r\n            if (selectedSeguradora) seguradoraId = selectedSeguradora.id\r\n\r\n            const newInsurance = {\r\n                empresa: selectedEmpresa.razaoSocial,\r\n                codigoEmpresa: selectedEmpresa.codigoEmpresa,\r\n                apolice, seguradora, seguradoraId, dataEmissao, vencimento, placas: [], veiculos: []\r\n            }\r\n            await this.setState({ insurance: newInsurance, seguradoraId })\r\n        }\r\n    }\r\n\r\n    handleBlur = e => {\r\n\r\n        const\r\n            { seguradoras, seguros } = this.props.redux,\r\n            { seguradora, selectedEmpresa } = this.state,\r\n            { name } = e.target,\r\n            codigoEmpresa = selectedEmpresa?.codigoEmpresa\r\n\r\n        if (name === 'seguradora') {\r\n            let filteredInsurances = []\r\n\r\n            const valid = seguradoras.find(s => s.seguradora.toLowerCase().match(seguradora.toLowerCase()))\r\n            if (valid && seguradora.length > 2)\r\n                this.setState({ seguradora: valid.seguradora, seguradoraId: valid.id })\r\n            if (!valid && seguradora.length > 2)\r\n                this.setState({ openAlertDialog: true, alertType: 'seguradoraNotFound', seguradora: undefined })\r\n\r\n            if (selectedEmpresa && !seguradora) {\r\n                filteredInsurances = seguros.filter(s => s.codigoEmpresa === codigoEmpresa)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n            else if (!selectedEmpresa && seguradora !== '') {\r\n                filteredInsurances = seguros.filter(s => s.seguradora === seguradora)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n            else if (selectedEmpresa && seguradora !== '') {\r\n                filteredInsurances = seguros\r\n                    .filter(seg => seg.codigoEmpresa === codigoEmpresa)\r\n                    .filter(seg => seg.seguradora === seguradora)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n        }\r\n        if (name === 'dataEmissao' || name === 'vencimento') {\r\n            const errors = checkInputErrors()\r\n            if (errors) this.setState({ errors })\r\n            else this.setState({ errors: undefined })\r\n        }\r\n    }\r\n\r\n    showAllPlates = () => {\r\n        const { insurance, allPlates } = this.state\r\n        let placas = [], allPlatesObj = {}\r\n\r\n        if (insurance?.placas)\r\n            placas = insurance.placas\r\n\r\n        allPlates.forEach(p => Object.assign(allPlatesObj, { [p]: false }))\r\n        placas.forEach(p => Object.assign(allPlatesObj, { [p]: true }))\r\n\r\n        this.setState({ allPlatesObj, insuredPlates: placas, showAllPlates: !this.state.showAllPlates })\r\n    }\r\n\r\n    handleCheck = async plate => {\r\n\r\n        let allPlatesObj = { ...this.state.allPlatesObj }\r\n        allPlatesObj[plate] = !allPlatesObj[plate]\r\n\r\n        if (allPlatesObj[plate] === true) this.addPlate(plate)\r\n        else this.removeFromInsurance(plate)\r\n\r\n        this.setState({ allPlatesObj })\r\n    }\r\n\r\n    selectAllPlates = () => {\r\n        const\r\n            { allPlates, selectAll } = this.state,\r\n            updatedState = {}\r\n\r\n        if (allPlates) {\r\n            allPlates.forEach(p => {\r\n\r\n                if (selectAll) {\r\n                    updatedState[p] = false\r\n                    this.removeFromInsurance(p)\r\n                } else {\r\n                    updatedState[p] = true\r\n                    this.addPlate(p, true)\r\n                }\r\n            })\r\n        }\r\n        this.setState({ selectAll: !selectAll, allPlatesObj: updatedState })\r\n    }\r\n\r\n    addPlate = async (placaInput, allSelected) => {\r\n\r\n        const\r\n            { apolice, allVehicles, deletedVehicles, insurance } = this.state,\r\n            vehicleFound = allVehicles.find(v => v.placa === placaInput)\r\n\r\n        if (!placaInput || placaInput === '') return\r\n\r\n        //Check if vehicle belongs to frota before add to insurance and  if plate already belongs to apolice\r\n        if (vehicleFound === undefined || vehicleFound.hasOwnProperty('veiculoId') === false) {\r\n            this.setState({ openAlertDialog: true, alertType: 'plateNotFound' })\r\n            return null\r\n        } else if (insurance && insurance.placas && vehicleFound.placa && !allSelected) {\r\n            const check = insurance.placas.find(p => p === vehicleFound.placa)\r\n            if (check) {\r\n                this.setState({ openAlertDialog: true, alertType: 'plateExists' })\r\n                return null\r\n            }\r\n        }\r\n        // Add plates to rendered list\r\n        if (apolice && insurance) {\r\n            const\r\n                update = { ...insurance },\r\n                { veiculoId } = vehicleFound\r\n\r\n            if (!update.placas || !update.placas[0]) update.placas = []\r\n            if (!update.veiculos || !update.veiculos[0]) update.veiculos = []\r\n\r\n            if (!update.placas.includes(placaInput))\r\n                update.placas.push(placaInput)\r\n            if (!update.veiculos.includes(veiculoId))\r\n                update.veiculos.push(veiculoId)\r\n\r\n            //Remove from state.deletedVehicles if its the case\r\n            if (deletedVehicles.includes(veiculoId)) {\r\n                const i = deletedVehicles.indexOf(veiculoId)\r\n                deletedVehicles.splice(i, 1)\r\n            }\r\n            this.renderPlacas(update?.placas)\r\n            console.log(\"🚀 ~ file: Seguros.jsx ~ line 374 ~ Seguro ~ addPlate= ~ update\", update)\r\n            this.setState({ insurance: update, addedPlaca: '', deletedVehicles })\r\n        }\r\n    }\r\n\r\n    removeFromInsurance = async placaInput => {\r\n\r\n        const\r\n            { apolice, allVehicles } = this.state,\r\n            vehicleFound = allVehicles.find(v => v.placa === placaInput),\r\n            { veiculoId, placa } = vehicleFound\r\n\r\n        let\r\n            insurance = { ...this.state.insurance },\r\n            deletedVehicles = [...this.state.deletedVehicles],\r\n            placas = [],\r\n            veiculos = [],\r\n            check\r\n\r\n        const seg = this.props.redux.seguros.find(s => s.apolice === apolice)\r\n        if (seg && seg.placas)\r\n            check = seg.placas.includes(placa)\r\n\r\n        if (check) {\r\n            let { veiculos } = insurance\r\n            const k = veiculos.indexOf(veiculoId)\r\n\r\n            if (!deletedVehicles.includes(veiculos[k])) {\r\n                deletedVehicles.push(veiculos[k])\r\n                this.setState({ deletedVehicles })\r\n            }\r\n        }\r\n\r\n        if (insurance.placas) placas = insurance.placas\r\n        if (insurance.veiculos) veiculos = insurance.veiculos\r\n\r\n        const\r\n            i = placas.indexOf(placa),\r\n            k = veiculos.indexOf(veiculoId)\r\n\r\n        insurance.placas.splice(i, 1)\r\n        insurance.veiculos.splice(k, 1)\r\n\r\n        await this.setState({ insurance })\r\n        this.renderPlacas()\r\n    }\r\n\r\n    updateInsurance = () => {\r\n        const\r\n            { insurance, dataEmissao, vencimento, seguradoraId } = this.state,\r\n            { id, veiculos } = insurance\r\n\r\n        let updates = {}\r\n        const\r\n            emissaoDidChange = !moment(dataEmissao).isSame(moment(insurance.dataEmissao)),\r\n            vencimentoDidChange = !moment(vencimento).isSame(moment(insurance.vencimento)),\r\n            seguradoraDidChange = seguradoraId !== insurance.seguradoraId\r\n\r\n        if (!emissaoDidChange && !vencimentoDidChange && seguradoraDidChange) return null\r\n\r\n        if (emissaoDidChange) updates.data_emissao = dataEmissao\r\n        if (vencimentoDidChange) updates.vencimento = vencimento\r\n        if (seguradoraDidChange) updates.seguradora_id = seguradoraId\r\n\r\n        const requestObj = {\r\n            id,\r\n            columns: Object.keys(updates),\r\n            updates,\r\n            vehicleIds: veiculos\r\n        }\r\n        axios.put('/api/updateInsurance', requestObj)\r\n            .then(r => console.log(r.data))\r\n    }\r\n\r\n    handleSubmit = async approved => {\r\n\r\n        const { seguradora, insurance, errors, deletedVehicles, seguradoraId, apolice,\r\n            dataEmissao, vencimento, selectedEmpresa, demand, demandFiles, apoliceDoc, info } = this.state\r\n\r\n        let vehicleIds = []\r\n\r\n        //Checar erros de preenchimento ou campos vazios\r\n        if (errors && errors[0]) {\r\n            this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n        if (!seguradora || seguradora === '') {\r\n            this.setState({ openAlertDialog: true, alertType: 'seguradoraNotFound', seguradora: undefined })\r\n            return\r\n        }\r\n        if (!insurance?.veiculos || !insurance.veiculos[0]) {\r\n            this.setState({\r\n                openAlertDialog: true, customTitle: 'Nenhum veículo inserido',\r\n                customMsg: 'Não foi inserido nenhum veículo para o seguro informado. Para inserir, digite a placa no campo \"Insira a placa\" ou clique para selecionar a(s) placa(s) do(s) veículo(s) coberto(s) por esse seguro.'\r\n            })\r\n            return\r\n        }\r\n\r\n        //Create seguro object e checar datas\r\n        const\r\n            cadSeguro = {\r\n                apolice,\r\n                seguradora_id: seguradoraId,\r\n                codigo_empresa: selectedEmpresa.codigoEmpresa\r\n            },\r\n            emis = moment(dataEmissao, 'YYYY-MM-DD', true),\r\n            venc = moment(vencimento, 'YYYY-MM-DD', true),\r\n            validEmissao = emis.isValid(),\r\n            validVenc = venc.isValid(),\r\n            invalido = venc.isSameOrBefore(emis, 'day'),\r\n            vencido = venc.isBefore(moment(), 'day'),\r\n            pendente = emis.isAfter(moment(), 'day'),\r\n            vigente = emis.isSameOrBefore(moment(), 'day')\r\n\r\n        if (invalido) {\r\n            alert('A data de vencimento informada é anterior ao início da vigência.')\r\n            return\r\n        }\r\n        if (vencido) {\r\n            alert('O seguro informado está vencido.')\r\n            return\r\n        }\r\n        if (pendente)\r\n            cadSeguro.situacao = 'Aguardando início da vigência'\r\n        if (vigente)\r\n            cadSeguro.situacao = 'Vigente'\r\n        if (validEmissao)\r\n            cadSeguro.data_emissao = dataEmissao\r\n        if (validVenc)\r\n            cadSeguro.vencimento = vencimento\r\n\r\n        //*******************Create a new demand\r\n        if (!demand) {\r\n            // New or existing, insurance will be in state if the all fields are filled and update every plate added or removed.\r\n            if (insurance)\r\n                vehicleIds = insurance.veiculos\r\n\r\n            let { codigoEmpresa, ...seguro } = cadSeguro\r\n            seguro.seguradora = seguradora\r\n            seguro = humps.camelizeKeys(seguro)\r\n\r\n            const log = {\r\n                empresaId: selectedEmpresa?.codigoEmpresa,\r\n                history: {\r\n                    ...seguro,\r\n                    vehicleIds,\r\n                    files: apoliceDoc\r\n                },\r\n                demandFiles,\r\n                metadata: {\r\n                    fieldName: 'apoliceDoc',\r\n                    apolice,\r\n                    empresaId: selectedEmpresa?.codigoEmpresa,\r\n                },\r\n                historyLength: 0,\r\n                approved\r\n            }\r\n            //Registrar os veiculos apagados pela demanda\r\n            if (deletedVehicles[0])\r\n                log.history.deletedVehicles = deletedVehicles\r\n\r\n            logGenerator(log)\r\n            this.confirmAndResetState('Solicitação de cadastro de seguro enviada')\r\n            return\r\n        }\r\n\r\n        //Se a demanda já existe e for indeferida\r\n        if (approved === false) {\r\n            const log = {\r\n                id: demand.id,\r\n                history: {\r\n                    info\r\n                },\r\n                declined: true\r\n            }\r\n            logGenerator(log)\r\n                .then(r => console.log(r))\r\n            this.confirmAndResetState('Solicitação indeferida!')\r\n        }\r\n        //Aprovar demanda\r\n        if (approved === true)\r\n            this.approveInsurance(cadSeguro)\r\n    }\r\n\r\n    approveInsurance = async cadSeguro => {\r\n        const\r\n            { seguros } = this.props.redux,\r\n            { apolice, vencimento, dataEmissao, seguradoraId, insurance, demand, demandFiles } = this.state,\r\n            vehicleIds = insurance.veiculos\r\n\r\n        //****************************** Cria o body para os requests****************************** */\r\n        const body = {\r\n            table: 'veiculos',\r\n            column: 'apolice',\r\n            value: apolice,\r\n            tablePK: 'veiculo_id',\r\n            ids: vehicleIds\r\n        }\r\n        //********************************** CREATE/UPDATE INSURANCE **********************************\r\n        const insuranceExists = seguros.find(s => s.apolice === apolice)\r\n\r\n        if (insuranceExists) {\r\n            const\r\n                de = moment(insuranceExists.dataEmissao).isSame(moment(dataEmissao)),\r\n                v = moment(insuranceExists.vencimento).isSame(moment(vencimento)),\r\n                vExists = JSON.stringify(vehicleIds) === JSON.stringify(insuranceExists.veiculos)\r\n\r\n            console.log(\"🚀 ~ file: Seguros.jsx ~ line 579 ~ Seguro ~ JSON.stringify(vehicleIds)\", insuranceExists)\r\n\r\n            //Evitar seguro repetido de ser cadastrado\r\n            if (de && v && vExists) {\r\n                this.setState({\r\n                    openAlertDialog: true,\r\n                    customTitle: 'Seguro existente',\r\n                    customMsg: 'O seguro informado já existe no sistema. Para cadastrar um novo seguro, altere o número da apólice, ou as datas de emissão e vencimento.'\r\n                })\r\n                return\r\n            }\r\n            //Se o seguro novo tiver o mesmo número de apólice e já estiver vigente, apenas atualiza o registro do Postgresql\r\n            if (cadSeguro.situacao === 'Vigente') {\r\n                let updates = { dataEmissao, vencimento, seguradoraId, situacao: cadSeguro.situacao }\r\n                updates = humps.decamelizeKeys(updates)\r\n                const\r\n                    columns = Object.keys(updates),\r\n                    requestObj = {\r\n                        id: insuranceExists?.id,\r\n                        vehicleIds,\r\n                        columns,\r\n                        updates,\r\n                    }\r\n                await axios.put('/api/updateInsurance', { ...requestObj })\r\n\r\n                //Se algum veículo não está no novo seguro de mesmo n de apolice, deve ser excluido o número de apólice dele\r\n                const deletedVehicles = demand?.history[0]?.deletedVehicles\r\n                if (deletedVehicles)\r\n                    body.deletedVehicles = deletedVehicles\r\n            }\r\n        }\r\n        //console.log(JSON.stringify(body))\r\n        //Se as datas forem diferentes, se trata de cadastrar um novo seguro no MongoDB, ainda que o número da apólice seja o mesmo (caso insuranceExists === true ou false)\r\n        if (cadSeguro.situacao === 'Aguardando início da vigência') {\r\n            cadSeguro.veiculos = vehicleIds\r\n            console.log({ ...cadSeguro })\r\n            await axios.post('/api/cadSeguroMongo', { ...cadSeguro })\r\n        }\r\n        //Se o seguro cadastrado já estiver vigente já cadastra direto no Postgrtesql (tabela seguros) e atualiza a tabela de veículos\r\n        if (cadSeguro.situacao === 'Vigente' && !insuranceExists)\r\n            await axios.post('/api/cadSeguro', cadSeguro)\r\n                .then(r => {\r\n                    if (r.status === 200)\r\n                        console.log(r.status, 'cadSeguroOk')\r\n                })\r\n\r\n        //A atualização da coluna \"apólice\" da tabela veículos vai sempre ocorrer. Independente de ser um novo número ou não de apolice, \r\n        //novos veículos podem ser adicionados ou excluídos\r\n        await axios.put('/api/updateInsurances', body)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                this.setState({ dontUpdateProps: true })\r\n            })\r\n\r\n        //Cria o log de demanda concluída\r\n        const log = {\r\n            id: demand.id,\r\n            demandFiles,\r\n            history: {},\r\n            metadata: {},\r\n            approved: true\r\n        }\r\n        logGenerator(log)\r\n        this.confirmAndResetState()\r\n    }\r\n\r\n    confirmAndResetState = confirmMessage => {\r\n        const { demand } = this.state\r\n        this.toast(confirmMessage)\r\n        this.clearFields()\r\n\r\n        if (demand)\r\n            setTimeout(() => {\r\n                this.props.history.push('/solicitacoes')\r\n            }, 1500);\r\n    }\r\n\r\n    handleFiles = async files => {\r\n        //limit files Size\r\n        if (sizeExceedsLimit(files)) return\r\n\r\n        let formData = new FormData()\r\n        formData.append('apoliceDoc', files[0])\r\n        await this.setState({ apoliceDoc: formData, fileToRemove: null })\r\n    }\r\n\r\n    removeFile = async (name) => {\r\n        const\r\n            { apoliceDoc } = this.state,\r\n            newState = removeFile(name, apoliceDoc)\r\n\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n    addNewElement = () => this.setState({ apolice: this.state.newElement, openAddDialog: false })\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    toggleDialog = () => this.setState({ openAddDialog: !this.state.openAddDialog })\r\n    toast = toastMsg => this.setState({ confirmToast: !this.state.confirmToast, toastMsg: toastMsg ? toastMsg : this.state.toastMsg })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    clearFields = async () => {\r\n        const\r\n            { empresas, veiculos } = this.props.redux,\r\n            cleanedUpState = {\r\n                seguradora: '', insurance: undefined, apolice: '', dataEmissao: '', vencimento: '',\r\n                apoliceDoc: null, deletedVehicles: [], dropDisplay: 'Clique ou arraste para anexar a apólice'\r\n            },\r\n            empresaDetails = { selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos }\r\n        //Se tiver só uma empresa, mantém os dados dela no state após o submit\r\n        if (empresas && empresas.length === 1) {\r\n            await this.setState({ ...cleanedUpState, ...empresaDetails })\r\n            this.filterInsurances()\r\n        }\r\n        else if (empresas)\r\n            this.setState({ ...cleanedUpState })\r\n    }\r\n\r\n    render() {\r\n        const\r\n            { openAlertDialog, alertType, openAddDialog, showAllPlates, allPlates, allPlatesObj, selectAll, customTitle, customMsg } = this.state,\r\n            { empresas, seguradoras, seguros } = this.props.redux\r\n\r\n        const enableAddPlaca = seguroForm\r\n            .every(k => this.state.hasOwnProperty(k.field) && this.state[k.field] !== '')\r\n\r\n        return (\r\n            <Fragment>\r\n                <SeguroTemplate\r\n                    data={this.state}\r\n                    empresas={empresas}\r\n                    seguros={seguros}\r\n                    seguradoras={seguradoras}\r\n                    enableAddPlaca={enableAddPlaca}\r\n                    handleInput={this.handleInput}\r\n                    handleBlur={this.handleBlur}\r\n                    addPlate={this.addPlate}\r\n                    removeFromInsurance={this.removeFromInsurance}\r\n                    enableChangeApolice={this.toggleDialog}\r\n                    handleFiles={this.handleFiles}\r\n                    handleSubmit={this.handleSubmit}\r\n                    showAllPlates={this.showAllPlates}\r\n                    setShowPendencias={this.setShowPendencias}\r\n                    removeFile={this.removeFile}\r\n                />\r\n                {openAddDialog && <ConfigAddDialog\r\n                    open={openAddDialog}\r\n                    close={this.toggleDialog}\r\n                    title='Alterar número da apólice'\r\n                    helperMessage='Informe o número atualizado da apólice.'\r\n                    handleInput={this.handleInput}\r\n                    addNewElement={this.addNewElement}\r\n                />}\r\n                {\r\n                    showAllPlates &&\r\n                    <ShowAllPlates\r\n                        items={allPlates}\r\n                        close={this.showAllPlates}\r\n                        title='Selecione as placas para adicionar à apólice.'\r\n                        handleCheck={this.handleCheck}\r\n                        data={allPlatesObj}\r\n                        selectAll={selectAll}\r\n                        selectAllPlates={this.selectAllPlates}\r\n                    />\r\n                }\r\n\r\n                {\r\n                    openAlertDialog &&\r\n                    <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customTitle={customTitle} customMessage={customMsg} />\r\n                }\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'seguradoras', 'seguros', 'getFiles/empresaDocs']\r\n\r\nexport default StoreHOC(collections, Seguro)","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { Fragment } from 'react';\r\n\r\nexport default function ConfirmDialog({ open, type, close, confirm, element, id, index, customTitle = '', customMessage = '' }) {\r\n\r\n    let title, message\r\n    if (type === 'delete') {\r\n        title = 'Confirmar exclusão'\r\n        message = 'Tem certeza que deseja excluir esse registro?'\r\n        if (element) message = message.replace('?', ': ')\r\n    }\r\n\r\n    if (title && message) return (\r\n        <div>\r\n            <Dialog\r\n                open={open}\r\n                onClose={close}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {element ?\r\n                            <Fragment>\r\n                                {message}<strong>  {element}    </strong>?\r\n                            </Fragment>\r\n                            : message}\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={close} autoFocus> Cancelar </Button>\r\n                    <Button onClick={() => confirm(id || index)} color=\"primary\"> Confirmar </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n    else return null\r\n}","export const laudoForm = [\r\n    {\r\n        field: 'id',\r\n        label: 'Número do laudo',              \r\n        maxLength: 30\r\n    },\r\n    {\r\n        field: 'validade',\r\n        label: 'Data de validade',\r\n        type: 'date'\r\n    },\r\n    {\r\n        field: 'empresaLaudo',\r\n        label: 'Empresa emissora',        \r\n        select: true\r\n    },    \r\n]","import React from 'react'\r\n\r\nconst Placa = props => {\r\n    const { veiculoId, city, placa, onClick, style } = props\r\n\r\n    return (\r\n        <div id={veiculoId} onClick={onClick} style={style} className='placaContainer'>\r\n            <div className=\"placaCity\">{city}</div>\r\n            <div className=\"placaCode\">{placa}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Placa","import React from 'react'\r\nimport moment from 'moment'\r\nimport downloadFile from '../Utils/downloadFile'\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nexport default function StandardTable({ table, docsCollection, length, title, style, idIndex = 0, filePK, deleteIconProperties = {}, deleteFunction }) {\r\n    const { tableHeaders, arrayOfRows, docs } = table\r\n\r\n    const dateFormat = value => {\r\n        if (moment(value, 'YYYY-MM-DDTHH:mm:ss.SSSZZ', true).isValid())\r\n            return moment(value, moment.ISO_8601, true).format('DD/MM/YYYY')\r\n        else\r\n            return value\r\n    }\r\n\r\n    const getFile = id => {\r\n        const file = docs.find(f => f.id === id)\r\n        if (id && file)\r\n            downloadFile(file.id, file.filename, docsCollection, file.metadata.fieldName);\r\n    }\r\n\r\n    return (\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th className='tHeader'\r\n                        style={style}\r\n                        colSpan={length}>{title}</th>\r\n                </tr>\r\n                <tr>\r\n                    {tableHeaders.map((l, i) => <th key={i} style={style}>{l}</th>)}\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {\r\n                    arrayOfRows.map((el, j) =>\r\n                        <tr key={j}>\r\n                            {\r\n                                el.map((obj, i) =>\r\n                                    <td key={i} style={style} className={obj.type === 'link' && obj.fileId ? 'link2' : 'review'}\r\n                                        onClick={\r\n                                            () => obj.field === filePK && obj.fileId ? getFile(obj.fileId)\r\n                                                : obj?.action === 'delete' ? deleteFunction(el[idIndex]?.value)\r\n                                                    : null}>\r\n                                        {\r\n                                            obj.type === 'date' ? dateFormat(obj.value)\r\n                                                : obj?.action === 'delete' && el[idIndex]?.value ? <DeleteIcon {...deleteIconProperties} />\r\n                                                    : obj.value\r\n                                        }\r\n                                    </td>\r\n                                )}\r\n                        </tr>\r\n                    )}\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst StyledMenu = withStyles({\r\n    paper: {\r\n        border: '1px solid #d3d4d5',\r\n    },\r\n})((props) => (\r\n    <Menu\r\n        elevation={0}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n            vertical: 'center',\r\n            horizontal: 'right',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n        }}\r\n        {...props}\r\n    />\r\n));\r\n\r\nconst OnClickMenu = ({ anchorEl, handleClose, menuOptions }) => {\r\n\r\n\r\n    return (\r\n        <>\r\n            <StyledMenu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                {menuOptions.map(({ title, onClick }, i) => (\r\n                    <MenuItem key = {i} onClick={onClick}>{title}</MenuItem>\r\n                ))}               \r\n            </StyledMenu>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default OnClickMenu","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport { laudoForm } from '../Forms/laudoForm'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport Placa from '../Reusable Components/Placa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport CustomTable from '../Reusable Components/CustomTable'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport OnClickMenu from '../Reusable Components/OnClickMenu'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Search from '@material-ui/icons/Search'\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport Button from '@material-ui/core/Button'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\n\r\nconst LaudosTemplate = (\r\n    { empresas, razaoSocial, selectedEmpresa, filteredVehicles, selectedVehicle, stateInputs, selectOptions, table,\r\n        anchorEl, laudoDoc, dropDisplay, functions, demand, demandFiles, showPendencias, info, fileToRemove }) => {\r\n\r\n    const\r\n        placa = selectedVehicle?.placa,\r\n        { handleInput, clickOnPlate, showDetails, handleFiles, handleSubmit, closeMenu, clear,\r\n            removeFile, deleteLaudo, setShowPendencias } = functions\r\n\r\n    const renderColor = laudos => {\r\n        if (laudos && laudos[0] && laudos[0].validade) {\r\n            const { validade } = laudos[0]\r\n\r\n            if (moment(validade, moment.ISO_8601).isValid() && moment(validade).isAfter(moment().toDate())) return { backgroundColor: 'rgb(13, 136, 13)' }\r\n            if (moment(validade, moment.ISO_8601).isValid() && moment(validade).isBefore(moment().toDate())) return { backgroundColor: 'rgb(197, 128, 0)' }\r\n        }\r\n        else return { backgroundColor: 'rgb(136, 13, 13)' }\r\n    }\r\n\r\n    const deleteIconProperties = {\r\n        color: 'secondary',\r\n        title: 'Apagar Laudo',\r\n        style: { cursor: 'pointer' }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Laudos' demand={demand} selectedEmpresa={selectedEmpresa} />\r\n            <div style={demand ? { marginTop: '15px' } : {}}>\r\n                <SelectEmpresa\r\n                    empresas={empresas}\r\n                    data={{ razaoSocial, demand }}\r\n                    headerTitle={placa && selectedEmpresa && `Cadastro de laudo veicular ${placa} - ${selectedEmpresa?.razaoSocial}`}\r\n                    handleInput={handleInput}\r\n                />\r\n            </div>\r\n            {\r\n                selectedEmpresa && !Array.isArray(selectedEmpresa) && <>\r\n                    {!demand &&\r\n                        <header className='flex' style={{ marginBottom: '15px', justifyContent: 'space-between' }}>\r\n                            {\r\n                                !selectedVehicle ?\r\n                                    <FormSubtiltle\r\n                                        subtitle='Selecione o veículo para atualizar consultar ou inserir o laudo de segurança veicular.'\r\n                                        style={{ marginTop: '25px' }}\r\n                                    />\r\n                                    :\r\n                                    <Placa\r\n                                        veiculoId={selectedVehicle.veiculoId}\r\n                                        onClick={clickOnPlate}\r\n                                        style={{ ...renderColor(selectedVehicle.laudos), marginLeft: 0 }}\r\n                                        city={selectedEmpresa.cidade}\r\n                                        placa={selectedVehicle.placa}\r\n                                    />\r\n                            }\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{ name: 'placa' }}\r\n                                    InputLabelProps={{ style: { fontSize: '0.8rem' } }}\r\n                                    label='Filtrar'\r\n                                    onChange={handleInput}\r\n                                />\r\n                                <Search style={{ marginTop: '10px' }} />\r\n                            </div>\r\n                        </header>\r\n                    }\r\n                    {selectedVehicle && <>\r\n                        <main className='paper' style={demand ? { marginTop: '15px' } : {}}>\r\n                            <FormSubtiltle\r\n                                subtitle={\r\n                                    !demand ?\r\n                                        'Para inserir novo laudo, informe o número, a data de vencimento, a empresa que emitiu e anexe o documento referente ao laudo.'\r\n                                        :\r\n                                        'Verifique as informações abaixo, confira com o laudo anexo e escolha uma das opções abaixo.'\r\n                                }\r\n                            />\r\n\r\n                            <br />\r\n                            <br />\r\n                            <TextInput\r\n                                form={laudoForm}\r\n                                data={stateInputs}\r\n                                handleInput={handleInput}\r\n                                selectOptions={selectOptions}\r\n                            />\r\n                            {!demand ? <DragAndDrop\r\n                                name='laudoDoc'\r\n                                formData={laudoDoc}\r\n                                dropDisplay={dropDisplay}\r\n                                handleFiles={handleFiles}\r\n                                removeFile={removeFile}\r\n                                fileToRemove={fileToRemove}\r\n                                single={true}\r\n                                style={{ width: '400px', margin: '15px auto 0 auto' }}\r\n                            />\r\n                                : demandFiles &&\r\n                                <ShowLocalFiles\r\n                                    demand={demand}\r\n                                    collection='vehicleDocs'\r\n                                    demandFiles={demandFiles}\r\n                                    form={[{ title: 'Laudo veicular', name: 'laudoDoc' }]}\r\n                                //files={files}\r\n                                />\r\n                            }\r\n                        </main>\r\n                        <section>\r\n                            {\r\n                                selectedEmpresa && !demand ?\r\n                                    <Button\r\n                                        size=\"small\"\r\n                                        color='primary'\r\n                                        className='saveButton'\r\n                                        variant=\"contained\"\r\n                                        onClick={() => handleSubmit()}\r\n                                    //   disabled={!laudoDoc ? true : false}\r\n                                    >\r\n                                        Cadastrar Laudo\r\n                                    </Button>\r\n                                    : selectedEmpresa && demand ?\r\n                                        <StepperButtons\r\n                                            uniqueStep={true}\r\n                                            declineButtonLabel='Indeferir'\r\n                                            demand={demand}\r\n                                            setShowPendencias={() => setShowPendencias(!showPendencias)}\r\n                                            showPendencias={showPendencias}\r\n                                            info={info}\r\n                                            handleSubmit={handleSubmit}\r\n                                            handleInput={handleInput}\r\n                                        />\r\n                                        : null\r\n                            }\r\n                        </section>\r\n                    </>\r\n                    }\r\n\r\n                    <section>\r\n                        <h4>\r\n                            {!selectedVehicle ?\r\n                                <div className='flex' style={{ justifyContent: 'space-between' }}>\r\n                                    <div>\r\n                                        {`Exibindo ${filteredVehicles.length} veículos com mais de 15 anos.`}\r\n                                    </div>\r\n                                    <div className='flex placasCaption' style={{ fontSize: '0.8rem' }}>\r\n                                        <span>\r\n                                            <span style={{ paddingTop: '5px', color: 'rgb(13, 136, 13)' }}><StopIcon /></span> Laudo vigente\r\n                                        </span>\r\n                                        <span>\r\n                                            <span style={{ paddingTop: '5px', color: 'rgb(197, 128, 0)' }}><StopIcon /></span> Laudo vencido                                            </span>\r\n                                        <span>\r\n                                            <span style={{ paddingTop: '5px', color: 'rgb(136, 13, 13)' }}><StopIcon /></span> Nenhum Laudo cadastrado\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                :\r\n                                null\r\n                            }\r\n                        </h4>\r\n                    </section>\r\n\r\n                    {/* *********************** RENDERIZAÇÃO DAS PLACAS ********************************* */}\r\n                    {!selectedVehicle &&\r\n                        <section className='center flex paper'>\r\n                            {filteredVehicles.map((v, i) => (\r\n                                <Placa\r\n                                    key={i}\r\n                                    veiculoId={v.veiculoId}\r\n                                    onClick={clickOnPlate}\r\n                                    style={renderColor(v.laudos)}\r\n                                    city={selectedEmpresa.cidade}\r\n                                    placa={v.placa}\r\n                                />\r\n\r\n                            ))}\r\n                        </section>\r\n                    }\r\n\r\n                    <OnClickMenu\r\n                        anchorEl={anchorEl}\r\n                        handleClose={closeMenu}\r\n                        menuOptions={[{\r\n                            title: 'Detalhes',\r\n                            onClick: showDetails\r\n                        }\r\n                        ]}\r\n                    />\r\n                </>\r\n            }\r\n            {\r\n                selectedVehicle && selectedVehicle.laudos && !demand &&\r\n                <>\r\n                    {typeof table === 'object' ?\r\n                        <div className=\"paper\" style={{ marginTop: '52px', width: '100%', padding: '0', borderRadius: '5px', overflow: 'hidden' }}>\r\n                            <CustomTable\r\n                                length={table.tableHeaders.length}\r\n                                title={`Laudos vinculados ao veículo placa ${selectedVehicle.placa}`}\r\n                                table={table}\r\n                                style={{ textAlign: 'center', padding: '8px 0' }}\r\n                                deleteIconProperties={deleteIconProperties}\r\n                                deleteFunction={deleteLaudo}\r\n                                idIndex={1}\r\n                                filePK='laudoDoc'\r\n                                docsCollection='vehicleDocs'\r\n                            />\r\n                        </div>\r\n                        :\r\n                        <>\r\n                            <br />\r\n                            <br />\r\n                            <p>{table}</p>\r\n                        </>\r\n                    }\r\n                    <div className='voltarDiv' onClick={clear}>\r\n                        <ArrowBackIcon size='small' />\r\n                        <span style={{ padding: '2px 0 0 2px', marginLeft: '2px', fontSize: '1rem' }}>Voltar</span>\r\n                    </div>\r\n                </>\r\n            }\r\n        </React.Fragment >\r\n    )\r\n}\r\n\r\nexport default React.memo(LaudosTemplate)","import cpfValidator from '../Utils/cpfValidator'\r\nimport { cnpjValidator } from '../Utils/cnpjValidator'\r\n\r\nimport { clearFormat } from '../Utils/formatValues'\r\n\r\nexport const\r\n    razaoSocial = {\r\n        field: 'razaoSocial',\r\n        label: 'Empresa',\r\n        width: '340px'\r\n    },\r\n    placas = {\r\n        field: 'placas',\r\n        label: 'Veículos cadastrados',\r\n        width: '340px'\r\n    },\r\n    createdAt = {\r\n        field: 'createdAt',\r\n        label: 'Data do registro no sistema',\r\n        type: 'date',\r\n        width: '190px'\r\n    },\r\n    cnpj = {\r\n        field: 'cnpj',\r\n        label: 'CNPJ',\r\n        maxLength: 18,\r\n        pattern: /^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2}$/,\r\n        errorHandler: (cnpjString) => cnpjValidator(cnpjString)\r\n    },\r\n    cpf = {\r\n        field: 'cpfSocio',\r\n        label: 'CPF',\r\n        maxLength: 14,\r\n        width: 190,\r\n        errorHandler: (cpfString) => cpfValidator(clearFormat(cpfString))\r\n    },\r\n    phone = {\r\n        label: 'Telefone',\r\n    //    minLength: 14,\r\n        maxLength: 15,\r\n        pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))'\r\n\r\n    },\r\n    email = {\r\n        label: 'E-mail',\r\n        type: 'email',\r\n        maxLength: 60,\r\n        pattern: '[a-zA-Z0-9]@[a-zA-Z0-9]{1,20}?[.]([a-zA-Z0-9])',\r\n    }","export function cnpjValidator(cnpj) {\r\n\r\n    cnpj = cnpj.replace(/[^\\d]+/g, '');\r\n\r\n    if (cnpj === '') return false;\r\n\r\n    if (cnpj.length !== 14)\r\n        return false;\r\n\r\n    // LINHA 10 - Elimina CNPJs invalidos conhecidos\r\n    if (cnpj === \"00000000000000\" ||\r\n        cnpj === \"11111111111111\" ||\r\n        cnpj === \"22222222222222\" ||\r\n        cnpj === \"33333333333333\" ||\r\n        cnpj === \"44444444444444\" ||\r\n        cnpj === \"55555555555555\" ||\r\n        cnpj === \"66666666666666\" ||\r\n        cnpj === \"77777777777777\" ||\r\n        cnpj === \"88888888888888\" ||\r\n        cnpj === \"99999999999999\")\r\n        return false; // LINHA 21\r\n\r\n    // Valida DVs LINHA 23 -\r\n    let tamanho = cnpj.length - 2,\r\n        numeros = cnpj.substring(0, tamanho),\r\n        digitos = cnpj.substring(tamanho),\r\n        soma = 0,\r\n        pos = tamanho - 7,\r\n        resultado\r\n    for (let i = tamanho; i >= 1; i--) {\r\n        soma += numeros.charAt(tamanho - i) * pos--;\r\n        if (pos < 2)\r\n            pos = 9;\r\n    }\r\n    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;    \r\n    if (resultado.toString() !== digitos.charAt(0))\r\n        return false;\r\n\r\n    tamanho = tamanho + 1;\r\n    numeros = cnpj.substring(0, tamanho);\r\n    soma = 0;\r\n    pos = tamanho - 7;\r\n    for (let i = tamanho; i >= 1; i--) {\r\n        soma += numeros.charAt(tamanho - i) * pos--;\r\n        if (pos < 2)\r\n            pos = 9;\r\n    }\r\n    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\r\n    if (resultado.toString() !== digitos.charAt(1))\r\n        return false; // LINHA 49\r\n\r\n    return true; // LINHA 51\r\n\r\n}\r\n\r\n/* export function cnpjValidator(c) {\r\n\r\n    var b = [6, 5, 4, 3, 2, 9, 8, 7, 6, 5, 4, 3, 2];\r\n\r\n    if ((c = c.replace(/[^\\d]/g, \"\")).length != 14)\r\n        return false;\r\n\r\n    if (/0{14}/.test(c))\r\n        return false;\r\n\r\n    for (var j = 0; j < 2; ++j) {\r\n        for (var i = 0, n = 0; i < 12 + j; n += c[i] * b[++i - j]);\r\n        if (c[12 + j] != ((n %= 11) < 2) ? 0 : 11 - n)\r\n            return false;\r\n    }\r\n\r\n    return true;\r\n\r\n}\r\n\r\n\r\n\r\n */\r\n/* export function cnpjValidator(cnpj) {\r\n\r\n    cnpj = cnpj.replace(/[^\\d]+/g, '');\r\n\r\n    if (cnpj === '') return false;\r\n\r\n    if (cnpj.length !== 14)\r\n        return false;\r\n\r\n    // Elimina CNPJs invalidos conhecidos\r\n    if (cnpj === \"00000000000000\" ||\r\n        cnpj === \"11111111111111\" ||\r\n        cnpj === \"22222222222222\" ||\r\n        cnpj === \"33333333333333\" ||\r\n        cnpj === \"44444444444444\" ||\r\n        cnpj === \"55555555555555\" ||\r\n        cnpj === \"66666666666666\" ||\r\n        cnpj === \"77777777777777\" ||\r\n        cnpj === \"88888888888888\" ||\r\n        cnpj === \"99999999999999\")\r\n        return false;\r\n\r\n    // Valida DVs\r\n    let\r\n        tamanho = cnpj.length - 2,\r\n        numeros = cnpj.substring(0, tamanho),\r\n        digitos = cnpj.substring(tamanho),\r\n        soma = 0,\r\n        pos = tamanho - 7,\r\n        resultado\r\n\r\n    for (let i = tamanho; i >= 1; i--) {\r\n        soma += numeros.charAt(tamanho - i) * pos--;\r\n        if (pos < 2)\r\n            pos = 9;\r\n    }\r\n    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\r\n    if (resultado !== digitos.charAt(0))\r\n        return false;\r\n\r\n    tamanho = tamanho + 1;\r\n    numeros = cnpj.substring(0, tamanho);\r\n    soma = 0;\r\n    pos = tamanho - 7;\r\n    for (let i = tamanho; i >= 1; i--) {\r\n        soma += numeros.charAt(tamanho - i) * pos--;\r\n        if (pos < 2)\r\n            pos = 9;\r\n    }\r\n    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\r\n    if (resultado !== digitos.charAt(1))\r\n        return false;\r\n\r\n    return true;\r\n} */","export default function cpfValidator(strCPF) {\r\n    if (!strCPF) return\r\n    let Soma;\r\n    let Resto;\r\n    Soma = 0;\r\n    if (strCPF === \"00000000000\") return false;\r\n\r\n    for (let i = 1; i <= 9; i++) Soma = Soma + parseInt(strCPF.substring(i - 1, i)) * (11 - i);\r\n    Resto = (Soma * 10) % 11;\r\n\r\n    if ((Resto === 10) || (Resto === 11)) Resto = 0;\r\n    if (Resto !== parseInt(strCPF.substring(9, 10))) return false;\r\n\r\n    Soma = 0;\r\n    for (let i = 1; i <= 10; i++) Soma = Soma + parseInt(strCPF.substring(i - 1, i)) * (12 - i);\r\n    Resto = (Soma * 10) % 11;\r\n\r\n    if ((Resto === 10) || (Resto === 11)) Resto = 0;\r\n    if (Resto !== parseInt(strCPF.substring(10, 11))) return false;    \r\n    return true;\r\n}\r\n","import { razaoSocial, placas, createdAt } from '../Forms/commonFields'\r\n\r\nexport const eForm = [\r\n    {\r\n        field: 'razaoSocial',\r\n        width: '540px'\r\n    },\r\n    {\r\n        field: 'rua',\r\n        width: '540px'\r\n    },\r\n    {\r\n        field: 'situacao',\r\n        label: 'Situação'\r\n    },\r\n    {\r\n        field: 'codigoEmpresa',\r\n        label: 'Código da Empresa'\r\n    },\r\n    {\r\n        ...createdAt,\r\n        width: '150px',\r\n    },\r\n    {\r\n        field: 'frota',\r\n        label: 'Tamanho da Frota'\r\n    }\r\n]\r\n\r\nexport const sForm = [\r\n    {\r\n        ...razaoSocial\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n]\r\n\r\nexport const segForm = [\r\n    {\r\n        ...razaoSocial\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n    {\r\n        ...placas\r\n    },\r\n    {\r\n        field: 'segurados',\r\n        label: 'Número de veículos segurados',\r\n    },\r\n]\r\n\r\nexport const vForm = [\r\n    {\r\n        field: 'dataRegistro',\r\n        label: 'Data do registro no sistema',\r\n        type: 'date',\r\n    },\r\n    {\r\n        field: 'cmt',\r\n        label: 'CMT (t)'\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total'\r\n    },\r\n    {\r\n        field: 'situacao',\r\n        label: 'Situação'\r\n    },\r\n    {\r\n        field: 'indicadorIdade',\r\n        label: 'Indicador de idade'\r\n    },\r\n    {\r\n        field: 'equipamentos',\r\n        label: 'Equipamentos'\r\n    },\r\n    {\r\n        field: 'marcaChassi',\r\n        label: 'Marca do Chassi',\r\n    },\r\n    {\r\n        field: 'marcaCarroceria',\r\n        label: 'Marca da Carroceria',\r\n    },\r\n    {\r\n        field: 'sipro',\r\n        label: 'SEI',\r\n    },\r\n    {\r\n        field: 'compartilhado',\r\n        label: 'Compartilhado por'\r\n    },\r\n    {\r\n        field: 'codigoCompartilhado',\r\n        label: 'Código Del. Compartilhado',\r\n    },\r\n    {\r\n        field: 'empresaLaudo',\r\n        label: 'Empresa Laudo',\r\n    },\r\n    {\r\n        field: 'numeroLaudo',\r\n        label: 'Número do Laudo',\r\n    },\r\n    {\r\n        field: 'vencimentoLaudo',\r\n        label: 'Validade do Laudo',\r\n        type: 'date'\r\n    },\r\n]","import { vistoriaForm } from './vistoriaForm'\r\nimport { seguroForm } from './seguroForm'\r\n\r\nexport const cadForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    maxLength: 8,\r\n    pattern: '[a-zA-Z]{3}[-]?[ ]?\\\\d{4}|[A-Z]{3}[-]?[ ]?[0-9]{1}[A-Z]{1}[0-9]{2}'\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    maxLength: 11,\r\n    pattern: /^(\\d{9}|\\d{11})$/\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilização',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Comercial', 'Comercial Executivo', 'Convencional', 'Convencional Executivo', 'Leito', 'Leito e Executivo', 'Semi-Leito', 'Semi-Leito Executivo']\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Número do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    datalist: 'modeloChassi',\r\n    autoComplete: true,\r\n    collection: 'modelosChassi'\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    max: Number(new Date().getFullYear()),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{\r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,\r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    datalist: 'modelo',\r\n    autoComplete: true,\r\n    collection: 'carrocerias'\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    max: Number(new Date().getFullYear() + 1),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{\r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,\r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situação da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veículo próprio', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n}\r\n]]\r\n    .concat([seguroForm])\r\n    .concat([vistoriaForm])","import { cnpj, phone, email } from './commonFields'\r\n\r\nexport const empresasForm = [\r\n    {\r\n        field: 'razaoSocial',\r\n        label: 'Razão Social'\r\n    },\r\n    {\r\n        ...cnpj,\r\n        maxLength: 18,\r\n        pattern: /^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2}$/\r\n    },\r\n    {\r\n        field: 'inscricaoEstadual',\r\n        label: 'Inscrição Estadual',\r\n        maxLength: 13,\r\n        pattern: '\\\\d{13}'\r\n    },\r\n    {\r\n        ...phone,\r\n        field: 'telefone',\r\n        label: 'Telefone',\r\n    },\r\n    {\r\n        ...email,\r\n        field: 'email',\r\n        label: 'E-mail'\r\n    },\r\n    {\r\n        field: 'cep',\r\n        label: 'CEP',\r\n        maxLength: 10\r\n    },\r\n    {\r\n        field: 'rua',\r\n        label: 'Rua',\r\n        maxLength: 100,\r\n    },\r\n    {\r\n        field: 'numero',\r\n        label: 'Número',\r\n        type: 'number',\r\n        max: 32000\r\n    },\r\n    {\r\n        field: 'complemento',\r\n        label: 'Complemento',\r\n        maxLength: 20,\r\n    },\r\n    {\r\n        field: 'bairro',\r\n        label: 'Bairro',\r\n        maxLength: 40,\r\n    },\r\n    {\r\n        field: 'cidade',\r\n        label: 'Cidade',\r\n        maxLength: 60,\r\n    },\r\n    {\r\n        field: 'uf',\r\n        label: 'Estado',\r\n        maxLength: 2,\r\n        pattern: '[A-Z]{2}'\r\n    },\r\n    {\r\n        field: 'numeroContrato',\r\n        label: 'Número do Contrato Social',\r\n    },\r\n    {\r\n        field: 'vencimentoContrato',\r\n        label: 'Vencimento do Cadastro - CRC',\r\n        type: 'date',\r\n    }\r\n]","import { cpf, email, phone } from './commonFields'\r\n\r\nconst width = 195\r\n\r\nexport const sociosForm = [{\r\n    field: 'nomeSocio',\r\n    label: 'Nome do Sócio',\r\n    maxLength: 90,\r\n    width\r\n},\r\n{\r\n    ...cpf,\r\n    width\r\n},\r\n{\r\n    ...phone,\r\n    field: 'telSocio',\r\n    width\r\n},\r\n{\r\n    ...email,\r\n    field: 'emailSocio',\r\n    width\r\n},\r\n{\r\n    field: 'share',\r\n    label: 'Participação Societária (%)',\r\n    /* pattern: /(^100(,0{1,2})?$)|(^([1-9]([0-9])?|0)(,[0-9]{1,2})?$)/,\r\n    maxLength: 5, */\r\n    type: 'number',\r\n    max: 100,\r\n    width\r\n}]\r\n\r\n","import { cpf, email, phone } from './commonFields'\r\n\r\nexport const procuradorConsultasForm = [{\r\n    field: 'nomeProcurador',\r\n    label: 'Nome do Procurador',\r\n    maxLength: 90,\r\n    width: 220\r\n},\r\n{\r\n    ...cpf,\r\n    field: 'cpfProcurador',\r\n    width: 220\r\n},\r\n{\r\n    ...phone,\r\n    field: 'telProcurador',\r\n    width: 220\r\n},\r\n{\r\n    ...email,\r\n    field: 'emailProcurador',\r\n    width: 220\r\n},\r\n{\r\n    field: 'createdAt',\r\n    label: 'Data de inclusão no sistema',\r\n    type: 'date',\r\n    width: 220\r\n}\r\n]","import { eForm, sForm, segForm, vForm } from '../Forms/joinForms'\r\n\r\nimport { cadForm } from '../Forms/cadForm'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport { seguroForm } from '../Forms/seguroForm'\r\nimport { procuradorConsultasForm } from '../Forms/procuradorConsultasForm'\r\n\r\n//Essa função seleciona e formata todos os campos que aparecem no componente ShowDetails e na exportação do arquivo de excel no ConsultasContainer\r\nconst dataToReturn = (tab, data) => {\r\n    if (data) {\r\n        delete data.tableData\r\n        const\r\n            element = [],\r\n            formPattern = setForm(tab)\r\n\r\n        Object.keys(data).forEach(key => {\r\n            if (tab === 3) {\r\n                const { veiculoId, laudoId, tableData, modeloChassiId, modeloCarroceriaId, codigoEmpresa, vencimentoContrato, delegatarioCompartilhado,\r\n                    acessibilidadeId, equipamentosId, compartilhadoId, ...vData } = data\r\n                data = vData\r\n            }\r\n\r\n            formPattern.forEach(({ field, label, type, width, fullWidth }) => {\r\n                if (key === field) {\r\n                    let obj = {}\r\n                    Object.assign(obj, { field, label, value: data[key] })\r\n                    if (type) Object.assign(obj, { type })\r\n                    if (width) Object.assign(obj, { width })\r\n                    element.push(obj)\r\n                    obj = {}\r\n                }\r\n            })\r\n        })\r\n\r\n        Object.keys(data).forEach(key => {\r\n\r\n            const equal = element.find(el => el.field === key)\r\n\r\n            if (!equal && tab === 3)\r\n                element.push({ field: key, label: key, value: data[key] })\r\n        })\r\n        return element\r\n    }\r\n}\r\n\r\nexport default dataToReturn\r\n\r\n//Essa função adiciona novos campos e sobrescreve configurações de design dos formulários utilizados em outras partes do sistema.\r\nfunction mergeForms(form, jForm) {\r\n    let\r\n        updatedForm = [],\r\n        updatedObj,\r\n        joinForm = [...jForm]\r\n\r\n    form.forEach(f => {\r\n        joinForm.forEach((jf, i) => {\r\n            if (f.field === jf.field) {\r\n                updatedObj = Object.assign({}, f, jf)\r\n                joinForm.splice(i, 1)\r\n                updatedForm.push(updatedObj)\r\n            }\r\n            else if (!updatedForm.find(el => el.field === f.field)) {\r\n                updatedForm.push(f)\r\n            }\r\n        })\r\n    })\r\n\r\n    updatedForm = updatedForm.concat(joinForm)\r\n\r\n    return updatedForm\r\n}\r\n//Junta os forms que aparecem apenas na tabela do ConsultaTemplate com outros campos do DB (próprios da tabela ou joins)\r\nexport function setForm(tab) {\r\n    let formPattern\r\n    switch (tab) {\r\n        case 0:\r\n            formPattern = mergeForms(empresasForm, eForm)\r\n            return formPattern\r\n        case 1:\r\n            formPattern = sociosForm.concat(sForm)\r\n            return formPattern\r\n        case 2:\r\n            formPattern = procuradorConsultasForm\r\n            return formPattern\r\n        case 3:\r\n            let consolidateForm = []\r\n            cadForm.forEach(form => {\r\n                consolidateForm.push(...form)\r\n            })\r\n            formPattern = consolidateForm.concat(...vForm)\r\n            return formPattern\r\n        case 4:\r\n            formPattern = seguroForm.concat(segForm)\r\n            return formPattern\r\n        default:\r\n            return formPattern\r\n    }\r\n}\r\n","export const procuradorEmpresaTable = [\r\n    {\r\n        field: 'nomeProcurador',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfProcurador',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'emailProcurador',\r\n        title: 'E-mail'\r\n    },\r\n    {\r\n        field: 'telProcurador',\r\n        title: 'Telefone'\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Validade da procuração',\r\n        type: 'date',\r\n        format: value => value ? value : 'Prazo indeterminado'\r\n    },\r\n    {\r\n        field: 'fileId',\r\n        title: 'Baixar Procuração',\r\n        type: 'link'\r\n    },\r\n]\r\n\r\n","const altContratoTable = [\r\n    {\r\n        field: 'numeroAlteracao',\r\n        label: 'Número da alteração',\r\n    },\r\n    {\r\n        field: 'numeroRegistro',\r\n        label: 'Registro na junta comercial',\r\n    },\r\n    {\r\n        field: 'numeroSei',\r\n        label: 'Número do registro SEI',\r\n    },\r\n    {\r\n        field: 'createdAt',\r\n        label: 'Registro no CadTI',\r\n        type: 'date',\r\n        format: value => value ? value : 'Nenhuma data informada'\r\n    },\r\n    {\r\n        field: 'dataJunta',\r\n        label: 'Registro na Junta Comercial',\r\n        type: 'date',\r\n        format: value => value ? value : 'Nenhuma data informada'\r\n    },\r\n    {\r\n        field: 'fileId',\r\n        label: 'Baixar alteração contratual',\r\n        value: 'Clique para baixar o arquivo',\r\n        type: 'link'\r\n    },\r\n]\r\n\r\nexport default altContratoTable","import React from 'react'\r\n\r\nconst TextArea = props => {\r\n    return (\r\n        <>\r\n            <label htmlFor={props.id} className='obs__label'>{props.label}</label>\r\n            <textarea\r\n                className='obs__textArea'\r\n                cols=\"30\"\r\n                disabled\r\n                {...props}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TextArea\r\n","export const procuracaoForm = [{\r\n    field: 'razaoSocial',\r\n    title: 'Empresa',\r\n    maxLength: 90,\r\n    width: 220\r\n},\r\n{\r\n    field: 'codigoEmpresa',\r\n    title: 'Código da empresa',\r\n    width: 220\r\n},\r\n{\r\n    field: 'status',\r\n    title: 'Status',\r\n    width: 220\r\n},\r\n{\r\n    field: 'vencimento',\r\n    title: 'Validade da procuração',\r\n    type: 'date',\r\n    format: value => value ? value : 'Prazo indeterminado'\r\n},\r\n{\r\n    field: 'fileId',\r\n    title: 'Baixar Procuração',\r\n    type: 'link'\r\n},\r\n]","import React, { useState, useEffect } from 'react'\r\nimport moment from 'moment'\r\nimport CustomTable from './CustomTable'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport createFormPattern from '../Utils/createFormPattern'\r\nimport { procuradorEmpresaTable as procTable } from '../Forms/procuradorEmpresaTable'\r\nimport altContratoTable from '../Forms/altContratoTable'\r\nimport TextArea from './TextArea'\r\nimport { procuracaoForm } from '../Forms/procuracaoForm'\r\n\r\nexport default function ShowDetails({ data, tab, title, header, close, empresas, procuracoes, procuradores, empresaDocs, altContrato }) {\r\n    //data é o objeto (row) do campo de dados de uma determinada tabela\r\n    const\r\n        //    [procs, setProcs] = useState(),\r\n        [table, setTable] = useState(),\r\n        [table2, setTable2] = useState(),\r\n        [tables, setTables] = useState([]),\r\n        element = createFormPattern(tab, data) || [], //Element é o form com a adição do campo value, inserindo data para cada objeto(field)\r\n        obs = element.find(el => el.field === 'obs'), //Informações adicionais no showDetails fora dos campos padrão (obs, equip, acess)\r\n        equipamentos = element.find(el => el.field === 'equipamentos'),\r\n        acessibilidade = element.find(el => el.field === 'acessibilidade')\r\n\r\n    //Cria tabela de procuradores e altContrato se o elemento for empresa\r\n    useEffect(() => {\r\n        //Estabelece variáveis para uso nos tabs diferentes\r\n        const\r\n            razaoSocial = element.find(el => el.field === 'razaoSocial')?.value,\r\n            codigoEmpresa = empresas.find(e => e.razaoSocial === razaoSocial)?.codigoEmpresa,\r\n            selectedDocs = procuracoes.filter(p => p.codigoEmpresa === codigoEmpresa),\r\n            selectedFiles = empresaDocs.filter(d => d.metadata?.fieldName === 'procuracao' && d.metadata?.empresaId === codigoEmpresa)\r\n        let\r\n            selectedProcs = [],\r\n            tableHeaders = [],\r\n            arrayOfRows = [],\r\n            row = [],\r\n            rowObj\r\n\r\n        const additionalInfo = (tab) => {\r\n            if (tab === 0) {\r\n                //Cria uma array de procuradores com base na array de procuradorId disponível na tabela Procuracao do Postgresql\r\n                procuradores.forEach(pr => {\r\n                    selectedDocs.forEach(doc => {\r\n                        if (doc.procuradores.some(p => p === pr.procuradorId)) {\r\n                            const\r\n                                tableRow = { ...pr, vencimento: doc.vencimento },\r\n                                file = empresaDocs.find(f => f.metadata.procuracaoId === doc.procuracaoId) // achar arquivo da procuração, se houver\r\n\r\n                            if (file)\r\n                                tableRow.fileId = file?.id\r\n                            selectedProcs.push(tableRow)\r\n                        }\r\n                    })\r\n                })\r\n\r\n                selectedProcs.forEach(proc => {\r\n                    procTable.forEach(fieldObj => {\r\n                        const { field } = fieldObj\r\n                        //insere o cabeçalho da tabela (apenas uma vez)\r\n                        if (!tableHeaders.some(t => t === fieldObj.title))\r\n                            tableHeaders.push(fieldObj.title)\r\n                        //insere as linhas (também apenas uma vez)\r\n                        if (proc.hasOwnProperty(field) && !row.some(o => o.hasOwnProperty(field))) {\r\n\r\n                            //se a coluna/field for um arquivo o valor que aparecerá na tabela é \"Clique para baixar...\"\r\n                            if (field === 'fileId' && proc.fileId)\r\n                                rowObj = { ...fieldObj, value: 'Clique para baixar a procuração', fileId: proc.fileId }\r\n                            //Senão, o valor é o valor da célula\r\n                            else\r\n                                rowObj = { ...fieldObj, value: proc[field] }\r\n\r\n                            //se a célula possuir um método de autoFormatação, aplicar\r\n                            if (fieldObj.format) {\r\n                                const value = fieldObj.format(proc[field])\r\n                                rowObj = { ...fieldObj, value }\r\n                            }\r\n                            row.push(rowObj)\r\n                        }\r\n                    })\r\n                    arrayOfRows.push(row)\r\n                    row = []\r\n                })\r\n\r\n                //Cria uma array de arquivos com base no id de cada procuração              \r\n                if (selectedProcs[0]) {\r\n                    //setProcs(selectedProcs)\r\n                    setTable({\r\n                        mainTitle: `Procuradores cadastrados para ${data?.razaoSocial}`,\r\n                        tableHeaders,\r\n                        arrayOfRows,\r\n                        docs: selectedFiles\r\n                    })\r\n                }\r\n                setAltContrato()\r\n            }\r\n        }\r\n        additionalInfo(tab)\r\n\r\n        //Se o elemento for Procurador, exibir tabela com procurações\r\n        if (tab === 2) {\r\n            const\r\n                procuradorId = (data?.procuradorId),\r\n                procs = procuracoes.filter(p => p.procuradores.includes(procuradorId))\r\n            let file\r\n            procs.forEach(p => {\r\n                file = empresaDocs.find(({ metadata }) => metadata?.procuracaoId === p.procuracaoId)\r\n                p.fileId = file?.id\r\n            })\r\n            //console.log(\"🚀 ~ file: ShowDetails.jsx ~ line 99 ~ useEffect ~ file\", procs)\r\n\r\n            procs.forEach(proc => {\r\n                procuracaoForm.forEach(fieldObj => {\r\n                    const { field } = fieldObj\r\n                    //insere o cabeçalho da tabela (apenas uma vez)\r\n                    if (!tableHeaders.some(t => t === fieldObj.title))\r\n                        tableHeaders.push(fieldObj.title)\r\n                    //insere as linhas (também apenas uma vez)\r\n                    if (proc.hasOwnProperty(field) && !row.some(o => o.hasOwnProperty(field))) {\r\n\r\n                        //se a coluna/field for um arquivo o valor que aparecerá na tabela é \"Clique para baixar...\"\r\n                        if (field === 'fileId' && proc.fileId)\r\n                            rowObj = { ...fieldObj, value: 'Clique para baixar a procuração', fileId: proc.fileId }\r\n                        //Senão, o valor é o valor da célula\r\n                        else\r\n                            rowObj = { ...fieldObj, value: proc[field] }\r\n\r\n                        //se a célula possuir um método de autoFormatação, aplicar\r\n                        if (fieldObj.format) {\r\n                            const value = fieldObj.format(proc[field])\r\n                            rowObj = { ...fieldObj, value }\r\n                        }\r\n                        row.push(rowObj)\r\n                    }\r\n                })\r\n                arrayOfRows.push(row)\r\n                row = []\r\n            })\r\n            //Cria uma array de arquivos com base no id de cada procuração              \r\n            if (procs[0])\r\n                setTable({\r\n                    mainTitle: `Procurações cadastrados para ${data?.nomeProcurador}`,\r\n                    tableHeaders,\r\n                    arrayOfRows,\r\n                    docs: empresaDocs\r\n                })\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [tab, altContrato])\r\n\r\n    //Cria a tabela que lista as alterações de contrato social caso o objeto exibido seja uma empresa\r\n    const setAltContrato = async () => {\r\n        if (altContrato) {\r\n            const\r\n                alteracoes = altContrato.filter(a => a.codigoEmpresa === data.codigoEmpresa),\r\n                altDocs = empresaDocs.filter(doc => doc?.metadata?.fieldName === 'altContratoDoc' && doc?.metadata.empresaId === data.codigoEmpresa)\r\n\r\n            let tableHeaders = [], arrayOfRows = [], row = [], rowObj = {}\r\n\r\n            alteracoes.forEach(alt => {\r\n                altContratoTable.forEach(fieldObj => {\r\n                    const { field } = fieldObj\r\n                    if (!tableHeaders.includes(fieldObj.label))\r\n                        tableHeaders.push(fieldObj.label)\r\n                    if (field === 'fileId' || (alt.hasOwnProperty(field) && !row.some(o => o.hasOwnProperty(field)))) {\r\n                        //se a coluna/field for um arquivo o valor que aparecerá na tabela é \"Clique para baixar...\"\r\n                        if (field === 'fileId') {\r\n                            let fileId = altDocs.find(d => d.metadata.numeroAlteracao === alt.numeroAlteracao)\r\n                            fileId = fileId?.id\r\n                            if (fileId)\r\n                                rowObj = { ...fieldObj, value: fieldObj?.value, fileId }\r\n                            else\r\n                                rowObj = { ...fieldObj, value: '-' }\r\n\r\n                        }\r\n                        //Senão, o valor é o valor da célula\r\n                        else\r\n                            rowObj = { ...fieldObj, value: alt[field] }\r\n                        //se a célula possuir um método de autoFormatação, aplicar\r\n                        if (fieldObj.format) {\r\n                            const value = fieldObj.format(alt[field])\r\n                            rowObj = { ...fieldObj, value }\r\n                        }\r\n                        row.push(rowObj)\r\n                    }\r\n                })\r\n                arrayOfRows.push(row)\r\n                row = []\r\n            })\r\n            if (alteracoes[0]) {\r\n                //setProcs(true)\r\n                setTable2({\r\n                    mainTitle: `Alterações do contrato social - ${data?.razaoSocial}`,\r\n                    tableHeaders,\r\n                    arrayOfRows,\r\n                    docs: altDocs\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    //Adiciona as tabelas\r\n    useEffect(() => {\r\n        const tableArray = []\r\n        if (table)\r\n            tableArray.push(table)\r\n        if (table2)\r\n            tableArray.unshift(table2)\r\n        if (tableArray[0])\r\n            setTables(tableArray)\r\n    }, [table, table2])\r\n\r\n    return (\r\n        <div className=\"popUpWindow\" style={{ left: '20%', right: '20%' }}>\r\n            <h4 className='equipaHeader'>{title} {data[header]}</h4> <hr />\r\n            <main className=\"checkListContainer\" style={{ justifyContent: 'flex-start' }}>\r\n                {\r\n                    element.map(({ field, label, value, type, width }, i) => field !== 'obs' &&\r\n                        field !== 'equipamentos' && field !== 'acessibilidade' &&\r\n                        <div className=\"showDetailsItem\" style={{ width: width ? width : 150, }} key={i}>\r\n                            <TextField\r\n                                name={field}\r\n                                label={label}\r\n                                value={type !== 'date' ? value || '' : moment(value).isValid() ? moment(value).format('DD/MM/YYYY') : ''}\r\n                                InputLabelProps={{ shrink: true, style: { fontSize: '0.9rem', fontWeight: 500 } }}\r\n                                inputProps={{\r\n                                    style: {\r\n                                        fontSize: '0.7rem',\r\n                                        width: width ? width : 150,\r\n                                        fontColor: '#bbb',\r\n                                        textAlign: 'center'\r\n                                    }\r\n                                }}\r\n                                variant='outlined'\r\n                            />\r\n                        </div>\r\n                    )}\r\n            </main>\r\n            {\r\n                //As tabelas aparecem nos detalhes das empresas, caso tenhamj procuradores e/ou alterações de contrato cadastrados\r\n                tables[0] &&\r\n                tables.map((table, i) =>\r\n                    <section key={i}>\r\n                        <hr style={{ margin: '12px 0' }} />\r\n                        <CustomTable\r\n                            length={table.tableHeaders.length}\r\n                            title={table.mainTitle}\r\n                            table={table}\r\n                            style={{ textAlign: 'center', padding: '8px 0' }}\r\n                            idIndex={1}\r\n                            filePK='fileId'\r\n                            docsCollection='empresaDocs'\r\n                        />\r\n                    </section>\r\n                )\r\n            }\r\n            {\r\n                //Se a tab for Veículos, há 3 textAreas depois dos detalhes: obs, equip e access.\r\n                tab === 3 &&\r\n                <footer className='flexColumn'>\r\n                    {\r\n                        equipamentos?.value &&\r\n                        <TextArea\r\n                            label='Equipamentos:'\r\n                            name='equipamentos'\r\n                            id='equipamentos'\r\n                            defaultValue={equipamentos?.value}\r\n                            rows='2'\r\n                        />\r\n                    }\r\n                    {\r\n                        acessibilidade?.value &&\r\n                        <TextArea\r\n                            label='Itens de acessibilidade:'\r\n                            name='acessibilidade'\r\n                            id='acessibilidade'\r\n                            defaultValue={acessibilidade?.value}\r\n                            rows='2'\r\n                        />\r\n                    }{\r\n                        obs?.value &&\r\n                        <TextArea\r\n                            label='Observações:'\r\n                            name='obs'\r\n                            id='obs'\r\n                            defaultValue={obs?.value}\r\n                            rows='6'\r\n                        />\r\n                    }\r\n                </footer>\r\n            }\r\n            <ClosePopUpButton close={close} />\r\n        </div>\r\n    )\r\n}","export const laudosTable = [\r\n    {\r\n        field: 'empresaLaudo',\r\n        title: 'Empresa Emissora',\r\n    },\r\n    {\r\n        field: 'id',\r\n        title: 'Número do Laudo',\r\n    },\r\n    {\r\n        field: 'createdAt',\r\n        title: 'Registro no sistema',\r\n        type: 'date'\r\n    },\r\n    {\r\n        field: 'validade',\r\n        title: 'Data de validade',\r\n        type: 'date'\r\n    },\r\n    \r\n    {\r\n        field: 'laudoDoc',\r\n        title: 'Laudo',\r\n        type: 'link'\r\n    },\r\n    {\r\n        field: 'delete',\r\n        title: 'Remover',        \r\n        action: 'delete',\r\n        deleteFile: true\r\n    }\r\n]\r\n\r\n\r\n","import React, { useState, useEffect, useCallback, Fragment } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport ConfirmDialog from '../Reusable Components/ConfirmDialog'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport LaudosTemplate from './LaudosTemplate'\r\nimport ShowDetails from '../Reusable Components/ShowDetails'\r\nimport { laudoForm } from '../Forms/laudoForm'\r\nimport { laudosTable } from '../Forms/laudosTable'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { setDemand } from '../Utils/setDemand'\r\nimport { sizeExceedsLimit } from '../Utils/handleFiles'\r\nimport { checkDemand } from '../Utils/checkDemand'\r\n\r\nlet i = 1 //prevent more than 1 re-render in specific functions/conditions\r\n\r\nconst Laudos = props => {\r\n    const\r\n        { user } = props,\r\n        { veiculos, empresas, empresasLaudo, laudos, vehicleDocs, logs } = props.redux,\r\n        demand = props?.location?.state?.demand\r\n\r\n    const initState = Object.freeze({\r\n        dropDisplay: 'Clique ou arraste o arquivo para anexar o laudo',\r\n        stateInputs: {\r\n            id: undefined,\r\n            validade: '',\r\n            empresaLaudo: ''\r\n        }\r\n    })\r\n\r\n    const\r\n        [razaoSocial, empresaInput] = useState(''),\r\n        [selectedEmpresa, setEmpresa] = useState(),\r\n        [oldVehicles, setOldVehicles] = useState(),\r\n        [filteredVehicles, setFilteredVehicles] = useState([]),\r\n        [details, setDetails] = useState(false),\r\n        [selectedVehicle, selectVehicle] = useState(),\r\n        [anchorEl, setAnchorEl] = useState(null),\r\n        [dropDisplay, setDropDisplay] = useState(initState.dropDisplay),\r\n        [laudoDoc, setLaudoDoc] = useState(),\r\n        [stateInputs, changeInputs] = useState({ ...initState.stateInputs }),\r\n        [toast, setToast] = useState(false),\r\n        [toastMsg, setToastMsg] = useState('Laudo enviado com sucesso.'),\r\n        [table, setTableData] = useState(),\r\n        [demandFiles, setDemandFiles] = useState(),\r\n        [fileToRemove, setFileToRemove] = useState(),\r\n        [showPendencias, setShowPendencias] = useState(false),\r\n        [alertDialog, setAlertDialog] = useState({\r\n            open: false,\r\n            type: 'inputError',\r\n            msg: '',\r\n        }),\r\n        [confirmDialogProps, setConfirmDialog] = useState({\r\n            open: false,\r\n            type: 'delete',\r\n            element: undefined,\r\n        })\r\n\r\n    //Se o usuário representa apenas uma empresa, seleciona a empresa e carrega os dados\r\n    if (empresas && empresas.length === 1 && i === 1) {\r\n        i++\r\n        setEmpresa(empresas[0])\r\n        empresaInput(empresas[0]?.razaoSocial)\r\n    }\r\n\r\n    useEffect(() => {                               //Set esc key to close details window\r\n        const escFunction = e => { if (e.keyCode === 27) setDetails(false); setAnchorEl(null) }\r\n        document.addEventListener('keydown', escFunction)\r\n        //, frota: veiculos\r\n    }, [])\r\n\r\n    //Se tiver demanda/solicitação, carregar os dados\r\n    if (demand && i === 1) {\r\n        i++\r\n        const\r\n            { history } = demand,\r\n            state = {},\r\n            fullDemand = setDemand(demand, props.redux),\r\n            empresa = fullDemand.selectedEmpresa,\r\n            dFiles = fullDemand.demandFiles,\r\n            { originalVehicle } = fullDemand\r\n\r\n        Object.entries(history[0]).forEach(([k, v]) => {            // Set state with demandState\r\n            if (stateInputs.hasOwnProperty(k))\r\n                state[k] = v\r\n        })\r\n\r\n        setEmpresa(empresa)\r\n        empresaInput(empresa.razaoSocial)\r\n        changeInputs(state)\r\n        setDemandFiles(dFiles)\r\n        selectVehicle(originalVehicle)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const insertLaudos = async () => {\r\n\r\n            if (selectedEmpresa && selectedEmpresa !== '') {\r\n                // Estabelece quais são os veículos 15+anos (oldVehicles)\r\n                const\r\n                    currentYear = new Date().getFullYear(),\r\n                    frota = veiculos.filter(v => v.empresa === selectedEmpresa.razaoSocial),\r\n                    oldVehicles = frota.filter(v => currentYear - v.anoCarroceria > 15 && v.anoCarroceria !== null).sort((a, b) => a.placa.localeCompare(b.placa))\r\n\r\n                let vehiclesLaudo = [], laudosTemp = []\r\n                oldVehicles.forEach(v => {                  //Acrescenta os laudos atualizados para cada veículo 15+anos (oldVehicles)\r\n                    laudos.forEach(l => {\r\n                        if (v.veiculoId === l.veiculoId) {\r\n                            laudosTemp.push(l)\r\n                        }\r\n                    })\r\n                    laudosTemp.sort((a, b) => {\r\n                        const dateA = new Date(a.validade)\r\n                        const dateB = new Date(b.validade)\r\n                        return dateB - dateA\r\n                    })\r\n                    vehiclesLaudo.push({ ...v, laudos: laudosTemp })\r\n                    laudosTemp = []\r\n                })\r\n\r\n                await setOldVehicles(vehiclesLaudo)\r\n                await setFilteredVehicles(vehiclesLaudo)\r\n\r\n                if (selectedVehicle && vehiclesLaudo?.length > 0) {\r\n                    const updatedVehicle = vehiclesLaudo.find(v => v.veiculoId === selectedVehicle.veiculoId)\r\n                    if (updatedVehicle?.laudos?.length !== selectedVehicle?.laudos?.length) {\r\n                        await selectVehicle(updatedVehicle)\r\n                    } else return\r\n                }\r\n            } else {\r\n                setOldVehicles()\r\n                setFilteredVehicles([])\r\n                setEmpresa()\r\n            }\r\n        }\r\n\r\n        insertLaudos()\r\n    }, [selectedEmpresa, veiculos, laudos, selectedVehicle])\r\n\r\n    const handleInput = useCallback(e => {\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'razaoSocial') {\r\n            empresaInput(value)\r\n            const selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n            setEmpresa(selectedEmpresa)\r\n            return\r\n        }\r\n        if (name === 'placa' && oldVehicles[0]) {\r\n            if (typeof value === 'string') value = value.toLocaleUpperCase()\r\n            if (!value || value === '') setFilteredVehicles(oldVehicles)\r\n            else {\r\n                let vehicle\r\n                const filtered = oldVehicles.filter(v => v.placa.match(value))\r\n                if (filtered.length === 1) vehicle = filtered[0]\r\n\r\n                setFilteredVehicles(filtered)\r\n                selectVehicle(vehicle)\r\n                return\r\n            }\r\n        }\r\n        changeInputs({\r\n            ...stateInputs, [name]: value\r\n        })\r\n\r\n    }, [empresaInput, empresas, oldVehicles, stateInputs])\r\n\r\n    const clickOnPlate = async event => {\r\n        const\r\n            { id } = event.currentTarget,\r\n            demandExists = checkDemand(id, logs)\r\n\r\n        if (demandExists) {\r\n            alert('Solicitação de cadastro do laudo já realizada para este veículo.')\r\n            return\r\n        }\r\n\r\n        if (selectedVehicle) {\r\n            event.persist()\r\n            setAnchorEl(event.target);\r\n        } else {\r\n            const { id } = event.currentTarget\r\n            let v\r\n            if (id) v = oldVehicles.find(v => v.veiculoId.toString() === id)\r\n            selectVehicle(v)\r\n            setFilteredVehicles([v])\r\n        }\r\n    }\r\n\r\n    //Cria os cabeçalhos, linhas e células da tabela que exibe os laudos\r\n    useEffect(() => {\r\n        if (selectedVehicle && !demand) {\r\n            if (selectedVehicle.laudos && selectedVehicle.laudos[0]) {\r\n\r\n                const\r\n                    vehicleLaudos = selectedVehicle?.laudos,\r\n                    laudoDocs = vehicleDocs.filter(d => d.metadata.fieldName === 'laudoDoc')\r\n\r\n                let laudosArray = [], tableHeaders = [], tempArray = [], table2 = [...laudosTable]\r\n\r\n                //Remove a opção de apagar se o usuário não for admin (é o último objeto de laudosTable, de onde veio)\r\n                if (user.role === 'empresa')\r\n                    table2.pop()\r\n\r\n                vehicleLaudos.forEach(l => {\r\n                    table2.forEach(t => {\r\n                        let fileId\r\n\r\n                        // eslint-disable-next-line eqeqeq\r\n                        const laudoDoc = laudoDocs.find(d => d?.metadata?.laudoId == l?.id)\r\n                        if (laudoDoc)\r\n                            fileId = laudoDoc.id\r\n\r\n                        if (!tableHeaders.includes(t.title))\r\n                            tableHeaders.push(t.title)\r\n\r\n                        const { title, ...tableData } = t\r\n\r\n                        if (t.field === 'laudoDoc')\r\n                            tempArray.push({ ...tableData, value: l[t.field], fileId })\r\n                        else\r\n                            tempArray.push({ ...tableData, value: l[t.field] })\r\n                    })\r\n\r\n                    if (tempArray[4].fileId) tempArray[4].value = 'Clique para visualizar o laudo'\r\n                    else tempArray[4].value = 'Nenhum arquivo encontrado'\r\n                    laudosArray.push(tempArray)\r\n                    tempArray = []\r\n                })\r\n\r\n                table2 = [...laudosTable]\r\n                setTableData({ tableHeaders, arrayOfRows: laudosArray, docs: laudoDocs })\r\n\r\n            } else setTableData(`Nenhum laudo cadastrado para o veículo placa ${selectedVehicle.placa}.`)\r\n        }\r\n    }, [selectedVehicle, laudos, vehicleDocs, demand, user.role])\r\n\r\n    useEffect(() => {\r\n        i = 1\r\n        void 0\r\n    }, [])\r\n    const clear = () => {\r\n        document.querySelector('[name = \"placa\"]').value = ''\r\n        setFilteredVehicles(oldVehicles)\r\n        selectVehicle()\r\n    }\r\n\r\n    const showDetails = () => {\r\n        if (selectedVehicle) {\r\n            setDetails(!details)\r\n            setAnchorEl(null)\r\n        } else {\r\n            setDetails(false)\r\n            selectVehicle(undefined)\r\n            setAnchorEl(null)\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async approved => {\r\n        const\r\n            empresaId = selectedEmpresa?.codigoEmpresa,\r\n            veiculoId = selectedVehicle?.veiculoId\r\n        let\r\n            { empresaLaudo, ...requestElement } = stateInputs,\r\n            errors = checkInputErrors() || []\r\n\r\n        //***************************Check for errors*********************/\r\n        const laudoAlreadyExists = laudos.find(l => l.id === stateInputs.id)\r\n        if (laudoAlreadyExists) {\r\n            setAlertDialog({\r\n                ...alertDialog,\r\n                open: true,\r\n                msg: 'O laudo informado já existe no sistema. Laudo nº ' + laudoAlreadyExists.id.toString()\r\n            })\r\n            clearForm()\r\n            return\r\n        }\r\n        Object.keys(stateInputs).forEach(k => {\r\n            if (k !== 'validade' && (!stateInputs[k] || stateInputs[k] === '')) {\r\n                let errorLabel = laudoForm.find(obj => obj.field === k)?.label\r\n                errors.push(errorLabel)\r\n            }\r\n        })\r\n        if (errors[0]) {\r\n            setAlertDialog({\r\n                ...alertDialog,\r\n                open: true,\r\n                msg: 'Favor verificar o preenchimento dos seguintes campos: ' + errors.toString()\r\n            })\r\n            clearForm()\r\n            return\r\n        }\r\n\r\n        //***************************Prepare the Log *********************/\r\n        if (approved === undefined) {\r\n\r\n            const history = {\r\n                ...stateInputs\r\n            },\r\n                log = {\r\n                    empresaId,\r\n                    veiculoId,\r\n                    history,\r\n                    historyLength: 0,\r\n                    metadata: {\r\n                        fieldName: 'laudoDoc',\r\n                        veiculoId\r\n                    },\r\n                }\r\n\r\n            if (laudoDoc)\r\n                log.history.files = laudoDoc\r\n\r\n            logGenerator(log)\r\n                .then(r => console.log(r?.data))\r\n            clearForm('all fields, reset state please!')\r\n            removeFile('laudoDoc')\r\n            toggleToast()\r\n            //console.log(initState.dropDisplay, laudoDoc)\r\n            return\r\n        }\r\n\r\n        if (approved === false) {\r\n            const log = {\r\n                id: demand.id,\r\n                empresaId,\r\n                history: {\r\n                    info: stateInputs?.info\r\n                },\r\n                declined: true\r\n            }\r\n            logGenerator(log)\r\n                .then(r => console.log(r))\r\n            setToastMsg('Solicitação indeferida!')\r\n            toggleToast()\r\n\r\n            setTimeout(() => {\r\n                props.history.push('/solicitacoes')\r\n            }, 1500);\r\n        }\r\n\r\n        if (approved === true) {\r\n            //Prepare the request Object\r\n            const empresa = empresasLaudo.find(e => e.empresa === empresaLaudo)\r\n            let laudoId\r\n            if (empresa)\r\n                requestElement.empresa_id = empresa.id  //Esse é id da empresa que emite o laudo\r\n            requestElement.veiculo_id = selectedVehicle.veiculoId\r\n            requestElement.codigo_empresa = empresaId    // Esse é o código da empresa/delegatário\r\n            const requestBody = { table: 'laudos', requestElement }\r\n\r\n            //Submit\r\n            await axios.post('/api/addElement', requestBody)\r\n                .then(r => {\r\n                    laudoId = r?.data[0]?.id\r\n                    console.log(r.data)\r\n                })\r\n                .catch(err => console.log(err))\r\n\r\n            //Record the log\r\n            const log = {\r\n                id: demand.id,\r\n                veiculoId,\r\n                demandFiles,\r\n                history: {},\r\n                metadata: {\r\n                    laudoId,\r\n                    tempFile: 'false'\r\n                },\r\n                approved\r\n            }\r\n\r\n            logGenerator(log)\r\n                .then(r => console.log(r.data))\r\n\r\n            //Toast cofirmation, clear State and redirect to Solicitacoes\r\n            setTimeout(() => { props.history.push('/solicitacoes') }, 1500);\r\n            setToastMsg('Laudo aprovado!')\r\n            toggleToast()\r\n            clearForm('Clear all Of It!!!')\r\n        }\r\n    }\r\n\r\n    function confirmDelete(laudoId) {\r\n        setConfirmDialog({\r\n            ...confirmDialogProps, open: true,\r\n            element: `laudo nº ${laudoId}`,\r\n            laudoId\r\n        })\r\n    }\r\n\r\n    function deleteLaudo(laudoId) {\r\n\r\n        const\r\n            { veiculoId } = selectedVehicle,\r\n            { codigoEmpresa } = selectedEmpresa\r\n\r\n        if (laudoId) {\r\n            closeConfirmDialog()\r\n\r\n            axios.delete(`/api/delete?table=laudos&tablePK=id&id=${laudoId}&veiculoId=${veiculoId}&codigoEmpresa=${codigoEmpresa}`)\r\n                .then(({ data }) => console.log(data))\r\n\r\n            const laudoDoc = vehicleDocs.find(d => d.metadata.fieldName === 'laudoDoc' && d.metadata.laudoId === laudoId.toString())\r\n            if (laudoDoc) axios.delete(`/api/deleteFile?collection=vehicleDocs&id=${laudoDoc?.id}&codigoEmpresa=${codigoEmpresa}`)\r\n                .then(({ data }) => console.log(data))\r\n        }\r\n    }\r\n\r\n    const handleFiles = (files, name) => {\r\n        //limit file Size\r\n        if (sizeExceedsLimit(files)) return\r\n\r\n        if (files && files[0]) {\r\n            let formData = new FormData()\r\n            formData.append('fieldName', 'laudoDoc')\r\n            formData.append('laudoId', stateInputs.id)\r\n            formData.append('veiculoId', selectedVehicle.veiculoId)\r\n            formData.append(name, files[0])\r\n            setLaudoDoc(formData)\r\n            setFileToRemove(undefined)\r\n            //  setDropDisplay(files[0].name)\r\n        }\r\n    }\r\n\r\n    const removeFile = async name => {\r\n        setFileToRemove(name)\r\n        setLaudoDoc(undefined)\r\n    }\r\n\r\n    const\r\n        closeMenu = () => setAnchorEl(null),\r\n        toggleAlert = () => setAlertDialog({ ...alertDialog, open: !alertDialog.open }),\r\n        toggleToast = () => setToast(!toast),\r\n        closeConfirmDialog = () => setConfirmDialog({ ...confirmDialogProps, open: false }),\r\n\r\n        clearForm = allFields => {\r\n            if (allFields) changeInputs({ ...initState.stateInputs })\r\n            setLaudoDoc()\r\n            setDropDisplay(initState.dropDisplay)\r\n            setOldVehicles()\r\n            setFilteredVehicles()\r\n        }\r\n\r\n    const selectOptions = props.redux.empresasLaudo.map(e => e.empresa)\r\n\r\n    return (\r\n        <Fragment>\r\n            <LaudosTemplate\r\n                empresas={empresas} razaoSocial={razaoSocial} selectedEmpresa={selectedEmpresa} filteredVehicles={filteredVehicles} selectedVehicle={selectedVehicle}\r\n                anchorEl={anchorEl} stateInputs={stateInputs} selectOptions={selectOptions} dropDisplay={dropDisplay} laudoDoc={laudoDoc} table={table}\r\n                demand={demand} demandFiles={demandFiles} showPendencias={showPendencias} fileToRemove={fileToRemove}\r\n                functions={{\r\n                    handleInput, clickOnPlate, showDetails, handleFiles, handleSubmit, closeMenu, clear, removeFile,\r\n                    setShowPendencias, deleteLaudo: confirmDelete\r\n                }}\r\n            />\r\n            {details && <ShowDetails\r\n                close={showDetails}\r\n                data={{ ...selectedVehicle, tableData: '' }}\r\n                tab={3}\r\n                title={'Veículo'}\r\n                header={'- informações'}\r\n            />}\r\n\r\n            {confirmDialogProps.open && <ConfirmDialog {...confirmDialogProps} close={closeConfirmDialog} confirm={deleteLaudo} id={confirmDialogProps.laudoId} />}\r\n\r\n            {alertDialog.open && <AlertDialog open={alertDialog.open} close={toggleAlert} alertType={alertDialog.type} customMessage={alertDialog.msg} />}\r\n            <ReactToast open={toast} close={toggleToast} msg={toastMsg} />\r\n        </Fragment >\r\n    )\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'empresasLaudo', 'laudos', 'getFiles/vehicleDocs']\r\nexport default StoreHOC(collections, Laudos)\r\n\r\n/*\r\n        [razaoSocial, empresaInput] = useState(empresas[0].razaoSocial),\r\n        [selectedEmpresa, setEmpresa] = useState(empresas[0]),\r\n        [oldVehicles, setOldVehicles] = useState(veiculos[0]),\r\n        [filteredVehicles, setFilteredVehicles] = useState([veiculos[0]]),\r\n        [details, setDetails] = useState(false),\r\n        [selectedVehicle, selectVehicle] = useState(veiculos[0]),\r\n\r\n\r\n\r\n[razaoSocial, empresaInput] = useState(''),\r\n[selectedEmpresa, setEmpresa] = useState(),\r\n[oldVehicles, setOldVehicles] = useState(),\r\n[filteredVehicles, setFilteredVehicles] = useState([]),\r\n[details, setDetails] = useState(false),\r\n[selectedVehicle, selectVehicle] = useState(), */","import { createContext } from 'react'\r\n\r\nexport const ReactContext = createContext(null)\r\n\r\nexport const  initContext = {\r\n    user: 'MockUser',\r\n    demandId: null\r\n}\r\n\r\n\r\n\r\n","import React from 'react'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { MenuItem } from '@material-ui/core'\r\n\r\nexport default function BaixaOptions({ motivosBaixa, selectMotivo, selectedMotivo, demand }) {\r\n\r\n    return (\r\n        <>\r\n            <div className=\"flexColumn\">\r\n                {\r\n                    !demand && <>\r\n                        <h3>Selecione o motivo da baixa</h3>\r\n                        <TextField\r\n                            className='config__selector'\r\n                            onChange={selectMotivo}\r\n                            name='selectedOption'\r\n                            value={selectedMotivo || ''}\r\n                            select={true}\r\n                            placeholder='Clique para selecionar...'\r\n                            SelectProps={{\r\n                                style: {\r\n                                    fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                                    width: 325, height: '44px'\r\n                                }\r\n                            }}\r\n                        >\r\n                            {motivosBaixa.map((opt, i) =>\r\n                                <MenuItem key={i} value={opt} >\r\n                                    {opt}\r\n                                </MenuItem>\r\n                            )}\r\n                        </TextField>\r\n                    </>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport './baixa.scss'\r\n\r\nconst options = [\r\n    {\r\n        value: 'baixar',\r\n        label: 'Baixar veículo'\r\n    },\r\n    {\r\n        value: 'gerenciar',\r\n        label: 'Gerenciar veículos baixados'\r\n    }\r\n]\r\n\r\nexport default function BaixaOptions({ empresas, selectOption, parametros, demand, checked, delegaTransf, justificativa, pendencias, handleInput, handleBlur, handleCheck, handleSubmit }) {\r\n    return (\r\n        <div className=\"flex center\">\r\n            <div className=\"flexColumn \">\r\n                <h3 className='radio__title' >Selecione uma das opções abaixo</h3>\r\n                <FormControl component=\"fieldset\">\r\n                    <RadioGroup aria-label=\"position\" name=\"position\"\r\n                        onChange={selectOption} row\r\n                        style={{ width: 'auto' }}\r\n                        className='radio'\r\n                    >\r\n                        {\r\n                            options.map(({ value, label }, i) =>\r\n                                <FormControlLabel\r\n                                    key={i}\r\n                                    className='radio'\r\n                                    value={value}\r\n                                    label={<span className='radio__legend'> {label} </span>}\r\n                                    control={<Radio color=\"primary\" size='small' />}\r\n                                />\r\n                            )\r\n                        }\r\n                    </RadioGroup>\r\n                </FormControl>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nconst CustomButton = props => {\r\n    const { action, onClick, disabled } = props\r\n    let\r\n        icon = () => null,\r\n        label = ''\r\n\r\n    if (action === 'save') {\r\n        icon = () => <SaveIcon />\r\n        label = 'Salvar'\r\n    }\r\n    return (\r\n        <Button\r\n            size=\"small\"\r\n            color='primary'\r\n            className='saveButton'\r\n            variant=\"contained\"\r\n            onClick={() => onClick()}\r\n            disabled={disabled}\r\n        >\r\n            {props.label || label} <span>&nbsp;&nbsp; </span> {icon()}\r\n        </Button>\r\n    )\r\n}\r\n\r\nexport default CustomButton","import React from 'react'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport CustomButton from '../Reusable Components/CustomButton';\r\nimport { dischargedForm as df } from '../Forms/dischargedForm';\r\n\r\nconst BaixaGerenciar = ({ data, user, handleInput, searchDischarged, downloadXls, reactivateVehicle }) => {\r\n    const\r\n        { role } = user,\r\n        { placaBaixada, dischargedFound, notFound, reactivate, selectedOption } = data\r\n\r\n\r\n    //Retira o campo observações, que será renderizado como blockElement fora do dischargedForm.map()\r\n    const\r\n        dischargedForm = JSON.parse(JSON.stringify(df)),\r\n        obs = dischargedForm.find(f => f.label === 'Observação'),\r\n        index = dischargedForm.indexOf(obs)\r\n\r\n    dischargedForm.splice(index, 1)\r\n\r\n    return (\r\n        <>\r\n            <div className='flex center paper'>\r\n                <header className='searchDischarged__header'>\r\n\r\n                    <div className='searchDischarged'>\r\n                        <div>\r\n                            <form onSubmit={searchDischarged}>\r\n                                <TextField\r\n                                    type=\"text\"\r\n                                    name='placaBaixada'\r\n                                    label='Pesquisar pela placa do veículo'\r\n                                    value={placaBaixada || ''}\r\n                                    onChange={handleInput}\r\n                                    placeholder='Digite a placa'\r\n                                    InputLabelProps={{ style: { fontSize: '0.7rem' } }}\r\n                                    InputProps={{ style: { width: '250px', marginRight: '10px', fontSize: '0.9rem', textAlign: 'center' } }}\r\n                                />\r\n                            </form>\r\n                            <span\r\n                                action='search'\r\n                                onClick={searchDischarged}\r\n                                style={{ marginTop: '18px' }}\r\n                            >\r\n                                <SearchIcon className='pointer' />\r\n                            </span>\r\n                        </div>\r\n                        {\r\n                            role !== 'empresa' &&\r\n                            <div className='downloadXls' onClick={downloadXls}>\r\n                                <img\r\n                                    className='downloadXls__icon'\r\n                                    src={selectedOption === 'baixar' ? '' : \"/images/excel.png\"}\r\n                                    alt=\"Fazer o download do arquivo xlsx\"\r\n                                    title='Arquivo xlsx com todos os veículos baixados'\r\n                                />\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </header>\r\n                {\r\n                    dischargedFound &&\r\n                    <>\r\n                        <section className='dischargedContainer'>\r\n                            {\r\n                                dischargedForm.map(({ label }, i) =>\r\n                                    <TextField\r\n                                        label={label}\r\n                                        key={i}\r\n                                        value={dischargedFound[label]}\r\n                                        disabled={true}\r\n                                        InputLabelProps={{ style: { fontSize: '0.7rem' }, shrink: true }}\r\n                                        InputProps={{\r\n                                            style: {\r\n                                                width: '250px', margin: '8px 10px 0 0', fontSize: '0.7rem',\r\n                                                color: label === 'Situação' && dischargedFound[label] === 'Reativado' ? 'red' : '#444'\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                )\r\n                            }\r\n                        </section>\r\n                        <section className='obs'>\r\n                            <label htmlFor=\"obs\" className='obs__label'>Observações:</label>\r\n                            <textarea\r\n                                name=\"obs\"\r\n                                id=\"obs\"\r\n                                className='obs__textArea'\r\n                                defaultValue={dischargedFound['Observação']}\r\n                                cols=\"30\"\r\n                                rows=\"6\" />\r\n                        </section>\r\n                        {\r\n                            reactivate &&\r\n                            <footer className='reactivate'>\r\n                                <CustomButton\r\n                                    action='save'\r\n                                    label='Reativar'\r\n                                    onClick={() => reactivateVehicle()}\r\n                                />\r\n                            </footer>\r\n                        }\r\n                    </>\r\n                }\r\n            </div>\r\n            {\r\n                notFound &&\r\n                <h3>Veículo não encontrado.</h3>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default BaixaGerenciar\r\n","export const baixaForm = [\r\n    {\r\n        field: 'placa',\r\n        label: 'Placa',\r\n        datalist: 'placa',\r\n        autoComplete: true,\r\n        collection: 'frota',\r\n        maxLength: 8\r\n    },\r\n    {\r\n        field: 'renavam',\r\n        label: 'Renavam',\r\n    },\r\n    {\r\n        field: 'nChassi',\r\n        label: 'Número do Chassi',\r\n        maxLength: 17,\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilização',\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'dominio',\r\n        label: 'Situação da Propriedade',\r\n        disabled: true\r\n    },\r\n\r\n    {\r\n        field: 'marcaChassi',\r\n        label: 'Marca do Chassi',\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloChassi',\r\n        label: 'Modelo do Chassi',\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'marcaCarroceria',\r\n        label: 'Marca da Carroceria',\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloCarroceria',\r\n        label: 'Modelo da Carroceria',\r\n        disabled: true\r\n    },\r\n    {\r\n        type: 'number',\r\n        field: 'indicadorIdade',\r\n        label: 'Indicador de idade',\r\n        disabled: true\r\n    }\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\n\r\nimport BaixaMotivo from './BaixaMotivo'\r\nimport BaixaOptions from './BaixaOptions'\r\nimport BaixaGerenciar from './BaixaGerenciar'\r\n\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\nimport Button from '@material-ui/core/Button'\r\nimport Send from '@material-ui/icons/Send'\r\n\r\nimport { baixaForm } from '../Forms/baixaForm'\r\nimport './veiculos.scss'\r\n\r\nexport default function ({ user, selectOption, handleInput, handleBlur, handleCheck, handleSubmit, selectMotivo,\r\n    data, empresas, motivosBaixa, searchDischarged, downloadXls, reactivateVehicle, setShowPendencias }) {\r\n    const { selectedEmpresa, selectedOption, checked, delegaTransf, justificativa, selectedMotivo, demand, info, motivo, showPendencias } = data\r\n\r\n    return (\r\n        <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Baixa de veículo' demand={demand} />\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}\r\n                handleBlur={handleBlur}\r\n            />\r\n            <div className=\"flexColumn\">\r\n                {//razaoSocial && frota[0] &&\r\n                    selectedEmpresa &&\r\n                    <>\r\n                        {\r\n                            !demand &&\r\n                            <BaixaOptions\r\n                                demand={demand}\r\n                                checked={checked}\r\n                                delegaTransf={delegaTransf}\r\n                                justificativa={justificativa}\r\n                                empresas={empresas}\r\n                                selectOption={selectOption}\r\n                                handleInput={handleInput}\r\n                                handleBlur={handleBlur}\r\n                                handleCheck={handleCheck}\r\n                                handleSubmit={handleSubmit}\r\n                            />\r\n                        }\r\n                        {\r\n                            selectedOption === 'baixar' ?\r\n                                <div className=\"flex\">\r\n                                    <section className=\"paper\">\r\n                                        <h3 style={{ marginBottom: '7px' }}>\r\n                                            {!demand ? 'Informe os dados para a baixa' : `Solicitação nº${demand?.numero} - ${demand?.subject}`}\r\n                                        </h3>\r\n                                        {demand &&\r\n                                            <h4>\r\n                                                {motivo}\r\n                                            </h4>\r\n                                        }\r\n                                        {demand &&\r\n                                            <h4>Situação: {demand?.status}</h4>\r\n                                        }\r\n                                        <TextInput\r\n                                            form={baixaForm}\r\n                                            data={data}\r\n                                            handleBlur={handleBlur}\r\n                                            handleInput={handleInput}\r\n                                            disableAll={demand ? true : false}\r\n                                        />\r\n                                    </section>\r\n                                    <BaixaMotivo\r\n                                        demand={demand}\r\n                                        selectedOption={selectedOption}\r\n                                        //delegaTransf={delegaTransf}\r\n                                        motivosBaixa={motivosBaixa}\r\n                                        selectMotivo={selectMotivo}\r\n                                        selectedMotivo={selectedMotivo}\r\n                                        info={info}\r\n                                        empresas={empresas}\r\n                                        handleInput={handleInput}\r\n                                        handleBlur={handleBlur}\r\n                                        handleSubmit={handleSubmit}\r\n                                        setShowPendencias={setShowPendencias}\r\n                                        showPendencias={showPendencias}\r\n                                    />\r\n                                </div>\r\n                                :\r\n                                selectedOption === 'gerenciar' ?\r\n                                    <BaixaGerenciar\r\n                                        data={data}\r\n                                        user={user}\r\n                                        handleInput={handleInput}\r\n                                        searchDischarged={searchDischarged}\r\n                                        downloadXls={downloadXls}\r\n                                        reactivateVehicle={reactivateVehicle}\r\n                                    />\r\n                                    : null\r\n                        }\r\n                        {\r\n                            !demand && selectedOption === 'baixar' ?\r\n                                <div className=\"flexEnd\">\r\n                                    <Button\r\n                                        size=\"small\"\r\n                                        color=\"primary\"\r\n                                        variant=\"outlined\"\r\n                                        style={{ margin: '10px 0 10px 0' }}\r\n                                        onClick={() => handleSubmit()}\r\n                                    >\r\n                                        Confirmar <span>&nbsp;&nbsp; </span> <Send />\r\n                                    </Button>\r\n                                </div>\r\n                                : demand ?\r\n                                    <StepperButtons\r\n                                        uniqueStep={true}\r\n                                        declineButtonLabel='Indeferir'\r\n                                        demand={demand}\r\n                                        setShowPendencias={setShowPendencias}\r\n                                        showPendencias={showPendencias}\r\n                                        info={info}\r\n                                        handleSubmit={handleSubmit}\r\n                                        handleInput={handleInput}\r\n                                    />\r\n                                    : null\r\n                        }\r\n                    </>\r\n                }\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport { ReactContext } from '../Store/ReactContext'\r\nimport axios from 'axios'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport BaixaTemplate from './BaixaTemplate'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\n\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { baixaForm } from '../Forms/baixaForm'\r\nimport { checkDemand } from '../Utils/checkDemand'\r\n\r\nimport './veiculos.scss'\r\nimport Loading from '../Layouts/Loading'\r\nimport { dischargedForm } from '../Forms/dischargedForm'\r\n\r\nclass BaixaVeiculo extends Component {\r\n\r\n    static contextType = ReactContext\r\n\r\n    state = {\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        frota: [],\r\n        placa: '',\r\n        form: {},\r\n        check: '',\r\n        delegaTransf: '',\r\n        toastMsg: 'Solicitação de Baixa Enviada',\r\n        confirmToast: false,\r\n        openDialog: false,\r\n        showPendencias: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n        const { empresas, veiculos } = this.props.redux\r\n\r\n        if (empresas && empresas.length === 1)\r\n            this.setState({ selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos })\r\n\r\n        const demand = this.props?.location?.state?.demand\r\n        if (demand) {\r\n            const\r\n                { empresas, veiculos } = this.props.redux,\r\n                { empresa, veiculo } = demand,\r\n                selectedEmpresa = empresas.find(e => e.razaoSocial === empresa),\r\n                frota = veiculos.filter(v => v.placa === veiculo),\r\n                selectedVehicle = frota.find(v => v.placa === veiculo),\r\n                motivo = demand?.history[0]?.info\r\n\r\n            await this.setState({ razaoSocial: empresa, selectedEmpresa, placa: veiculo, frota, ...selectedVehicle, selectedVehicle, demand, selectedOption: 'baixar', motivo })\r\n        }\r\n    }\r\n    selectOption = e => this.setState({ selectedOption: e.target.value })\r\n    selectMotivo = e => this.setState({ selectedMotivo: e.target.value })\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { name, value } = e.target,\r\n            { veiculos, empresas } = this.props.redux\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        if (name === 'razaoSocial' && value.length > 2) {\r\n            let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n                this.setState({ frota })\r\n\r\n            } else {\r\n                await this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                this.reset()\r\n            }\r\n        }\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const\r\n            { empresas, logs } = this.props.redux,\r\n            { frota, demand } = this.state,\r\n            { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'delegaTransf') {\r\n            if (value.length > 0) {\r\n                const delegaTransf = empresas.find(e => e.razaoSocial === value)\r\n                if (delegaTransf) {\r\n                    const { razaoSocial, codigoEmpresa } = delegaTransf\r\n                    await this.setState(\r\n                        {\r\n                            delegaTransf: razaoSocial,\r\n                            delegaTransfId: codigoEmpresa,\r\n                            disableSubmit: true\r\n                        }\r\n                    )\r\n                    console.log(this.state)\r\n                    void 0\r\n                } else this.setState({ openAlertDialog: true, alertType: 'empresaNotFound', delegaTransf: '' })\r\n            }\r\n        }\r\n\r\n        if (name === 'placa' && typeof frota !== 'string') {\r\n            if (!value || value === '') this.setState({ disableSubmit: true })\r\n\r\n            let vehicle\r\n            if (value.length > 2)\r\n                vehicle = frota.find(v => {\r\n                    if (typeof value === 'string') return v.placa.toLowerCase().match(value.toLowerCase())\r\n                    else return v.placa.match(value)\r\n                })\r\n\r\n            if (vehicle) {\r\n                if (!demand) {\r\n                    const\r\n                        customTitle = 'Solicitação já cadastrada',\r\n                        customMessage = `Já existe uma demanda aberta para o veículo de placa ${vehicle.placa}. Para acessá-la, clique em \"Solicitações\" no menu superior.`\r\n\r\n                    const demandExists = checkDemand(vehicle?.veiculoId, logs)\r\n\r\n                    if (demandExists) {\r\n                        this.setState({ customTitle, customMessage, openAlertDialog: true, delegatario: '', placa: undefined })\r\n                        return\r\n                    }\r\n                }\r\n\r\n                await this.setState({ ...vehicle, selectedVehicle: vehicle })\r\n\r\n            } else if (this.state.placa !== '') {\r\n                let reset = {}\r\n                if (frota[0]) Object.keys(frota[0]).forEach(k => reset[k] = '')\r\n                this.setState({ alertType: 'plateNotFound', openAlertDialog: true, disableSubmit: true })\r\n                this.setState({ ...reset })\r\n            }\r\n        }\r\n    }\r\n\r\n    handleSubmit = async (approved) => {\r\n        const\r\n            { empresas, veiculos } = this.props.redux,\r\n            { selectedEmpresa, veiculoId, selectedMotivo, demand, selectedVehicle, info, motivo } = this.state,\r\n            { dataEmissao, vencimento, dataRegistro } = selectedVehicle,\r\n            { codigoEmpresa } = selectedEmpresa\r\n\r\n        //**************Create Log****************** */\r\n        const log = {\r\n            empresaId: codigoEmpresa,\r\n            veiculoId,\r\n            history: { info: selectedMotivo ? `Motivo da baixa: ${selectedMotivo}` : motivo },\r\n            historyLength: 0,\r\n            approved\r\n        }\r\n        if (demand)\r\n            log.id = demand?.id\r\n        //Caso indeferida, registrar o motivo (info) e alterar a mensagem do toast\r\n        if (approved === false) {\r\n            log.declined = true\r\n            log.history.info = info\r\n            await this.setState({ toastMsg: 'Baixa de veículo indeferida.' })\r\n        }\r\n        logGenerator(log).then(r => console.log(r.data))\r\n\r\n        //*************If approved, submit request to update Postgres DB **************** */\r\n        if (approved) {\r\n            const\r\n                table = 'veiculos',\r\n                tablePK = 'veiculo_id',\r\n                discharged = {}\r\n\r\n            dischargedForm.forEach(({ field, label }) => {\r\n                if (selectedVehicle[field])\r\n                    discharged[label] = selectedVehicle[field].toString()\r\n            })\r\n            Object.assign(discharged, {\r\n                'Situação': 'Baixado',\r\n                'Data de Registro': new Date(dataRegistro).toLocaleDateString(),\r\n                'Data baixa': new Date().toLocaleDateString(),\r\n                'Data Inicio': new Date(dataEmissao).toLocaleDateString(),\r\n                'Data Fim': new Date(vencimento).toLocaleDateString(),\r\n                'Observação': `${motivo}`\r\n            })\r\n            console.log(discharged)\r\n            //Salva o veículo baixado no MongoDB\r\n            axios.post('/api/baixaVeiculo', discharged)\r\n            //Apaga o veículo baixado do Postgresql\r\n            await axios.delete(`/api/delete?table=${table}&tablePK=${tablePK}&id=${veiculoId}&codigoEmpresa=${codigoEmpresa}`)\r\n                .then(r => console.log(r))\r\n                .catch(err => console.log(err))\r\n\r\n            await this.setState({ toastMsg: 'Baixa realizada com sucesso.' })\r\n        }\r\n\r\n        //***********Clear state****************** */        \r\n        this.toast()\r\n        //Se o usuário só tiver uma empresa, manter os dados da empresa após resetState\r\n        if (empresas && empresas.length === 1) {\r\n            const empresaDetails = { selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos }\r\n            await this.setState({ ...empresaDetails, selectedMotivo: undefined })\r\n        }\r\n        else\r\n            await this.setState({ selectedEmpresa: undefined, frota: [], razaoSocial: '', selectedMotivo: undefined })\r\n        this.reset()\r\n\r\n        //***********if demand, Redirect to /solicitacoes */        \r\n        if (demand)\r\n            setTimeout(() => {\r\n                this.props.history.push('/solicitacoes')\r\n            }, 1500)\r\n    }\r\n\r\n    searchDischarged = async e => {\r\n        e.preventDefault()\r\n        const\r\n            { placaBaixada } = this.state,\r\n            { parametros } = this.props.redux,\r\n            { idadeBaixaAut } = parametros[0]?.idadeBaixa,\r\n            query = await axios.get(`/api/getOldVehicles?placa=${placaBaixada}`),\r\n            result = query?.data\r\n\r\n        if (result[0]) {\r\n            const\r\n                found = result[0],\r\n                currentYear = new Date().getFullYear(),\r\n                year = +found['Ano carroceria'],\r\n                age = currentYear - year\r\n\r\n            let reactivate = true\r\n\r\n            if (age > idadeBaixaAut || found['Situação'] === 'Reativado')\r\n                reactivate = false\r\n\r\n            this.setState({ dischargedFound: result[0], notFound: false, reactivate })\r\n        }\r\n        else\r\n            this.setState({ notFound: true, dischargedFound: undefined })\r\n    }\r\n\r\n    reactivateVehicle = () => {\r\n        const\r\n            { dischargedFound } = this.state,\r\n            reqBody = {\r\n                placa: dischargedFound?.Placa,\r\n                'Situação': 'Reativado'\r\n            },\r\n            customTitle = 'Veículo reativado.',\r\n            customMessage = `O veículo de placa ${dischargedFound?.Placa} poderá ser recadastrado no sistema acessando as opções Veículos -> Cadastro de Veículos.`\r\n\r\n        axios.patch('/api/reactivateVehicle', reqBody)\r\n            .then(r => {\r\n                if (r.status === 200)\r\n                    this.setState({ customMessage, customTitle, openAlertDialog: true, placaBaixada: '', dischargedFound: undefined })\r\n                console.log(r.data)\r\n            })\r\n    }\r\n\r\n    reset = () => {\r\n        baixaForm.forEach(el => this.setState({ [el.field]: '' }))\r\n        this.setState({ delegaTransf: '', check: '', justificativa: '', checked: false, demand: undefined })\r\n    }\r\n\r\n    downloadXls = () => {\r\n        this.setState({ loading: true })\r\n        axios({\r\n            url: `/api/oldVehiclesXls`,\r\n            method: 'GET',\r\n            responseType: 'blob', // important\r\n            onDownloadProgress: (progressEvent) => {\r\n                Math.round((progressEvent.loaded))\r\n            }\r\n\r\n        }).then((response) => {\r\n            const\r\n                content = response.headers['content-disposition'],\r\n                i = content.indexOf('=') + 1,\r\n                fileName = content.slice(i)\r\n\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', fileName);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            this.setState({ loading: false })\r\n        })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    handleCheck = e => this.setState({ checked: e.target.value })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = toastMsg => this.setState({ confirmToast: !this.state.confirmToast, toastMsg: toastMsg ? toastMsg : this.state.toastMsg })\r\n\r\n    render() {\r\n        const\r\n            { user } = this.props,\r\n            { empresas, parametros } = this.props.redux,\r\n            { motivosBaixa } = parametros[0],\r\n            { delegaTransf, confirmToast, toastMsg, checked, openAlertDialog, customTitle, customMessage, alertType, loading } = this.state\r\n\r\n        return <Fragment>\r\n            <BaixaTemplate\r\n                data={this.state}\r\n                empresas={empresas}\r\n                user={user}\r\n                motivosBaixa={motivosBaixa}\r\n                checked={checked}\r\n                selectOption={this.selectOption}\r\n                selectMotivo={this.selectMotivo}\r\n                delegaTransf={delegaTransf}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                handleCheck={this.handleCheck}\r\n                handleSubmit={this.handleSubmit}\r\n                searchDischarged={this.searchDischarged}\r\n                downloadXls={this.downloadXls}\r\n                reactivateVehicle={this.reactivateVehicle}\r\n                setShowPendencias={this.setShowPendencias}\r\n            />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customTitle={customTitle} customMessage={customMessage} />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {loading && <Loading />}\r\n        </Fragment >\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'parametros', 'equipamentos', 'acessibilidade']\r\n\r\nexport default StoreHOC(collections, BaixaVeiculo)","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Add from '@material-ui/icons/Add'\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport './config.css'\r\n\r\nexport default function ConfigTemplate({ collections, collection, data, staticData,\r\n    selectCollection, handleChange, enableEdit, confirmDelete, handleSubmit, openAddDialog }) {\r\n\r\n    return (\r\n        <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Alterar configurações de veículos' />\r\n            <center>\r\n                <h4>Selecione uma das opções abaixo.</h4>\r\n            </center>\r\n            <header className=\"selectHeader\">\r\n                <TextField\r\n                    className='config__selector'\r\n                    onChange={selectCollection}\r\n                    value={collection}\r\n                    select={true}\r\n                    SelectProps={{\r\n                        style: {\r\n                            fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                            width: 325, height: '44px'\r\n                        }\r\n                    }}\r\n                >\r\n                    {collections.map((opt, i) =>\r\n                        <MenuItem key={i} value={opt} >\r\n                            {opt}\r\n                        </MenuItem>\r\n                    )}\r\n                </TextField>\r\n            </header>\r\n            {staticData && collection && <div className='divHeader'>\r\n                <Button\r\n                    size=\"small\"\r\n                    color='primary'\r\n                    variant='outlined'\r\n                    style={{ margin: '10px 0 10px 0' }}\r\n                    onClick={() => openAddDialog()}\r\n                >\r\n                    <Add /> Adicionar\r\n                </Button>\r\n            </div>}\r\n            <div className='container'>\r\n                {\r\n                    data && staticData && data.map((el, i) =>\r\n                        <div className='divCell' key={i}>\r\n                            <TextField\r\n                                value={el.edit ? el[staticData.field] : el[staticData.field] + ' (' + el['count'] + ')'}\r\n                                onChange={handleChange}\r\n                                name={el.field}\r\n                                type='text'\r\n                                inputProps={{\r\n                                    autoCorrect: 'off',\r\n                                    spellCheck: false,\r\n                                    style: {\r\n                                        fontSize: '0.8rem',\r\n                                        color: el.edit === true ? '#000' : '#999'\r\n                                    },\r\n                                }}\r\n                                className='config__textField'\r\n                                disabled={el.edit === false}\r\n                            />\r\n                            <button component='span'\r\n                                className='configVehicleIcon'\r\n                                title='Editar'\r\n                                onClick={() => enableEdit(i)}\r\n                                display='none'>\r\n                                <EditIcon className='confIcon' color='primary' />\r\n                            </button>\r\n                            <button\r\n                                className='configVehicleIcon'\r\n                                title='Remover'\r\n                                onClick={() => confirmDelete(i)}>\r\n                                <DeleteIcon className='confIcon' color='secondary' />\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n            </div>\r\n        </Fragment >\r\n    )\r\n}","import React, { PureComponent, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport ConfigAddDialog from './ConfigAddDialog'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport ConfigTemplate from './ConfigTemplate'\r\nimport ConfirmDialog from '../Reusable Components/ConfirmDialog'\r\n\r\nimport { configVehicleForm } from '../Forms/configVehicleForm'\r\n\r\nclass VehicleConfig extends PureComponent {\r\n\r\n    state = {\r\n        collection: '',\r\n        marca: '',\r\n        options: [],\r\n        openAddDialog: false,\r\n        confirmToast: false,\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmDialogProps: { open: false }\r\n    }\r\n    componentDidMount() {\r\n        let options = []\r\n        configVehicleForm.forEach(col => { options.push(col.label) })\r\n        this.setState({ options })\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const\r\n            redux = JSON.parse(JSON.stringify(this.props.redux)),\r\n            { veiculos } = redux,\r\n            { staticData, data, editIndex } = this.state\r\n\r\n        if (!staticData || !data) return null\r\n\r\n        const { collection } = staticData\r\n        if (JSON.stringify(prevProps.redux[collection]) !== JSON.stringify(redux[collection])) {\r\n            const data = this.addCounter(veiculos, staticData, redux[collection])\r\n            if (editIndex || editIndex === 0)\r\n                data[editIndex].edit = true\r\n            this.setState({ data })\r\n        }\r\n    }\r\n\r\n    addCounter = (veiculos, staticData, data) => {\r\n        const { name, field, label } = staticData\r\n\r\n        data.forEach(el => {\r\n            const\r\n                vehicles = veiculos.filter(v => {\r\n                    if (v.hasOwnProperty(name) && (label === 'Itens de acessibilidade' || label === 'Equipamentos')) {\r\n                        const vehicleItems = v[name]\r\n                        const hasItem = vehicleItems.find(ac => ac === el.id)\r\n                        return hasItem\r\n                    }\r\n                    return v[name] === el[field]\r\n                }),\r\n                count = vehicles.length\r\n            Object.assign(el, { count })\r\n        })\r\n        data = data.sort((a, b) => a[field].localeCompare(b[field]))\r\n        return data\r\n    }\r\n\r\n    selectCollection = async e => {\r\n        const\r\n            { value } = e.target,\r\n            { veiculos, marcaChassi, marcaCarroceria } = this.props.redux\r\n        let\r\n            staticData = configVehicleForm.find(el => el.label === value),\r\n            data = JSON.parse(JSON.stringify(this.props.redux[staticData.collection]))\r\n\r\n        data = this.addCounter(veiculos, staticData, data)\r\n        data.forEach(el => el.edit = false)\r\n\r\n        this.setState({ marcas: undefined, marca: '' })\r\n        if (staticData.collection === 'modelosChassi') this.setState({ marcas: marcaChassi })\r\n        if (staticData.collection === 'carrocerias') this.setState({ marcas: marcaCarroceria })\r\n\r\n        await this.setState({ collection: value, data, staticData })\r\n        void 0\r\n    }\r\n\r\n    enableEdit = async index => {\r\n        let oldIndex\r\n        const\r\n            redux = JSON.parse(JSON.stringify(this.props.redux)),\r\n            divCell = document.querySelectorAll('.divCell'),\r\n            divWrap = divCell[index].childNodes[0],\r\n            inputTarget = divWrap.querySelectorAll('input')[0],\r\n            { updatedObj, staticData } = this.state,\r\n            data = JSON.parse(JSON.stringify(this.state.data)),\r\n            selectedObj = data[index],\r\n            name = this.state?.staticData?.field\r\n\r\n        //O index de referência vai variar: se houver um campo em edição e se clicar no enableEdit de outro, o index de refrência é do campo anterior\r\n        //Inicialmente os objetos originais se baseiam no index que é dado como argumento da função\r\n        if (selectedObj?.edit === undefined) selectedObj.edit = false\r\n\r\n        let\r\n            originalObject = redux[staticData.collection].find(el => {\r\n                if (el.id === selectedObj.id)\r\n                    return Object.freeze(el)\r\n                else return {}\r\n            }),\r\n            noChanges = data[index][name] === originalObject[name]\r\n\r\n        //Verificar se já havia algum edit === true e se está se checando outro como true ao mesmo tempo q torna o ativo false        \r\n        const leftOpen = data.some((el, i) => {\r\n            if (i !== index && el.edit === true) {\r\n                oldIndex = data.indexOf(el)\r\n                return el\r\n            } else return false\r\n        })\r\n\r\n        //desativa a edição de todos os outros campos exceto o escolhido (index)\r\n        async function select() {\r\n            data.forEach(el => el.edit = false)\r\n            data[index].edit = true\r\n            await this.setState({ data, editIndex: index })\r\n            inputTarget.focus()\r\n        }\r\n        //Se todos objs estiverem com edição desabilitada:\r\n        if (!leftOpen) {\r\n            //So o clicado estiver desabilitad, apenas habilite sua edição\r\n            if (selectedObj.edit === false) {\r\n                data[index].edit = true\r\n                await this.setState({ data })\r\n                inputTarget.focus()\r\n            }\r\n            // Senão, verificar se houve mudança. Caso positivo, request p salvar e depois desabilita edição\r\n            else {\r\n                data[index].edit = false\r\n                if (updatedObj && !noChanges)\r\n                    this.handleSubmit(updatedObj)\r\n                this.setState({ data, editIndex: undefined })\r\n            }\r\n            return\r\n        }\r\n        //Nesse caso, um campo está em ediçao e outro campo foi clicado. Salva-se o em edição caso tenha sido alterado e se habilita a edição do próximo\r\n        if (leftOpen && !selectedObj.edit) {\r\n            select.call(this)\r\n            //Atualização do index para achar o objeto original referente ao último objeto com edit=true\r\n            originalObject = redux[staticData.collection].find(el => el.id === data[oldIndex]?.id)\r\n            noChanges = data[oldIndex][name] === originalObject[name]\r\n\r\n            if (updatedObj && !noChanges)\r\n                this.handleSubmit(updatedObj)\r\n        }\r\n    }\r\n\r\n    selectMarca = e => {\r\n        const\r\n            { value } = e.target,\r\n            { collection } = this.state.staticData,\r\n            { marcaChassi, marcaCarroceria } = this.props.redux\r\n\r\n        let marcaCollection\r\n        if (collection === 'modelosChassi') marcaCollection = marcaChassi\r\n        if (collection === 'carrocerias') marcaCollection = marcaCarroceria\r\n\r\n        const { id } = marcaCollection.find(m => m.marca === value)\r\n\r\n        this.setState({ marca: value, marcaId: id })\r\n    }\r\n\r\n    handleChange = async e => {\r\n        const\r\n            { value } = e.target,\r\n            { staticData, data } = this.state,\r\n            { field } = staticData,\r\n\r\n            changedElement = data.find(el => el.edit === true),\r\n            index = data.indexOf(changedElement)\r\n\r\n        changedElement[field] = value\r\n\r\n        let newData = [...this.state.data]\r\n        newData[index] = changedElement\r\n        const updatedObj = {\r\n            id: changedElement?.id,\r\n            [field]: value\r\n        }\r\n        this.setState({ data: newData, updatedObj })\r\n    }\r\n\r\n    handleInput = e => {\r\n        const { value } = e.target\r\n        this.setState({ newElement: value })\r\n    }\r\n\r\n    addNewElement = async () => {\r\n\r\n        const\r\n            { staticData, newElement, marcaId } = this.state,\r\n            { table, field, collection } = staticData,\r\n            { veiculos } = this.props.redux\r\n\r\n        let requestElement = { [field]: newElement }\r\n        if (marcaId) requestElement.marcaId = marcaId\r\n        requestElement = humps.decamelizeKeys(requestElement)\r\n        console.log(\"🚀 ~ file: Config.jsx ~ line 205 ~ VehicleConfig ~ addNewElement= ~ requestElement\", requestElement)\r\n\r\n        await axios.post('/api/addElement', { table, requestElement })\r\n\r\n        let data = this.props.redux[collection]\r\n        data = this.addCounter(veiculos, staticData, data)\r\n\r\n        this.setState({ openAddDialog: false, data, marcaId: undefined })\r\n    }\r\n\r\n    confirmDelete = index => {\r\n\r\n        const\r\n            { data, staticData } = this.state,\r\n            { field } = staticData,\r\n\r\n            elementName = data[index][field],\r\n            confirmDialogProps = {\r\n                open: true,\r\n                type: 'delete',\r\n                element: `${elementName}`,\r\n                index\r\n            }\r\n\r\n        this.setState({ confirmDialogProps })\r\n    }\r\n\r\n    removeItem = async index => {\r\n        this.closeConfirmDialog()\r\n\r\n        let data = [...this.state.data]\r\n\r\n        //Evita que seja apagado algum elemento que esteja cadastrado em algum veículo.\r\n        const removeForbidden = data[index]?.count > 0\r\n        if (removeForbidden) {\r\n            alert('O item selecionado não pode ser apagado por haver vínculo com um ou mais veículos cadastrados no sistema.')\r\n            return\r\n        }\r\n        const\r\n            { staticData } = this.state,\r\n            { collection, table } = staticData,\r\n            id = data[index].id,\r\n            originalData = this.props.redux[collection],\r\n            registered = originalData.find(el => el.id === id)\r\n\r\n        if (registered) {\r\n            await axios.delete(`/api/delete?table=${table}&tablePK=id&id=${id}`)\r\n                .catch(err => console.log(err))\r\n        }\r\n        data.splice(index, 1)\r\n        this.setState({ data })\r\n\r\n    }\r\n\r\n    handleSubmit = async updatedObj => {\r\n        const\r\n            { staticData } = this.state,\r\n            { field, table } = staticData,\r\n            tablePK = 'id',\r\n            column = humps.decamelize(field),\r\n            editedElements = [humps.decamelizeKeys(updatedObj)]\r\n\r\n        await axios.put('/api/editElements', { requestArray: editedElements, table, tablePK, column })\r\n            .catch(err => console.log(err))\r\n\r\n        this.setState({ updatedObj: undefined })\r\n    }\r\n\r\n    closeConfirmDialog = () => {\r\n        let confirmDialogProps = { ...this.state.confirmDialogProps }\r\n        confirmDialogProps.open = false\r\n\r\n        this.setState({ confirmDialogProps })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openAddDialog: !this.state.openAddDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n\r\n        const { options, collection, data, staticData, openAddDialog, marca, marcas, confirmToast, toastMsg, confirmDialogProps } = this.state\r\n        return (\r\n            <Fragment>\r\n                <ConfigTemplate\r\n                    collections={options}\r\n                    collection={collection}\r\n                    data={data}\r\n                    staticData={staticData}\r\n                    selectCollection={this.selectCollection}\r\n                    enableEdit={this.enableEdit}\r\n                    handleChange={this.handleChange}\r\n                    handleSubmit={this.handleSubmit}\r\n                    openAddDialog={this.toggleDialog}\r\n                    confirmDelete={this.confirmDelete}\r\n                />\r\n                {openAddDialog && <ConfigAddDialog\r\n                    open={openAddDialog}\r\n                    close={this.toggleDialog}\r\n                    title={staticData.label}\r\n                    helperMessage='Para adicionar, insira o nome no campo abaixo e clique em \"Confirmar\".'\r\n                    marca={marca}\r\n                    marcas={marcas}\r\n                    selectMarca={this.selectMarca}\r\n                    handleInput={this.handleInput}\r\n                    addNewElement={this.addNewElement}\r\n                />}\r\n                {confirmDialogProps.open && <ConfirmDialog {...confirmDialogProps} close={this.closeConfirmDialog} confirm={this.removeItem} />}\r\n\r\n                <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['seguradoras', 'lookUpTable/marca_chassi', 'modelosChassi', 'lookUpTable/marca_carroceria',\r\n    'carrocerias', 'equipamentos', 'veiculos', 'acessibilidade', 'empresasLaudo']\r\n\r\nexport default StoreHOC(collections, VehicleConfig)","import { formatDate } from '../Utils/formatValues'\r\n\r\nexport const delegatarioTable = [\r\n    {\r\n        field: 'codigoEmpresa',\r\n        title: 'Código da Empresa',\r\n    },\r\n    {\r\n        field: 'razaoSocial',\r\n        title: 'Razão Social',\r\n    },\r\n    {\r\n        field: 'vencimentoContrato',\r\n        title: 'Vencimento do Contrato',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.vencimentoContrato)\r\n    },\r\n    {\r\n        field: 'cnpj',\r\n        title: 'CNPJ',\r\n    },\r\n    {\r\n        field: 'frota',\r\n        title: 'Tamanho da frota'\r\n    }\r\n]\r\n\r\nexport const sociosTable = [\r\n    {\r\n        field: 'nomeSocio',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfSocio',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'nomeEmpresas',\r\n        title: 'Delegatário(s)',\r\n    },\r\n    {\r\n        field: 'emailSocio',\r\n        title: 'E-mail',\r\n\r\n    },\r\n    {\r\n        field: 'telSocio',\r\n        title: 'Telefone',\r\n\r\n    },\r\n    {\r\n        field: 'share',\r\n        title: 'Participação Societária (%)',\r\n        filtering: false,\r\n    }\r\n]\r\n\r\n\r\nexport const procuradorTable = [\r\n    {\r\n        field: 'nomeProcurador',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfProcurador',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'emailProcurador',\r\n        title: 'E-mail',\r\n    },\r\n    {\r\n        field: 'telProcurador',\r\n        title: 'Telefone'\r\n    },\r\n    {\r\n        field: 'createdAt',\r\n        title: 'Data de inclusão no sistema',\r\n        type: 'date'\r\n    },\r\n    {\r\n        field: 'nomeEmpresas',\r\n        title: 'Empresas'\r\n    }\r\n]\r\n\r\nexport const vehicleTable = [\r\n    {\r\n        field: 'placa',\r\n        title: 'Placa',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Delegatário',\r\n    },\r\n    {\r\n        field: 'seguradora',\r\n        title: 'Seguradora',\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        title: 'Número da Apólice',\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Vencimento Seguro',\r\n        render: rowData => formatDate(rowData.vencimento)\r\n    },\r\n    {\r\n        field: 'situacao',\r\n        title: 'Situação',\r\n    },\r\n    {\r\n        field: 'compartilhado',\r\n        title: 'Compartilhado por'\r\n    },\r\n    /*  {\r\n         field: 'anoCarroceria',\r\n         title: 'Ano de Fabricação',\r\n         filtering: false\r\n     } */\r\n    {\r\n        field: 'indicadorIdade',\r\n        title: 'Indicador de idade',\r\n        render: rowData => {\r\n            let\r\n                i = rowData['indicadorIdade'],\r\n                timeUnit = ' anos',\r\n                output\r\n\r\n            if (i || i === 0) {\r\n                if (i === -1)\r\n                    i = 0\r\n                if (i === 1 || i === 0)\r\n                    timeUnit = ' ano'\r\n                output = i.toString() + timeUnit\r\n                return output\r\n            }\r\n        }\r\n    }\r\n]\r\n\r\nexport const segurosTable = [\r\n    {\r\n        field: 'apolice',\r\n        title: 'Número da Apólice',\r\n    },\r\n    {\r\n        field: 'seguradora',\r\n        title: 'Seguradora',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Segurado',\r\n    },\r\n    {\r\n        field: 'situacao',\r\n        title: 'Situação',\r\n    },\r\n    {\r\n        field: 'segurados',\r\n        title: 'Número de veículos',\r\n    },\r\n    {\r\n        field: 'dataEmissao',\r\n        title: 'Início da vigência',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.dataEmissao)\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Vencimento',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.vencimento)\r\n    }\r\n]\r\n\r\nexport const tables = [delegatarioTable].concat([sociosTable]).concat([procuradorTable]).concat([vehicleTable]).concat([segurosTable])\r\n","import * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\nimport moment from 'moment'\r\n\r\nconst exportToXlsx = (subject, form, rawData) => {\r\n    const\r\n        fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8',\r\n        fileExtension = '.xlsx',\r\n        fileName = subject\r\n\r\n    const formatedData = formatData(form, rawData)\r\n\r\n    const ws = XLSX.utils.json_to_sheet(formatedData);\r\n    const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n    const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n    const data = new Blob([excelBuffer], { type: fileType });\r\n    FileSaver.saveAs(data, fileName + fileExtension);\r\n}\r\n\r\nfunction formatData(form, data) {\r\n\r\n    const rawData = JSON.parse(JSON.stringify(data))\r\n\r\n    const formatValue = value => {\r\n        if (moment(value, 'YYYY-MM-DDTHH:mm:ss.SSSZZ', true).isValid())\r\n            value = moment(value).format('DD/MM/YYYY')\r\n        return value\r\n    }\r\n\r\n    if (Array.isArray(rawData)) {\r\n        rawData.forEach((obj, i) => {\r\n            Object.entries(obj).forEach(([key, value]) => {\r\n\r\n                const formField = form.find(f => f.field === key)\r\n\r\n                if (!formField) {\r\n                    delete obj[key]\r\n                    return\r\n\r\n                } else {\r\n                    const header = formField?.label\r\n                    value = formatValue(value)\r\n                    obj[header] = value\r\n                    delete obj[key]\r\n                }\r\n            })\r\n        })\r\n    }\r\n    return rawData\r\n}\r\n\r\nexport default exportToXlsx","import React from 'react'\r\nimport MaterialTable from 'material-table'\r\nimport { tables } from './tables'\r\nimport exportToXlsx from './exportToXlsx'\r\nimport { setForm } from '../Utils/createFormPattern'\r\n\r\nexport default function ({ tab, collection, user, showDetails, showFiles, showCertificate, del }) {\r\n\r\n    const\r\n        id = ['codigoEmpresa', 'socioId', 'procuradorId', 'veiculoId', 'apolice'][tab],\r\n        subject = ['empresas', 'sócios', 'procuradores', 'veículos', 'seguros'],\r\n        form = setForm(tab)\r\n\r\n    if (!Array.isArray(collection))\r\n        collection = []\r\n\r\n    collection = collection.map(obj => ({ ...obj }))\r\n\r\n    return (\r\n        <div style={{ margin: '10px 0' }} className='noPrint'>\r\n            <MaterialTable\r\n                title={`Pesquisar dados de ${subject[tab]}`}\r\n                columns={tables[tab]}\r\n                data={collection}\r\n                style={{ fontFamily: 'Segoe UI', fontSize: '14px' }}\r\n                options={{\r\n                    filtering: true,\r\n                    exportFileName: subject[tab],\r\n                    exportButton: true,\r\n                    exportCsv: (columns, data) => {\r\n                        exportToXlsx(subject[tab], form, data)\r\n                    },\r\n                    actionsColumnIndex: -1,\r\n                    searchFieldStyle: { color: '#024', fontSize: '14px' },\r\n                    headerStyle: { backgroundColor: '#FAFAFC' },\r\n                    emptyRowsWhenPaging: false,\r\n                    pageSize: 20,\r\n                    rowStyle: {\r\n                        fontSize: '0.5rem',\r\n                    }\r\n                }}\r\n\r\n                localization={{\r\n                    header: { actions: 'Opções' },\r\n                    body: {\r\n                        emptyDataSourceMessage: 'Registro não encontrado.',\r\n                        editRow: { deleteText: 'Tem certeza que deseja apagar esse registro ?' },\r\n                        deleteTooltip: 'Apagar',\r\n                        filterRow: { filterTooltip: 'Filtrar' }\r\n                    },\r\n                    toolbar: {\r\n                        searchTooltip: 'Procurar',\r\n                        searchPlaceholder: 'Procurar',\r\n                        exportCSVName: 'Salvar como arquivo do excel',\r\n                        exportAriaLabel: 'Exportar',\r\n                        exportTitle: 'Exportar'\r\n                    },\r\n                    pagination: {\r\n\r\n                        labelRowsSelect: 'Resultados por página',\r\n                        labelDisplayedRows: ' {from}-{to} a {count}',\r\n                        firstTooltip: 'Primeira página',\r\n                        previousTooltip: 'Página anterior',\r\n                        nextTooltip: 'Próxima Página',\r\n                        lastTooltip: 'Última Página',\r\n\r\n                    }\r\n                }}\r\n                actions={[\r\n                    {\r\n                        icon: 'info',\r\n                        iconProps: { color: 'primary' },\r\n                        tooltip: 'Mais informações',\r\n                        onClick: (event, rowData) => showDetails(event, rowData)\r\n                    },\r\n                    {\r\n                        icon: 'file_copy_outline',\r\n                        iconProps: { color: 'secondary' },\r\n                        tooltip: 'Ver arquivos',\r\n                        onClick: (event, rowData) => showFiles(rowData[id])\r\n                    },\r\n                    {\r\n                        icon: 'class_outlined',\r\n                        iconProps: { color: 'action' },\r\n                        tooltip: 'Emitir certificado',\r\n                        hidden: tab !== 3,\r\n                        onClick: (event, rowData) => showCertificate(rowData)\r\n                    }\r\n                ]}\r\n                editable={{\r\n                    isDeleteHidden: rowData => user.role !== 'admin',\r\n                    onRowDelete: async oldData => await del(oldData)\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { Link as RouterLink } from 'react-router-dom'\r\n\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { logUserOut } from '../Store/userActions';\r\n\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { Toolbar, Typography, Button, Link } from '@material-ui/core'\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { withRouter } from 'react-router'\r\nimport './stylez.scss'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    toolbarTitle: {\r\n        flex: 1,\r\n    },\r\n    toolbarSecondary: {\r\n        justifyContent: 'space-between',\r\n        overflowX: 'auto',\r\n        backgroundColor: '#0398c1',\r\n        color: 'white'\r\n    },\r\n\r\n    toolbarLink: {\r\n        padding: '12px 55px 13px 55px',\r\n        flexShrink: 0,\r\n    }\r\n}));\r\n\r\nconst sections = [\r\n    { title: 'Página Inicial', link: '/' },\r\n    { title: 'Consultas', link: '/consultas' },\r\n    { title: 'Veículos', link: '/veiculos' },\r\n    { title: 'Empresas', link: '/empresas' },\r\n    { title: 'Relatórios', link: '/relatorios' },\r\n    { title: 'Solicitações ', link: '/solicitacoes' },\r\n    { title: 'Editar Conta', link: '/editAccount', icon: 'person' },\r\n]\r\n\r\nconst adminSections = [\r\n    { title: 'Alterar parâmetros do sistema', link: '/parametros', icon: 'settings' },\r\n    { title: 'Gestão de usuários', link: '/users', icon: 'group' },\r\n]\r\n\r\nconst StyledBadge = withStyles((theme) => ({\r\n    badge: {\r\n        right: -8,\r\n        top: -1,\r\n        padding: '0 4px',\r\n    },\r\n}))(Badge);\r\n\r\nconst Header = props => {\r\n\r\n    const\r\n        logs = props?.logs,\r\n        { parametros } = props,\r\n        { pathname } = props.location,\r\n        { user } = props,\r\n        demand = localStorage.getItem('demand'),\r\n        classes = useStyles(),\r\n        { toolbarTitle, toolbarSecondary, toolbarLink } = classes\r\n\r\n    const\r\n        [path, setSelected] = useState(document.location.pathname),\r\n        [logCounter, setLogCounter] = useState()\r\n\r\n    //Atualiza o menu superior, destacando a aba selecionada e atualizando o número de solicitações em aberto\r\n    useEffect(() => {\r\n        if (logs && Array.isArray(logs)) {\r\n            const count = logs\r\n                .filter(l => l?.completed === false)\r\n                .length\r\n\r\n            setLogCounter(count)\r\n        }\r\n        setSelected(pathname)\r\n    }, [pathname, logCounter, logs])\r\n\r\n    const selected = link => {\r\n        let\r\n            style = document.querySelector(\"a[href='/solicitacoes']\")?.style,\r\n            bgColor = '',\r\n            borderB = '',\r\n            borderT = '',\r\n            fontW = '400'\r\n\r\n        if (path === '/solicitacoes' || demand) {\r\n            if (style) {\r\n                style['background-color'] = '#11a7d2'\r\n                style['border-bottom'] = '1.5px solid #ccc'\r\n            }\r\n        }\r\n\r\n        else if (path.match(link) && link !== '/') {\r\n            bgColor = '#11a7d2'\r\n            borderB = '1.5px solid #ccc'\r\n            if (style) {\r\n                style['background-color'] = ''\r\n                style['border-bottom'] = ''\r\n            }\r\n        }\r\n        return { bgColor, borderB, borderT, fontW }\r\n    }\r\n    //Pega o nome e a sigla da Secretaria do DB, editáveis na opção \"Parâmetros\" do sistema.\r\n    let\r\n        nomeSecretaria = '',\r\n        siglaSecretaria = ''\r\n\r\n    if (parametros && parametros[0]) {\r\n        const { nomes } = parametros[0]\r\n        nomeSecretaria = nomes.secretaria\r\n        siglaSecretaria = nomes.siglaSecretaria\r\n    }\r\n\r\n    const logout = async () => props.logUserOut(user?.socketId)\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n\r\n            <Toolbar>\r\n                <Typography\r\n                    component=\"h2\"\r\n                    variant=\"h6\"\r\n                    color=\"inherit\"\r\n                    align=\"center\"\r\n                    noWrap\r\n                    className={toolbarTitle}\r\n                >\r\n                    {siglaSecretaria} - {nomeSecretaria}\r\n                </Typography>\r\n                <Button variant=\"outlined\" size=\"small\" onClick={() => logout()}>\r\n                    Sair\r\n                </Button>\r\n            </Toolbar>\r\n            <Toolbar component=\"nav\" variant=\"dense\" className={toolbarSecondary}>\r\n                {sections.map(({ link, title, icon }, i) => (\r\n                    title === 'Editar Conta' ? null\r\n                        :\r\n                        <Link\r\n                            component={RouterLink}\r\n                            to={link}\r\n                            key={i}\r\n                            color=\"inherit\"\r\n                            noWrap\r\n                            variant=\"body2\"\r\n                            href=\"\"\r\n                            style={{\r\n                                fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana, sans-serif',\r\n                                fontSize: '15px',\r\n                                backgroundColor: selected(link).bgColor,\r\n                                borderBottom: selected(link).borderB,\r\n                                fontWeight: selected(link).fontW,\r\n                                borderTop: selected(link).borderT\r\n                            }}\r\n                            className={toolbarLink}\r\n                            onClick={() => setSelected(link)}\r\n                        >\r\n                            {\r\n                                title === 'Solicitações ' ?\r\n\r\n                                    <StyledBadge badgeContent={logCounter} color='secondary'>\r\n                                        <span>\r\n                                            {title}\r\n                                        </span>\r\n                                    </StyledBadge>\r\n                                    :\r\n                                    title\r\n                            }\r\n                        </Link>\r\n                ))}\r\n                {\r\n                    user.role === 'admin' ?                     //Apenas usuários admin podem visualizar essas opções\r\n                        adminSections.map(({ title, link, icon }, i) =>\r\n                            <Link component={RouterLink} to={link} key={i}>\r\n                                <span\r\n                                    className=\"material-icons adminLink\"\r\n                                    style={{ color: 'white', cursor: 'pointer' }}\r\n                                    title={title}\r\n                                >\r\n                                    {icon}\r\n                                </span>\r\n                            </Link>\r\n                        )\r\n                        :\r\n                        <Link component={RouterLink} to={sections[6].link}>\r\n                            <span\r\n                                className=\"material-icons iconHeaderLink\"\r\n                                style={{ color: 'white', cursor: 'pointer' }}\r\n                                title={sections[6].title}\r\n                            >\r\n                                {sections[6].icon}\r\n                            </span>\r\n                        </Link>\r\n\r\n                }\r\n            </Toolbar>\r\n        </React.Fragment >\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        logs: state.data?.logs,\r\n        parametros: state.data?.parametros,\r\n        user: state.user\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators({ logUserOut }, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header))","//import React from 'react'\r\n\r\nconst Footer = () => {\r\n   return null\r\n    /*  return (\r\n        <footer className=\"footer\">\r\n            <span style={{ fontSize: '0.6rem' }}>\r\n                Seinfra, Governo de Minas Gerais. Desenvolvido por Sandro Veríssimo, © 2019.\r\n            </span>\r\n        </footer>\r\n    ) */\r\n}\r\n\r\nexport default Footer;","import React from 'react'\r\nimport { Tabs, Tab } from '@material-ui/core'\r\n\r\nexport default ({items, tab, changeTab}) =>\r\n\r\n    <div className='tabMenu'> \r\n        <Tabs value={tab}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            centered \r\n            onChange={changeTab}>\r\n            {items.map((item, i)=> <Tab key={i} label={item} />)}\r\n        </Tabs>\r\n    </div>\r\n\r\n\r\n","import moment from 'moment'\r\n\r\nexport const delegatario = [[\r\n    {\r\n        field: 'empresa',\r\n        label: 'Delegatário',\r\n        width: '100mm',\r\n        left: '50mm'\r\n    },\r\n    {\r\n        field: 'codigoEmpresa',\r\n        label: 'Código do Delegatário',\r\n        width: '35mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        field: 'dataExpedicaoCRV',\r\n        label: 'Data de emissão',\r\n        width: '25mm',\r\n        value: moment().format('DD/MM/YYYY')\r\n    },\r\n]]\r\n\r\nexport const dadosVeiculo = [[\r\n    {\r\n        field: 'placa',\r\n        label: 'Placa',\r\n        width: '25mm',\r\n        left: '8mm'\r\n    },\r\n    {\r\n        field: 'renavam',\r\n        label: 'Renavam',\r\n        width: '42mm',\r\n        left: '14mm'\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilização',\r\n        width: '35mm',\r\n        left: '11mm'\r\n    },\r\n    {\r\n        field: 'nChassi',\r\n        label: 'Número do Chassi',\r\n        width: '50mm',\r\n        left: '15mm'\r\n    },\r\n]]\r\n\r\nexport const caracteristicas = [\r\n    [\r\n\r\n        {\r\n            field: 'poltronas',\r\n            label: 'Poltronas',\r\n            width: '16mm',\r\n            left: '2mm'\r\n        },\r\n        {\r\n            field: 'piquesPoltrona',\r\n            label: 'Piques poltrona',\r\n            width: '19mm'\r\n        },\r\n        {\r\n            field: 'distanciaMinima',\r\n            label: 'Distância Mínima (cm)',\r\n        },\r\n        {\r\n            field: 'distanciaMaxima',\r\n            label: 'Distância Máxima (cm)'\r\n        },\r\n        {\r\n            field: 'eixos',\r\n            label: 'Eixos',\r\n            width: '12mm',\r\n            left: '2mm'\r\n        },\r\n        {\r\n            field: 'pneumaticosDianteiro',\r\n            label: 'Pneumáticos Dianteiro'\r\n        },\r\n        {\r\n            field: 'pneumaticosTraseiro',\r\n            label: 'Pneumáticos Traseiro'\r\n        },\r\n        {\r\n            field: 'potencia',\r\n            label: 'Potência (cv)',\r\n            width: '15mm',\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            field: 'marcaChassi',\r\n            label: 'Marca do Chassi',\r\n            width: '40mm',\r\n            left: '4mm'\r\n        },\r\n        {\r\n            field: 'modeloChassi',\r\n            label: 'Modelo do Chassi',\r\n            width: '40mm',\r\n            left: '3mm'\r\n        },\r\n        {\r\n            field: 'anoChassi',\r\n            label: 'Ano do chassi',\r\n        }\r\n        ,\r\n        {\r\n            field: 'marcaCarroceria',\r\n            label: 'Marca da Carroceria',\r\n            width: '40mm',\r\n            left: '2mm'\r\n        },\r\n        {\r\n            field: 'modeloCarroceria',\r\n            label: 'Modelo da Carroceria',\r\n            width: '40mm',\r\n            left: '1mm'\r\n        },\r\n        {\r\n            field: 'anoCarroceria',\r\n            label: 'Ano da carroceria',\r\n        }\r\n\r\n    ]\r\n]\r\n\r\nexport const seguro = [[\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',\r\n        width: '75mm',\r\n        left: '27.5mm'\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        label: 'Apólice',\r\n        width: '35mm',\r\n        left: '11mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Início de vigência',\r\n        width: '25mm',\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    }]]\r\n\r\nexport const vistoria = [[\r\n    {\r\n        field: 'numeroLaudo',\r\n        label: 'Número do Laudo',\r\n        width: '45mm',\r\n        left: '10mm'\r\n    },\r\n    {\r\n        field: 'empresaLaudo',\r\n        label: 'Empresa Responsável',\r\n        width: '80mm',\r\n        left: '26mm'\r\n    },\r\n    {\r\n        field: 'vencimentoLaudo',\r\n        label: 'Vencimento',\r\n        type: 'date',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n]]\r\n\r\nexport const pesagem = [[\r\n    {\r\n        field: 'eixos',\r\n        label: 'Nº Eixos',\r\n        width: '15mm',\r\n        left: '2mm'\r\n    },\r\n    {\r\n        field: 'cmt',\r\n        label: 'PBT / CMT Legal (t)',\r\n        width: '27mm'\r\n    },\r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (t)',\r\n        width: '25mm',\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (t)',\r\n        width: '25mm'\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total (t)',\r\n        width: '28mm',\r\n        left: '3mm'\r\n    },\r\n    {\r\n        field: 'pesoPassageiros',\r\n        label: 'Passag/Bagagem (t)',\r\n        width: '28mm',\r\n        left: '3mm'\r\n    }\r\n]]\r\n\r\n\r\nexport const informacoesGerais = [[\r\n    {\r\n        field: 'dataRegistro',\r\n        label: 'Data de Registro',\r\n        type: 'date',\r\n        width: '30mm',\r\n        left: '4mm'\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        label: 'Validade do CRV',\r\n        type: 'date',\r\n        width: '25mm',\r\n    },\r\n    {\r\n        field: 'cores',\r\n        label: 'Cores',\r\n        width: '50mm',\r\n        left: '15mm'\r\n    },\r\n    {\r\n        field: 'compartilhado',\r\n        label: 'Empresa autorizada a compartilhar',\r\n        width: '80mm',\r\n        left: '11mm'\r\n    }\r\n]]\r\n","import React from 'react'\r\n\r\nconst CertificateHeader = ({ nomes }) => {\r\n\r\n    const { secretaria, subsecretaria, superintendencia } = nomes\r\n    return (\r\n        <>\r\n            <div className=\"certHeader__container\">\r\n                <div className=\"certHeader__brasao\">\r\n                    <img src=\"/images/brasao.png\" alt=\"Brasão de Minas Gerais\" className='certHeader__img' />\r\n                </div>\r\n                <div className=\"certHeader__text\">\r\n                    <p>{secretaria}</p>\r\n                    <p>{subsecretaria}</p>\r\n                    <p>{superintendencia}</p>\r\n                    <h2>Certificado de Registro e Seguro</h2>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CertificateHeader ","import React, { Fragment } from 'react'\r\nimport moment from 'moment'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\r\n\r\nimport './certificate.scss'\r\nimport CertificateHeader from './CertificateHeader';\r\nimport TextArea from '../Reusable Components/TextArea';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        paddingRight: '25px',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    }\r\n}))\r\n\r\nconst CertificateTemplate = ({ vehicle, nomes, checkMulti, redirect, delega, carac, dadosVeiculo, seg, vistoria, peso, info, }) => {\r\n\r\n    const\r\n        classes = useStyles(),\r\n        { textField } = classes,\r\n        { acessibilidade, equipamentos, obs } = vehicle\r\n\r\n    const ultimateForm = [\r\n        { title: 'Delegatário', form: delega },\r\n        { title: 'Dados do Veículo', form: dadosVeiculo },\r\n        { title: 'Características do Veículo', form: carac },\r\n        { title: 'Seguro', form: seg },\r\n        { title: 'Vistoria', form: vistoria },\r\n        { title: 'Pesagem', form: peso },\r\n        { title: 'Informações gerais', form: info },\r\n        { title: 'Observações', form: obs }\r\n    ]\r\n    return (\r\n        <Fragment>\r\n            <div id='pdfPage' className='A4'>\r\n                <header className='header'>\r\n                    <CertificateHeader nomes={nomes} />\r\n                </header>\r\n\r\n                {\r\n                    ultimateForm.map(({ title, form }, y) =>\r\n                        title !== 'Observações' &&\r\n                        <section className={title !== 'Delegatário' ? 'box' : 'firstBox'} key={y}>\r\n                            {title !== 'Delegatário' && <span className='boxTitle'>{title}</span>}\r\n                            {\r\n                                form.map((line, i) =>\r\n                                    <div\r\n                                        key={i}\r\n                                        className={title !== 'Delegatário' ? 'divLine' : 'firstDivLine'}\r\n                                        style={{ marginTop: i === 0 ? '7mm' : '3mm' }}\r\n                                    >\r\n                                        {line.map((el, k) =>\r\n                                            <TextField\r\n                                                disabled\r\n                                                key={k}\r\n                                                name={el.field}\r\n                                                label={el.label}\r\n                                                className={textField}\r\n                                                multiline={el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? true : false}\r\n                                                rows={\r\n                                                    el.value && el.value.length < 86 ? '2' :\r\n                                                        el.value && el.value.length < 140 ? '3' : '4'\r\n                                                }\r\n                                                variant={el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? 'outlined' : 'standard'}\r\n                                                value={\r\n                                                    el.type === 'date' ? !moment(el.value).isValid() ? ''\r\n                                                        :\r\n                                                        moment(el.value).format('DD/MM/YYYY') :\r\n                                                        el.field === 'dataExpedicao' ? moment().format('DD-MM-YYYY') :\r\n                                                            el.value || ''\r\n                                                }\r\n                                                inputProps={{\r\n                                                    className: checkMulti(el.field),\r\n                                                    style: {\r\n                                                        width: el.width || '18mm',\r\n                                                        fontSize: '2.7mm',\r\n                                                        padding: '0 0 1px 0',\r\n                                                        margin: '0',\r\n                                                        flex: '1',\r\n                                                        color: '#000'\r\n                                                    }\r\n                                                }}\r\n                                                InputProps={{ style: { padding: el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? '1mm' : '' } }}\r\n                                                InputLabelProps={{\r\n                                                    shrink: true,\r\n                                                    style: {\r\n                                                        fontSize: '13px',\r\n                                                        textAlign: 'center !important',\r\n                                                        left: el.left || '0',\r\n                                                        color: '#000'\r\n                                                    }\r\n                                                }}\r\n                                            />\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                        </section>\r\n                    )\r\n                }\r\n                <div className=\"box\">\r\n                    <span className='boxTitle'>Equipamentos / Itens de acessibilidade</span>\r\n                    {\r\n                        (equipamentos || acessibilidade) &&\r\n                        <div className=\"divLine flex\" style={{ overflow: 'unset' }}>\r\n                            {\r\n                                equipamentos.map((e, i) => !acessibilidade[0] && i === equipamentos.length - 1 ?\r\n                                    <span className=\"equipa\">{e}.</span>\r\n                                    :\r\n                                    <span className=\"equipa\">{e},&nbsp;</span>\r\n                                )\r\n                            }\r\n                            {\r\n                                acessibilidade.map((e, i) => i !== acessibilidade.length - 1 ?\r\n                                    <span className=\"equipa\" key={i}>{`${e}, `}</span>\r\n                                    :\r\n                                    <span className=\"equipa\" key={i}>{`${e}.`}</span>\r\n                                )\r\n                            }\r\n                        </div>\r\n                    }\r\n                </div>\r\n                {\r\n                    obs &&\r\n                    <div className=\"flexColumn\">\r\n                        <TextArea\r\n                            label='Observações:'\r\n                            name='obs'\r\n                            id='obs'\r\n                            defaultValue={obs}\r\n                            rows='7'\r\n                            style={{ color: '#000', fontSize: '0.55 rem', padding: '5px', overflow: 'hidden' }}\r\n                        />\r\n                    </div>\r\n                }\r\n                <footer className='certFooter'>\r\n                    <h1 className=\"certFooter__title\">\r\n                        PORTE OBRIGATÓRIO\r\n                    </h1>\r\n                    <p className=\"certFooter__text\">\r\n                        Este certificado pode ser verificado em <span className='link' onClick={() => redirect()}> http://www.cadti.mg.gov.br </span>\r\n                    </p>\r\n                </footer>\r\n            </div>\r\n            <button title='Imprimir / salvar PDF' className='noprint printButton' onClick={() => window.print()}>\r\n                <PrintTwoToneIcon style={{\r\n                    cursor: 'pointer',\r\n                    color: 'rgb(161, 161, 180)',\r\n                    fontSize: '40pt',\r\n                }} /></button>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default CertificateTemplate\r\n","import React, { useState, useEffect } from 'react'\r\nimport { delegatario as delega, dadosVeiculo, caracteristicas as carac, seguro as seg, vistoria, pesagem as peso, informacoesGerais as info } from '../Forms/certificate'\r\nimport CertificateTemplate from './CertificateTemplate'\r\n\r\nexport default function PdfCertificate() {\r\n\r\n    const\r\n        [vehicle, setVehicle] = useState({}),\r\n        [names, setNames] = useState({})\r\n\r\n    useEffect(() => {\r\n        async function setData() {\r\n            const\r\n                data = JSON.parse(localStorage.getItem('vehicle')),\r\n                nomes = JSON.parse(localStorage.getItem('nomes'))\r\n\r\n            let menus = document.querySelectorAll('.MuiToolbar-root')\r\n            menus.forEach(m => m.style.display = 'none')\r\n\r\n            await setVehicle(data)\r\n            if (nomes)\r\n                await setNames(nomes)\r\n\r\n            /*   setTimeout(() => {\r\n                  if (data) window.print()\r\n              }, 500); */\r\n        }\r\n        setData()\r\n        localStorage.removeItem('vehicle')\r\n    }, [])\r\n\r\n    //Cria array de formulários importados para fazer um loop preenchendo com valores do state\r\n    const formArray = [carac, dadosVeiculo, delega, seg, vistoria, peso, info]\r\n    let object = {}\r\n\r\n    if (vehicle) {\r\n        //Adiciona Passag/Bagagem no certificado, q é poltronas x 80kg ou 0.08ton\r\n        const\r\n            { poltronas, pesoDianteiro } = vehicle,\r\n            pesoPassageiros = poltronas * 80 / 1000\r\n        vehicle.pesoPassageiros = pesoPassageiros\r\n        vehicle.pesoDianteiro = +pesoDianteiro\r\n\r\n        formArray.forEach(form => {\r\n            Object.entries(vehicle).forEach(([key, value]) => {\r\n                form.forEach((line, i) => {\r\n                    line.forEach((obj, k) => {\r\n                        if (obj.field === key) {\r\n                            object = Object.assign(obj, { value })\r\n                            form[i][k] = object\r\n                            object = {}\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n        })\r\n    }\r\n    const checkMulti = field => {\r\n        if (field === 'equipamentosId' || field === 'equipamentosId') return\r\n        else return 'certificate'\r\n    }\r\n    const redirect = () => {\r\n        let menus = document.querySelectorAll('.MuiToolbar-root')\r\n        menus.forEach(m => m.style.display = 'none')\r\n        const url = window.location.origin\r\n        window.location.href = url;\r\n    }\r\n\r\n    if (!vehicle) {\r\n        const url = window.location.origin\r\n        window.location.replace(url)\r\n        return null\r\n    }\r\n    return (\r\n        <CertificateTemplate\r\n            vehicle={vehicle}\r\n            nomes={names}\r\n            checkMulti={checkMulti}\r\n            redirect={redirect}\r\n            delega={delega}\r\n            carac={carac}\r\n            dadosVeiculo={dadosVeiculo}\r\n            seg={seg}\r\n            vistoria={vistoria}\r\n            peso={peso}\r\n            info={info}\r\n        />\r\n    )\r\n}","const formatFileSize = (bytes) => {\r\n\r\n    if (bytes > 1024 && bytes < 1048576) {\r\n        return Math.round(bytes / 1024) + ' KB'\r\n\r\n    } else if (bytes >= 1048576 && bytes < (1048576 * 1024)) {\r\n        return ((bytes / 1024) / 1024).toFixed(2) + ' MB'\r\n    } else {\r\n        return bytes + ' bytes'\r\n    }\r\n}\r\n\r\nexport default formatFileSize","import React from 'react';\r\n\r\nimport { formatDate } from '../Utils/formatValues'\r\nimport formatFileSize from '../Utils/formatFileSize'\r\nimport download from '../Utils/downloadFile'\r\n\r\nimport ClosePopUpButton from './ClosePopUpButton'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\n\r\nconst divRow = {\r\n    marginBottom: 0,\r\n    display: 'grid',\r\n    grid: '50px / 4% 40% 25% 25%',\r\n    width: '99%',\r\n    margin: 'auto',\r\n    padding: '10px 0 0 0',\r\n    justifyItems: 'auto'\r\n}\r\n\r\nconst ShowFiles = ({ filesCollection, close, typeId, empresas, filesIds, razaoSocial }) => {\r\n\r\n    let files = [],\r\n        collection = 'empresaDocs', fileLabels = [...empresaFiles]\r\n\r\n    switch (typeId) {\r\n        case 'veiculoId':\r\n            collection = 'vehicleDocs'\r\n            fileLabels = [...cadVehicleFiles]\r\n            if (!fileLabels.find(f => f.name === 'transferenciaDoc')) fileLabels.push({ title: 'Documento de Transferência', name: 'transferenciaDoc' })\r\n            if (!fileLabels.find(f => f.name === 'newPlateDoc')) fileLabels.push({ title: 'CRLV com nova placa', name: 'newPlateDoc' })\r\n            if (!fileLabels.find(f => f.name === 'apoliceDoc')) fileLabels.push({ title: 'Apólice de seguro', name: 'apoliceDoc' })\r\n            if (!fileLabels.find(f => f.name === 'laudoDoc')) fileLabels.push({ title: 'Laudo de segurança veicular', name: 'laudoDoc' })\r\n            break;\r\n        default: void 0\r\n    }\r\n\r\n    //Achar e filtrar na coleção de arquivos do MongoDB qual(is) cujo(s) id está na array filesIds\r\n    if (filesIds)\r\n        filesCollection = filesCollection.filter(f => filesIds.indexOf(f.id) !== -1)\r\n\r\n    if (filesCollection && filesCollection[0]) {\r\n        filesCollection.forEach(obj => {\r\n            fileLabels.forEach(o => {\r\n                if (obj.metadata && o.name === obj.metadata.fieldName)\r\n                    files.push({ ...obj, label: o.title })\r\n            })\r\n        })\r\n    }\r\n\r\n    const getLabel = file => {\r\n        const { metadata, label } = file\r\n\r\n        switch (metadata.fieldName) {\r\n            case 'procuracao':\r\n                if (razaoSocial)\r\n                    return label + ' - ' + razaoSocial\r\n                const emp = empresas.find(e => e.codigoEmpresa === Number(metadata.empresaId))\r\n                return label + ' - ' + emp?.razaoSocial || ''\r\n\r\n            case 'apoliceDoc':\r\n                if (metadata.apolice)\r\n                    return label + ' número ' + metadata.apolice\r\n                else\r\n                    return label\r\n\r\n            case 'altContratoDoc':\r\n                if (metadata.numeroAlteracao)\r\n                    return `${metadata.numeroAlteracao}ª ` + label\r\n                else\r\n                    return label\r\n\r\n            default:\r\n                return label\r\n        }\r\n    }\r\n    const header = ['Arquivo', 'Data de Upload', 'Tamanho']\r\n\r\n    if (files[0]) {\r\n        return (\r\n            <div className={filesIds ? '' : 'popUpWindow'}>\r\n                <h5>\r\n                    <img alt=\"\" src=\"/images/folderIcon2.jpg\" style={{ paddingLeft: '20px', marginRight: '20px' }} /> Arquivos\r\n                </h5>\r\n\r\n                <hr style={{ marginBottom: '5px' }} />\r\n                <div style={divRow}>\r\n                    <div>\r\n                        <img alt=\"\" src=\"/images/multipleFiles2.png\" height='50%' />\r\n                    </div>\r\n                    {header.map((title, i) =>\r\n                        <div key={i}>\r\n                            <span style={{ fontSize: '1.2em', fontWeight: 500 }}>{title}</span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <hr style={{ margin: '0 0 20px 0' }} />\r\n                {\r\n                    files.map((file, index) =>\r\n                        <div key={index}>\r\n                            <div style={divRow}>\r\n                                <div className=\"col s1\">\r\n                                    <img alt=\"\" src=\"/images/genericFile.png\" />\r\n                                </div>\r\n                                <div className=\"col s11\">\r\n                                    <span\r\n                                        style={{ textDecoration: 'underline', cursor: 'pointer', color: 'blue' }}\r\n                                        onClick={() => download(file.id, file.filename, collection, file.metadata.fieldName)}>\r\n                                        {getLabel(file)}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"col s3\">\r\n                                    {formatDate(file.uploadDate, true)}\r\n                                </div>\r\n                                <div className=\"col s3\">\r\n                                    {formatFileSize(file.length)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                <ClosePopUpButton close={close} />\r\n            </div>\r\n        )\r\n    }\r\n    else return null\r\n}\r\n\r\nexport default ShowFiles;","//Work around para tirar a opção \"Export as PDF\" do material-table, que não funciona direito.\r\nconst mo = new MutationObserver((mutations, observer) => {\r\n    mutations.forEach((mutation) => {\r\n        mutation.addedNodes.forEach((addedNode) => {\r\n            if (addedNode.nodeType === Node.ELEMENT_NODE) {\r\n                const element = addedNode;\r\n                if (element.classList.contains('MuiPopover-root')) {\r\n                    Array.from(\r\n                        element.getElementsByClassName('MuiMenuItem-root'),\r\n                    ).forEach((menuItem) => {\r\n                        if (menuItem.textContent === 'Export as PDF') {\r\n                            menuItem.remove();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\nconst removePDF = remove => {\r\n    if (!remove)\r\n        return mo.observe(document.body, { childList: true })\r\n    else\r\n        return mo.disconnect()\r\n}\r\n\r\nexport default removePDF","//Caso a aba seja Sócios ou Procuradores, extrai e renderiza o nome das empresas das arrays de codigoEmpresa de cada sócio/procurador\r\nconst getEmpresas = (collection, empresas, tab) => {\r\n    let nomeEmpresas\r\n    collection.forEach(s => {\r\n        if (s.empresas instanceof Array) {\r\n            //Se o tab for 2, o array é de integers, codigoEmpresa.\r\n            let codigos = s.empresas\r\n            //Se a tab for 1, a array é de objetos e cada obj tem a prop codigoEmpresa\r\n            if (tab === 1)\r\n                codigos = s.empresas.map(e => e?.codigoEmpresa)\r\n\r\n            nomeEmpresas = empresas\r\n                .filter(e => codigos.includes(e.codigoEmpresa))\r\n                .map(e => e.razaoSocial)\r\n                .toString()\r\n                .replace(',', ', ')\r\n            if (nomeEmpresas)\r\n                s.nomeEmpresas = nomeEmpresas\r\n        }\r\n    })\r\n    return collection\r\n}\r\n\r\nexport default getEmpresas\r\n","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport moment from 'moment'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport { connect } from 'react-redux'\r\nimport { updateCollection } from '../Store/dataActions'\r\n\r\nimport ConsultasTemplate from './ConsultasTemplate'\r\nimport { TabMenu } from '../Layouts'\r\n\r\nimport Certificate from '../Veiculos/Certificate'\r\nimport ShowDetails from '../Reusable Components/ShowDetails'\r\nimport ShowFiles from '../Reusable Components/ShowFiles'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport removePDF from '../Utils/removePDFButton'\r\nimport getEmpresas from './getEmpresas'\r\n\r\nconst format = {\r\n    top: '5%',\r\n    left: '10%',\r\n    right: '10%'\r\n}\r\n\r\nclass ConsultasContainer extends Component {\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.showDetails) this.showDetails()\r\n                if (this.state.showFiles) this.closeFiles()\r\n                if (this.state.showCertificate) this.closeCertificate()\r\n            }\r\n        }\r\n    }\r\n    state = {\r\n        tab: 0,\r\n        items: ['Empresas', 'Sócios', 'Procuradores', 'Veículos', 'Seguros'],\r\n        tablePKs: ['codigo_empresa', 'socio_id', 'procurador_id', 'veiculo_id', 'id'],\r\n        dbTables: ['empresas', 'socios', 'procuradores', 'veiculos', 'seguros'],\r\n        options: ['empresas', 'socios', 'procuradores', 'veiculos', 'seguros'],\r\n        detailsTitle: ['Empresa', 'Sócio', 'Procurador', 'Placa', 'Apólice'],\r\n        detailsHeader: ['razaoSocial', 'nomeSocio', 'nomeProcurador', 'placa', 'apolice'],\r\n        empresas: [],\r\n        seguros: [],\r\n        razaoSocial: '',\r\n        showDetails: false,\r\n        showFiles: false,\r\n        openDialog: false,\r\n        filesCollection: [],\r\n        elementDetails: '',\r\n        vehicleDocs: [],\r\n        showCertificate: false\r\n    }\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n        removePDF() //Desabilita opção de exportar como PDF do material-table\r\n    }\r\n    componentWillUnmount() {\r\n        removePDF(true)\r\n        this.setState({})\r\n    }\r\n    changeTab = async (e, value) => {\r\n        await this.setState({ tab: value })\r\n        return\r\n    }\r\n    showDetails = async (e, elementDetails) => {\r\n        const\r\n            { redux } = this.props,\r\n            { options, tab, tablePKs } = this.state,\r\n            primaryKeys = tablePKs.map(pk => humps.camelize(pk))\r\n\r\n        let updatedElement\r\n\r\n        if (elementDetails)\r\n            updatedElement = redux[options[tab]].find(e => e[primaryKeys[tab]] === elementDetails[primaryKeys[tab]])\r\n\r\n        if (elementDetails !== undefined && updatedElement) {\r\n            await this.setState({ showDetails: !this.state.showDetails, elementDetails: updatedElement })\r\n            void 0\r\n        }\r\n        else this.setState({ showDetails: !this.state.showDetails, elementDetails: undefined })\r\n    }\r\n\r\n    closeFiles = () => {\r\n        this.setState({ showFiles: !this.state.showFiles })\r\n    }\r\n\r\n    showFiles = id => {\r\n        const\r\n            { tab } = this.state,\r\n            { allVehicleFields, socios, empresaDocs, vehicleDocs } = this.props.redux\r\n        let\r\n            selectedFiles,\r\n            typeId\r\n\r\n        switch (tab) {\r\n            case 0:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.empresaId === id && f.metadata?.tempFile === false)\r\n                typeId = 'empresaId'\r\n                break\r\n\r\n            case 1:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.empresaId === id)\r\n                const socio = socios.find(v => v.socioId === id)\r\n\r\n                if (socio) {\r\n                    let sociosArray = []\r\n                    selectedFiles = empresaDocs\r\n                        .filter(f => socio.empresas.some(e => e.codigoEmpresa === f.metadata.empresaId && f.metadata.fieldName !== 'crc'))\r\n                        .forEach(f => {\r\n                            if (f.metadata.socios && f.metadata.socios.includes(id))\r\n                                sociosArray.push(f)\r\n                        })\r\n                    selectedFiles = sociosArray\r\n                }\r\n                break\r\n\r\n            case 2:\r\n                typeId = 'procuracaoId'\r\n                let filesToReturn = []\r\n\r\n                empresaDocs.forEach(f => {\r\n                    if (f?.metadata?.fieldName === 'procuracao') {\r\n                        if (f?.metadata?.procuradores)\r\n                            f.metadata.procuradores.forEach(procId => {\r\n                                if (procId === id) filesToReturn.push(f)\r\n                            })\r\n                    }\r\n                })\r\n                selectedFiles = filesToReturn\r\n                break\r\n\r\n            case 3:\r\n                typeId = 'veiculoId'\r\n                selectedFiles = vehicleDocs.filter(f => f.metadata.veiculoId === id)\r\n                const vehicle = allVehicleFields.find(v => v.veiculoId === id)\r\n                if (vehicle) {\r\n                    const seguro = empresaDocs.find(f => f?.metadata?.apolice === vehicle?.apolice?.toString())\r\n                    if (seguro) selectedFiles.push(seguro)\r\n                }\r\n                break\r\n\r\n            case 4:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.apolice === id)\r\n                break\r\n            default: void 0\r\n        }\r\n\r\n        selectedFiles = selectedFiles.filter(file => file?.metadata?.tempFile === false)\r\n        console.log(selectedFiles)\r\n        if (selectedFiles[0]) {\r\n            selectedFiles = selectedFiles\r\n                .sort((a, b) => new Date(a['uploadDate']) - new Date(b['uploadDate']))\r\n                .reverse()\r\n            this.setState({ filesCollection: selectedFiles, showFiles: true, typeId, selectedElement: id })\r\n\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true, subject: typeId })\r\n            this.setState({ filesCollection: [] })\r\n        }\r\n    }\r\n\r\n    deleteHandler = data => {\r\n        const { dbTables, tablePKs, tab } = this.state,\r\n            table = dbTables[tab],\r\n            tablePK = tablePKs[tab],\r\n            itemId = humps.camelize(tablePK)\r\n\r\n        let { codigoEmpresa } = data\r\n        //Socios e procuradores não possuem codigoEmpresa, mas array de empresa\r\n        if (table === 'socios' || table === 'procuradores')\r\n            codigoEmpresa = JSON.stringify(data?.empresas)\r\n\r\n        console.log(\"🚀 ~ file: ConsultasContainer.jsx ~ line 172 ~ ConsultasContainer ~ codigoEmpresa\", codigoEmpresa)\r\n\r\n        axios.delete(`/api/delete?table=${table}&tablePK=${tablePK}&id=${data[itemId]}&codigoEmpresa=${codigoEmpresa}&cpf_socio=${data.cpfSocio}&cpf_procurador=${data.cpfProcurador}`)\r\n            .then(r => console.log(r.data))\r\n    }\r\n\r\n    showCertificate = async vehicle => {\r\n\r\n        const\r\n            { laudos, parametros } = this.props.redux,\r\n            { veiculoId, anoCarroceria, situacao, vencimento } = vehicle,\r\n            seguroVencido = moment(vencimento).isBefore(),\r\n            currentYear = new Date().getFullYear(),\r\n            isOld = currentYear - anoCarroceria >= 16\r\n\r\n        if (isOld) {\r\n            const hasLaudo = laudos.find(l => l.veiculoId === veiculoId),\r\n                validLaudo = moment(hasLaudo?.validade).isAfter(moment())\r\n\r\n            if (!validLaudo) {\r\n                await this.setState({\r\n                    openAlertDialog: true,\r\n                    customTitle: 'Certificado de segurança veicular pendente.',\r\n                    customMessage: 'O laudo de segurança veicular não está registrado no sistema ou se encontra vencido. Para regularizar, acesse Veículos -> Laudos.'\r\n                })\r\n                return\r\n            }\r\n        }\r\n\r\n        if (situacao !== 'Ativo') {\r\n            await this.setState({ alertType: 'veiculoPendente', openAlertDialog: true })\r\n            return\r\n        }\r\n        if (seguroVencido) {\r\n            await this.setState({ alertType: 'seguroVencido', openAlertDialog: true })\r\n            return\r\n        }\r\n\r\n        const url = window.location.origin + '/crv'\r\n        localStorage.setItem('vehicle', JSON.stringify(vehicle))\r\n\r\n        //Envia os nomes da Secretaria, sub, etc para o certificado com base no DB>GlobalState\r\n        if (parametros && parametros[0]) {\r\n            const\r\n                { nomes } = parametros[0]\r\n            localStorage.setItem('nomes', JSON.stringify(nomes))\r\n\r\n        }\r\n        window.open(url, 'noopener')\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    closeCertificate = () => this.setState({ showCertificate: !this.state.showCertificate })\r\n\r\n    render() {\r\n        const\r\n            { tab, options, items, showDetails, elementDetails, showFiles, selectedElement, filesCollection, typeId, tablePKs, showCertificate, certified,\r\n                detailsTitle, detailsHeader, openAlertDialog, alertType, customTitle, customMessage } = this.state,\r\n            { redux, user } = this.props,\r\n            { empresas, procuracoes, procuradores, empresaDocs, altContrato } = redux,\r\n            primaryKeys = tablePKs.map(pk => humps.camelize(pk))\r\n        let\r\n            updatedElement,\r\n            collection = [...this.props.redux[options[tab]]]\r\n\r\n        //Caso a aba seja Sócios ou Procuradores, extrai e renderiza o nome das empresas das arrays de codigoEmpresa de cada sócio/procurador\r\n        if (tab === 1 || tab === 2)\r\n            collection = getEmpresas(collection, empresas, tab)\r\n\r\n        //Define os dados para a exibição de informações adicionais (ShowDetails)\r\n        if (elementDetails && showDetails)\r\n            updatedElement = collection.find(e => e[primaryKeys[tab]] === elementDetails[primaryKeys[tab]])\r\n\r\n        return <Fragment>\r\n            <TabMenu items={items}\r\n                tab={tab}\r\n                changeTab={this.changeTab} />\r\n            <ConsultasTemplate\r\n                tab={tab}\r\n                items={items}\r\n                collection={collection}\r\n                empresas={empresas}\r\n                user={user}\r\n                showDetails={this.showDetails}\r\n                showFiles={this.showFiles}\r\n                del={this.deleteHandler}\r\n                showCertificate={this.showCertificate}\r\n            />\r\n            {showDetails &&\r\n                <ShowDetails\r\n                    close={this.showDetails}\r\n                    data={updatedElement || elementDetails}\r\n                    tab={tab}\r\n                    title={detailsTitle[tab]}\r\n                    header={detailsHeader[tab]}\r\n                    empresas={empresas}\r\n                    procuracoes={procuracoes}\r\n                    procuradores={procuradores}\r\n                    empresaDocs={empresaDocs}\r\n                    altContrato={altContrato}\r\n                />\r\n            }\r\n            {\r\n                showCertificate &&\r\n                <Certificate vehicle={certified} />\r\n            }\r\n            {showFiles &&\r\n                <ShowFiles\r\n                    tab={tab}\r\n                    elementId={selectedElement}\r\n                    filesCollection={filesCollection}\r\n                    close={this.closeFiles}\r\n                    format={format}\r\n                    typeId={typeId}\r\n                    empresas={empresas}\r\n                    empresaDocs={empresaDocs}\r\n                />\r\n            }\r\n            {openAlertDialog &&\r\n                <AlertDialog\r\n                    open={openAlertDialog} close={this.closeAlert} alertType={alertType} tab={tab} customMessage={customMessage} customTitle={customTitle}\r\n                />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['allVehicleFields', 'empresas', 'socios', 'procuradores', 'seguros', 'seguradoras', 'procuracoes',\r\n    'getFiles/vehicleDocs', 'getFiles/empresaDocs', 'equipamentos', 'acessibilidade', 'laudos', 'altContrato', 'parametros']\r\n\r\nexport default connect(null, { updateCollection })(StoreHOC(collections, ConsultasContainer))","const cadEmpresaForm = [\r\n    { title: 'Contrato Social', name: 'contratoSocial' },\r\n    { title: 'CRC', name: 'crc' },\r\n]\r\n\r\nexport default cadEmpresaForm","import React from 'react'\r\n\r\nimport TextInput from '../Reusable Components/TextInput'\r\n\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport FormSubtitle from '../Reusable Components/FormSubtiltle'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport cadEmpresaForm from '../Forms/cadEmpresaForm'\r\n\r\nexport default function ({ handleInput, handleBlur, data, handleFiles, removeFile }) {\r\n    const { activeStep, stepTitles, form, fileToRemove } = data\r\n\r\n    return (\r\n        <div className=\"flex paper\">\r\n            <FormSubtitle subtitle={stepTitles[activeStep]} />\r\n            <main>\r\n                <TextInput\r\n                    form={empresasForm}\r\n                    data={data}\r\n                    handleBlur={handleBlur}\r\n                    handleInput={handleInput}\r\n                />\r\n                <div className='flex center'>\r\n                    {\r\n                        cadEmpresaForm.map(({ name, title }, i) =>\r\n                            <DragAndDrop\r\n                                key={i}\r\n                                name={name}\r\n                                formData={form}\r\n                                dropDisplay={`Clique ou arraste para anexar o ${title}`}\r\n                                handleFiles={handleFiles}\r\n                                removeFile={removeFile}\r\n                                fileToRemove={fileToRemove}\r\n                                style={{ width: '25%', marginRight: i === 0 ? '12px' : 0 }}\r\n                            />\r\n                        )\r\n                    }\r\n                </div>\r\n            </main>\r\n        </div>\r\n    )\r\n}","import { cpf, email, phone } from './commonFields'\r\n\r\nconst width = 195\r\n\r\nexport const sociosForm = [{\r\n    field: 'nomeSocio',\r\n    label: 'Nome do Sócio',\r\n    maxLength: 90,\r\n    width,\r\n    disabled: true\r\n},\r\n{\r\n    ...cpf,\r\n    width,\r\n    disabled: true\r\n},\r\n{\r\n    ...phone,\r\n    field: 'telSocio',\r\n    width\r\n},\r\n{\r\n    ...email,\r\n    field: 'emailSocio',\r\n    width\r\n},\r\n{\r\n    field: 'share',\r\n    label: 'Participação Societária (%)',\r\n    type: 'number',\r\n    width\r\n}\r\n]\r\n\r\n","import React, { Fragment } from 'react'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { sociosForm } from '../Forms/dadosSociosForm'\r\nimport { sociosForm as sociosEditForm } from '../Forms/sociosForm'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport { errorHandler, helper } from '../Utils/checkInputErrors';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#999',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    }\r\n}))\r\n\r\nexport default function ({ socios, empresas, handleInput, handleBlur, data, addSocio, enableEdit, handleEdit, removeSocio }) {\r\n\r\n    const\r\n        { activeStep, stepTitles, filteredSocios, selectedEmpresa } = data,\r\n        classes = useStyles(), { iconButton, list } = classes\r\n\r\n    let standAlone = true\r\n    if (stepTitles) standAlone = false\r\n\r\n    return (\r\n        <>\r\n            <main className=\"flex center\">\r\n                {\r\n                    standAlone &&\r\n                    <header style={{ marginBottom: '10px', width: '100%' }}>\r\n                        <SelectEmpresa\r\n                            data={data}\r\n                            empresas={empresas}\r\n                            handleInput={handleInput}\r\n                            handleBlur={handleBlur}\r\n                        />\r\n                    </header>\r\n                }\r\n                {\r\n                    (selectedEmpresa || !standAlone) &&\r\n                        standAlone ?\r\n                        <>\r\n                            <div className=\"flexColumn\" style={{ alignItems: 'center' }}>\r\n                                <h6 style={{ fontSize: '14px' }}>Alteração de informações dos sócios</h6>\r\n                                <p style={{ fontSize: '12px', color: '#555' }}> Clique no lápis à direita do sócio para editar e clique novamente para salvar.</p>\r\n                                <p style={{ fontSize: '12px', color: '#555', marginTop: 0 }}> Para alterar participação societária e nome, vá para Empresas {'->'} Altereação de Contrato</p>\r\n\r\n                            </div>\r\n                        </>\r\n                        : stepTitles &&\r\n                        <section className=\"flex center paper\">\r\n                            <FormSubtiltle subtitle={stepTitles[activeStep]} />\r\n                            <div className='flex center' style={{ padding: '10px 0', width: '100%' }}>\r\n                                <TextInput\r\n                                    form={standAlone ? sociosForm : sociosEditForm}\r\n                                    data={data}\r\n                                    handleBlur={handleBlur}\r\n                                    handleInput={handleInput}\r\n                                />\r\n                            </div>\r\n                            <div style={{ margin: '5px 0 7px 84.58%', width: '100%' }}>\r\n                                <Button color='primary' variant='outlined' size='small' onClick={addSocio}>\r\n                                    <AddIcon /> Adicionar sócio\r\n                                        </Button>\r\n                            </div>\r\n                        </section>\r\n                }\r\n            </main>\r\n            {\r\n                selectedEmpresa && filteredSocios.length === 0 &&\r\n                <section>\r\n                    <p>\r\n                        Nenhum sócio cadastrado para {selectedEmpresa.razaoSocial}\r\n                    </p>\r\n                </section>\r\n            }\r\n            {\r\n                socios?.length > 0 &&\r\n                <>\r\n                    <section className=\"flexColumn center paper\">\r\n                        <p> Sócios cadastrados</p>\r\n                        {socios.map((s, i) =>\r\n                            <div key={i}>\r\n                                {sociosForm.map((e, k) =>\r\n                                    <Fragment key={k + 1000}>\r\n                                        <TextField\r\n                                            value={s[e.field] || ''}\r\n                                            name={e.field}\r\n                                            label={e.label}\r\n                                            className={list}\r\n                                            onChange={handleEdit}\r\n                                            error={s.edit ? errorHandler(s[e.field], e) : null}\r\n                                            helperText={s.edit ? helper(s[e.field], e) : null}\r\n                                            type={e?.type}\r\n                                            disabled={(e.field === 'share' && standAlone) || e.disabled ? true : s.edit ? false : true}\r\n                                            InputLabelProps={\r\n                                                {\r\n                                                    shrink: true,\r\n                                                    style: {\r\n                                                        fontWeight: 600,\r\n                                                        fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif',\r\n                                                        color: '#888'\r\n                                                    }\r\n                                                }}\r\n                                            inputProps={{\r\n                                                style: {\r\n                                                    fontSize: '13px',\r\n                                                    color: s.edit === true ? '#000'\r\n                                                        : s.status === 'new' ? 'green'\r\n                                                            : s.status === 'modified' ? '#FF2500'\r\n                                                                : s.status === 'deleted' ? 'red'\r\n                                                                    : '#888',\r\n                                                    textDecoration: s.status === 'deleted' && !s.edit ? 'line-through' : ''\r\n                                                }\r\n                                            }}\r\n                                        />\r\n                                    </Fragment>\r\n                                )}\r\n                                <Button component='span' className={iconButton} title='editar' onClick={() => enableEdit(i)}>\r\n                                    <EditIcon />\r\n                                </Button>\r\n\r\n                                {!standAlone && <Button className={iconButton}\r\n                                    color={s.status === 'deleted' ? 'primary' : 'secondary'}\r\n                                    title={s.status === 'deleted' ? 'Desfazer exclusão' : 'Remover'}\r\n                                    onClick={() => removeSocio(i)}>\r\n                                    {s.status === 'deleted' ? <i className='material-icons'>undo</i> : <DeleteIcon />}\r\n                                </Button>}\r\n                            </div>\r\n                        )}\r\n                    </section>\r\n                </>\r\n            }\r\n        </>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\n\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 5px 0',\r\n        height: 'auto'\r\n    }\r\n}))\r\n\r\nexport default function EmpresaCadReview({ data, empresasForm, sociosForm, filesForm, files }) {\r\n\r\n    const { socios } = data,\r\n        classes = useStyles(),\r\n        { paper } = classes\r\n\r\n    let empresaDetails = [], obj = {}, filledForm = [], ultimateData\r\n\r\n    empresasForm.forEach(e => {\r\n        if (data.hasOwnProperty([e.field])) {\r\n            Object.assign(obj, { [e.field]: data[e.field] })\r\n            filledForm.push(e)\r\n        }\r\n    })\r\n    empresaDetails.push(obj)\r\n\r\n    ultimateData = [\r\n        { subtitle: 'Detalhes da empresa', form: filledForm, data: empresaDetails },\r\n        { subtitle: 'Informações sobre os sócios', form: sociosForm, data: socios }\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <Paper className={paper}>\r\n                <div className='divTable'>\r\n                    {\r\n                        ultimateData.map(({ subtitle, form, data }, y) =>\r\n                            <Fragment key={y}>\r\n                                <table style={y === 1 ? { tableLayout: 'fixed' } : {}}>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className='tHeader'\r\n                                                colSpan={form.length}>{subtitle}</th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            {form.map((s, i) => <th key={i}>{s.label}</th>)}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {y === 0 && <tr>\r\n                                            {data.map((obj, j) =>\r\n                                                Object.values(obj).map((el, k) =>\r\n                                                    <td className='review' key={k}>\r\n                                                        {el}\r\n                                                    </td>\r\n                                                )\r\n                                            )}\r\n                                        </tr>}\r\n                                        {y !== 0 && data.map((obj, j) =>\r\n                                            <tr key={j}>\r\n                                                {Object.values(obj).map((el, k) =>\r\n                                                    <td className='review' key={k}>\r\n                                                        {el}\r\n                                                    </td>\r\n                                                )}\r\n                                            </tr>\r\n                                        )}\r\n                                    </tbody>\r\n                                </table>\r\n                            </Fragment>\r\n                        )}\r\n                </div>\r\n\r\n                <h3 style={{ margin: '30px 0 0 25px' }}> <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} /> Documentos </h3>\r\n                {files && <ShowLocalFiles form={filesForm} files={files} />}\r\n            </Paper >\r\n        </>\r\n    )\r\n}","import { formatCpf, formatCnpj, formatPhone, formatShare } from './formatValues'\r\n\r\nexport default function valueParser(name, value) {\r\n    let parsed\r\n\r\n    if (name.match('cnpj')) {\r\n        parsed = formatCnpj(value)\r\n        return parsed\r\n    }\r\n    if (name.match('cpf')) {\r\n        parsed = formatCpf(value)\r\n        return parsed\r\n    }\r\n    if (name.match('tel')) {\r\n        parsed = formatPhone(value)\r\n        return parsed\r\n    }\r\n    if (name.match('share')) {\r\n        parsed = formatShare(value)\r\n        return parsed\r\n    }\r\n\r\n    else return value\r\n}\r\n","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport EmpresasTemplate from './EmpresasTemplate'\r\nimport SociosTemplate from './SociosTemplate'\r\nimport EmpresaCadReview from './EmpresaCadReview'\r\n\r\nimport valueParser from '../Utils/valueParser'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\n\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\nimport CustomStepper from '../Reusable Components/Stepper'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport { handleFiles, removeFile } from '../Utils/handleFiles'\r\nimport cadEmpresaForm from '../Forms/cadEmpresaForm'\r\n\r\nclass EmpresasContainer extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        activeStep: 0,\r\n        stepTitles: ['Preencha os dados da empresa', 'Informações sobre os sócios',\r\n            'Revisão'],\r\n        steps: ['Dados da Empresa', 'Sócios', 'Revisão'],\r\n        razaoSocial: '',\r\n        toastMsg: 'Empresa cadastrada!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        socios: [],\r\n        showFiles: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n        document.querySelector(\"input[name='razaoSocial']\").style.width = '300px'\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n    }\r\n\r\n    handleInput = e => {\r\n        const\r\n            { name, value } = e.target,\r\n            parsedValue = valueParser(name, value)\r\n\r\n        this.setState({ [name]: parsedValue })\r\n    }\r\n\r\n    addSocio = async () => {\r\n        let socios = this.state.socios,\r\n            sObject = {},\r\n            invalid = 0,\r\n            totalShare = 0\r\n\r\n        sociosForm.forEach(obj => {\r\n            if (this.state[obj.field] === '' || this.state[obj.field] === undefined) {\r\n                invalid += 1\r\n            }\r\n        })\r\n\r\n        if (invalid === 100) {\r\n            this.setState({ alertType: 'fieldsMissing', openAlertDialog: true })\r\n            return null\r\n        }\r\n        else {\r\n            sociosForm.forEach(obj => {\r\n                Object.assign(sObject, { [obj.field]: this.state[obj.field] })\r\n            })\r\n            socios.push(sObject)\r\n\r\n            socios.forEach(s => {\r\n                totalShare += Number(s.share)\r\n            })\r\n            if (totalShare > 100) {\r\n                socios.pop()\r\n                this.setState({ alertType: 'overShared', openAlertDialog: true })\r\n            }\r\n            else {\r\n                await this.setState({ socios, totalShare })\r\n                sociosForm.forEach(obj => {\r\n                    this.setState({ [obj.field]: '' })\r\n                })\r\n                document.getElementsByName('nomeSocio')[0].focus()\r\n            }\r\n        }\r\n    }\r\n\r\n    enableEdit = index => {\r\n\r\n        let editSocio = this.state.socios\r\n        if (editSocio[index].edit === true) editSocio[index].edit = false\r\n        else {\r\n            editSocio.forEach(s => s.edit = false)\r\n            editSocio[index].edit = true\r\n        }\r\n        this.setState({ socios: editSocio })\r\n    }\r\n\r\n    handleEdit = e => {\r\n        const { name } = e.target, { socios } = this.state\r\n\r\n        let { value } = e.target\r\n        if (name === 'share') value = value.replace(',', '.')\r\n\r\n        let editSocio = socios.filter(s => s.edit === true)[0]\r\n        const index = socios.indexOf(editSocio)\r\n\r\n        editSocio[name] = value\r\n\r\n        let fs = socios\r\n        fs[index] = editSocio\r\n\r\n        this.setState({ filteredSocios: fs })\r\n    }\r\n\r\n    removeSocio = index => {\r\n        let socios = this.state.socios\r\n        socios.splice(index, 1)\r\n        this.setState({ socios })\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId, alertLabel) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            alert(alertLabel + ' não cadastrado')\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n            case 'cnpj':\r\n                const\r\n                    query = await axios.get(`/api/alreadyExists?table=empresas&column=cnpj&value=${value}`),\r\n                    alreadyExists = query?.data  //Retorna true ou false\r\n\r\n                if (alreadyExists) {\r\n                    const\r\n                        customTitle = 'Empresa já cadastrada.',\r\n                        customMsg = `O CNPJ informado corresponde a uma empresa já está cadastrada no sistema. Para alterar os dados da empresa, vá para Empresas -> Alteração de dados.`\r\n                    this.setState({ cnpj: '', customTitle, customMsg, openAlertDialog: true })\r\n                }\r\n                break;\r\n            case 'share':\r\n                value = value.replace(',', '.')\r\n                if (value > 100) {\r\n                    this.setState({ alertType: 'overShared', openAlertDialog: true })\r\n                }\r\n                else {\r\n                    const totalShare = Number(this.state.totalShare) + Number(value)\r\n                    this.setState({ [name]: value, totalShare })\r\n                }\r\n                break;\r\n            case 'numero':\r\n                if (value && !value.match(/^\\d+$/)) {\r\n                    await this.setState({ numero: '' })\r\n                    this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        let { socios, form } = this.state,\r\n            empresa = {},\r\n            empresaId,\r\n            socioIds\r\n\r\n        empresasForm.forEach(e => {\r\n            if (this.state.hasOwnProperty([e.field])) {\r\n                Object.assign(empresa, { [e.field]: this.state[e.field] })\r\n            }\r\n        })\r\n\r\n        empresa.situacao = 'Ativo'\r\n\r\n        Object.entries(empresa).forEach(([k, v]) => {\r\n            if (!v || v === '') delete empresa[k]\r\n        })\r\n\r\n        socios.forEach(s => {\r\n            delete s.edit\r\n            Object.entries(s).forEach(([k, v]) => {\r\n                if (!v || v === '') delete socios[k]\r\n            })\r\n        })\r\n\r\n        empresa = humps.decamelizeKeys(empresa)\r\n        socios = humps.decamelizeKeys(socios)\r\n        if (!socios || !socios[0]) {\r\n            console.log('Warning: No socios were registered!!!')\r\n            socios = undefined\r\n        }\r\n        else\r\n            console.log(socios)\r\n        await axios.post('/api/empresaFullCad', { empresa, socios })\r\n            .then(res => {\r\n                empresaId = res.data.codigo_empresa\r\n                socioIds = res.data.socioIds\r\n                console.log(\"🚀 ~ file: EmpresasContainer.jsx ~ line 249 ~ EmpresasContainer ~ handleSubmit= ~ empresaId\", empresaId)\r\n                this.submitFile(empresaId, socioIds, form)\r\n            })\r\n        this.toast()\r\n        this.resetState()\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n            await this.setState({ [name]: files[0] })\r\n\r\n            const newState = handleFiles(files, this.state, cadEmpresaForm)\r\n            this.setState({ ...newState, fileToRemove: null })\r\n        }\r\n    }\r\n\r\n    submitFile = async (empresaId, socioIds) => {\r\n        const\r\n            { form } = this.state,\r\n            metadata = {\r\n                empresaId,\r\n                socios: socioIds,\r\n                tempFile: false\r\n            }\r\n        if (form instanceof FormData) {\r\n            let filesToSend = new FormData()\r\n            //O loop é para cada arquivo ter seu fieldName correto no campo metadata\r\n            for (let pair of form) {\r\n                metadata.fieldName = pair[0]\r\n                filesToSend.append('metadata', JSON.stringify(metadata))\r\n                filesToSend.set(pair[0], pair[1])\r\n                await axios.post('/api/empresaUpload', filesToSend)\r\n                    .then(r => console.log(r))\r\n                    .catch(err => console.log(err))\r\n                filesToSend = new FormData()\r\n            }\r\n        }\r\n    }\r\n\r\n    removeFile = name => {\r\n        const\r\n            { form } = this.state,\r\n            newState = removeFile(name, form)\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n\r\n    resetState = () => {\r\n        let\r\n            resetEmpresa = {},\r\n            resetSocios = {},\r\n            resetFiles = {}\r\n\r\n        empresasForm.forEach(obj => {\r\n            Object.keys(obj).forEach(key => {\r\n                if (key === 'field' && this.state[obj[key]]) Object.assign(resetEmpresa, { [obj[key]]: undefined })\r\n            })\r\n        })\r\n\r\n        sociosForm.forEach(obj => {\r\n            Object.keys(obj).forEach(key => {\r\n                if (key === 'field' && this.state[obj[key]]) Object.assign(resetSocios, { [obj[key]]: undefined })\r\n            })\r\n        })\r\n\r\n        cadEmpresaForm.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: undefined })\r\n        })\r\n\r\n        this.setState({\r\n            ...resetEmpresa,\r\n            ...resetSocios,\r\n            ...resetFiles,\r\n            activeStep: 0,\r\n            razaoSocial: '',\r\n            files: [],\r\n            fileNames: [],\r\n            addedSocios: [0],\r\n            totalShare: 0,\r\n            socios: [],\r\n            form: undefined,\r\n            showFiles: false\r\n        })\r\n    }\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    showFiles = () => this.setState({ showFiles: true })\r\n    closeFiles = () => this.setState({ showFiles: !this.state.showFiles })\r\n\r\n    render() {\r\n\r\n        const { socios, activeStep, confirmToast, toastMsg, steps, openAlertDialog,\r\n            alertType, form, customMsg, customTitle } = this.state\r\n\r\n        return <Fragment>\r\n\r\n            <Crumbs links={['Empresas', '/empresas']} text='Cadastro de empresas' />\r\n\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            {\r\n                activeStep === 0 ?\r\n                    <EmpresasTemplate\r\n                        data={this.state}\r\n                        handleInput={this.handleInput}\r\n                        handleBlur={this.handleBlur}\r\n                        handleFiles={this.handleFiles}\r\n                        removeFile={this.removeFile}\r\n                    />\r\n                    : activeStep === 1 ?\r\n                        <SociosTemplate\r\n                            data={this.state}\r\n                            socios={socios}\r\n                            handleInput={this.handleInput}\r\n                            handleBlur={this.handleBlur}\r\n                            addSocio={this.addSocio}\r\n                            removeSocio={this.removeSocio}\r\n                            handleFiles={this.handleFiles}\r\n                            enableEdit={this.enableEdit}\r\n                            handleEdit={this.handleEdit}\r\n                        />\r\n                        :\r\n                        activeStep === 2 &&\r\n                        <EmpresaCadReview\r\n                            data={this.state}\r\n                            files={form}\r\n                            filesForm={cadEmpresaForm}\r\n                            empresasForm={empresasForm}\r\n                            sociosForm={sociosForm}\r\n                        />\r\n            }\r\n            <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleSubmit}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {\r\n                openAlertDialog &&\r\n                <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={customMsg} customTitle={customTitle} />\r\n            }\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['empresas']\r\n\r\nexport default (StoreHOC(collections, EmpresasContainer))","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport './empresas.scss'\r\n\r\nconst featuredPosts = [\r\n    {\r\n        title: 'Cadastrar',\r\n        description: 'Cadastrar uma nova empresa no sistema.',\r\n        imageUrl: '/images/addCompany21.png',\r\n        link: '/empresas/cadastro'\r\n    },\r\n    {\r\n        title: 'Alteração do Cadastral',\r\n        description: 'Alteração de dados da empresa ou contrato social',\r\n        link: '/altContrato',\r\n        imageUrl: '/images/pen2.png'\r\n    },\r\n    {\r\n        title: 'Sócios',\r\n        description: 'Visualizar ou editar dados dos sócios',\r\n        link: '/empresas/socios',\r\n        imageUrl: '/images/socios3.png'\r\n    },\r\n    {\r\n        title: 'Procurações',\r\n        description: 'Cadastrar procurações e procuradores',\r\n        link: '/empresas/procuradores',\r\n        imageUrl: '/images/procuradores31.png'\r\n    },\r\n]\r\n\r\nconst EmpresasHome = props => {\r\n    const\r\n        { user } = props,\r\n        role = user?.role\r\n\r\n    return (\r\n        <>\r\n            <section className='jumbo'>\r\n                <div>\r\n                    <h1 className='jumbo__title'>\r\n                        Empresas\r\n                    </h1>\r\n                    <p className='jumbo__description'>\r\n                        Selecione uma das opções abaixo.\r\n                    </p>\r\n                </div>\r\n            </section>\r\n\r\n            <main className='cardContainer' style={{ width: role !== 'empresa' ? '100%' : '90%', marginLeft: role !== 'empresa' ? '0' : '5%' }}>\r\n                {featuredPosts.map(({ link, title, description, imageUrl }, i) =>\r\n                    role === 'empresa' && link === '/empresas/cadastro' ?\r\n                        null\r\n                        :\r\n                        <Link to={link} style={{ textDecoration: 'none' }} key={i}>\r\n                            <div className='cardE'>\r\n                                <div className='cardE__text'>\r\n                                    <h3>\r\n                                        {title}\r\n                                    </h3>\r\n                                    <p>\r\n                                        {description}\r\n                                    </p>\r\n                                </div>\r\n                                <figure className='cardE__image'>\r\n                                    <img src={imageUrl} alt=\"\" />\r\n                                </figure>\r\n                            </div>\r\n                        </Link>\r\n                )}\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n\r\nconst collections = []\r\nexport default StoreHOC(collections, EmpresasHome)","import { cpf, email, phone } from './commonFields'\r\n\r\nexport const procuradorForm = [{\r\n    field: 'nomeProcurador',\r\n    label: 'Nome do Procurador',\r\n    maxLength: 90,\r\n    width: 220\r\n},\r\n{\r\n    ...cpf,\r\n    field: 'cpfProcurador',\r\n    width: 220\r\n},\r\n{\r\n    ...phone,\r\n    field: 'telProcurador',\r\n    width: 220\r\n},\r\n{\r\n    ...email,\r\n    field: 'emailProcurador',\r\n    width: 220\r\n}\r\n]","import React from 'react'\r\n\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nconst StyledTableCell = withStyles(theme => ({\r\n    head: {\r\n        backgroundColor: '#e1f5fe',\r\n        color: '#00000',\r\n        fontWeight: 600,\r\n        fontSize: 14,\r\n    },\r\n    body: {\r\n        fontSize: 14,\r\n\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledCell = withStyles(theme => ({\r\n    head: {\r\n        backgroundColor: '#e1f5fe',\r\n        color: '#00000',\r\n    },\r\n    body: {\r\n        fontSize: 13,\r\n\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles(theme => ({\r\n    root: {\r\n        '&:nth-of-type(odd)': {\r\n            backgroundColor: theme.palette.background.default,\r\n        },\r\n    },\r\n}))(TableRow);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: '1',\r\n        padding: '1%',\r\n        textAlign: 'center'\r\n    },\r\n    title: {\r\n        marginTop: '2%',\r\n        fontColor: '#000',\r\n        fontSize: '0.9rem',\r\n        backgroundColor: '#B2DCEA',\r\n        textAlign: 'center'\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(2),\r\n        width: \"100%\",\r\n        padding: '2% 0 1% 0',\r\n        height: 'auto'\r\n    },\r\n    table: {\r\n        marginBottom: theme.spacing(2),\r\n        overflowX: 'auto'\r\n    }\r\n}))\r\n\r\n\r\nexport default function Procurador({ procuracao, procuradores }) {\r\n\r\n    const classes = useStyles(),\r\n        { title, table } = classes\r\n\r\n    let procArray = []\r\n\r\n    procuracao.procuradores.forEach(id => {\r\n        const pro = procuradores.find(p => p.procuradorId === id)\r\n        procArray.push(pro)\r\n    })\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div style={{ width: '100%', align: 'left' }}>\r\n                <Typography className={title}> Procuradores cadastrados </Typography>\r\n            </div>\r\n            <Table className={table}>\r\n                <TableHead>\r\n                    <StyledTableRow>\r\n                        {procuradorForm.map((s, i) => <StyledTableCell key={i}>{s.label}</StyledTableCell>)}\r\n                    </StyledTableRow>\r\n                </TableHead>\r\n                { procArray.map((d, j) =>\r\n                    d ?\r\n                        <TableBody key={j}>\r\n                            <TableRow>\r\n                                {\r\n                                    procuradorForm.map((obj, l) =>\r\n                                        <StyledCell key={l}>\r\n                                            {d[obj.field]}\r\n                                        </StyledCell>\r\n                                    )\r\n                                }\r\n                            </TableRow>\r\n                        </TableBody>\r\n                        :\r\n                        null\r\n                )}\r\n            </Table>\r\n        </ React.Fragment>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\nimport moment from 'moment'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport Button from '@material-ui/core/Button'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\n\r\nimport AddCircleOutlineSharpIcon from '@material-ui/icons/AddCircleOutlineSharp';\r\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\r\n\r\nimport Procurador from './Procurador'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\n\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\n\r\nconst divFiles = {\r\n    textAlign: 'center',\r\n    alignItems: 'flex-start',\r\n    justify: 'space-between',\r\n    lineHeight: '40px',\r\n    border: '1px #ccc solid',\r\n    padding: '0 1%',\r\n    margin: '1% 1% 0.5% 1%',\r\n    fontSize: '0.8rem',\r\n    backgroundColor: '#f6f6f6',\r\n    borderRadius: '6px',\r\n    width: 180\r\n}\r\n\r\nconst icon = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    paddingLeft: '2%'\r\n}\r\n\r\nconst fileIcon = {\r\n    verticalAlign: 'middle',\r\n    padding: '0 0% 0 2%',\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center'\r\n    },\r\n    addButton: {\r\n        padding: '5px 10px 5px 8px',\r\n        height: '40px',\r\n        margin: '5px',\r\n        float: 'right',\r\n        fontSize: '0.8rem'\r\n    }\r\n}))\r\n\r\nexport default function ({ redux, data, handleInput, addProc, removeProc, handleFiles, getFile, plusOne, minusOne, checkExpires, setShowPendencias, removeFile }) {\r\n\r\n    const\r\n        { dropDisplay, selectedEmpresa, procsToAdd, selectedDocs, procuracao, expires, demand, showPendencias, info, demandFiles, fileToRemove } = data,\r\n        { empresas, procuradores } = redux,\r\n\r\n        classes = useStyles(), { addButton, textField } = classes\r\n\r\n    const errorHandler = (el, index) => {\r\n\r\n        const value = data[el.field + index]\r\n\r\n        if (el.errorHandler && el.errorHandler(value)) return false\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return true\r\n\r\n        if (el.pattern && value) return value.match(el.pattern) === null\r\n\r\n        if (value > el.max || value < el.min) return true\r\n        if (value?.length < el?.minLength) return true\r\n\r\n        else return false\r\n    }\r\n\r\n    const helper = (el, index) => {\r\n        const value = data[el.field + index]\r\n\r\n        if (el.errorHandler && el.errorHandler(value)) return '✓'\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return '✘'\r\n\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n\r\n        if (value?.length < el?.minLength) return '✘'\r\n        if (value?.length >= el?.minLength) return '✓'\r\n\r\n        else return undefined\r\n    }\r\n\r\n    const handleDates = (date) => {\r\n\r\n        if (date) return moment(date).format('DD-MM-YYYY')\r\n        else return ''\r\n    }\r\n\r\n    //************CRIAR FUNÇÃO PARA IMPEDIR QUE O PROCURADOR QUE TENHA ALGUMA PROCURAÇÃO SEJA APAGADO NA TELA 'CONSULTAS' */\r\n    return (\r\n        <div className='flex'>\r\n            <header className='flex center' style={{ marginBottom: '10px', width: '100%' }}>\r\n                <SelectEmpresa\r\n                    data={data}\r\n                    empresas={empresas}\r\n                    handleInput={handleInput}\r\n                />\r\n            </header>\r\n            {selectedEmpresa &&\r\n                <section className=\"paper flexColumn\" style={{ position: 'relative', width: '100%' }}>\r\n                    <div className='flexColumn' style={{ alignItems: 'center' }}>\r\n                        <h6> Cadastrar nova procuração </h6>\r\n                        <h4 style={{ fontWeight: 400, fontSize: '0.9em' }}> Se a procuração abranger mais de um procurador, clique em \"+\" para adicionar e anexe apenas 1 vez.</h4>\r\n                    </div>\r\n                    {procsToAdd.map((p, j) =>\r\n                        <div className=\"flex\" key={j} >\r\n                            {procuradorForm.map((el, i) =>\r\n                                <Fragment key={i}>\r\n                                    <TextField\r\n                                        name={el.field + j}\r\n                                        label={el.label}\r\n                                        margin='normal'\r\n                                        className={textField}\r\n                                        onChange={e => handleInput(e)}\r\n                                        type={el.type || ''}\r\n                                        error={errorHandler(el, j)}\r\n                                        helperText={helper(el, j)}\r\n                                        select={el.select || false}\r\n                                        value={data[el.field + j] || ''}\r\n                                        disabled={el.disabled || false}\r\n                                        InputLabelProps={{\r\n                                            className: textField,\r\n                                            shrink: el.type === 'date' || undefined,\r\n                                            style: { fontSize: '0.7rem', fontWeight: 400, color: '#888' }\r\n                                        }}\r\n                                        inputProps={{\r\n                                            style: {\r\n                                                background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                                fontSize: '0.9rem', textAlign: 'center', color: '#000', width: el.width || 150, height: '7px'\r\n                                            },\r\n                                            value: `${data[el.field + j] || ''}`,\r\n                                            list: el.datalist || '',\r\n                                            maxLength: el.maxLength || '',\r\n                                            minLength: el.minLength || '',\r\n                                            max: el.max || '',\r\n                                        }}\r\n                                        multiline={el.multiline || false}\r\n                                        rows={el.rows || null}\r\n                                        variant={el.variant || 'filled'}\r\n                                        fullWidth={el.fullWidth || false}\r\n                                    >\r\n                                    </TextField>\r\n                                    {j === procsToAdd.length - 1 && i === 3 &&\r\n                                        <>\r\n                                            <AddCircleOutlineSharpIcon\r\n                                                onClick={() => plusOne()}\r\n                                                style={{\r\n                                                    verticalAlign: 'middle',\r\n                                                    position: 'absolute',\r\n                                                    bottom: '112px',\r\n                                                    right: j > 0 ? '40px' : '68px',\r\n                                                    color: '#009688',\r\n                                                    fontSize: 30,\r\n                                                    cursor: 'pointer',\r\n                                                    zIndex: 1\r\n                                                }}\r\n                                            />\r\n                                            {j > 0 && <RemoveCircleOutlineIcon\r\n                                                onClick={() => minusOne()}\r\n                                                style={{\r\n                                                    verticalAlign: 'middle',\r\n                                                    position: 'absolute',\r\n                                                    bottom: '112px',\r\n                                                    right: '70px',\r\n                                                    color: 'red',\r\n                                                    fontSize: 30,\r\n                                                    cursor: 'pointer',\r\n                                                    zIndex: 1\r\n                                                }}\r\n                                            />}\r\n                                        </>\r\n                                    }\r\n                                </Fragment>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"flex\" style={{ alignItems: 'center', padding: '0 20px', width: '100%', margin: '12px 0 6px 0' }}>\r\n                        <div style={{ width: '50%' }}>\r\n                            {!demand ?\r\n                                <DragAndDrop\r\n                                    name='procuracao'\r\n                                    formData={procuracao}\r\n                                    dropDisplay={dropDisplay}\r\n                                    handleFiles={handleFiles}\r\n                                    demandFiles={demandFiles}\r\n                                    removeFile={removeFile}\r\n                                    fileToRemove={fileToRemove}\r\n                                />\r\n                                :\r\n                                <div className=\"flex\">\r\n                                    <ShowLocalFiles\r\n                                        demand={demand}\r\n                                        collection='empresaDocs'\r\n                                        demandFiles={demandFiles}\r\n                                        form={empresaFiles}\r\n                                        style={{ minWidth: '220px' }}\r\n                                    />\r\n                                </div>\r\n                            }\r\n                        </div>\r\n\r\n                        <div style={{ display: 'flex', justifyContent: 'flex-end', alignItems: 'center', width: '50%', paddingTop: '8px' }}>\r\n                            <div style={{ marginTop: '12px' }}>\r\n                                <FormControlLabel\r\n                                    control={\r\n                                        <Checkbox\r\n                                            checked={expires === true}\r\n                                            onChange={() => checkExpires()}\r\n                                            value={expires}\r\n                                        />\r\n                                    }\r\n                                    label={\r\n\r\n                                        <span style={{ color: '#2979ff', fontSize: '0.8em', float: 'right' }}>\r\n                                            Procuração por prazo determinado?\r\n                                    </span>\r\n                                    }\r\n                                />\r\n                            </div>\r\n                            <TextField\r\n                                name='vencimento'\r\n                                label='Vencimento'\r\n                                margin='normal'\r\n                                className={textField}\r\n                                onChange={e => handleInput(e)}\r\n                                type='date'\r\n                                helper='se indeterminado, deixar em branco'\r\n                                value={data.vencimento || ''}\r\n                                disabled={expires === false}\r\n                                InputLabelProps={{\r\n                                    className: textField,\r\n                                    shrink: true,\r\n                                    style: { fontSize: '0.8rem', color: '#455a64', marginBottom: '5%' }\r\n                                }}\r\n                                inputProps={{\r\n                                    style: { background: '#fafafa', fontSize: '0.8rem', textAlign: 'center', color: '#000', height: '9px' },\r\n                                }}\r\n                                variant={'filled'}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </section>}\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', width: '100%' }}>\r\n                {selectedEmpresa && !demand ?\r\n                    <Button\r\n                        className={addButton}\r\n                        size='small'\r\n                        color=\"secondary\"\r\n                        variant=\"contained\"\r\n                        onClick={() => addProc()}\r\n                    >\r\n                        <AddIcon />Cadastrar procuração\r\n                        </Button>\r\n                    : selectedEmpresa && demand ?\r\n                        <StepperButtons\r\n                            uniqueStep={true}\r\n                            declineButtonLabel='Indeferir'\r\n                            demand={demand}\r\n                            setShowPendencias={setShowPendencias}\r\n                            showPendencias={showPendencias}\r\n                            info={info}\r\n                            handleSubmit={addProc}\r\n                            handleInput={handleInput}\r\n                        />\r\n                        : null\r\n                }\r\n            </div>\r\n\r\n            <section className=\"flexColumn\" style={{ width: '100%', paddingRight: '0' }}>\r\n                {\r\n                    selectedEmpresa && !selectedDocs[0] && !demand ?\r\n                        <div className=\"flex paper\">\r\n                            Nenhum procurador cadastrado para {selectedEmpresa.razaoSocial}\r\n                        </div>\r\n                        :\r\n                        selectedEmpresa && selectedDocs[0] &&\r\n                        <h2 style={{ margin: '25px 0 0 15px' }}>\r\n                            Procurações cadastradas\r\n                    </h2>\r\n                }\r\n                {\r\n                    selectedDocs.length > 0 && selectedDocs.map((procuracao, z) =>\r\n                        <div key={z * 0.01} className='flexColumn paper' style={{ padding: '10px 15px 20px 15px' }}>\r\n                            <h5>\r\n                                Procuração {\r\n                                    !procuracao.vencimento ?\r\n                                        'por prazo indeterminado'\r\n                                        :\r\n                                        'com vencimento em ' + handleDates(procuracao.vencimento)\r\n                                }\r\n                            </h5>\r\n\r\n                            <Procurador procuradores={procuradores} procuracao={procuracao} />\r\n\r\n                            <div className='flex center' style={{ position: 'relative' }}>\r\n                                <span style={divFiles}>\r\n                                    <InsertDriveFileOutlinedIcon style={fileIcon} />\r\n                                    <span style={{ verticalAlign: 'middle', }}>\r\n                                        {' '} Baixar arquivo\r\n                                    </span>\r\n                                    <GetAppIcon style={icon} onClick={() => getFile(procuracao.procuracaoId)} />\r\n                                </span>\r\n                                <span style={{ ...divFiles, width: 90, backgroundColor: 'white', border: 0, position: 'absolute', right: 0 }}>\r\n                                    <DeleteOutlinedIcon color='secondary' style={icon} onClick={() => removeProc(procuracao)} />\r\n                                    Apagar\r\n                                    </span>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            </section>\r\n        </div >\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport valueParser from '../Utils/valueParser'\r\n//import { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\n\r\nimport ProcuradoresTemplate from './ProcuradoresTemplate'\r\nimport download from '../Utils/downloadFile'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\n\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { setEmpresaDemand } from '../Utils/setEmpresaDemand'\r\nimport { removeFile, sizeExceedsLimit } from '../Utils/handleFiles'\r\n\r\nclass Procuradores extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.openDialog) this.toggleDialog()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        toastMsg: 'Procuração cadastrada!',\r\n        confirmToast: false,\r\n        fileNames: [],\r\n        openDialog: false,\r\n        expires: false,\r\n        filteredProc: [],\r\n        dropDisplay: 'Clique ou arraste para anexar a procuração referente a este(s) procurador(es).',\r\n        procuradores: [],\r\n        procsToAdd: [1],\r\n        procuracoesArray: [],\r\n        selectedDocs: [],\r\n        showPendencias: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const\r\n            { redux } = this.props,\r\n            { empresas } = redux,\r\n            demand = this.props?.location?.state?.demand,\r\n            procuracoes = JSON.parse(JSON.stringify(this.props.redux.procuracoes))\r\n\r\n        //Se o usuário representa apenas uma empresa, seleciona a empresa e carrega os dados\r\n        if (empresas && empresas.length === 1) {\r\n            const\r\n                selectedEmpresa = empresas[0],\r\n                selectedDocs = procuracoes.filter(pr => pr.codigoEmpresa === selectedEmpresa.codigoEmpresa)\r\n            this.setState({ selectedEmpresa, razaoSocial: selectedEmpresa?.razaoSocial, selectedDocs })\r\n        }\r\n\r\n        //*************Set demand if any\r\n        if (demand) {\r\n            const\r\n                originalProcuradores = JSON.parse(JSON.stringify(redux.procuradores)),\r\n                demandState = setEmpresaDemand(demand, redux, originalProcuradores),\r\n                { latestDoc, ...updatedState } = demandState,\r\n                { history } = demand,\r\n                { vencimento, expires } = history[0],\r\n                newMembers = history[0].newMembers || [],\r\n                oldMembers = history[0].oldMembers || []\r\n            console.log(demandState)\r\n            let allDemandProcs, procsToAdd = []\r\n\r\n            if (oldMembers[0]) {\r\n                oldMembers.forEach(m => {\r\n                    originalProcuradores.forEach(op => {\r\n                        Object.keys(op).forEach(key => {\r\n                            if (m?.procuradorId === op?.procuradorId && !m[key]) {\r\n                                m[key] = op[key]\r\n                            }\r\n                        })\r\n                    })\r\n                })\r\n            }\r\n            if (newMembers[0] || oldMembers[0]) {\r\n                allDemandProcs = newMembers.concat(oldMembers)\r\n                allDemandProcs.forEach((p, i) => {\r\n                    procsToAdd.push(i)\r\n                    procuradorForm.forEach(({ field }) => {\r\n                        this.setState({ [field + i]: p[field] })\r\n                    })\r\n                })\r\n            }\r\n            this.setState({ vencimento, expires, procsToAdd })\r\n            this.setState({ ...updatedState, demandFiles: [latestDoc] })\r\n        }\r\n\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        const\r\n            { selectedEmpresa } = this.state,\r\n            { procuracoes } = this.props.redux\r\n\r\n        if (selectedEmpresa) {\r\n            const\r\n                { codigoEmpresa } = this.state?.selectedEmpresa,\r\n                updatedProcs = JSON.parse(JSON.stringify(procuracoes))\r\n\r\n            //Se alterar o redux por sockets,, altera state, pq procs são renderizadas a partir do state.\r\n            if (JSON.stringify(prevProps.redux.procuracoes) !== JSON.stringify(updatedProcs)) {\r\n                const updatedDocs = updatedProcs.filter(p => p.codigoEmpresa === codigoEmpresa)\r\n                this.setState({ selectedDocs: updatedDocs })\r\n            }\r\n        }\r\n    }\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { name } = e.target,\r\n            { empresas } = this.props.redux,\r\n            procuradores = [...this.props.redux.procuradores],\r\n            procuracoes = JSON.parse(JSON.stringify(this.props.redux.procuracoes))\r\n\r\n        let { value } = e.target\r\n\r\n        //***********************Parse values ********************** */\r\n        const parsedValue = valueParser(name, value)\r\n        this.setState({ [name]: parsedValue })\r\n\r\n        //**************************SetState *********************** */\r\n        if (name === 'razaoSocial' && Array.isArray(procuradores)) {\r\n\r\n            const selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                const selectedDocs = procuracoes.filter(pr => pr.codigoEmpresa === selectedEmpresa.codigoEmpresa)\r\n\r\n                await this.setState({ selectedEmpresa, selectedDocs, razaoSocial: selectedEmpresa.razaoSocial })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined, selectedDocs: [] })\r\n\r\n            } else this.setState({ selectedEmpresa: undefined, selectedDocs: [] })\r\n        }\r\n\r\n        if (name.match('cpfProcurador')) {\r\n            const proc = procuradores.find(p => p.cpfProcurador === value)\r\n            if (proc) {\r\n                const index = name.charAt(name.length - 1)\r\n                let cpfExists\r\n                Object.keys(this.state).forEach(stateKey => {\r\n                    if (stateKey !== name && this.state[stateKey] === value) {\r\n                        alert('Este CPF já foi informado.')\r\n                        this.setState({ [name]: '' })\r\n                        cpfExists = true\r\n                    }\r\n                })\r\n\r\n                if (!cpfExists)\r\n                    procuradorForm.forEach(({ field }) => {\r\n                        const key = field + index\r\n                        this.setState({ [key]: proc[field] })\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    addProc = async (approved) => {\r\n        const\r\n            { selectedEmpresa, demand, procuracao, vencimento, expires, info } = this.state,\r\n            empresaId = selectedEmpresa.codigoEmpresa,\r\n            nProc = [...this.state.procsToAdd]\r\n        let\r\n            addedProcs = [],\r\n            sObject = {}\r\n\r\n        //***********************Check for errors *********************** */\r\n        /*       let { errors } = checkInputErrors('returnObj', 'Dont check the date, please!') || []      \r\n              if (errors && errors[0]) {\r\n                  if (!expires)\r\n                      await this.setState({ ...this.state, ...checkInputErrors('setState', 'dontCheckDate') })\r\n                  else\r\n                      await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n                  return\r\n              }   */\r\n        //***********Create array of Procs from state***********\r\n        nProc.forEach((n, i) => {\r\n            procuradorForm.forEach(obj => {\r\n                Object.assign(sObject, { [obj.field]: this.state[obj.field + i] })\r\n            })\r\n            let j = 0\r\n            Object.values(sObject).forEach(v => {\r\n                if (v) j += 1\r\n            })\r\n            if (j > 0)\r\n                addedProcs.push(sObject)\r\n            j = 0\r\n            sObject = {}\r\n\r\n            procuradorForm.forEach(obj => {\r\n                this.setState({ [obj.field + i]: '' })\r\n            })\r\n        })\r\n\r\n        let\r\n            newMembers = [],\r\n            oldMembers = []\r\n\r\n        for (let addedProc of addedProcs) {\r\n            const\r\n                getData = await axios.get(`/api/getOne?table=procuradores&key=cpf_procurador&value='${addedProc.cpfProcurador}'`),\r\n                existingProc = humps.camelizeKeys(getData?.data[0])\r\n            console.log(\"🚀 ~ file: Procuradores.jsx ~ line 222 ~ Procuradores ~ addProc= ~ existingProc\", existingProc)\r\n            if (existingProc?.procuradorId) {\r\n\r\n                //Acrescenta a empresa no array de empresas de cada procurador\r\n                addedProc.empresas = existingProc.empresas\r\n                //Se não tiver nenhuma empresa ou se o único códigoEmpresa na array for ===0 (quer dizer q tinha mas venceu ou foi exluído):\r\n                //Nesse caso, a array de empresas no DB será um array de apenas 1 item, com o códigoEmpresa atual\r\n                if ((addedProc.empresas[0] === 0 && addedProc.empresas.length === 1) || !addedProc.empresas)\r\n                    addedProc.empresas = [empresaId]\r\n\r\n                //Caso já tenha alguma outra, apenas acrescenta o novo codigoEmpresa, desde que não seja repetido\r\n                if (addedProc.empresas && addedProc.empresas[0] && !addedProc.empresas.includes(empresaId))\r\n                    addedProc.empresas.push(empresaId)\r\n\r\n                Object.keys(addedProc).forEach(k => {\r\n                    if (addedProc[k] === existingProc[k] && k !== 'empresas' && k !== 'cpfProcurador')\r\n                        delete addedProc[k]\r\n                })\r\n                addedProc.procuradorId = existingProc.procuradorId\r\n                oldMembers.push(addedProc)\r\n            }\r\n            else\r\n                newMembers.push(addedProc)\r\n        }\r\n        //console.log(\"🚀 ~ file: Procuradores.jsx ~ line 248 ~ Procuradores ~ addProc= ~ oldMembers\", oldMembers)        \r\n\r\n        //Se o request não for de aprovação, cria a demanda\r\n        if (approved === undefined) {\r\n\r\n            const log = {\r\n                status: 'Aguardando aprovação',\r\n                empresaId,\r\n                history: {\r\n\r\n                    files: procuracao,\r\n                    newMembers,\r\n                    oldMembers,\r\n                    vencimento,\r\n                    expires\r\n                },\r\n                metadata: {\r\n                    fieldName: 'procuracao',\r\n                    empresaId\r\n                },\r\n            }\r\n            Object.entries(log).forEach(([k, v]) => { if (!v) delete log[k] })\r\n            log.approved = approved\r\n            log.historyLength = 0\r\n\r\n            logGenerator(log)\r\n                .then(r => console.log(r))\r\n\r\n            this.setState({ toastMsg: 'Solicitação de cadastro enviada', confirmToast: true })\r\n            //setTimeout(() => { this.resetState() }, 1500);\r\n        }\r\n        //Demanda indeferida\r\n        if (approved === false) {\r\n            const log = {\r\n                id: demand.id,\r\n                empresaId,\r\n                history: {\r\n                    info\r\n                },\r\n                declined: true\r\n            }\r\n            logGenerator(log)\r\n                .then(r => console.log(r))\r\n            this.setState({ toastMsg: 'Solicitação indeferida!', confirmToast: true })\r\n            setTimeout(() => {\r\n                this.props.history.push('/solicitacoes')\r\n            }, 1500);\r\n        }\r\n        //Aprova alteração de procuradores/procuração\r\n        if (approved === true) {\r\n            newMembers = humps.decamelizeKeys(newMembers)\r\n            oldMembers = humps.decamelizeKeys(oldMembers)\r\n            this.approveProc(newMembers, oldMembers)\r\n        }\r\n    }\r\n\r\n    approveProc = async (newMembers, oldMembers) => {\r\n\r\n        const\r\n            { selectedEmpresa, demandFiles, vencimento, demand } = this.state,\r\n            { codigoEmpresa } = selectedEmpresa,\r\n            procIdArray = oldMembers.map(m => m.procurador_id)\r\n\r\n        //******************Post newMembers  *****************/\r\n        if (newMembers.length > 0) {\r\n            newMembers.forEach(m => m.empresas = `{${codigoEmpresa}}`)  //Adiciona o código da empresa do procurador\r\n            newMembers = humps.decamelizeKeys(newMembers)\r\n            const cadRequest = {\r\n                table: 'procuradores', tablePK: 'procurador_id',\r\n                procuradores: newMembers,\r\n                empresas: [codigoEmpresa]\r\n            }\r\n\r\n            await axios.post('/api/cadProcuradores', { ...cadRequest, codigoEmpresa })\r\n                .then(procs => {\r\n                    procs.data.forEach(p => procIdArray.push(p.procurador_id))\r\n                })\r\n        }\r\n        //***************Update existing members ****************/\r\n        const request = {\r\n            table: 'procuradores',\r\n            tablePK: 'procurador_id',\r\n            requestArray: oldMembers,\r\n            keys: procuradorForm.map(p => humps.decamelize(p.field)),\r\n            codigoEmpresa,\r\n            updateUser: 'insertEmpresa'\r\n        }\r\n\r\n        if (oldMembers && oldMembers[0]) {\r\n            request.keys.push('empresas')  //Não está no form, mas é uma key que precisa ser acrescentada para atualizar no DB\r\n            oldMembers.forEach(m => {\r\n                let { empresas } = m\r\n\r\n                //Inclui a empresa no array de empresas do procurador caso ainda não esteja lá\r\n                if (empresas && empresas[0]) {\r\n                    if (!empresas.includes(codigoEmpresa))\r\n                        m.empresas.push(codigoEmpresa)\r\n                    m.empresas = empresas.toString()      //Adiciona o código da empresa do procurador                                      \r\n                }\r\n            })\r\n\r\n            axios.put('/api/editProc', request)\r\n                .then(r => console.log(r))\r\n        }\r\n\r\n        //***************Create new Procuracao****************/\r\n        let novaProcuracao = {\r\n            codigo_empresa: codigoEmpresa,\r\n            vencimento,\r\n            status: 'vigente',\r\n            procuradores: procIdArray\r\n        }\r\n\r\n        Object.entries(novaProcuracao).forEach(([k, v]) => {\r\n            if (!v || v === '') delete novaProcuracao[k]\r\n        })\r\n\r\n        let procuracaoId\r\n\r\n        await axios.post('/api/cadProcuracao', novaProcuracao)\r\n            .then(r => procuracaoId = r.data[0].procuracao_id)\r\n\r\n        novaProcuracao.procuracaoId = procuracaoId\r\n        const log = {\r\n            id: demand.id,\r\n            demandFiles,\r\n            history: {},\r\n            approved: true\r\n        }\r\n\r\n        if (demandFiles)\r\n            log.metadata = {\r\n                fieldName: 'procuracao',\r\n                empresaId: selectedEmpresa.codigoEmpresa,\r\n                procuracaoId: procuracaoId,\r\n                procuradores: procIdArray,\r\n            }\r\n        //generate log\r\n        logGenerator(log)\r\n            .then(r => console.log(r))\r\n\r\n        this.toast()\r\n        if (demand)\r\n            setTimeout(() => {\r\n                this.props.history.push('/solicitacoes')\r\n            }, 1500);\r\n        this.resetState()\r\n    }\r\n\r\n    removeProc = async proc => {\r\n        const\r\n            id = proc.procuracaoId,\r\n            { procuradores, codigoEmpresa } = proc,\r\n            procuradoresRedux = this.props.redux.procuradores,\r\n            { procuracoes } = this.props.redux,\r\n            selectedFile = this.props.redux.empresaDocs.find(f => Number(f.metadata.procuracaoId) === id)\r\n\r\n        //Remove o código da empresa da array de empresas do procurador caso não haja outra procuração da mesma empresa\r\n        if (procuradores[0]) {\r\n            //Checa se há outras procurações \r\n            const\r\n                outrasProcuracoes = procuracoes.filter(p => p.codigoEmpresa === codigoEmpresa && p.procuracaoId !== id),\r\n                dontRemove = new Set()\r\n            //Armazena os ids dos procuradores que estão em outras procurações para que não lhes seja removido o direito de acesso\r\n            outrasProcuracoes.forEach(op =>\r\n                op.procuradores.forEach(p => dontRemove.add(p))\r\n            )\r\n\r\n            let filteredProcs = procuradoresRedux.filter(p => procuradores.includes(p.procuradorId) && !dontRemove.has(p.procuradorId))\r\n\r\n            filteredProcs.forEach(p => {\r\n                let empresas = p.empresas || []\r\n                empresas = empresas.filter(e => e !== codigoEmpresa)\r\n                p.empresas = empresas\r\n                if (empresas.length === 0)\r\n                    p.empresas = [0]\r\n            })\r\n            //Se tiver que alterar permissões de um procurador (usuário), altera, senão apenas apaga a procuração\r\n            if (filteredProcs[0]) {\r\n                filteredProcs = humps.decamelizeKeys(filteredProcs)\r\n\r\n                const request = {\r\n                    table: 'procuradores',\r\n                    tablePK: 'procurador_id',\r\n                    requestArray: filteredProcs,\r\n                    keys: ['empresas'],\r\n                    codigoEmpresa\r\n                }\r\n                axios.put('/api/editProc', { ...request })\r\n                    .then(r => console.log(r))\r\n                //Remove a permissão do usuário para a empresa selecionada, caso haja usuário com mesmo cpf cadastrado no sistema\r\n                await axios.patch('/api/removeEmpresa', { cpfsToRemove: filteredProcs, codigoEmpresa })\r\n                    .then(r => console.log(r))\r\n            }\r\n        }\r\n\r\n        await axios.delete(`/api/delete?table=procuracoes&tablePK=procuracao_id&id=${id}&codigoEmpresa=${codigoEmpresa}`)\r\n            .then(r => console.log(r.data))\r\n\r\n        if (selectedFile && selectedFile.hasOwnProperty('id'))\r\n            axios.delete(`/api/deleteFile?collection=empresaDocs&id=${selectedFile.id}`)\r\n                .then(({ data }) => console.log(data))\r\n    }\r\n\r\n    handleFiles = files => {\r\n        //limit file Size\r\n        if (sizeExceedsLimit(files)) return\r\n\r\n        let procuracao = new FormData()\r\n        procuracao.append('procuracao', files[0])\r\n        this.setState({ procuracao, fileToRemove: null })\r\n    }\r\n\r\n    removeFile = async (name) => {\r\n        const\r\n            { procuracao } = this.state,\r\n            newState = removeFile(name, procuracao)\r\n\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n\r\n    getFile = id => {\r\n        const\r\n            { empresaDocs } = this.props.redux,\r\n            selectedFile = empresaDocs.find(f => Number(f.metadata.procuracaoId) === id)\r\n\r\n        if (selectedFile) {\r\n            const { id, filename } = selectedFile\r\n            download(id, filename, 'empresaDocs')\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n        }\r\n    }\r\n\r\n    plusOne = () => {\r\n        let i = [...this.state.procsToAdd]\r\n        i.push(1)\r\n        this.setState({ procsToAdd: i })\r\n    }\r\n\r\n    minusOne = () => {\r\n        let i = [...this.state.procsToAdd]\r\n        i.pop()\r\n        this.setState({ procsToAdd: i })\r\n    }\r\n\r\n    checkExpires = () => {\r\n        if (this.state.expires === true) this.setState({ vencimento: '' })\r\n        this.setState({ expires: !this.state.expires })\r\n    }\r\n\r\n    resetState = () => {\r\n        const\r\n            { procsToAdd } = this.state,\r\n            keys = procuradorForm.map(({ field }) => field),\r\n            resetedFields = {}\r\n\r\n        procsToAdd.forEach((p, i) => {\r\n            keys.forEach(key => {\r\n                if (this.state.hasOwnProperty(key + i))\r\n                    resetedFields[key + i] = undefined\r\n            })\r\n        })\r\n        this.removeFile('procuracao')\r\n        this.setState({\r\n            ...resetedFields,\r\n            dropDisplay: 'Clique ou arraste para anexar a procuração referente a este(s) procurador(es).',\r\n            procsToAdd: [1],\r\n            vencimento: undefined,\r\n            procuracao: undefined,\r\n            expires: false\r\n        })\r\n    }\r\n\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const { openAlertDialog, alertType, demand } = this.state\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Cadastro de procurações' demand={demand} />\r\n                <ProcuradoresTemplate\r\n                    data={this.state}\r\n                    redux={this.props.redux}\r\n                    handleInput={this.handleInput}\r\n                    removeProc={this.removeProc}\r\n                    handleFiles={this.handleFiles}\r\n                    removeFile={this.removeFile}\r\n                    addProc={this.addProc}\r\n                    handleSubmit={this.handleSubmit}\r\n                    plusOne={this.plusOne}\r\n                    minusOne={this.minusOne}\r\n                    getFile={this.getFile}\r\n                    checkExpires={this.checkExpires}\r\n                    setShowPendencias={this.setShowPendencias}\r\n                />\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n                {\r\n                    openAlertDialog &&\r\n                    <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />\r\n                }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['empresas', 'procuradores', 'procuracoes', 'getFiles/empresaDocs']\r\n\r\nexport default (StoreHOC(collections, Procuradores))","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport SociosTemplate from './SociosTemplate'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport valueParser from '../Utils/valueParser'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\n\r\nclass AltSocios extends Component {\r\n\r\n    state = {\r\n        razaoSocial: '',\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        openDialog: false,\r\n        dialogTitle: '',\r\n        addedSocios: [0],\r\n        filteredSocios: [],\r\n    }\r\n\r\n    componentDidMount() {\r\n        const\r\n            { socios, empresas } = this.props.redux,\r\n            originalSocios = JSON.parse(JSON.stringify(socios))\r\n\r\n        if (empresas && empresas.length === 1)\r\n            this.setState({ selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, filteredSocios: socios, originalSocios })\r\n        else\r\n            this.setState({ originalSocios })\r\n    }\r\n\r\n    handleInput = e => {\r\n        const\r\n            { empresas, socios } = this.props.redux,\r\n            { name } = e.target\r\n\r\n        let { value } = e.target\r\n        const parsedValue = valueParser(name, value)\r\n\r\n        this.setState({ [name]: parsedValue })\r\n\r\n        if (name === 'razaoSocial') {\r\n            const\r\n                selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                const\r\n                    reduxSocios = JSON.parse(JSON.stringify(socios)),\r\n                    filteredSocios = reduxSocios.filter(s => s.empresas && s.empresas[0] && s.empresas.some(e => e.codigoEmpresa === selectedEmpresa.codigoEmpresa))\r\n\r\n                this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa, filteredSocios })\r\n                if (value !== selectedEmpresa.razaoSocial)\r\n                    this.setState({ selectedEmpresa: undefined })\r\n            }\r\n            else\r\n                this.setState({ selectedEmpresa: undefined, filteredSocios: [] })\r\n        }\r\n    }\r\n\r\n    enableEdit = index => {\r\n        const\r\n            { filteredSocios } = this.state,\r\n            editSocio = filteredSocios[index]\r\n        //Se estava true, ao desligar o modo edição chama handleSubmit, qeu checa por modificações e salva\r\n        if (editSocio.edit === true) {\r\n            this.handleSubmit(index)\r\n            editSocio.edit = false\r\n            filteredSocios[index] = editSocio\r\n        }\r\n        else {\r\n            filteredSocios.forEach(s => s.edit = false)\r\n            filteredSocios[index].edit = true\r\n        }\r\n        this.setState({ filteredSocios })\r\n    }\r\n\r\n    handleEdit = e => {\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        value = valueParser(name, value)\r\n\r\n        let editSocio = this.state.filteredSocios.filter(s => s.edit === true)[0]\r\n        const index = this.state.filteredSocios.indexOf(editSocio)\r\n\r\n        editSocio[name] = value\r\n\r\n        let fs = this.state.filteredSocios\r\n        fs[index] = editSocio\r\n\r\n        this.setState({ filteredSocios: fs })\r\n    }\r\n\r\n    handleSubmit = async index => {\r\n        const\r\n            { filteredSocios, selectedEmpresa } = this.state,\r\n            { codigoEmpresa } = selectedEmpresa,\r\n            table = 'socios',\r\n            keys = ['telSocio', 'emailSocio'],\r\n            editSocio = filteredSocios[index]\r\n\r\n        /* if (!editSocio?.telSocio && !editSocio?.emailSocio) {\r\n            console.log(false)\r\n            return\r\n        }\r\n        else if (editSocio.telSocio === originalSocio.telSocio && editSocio.emailSocio === originalSocio.emailSocio) {\r\n            console.log(false)\r\n            return\r\n        } */\r\n\r\n        const requestObject = { socioId: editSocio.socioId }\r\n        keys.forEach(k => { if (editSocio[k]) requestObject[k] = editSocio[k] })\r\n        const requestArray = [humps.decamelizeKeys(requestObject)]\r\n\r\n        await axios.put('/api/editSocios', { requestArray, table, keys, codigoEmpresa })  //O envio do codogoEmpresa é para uso do userSockets.js\r\n            .then(r => console.log(r.data))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = toastMsg => this.setState({ confirmToast: !this.state.confirmToast, toastMsg: toastMsg ? toastMsg : this.state.toastMsg })\r\n    render() {\r\n        const\r\n            { filteredSocios, openAlertDialog, alertType, confirmToast, toastMsg } = this.state,\r\n            { empresas } = this.props.redux\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Alteração de dados dos sócios' />\r\n                <SociosTemplate\r\n                    data={this.state}\r\n                    socios={filteredSocios}\r\n                    empresas={empresas}\r\n                    handleInput={this.handleInput}\r\n                    enableEdit={this.enableEdit}\r\n                    handleEdit={this.handleEdit}\r\n                />\r\n                <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['empresas', 'socios', 'getFiles/empresaDocs']\r\n\r\nexport default StoreHOC(collections, AltSocios)","export const barChart = {\r\n    options: {\r\n        title: {\r\n            text: 'Veículos por ano de fabricação',\r\n            align: 'center',\r\n            marginTop: 10,\r\n            offsetX: 0,\r\n            offsetY: 0,\r\n            floating: false,\r\n            style: {\r\n                fontSize: '14px',\r\n                fontWeight: 500,\r\n                fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n            },\r\n        },\r\n        legend: { show: false },\r\n        chart: {\r\n            id: \"veiculos_ano_fabricacao\",\r\n        },\r\n        xaxis: {            \r\n            labels: {\r\n                style: {\r\n                    fontSize: '9px',\r\n                    fontWeight: 400,\r\n                    fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n                },\r\n            }\r\n        },\r\n        dataLabels: {\r\n            enabled: false,\r\n        },\r\n      //  fill: { colors: ['rgb(47, 75, 124)'] },\r\n        plotOptions: { bar: { horizontal: false }, },\r\n    }\r\n}\r\n\r\nexport const donutChart = {\r\n    options: {\r\n        title: {\r\n            text: 'Percentual de veículos por ano de fabricação',\r\n            align: 'center',\r\n            marginTop: 10,\r\n            marginBottom: 20,\r\n            offsetX: 0,\r\n            offsetY: 0,\r\n            floating: false,\r\n            style: {\r\n                fontSize: '13px',\r\n                fontWeight: 500,\r\n                fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n            },\r\n        },\r\n        plotOptions: {\r\n            pie: {\r\n                donut: {\r\n                    labels: {\r\n                        show: true,\r\n                        name: {\r\n                            show: true,\r\n                            fontSize: '20px',\r\n                            fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n                            fontWeight: 600,\r\n                            color: '#373d3f',\r\n                            offsetY: -10\r\n                        },\r\n                        value: {\r\n                            show: true,\r\n                            fontSize: '15px',\r\n                            fontFamily: 'Helvetica, Arial, sans-serif',\r\n                            fontWeight: 400,\r\n                            color: '#373d3f',\r\n                            offsetY: 16,\r\n                            formatter: function (val) {\r\n                                return val\r\n                            }\r\n                        },\r\n                        total: {\r\n                            show: true,\r\n                            showAlways: true,\r\n                            label: 'Total:',\r\n                            fontSize: '20px',\r\n                            fontFamily: 'Helvetica, Arial, sans-serif',\r\n                            fontWeight: 600,\r\n                            color: '#373d3f',\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        responsive: [{\r\n            breakpoint: 480,\r\n            options: {\r\n                chart: {\r\n                    width: 200\r\n                },\r\n                legend: {\r\n                    position: 'bottom'\r\n                }\r\n            }\r\n        }]\r\n    },\r\n}","import React from 'react'\r\nimport Chart from \"react-apexcharts\";\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport { barChart, donutChart } from './chartsConfig'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport './relatorios.css'\r\n\r\nconst RelatoriosTemplate = (\r\n    { empresas, razaoSocial, selectedEmpresa, selectedVehicles, labels, values, tableLabels, tableData, mediaIdades, moda,\r\n        handleInput, segurosVencidos, segurosVigentes, oldVehicles, veiculosNovos }) => {\r\n\r\n    const colors = ['#ff7c43', '#ffa600', '#FF9800', '#f95d6a', '#f44336', '#2E93fA', '#3333ff', '#66DA26', '#669999', '#E91E63', '#d45087', '#a05195', '#665191', '#2f4b7c', '#003f5c',]\r\n\r\n    return (\r\n        <main className='relatorios'>\r\n            <SelectEmpresa\r\n                empresas={empresas}\r\n                data={{ razaoSocial }}\r\n                handleInput={handleInput}\r\n            />\r\n            {(!selectedVehicles || selectedVehicles.length === 0) ? <p>Nenhum veículo cadastrado para {selectedEmpresa?.razaoSocial}</p>\r\n                :\r\n                <>\r\n                    <h3 style={{ width: '100%', textAlign: 'center' }}>\r\n                        {!selectedEmpresa ? 'Exibindo todos os veículos' : selectedEmpresa.razaoSocial} - Média de idade da frota: {mediaIdades} anos. Moda do ano de fabricação: {moda}.\r\n                    </h3>\r\n                    <Paper>\r\n                        <section className='rowContainer'>\r\n                            <Chart\r\n                                options={{ ...barChart.options, xaxis: { ...barChart.options.xaxis, categories: labels } }}\r\n                                series={[{ name: \"Veículos\", data: values }]}\r\n                                type=\"bar\"\r\n                                width=\"600\"\r\n                            />\r\n                            <Chart\r\n                                options={{ ...donutChart.options, labels, colors }}\r\n                                series={values}\r\n                                type=\"donut\"\r\n                                width=\"480\"\r\n                            />\r\n                        </section>\r\n                    </Paper>\r\n                    <Paper>\r\n                        <section>\r\n                            <table>\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th className='tHeader'\r\n                                            style={{ color: '#fff', backgroundColor: 'rgb(84, 110, 122, 0.7)' }}\r\n                                            colSpan={tableLabels.length}>Veículos por ano - {!selectedEmpresa ? 'Exibindo todos os veículos' : selectedEmpresa.razaoSocial}  </th>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        {tableLabels.map((l, i) => <th key={l}>{l}</th>)}\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {\r\n                                        tableData.map((tableValues, i) =>\r\n                                            <tr key={i}>\r\n                                                {tableValues.map((d, j) =>\r\n                                                    <td className='review relatorioTD' key={j}>\r\n                                                        {d}\r\n                                                    </td>\r\n                                                )}\r\n                                            </tr>\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n                            </table>\r\n                        </section>\r\n                    </Paper>\r\n                    {/* <div className=\"addSpace\"> </div> */}\r\n                    <section className='rowContainer'>\r\n                        <Chart\r\n                            options={{\r\n                                title: {\r\n                                    ...donutChart.options.title,\r\n                                    text: `Seguros vencidos: ${segurosVencidos} / vigentes: ${segurosVigentes}`,\r\n                                },\r\n                                labels: ['Seguros vencidos', 'Seguros vigentes'],\r\n                                colors: ['#FF9800', '#3333ff']\r\n                            }}\r\n                            series={[Number(segurosVencidos), Number(segurosVigentes)]}\r\n                            type=\"pie\"\r\n                            width=\"400\"\r\n                        />\r\n                        <Chart\r\n                            options={{\r\n                                title: {\r\n                                    ...donutChart.options.title,\r\n                                    text: `Idade superior a 15 anos: ${oldVehicles} / inferior 15 anos: ${veiculosNovos}`,\r\n                                },\r\n                                labels: ['Veículos com mais de 15 anos', 'Veículos com menos de 15 anos'],\r\n                                colors: ['#f44336', '#2E93fA']\r\n                            }}\r\n                            series={[Number(oldVehicles), Number(veiculosNovos)]}\r\n                            type=\"pie\"\r\n                            width=\"420\"\r\n                            height='220'\r\n                        />\r\n                    </section>\r\n\r\n                </>\r\n            }\r\n        </main >\r\n    )\r\n}\r\n\r\nexport default RelatoriosTemplate","import React, { useState, useEffect } from 'react'\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport RelatoriosTemplate from './RelatoriosTemplate'\r\nimport moment from 'moment'\r\n\r\nconst sum = array => {\r\n    let newArray = [...array]\r\n    newArray.shift()\r\n    if (newArray[0]) {\r\n        const total = newArray.reduce((a, b) => a + b)\r\n        return total\r\n    }\r\n}\r\n\r\nconst average = array => {\r\n    let newArray = array.map(n => Number(n))\r\n    newArray.shift()\r\n\r\n    if (newArray[0]) {\r\n        const\r\n            sum = newArray.reduce((a, b) => a + b),\r\n            average = sum / newArray.length\r\n\r\n        return average.toFixed(2)\r\n    }\r\n}\r\n\r\nconst countExpired = vehicles => {\r\n\r\n    return vehicles\r\n        .filter(r => !r.vencimento || (moment(r.vencimento).isValid() && moment(r.vencimento).isBefore(moment()) && r.veiculoId && r))\r\n        .length\r\n}\r\n\r\nconst Relatorios = props => {\r\n\r\n    const\r\n        { veiculos, empresas } = props.redux,\r\n        [razaoSocial, setRazaoSocial] = useState(''),\r\n        [selectedEmpresa, setEmpresa] = useState(undefined),\r\n        [allExpired, setExpired] = useState(''),\r\n        [allValid, setValid] = useState(''),\r\n        [oldVehicles, setOldVehicles] = useState('')\r\n\r\n    const handleInput = e => {\r\n        const { value } = e.target\r\n        setRazaoSocial(value)\r\n        let empresa\r\n\r\n        if (value.length > 2) {\r\n            empresa = empresas.find(e => e.razaoSocial === value)\r\n            if (empresa) setEmpresa(empresa)\r\n        }\r\n        else setEmpresa('')\r\n    }\r\n\r\n    let selectedId, selectedVehicles\r\n    if (selectedEmpresa && selectedEmpresa !== '') {\r\n        selectedId = selectedEmpresa.codigoEmpresa\r\n        selectedVehicles = veiculos\r\n            .filter(v => v.codigoEmpresa === selectedId)\r\n    } else selectedVehicles = veiculos\r\n\r\n\r\n    // **************************MÉDIA****************************\r\n\r\n    const\r\n        idades =\r\n            selectedVehicles\r\n                .map(({ anoCarroceria }) => anoCarroceria)\r\n                .filter(ano => ano !== null)\r\n                .sort()\r\n\r\n    let mediaIdades = idades.reduce((a, b) => a + b / idades.length, 0)\r\n    mediaIdades = (new Date().getFullYear() - mediaIdades).toFixed(2)\r\n\r\n    // **************************CONTAGEM****************************\r\n\r\n    let counter = {}\r\n    idades.forEach(function (e) {\r\n        if (counter[e] === undefined) {\r\n            counter[e] = 0\r\n        }\r\n        counter[e] += 1\r\n    })\r\n\r\n    // *******************CONSOLIDAÇÃO DE VALORES**********************\r\n    const\r\n        unsortedLabels = Object.keys(counter),\r\n        labels = [...unsortedLabels.sort((a, b) => a - b)],\r\n        values = Object.values(counter)\r\n\r\n    let obj = {}, arr = [], ultimateObj = {}\r\n    labels.forEach(ano => {\r\n        selectedVehicles.forEach(v => {\r\n            if (v.anoCarroceria && v.anoCarroceria.toString() === ano) {\r\n                arr.push({ veiculoId: v.veiculoId, poltronas: v.poltronas })\r\n                if (!obj[ano]) obj[ano] = arr\r\n                else obj[ano].push(...arr)\r\n                arr = []\r\n            }\r\n        })\r\n        ultimateObj[ano] = obj[ano]\r\n        obj = {}\r\n    })\r\n\r\n    let parcial = 0, poltronasPerYear = ['Capacidade Total'], poltronasAcc = [], poltronasMedia = ['Capacidade Média']\r\n\r\n    Object.keys(ultimateObj).forEach(year => {\r\n        ultimateObj[year].forEach(v => {\r\n            parcial += v.poltronas\r\n        })\r\n        //poltronasTotal += parcial\r\n        poltronasPerYear.push(parcial)\r\n        poltronasMedia.push((parcial / ultimateObj[year].length).toFixed(2))\r\n\r\n        const acc = poltronasPerYear.reduce((a, b) => a + b, 0)\r\n        poltronasAcc.push(acc)\r\n        parcial = 0\r\n    })\r\n\r\n    poltronasPerYear.push(sum(poltronasPerYear))\r\n\r\n    let\r\n        tableLabels = ['Ano'],\r\n        tableValues = ['Nº de Veículos']\r\n\r\n    tableLabels.push(...labels, 'Total')\r\n    tableValues.push(...values)\r\n    tableValues.push(sum(tableValues))\r\n    poltronasMedia.push(average(poltronasMedia))\r\n\r\n    const tableData = [tableValues, poltronasMedia, poltronasPerYear]\r\n\r\n    // **************************MODA****************************\r\n    let moda = unsortedLabels.sort((a, b) => counter[a] - counter[b])\r\n    moda = moda[moda.length - 1]\r\n\r\n    //**********************SEGUROS VENCIDOS E VEÍCULOS COM LAUDO***********************\r\n    const currentYear = new Date().getFullYear()\r\n\r\n    useEffect(() => {\r\n\r\n        const\r\n            currentYear = new Date().getFullYear(),\r\n            expired = countExpired(selectedVehicles),\r\n            needsLaudo = selectedVehicles\r\n                .filter(v => currentYear - v.anoCarroceria > 14 && v.anoCarroceria !== null)\r\n                .length\r\n\r\n        setExpired(expired)\r\n        setValid(selectedVehicles.length - expired)\r\n        setOldVehicles(needsLaudo)\r\n\r\n    }, [selectedVehicles])\r\n\r\n    let segurosVencidos = [], segurosVigentes, veiculosAntigos, veiculosNovos\r\n\r\n    if (razaoSocial.length > 2 && selectedEmpresa) {\r\n        segurosVencidos = countExpired(selectedVehicles)\r\n\r\n        veiculosAntigos = selectedVehicles\r\n            .filter(v => currentYear - v.anoCarroceria > 14 && v.anoCarroceria !== null)\r\n            .length\r\n\r\n        segurosVigentes = selectedVehicles.length - segurosVencidos\r\n        veiculosNovos = selectedVehicles.length - veiculosAntigos\r\n    }\r\n    else {\r\n        segurosVencidos = allExpired\r\n        segurosVigentes = allValid\r\n        veiculosAntigos = oldVehicles\r\n        veiculosNovos = selectedVehicles.length - oldVehicles\r\n    }\r\n\r\n    return (\r\n        <RelatoriosTemplate\r\n            empresas={empresas}\r\n            razaoSocial={razaoSocial}\r\n            labels={labels}\r\n            values={values}\r\n            tableLabels={tableLabels}\r\n            tableData={tableData}\r\n            selectedEmpresa={selectedEmpresa}\r\n            selectedVehicles={selectedVehicles}\r\n            mediaIdades={mediaIdades}\r\n            moda={moda}\r\n            handleInput={handleInput}\r\n            segurosVencidos={segurosVencidos}\r\n            segurosVigentes={segurosVigentes}\r\n            oldVehicles={veiculosAntigos}\r\n            veiculosNovos={veiculosNovos}\r\n        />\r\n    )\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas']\r\n\r\nexport default StoreHOC(collections, Relatorios)","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport ShowFiles from './ShowFiles'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\r\n\r\nexport default function StandardTable({ tableData, staticFields, title, tableStyle, style, completed, showInfo, \r\n    showFiles, setShowFiles, filesCollection, primaryKey, close, filesIds, razaoSocial }) {\r\n\r\n    const dateFormat = value => {\r\n        if (moment(value, 'YYYY-MM-DDTHH:mm:ss.SSSZZ', true).isValid()) {\r\n            return moment(value, moment.ISO_8601, true).format('DD/MM/YYYY, HH:mm[h]')\r\n        }\r\n        else return value\r\n    }\r\n\r\n    const createButton = (action, index, files) => {\r\n        const disable = !tableData[index]?.info ? true : false\r\n        const dStyle = { cursor: 'default' }\r\n\r\n        switch (action) {\r\n            case ('info'):\r\n                return (\r\n                    <div style={{ display: 'flex', justifyContent: 'flex-start' }}>\r\n                        <span\r\n                            className='button'\r\n                            style={disable ? dStyle : {}}\r\n                            component='span'\r\n                            title={!disable ? 'Ver informações adicionais' : 'Nenhuma informação adicional'}\r\n                            onClick={() => showInfo(index)} >\r\n                            <InfoIcon color={!disable ? 'primary' : 'disabled'} />\r\n                        </span>\r\n\r\n                        {files ?\r\n                            <span className='button' component='span' title='Ver arquivos' onClick={() => { setShowFiles(files) }\r\n                            } >\r\n                                <FileCopyOutlinedIcon />\r\n                            </span>\r\n                            :\r\n                            <span style={{ padding: '2px 10px 0 17px' }}> - </span>\r\n                        }\r\n                    </div >\r\n                )\r\n            case ('completed'):\r\n                return <DoneIcon style={{ color: 'green' }} />\r\n            default: return\r\n        }\r\n    }\r\n\r\n    //A tabela é uma array de arrays. Cada row é uma array de objects, que tem field, label, action, style, etc. Cada Object é um td\r\n    let\r\n        tableHeaders = [],\r\n        arrayOfRows = [],\r\n        tableRow = []\r\n\r\n    tableData.forEach((log, i) => {\r\n        staticFields.forEach(obj => {\r\n\r\n            if (!tableHeaders.includes(obj.title)) tableHeaders.push(obj.title)\r\n            if (obj.field === 'info') {\r\n                tableRow.push({ ...obj, index: i, files: log?.files })\r\n            }\r\n            else if (obj.field === 'files') tableRow.push({ ...obj, files: log?.files })\r\n            else if (obj.action) tableRow.push({ ...obj, id: log?.id })\r\n            else tableRow.push({ ...obj, value: log[obj.field] })\r\n        })\r\n\r\n        arrayOfRows.push(tableRow)\r\n        tableRow = []\r\n    })\r\n    if (completed) {\r\n        const i = tableHeaders.indexOf('Analisar solicitação')\r\n        tableHeaders[i] = 'Concluída'\r\n    }\r\n    const tableSpan = arrayOfRows[0]?.length || ''\r\n\r\n    return (\r\n        showFiles ? <>\r\n            <ShowFiles\r\n                filesCollection={filesCollection}\r\n                close={close}\r\n                typeId={primaryKey}\r\n                filesIds={filesIds}\r\n                razaoSocial={razaoSocial}\r\n            />\r\n            <footer>\r\n                <div className='voltarDiv' style={{\r\n                    padding: '0px',\r\n                    margin: '30px 0 0 0',\r\n                    position: 'absolute',\r\n                    bottom: '1%',\r\n                    zIndex: '10'\r\n                }}>\r\n                    <Button variant='outlined' color='primary' onClick={() => setShowFiles(false)}>\r\n                        <ArrowBackIcon size='tiny' />\r\n                        <span style={{ padding: '2px 0 0 2px', marginLeft: '2px', fontSize: '.85rem' }}>Voltar</span>\r\n                    </Button>\r\n                </div>\r\n            </footer>\r\n        </>\r\n            :\r\n            <table style={tableStyle || undefined}>\r\n                <thead>\r\n                    <tr>\r\n                        <th className='tHeader'\r\n                            style={style}\r\n                            colSpan={tableSpan}>{title}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        {tableHeaders.map((l, i) => <th key={i} style={style}>{l}</th>)}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        arrayOfRows.map((rowArray, j) =>\r\n                            <tr key={j}>\r\n                                {\r\n                                    rowArray.map((obj, i) =>\r\n                                        <td\r\n                                            key={i}\r\n                                            style={obj?.style ? obj.style : style}\r\n                                            className={obj.type === 'link' && obj.laudoDocId ? 'link2' : 'review'}\r\n                                        >\r\n                                            {obj.type === 'date' ? dateFormat(obj.value)\r\n                                                : obj?.action ? createButton(obj.action, obj?.index, obj?.files)\r\n                                                    : obj.value\r\n                                            }\r\n                                        </td>\r\n                                    )}\r\n                            </tr>\r\n                        )}\r\n                </tbody>\r\n            </table>\r\n    )\r\n}\r\n","const solicitacaoTable = [\r\n    {\r\n        field: 'action',\r\n        title: 'Movimentação',\r\n    },\r\n    {\r\n        field: 'user',\r\n        title: 'Usuário'\r\n    },\r\n    {\r\n        field: 'createdAt',\r\n        title: 'Registro no sistema',\r\n        type: 'date'\r\n    },\r\n    {\r\n        field: 'info',\r\n        title: 'Informações adicionais',\r\n        action: 'info',\r\n        style: {textAlign: 'center'}\r\n    }   \r\n]\r\n\r\nexport default solicitacaoTable","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport Table from '../Reusable Components/Table'\r\nimport solicitacaoTable from '../Forms/solicitacaoTable'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\n\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nexport default function SolHistory({ solicitacao, showInfo, historyLog, setHistoryLog, close, vehicleDocs, empresaDocs, showFiles, setShowFiles, filesIds }) {\r\n\r\n    const\r\n        { history } = solicitacao,\r\n        date = moment(historyLog?.createdAt).format('DD/MM/YYYY, HH:mm[h]')\r\n    let docSelection = {}\r\n    if (solicitacao.hasOwnProperty('veiculoId'))\r\n        docSelection = {\r\n            primaryKey: 'veiculoId',\r\n            filesCollection: vehicleDocs\r\n        }\r\n    else\r\n        docSelection = {\r\n            primaryKey: 'empresaId',\r\n            filesCollection: empresaDocs\r\n        }\r\n\r\n    return (\r\n        <main className=\"popUpWindow\" sytle={{ width: '90%' }}>\r\n            {!historyLog ?\r\n                <Table\r\n                    {...docSelection}\r\n                    tableData={history}\r\n                    staticFields={solicitacaoTable}\r\n                    length={solicitacaoTable.length}\r\n                    title={`Solicitação nº ${solicitacao?.numero}`}\r\n                    id={solicitacao.id}\r\n                    razaoSocial={solicitacao?.empresa}\r\n                    showInfo={showInfo}\r\n                    style={{ padding: '9px 4px' }}\r\n                    tableStyle={{ marginTop: '23px' }}\r\n                    showFiles={showFiles}\r\n                    setShowFiles={setShowFiles}\r\n                    close={close}\r\n                    filesIds={filesIds}\r\n                />\r\n                :\r\n                <>\r\n                    <header className='infoLogHeader'>\r\n                        <h3>Informações adicionais</h3>\r\n                        <hr />\r\n                        <div className='floatRight'>Inserido por {historyLog?.user} {date ? 'às ' + date : ''}</div>\r\n                    </header>\r\n                    <section>\r\n\r\n                        <br /><br /><br />\r\n                        <div>{historyLog.info}</div>\r\n                    </section>\r\n                    <footer>\r\n                        <div className='voltarDiv' style={{\r\n                            padding: '0px',\r\n                            margin: '30px 0 0 0',\r\n                            position: 'absolute',\r\n                            bottom: '1%'\r\n                        }}>\r\n                            <Button variant='outlined' color='primary' onClick={() => setHistoryLog(false)}>\r\n                                <ArrowBackIcon size='tiny' />\r\n                                <span style={{ padding: '2px 0 0 2px', marginLeft: '2px', fontSize: '.85rem' }}>Voltar</span>\r\n                            </Button>\r\n                        </div>\r\n                    </footer>\r\n                </>\r\n            }\r\n            <ClosePopUpButton close={close} />\r\n        </main >\r\n    )\r\n}","import React from 'react'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\nexport default function SolicitacoesTemplate({ completed, showCompleted }) {\r\n    return (\r\n        <header style={{ display:'flex', justifyContent: 'flex-end', height: '50px', paddingBotom: '10px' }}>\r\n            <FormControlLabel\r\n                style={{ marginTop: '20px' }}\r\n                control={\r\n                    <Checkbox\r\n                        checked={completed === true}\r\n                        onChange={() => showCompleted(!completed)}\r\n                        value={completed}\r\n                    />\r\n                }\r\n                label={<p style={{ color: '#2979ff', fontSize: '0.7rem', float: 'right' }}> Mostrar solicitações concluídas</p>}\r\n            />\r\n        </header>\r\n    )\r\n}\r\n","export const solicitacoesTable = [\r\n    {\r\n        field: 'numero',\r\n        title: 'Número',\r\n        label: 'Número',\r\n    },\r\n    {\r\n        field: 'subject',\r\n        title: 'Solicitação',\r\n        label: 'Solicitação'\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Empresa',\r\n        label: 'Empresa',\r\n    },\r\n    {\r\n        field: 'veiculo',\r\n        title: 'Veículo',\r\n        label: 'Veículo',\r\n    },\r\n    {\r\n        field: 'status',\r\n        title: 'Situação',\r\n        label: 'Situação',\r\n    },\r\n    {\r\n        field: 'updatedAt',\r\n        title: 'Última Atualização',\r\n        label: 'Última Atualização',\r\n        type: 'date'\r\n    },\r\n    /*  {\r\n         field: 'history',\r\n         title: 'Ver histórico',        \r\n         action: 'showHistory'\r\n     },\r\n     {\r\n         field: 'assess',\r\n         title: '    ',\r\n         action: 'assess'\r\n     }   */\r\n]\r\n","\r\nconst configTablePermissions = ({ rowData, user }) => {\r\n    const\r\n        { status } = rowData,\r\n        { role } = user\r\n\r\n    if (status.match('indeferida') || status.match('concluída'))\r\n        return true\r\n    if (role === 'empresa' && status.match('Pendências'))\r\n        return true\r\n    if (role !== 'empresa' && status.match('Aguardando'))\r\n        return true\r\n    return false\r\n}\r\n\r\nexport default configTablePermissions","import React from 'react'\r\n\r\nimport MaterialTable from 'material-table';\r\nimport exportToXlsx from '../Consultas/exportToXlsx';\r\n\r\nimport { solicitacoesTable } from '../Forms/solicitacoesTable'\r\nimport configTablePermissions from './configTablePermissions';\r\n\r\nexport default function ({ tableData, title, showDetails, assessDemand, completed, showInfo, user }) {\r\n\r\n    let parsedData = JSON.parse(JSON.stringify(tableData))\r\n    parsedData.forEach(obj => delete obj.history)\r\n\r\n    return (\r\n        <div style={{ margin: '10px 0' }} className='noPrint'>\r\n            <MaterialTable\r\n                title={title}\r\n                columns={solicitacoesTable}\r\n                data={parsedData}\r\n                style={{ fontFamily: 'Segoe UI', fontSize: '14px' }}\r\n                options={{\r\n                    filtering: true,\r\n                    exportButton: true,\r\n                    exportFileName: 'Solicitações',\r\n                    exportCsv: (col, data) => exportToXlsx('Solicitações', solicitacoesTable, data),\r\n                    actionsColumnIndex: -1,\r\n                    searchFieldStyle: { color: '#024', fontSize: '14px' },\r\n                    headerStyle: { backgroundColor: '#FAFAFC' },\r\n                    emptyRowsWhenPaging: false,\r\n                    pageSize: 10,\r\n                }}\r\n\r\n                localization={{\r\n                    header: { actions: 'Opções' },\r\n                    body: {\r\n                        emptyDataSourceMessage: 'Nenhuma solicitação aberta no momento.',\r\n                        editRow: { deleteText: 'Tem certeza que deseja apagar esse registro ?' },\r\n                        deleteTooltip: 'Apagar',\r\n                        filterRow: { filterTooltip: 'Filtrar' }\r\n                    },\r\n                    toolbar: {\r\n                        searchTooltip: 'Procurar',\r\n                        searchPlaceholder: 'Procurar',\r\n                        exportCSVName: 'Salvar como arquivo do excel',\r\n                        exportAriaLabel: 'Exportar',\r\n                        exportTitle: 'Exportar'\r\n                    },\r\n                    pagination: {\r\n\r\n                        labelRowsSelect: 'Resultados por página',\r\n                        labelDisplayedRows: ' {from}-{to} a {count}',\r\n                        firstTooltip: 'Primeira página',\r\n                        previousTooltip: 'Página anterior',\r\n                        nextTooltip: 'Próxima Página',\r\n                        lastTooltip: 'Última Página',\r\n\r\n                    }\r\n                }}\r\n                actions={[\r\n                    {\r\n                        icon: 'history_icon',\r\n                        iconProps: { color: 'primary' },\r\n                        tooltip: 'Ver histórico',\r\n                        onClick: (event, rowData) => showDetails(rowData['id'])\r\n                    },\r\n                    rowData => (configTablePermissions({ rowData, user }) && {\r\n                        icon: !completed ? 'assignment_turned_in_outlined' : rowData?.status === 'Solicitação indeferida' ? 'clear' : 'done_icon',\r\n                        iconProps: {\r\n                            className: !completed ? 'assessDemandButton' : '',\r\n                            color: rowData?.status === 'Solicitação indeferida' ? 'secondary' : completed ? 'action' : 'disabled'\r\n                        },\r\n                        tooltip: rowData?.status.match('Aguardando')\r\n                            ? 'Analisar solicitação'\r\n                            : rowData?.status.match('Pendências')\r\n                                ? 'Abrir solicitação'\r\n                                : rowData?.status === 'Solicitação indeferida' ?\r\n                                    'Indeferida'\r\n                                    : 'Concluída',\r\n                        onClick: (event, rowData) => !completed ? assessDemand(rowData['id']) : null\r\n                    })\r\n                ]}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport SolHistory from './SolHistory'\r\nimport SolicitacoesTemplate from './SolicitacoesTemplate'\r\nimport SolicitacoesTable from './SolicitacoesTable'\r\nimport { logRoutesConfig } from './logRoutesConfig'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport removePDF from '../Utils/removePDFButton'\r\n\r\n\r\nfunction Solicitacoes(props) {\r\n\r\n    const\r\n        { veiculos, empresas, vehicleDocs, empresaDocs } = props.redux,\r\n        { user } = props,\r\n        [logs, setLogs] = useState([]),\r\n        [showHistory, setShowHistory] = useState(false),\r\n        [selectedLog, selectLog] = useState(),\r\n        [completed, showCompleted] = useState(false),\r\n        [historyLog, setHistoryLog] = useState(),\r\n        [alertProperties, setAlertDialog] = useState({ openAlertDialog: false, customMessage: '', customTitle: '' }),\r\n        [showFiles, setShowFiles] = useState(false),\r\n        [filesIds, setFilesId] = useState(),\r\n        { openAlertDialog, customTitle, customMessage } = alertProperties\r\n\r\n    //Desabilita opção de exportar como PDF do material-table\r\n    useEffect(() => {\r\n        removePDF()\r\n        return () => removePDF(true)\r\n    }, [])\r\n\r\n    //*********Effect adds eventListner to Esc key--> back/closes windows ************/\r\n    useEffect(() => {\r\n        function escFunction(e) {\r\n            if (e.keyCode === 27) {\r\n                if (!showFiles && !historyLog) setShowHistory()\r\n                if (showFiles) setShowFiles(false)\r\n                else if (historyLog) setHistoryLog()\r\n            }\r\n        }\r\n        document.addEventListener('keydown', escFunction)\r\n        return () => document.removeEventListener('keydown', escFunction)\r\n    }, [historyLog, showFiles])\r\n\r\n    //********Prepares the Logs ArrayofObjects from the DB to be displayed with additional and filtered fields************/\r\n    useEffect(() => {\r\n\r\n        async function getLogs() {\r\n\r\n            const originalLogs = [...props.redux.logs]\r\n\r\n            let logs = originalLogs.map(log => {\r\n                log.empresa = empresas.find(e => e.codigoEmpresa === log.empresaId)?.razaoSocial\r\n                log.veiculo = veiculos.find(v => v.veiculoId === log.veiculoId)?.placa\r\n                const { __v, ...filtered } = log\r\n                return filtered\r\n            })\r\n\r\n            if (completed) logs = logs.filter(l => l.completed === true)\r\n            else logs = logs.filter(l => l.completed === false)\r\n            setLogs(logs)\r\n        }\r\n        getLogs()\r\n\r\n    }, [veiculos, empresas, completed, props.redux.logs])\r\n\r\n    const assessDemand = async id => {\r\n\r\n        let log = logs.find(l => l.id === id)\r\n        selectLog(log)\r\n\r\n        let pathname = logRoutesConfig.find(r => log?.subject.match(r.subject))?.path\r\n        if (!pathname.match('/solicitacoes')) pathname = '/solicitacoes' + pathname\r\n        props.history.push({ pathname, state: { demand: log } })\r\n    }\r\n\r\n    const showDetails = async id => {\r\n        setHistoryLog(false)\r\n        setShowFiles(false)\r\n\r\n        const log = logs.find(l => l.id === id)\r\n        await selectLog(log)\r\n        setShowHistory(true)\r\n    }\r\n\r\n    const showInfo = index => {\r\n        if (selectedLog && selectedLog?.history) {\r\n            const historyLog = selectedLog?.history[index]\r\n\r\n            if (!historyLog?.info)\r\n                return\r\n            setHistoryLog(historyLog)\r\n        }\r\n    }\r\n    const renderFiles = (ids) => {\r\n        if (ids) {\r\n            setShowFiles(true)\r\n            setFilesId(ids)\r\n        }\r\n        else setShowFiles(false)\r\n    }\r\n\r\n    const toggleAlertDialog = () => setAlertDialog({ ...alertProperties, openAlertDialog: !openAlertDialog })\r\n    const close = () => {\r\n        setShowHistory(false)\r\n        setShowFiles(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <SolicitacoesTemplate\r\n                completed={completed}\r\n                showCompleted={showCompleted}\r\n            />\r\n            <SolicitacoesTable\r\n                tableData={logs}\r\n                title={!completed ? 'Solicitações em andamento' : 'Solicitações concluídas'}\r\n                user={user}\r\n                showDetails={showDetails}\r\n                assessDemand={assessDemand}\r\n                completed={completed}\r\n                style={{ textAlign: 'center' }}\r\n            />\r\n            {showHistory && <SolHistory\r\n                solicitacao={selectedLog}\r\n                close={close}\r\n                showInfo={showInfo}\r\n                historyLog={historyLog}\r\n                setHistoryLog={setHistoryLog}\r\n                vehicleDocs={vehicleDocs}\r\n                empresaDocs={empresaDocs}\r\n                setShowFiles={renderFiles}\r\n                showFiles={showFiles}\r\n                filesIds={filesIds}\r\n            />\r\n            }\r\n            {openAlertDialog &&\r\n                <AlertDialog open={openAlertDialog} close={toggleAlertDialog} customMessage={customMessage} customTitle={customTitle} />}\r\n        </>\r\n    )\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'logs', 'getFiles/vehicleDocs', 'getFiles/empresaDocs']\r\n\r\nexport default StoreHOC(collections, Solicitacoes)","const width = '240px'\r\nexport const altContratoForm = [\r\n    {\r\n        field: 'numeroAlteracao',\r\n        label: 'Número da alteração',\r\n        maxLength: 3,\r\n        pattern: '^\\\\d{1,3}$',\r\n        width\r\n    },\r\n    {\r\n        field: 'numeroRegistro',\r\n        label: 'Registro na junta comercial',\r\n        maxLength: 40,\r\n        width\r\n    },\r\n    {\r\n        field: 'numeroSei',\r\n        label: 'Número do registro SEI (se houver)',\r\n        maxLength: 30,\r\n        width\r\n    },\r\n    {\r\n        field: 'dataJunta',\r\n        label: 'Data de registro na Junta Comercial',\r\n        type: 'date',\r\n        width\r\n    }\r\n]\r\n/*\r\nconst PostmanTest = {\r\n    \"numeroAlteracao\": \"1211\",\r\n    \"numeroRegistro\": \"1211\",\r\n    \"numeroSei\": \"1211\",\r\n    \"dataJunta\": \"2020-12-30\",\r\n} */","import React, { Fragment } from 'react'\r\nimport moment from 'moment'\r\n\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\n\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport './empresasReview.scss'\r\n\r\nexport default function Revisao({ data, forms, filesForm, files, demandFiles }) {\r\n\r\n    const { filteredSocios } = data\r\n    //Para cada formulário, roda o State do componente(container) e atribui a propriedade value em cada campo \r\n    forms.forEach(form => {\r\n        form.forEach(objField => {\r\n            Object.entries(data).forEach(([k, v]) => {\r\n                if (objField.field === k)\r\n                    objField.value = v\r\n            })\r\n        })\r\n    })\r\n\r\n    //Consertando a data - (campo 'Vencimento do contrato')\r\n    const i = forms[0].findIndex(el => el.field === 'vencimentoContrato')\r\n    if (i !== -1) {\r\n        let venc = forms[0][i].value\r\n        if (venc && moment(venc).isValid()) {\r\n            venc = moment(venc).format('DD/MM/YYYY')\r\n            forms[0][i].value = venc\r\n        }\r\n    }\r\n\r\n    const tablesSubtitles = ['Dados da empresa', 'Informações sobre a alteração do contrato social']\r\n\r\n    return (\r\n        <>\r\n            <section className='flex'>\r\n                <div className='divTable'>\r\n                    {\r\n                        forms.map((form, y) =>\r\n                            <Fragment key={y}>\r\n                                <table style={y === 1 ? { tableLayout: 'fixed' } : {}}>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className='tHeader'\r\n                                                colSpan={form.length}>{tablesSubtitles[y]}\r\n                                            </th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            {form.map(({ label }, i) => <th key={i}>{label}</th>)}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            {form.map(({ value }, k) =>\r\n                                                <td className='review' key={k}>\r\n                                                    {value}\r\n                                                </td>\r\n                                            )}\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </Fragment>\r\n                        )}\r\n                </div>\r\n            </section >\r\n            <section className='socios_docs_container'>\r\n                {\r\n                    filteredSocios && filteredSocios[0] && filteredSocios.some(s => s.status) &&\r\n                    <section title='Sócios' className='flexColumn socios__review__container'>\r\n                        <h3 className='review__subtitle'>\r\n                            <PeopleIcon className='socios__review__icon' />\r\n                        Sócios\r\n                        </h3>\r\n                        {filteredSocios.map(({ nomeSocio, status, outsider }, i) =>\r\n                            <div key={i}\r\n                                className='flex socios__review__div'\r\n                                style={{ color: outsider || status === 'new' ? 'green' : status === 'modified' ? 'orange' : status === 'deleted' ? 'red' : '' }}>\r\n                                <span className='socios__review__prop' >\r\n                                    {nomeSocio}\r\n                                    {\r\n                                        outsider || status === 'new' ? '(incluído)' :\r\n                                            status === 'modified' ? '(modificado)' :\r\n                                                status === 'deleted' ? '(excluído)' : ''\r\n                                    }\r\n                                </span>\r\n                            </div>\r\n                        )}\r\n                    </section>\r\n                }\r\n                {\r\n                    (files || demandFiles) &&\r\n                    <section title='Documentos' className='flex docs'>\r\n                        <h3 className='review__subtitle'>\r\n                            <FileCopyOutlinedIcon className='docs__icon' /> Documentos\r\n                        </h3>\r\n                        <ShowLocalFiles\r\n                            demandFiles={demandFiles}\r\n                            form={filesForm}\r\n                            files={files}\r\n                            collection='empresaDocs'\r\n                        />\r\n                    </section>\r\n                }\r\n            </section>\r\n        </>\r\n    )\r\n}\r\n\r\n/* {\r\n    filteredSocios && filteredSocios[0] && filteredSocios.some(s => s.status) &&\r\n    <section className='flexColumn'>\r\n        <h3 style={{ margin: '30px 0 0 25px' }}> <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} /> Documentos </h3>\r\n        {filteredSocios.map(socio =>\r\n            <div\r\n                className='flex socio__review__div'\r\n                style={{\r\n                    width: '1000px',\r\n                    justifyContent: 'space-between',\r\n                    color: socio.status === 'new' ? 'green' : socio.status === 'modified' ? 'orange' : socio.status === 'deleted' ? 'red' : ''\r\n                }}>\r\n                <span className='socio__review__prop' >{socio.nomeSocio}</span>\r\n                <span className='socio__review__prop' >{socio.cpfSocio}</span>\r\n                <span className='socio__review__prop' >{socio.telSocio}</span>\r\n                <span className='socio__review__prop' >{socio.emailSocio}</span>\r\n            </div>\r\n        )}\r\n    </section>\r\n} */","import React, { Fragment } from 'react'\r\n\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport { errorHandler, helper } from '../Utils/checkInputErrors';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#999',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    }\r\n}))\r\n\r\nexport default function ({ handleInput, handleBlur, data, addSocio, enableEdit, handleEdit, removeSocio }) {\r\n\r\n    const\r\n        { selectedEmpresa, subtitles, activeStep, filteredSocios } = data,\r\n        classes = useStyles(), { iconButton, list } = classes\r\n\r\n    return (\r\n        <>\r\n            {\r\n                selectedEmpresa &&\r\n                <section className=\"flex paper\">\r\n                    <FormSubtiltle subtitle={subtitles[activeStep]} />\r\n                    <div className=\"flex center\">\r\n                        <div style={{ padding: '10px 0', width: '100%' }}>\r\n                            <TextInput\r\n                                form={sociosForm}\r\n                                data={data}\r\n                                handleBlur={handleBlur}\r\n                                handleInput={handleInput}\r\n                            />\r\n                        </div>\r\n                        <div style={{ margin: '5px 0 7px 84.58%', width: '100%' }}>\r\n                            <Button color='primary' variant='outlined' size='small' onClick={addSocio}>\r\n                                <AddIcon /> Adicionar sócio\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            }\r\n\r\n            {\r\n                selectedEmpresa && filteredSocios.length === 0 &&\r\n                <section>\r\n                    <p>\r\n                        Nenhum sócio cadastrado para {selectedEmpresa.razaoSocial}\r\n                    </p>\r\n                </section>\r\n            }\r\n            {\r\n                filteredSocios?.length > 0 &&\r\n                <>\r\n                    <section className=\"flex center paper\">\r\n                        <p > Sócios cadastrados</p>\r\n                        {filteredSocios.map((s, i) =>\r\n                            <div key={i}>\r\n                                {sociosForm.map((e, k) =>\r\n                                    <Fragment key={k + 1000}>\r\n                                        <TextField\r\n                                            value={s[e.field] || ''}\r\n                                            name={e.field}\r\n                                            label={e.label}\r\n                                            className={list}\r\n                                            disabled={s.edit && e.field !== 'cpfSocio' ? false : true}\r\n                                            onChange={handleEdit}\r\n                                            error={s.edit ? errorHandler(s[e.field], e) : null}\r\n                                            helperText={s.edit ? helper(s[e.field], e) : null}\r\n                                            type={e?.type}\r\n                                            InputLabelProps={\r\n                                                {\r\n                                                    shrink: true,\r\n                                                    style: {\r\n                                                        fontWeight: 600,\r\n                                                        fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif',\r\n                                                        color: '#888'\r\n                                                    }\r\n                                                }}\r\n                                            inputProps={{\r\n                                                style: {\r\n                                                    fontSize: '13px',\r\n                                                    color: s.edit === true ? '#000'\r\n                                                        : s.status === 'new' || s.outsider ? 'green'\r\n                                                            : s.status === 'modified' ? '#FF2500'\r\n                                                                : s.status === 'deleted' ? 'red'\r\n                                                                    : '#888',\r\n                                                    textDecoration: s.status === 'deleted' && !s.edit ? 'line-through' : ''\r\n                                                }\r\n                                            }}\r\n                                        />\r\n                                    </Fragment>\r\n                                )}\r\n                                <Button\r\n                                    disabled={s.status === 'deleted'}\r\n                                    component='span'\r\n                                    className={iconButton}\r\n                                    title='editar'\r\n                                    onClick={() => enableEdit(i)}\r\n                                >\r\n                                    <EditIcon />\r\n                                </Button>\r\n\r\n                                <Button className={iconButton}\r\n                                    color={s.status === 'deleted' ? 'primary' : 'secondary'}\r\n                                    title={s.status === 'deleted' ? 'Desfazer exclusão' : 'Remover'}\r\n                                    onClick={() => removeSocio(i)}>\r\n                                    {s.status === 'deleted' ? <i className='material-icons'>undo</i> : <DeleteIcon />}\r\n                                </Button>\r\n                            </div>\r\n                        )}\r\n                    </section>\r\n                </>\r\n            }\r\n        </>\r\n    )\r\n}","const altContratoFiles = [\r\n    { title: 'Alteração do contrato social', name: 'altContratoDoc' },\r\n    { title: 'CRC', name: 'crc' },\r\n]\r\n\r\nexport default altContratoFiles","import React from 'react'\r\nimport { altContratoForm } from '../Forms/altContratoForm'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport EmpresaReview from './EmpresaReview'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport CustomStepper from '../Reusable Components/Stepper'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport AltSociosTemplate from './AltSociosTemplate'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\nimport altContratoFiles from '../Forms/altContratoFiles'\r\n\r\n\r\nconst AltContratoTemplate = (\r\n    { empresas, data, setActiveStep, enableEdit, handleEdit, addSocio, removeSocio, handleInput, handleBlur, handleSubmit, handleFiles, removeFile,\r\n        setShowPendencias }) => {\r\n\r\n    const\r\n        { selectedEmpresa, demand, demandFiles, activeStep, stepTitles, subtitles, form, fileToRemove, info, showPendencias } = data,\r\n        headerTitle = `Alteração de contrato social - ${selectedEmpresa?.razaoSocial}`,\r\n        forms = [empresasForm, altContratoForm]\r\n\r\n    return (\r\n        <main>\r\n            <header>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Alteração de dados e contrato social' demand={demand} selectedEmpresa={selectedEmpresa} />\r\n                {/*--------------------- Steppers ------------------------------*/}\r\n                <section>\r\n                    <CustomStepper\r\n                        activeStep={activeStep}\r\n                        steps={stepTitles}\r\n                        setActiveStep={setActiveStep}\r\n                    />\r\n                </section>\r\n                <div className=\"flex center\">\r\n                    <SelectEmpresa\r\n                        empresas={empresas}\r\n                        data={data}\r\n                        headerTitle={headerTitle}\r\n                        handleInput={handleInput}\r\n                    />\r\n                </div>\r\n            </header>\r\n            {\r\n                selectedEmpresa?.cnpj &&\r\n                <>\r\n                    {/*--------------------- Form / inputs -------------------------*/}\r\n                    {\r\n                        activeStep !== 2 ?\r\n                            <section className=\"flex paper\">\r\n                                <FormSubtiltle subtitle={subtitles[activeStep]} />\r\n                                {\r\n                                    activeStep < 2\r\n                                        ?\r\n                                        <>\r\n                                            <TextInput\r\n                                                form={forms[activeStep]}\r\n                                                data={data}\r\n                                                handleInput={handleInput}\r\n                                                style={{ width: '100%' }}\r\n                                            />\r\n                                            <div className='flex center' style={{ width: '100%' }}>\r\n                                                {\r\n                                                    activeStep === 0 && altContratoFiles.map(({ name, title }, i) =>\r\n                                                        <DragAndDrop\r\n                                                            key={i}\r\n                                                            name={name}\r\n                                                            formData={form}\r\n                                                            dropDisplay={`Clique ou arraste para anexar o ${title} `}\r\n                                                            handleFiles={handleFiles}\r\n                                                            removeFile={removeFile}\r\n                                                            fileToRemove={fileToRemove}\r\n                                                            style={{ width: i === 0 ? '380px' : '250px', marginRight: i === 0 ? '12px' : 0 }}\r\n                                                        />\r\n                                                    )\r\n                                                }\r\n                                            </div>\r\n                                        </>\r\n                                        :\r\n                                        <EmpresaReview\r\n                                            data={data}\r\n                                            forms={forms}\r\n                                            files={form}\r\n                                            demandFiles={demandFiles}\r\n                                            filesForm={empresaFiles}\r\n                                        />\r\n                                }\r\n                            </section>\r\n                            :\r\n                            <section>\r\n                                <AltSociosTemplate\r\n                                    data={data}\r\n                                    handleInput={handleInput}\r\n                                    handleBlur={handleBlur}\r\n                                    addSocio={addSocio}\r\n                                    removeSocio={removeSocio}\r\n                                    handleFiles={handleFiles}\r\n                                    enableEdit={enableEdit}\r\n                                    handleEdit={handleEdit}\r\n                                />\r\n                            </section>\r\n                    }\r\n                    <footer>\r\n                        <StepperButtons\r\n                            demand={demand}\r\n                            declineButtonLabel='Indeferir'\r\n                            setShowPendencias={setShowPendencias}\r\n                            showPendencias={showPendencias}\r\n                            info={info}\r\n                            activeStep={activeStep}\r\n                            lastStep={stepTitles.length - 1}\r\n                            setActiveStep={setActiveStep}\r\n                            handleInput={handleInput}\r\n                            handleSubmit={handleSubmit}\r\n                        />\r\n                    </footer>\r\n                </>\r\n            }\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default AltContratoTemplate","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport AltContratoTemplate from './AltContratoTemplate'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { handleFiles as globalHandleFiles, removeFile as globalRemoveFile } from '../Utils/handleFiles'\r\nimport valueParser from '../Utils/valueParser'\r\n\r\nimport { altContratoForm } from '../Forms/altContratoForm'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport altContratoFiles from '../Forms/altContratoFiles'\r\n\r\nconst\r\n    stepTitles = ['Alterar dados da empresa', 'Informações sobre alteração do contrato social', 'Informações sobre sócios', 'Revisão'],\r\n    subtitles = ['Utilize os campos abaixo caso deseje editar os dados da empresa',\r\n        'Informe as alterações no contrato social e anexe uma cópia do documento',\r\n        'Adicione ou altere sócios e suas respectivas participações.',\r\n        'Revise os dados informados.'\r\n    ]\r\n\r\nconst AltContrato = props => {\r\n\r\n    const\r\n        { empresas } = props.redux,\r\n        socios = [...props.redux.socios],\r\n        [state, setState] = useState({\r\n            razaoSocial: '',\r\n            activeStep: 0,\r\n            stepTitles,\r\n            subtitles,\r\n            dropDisplay: 'Clique ou arraste para anexar a cópia da alteração do contrato social ',\r\n            demand: undefined,\r\n            confirmToast: false,\r\n            filteredSocios: [],\r\n            showPendencias: false,\r\n            openAlertDialog: false\r\n            //selectedEmpresa: empresas[0],\r\n            //filteredSocios: [socios[0], socios[1]],\r\n        })\r\n\r\n    //ComponentDidMount para carregar demand, se houver e selecionar a empresa dependendo do usuário\r\n    useEffect(() => {\r\n        if (empresas && empresas.length === 1) {\r\n\r\n            const selectedEmpresa = { ...empresas[0] }\r\n            //Formata data vinda do DB para renderização no browser\r\n            let venc = selectedEmpresa?.vencimentoContrato\r\n            if (venc && venc.length > 0)\r\n                selectedEmpresa.vencimentoContrato = venc.substr(0, 10)\r\n\r\n            setState({ ...state, ...selectedEmpresa, selectedEmpresa, filteredSocios: socios })\r\n        }\r\n\r\n        const demand = props?.location?.state?.demand\r\n\r\n        if (demand && demand.history[0]) {\r\n            const\r\n                { empresaDocs } = props.redux,\r\n                { altContrato, socioUpdates, files } = demand?.history[0],\r\n                selectedEmpresa = empresas.find(e => e.codigoEmpresa === demand.empresaId),\r\n                altContratoFields = {}\r\n\r\n            let\r\n                filteredSocios = JSON.parse(JSON.stringify(socios.filter(s => s.empresas[0] && s.empresas.some(e => e.codigoEmpresa === selectedEmpresa.codigoEmpresa)))),\r\n                demandFiles\r\n\r\n            if (altContrato)\r\n                altContratoForm.forEach(({ field }) => altContratoFields[field] = altContrato[field])\r\n\r\n            if (socioUpdates && socioUpdates[0]) {\r\n                const newSocios = []\r\n\r\n                socioUpdates.forEach(us => {\r\n                    //Se é novo, armazena no newSocios\r\n                    if (us.status === 'new' || us.outsider)\r\n                        newSocios.push(us)\r\n                    //Senão, atualiza os existentes com os campos de vieram da demanda\r\n                    else\r\n                        filteredSocios.forEach(fs => {\r\n                            if (us.socioId === fs.socioId) {\r\n                                const index = filteredSocios.findIndex(s => s.socioId === us.socioId)\r\n                                if (index !== -1)\r\n                                    filteredSocios[index] = us\r\n                            }\r\n                        })\r\n                })\r\n\r\n                filteredSocios = filteredSocios\r\n                    .concat(newSocios)\r\n                    .sort((a, b) => a.nomeSocio.localeCompare(b.nomeSocio))\r\n            }\r\n            if (files)\r\n                demandFiles = empresaDocs.filter(d => files.includes(d.id))\r\n\r\n            setState({ ...state, ...altContrato, ...selectedEmpresa, selectedEmpresa, demand, demandFiles, filteredSocios, activeStep: 3 })\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    //Armazena uma cópia dos sócios antes de qualquer edição para avaliar se houve mudança e fazer ou não o request\r\n    useEffect(() => {\r\n        if (state.selectedEmpresa) {\r\n            const\r\n                codigoEmpresa = state.selectedEmpresa.codigoEmpresa,\r\n                originalSocios = JSON.parse(JSON.stringify(socios.filter(s => s.empresas && s.empresas.some(e => e.codigoEmpresa === codigoEmpresa)))) || []\r\n\r\n            setState({ ...state, originalSocios })\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [state.selectedEmpresa])\r\n\r\n    const setActiveStep = action => {\r\n\r\n        let activeStep = state.activeStep\r\n        if (action === 'next') activeStep++\r\n        if (action === 'back') activeStep--\r\n        if (action === 'reset') activeStep = 0\r\n        setState({ ...state, activeStep })\r\n    }\r\n\r\n    const handleBlur = e => {\r\n        const\r\n            { name, value } = e.target,\r\n            { filteredSocios } = state\r\n\r\n        if (name !== 'cpfSocio')\r\n            return\r\n\r\n        const duplicate = filteredSocios.some(s => s.cpfSocio === value)\r\n\r\n        if (duplicate)\r\n            setState(\r\n                {\r\n                    ...state,\r\n                    openAlertDialog: true,\r\n                    customTitle: 'Cpf já cadastrado',\r\n                    customMessage: 'O cpf informado corresponde a um sócio já cadastrado. Para remover ou editar os dados do sócio, utilize as opções abaixo.',\r\n                    cpfSocio: ''\r\n                })\r\n    }\r\n\r\n    const handleInput = e => {\r\n        const { name, value } = e.target\r\n        let\r\n            selectedEmpresa = {},\r\n            filteredSocios\r\n\r\n        if (name === 'razaoSocial') {\r\n            selectedEmpresa = empresas.find(e => e.razaoSocial === value) || {}\r\n\r\n            let venc = selectedEmpresa?.vencimentoContrato\r\n\r\n            if (venc && venc.length > 0)\r\n                selectedEmpresa.vencimentoContrato = venc.substr(0, 10)\r\n\r\n            if (selectedEmpresa?.codigoEmpresa) {\r\n\r\n                filteredSocios = JSON.parse(JSON.stringify(socios.filter(s => s.empresas && s.empresas[0] && s.empresas.some(e => e.codigoEmpresa === selectedEmpresa.codigoEmpresa))))\r\n                let aditionalSocios = JSON.parse(JSON.stringify(socios))\r\n                aditionalSocios = aditionalSocios\r\n                    .filter(s => {\r\n                        if (s.empresas && s.empresas[0])\r\n                            return s.empresas.includes(selectedEmpresa.codigoEmpresa)\r\n                        else return null\r\n                    })\r\n\r\n                aditionalSocios = filteredSocios.concat(aditionalSocios)\r\n                const result = new Map()\r\n                for (const s of aditionalSocios) {\r\n                    result.set(s.socioId, s)\r\n                }\r\n                filteredSocios = [...result.values()]\r\n                filteredSocios.forEach(s => {\r\n                    let empresa\r\n                    if (s.empresas[0])\r\n                        empresa = s.empresas.find(e => e.share && e.codigoEmpresa === selectedEmpresa.codigoEmpresa)\r\n                    if (empresa && empresa.share)\r\n                        s.share = empresa.share\r\n                })\r\n            }\r\n\r\n            setState({ ...state, ...selectedEmpresa, selectedEmpresa, filteredSocios, [name]: value })\r\n        }\r\n        else {\r\n            const parsedValue = valueParser(name, value)\r\n            setState({ ...state, [name]: parsedValue })\r\n        }\r\n    }\r\n\r\n    const enableEdit = index => {\r\n\r\n        let editSocio = state.filteredSocios\r\n        if (editSocio[index].edit === true)\r\n            editSocio[index].edit = false\r\n        else {\r\n            editSocio.forEach(s => s.edit = false)\r\n            editSocio[index].edit = true\r\n        }\r\n        setState({ ...state, filteredSocios: editSocio })\r\n    }\r\n\r\n    const handleEdit = e => {\r\n        //Função que reage ao input dos campos de edição dos sócios\r\n        const\r\n            { name } = e.target,\r\n            { filteredSocios, selectedEmpresa } = state,\r\n            { codigoEmpresa } = selectedEmpresa\r\n\r\n        let { value } = e.target\r\n\r\n        if (name === 'share')\r\n            value = value.replace(',', '.')\r\n\r\n        const fs = [...filteredSocios]\r\n        let editSocio = fs.find(s => s.edit === true)\r\n\r\n        if (!editSocio)\r\n            return\r\n\r\n        //Atualiza o estado de acordo com o valor de input do usuário\r\n        const parsedValue = valueParser(name, value)\r\n        editSocio[name] = parsedValue\r\n        //Acrescenta o status do sócio modificado, caso não seja === \"new\" nem === \"deleted\"\r\n        if (!editSocio.status)\r\n            editSocio.status = 'modified'\r\n\r\n        //Se houver atualização na participação, acha o elemento da array empresas e atualiza o valor\r\n        if (name === 'share' && !isNaN(+value)) {\r\n            const\r\n                { empresas } = editSocio,\r\n                index = empresas.findIndex(e => e.codigoEmpresa === codigoEmpresa)\r\n            if (index !== -1)\r\n                empresas[index] = { ...empresas[index], share: +value }\r\n            else if (empresas[0])\r\n                empresas.push({ codigoEmpresa, share: +value })\r\n            else\r\n                editSocio.empresas = [{ codigoEmpresa, share: +value }]\r\n        }\r\n\r\n        setState({ ...state, filteredSocios: fs })\r\n    }\r\n\r\n    const addSocio = async () => {\r\n        const\r\n            { selectedEmpresa } = state,\r\n            { codigoEmpresa } = selectedEmpresa\r\n        let\r\n            socios = [...state.filteredSocios],\r\n            sObject = {},\r\n            invalid = 0,\r\n            totalShare = 0\r\n\r\n        //Confere se todos os campos de novos sócios foram preenchidos\r\n        sociosForm.forEach(obj => {\r\n            if (state[obj.field] === '' || state[obj.field] === undefined) {\r\n                invalid += 1\r\n            }\r\n        })\r\n        if (invalid === 100) {\r\n            setState({ ...state, alertType: 'fieldsMissing', openAlertDialog: true })\r\n            return\r\n        }\r\n\r\n        sociosForm.forEach(obj => {\r\n            Object.assign(sObject, { [obj.field]: state[obj.field] })\r\n        })\r\n        //Verifica se o sócio já existe\r\n        const\r\n            checkSocios = await axios.post('/api/checkSocios', { newCpfs: [sObject?.cpfSocio] }),\r\n            existingSocios = checkSocios?.data\r\n\r\n        sObject.status = 'new'\r\n        //Se já existe, informar id, empresas e \r\n        if (existingSocios[0]) {\r\n            const\r\n                { socio_id, empresas } = existingSocios[0],\r\n                update = {\r\n                    socioId: socio_id,\r\n                    status: 'modified',\r\n                    outsider: true,\r\n                    empresas\r\n                }\r\n\r\n            Object.assign(sObject, { ...update })\r\n        }\r\n        if (sObject.share)\r\n            sObject.share = +sObject.share\r\n\r\n        //Insere informações sobre empresa e participação para os sócios\r\n        const { share } = sObject\r\n        if (sObject.empresas && sObject.empresas[0])\r\n            sObject.empresas.push({ codigoEmpresa, share })\r\n        if ((sObject.empresas && !sObject.empresas[0]) || !sObject.empresas)\r\n            sObject.empresas = [{ codigoEmpresa, share }]\r\n\r\n        socios.push(sObject)\r\n        socios.sort((a, b) => a.nomeSocio.localeCompare(b.nomeSocio))\r\n\r\n        //Verifica se a soma das participações passou 100%\r\n        socios.forEach(s => {\r\n            if (s?.status !== 'deleted')\r\n                totalShare += Number(s.share)\r\n        })\r\n\r\n        if (totalShare > 100) {\r\n            socios.pop()\r\n            await setState({ ...state, alertType: 'overShared', openAlertDialog: true })\r\n            return\r\n        }\r\n\r\n        const clearForm = {}\r\n        sociosForm.forEach(obj => clearForm[obj.field] = '')\r\n\r\n        await setState({ ...state, ...clearForm, filteredSocios: socios, totalShare })\r\n        setTimeout(() => {\r\n            //console.log(state)\r\n            document.getElementsByName('nomeSocio')[0].focus()\r\n        }, 200)\r\n    }\r\n\r\n    const removeSocio = index => {\r\n        const\r\n            { filteredSocios, demand } = state,\r\n            socioToRemove = filteredSocios[index]\r\n\r\n        if (socioToRemove?.status === 'new' || (!demand && socioToRemove.outsider)) {\r\n            filteredSocios.splice(index, 1)\r\n            setState({ ...state, filteredSocios })\r\n        }\r\n        else {\r\n            if (socioToRemove?.status && socioToRemove?.status !== 'deleted') {\r\n                socioToRemove.originalStatus = socioToRemove.status\r\n                socioToRemove.status = 'deleted'\r\n            }\r\n            else if (socioToRemove?.status === 'deleted')\r\n                socioToRemove.status = socioToRemove?.originalStatus\r\n            else\r\n                socioToRemove.status = 'deleted'\r\n\r\n            setState({ ...state, filteredSocios })\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async approved => {\r\n        const\r\n            { demand, form, selectedEmpresa } = state,\r\n            { codigoEmpresa } = selectedEmpresa,\r\n            altContrato = createRequestObj(altContratoForm),\r\n            altEmpresa = createRequestObj(empresasForm),\r\n            empresaUpdates = updateEmpresa(altEmpresa),\r\n            socioUpdates = checkSocioUpdates(approved),\r\n            log = createLog({ demand, altContrato, socioUpdates, approved })\r\n        let\r\n            socioIds = [],\r\n            toastMsg = 'Solicitação de alteração contratual enviada.'\r\n\r\n        //Se não houver nenhuma altreração, alerta e retorna\r\n        if (!demand && !altContrato && !empresaUpdates && !form && !socioUpdates) {\r\n            alert('Nenhuma modificação registrada!')\r\n            return\r\n        }\r\n\r\n        //A alteração de dados da empresa não precisa de aprovação. Se for só isso, não gera demanda\r\n        if (empresaUpdates) {\r\n            axios.put('/api/editTableRow', empresaUpdates)\r\n            toastMsg = 'Dados da empresa alterados com sucesso.'\r\n            if (!socioUpdates && !altContrato && !form) {\r\n                toast('Dados da empresa atualizados!')\r\n                setTimeout(() => { resetState() }, 750);\r\n                return\r\n            }\r\n        }\r\n\r\n        //Ao aprovar a solicitação(demanda)\r\n        if (demand && approved) {\r\n            //Registrar as alterações contratuais\r\n            if (altContrato)\r\n                axios.post('/api/altContrato', altContrato)\r\n\r\n            //Atualizar os sócios: existentes, novos e a excluir\r\n            if (socioUpdates) {\r\n                const\r\n                    { newSocios, oldSocios, cpfsToAdd, cpfsToRemove } = socioUpdates,\r\n                    requestInfo = {\r\n                        table: 'socios',\r\n                        tablePK: 'socio_id',\r\n                        codigoEmpresa,\r\n                        cpfsToAdd,\r\n                    }\r\n                //console.log(\"🚀 ~ file: AltContrato.jsx ~ line 306 ~ newSocios, oldSocios\", newSocios, oldSocios)\r\n\r\n                //Post request dos novos sócios\r\n                if (newSocios[0])\r\n                    await axios.post('/api/cadSocios', { socios: newSocios, codigoEmpresa })\r\n                        .then(async r => {\r\n                            const ids = r?.data.map(s => s.socio_id)\r\n                            if (ids[0])\r\n                                socioIds = socioIds.concat(ids)         //A array de ids de sócios vai para a metadata dos arquivos\r\n                        })\r\n                //Update/delete dos modificados\r\n                if (oldSocios[0]) {\r\n                    //atualiza os sócios. Status 'deleted' não são apagados, apenas têm sua coluna 'empresas' atualizada.\r\n                    await axios.put('/api/editSocios', { requestArray: oldSocios, ...requestInfo })\r\n\r\n                    //remove as permissões de usuário dos sócios excluídos\r\n                    if (cpfsToRemove[0])\r\n                        await axios.patch('/api/removeEmpresa', { cpfsToRemove, codigoEmpresa })\r\n\r\n                    const ids = oldSocios.map(s => s.socio_id)\r\n                    socioIds = socioIds.concat(ids)             //A array de ids de sócios vai para a metadata dos arquivos                    \r\n                }\r\n                if (socioIds[0])\r\n                    Object.assign(log, { metadata: { socios: socioIds } })\r\n                toastMsg = 'Alteração de contrato social aprovada.'\r\n            }\r\n        }\r\n        let files, fileIds\r\n        if (approved === false)\r\n            toastMsg = 'Solicitação indeferida.'\r\n\r\n        //***********************ERROR --- Se for p aprovar, o filesIds vai sepre ser undefined */\r\n        // AO CRIAR A DEMANDA, NÃO ESTÁ PREENCHENDO A ARRAY DE SÓCIOS E ESTÁ DANDO TEMP: FALSE DE CARA\r\n\r\n        else if (!approved) {\r\n            files = await submitFile(codigoEmpresa, socioIds) //A função deve retornar o array de ids dos files para incorporar no log.\r\n            if (files instanceof Array) {\r\n                fileIds = files.map(f => f.id)\r\n                log.history.files = fileIds\r\n            }\r\n        }\r\n\r\n        console.log(\"🚀 ~ file: AltContrato.jsx ~ line 438 ~ log\", log)\r\n\r\n        logGenerator(log)                               //Generate the demand\r\n            .then(r => {\r\n                console.log(r?.data)\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n        if (demand)\r\n            setTimeout(() => {\r\n                props.history.push('/solicitacoes')\r\n            }, 1500);\r\n        else\r\n            setTimeout(() => { resetState() }, 900);\r\n        toast(toastMsg)\r\n    }\r\n\r\n    const checkSocioUpdates = approved => {\r\n        const\r\n            { filteredSocios, selectedEmpresa, demand } = state,\r\n            { codigoEmpresa } = selectedEmpresa\r\n        let\r\n            socioUpdates = [],\r\n            cpfsToRemove = [],\r\n            cpfsToAdd = []\r\n\r\n        //verifica se houve alteração em sócios existentes e as insere em oldSocios ou se há novos sócios, inseridos em newSocios\r\n        filteredSocios.forEach(m => {\r\n            //Apaga campos irrelevantes\r\n            delete m.edit\r\n            delete m.createdAt\r\n            delete m.razaoSocial\r\n            //Exclui campos nulos ou em branco do request\r\n            Object.keys(m).forEach(k => {\r\n                if (!m[k] || m[k] === '')\r\n                    delete m[k]\r\n            })\r\n            //Se foi modificado, inserido ou removido, insere o objeto socio no socioUpdates\r\n            if (m.status)\r\n                socioUpdates.push(m)\r\n        })\r\n\r\n        //Separa os sócios modificados em novos, alterados e excluídos para que cada o respectivo request seja feito\r\n        if (socioUpdates[0]) {\r\n            //Acrescenta o codigoEmpresa na array empresas de cada sócio\r\n            socioUpdates.forEach(s => {\r\n                //Se o sócio ainda não tem a empresa em sua array de empresas, inserir\r\n                if (s.empresas && s.empresas[0] && !s.empresas.some(e => e.codigoEmpresa === codigoEmpresa)) {\r\n                    s.empresas.push({ codigoEmpresa, share: s?.share })\r\n                    console.log(s, s.empresas)\r\n                }\r\n                //Se a empresa já existe, atualiza o share\r\n                else if (s.empresas && s.empresas[0] && s.empresas.some(e => e.codigoEmpresa === codigoEmpresa)) {\r\n                    const index = s.empresas.findIndex(e => e.codigoEmpresa === codigoEmpresa)\r\n                    s.empresas[index].share = +s.share\r\n                    console.log(s, s.empresas)\r\n                }\r\n                else if (!s.empresas || !s.empresas[0])\r\n                    s.empresas = [{ codigoEmpresa, share: s?.share }]\r\n                //Se newSocio, incluir cpf para atualizar permissões de usuário\r\n                if (s.status === 'new' || s.outsider === true)\r\n                    cpfsToAdd.push({ cpf_socio: s.cpfSocio })\r\n                //Se deleted, remove o código da empresa da array de empresas do sócio e grava todos os cpfs para retirar permissão de usuário\r\n                if (s.empresas instanceof Array && s.status === 'deleted') {\r\n                    s.empresas = s.empresas.filter(e => e.codigoEmpresa !== codigoEmpresa)\r\n                    cpfsToRemove.push({ cpf_socio: s.cpfSocio }) // Esse é o formato esperado no backEnd (/users/removeEmpresa.js)\r\n                    //Se após apagada a empresa, não houver nenhuma, registra 0 como único elemento da array empresas (previne erro no posgresql)\r\n                    if (!s.empresas[0])\r\n                        s.empresas = []\r\n                }\r\n            })\r\n\r\n            //Se não tiver demand, retorna socioUpdates\r\n            if (!demand)\r\n                return { socioUpdates, cpfsToAdd, cpfsToRemove }\r\n\r\n            //Prepara o objeto de resposta\r\n            if (demand && approved) {\r\n                socioUpdates.forEach(s => {\r\n                    delete s.outsider\r\n                    delete s.razaoSocial\r\n                    delete s.codigoEmpresa\r\n                    delete s.originalStatus\r\n                    delete s.nomeEmpresas\r\n                    s.empresas = JSON.stringify(s.empresas)\r\n                })\r\n                socioUpdates = humps.decamelizeKeys(socioUpdates)\r\n                const\r\n                    newSocios = socioUpdates.filter(s => s.status === 'new'),\r\n                    oldSocios = socioUpdates.filter(s => s.status === 'modified' || s.status === 'deleted')\r\n\r\n                //Se aprovado, Apaga a prop 'status' de cada sócio antes do request\r\n                oldSocios.forEach(s => delete s.status)\r\n                newSocios.forEach(s => delete s.status)\r\n                return { newSocios, oldSocios, cpfsToAdd, cpfsToRemove }\r\n            }\r\n        }\r\n        else return null\r\n    }\r\n\r\n    const updateEmpresa = altEmpresa => {\r\n        const\r\n            { selectedEmpresa } = state,\r\n            { codigoEmpresa } = selectedEmpresa\r\n\r\n        if (!altEmpresa)\r\n            return\r\n        //Apaga propriedades === null ou inexistentes\r\n        for (let prop in selectedEmpresa) {\r\n            if (altEmpresa[prop] && altEmpresa[prop] === selectedEmpresa[prop])\r\n                delete altEmpresa[prop]\r\n        }\r\n        //Prepara o objeto e envia o request\r\n        const shouldUpdate = Object.keys(altEmpresa).length > 0\r\n        if (shouldUpdate) {\r\n            const requestObj = {\r\n                id: codigoEmpresa,\r\n                table: 'empresas',\r\n                tablePK: 'codigo_empresa',\r\n                updates: humps.decamelizeKeys(altEmpresa)\r\n            }\r\n            return requestObj\r\n        }\r\n    }\r\n\r\n    const createLog = ({ demand, altContrato, approved, socioUpdates }) => {\r\n        const\r\n            { selectedEmpresa, info } = state,\r\n            { codigoEmpresa } = selectedEmpresa\r\n        let log\r\n\r\n        //Se não houver demanda, criar demanda/log\r\n        if (!demand) {\r\n            log = {\r\n                history: {\r\n                    altContrato,\r\n                    info,\r\n                    ...socioUpdates\r\n                },\r\n                empresaId: codigoEmpresa,\r\n                historyLength: 0,\r\n                approved\r\n            }\r\n            if (approved === false)\r\n                log.declined = true\r\n        }\r\n        //Se houver demand, mas for rejeitada, indeferir demanda\r\n        if (demand && approved === false) {\r\n            const { id, empresaId } = demand\r\n            log = {\r\n                id,\r\n                empresaId,\r\n                history: {\r\n                    info\r\n                },\r\n                declined: true\r\n            }\r\n        }\r\n        //Se aprovado\r\n        if (demand && approved === true) {\r\n            const\r\n                { id } = demand,\r\n                { demandFiles } = state\r\n            log = {\r\n                id,\r\n                demandFiles,\r\n                history: {},\r\n                approved\r\n            }\r\n        }\r\n        return log\r\n    }\r\n\r\n    //Prepara os objetos para o request\r\n    const createRequestObj = form => {\r\n        const\r\n            { selectedEmpresa, demand } = state,\r\n            { codigoEmpresa, razaoSocial } = selectedEmpresa,\r\n            createdAt = demand && demand.createdAt\r\n\r\n        let returnObj = { codigoEmpresa: selectedEmpresa?.codigoEmpresa }\r\n\r\n        form.forEach(({ field }) => {\r\n            for (let prop in state) {\r\n                if (prop === field && state[prop])\r\n                    Object.assign(returnObj, { [prop]: state[prop] })\r\n            }\r\n        })\r\n\r\n        //Adiciona a data de solicitação (não de cadastro) no sistema, em caso de alteração do contrato é necessário verificar\r\n        console.log(\"🚀 ~ file: AltContrato.jsx ~ line 620 ~ returnObj\", returnObj)\r\n        const keys = Object.keys(returnObj)\r\n        if (keys.length > 1) {\r\n            //Se tiver aprovando, pega o createdAt do log(demanda) e salva, para manter a data da solicitação.\r\n            if (keys.includes('numeroAlteracao') && demand) {\r\n                returnObj.createdAt = createdAt\r\n                returnObj.codigoEmpresa = codigoEmpresa     //Insere codigoEmpresa para userSocket.js filtrar no backEnd\r\n                returnObj.razaoSocial = razaoSocial         //Insere razão social para o altContratoAlert no backEnd.\r\n            }\r\n            return returnObj\r\n        }\r\n        //Se keys.length não for 2 ou mais, retorna null (uma prop é o codigoEmpresa, acrescentado no início da função(this))\r\n        else\r\n            return null\r\n    }\r\n\r\n    const handleFiles = async (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n            const\r\n                fileObj = { ...state, [name]: files[0] },\r\n                newState = globalHandleFiles(files, fileObj, altContratoFiles)\r\n            setState({ ...state, ...newState, [name]: files[0], fileToRemove: null })\r\n        }\r\n    }\r\n\r\n    const submitFile = async (empresaId, socioIds) => {\r\n        //Essa função só é chamada ao CRIAR a demanda. Por isso, tempFile é true e o SocioIds deve ser preenchido aqui\r\n        const\r\n            { form, numeroAlteracao } = state,\r\n            files = []\r\n\r\n        if (form instanceof FormData) {\r\n            const metadata = {\r\n                empresaId,\r\n                tempFile: true\r\n            }\r\n            let filesToSend = new FormData()\r\n            //O loop é para cada arquivo ter seu fieldName correto no campo metadata\r\n            for (let pair of form) {\r\n                const name = pair[0]\r\n                console.log(\"🚀 ~ file: AltContrato.jsx ~ line 641 ~ submitFile ~ name\", name)\r\n                //O CRC não precisa dos ids dos sócios nem do número de alteração em seu metadata\r\n                if (name === \"altContratoDoc\") {\r\n                    const altContMeta = {\r\n                        ...metadata,\r\n                        fieldName: name,\r\n                        socios: socioIds,\r\n                        numeroAlteracao\r\n                    }\r\n                    filesToSend.append('metadata', JSON.stringify(altContMeta))\r\n                }\r\n                else {\r\n                    const crcMeta = {\r\n                        ...metadata,\r\n                        fieldName: name\r\n                    }\r\n                    filesToSend.append('metadata', JSON.stringify(crcMeta))\r\n                }\r\n                filesToSend.set(name, pair[1])\r\n                await axios.post('/api/empresaUpload', filesToSend)\r\n                    .then(r => {\r\n                        console.log(r)\r\n                        if (r?.data?.file instanceof Array)\r\n                            files.push(...r?.data?.file)\r\n                    })\r\n                    .catch(err => console.log(err))\r\n                filesToSend = new FormData()\r\n            }\r\n            return files\r\n        }\r\n    }\r\n    const removeFile = async (name) => {\r\n        const\r\n            { form } = state,\r\n            newState = globalRemoveFile(name, form)\r\n        setState({ ...state, ...newState })\r\n    }\r\n\r\n    const resetState = () => {\r\n        const\r\n            resetForms = {},\r\n            forms = [altContratoForm, sociosForm]\r\n\r\n        let clearedState = {}\r\n\r\n        forms.forEach(form => {\r\n            form.forEach(({ field }) => {\r\n                Object.assign(resetForms, { [field]: '' })\r\n            })\r\n        })\r\n\r\n        //Se for só uma empresa, volta para o estado inicial (componentDidMount) para procuradores de apenas uma empresa\r\n        if (empresas && empresas.length === 1)\r\n            clearedState = { ...empresas[0], selectedEmpresa: empresas[0], filteredSocios: socios }\r\n\r\n        setState({\r\n            ...resetForms, activeStep: 0, stepTitles, subtitles, razaoSocial: '', selectedEmpresa: undefined,\r\n            filteredSocios: [], form: undefined, fileToRemove: undefined, ...clearedState\r\n        })\r\n    }\r\n    const\r\n        toast = toastMsg => setState({ ...state, confirmToast: !state.confirmToast, toastMsg }),\r\n        setShowPendencias = () => setState({ ...state, showPendencias: !state.showPendencias }),\r\n        closeAlert = () => setState({ ...state, openAlertDialog: !state.openAlertDialog }),\r\n        { filteredSocios, confirmToast, toastMsg, openAlertDialog, alertType, customMessage, customTitle } = state\r\n\r\n    return (\r\n        <>\r\n            <AltContratoTemplate\r\n                empresas={empresas}\r\n                data={state}\r\n                setActiveStep={setActiveStep}\r\n                handleInput={handleInput}\r\n                handleBlur={handleBlur}\r\n                handleSubmit={handleSubmit}\r\n                handleFiles={handleFiles}\r\n                removeFile={removeFile}\r\n                socios={filteredSocios}\r\n                addSocio={addSocio}\r\n                removeSocio={removeSocio}\r\n                enableEdit={enableEdit}\r\n                handleEdit={handleEdit}\r\n                setShowPendencias={setShowPendencias}\r\n            />\r\n            <ReactToast open={confirmToast} close={toast} msg={toastMsg} />\r\n            {\r\n                openAlertDialog &&\r\n                <AlertDialog open={openAlertDialog} alertType={alertType} close={closeAlert} customMessage={customMessage} customTitle={customTitle} />\r\n            }\r\n        </>\r\n    )\r\n}\r\nconst collections = ['empresas', 'socios', 'getFiles/empresaDocs']\r\nexport default (StoreHOC(collections, AltContrato))","import React from 'react'\r\nimport { TextField } from '@material-ui/core'\r\nimport AddCircleOutlineSharpIcon from '@material-ui/icons/AddCircleOutlineSharp';\r\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\r\n\r\n//Esse componente renderiza inputs de uma array no estado da aplicação\r\nconst SimpleParams = ({ data, handleInput, plusOne, removeOne }) => {\r\n\r\n    const state = [...data?.newState] || []\r\n\r\n    return (\r\n        <>\r\n            <header>\r\n                <h4 className='singleParams__title'>Clique nos campos abaixo para editar e/ou adicione novos.</h4>\r\n            </header>\r\n            {state.map((m, i) =>\r\n                <section className=\"singleParams__container\" key={i}>\r\n                    <div className=\"singleParams__rowContainer\">\r\n                        <TextField\r\n                            name={i.toString()}\r\n                            value={state[i]}\r\n                            onChange={handleInput}\r\n                            variant='filled'\r\n                            InputProps={{ style: { margin: '8px 0' } }}\r\n                            inputProps={{ style: { width: '300px', textAlign: 'center', fontSize: '10pt', height: '30px', padding: '5px 0' } }}\r\n                        />\r\n                        <div className='singleParams__deleteIcon' title='Remover' onClick={() => removeOne(i)}>\r\n                            <DeleteOutlinedIcon />\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            )}\r\n            <div className='addIcon'>\r\n                <div\r\n                    className=\"addIcon__container\"\r\n                    onClick={() => plusOne()}\r\n                >\r\n                    <span className=\"addIcon__text\">\r\n                        Adicionar\r\n                    </span>\r\n                    <AddCircleOutlineSharpIcon className='addIcon__icon' />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SimpleParams\r\n","import React from 'react'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport SimpleParams from './SimpleParams'\r\nimport CustomButton from '../Reusable Components/CustomButton'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport './parametros.scss'\r\n\r\nconst ParametrosTemplate = ({ data, selectOption, handleInput, handleSubmit, plusOne, removeOne }) => {\r\n    const { tab, options, selectedOption, form, modified } = data\r\n\r\n    return (\r\n        <>\r\n            <Crumbs links={['Parâmetros', '/parametros']} text='Alterar parâmetros do sistema' />\r\n            <header className=\"selectHeader\">\r\n                <h4 className='parametrosTitle'>Alterar parâmetros do sistema - Selecione uma das opções abaixo.</h4>\r\n                {/* ******************Select box ******************** */}\r\n                <TextField\r\n                    className='config__selector'\r\n                    onChange={selectOption}\r\n                    name='selectedOption'\r\n                    value={selectedOption || ''}\r\n                    select={true}\r\n                    placeholder='Clique para selecionar...'\r\n                    SelectProps={{\r\n                        style: {\r\n                            fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                            width: 325, height: '44px'\r\n                        }\r\n                    }}\r\n                >\r\n                    {options.map((opt, i) =>\r\n                        <MenuItem key={i} value={opt} >\r\n                            {opt}\r\n                        </MenuItem>\r\n                    )}\r\n                </TextField>\r\n            </header>\r\n            {\r\n                form && tab < 3 &&\r\n                <main className='configForm'>\r\n                    <TextInput\r\n                        form={form}\r\n                        data={data}\r\n                        handleInput={handleInput}\r\n                        style={{ width: '100%', flexDirection: 'column' }}\r\n                    />\r\n                </main>\r\n            }\r\n            {/* Formulário simples que representa uma array de strings no DB / estado local  */}\r\n            {\r\n                tab === 3 &&\r\n                <SimpleParams\r\n                    form={form}\r\n                    data={data}\r\n                    plusOne={plusOne}\r\n                    removeOne={removeOne}\r\n                    handleInput={handleInput}\r\n                    style={{ width: '100%', flexDirection: 'column' }}\r\n                />\r\n            }\r\n            {/* Botão de salvar independe do formulário renderizado, desde que alguma opção tenha sido selecionada */}\r\n            {\r\n                selectedOption &&\r\n                <div style={{ minHeight: '60px', position: 'flex' }}>\r\n                    <CustomButton\r\n                        action='save'\r\n                        onClick={handleSubmit}\r\n                        disabled={!modified}\r\n                    />\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ParametrosTemplate","const\r\n    commonProps = {\r\n        variant: 'outlined',\r\n        pattern: /^[0-9]*$/,\r\n        maxLength: 2\r\n    },\r\n    { variant } = commonProps\r\n\r\nexport const parametrosIdade = [\r\n    {\r\n        field: 'idadeMaxCad',\r\n        label: 'Idade máxima para cadastro (anos)',\r\n        ...commonProps\r\n    },\r\n    {\r\n        field: 'difIdade',\r\n        label: 'Diferença tolerável de idade da carroceria e chassi (anos)',\r\n        ...commonProps,\r\n        maxLength: 1\r\n    },\r\n    {\r\n        field: 'idadeBaixaAut',\r\n        label: 'Idade para baixa automática (anos)',\r\n        ...commonProps,\r\n    },\r\n    {\r\n        field: 'diaBaixaAut',\r\n        label: 'Dia para baixa automática (dd/mm)',\r\n        maxLength: 5,\r\n        pattern: /^(0[1-9]|[12][0-9]|30(?!\\/02)|31(?!\\/(0[2469]|11)))\\/(0[1-9]|1[0-2])$/,\r\n        variant,\r\n    },\r\n    {\r\n        field: 'prazoAvisoBaixa',\r\n        label: 'Prazo para aviso de baixa (dias)',\r\n        ...commonProps,\r\n        maxLength: 3\r\n    }\r\n]\r\nexport const distancias = [\r\n    {\r\n        field: 'comercial',\r\n        label: 'Comercial',\r\n    },\r\n    {\r\n        field: 'comercialExecutivo',\r\n        label: 'Comercial Executivo',\r\n    },\r\n    {\r\n        field: 'convencional',\r\n        label: 'Convencional',\r\n    },\r\n    {\r\n        field: 'convencionalExecutivo',\r\n        label: 'Convencional Executivo',\r\n    },\r\n    {\r\n        field: 'leito',\r\n        label: 'Leito',\r\n    },\r\n    {\r\n        field: 'leitoExecutivo',\r\n        label: 'Leito e Executivo'\r\n    },\r\n    {\r\n        field: 'semiLeito',\r\n        label: 'Semi-Leito',\r\n    },\r\n    {\r\n        field: 'semiLeitoExecutivo',\r\n        label: 'Semi-Leito Executivo',\r\n    }\r\n]\r\n\r\nexport const nomes = [\r\n    {\r\n        field: 'secretaria',\r\n        label: 'Nome da Secretaria',\r\n    },\r\n    {\r\n        field: 'subsecretaria',\r\n        label: 'Nome da Subsecretaria',\r\n    },\r\n    {\r\n        field: 'superintendencia',\r\n        label: 'Nome da Superintendencia',\r\n    },\r\n    {\r\n        field: 'diretoria',\r\n        label: 'Nome da diretoria',\r\n    },\r\n    {\r\n        field: 'sistema',\r\n        label: 'Nome do sistema',\r\n    },\r\n    {\r\n        field: 'siglaSecretaria',\r\n        label: 'Sigla da Secretaria',\r\n    },\r\n    {\r\n        field: 'siglaSistema',\r\n        label: 'Sigla do Sistema',\r\n    }\r\n]\r\n\r\nexport const motivosBaixa = [\r\n    {\r\n        field: 'motivoBaixa',\r\n        label: 'Inserir novo motivo',\r\n    }\r\n]","import React, { useState, useCallback } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\n\r\nimport ParametrosTemplate from './ParametrosTemplate'\r\nimport { distancias, nomes, parametrosIdade, motivosBaixa } from '../Forms/parametrosForm'\r\n\r\nconst Parametros = props => {\r\n    //A prop 'params' são os nomes das propriedades do objeto do estado inicial, seja o nome de uma prop do DB seja do arquivo ./defaultParams.js\r\n    const\r\n        [state, setState] = useState({\r\n            options: ['Idade e prazos para baixa', 'Distância mínima entre poltronas', 'Nomenclaturas', 'Motivos para baixa do veículo'],\r\n            params: ['idadeBaixa', 'distanciaPoltronas', 'nomes', 'motivosBaixa'],\r\n            forms: [parametrosIdade, distancias, nomes, motivosBaixa]\r\n        }),\r\n        { toastMsg, toastStatus, confirmToast } = state\r\n\r\n    //Seleciona o conjunto de parâmetros p editar\r\n    const selectOption = useCallback(e => {\r\n        const\r\n            { name, value } = e.target,\r\n            { parametros } = props.redux,\r\n            { options, forms, params } = state,\r\n            tab = options.indexOf(value),\r\n            form = forms[tab],\r\n            data = parametros[0][params[tab]]\r\n\r\n        if (data && parametros[0]?.id)\r\n            data.id = parametros[0].id\r\n\r\n        //Se for singleParams, criar uma cópia da data como newState e não usar spreadOperator\r\n        if (tab === 3)\r\n            setState({ ...state, initState: data, newState: data, [name]: value, tab, form, modified: false })\r\n        else\r\n            setState({ ...state, ...data, initState: data, [name]: value, tab, form, newState: undefined, modified: false })\r\n    }, [props.redux, state])\r\n\r\n    //Nos formulários simples (que representam array de strings), adiciona mais um campo vazio\r\n    const plusOne = () => {\r\n        let newState = [...state.initState]\r\n        if (state.newState)\r\n            newState = [...state.newState]\r\n\r\n        newState[newState.length] = ''\r\n        setState({ ...state, newState })\r\n    }\r\n\r\n    const removeOne = index => {\r\n        const { initState, newState } = state\r\n\r\n        let modifiedArray = [...initState]\r\n        if (newState)\r\n            modifiedArray = [...newState]\r\n        modifiedArray.splice(index, 1)\r\n\r\n        const modified = checkForChanges(null, null, modifiedArray)\r\n        setState({ ...state, newState: modifiedArray, modified })\r\n    }\r\n\r\n    //Set state com input do usuário\r\n    const handleInput = async e => {\r\n        const\r\n            { tab } = state,\r\n            { name, value } = e.target\r\n\r\n        let modified\r\n\r\n        //Para tabs que a data é uma array de strings, o função checkForChanges recebe outros parâmetros e o estado atualizado é uma array, não props\r\n        if (tab === 3) {\r\n            const tempState = [...state.newState]\r\n            tempState[name] = value\r\n\r\n            modified = checkForChanges(null, null, tempState)\r\n            setState({ ...state, newState: tempState, modified })\r\n        }\r\n        else {\r\n            modified = checkForChanges(name, value)\r\n            setState({ ...state, [name]: value, modified })\r\n        }\r\n    }\r\n\r\n    //Detecta se houve mudança e salva o input do usuário no state\r\n    const checkForChanges = (name, value, newArray) => {\r\n        const { initState } = state\r\n        let\r\n            modified = false,\r\n            stateChanged,\r\n            fieldChanged,\r\n            changedArray\r\n        //Se for passada uma array, compara a array com a array inicial do estado\r\n        if (newArray)\r\n            changedArray = initState.toString() !== newArray.toString()\r\n\r\n        //Senão, compara cada campo input (...com props spreaded no state) com o estado inicial\r\n        else {\r\n            Object.keys(initState).forEach(k => {\r\n                if (k !== name && state[k].toString() !== initState[k].toString())\r\n                    stateChanged = true\r\n            })\r\n            fieldChanged = initState[name] && initState[name].toString() !== value\r\n        }\r\n        if (fieldChanged || stateChanged || changedArray)\r\n            modified = true\r\n        return modified\r\n    }\r\n\r\n    //Salva as alterações feitas\r\n    const handleSubmit = () => {\r\n        const\r\n            { tab, forms, params, initState, newState } = state,\r\n            { id } = initState,\r\n            form = forms[tab],\r\n            keys = form.map(f => f.field),\r\n            parametro = params[tab]\r\n\r\n        let requestObj = {}\r\n        //Se o estado modificável for uma array de strings (ex: tab===3), o requestObj é uma array\r\n        if (tab === 3) {\r\n            newState.forEach((prop, i) => {         //Tira campos vazios do request\r\n                if (prop === '')\r\n                    newState.splice(i, 1)\r\n            })\r\n            setState({ ...state, newState })\r\n            requestObj = newState\r\n        }\r\n        else\r\n            keys.forEach(k => Object.assign(requestObj, { [k]: state[k] }))\r\n\r\n        const modified = checkForChanges(null, null, requestObj)\r\n\r\n        axios.put('/api/parametros', { [parametro]: requestObj, id })\r\n            .then(r => {\r\n                if (r.status === 200) {\r\n                    toast(r.data)\r\n                    setTimeout(() => {\r\n                        setState({ ...state, initState: requestObj, modified })\r\n                    }, 1200);\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    const toast = (toastMsg, toastStatus) => setState({ ...state, confirmToast: !state.confirmToast, toastMsg, toastStatus })\r\n\r\n    return (\r\n        <>\r\n            <ParametrosTemplate\r\n                data={state}\r\n                selectOption={selectOption}\r\n                plusOne={plusOne}\r\n                removeOne={removeOne}\r\n                handleInput={handleInput}\r\n                handleSubmit={handleSubmit}\r\n            />\r\n            <ReactToast open={confirmToast} close={toast} msg={toastMsg} status={toastStatus} />\r\n        </>\r\n    )\r\n}\r\n\r\nconst collections = ['parametros']\r\n\r\nexport default (StoreHOC(collections, Parametros))","import React, { useEffect } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport './userAuth.scss'\r\nimport CustomButton from '../Reusable Components/CustomButton';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nconst UserAuthTemplate = ({ data, changeTab, handleInput, handleSubmit }) => {\r\n    const { title, form, buttonLabel, tab } = data\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            const x = document.getElementById('email')\r\n            if (x)\r\n                x.focus()\r\n        }, 600);\r\n    }, [])\r\n\r\n    const errorHandler = (el) => {\r\n        let value = data[el?.field]\r\n        if (!value) return\r\n\r\n        if (el.errorHandler && el.errorHandler(value)) return false\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return true\r\n\r\n        if (value?.length < el?.minLength) return true\r\n\r\n        if (typeof value !== 'string') value = value.toString()\r\n        if (el.pattern) return value.match(el.pattern) === null\r\n        else return false\r\n\r\n    }\r\n\r\n    const helper = (el) => {\r\n        let value = data[el.field]\r\n        if (!value) return ' '\r\n        if (el.errorHandler && el.errorHandler(value)) return '✓'\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return '✘'\r\n\r\n        if (value?.length < el?.minLength) return '✘'\r\n        if (value?.length >= el?.minLength) return '✓'\r\n\r\n        if (typeof value !== 'string') value = value.toString()\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value.match(el.pattern) !== null) return '✓'\r\n        else return ' '\r\n    }\r\n\r\n    return (\r\n        <div className='flexColumn login'>\r\n            <h2 className='login__title'>CadTI - Cadastro do Transporte Intermunicipal - Seinfra MG</h2>\r\n            <div className='login__form paper'>\r\n                <header>\r\n                    <h4 className=\"header2 login__subtitle\">{title}</h4>\r\n                    {tab === 2 &&\r\n                        <h5 className='login__subtitle--forgotPassword'>\r\n                            Insira o e-mail cadastrado para recuperar a senha.\r\n                        </h5>}\r\n                </header>\r\n                <section className='flexColumn center'>\r\n                    {form.map(({ name, label, options, type = 'text', ...el }, i) => (\r\n                        <div className=\"input\" key={i}>\r\n                            <TextField\r\n                                id={name}\r\n                                name={name}\r\n                                label={label}\r\n                                value={data[name] || ''}\r\n                                onChange={handleInput}\r\n                                type={type}\r\n                                error={errorHandler(el)}\r\n                                helperText={helper(el)}\r\n                                InputProps={{ style: { width: '260px' } }}\r\n                                InputLabelProps={{ style: { fontSize: '10pt', color: '#223' } }}\r\n                                select={options ? true : false}\r\n                            >\r\n                                {options &&\r\n                                    options.map(({ optionLabel, optionValue }, i) =>\r\n                                        <MenuItem key={i} value={optionValue}>\r\n                                            {optionLabel}\r\n                                        </MenuItem>\r\n                                    )\r\n                                }\r\n                            </TextField>\r\n                        </div>\r\n                    ))}\r\n                    <CustomButton label={buttonLabel} onClick={handleSubmit} />\r\n                </section>\r\n                <footer className=\"login__footer\">\r\n                    <p onClick={() => tab === 0 ? changeTab(1) : changeTab(0)}>\r\n                        {tab === 0 ? 'Ainda não é cadastrado?' : 'Voltar para a tela de login'}\r\n                    </p>\r\n                    {\r\n                        tab === 0 &&\r\n                        <p onClick={() => changeTab(2)}>\r\n                            Esqueceu sua senha?\r\n                        </p>\r\n                    }\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserAuthTemplate;","import { cpf } from \"../Forms/commonFields\"\r\n\r\nconst loginForm = [\r\n    {\r\n        name: 'email',\r\n        label: 'E-mail'\r\n    },\r\n    {\r\n        name: 'password',\r\n        label: 'Senha',\r\n        type: 'password'\r\n    },\r\n]\r\n\r\nconst signUpForm = [\r\n    {\r\n        name: 'name',\r\n        label: 'Nome Completo'\r\n    },\r\n    { ...cpf, name: 'cpf', field: 'cpf' },\r\n    ...loginForm,\r\n    {\r\n        name: 'confirmPassword',\r\n        label: 'Confirme sua senha',\r\n        type: 'password'\r\n    },\r\n    /*  {\r\n         name: 'role',\r\n         label: 'Perfil de usuário',\r\n         options: [\r\n             {\r\n                 optionLabel: 'Administrador',\r\n                 optionValue: 'admin'\r\n             },\r\n             {\r\n                 optionLabel: 'Delegatário',\r\n                 optionValue: 'empresa'\r\n             },\r\n             {\r\n                 optionLabel: 'Técnico Seinfra',\r\n                 optionValue: 'seinfra'\r\n             },\r\n         ]\r\n     } */\r\n]\r\n\r\nconst forgotPassForm = [\r\n    {\r\n        name: 'email',\r\n        label: 'E-mail'\r\n    },\r\n]\r\n\r\nconst userAuthForms = [\r\n    { title: 'Fazer login', form: loginForm, buttonLabel: 'entrar', endPoint: '/auth/login' },\r\n    { title: 'Cadastro de Usuário', form: signUpForm, buttonLabel: 'Cadastrar', endPoint: '/auth/signUp', toastMsg: 'Usuário cadastrado.' },\r\n    { title: 'Recuperação de senha', form: forgotPassForm, buttonLabel: 'Recuperar senha', endPoint: '/auth/forgotPassword', toastMsg: 'Senha enviada para o e-mail registrado.' }\r\n]\r\n\r\nexport default userAuthForms","//@ts-check\r\n/**\r\n * \r\n * @param {string} email \r\n * @returns {string} - message\r\n */\r\nconst confirmEmailMsg = (email, userId) => {\r\n    const host = document.baseURI\r\n\r\n    return `\r\n    <p>\r\n    O usuário ${email} foi criado com sucesso no Sistema de Cadastro do Transporte Intermunicipal da Seinfra-MG - CadTI.\r\n    </p>\r\n    <p>\r\n    Para confirmar o endereço de e-mail e liberar o acesso ao sistema, <a href= ${host}auth/verifyUser/${userId}> clique aqui </a>.\r\n    </p>\r\n    Caso não tenha feito o cadastro, favor desconsiderar essa mensagem.`\r\n}\r\n\r\nexport default confirmEmailMsg\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport UserAuthTemplate from \"./UserAuthTemplate\";\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport userAuthForms from \"./userAuthForms\";\r\nimport { logUser } from \"../Store/userActions\";\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { setCookie } from \"../Utils/documentCookies\";\r\nimport valueParser from \"../Utils/valueParser\";\r\nimport confirmEmailMsg from \"./confirmEmailMsg\";\r\n\r\nconst UserAuth = props => {\r\n\r\n  const\r\n    [state, setState] = useState({ tab: 0, ...userAuthForms[0] }),\r\n    { tab, endPoint, toastMsg, toastStatus, confirmToast } = state\r\n\r\n  useEffect(() => {\r\n    const signIn = e => {\r\n      if (e.key === 'Enter')\r\n        handleSubmit()\r\n    }\r\n    document.addEventListener('keypress', signIn)\r\n    return () => document.removeEventListener('keypress', signIn)\r\n  })\r\n\r\n\r\n  const changeTab = tab => setState({ ...state, tab, ...userAuthForms[tab] })\r\n\r\n  const handleInput = e => {\r\n    const\r\n      { name, value } = e.target,\r\n      parsedValue = valueParser(name, value)\r\n\r\n    setState({ ...state, [name]: parsedValue })\r\n  }\r\n\r\n  const login = async () => {\r\n    //Efetua o login com as informações preencidas pelo usuário\r\n    try {\r\n      await axios.post(endPoint, state)\r\n      //caso as credenciais (usuário/senha) estejam certas, um token foi armazenado. Faz-se então uma requisição GET dos dados do usuário\r\n      const\r\n        getUser = await axios.get('/getUser'),\r\n        userFound = getUser?.data\r\n      //Ao se descodificar o token, se as credenciais estiverem certas e o token válido, retorna o usuárui, armazena na globalStore e cria cookie local.      \r\n\r\n      setCookie('loggedIn', true)\r\n      props.logUser(userFound)\r\n    }\r\n    catch (err) {\r\n      toast(err?.response?.data, 'error')\r\n    }\r\n  }\r\n\r\n  const signUp = async () => {\r\n    const { form, endPoint, confirmToast, toastMsg, ...request } = state\r\n    let\r\n      error,\r\n      tab = 1\r\n    if (request instanceof Object)\r\n      request.role = 'empresa'\r\n    const\r\n      { email, name } = request,\r\n      mail = {\r\n        to: email,\r\n        subject: 'Confirmação de e-mail',\r\n        vocativo: name\r\n      }\r\n\r\n    await axios.post(endPoint, request)\r\n      .then(r => {\r\n        const\r\n          userId = r?.data?.id,\r\n          message = confirmEmailMsg(email, userId)\r\n\r\n        mail.message = message\r\n        axios.post(`/alerts/mail`, mail)\r\n      })\r\n      .catch(err => {\r\n        toast(err?.response?.data, 'error')\r\n        error = true\r\n      })\r\n\r\n    if (!error) {\r\n      tab = 0\r\n      toast('Usuário cadastrado.')\r\n      setTimeout(() => setState({ tab, ...userAuthForms[tab] }), 1250)\r\n    }\r\n\r\n  }\r\n\r\n  const retrievePassword = async () => {\r\n    const\r\n      { email } = state\r\n      , recoveryMail = email\r\n\r\n    axios.post(endPoint, { recoveryMail })\r\n      .then(r => {\r\n        toast(r.data)\r\n        setTimeout(() => setState({ tab: 0, ...userAuthForms[0] }), 1250)\r\n      })\r\n      .catch(err => {\r\n        toast(err?.response?.data, 'error')\r\n      })\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    if (tab === 0)\r\n      login()\r\n\r\n    if (tab === 1)\r\n      signUp()\r\n    if (tab === 2)\r\n      retrievePassword()\r\n  }\r\n\r\n  const toast = (toastMsg, toastStatus) => setState({ ...state, confirmToast: !state.confirmToast, toastMsg, toastStatus })\r\n\r\n\r\n  return (\r\n    <>\r\n      <UserAuthTemplate\r\n        data={state}\r\n        handleInput={handleInput}\r\n        handleSubmit={handleSubmit}\r\n        changeTab={changeTab}\r\n      />\r\n      <ReactToast open={confirmToast} close={toast} msg={toastMsg} status={toastStatus} />\r\n    </>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    redux: {\r\n      ...state.user\r\n    }\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators({ logUser }, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserAuth)","const userTable = [\r\n    {\r\n        field: 'name',\r\n        title: 'Nome',\r\n        label: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpf',\r\n        title: 'CPF',\r\n        label: 'CPF',\r\n    },\r\n    {\r\n        field: 'email',\r\n        title: 'E-mail',\r\n        label: 'E-mail',\r\n    },\r\n    {\r\n        field: 'role',\r\n        name: 'role',\r\n        title: 'Perfil',\r\n        label: 'Perfil',\r\n        lookup: { admin: 'Administrador', tecnico: 'Técnico Seinfra', empresa: 'Delegatário' },\r\n        editable: 'always'\r\n    },\r\n]\r\n\r\nexport default userTable","import React from 'react'\r\nimport MaterialTable from 'material-table';\r\nimport userTable from './userTable';\r\nimport exportToXlsx from '../Consultas/exportToXlsx';\r\n\r\nexport default function ({ collection, showDetails, addUser, editUser, deleteUser }) {\r\n\r\n    if (!Array.isArray(collection)) collection = []\r\n    //collection = collection.map(obj => ({ ...obj }))\r\n    collection = Array.from(collection).sort((a, b) => a.name.localeCompare(b.name))\r\n\r\n    return (\r\n        <div style={{ margin: '10px 0' }} className='noPrint'>\r\n            <MaterialTable\r\n                title={`Gerenciar dados de usuários`}\r\n                columns={userTable}\r\n                data={collection}\r\n                style={{ fontFamily: 'Segoe UI', fontSize: '14px' }}\r\n                options={{\r\n                    filtering: true,\r\n                    exportButton: true,\r\n                    exportFileName: 'Usuários',\r\n                    exportCsv: (columns, data) => {\r\n                        //Altera os valores de role para fins de exportação p xls\r\n                        const\r\n                            roles = userTable.find(obj => obj.lookup)?.lookup,\r\n                            dataToExport = [...data]\r\n                        dataToExport.forEach(el => {\r\n                            Object.entries(roles).forEach(([k, v]) => {\r\n                                if (k === el?.role)\r\n                                    el.role = v\r\n                            })\r\n                        })\r\n                        exportToXlsx('Usuários', userTable, data)\r\n                    },\r\n                    actionsColumnIndex: -1,\r\n                    searchFieldStyle: { color: '#024', fontSize: '14px' },\r\n                    headerStyle: { backgroundColor: '#FAFAFC' },\r\n                    emptyRowsWhenPaging: false,\r\n                    pageSize: 20,\r\n                    rowStyle: {\r\n                        fontSize: '0.5rem',\r\n                    }\r\n                }}\r\n\r\n                localization={{\r\n                    header: { actions: 'Opções' },\r\n                    body: {\r\n                        emptyDataSourceMessage: 'Registro não encontrado.',\r\n                        editRow: { deleteText: 'Tem certeza que deseja apagar esse registro ?' },\r\n                        deleteTooltip: 'Apagar',\r\n                        addTooltip: 'Adicionar novo usuário',\r\n                        editTooltip: 'Editar',\r\n                        filterRow: { filterTooltip: 'Filtrar' }\r\n                    },\r\n                    toolbar: {\r\n                        searchTooltip: 'Procurar',\r\n                        searchPlaceholder: 'Procurar',\r\n                        exportCSVName: 'Salvar como arquivo do excel',\r\n                        exportAriaLabel: 'Exportar',\r\n                        exportTitle: 'Exportar para xlsx',\r\n                    },\r\n                    pagination: {\r\n                        labelRowsSelect: 'Resultados por página',\r\n                        labelDisplayedRows: ' {from}-{to} a {count}',\r\n                        firstTooltip: 'Primeira página',\r\n                        previousTooltip: 'Página anterior',\r\n                        nextTooltip: 'Próxima Página',\r\n                        lastTooltip: 'Última Página',\r\n                    }\r\n                }}\r\n                /* actions={[\r\n                    {\r\n                        icon: 'delete',\r\n                        onClick: (event, rowData) => {\r\n                            deleteUser(event, rowData)\r\n                        }\r\n                    }\r\n                ]} */\r\n                editable={{\r\n                    onRowAdd: newData =>\r\n                        new Promise((resolve, reject) => {\r\n                            setTimeout(() => {\r\n                                addUser(newData)\r\n                                resolve()\r\n                            }, 1000)\r\n                        }),\r\n                    onRowUpdate: (newData, oldData) =>\r\n                        new Promise((resolve, reject) => {\r\n                            setTimeout(() => {\r\n                                const dataUpdate = [...collection];\r\n                                const index = oldData.tableData.id;\r\n                                dataUpdate[index] = newData;\r\n                                editUser(newData);\r\n                                resolve();\r\n                            }, 500)\r\n                        }),\r\n                    //isEditable: rowData => rowData.name === 'role', // only name(a) rows would be editable\r\n                    onRowDelete: oldData =>\r\n                        new Promise((resolve, reject) => {\r\n                            setTimeout(() => {\r\n                                deleteUser(oldData)\r\n\r\n                                resolve();\r\n                            }, 1000);\r\n                        })\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport UsersTemplate from './UsersTemplate'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport removePDF from '../Utils/removePDFButton'\r\n\r\nconst Users = props => {\r\n\r\n    const\r\n        { users, socios } = props.redux,\r\n        [state, setState] = useState({ confirmToast: false })\r\n\r\n    //Desabilita opção de exportar como PDF do material-table\r\n    useEffect(() => {\r\n        removePDF()\r\n        return () => removePDF(true)\r\n    }, [])\r\n\r\n    const addUser = async user => {\r\n\r\n        const\r\n            { cpf } = user,\r\n            socio = socios.find(s => s.cpfSocio === cpf)\r\n\r\n        if (socio)\r\n            user.empresas = [socio.codigoEmpresa]\r\n\r\n        axios.post('/users/addUser', user)\r\n            .then(r => console.log(r.data))\r\n            .catch(err => toast(err?.response?.data || 'Erro'))\r\n    }\r\n    const editUsers = user => {\r\n        axios.put('/users/editUser', user)\r\n            .then(r => console.log(r.data))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    const deleteUser = user => {\r\n        const { id } = user\r\n        axios.delete(`/users/deleteUser?id=${id}`)\r\n            .then(r => console.log(r.data))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    const\r\n        { confirmToast } = state,\r\n        toast = (toastMsg, toastStatus) => setState({ ...state, confirmToast: !confirmToast, toastMsg, toastStatus })\r\n\r\n    return (\r\n        <div>\r\n            <UsersTemplate\r\n                collection={users}\r\n                addUser={addUser}\r\n                editUser={editUsers}\r\n                deleteUser={deleteUser}\r\n            />\r\n            <ReactToast open={confirmToast} close={toast} msg={state.toastMsg} status='warning' />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst collection = ['users', 'socios']\r\n\r\nexport default StoreHOC(collection, Users)\r\n","export const editAccountForm = [\r\n    {\r\n        field: 'name',\r\n        label: 'Nome e sobrenome',\r\n    },\r\n    {\r\n        field: 'cpf',\r\n        label: 'CPF',\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'email',\r\n        label: 'E-mail',\r\n        type: 'email'\r\n    },\r\n    {\r\n        field: 'password',\r\n        label: 'Alterar senha',\r\n        type: 'password'\r\n    },\r\n    {\r\n        field: 'confirmPassword',\r\n        label: 'Confirme a nova senha',\r\n        type: 'password'\r\n    }\r\n]","import React from 'react'\r\nimport { editAccountForm as form } from '../Forms/editAccountForm'\r\nimport CustomButton from '../Reusable Components/CustomButton'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport './editAccount.scss'\r\n\r\n/**\r\n * \r\n * @param {object } data\r\n *\r\n * @returns \r\n */\r\nconst EditAccountTemplate = ({ data, handleInput, handleSubmit }) => {\r\n    const { modified } = data\r\n    return (\r\n        <div className='flexColumn center editAccount__container'>\r\n            <header className=\"selectHeader\">\r\n                <h4 className='parametrosTitle'>Alterar dados da conta</h4>\r\n                <FormSubtiltle\r\n                    subtitle={`Caso deseje alterar apenas a senha, insira apenas a senha e a confirmação. Não é necessário informar a senha para alterar os demais dados da conta.`}\r\n                />\r\n            </header>\r\n            <main className='configForm'>\r\n                <TextInput\r\n                    form={form}\r\n                    data={data}\r\n                    handleInput={handleInput}\r\n                    style={{ width: '100%', flexDirection: 'column' }}\r\n                />\r\n            </main>\r\n            <div style={{ minHeight: '60px', position: 'flex' }}>\r\n                <CustomButton\r\n                    action='save'\r\n                    onClick={handleSubmit}\r\n                    disabled={!modified}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditAccountTemplate\r\n\r\n","import axios from 'axios'\r\nimport React, { useState, useEffect } from 'react'\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport EditAccountTemplate from './EditAccountTemplate'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport { connect } from 'react-redux'\r\nimport { editUser } from '../Store/userActions'\r\n\r\nconst EditAccount = props => {\r\n\r\n    const\r\n        data = props.user,\r\n        [state, setState] = useState({ initState: { confirmToast: false }, modified: false }),\r\n        { toastMsg, toastStatus, confirmToast } = state\r\n\r\n\r\n    useEffect(() => {\r\n        if (data instanceof Object)\r\n            setState({ ...state, ...data, initState: data })\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    /**\r\n     * @param {{ target: { name: any; value: any; }; }} e\r\n     */\r\n    function handleInput(e) {\r\n        const\r\n            { name, value } = e.target\r\n            , modified = checkForChanges(name, value)\r\n\r\n        setState({ ...state, [name]: value, modified })\r\n    }\r\n\r\n    const checkForChanges = (name, value, newArray) => {\r\n        const { initState } = state\r\n        let\r\n            modified = false,\r\n            stateChanged,\r\n            fieldChanged,\r\n            passChanged,\r\n            changedArray\r\n\r\n        if (name === 'confirmPassword')\r\n            modified = state.modified\r\n        //Se for passada uma array, compara a array com a array inicial do estado\r\n        if (newArray)\r\n            changedArray = initState.toString() !== newArray.toString()\r\n\r\n        //Senão, compara cada campo input (...com props spreaded no state) com o estado inicial\r\n        else {\r\n            Object.keys(initState).forEach(k => {\r\n                if (state[k] && initState[k])\r\n                    if (k !== name && state[k].toString() !== initState[k].toString())\r\n                        stateChanged = true\r\n            })\r\n            fieldChanged = initState[name] && initState[name].toString() !== value\r\n            passChanged = name === 'password' && state[name] && value !== ''\r\n        }\r\n\r\n        if (fieldChanged || stateChanged || changedArray || passChanged)\r\n            modified = true\r\n        return modified\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        const\r\n            modified = checkForChanges(null, null, state),\r\n            { name, cpf, email, password, confirmPassword } = state,\r\n            requestObj = { name, cpf, email, password }\r\n\r\n        if (password !== confirmPassword) {\r\n            toast('Senhas não conferem', 'error')\r\n            return\r\n        }\r\n\r\n        requestObj.id = state._id\r\n        axios\r\n            .put('/users/editUser', requestObj)\r\n            .then(r => {\r\n                if (r.status === 200) {\r\n                    toast(r.data)\r\n                    props.editUser({ name, email })\r\n                    setTimeout(() => {\r\n                        setState({\r\n                            ...state,\r\n                            initState: state,\r\n                            modified,\r\n                            password: undefined,\r\n                            confirmPassword: undefined\r\n                        })\r\n                    }, 1200);\r\n                }\r\n            })\r\n            .catch(err => toast(err.message, 'error'))\r\n    }\r\n\r\n    const toast = (toastMsg, toastStatus) => setState({ ...state, confirmToast: !state.confirmToast, toastMsg, toastStatus })\r\n\r\n    return (\r\n        <>\r\n            <EditAccountTemplate\r\n                data={state}\r\n                handleInput={handleInput}\r\n                handleSubmit={handleSubmit}\r\n            />\r\n            <ReactToast open={confirmToast} close={toast} msg={toastMsg} status={toastStatus} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect(null, { editUser })(StoreHOC([], EditAccount))\r\n","import React from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport HomeTemplate from './HomeTemplate'\r\n\r\nimport VeiculosHome from './Veiculos/VeiculosHome'\r\nimport CadVeiculos from './Veiculos/CadVeiculo'\r\nimport AltDados from './Veiculos/AltDados'\r\nimport Seguros from './Veiculos/Seguros'\r\nimport Laudos from './Veiculos/Laudos'\r\nimport BaixaVeiculo from './Veiculos/BaixaVeiculo'\r\nimport Config from './Veiculos/Config'\r\n\r\nimport Consultas from './Consultas/Consultas'\r\nimport Empresas from './Empresas/EmpresasContainer'\r\nimport EmpresasHome from './Empresas/EmpresasHome'\r\nimport Procuradores from './Empresas/Procuradores'\r\nimport Socios from './Empresas/Socios'\r\nimport Relatorios from './Relatorios/Relatorios'\r\nimport Solicitacoes from './Solicitacoes/Solicitacoes'\r\nimport PdfTest from './Veiculos/Certificate'\r\nimport AltContrato from './Empresas/AltContrato'\r\nimport Parametros from './Parametros/Parametros'\r\nimport UserAuth from './Auth/UserAuth'\r\nimport Users from './Users/Users'\r\nimport EditAccount from './Users/EditAccount'\r\n//import UnderConstruction from './UnderConstruction'\r\n\r\n\r\nconst Routes = ({ user }) => {\r\n\r\n    return (\r\n        <Switch>\r\n            <Route exact path='/' component={HomeTemplate} />\r\n            <Route path='/veiculos' exact component={VeiculosHome} />\r\n            <Route path='/veiculos/cadastro' exact component={CadVeiculos} />\r\n            <Route path='/veiculos/altDados' exact component={AltDados} />\r\n            <Route path='/veiculos/seguros' exact component={Seguros} />\r\n            <Route path='/veiculos/laudos' exact component={Laudos} />\r\n            <Route path='/veiculos/baixaVeiculo' exact component={BaixaVeiculo} />\r\n            <Route path='/veiculos/config' exact component={Config} />\r\n            <Route path='/consultas' component={Consultas} />\r\n            <Route path='/empresas' exact component={EmpresasHome} />\r\n            <Route path='/altContrato' exact component={AltContrato} />\r\n            <Route path='/empresas/cadastro' component={Empresas} />\r\n            <Route path='/empresas/socios' component={Socios} />\r\n            <Route path='/empresas/procuradores' component={Procuradores} />\r\n            <Route path='/relatorios' component={Relatorios} />\r\n            <Route path='/crv' component={PdfTest} />\r\n            <Route path='/solicitacoes' exact component={Solicitacoes} />\r\n            <Route path='/solicitacoes/cadastro' exact component={CadVeiculos} />\r\n            <Route path='/solicitacoes/altDados' exact component={AltDados} />\r\n            <Route path='/solicitacoes/seguros' exact component={Seguros} />\r\n            <Route path='/solicitacoes/baixaVeiculo' exact component={BaixaVeiculo} />\r\n            <Route path='/solicitacoes/laudos' exact component={Laudos} />\r\n            <Route path='/solicitacoes/altContrato' exact component={AltContrato} />\r\n            <Route path='/solicitacoes/socios' exact component={Socios} />\r\n            <Route path='/solicitacoes/procuradores' exact component={Procuradores} />\r\n            <Route path='/userAuth' exact component={UserAuth} />\r\n            <Route path='/editAccount' exact component={EditAccount} />\r\n            <Route path='/parametros'>\r\n                {user.role === 'admin' ? <Parametros /> : <Redirect to='/' />}\r\n            </Route>\r\n            <Route path='/users'>\r\n                {user.role === 'admin' ? <Users /> : <Redirect to='/' />}\r\n            </Route>\r\n\r\n\r\n\r\n            {/* <Route path='/faleConosco' component={UnderConstruction} /> */}\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default Routes","import React from 'react'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport Routes from './Routes'\r\nimport { connect } from 'react-redux'\r\nimport UserAuth from './Auth/UserAuth'\r\n\r\nimport { Header, Footer } from './Layouts'\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport { getCookie } from './Utils/documentCookies'\r\n\r\nconst Authentication = props => {\r\n    const\r\n        loggedIn = getCookie('loggedIn').length > 0,\r\n        { user } = props\r\n\r\n    if (!loggedIn)\r\n        return <UserAuth />\r\n    else\r\n        return (\r\n            <div className='app'>\r\n                <Container maxWidth=\"lg\" style={{ minHeight: '100vh' }}>\r\n                    <BrowserRouter>\r\n                        <Header />\r\n                        <Routes user={user} />\r\n                    </BrowserRouter>\r\n                    <Footer />\r\n                </Container>\r\n            </div>\r\n        )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        ...state\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Authentication)","import React from 'react';\r\n\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport promise from 'redux-promise';\r\nimport multi from 'redux-multi';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './rootReducer'\r\nimport Authentication from './Authentication';\r\n\r\nimport './Layouts/stylez.scss'\r\n\r\nexport const store = applyMiddleware(promise, multi, thunk)(createStore)(rootReducer, /* preloadedState, */\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <Authentication />\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.jsx';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}