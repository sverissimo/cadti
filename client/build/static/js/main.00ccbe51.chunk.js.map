{"version":3,"sources":["Store/dataReducer.js","rootReducer.js","Layouts/Header.jsx","Layouts/Footer.jsx","Layouts/TabMenu.jsx","HomeTemplate.jsx","Veiculos/VeiculosHome.jsx","Store/StoreHOC.jsx","Store/dataActions.js","Layouts/Loading.jsx","Forms/configVehicleForm.js","Utils/checkInputErrors.js","Utils/autoComplete.jsx","Reusable Components/TextInput.jsx","Forms/seguroForm.js","Forms/cadForm.js","Forms/vistoriaForm.js","Reusable Components/ClosePopUpButton.jsx","Veiculos/AddEquipa.jsx","Veiculos/CadVeiculoTemplate.jsx","Reusable Components/DragAndDrop.jsx","Forms/cadVehicleFiles.js","Forms/altDadosFiles.js","Veiculos/VehicleDocs.jsx","Utils/ShowLocalFiles.jsx","Veiculos/VehicleReview.jsx","Utils/Crumbs.jsx","Utils/StepperButtons.jsx","Utils/Stepper.jsx","Utils/ReactToast.jsx","Utils/formatMoney.js","Utils/AlertDialog.jsx","Veiculos/CadVeiculo.jsx","Forms/altForm.js","Forms/altFormVistoria.js","Reusable Components/SelectEmpresa.jsx","Veiculos/AltDadosTemplate.jsx","Utils/FormDialog.jsx","Veiculos/AltDados.jsx","Forms/altSegForm.js","Veiculos/AltSeguroTemplate.jsx","Veiculos/ShowAllPlates.jsx","Veiculos/ConfigAddDialog.jsx","Veiculos/AltSeguro.jsx","Forms/baixaForm.js","Veiculos/BaixaTemplate.jsx","Veiculos/BaixaVeiculo.jsx","Veiculos/ConfigTemplate.jsx","Veiculos/Config.jsx","Utils/formatDate.js","Consultas/tables.js","Consultas/ConsultasTemplate.jsx","Forms/certificate.js","Veiculos/Certificate.jsx","Forms/joinForms.js","Forms/empresasForm.js","Forms/sociosForm.js","Forms/procuradorForm.js","Reusable Components/ShowDetails.jsx","Utils/formatFileSize.js","Utils/downloadFile.js","Forms/empresaFiles.js","Reusable Components/ShowFiles.jsx","Consultas/ConsultasContainer.jsx","Empresas/EmpresasTemplate.jsx","Empresas/SociosTemplate.jsx","Empresas/EmpresaReview.jsx","Empresas/EmpresasContainer.jsx","Empresas/EmpresasHome.jsx","Empresas/Procurador.jsx","Empresas/AltProcuradoresTemplate.jsx","Empresas/AltProcuradores.jsx","Empresas/AltSociosTemplate.jsx","Empresas/AltSocios.jsx","Utils/UnderConstruction.jsx","Routes.jsx","App.jsx","serviceWorker.js","index.js"],"names":["initState","dataReducer","state","action","type","payload","collection","data","update","forEach","el","unshift","id","map","v","apolice","placaIndex","vehicleIndex","seguros","seguro","find","s","index","findIndex","placas","splice","veiculos","tablePK","updatedData","match","Number","element","setColor","loading","rootReducer","combineReducers","useStyles","makeStyles","theme","toolbarTitle","flex","toolbarSecondary","justifyContent","overflowX","backgroundColor","color","toolbarLink","padding","flexShrink","mainFeaturedPost","position","palette","grey","common","white","marginBottom","spacing","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","overlay","top","bottom","right","left","mainFeaturedPostContent","breakpoints","up","paddingRight","mainGrid","marginTop","card","display","cardDetails","cardMedia","width","markdown","typography","body2","sidebarAboutBox","sidebarSection","footer","background","paper","sections","title","link","withRouter","props","classes","useState","document","location","pathname","path","setSelected","useEffect","Fragment","CssBaseline","Toolbar","Button","size","Typography","component","variant","align","noWrap","className","IconButton","i","Link","RouterLink","to","key","href","style","fontFamily","fontSize","borderBottom","fontWeight","onClick","Footer","items","tab","changeTab","Tabs","value","indicatorColor","textColor","centered","onChange","item","Tab","label","height","featuredPosts","date","description","imageUrl","minHeight","Grid","container","cardGrid","post","xs","md","CardActionArea","textDecoration","Card","CardContent","paragraph","Hidden","xsDown","CardMedia","src","menuCards","VeiculosHome","url","alt","socket","getData","collectionsArray","dispatch","getState","a","async","promiseArray","returnObj","length","collectionName","push","axios","get","Promise","all","then","res","r","humps","camelizeKeys","responseArray","replace","camelize","Object","assign","insertData","dataFromServer","seguradoras","console","log","seguradora","sg","seguradoraId","plates","vehicles","updatedCollection","dataEmissao","vencimento","placa","veiculoId","collectionPayload","batch","updateData","updateCollection","deleteOne","Loading","configVehicleForm","field","name","table","socketIO","require","requestArray","WrappedComponent","collections","req","With","redux","this","request","colName","on","insertedObjects","updatedObjects","object","off","c","every","col","hasOwnProperty","React","Component","connect","bindActionCreators","checkInputErrors","sendState","p","querySelectorAll","inputs","errors","errString","textContent","l","parentNode","moment","isValid","previousSibling","e","slice","openAlertDialog","alertType","customMsg","autoComplete","datalist","textField","marginLeft","marginRight","fontColor","textAlign","select","helperText","margin","TextInput","handleInput","handleBlur","form","errorHandler","max","min","toString","pattern","helper","TextField","onBlur","error","FormHelperTextProps","disabled","InputLabelProps","shrink","undefined","inputProps","disable","list","maxLength","minLength","multiline","rows","fullWidth","SelectProps","options","opt","MenuItem","seguroForm","cadForm","Date","getFullYear","zero","concat","step","ClosePopUpButton","close","cursor","AddEquipa","equipamentos","handleCheck","eq","FormControlLabel","control","Checkbox","checked","flexWrap","selectEmpresa","minWidth","formHolder","text","secondary","empresas","handleEquipa","razaoSocial","activeStep","addEquipa","delegatarioCompartilhado","subtitle","selectedEmpresa","button","shared","setShared","direction","justify","Paper","float","DragAndDrop","formData","handleFiles","dropDisplay","single","fileName","setFileName","entries","pair","onDrop","getRootProps","getInputProps","cadVehicleFiles","altDadosFiles","root","flexGrow","sendButton","VehicleDocs","filesForm","parentComponent","insuranceExists","k","divContainer","alignContent","divFiles","alignItems","border","borderRadius","icon","verticalAlign","paddingLeft","fileIcon","ShowLocalFiles","files","fileArray","fieldName","f","file","window","URL","createObjectURL","createElement","setAttribute","body","appendChild","click","createLink","Revisao","ultimateData","vehicleDetails","obj","newForm","filledForm","y","colSpan","values","d","j","Array","isArray","equipamentosId","Crumbs","links","Breadcrumbs","separator","aria-label","paddingBottom","backButton","StepperButtons","setActiveStep","lastStep","handleSubmit","instructions","CustomStepper","steps","Stepper","Step","StepLabel","useStyles1","success","green","dark","info","primary","main","warning","amber","iconVariant","opacity","message","MySnackbarContentWrapper","onClose","other","SnackbarContent","clsx","aria-describedby","Icon","CustomizedSnackbars","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","msg","formatMoney","toFixed","AlertDialog","confirm","customTitle","customMessage","cnpj","createAlert","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","StoreHOC","frota","toastMsg","confirmToast","fileNames","filter","setState","array","prevActiveStep","allInsurances","target","delegatarioId","empresa","filteredInsurances","toLocaleUpperCase","se","testApolice","testSeguradora","format","keys","newInsurance","getId","stateId","dbName","dbId","alertLabel","toLowerCase","nombre","getElementsByName","focus","modelosChassi","carrocerias","x","handleCadastro","anoCarroceria","peso_dianteiro","peso_traseiro","poltronas","compartilhadoId","modeloChassiId","modeloCarroceriaId","indicadorIdade","pbt","isNaN","review","modeloChassi","modeloCarroceria","vReview","validEmissao","validVenc","situacao","vehicle","decamelizeKeys","insurance","submitFiles","catch","err","resetState","toast","seguradora_id","column","ids","put","FormData","fn","filesNames","append","delete","showFiles","selectedFiles","metadata","filesCollection","selectedVehicle","resetFiles","resetEquip","toggleDialog","escFunction","keyCode","equipArray","addEventListener","CadVeiculoTemplate","PureComponent","altForm","SelectEmpresa","input","altPlacaOption","showAltPlaca","justificativa","updatePlate","newPlate","nPlate","stepTitles","altPlaca","reset","toUpperCase","capitalize","charAt","vEquip","currentEquipa","ve","utilizacao","dominio","delegatario","pesoDianteiro","pesoTraseiro","tempObj","compartilhado","requestObject","closeAlert","AltDadosTemplate","chip","AltSeguro","enableAddPlaca","addPlate","removeFromInsurance","enableChangeApolice","showAllPlates","addedPlaca","seguroFile","sort","flexDirection","Chip","onDelete","ShowAllPlates","htmlFor","ConfigAddDialog","helperMessage","marca","marcas","selectMarca","newElement","addNewElement","deletedVehicles","checkExistance","inputValue","JSON","parse","stringify","allPlates","clearFields","selectedSeguradora","vehicleFound","checkFields","valid","seg","allPlatesObj","insuredPlates","plate","placaInput","check","includes","indexOf","updateInsurance","updates","emissaoDidChange","isSame","vencimentoDidChange","seguradoraDidChange","data_emissao","requestObj","columns","vehicleIds","cadSeguro","delegatario_id","newApoliceNumber","dontUpdateProps","seguroFormData","openAddDialog","prevProps","prevState","updatedInsurance","removeInsurance","baixaForm","delegaTransf","FormControl","FormLabel","RadioGroup","row","Radio","labelPlacement","Send","openDialog","newDelega","disableSubmit","checkArray","enableSubmit","BaixaTemplate","ConfigTemplate","staticData","selectCollection","handleChange","enableEdit","removeItem","edit","autoCorrect","spellCheck","addCounter","count","b","localeCompare","marcaChassi","marcaCarroceria","divCell","divWrap","childNodes","inputTarget","marcaCollection","m","marcaId","changedElement","newData","requestElement","originalData","editedElements","rest","realChanges","decamelize","formatDate","test","getDate","getMonth","getHours","getMinutes","vehicleTable","render","rowData","filtering","segurosTable","tables","vencimentoContrato","showDetails","showCertificate","del","subject","exportButton","exportFileName","exportCsv","csvData","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","Blob","FileSaver","exportToCSV","actionsColumnIndex","searchFieldStyle","headerStyle","emptyRowsWhenPaging","pageSize","localization","header","actions","emptyDataSourceMessage","editRow","deleteText","deleteTooltip","filterRow","filterTooltip","toolbar","searchTooltip","searchPlaceholder","exportName","exportAriaLabel","exportTitle","pagination","labelRowsSelect","labelDisplayedRows","firstTooltip","previousTooltip","nextTooltip","lastTooltip","iconProps","tooltip","event","hidden","editable","onRowDelete","oldData","caracteristicas","pesagem","informacoesGerais","PdfCertificate","setVehicle","localStorage","getItem","setTimeout","print","carac","delega","peso","obs","line","ultimateForm","origin","InputProps","redirect","createdAt","eForm","sForm","segForm","empresasForm","sociosForm","procuradorForm","ShowDetails","formPattern","tableData","laudoId","vData","dataRegistro","formatFileSize","bytes","Math","round","downloadFile","originalName","method","responseType","response","empresaFiles","divRow","grid","justifyItems","ShowFiles","typeId","fileLabels","o","download","filename","empresaId","getMoreInfo","uploadDate","ConsultasContainer","tablePKs","dbTables","detailsTitle","detailsHeader","elementDetails","vehicleDocs","primaryKeys","pk","updatedElement","closeFiles","socios","empresaDocs","socio","socioId","sociosArray","filesToReturn","procuradores","procId","selectedElement","deleteHandler","itemId","seguroVencido","isBefore","contratoVencido","setItem","closeCertificate","certified","TabMenu","ConsultasTemplate","elementId","dropBox","dropBoxItem","zIndex","boxShadow","dropBoxItem2","iconButton","addButton","addSocio","removeSocio","handleEdit","empresaDetails","addedSocios","totalShare","sObject","invalid","share","pop","editSocio","fs","filteredSocios","alert","alreadyExists","numero","contratoSocial","contratoFile","delegatarioStatus","resetEmpresa","resetSocios","EmpresasTemplate","SociosTemplate","divider","gutterBottom","StyledTableCell","withStyles","head","TableCell","StyledCell","StyledTableRow","default","TableRow","Procurador","procuracao","procArray","pro","procuradorId","Table","TableHead","TableBody","lineHeight","containerList","selector","paper2","addProc","removeProc","getFile","plusOne","minusOne","procDisplay","procsToAdd","selectedDocs","z","procuracaoId","filteredProc","procuracoesArray","procuracoes","pr","procFiles","nProc","addedProcs","n","newMembers","procIdArray","fp","gotId","cpfProcurador","procs","procurador_id","novaProcuracao","status","procuracao_id","reverse","proc","selectedFile","_id","AltProcuradoresTemplate","AltSociosTemplate","dialogTitle","cpfSocio","reduce","originalSocios","oldMembers","altObj","originals","socioIdsArray","newSocio","socio_id","updatedList","underConstruction","exact","HomeTemplate","UnderConstruction","CadVeiculos","AltVeiculos","BaixaVeiculo","Config","Consultas","EmpresasHome","Empresas","Socios","Procuradores","PdfTest","App","store","applyMiddleware","promise","multi","thunk","createStore","Container","maxWidth","Routes","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.00ccbe51.chunk.js","sourcesContent":["const initState = {}\r\n\r\nconst dataReducer = (state = initState, action) => {\r\n    const { type, payload } = action\r\n\r\n    switch (type) {\r\n\r\n        case 'GET_DATA':            \r\n            return { ...state, ...payload }\r\n\r\n        case 'INSERT_DATA': {\r\n            const { collection, data } = payload\r\n\r\n            if (state[collection] && data) {\r\n                let update = [...state[collection]]\r\n                data.forEach(el => {\r\n                    update.unshift(el)\r\n                })\r\n                return {\r\n                    ...state, [collection]: update\r\n                }\r\n            }\r\n            return state\r\n        }\r\n\r\n        case 'UPDATE_DATA': {\r\n            const { collection, data, id } = payload\r\n            if (state[collection] && data) {\r\n                const update = state[collection].map(v => {\r\n                    data.forEach(el => {\r\n                        if (v[id] === el[id]) {\r\n                            v = el\r\n                        }\r\n                    })\r\n                    return v\r\n                })\r\n               // console.log({ [collection]: update })\r\n                return {\r\n                    ...state, [collection]: update\r\n                }\r\n            }\r\n            return state\r\n        }\r\n\r\n\r\n        case 'UPDATE_COLLECTION': {\r\n            const { data, collection } = payload\r\n           // console.log(payload)\r\n            return {\r\n                ...state, [collection]: data\r\n            }\r\n        }\r\n\r\n        case 'REMOVE_FROM_INSURANCE':\r\n            const { apolice, placaIndex, vehicleIndex } = payload\r\n\r\n            if (state.seguros) {\r\n\r\n                let seguros = [...state.seguros],\r\n                    seguro = seguros.find(s => s.apolice === apolice),\r\n                    index = seguros.findIndex(s => s.apolice === apolice)\r\n\r\n                seguro.placas.splice(placaIndex, 1)\r\n                seguro.veiculos.splice(vehicleIndex, 1)\r\n                seguros[index] = seguro\r\n               // console.log(seguros)\r\n                return {\r\n                    ...state, seguros\r\n                }\r\n            }\r\n            return state\r\n\r\n        case 'DELETE_ONE':\r\n            const { tablePK, collection } = payload\r\n            if (state[collection]) {\r\n                let\r\n                    { id } = payload,\r\n                    updatedData = [...state[collection]]\r\n               // console.log(id, collection)\r\n                if (!collection.match('Docs')) id = Number(id)\r\n                \r\n                const\r\n                    element = updatedData.find(el => el[tablePK] === id),\r\n                    index = updatedData.findIndex(el => el === element)\r\n\r\n                updatedData.splice(index, 1)\r\n\r\n                return {\r\n                    ...state, [collection]: updatedData\r\n                }\r\n            }\r\n            return state\r\n\r\n        case 'SET_COLOR':\r\n            return { ...state, setColor: action.payload }\r\n\r\n        case 'LOADING':\r\n            return { ...state, loading: action.payload }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default dataReducer;","import dataReducer from './Store/dataReducer'\r\nimport { combineReducers } from 'redux';\r\n\r\nconst rootReducer = combineReducers({    \r\n    data: dataReducer    \r\n})\r\n\r\nexport default rootReducer","import React, { useState, useEffect } from 'react'\r\nimport { Link as RouterLink } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { Toolbar, Typography, Button, IconButton, Link } from '@material-ui/core'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { withRouter } from 'react-router'\r\nimport './stylez.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    toolbarTitle: {\r\n        flex: 1,\r\n    },\r\n    toolbarSecondary: {\r\n        justifyContent: 'space-between',\r\n        overflowX: 'auto',\r\n        backgroundColor: '#0398c1',\r\n        color: 'white'\r\n    },\r\n\r\n    toolbarLink: {\r\n        padding: '12px 55px 13px 55px',\r\n        flexShrink: 0,\r\n    },\r\n    mainFeaturedPost: {\r\n        position: 'relative',\r\n        backgroundColor: theme.palette.grey[800],\r\n        color: theme.palette.common.white,\r\n        marginBottom: theme.spacing(4),\r\n        backgroundImage: '/images/bus_wallpaper.jpg',\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n    },\r\n    overlay: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        left: 0,\r\n        backgroundColor: 'rgba(0,0,0,.3)',\r\n    },\r\n    mainFeaturedPostContent: {\r\n        position: 'relative',\r\n        padding: theme.spacing(3),\r\n        [theme.breakpoints.up('md')]: {\r\n            padding: theme.spacing(6),\r\n            paddingRight: 0,\r\n        },\r\n    },\r\n    mainGrid: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    card: {\r\n        display: 'flex',\r\n    },\r\n    cardDetails: {\r\n        flex: 1,\r\n    },\r\n    cardMedia: {\r\n        width: 160,\r\n    },\r\n    markdown: {\r\n        ...theme.typography.body2,\r\n        padding: theme.spacing(3, 0),\r\n    },\r\n    sidebarAboutBox: {\r\n        padding: theme.spacing(2),\r\n        backgroundColor: theme.palette.grey[200],\r\n    },\r\n    sidebarSection: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    footer: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        marginTop: theme.spacing(8),\r\n        padding: theme.spacing(6, 0),\r\n    },\r\n}));\r\n\r\nconst sections = [\r\n    { title: 'Página Inicial', link: '/' },\r\n    { title: 'Certidões', link: '/certidoes' },\r\n    { title: 'Consultas', link: '/consultas' },\r\n    { title: 'Veículos', link: '/veiculos' },\r\n    { title: 'Empresas', link: '/empresas' },\r\n    { title: 'Fale Conosco', link: '/faleConosco' },\r\n];\r\n\r\n\r\nconst Header = props => {\r\n    const classes = useStyles()\r\n    const [path, setSelected] = useState(document.location.pathname)\r\n    const { pathname } = props.location\r\n    \r\n    useEffect(() => {\r\n        setSelected(pathname)        \r\n    }, [pathname])\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n\r\n            <Toolbar>\r\n                <Button size=\"small\">Criar usuário</Button>\r\n                <Typography\r\n                    component=\"h2\"\r\n                    variant=\"h6\"\r\n                    color=\"inherit\"\r\n                    align=\"center\"\r\n                    noWrap\r\n                    className={classes.toolbarTitle}\r\n                >\r\n                    Seinfra - Subsecretaria de Transportes e Mobilidade - MG\r\n                    </Typography>\r\n                <IconButton>\r\n                    <SearchIcon />\r\n                </IconButton>\r\n                <Button variant=\"outlined\" size=\"small\">\r\n                    Fazer login\r\n                    </Button>\r\n            </Toolbar>\r\n            <Toolbar component=\"nav\" variant=\"dense\" className={classes.toolbarSecondary}>\r\n                {sections.map(({ link, title }, i) => (\r\n                    <Link\r\n                        component={RouterLink}\r\n                        to={link}\r\n                        key={i}\r\n                        color=\"inherit\"\r\n                        noWrap\r\n                        variant=\"body2\"\r\n                        href=\"\"\r\n                        style={{\r\n                            fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana, sans-serif',\r\n                            fontSize: '15px',\r\n                            backgroundColor: (path.match(link) && link !== '/' && link !== '/faleConosco')\r\n                                ? '#11a7d2' : '',\r\n                            //borderTop: (path === link && link !== '/' && link !== '/faleConosco') ? '2px solid #fff' : '',\r\n                            borderBottom: (path.match(link) && link !== '/' && link !== '/faleConosco') ? '1.5px solid #fff' : '',\r\n                            fontWeight: (path.match(link) && (link === '/' || link === '/faleConosco')) ? '500' : '400'\r\n                        }}\r\n                        className={classes.toolbarLink}\r\n                        onClick={() => setSelected(link)}\r\n                    >\r\n                        {title}\r\n                    </Link>\r\n                ))}\r\n            </Toolbar>\r\n        </React.Fragment >\r\n    )\r\n}\r\nexport default withRouter(Header)","//import React from 'react'\r\n\r\nconst Footer = () => {\r\n    return null\r\n    \r\n    /* (\r\n        <footer className=\"grey lighten-2 black-text\"\r\n            style={{\r\n                \r\n                bottom: 0,\r\n                width: '100%',\r\n                borderTop: '0.1px solid #999',\r\n                marginTop: 'auto',\r\n                maxHeight: '20px',\r\n                left: 0\r\n            }}>\r\n            <span style={{ fontSize: '0.6rem' }}>\r\n                Seinfra, Governo de Minas Gerais. Desenvolvido por Sandro Veríssimo, © 2019.\r\n            </span>\r\n        </footer>\r\n    ) */\r\n}\r\n\r\nexport default Footer;","import React from 'react'\r\nimport { Tabs, Tab } from '@material-ui/core'\r\n\r\nexport default ({items, tab, changeTab}) =>\r\n\r\n    <div className='tabMenu'> \r\n        <Tabs value={tab}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            centered \r\n            onChange={changeTab}>\r\n            {items.map((item, i)=> <Tab key={i} label={item} />)}\r\n        </Tabs>\r\n    </div>\r\n\r\n\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActionArea from '@material-ui/core/CardActionArea'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport './home.css'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({  \r\n  \r\n    card: {\r\n        display: 'flex',\r\n        fontSize: '0.5rem'\r\n    },\r\n    cardDetails: {\r\n        flex: 1,\r\n        fontSize: '0.5rem'\r\n    },\r\n    cardMedia: {\r\n        width: '120px',\r\n        height: '180px'\r\n    },    \r\n    footer: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        marginTop: theme.spacing(8),\r\n        padding: theme.spacing(6, 0),\r\n    }\r\n}));\r\n\r\nconst featuredPosts = [\r\n    {\r\n        title: 'Veículos',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastre e altere os dados do veículo ou solicite sua baixa',\r\n        link: '/veiculos',\r\n        imageUrl: '/images/vehicles.jpg'\r\n    },\r\n    {\r\n        title: 'Empresas',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastre e gerencie dados de empresas, sócios e procuradores',\r\n        link: '/empresas',\r\n        imageUrl: '/images/empresas12.jpg'\r\n    },\r\n    {\r\n        title: 'Consultas',\r\n        date: '03/Dez',\r\n        description:\r\n            'Consulte e gerencie dados de veículos, seguros e empresas',\r\n        link: '/consultas',\r\n        imageUrl: '/images/consultas2.jpg'\r\n    },\r\n]\r\n\r\nexport default function () {\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n            <div\r\n                style={{\r\n                    minHeight: '83vh',\r\n                    width: '100%',\r\n                    height: 'auto',\r\n                }}>\r\n                <main className=\"homeMainPost\">\r\n                    <h1>\r\n                        SisMob - MG\r\n                    </h1>\r\n                    <h2>\r\n                        Sistema de Gestão da Mobilidade do Estado de Minas Gerais\r\n                    </h2>\r\n                </main>\r\n                <Grid container spacing={4} className={classes.cardGrid}>\r\n                    {featuredPosts.map(post => (\r\n                        <Grid item key={post.title} xs={12} md={4}>\r\n                            <CardActionArea component=\"span\" >\r\n                                <Link to={post.link} style={{ textDecoration: 'none' }}>\r\n                                    <Card className={classes.card}>\r\n                                        <div className={classes.cardDetails}>\r\n                                            <CardContent>\r\n                                                <Typography component=\"h3\" variant=\"h6\">\r\n                                                    {post.title}\r\n                                                </Typography>\r\n                                                <br />\r\n                                                <Typography variant='body2' paragraph>\r\n                                                    {post.description}\r\n                                                </Typography>\r\n                                                <Typography variant='body2' color=\"primary\">\r\n\r\n                                                    Clique aqui para {post.title}\r\n\r\n                                                </Typography>\r\n                                            </CardContent>\r\n                                        </div>\r\n                                        <Hidden xsDown>\r\n                                            <CardMedia\r\n                                                className={classes.cardMedia}\r\n                                                component=\"img\"\r\n                                                src={post.imageUrl}\r\n                                                title={post.title}\r\n                                            />\r\n                                        </Hidden>\r\n                                    </Card>\r\n                                </Link>\r\n                            </CardActionArea>\r\n                        </Grid>\r\n                    ))}\r\n                </Grid>\r\n            </div >\r\n        </React.Fragment >\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './veiculos.css'\r\n\r\nconst menuCards = [\r\n    {\r\n        title: 'Cadastro de Veículos',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastrar um novo veículo no sistema.',\r\n        imageUrl: '/images/add_new.jpg',\r\n        link: '/cadastro'\r\n    },\r\n    {\r\n        title: 'Alteração de dados',\r\n        date: '07/Nov',\r\n        description:\r\n            'Alterar dados de um veículo',\r\n        link: '/altDados',\r\n        imageUrl: '/images/pen.png'\r\n    },\r\n    {\r\n        title: 'Seguros',\r\n        date: '07/Nov',\r\n        description:\r\n            'Atualizar seguros e apólices',\r\n        link: '/altSeguro',\r\n        imageUrl: \"/images/car_insurance2.png\"\r\n    },\r\n    {\r\n        title: 'Baixa',\r\n        date: '07/Nov',\r\n        description:\r\n            'Baixa de veículos',\r\n        link: '/baixaVeiculo',\r\n        imageUrl: \"/images/remove_doc.png\"\r\n    },\r\n    {\r\n        title: 'Configurações',\r\n        date: '07/Nov',\r\n        description:\r\n            'Chassi, carrocerias, seguradoras, etc',\r\n        link: '/Config',\r\n        imageUrl: \"/images/config2.jpg\"\r\n    }\r\n]\r\n\r\nexport default function VeiculosHome(props) {\r\n    const { match } = props\r\n    return (\r\n        <div>\r\n            <div className=\"jumbotron\">\r\n                <h1>\r\n                    Veículos\r\n                </h1>\r\n                <p>\r\n                    Selecione uma das opções abaixo.\r\n                </p>\r\n            </div>\r\n            <section className=\"cardSection\">\r\n                {\r\n                    menuCards.map(({ title, link, imageUrl, description }, i) =>\r\n                        <Link to={match.url + link} key={i} className=\"card\">                            \r\n                                <span className=\"cardImage\"> <img src={imageUrl} alt=\"tst\" /> </span>\r\n                                <div className=\"cardText\">\r\n                                    <h3 >{title}</h3>\r\n                                    <p > {description}</p>\r\n                                </div>                            \r\n                        </Link>\r\n                    )}\r\n            </section>\r\n        </div >\r\n    )\r\n}\r\n","import React from 'react'\r\nimport humps from 'humps'\r\n\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { getData, insertData, updateData, updateCollection, deleteOne } from './dataActions'\r\n\r\nimport Loading from '../Layouts/Loading'\r\nimport { configVehicleForm } from '../Forms/configVehicleForm'\r\n\r\nconst socketIO = require('socket.io-client')\r\nlet socket\r\n\r\nexport default function (requestArray, WrappedComponent) {\r\n\r\n    let collections = []\r\n    collections = requestArray.map(req => req.replace('getFiles/', '').replace('lookUpTable/', ''))\r\n\r\n    class With extends React.Component {\r\n\r\n        async componentDidMount() {\r\n            const { redux } = this.props\r\n            let request = []\r\n\r\n            requestArray.forEach(req => {\r\n                const colName = req.replace('getFiles/', '').replace('lookUpTable/', '')\r\n                if (!redux[colName] || !redux[colName][0]) {\r\n                    request.push(req)\r\n                }\r\n            })\r\n\r\n            if (request[0]) await this.props.getData(request)\r\n\r\n            if (!socket) socket = socketIO()\r\n            socket.on('insertVehicle', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'veiculos')\r\n            })\r\n            socket.on('insertInsurance', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'seguros')\r\n            })\r\n            socket.on('insertEmpresa', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'empresas')\r\n            })\r\n            socket.on('insertSocios', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'socios')\r\n            })\r\n            socket.on('insertProcuradores', insertedObjects => {\r\n                this.props.insertData(insertedObjects, 'procuradores')\r\n            })\r\n            socket.on('addElements', ({ insertedObjects, table }) => {\r\n                const { collection } = configVehicleForm.find(el => el.table === table)                \r\n                this.props.insertData(insertedObjects, collection)\r\n            })\r\n\r\n            socket.on('updateElements', ({ collection, updatedCollection }) => {                \r\n                this.props.updateCollection(updatedCollection, collection)\r\n            })\r\n\r\n            socket.on('updateVehicle', updatedObjects => {\r\n                this.props.updateData(updatedObjects, 'veiculos', 'veiculoId')\r\n            })\r\n            socket.on('updateInsurance', updatedObjects => {\r\n                this.props.updateCollection(updatedObjects, 'seguros')\r\n            })\r\n            socket.on('updateSocios', updatedObjects => {\r\n                this.props.updateCollection(updatedObjects, 'socios')\r\n            })\r\n\r\n            socket.on('deleteOne', object => {\r\n                const { id, tablePK, collection } = object\r\n                this.props.deleteOne(id, tablePK, collection)\r\n            })\r\n\r\n            socket.on('insertFiles', object => {\r\n                const { insertedObjects, collection } = object\r\n                console.log(object)\r\n                this.props.insertData(insertedObjects, collection)\r\n            })\r\n        }\r\n        componentWillUnmount() {\r\n            if (!socket) socket = socketIO(':3001')\r\n            const clearAll = ['insertVehicle', 'insertInsurance', 'insertEmpresa', 'insertSocios', 'insertFiles',\r\n                'insertProcuradores', 'updateVehicle', 'updateInsurance', 'updateSocios', 'deleteOne']\r\n\r\n            clearAll.forEach(el => socket.off(el))\r\n        }\r\n        render() {\r\n\r\n            collections = collections.map(c => humps.camelize(c))\r\n\r\n            if (collections.length === 0 || !collections.every(col => this.props.redux.hasOwnProperty(col))) {\r\n                return <Loading />\r\n            }\r\n            else {\r\n                return <WrappedComponent {...this.props} />\r\n            }\r\n        }\r\n    }\r\n\r\n    function mapStateToProps(state) {\r\n        return {\r\n            redux: {\r\n                ...state.data,\r\n            }\r\n        }\r\n    }\r\n\r\n    function mapDispatchToProps(dispatch) {\r\n        return bindActionCreators({ getData, insertData, updateData, updateCollection, deleteOne }, dispatch)\r\n    }\r\n\r\n    return connect(mapStateToProps, mapDispatchToProps)(With)\r\n}\r\n","import axios from 'axios'\r\nimport humps from 'humps'\r\nimport { batch } from 'react-redux'\r\n\r\nexport const getData = (collectionsArray = []) => {\r\n    return async (dispatch, getState) => {\r\n\r\n        let promiseArray = [], returnObj = {}\r\n        if (collectionsArray.length > 0) {\r\n            collectionsArray.forEach(collectionName => {\r\n                promiseArray.push(axios.get(`/api/${collectionName}`))\r\n            })\r\n\r\n            await Promise.all(promiseArray)\r\n                .then(res => res.map(r => humps.camelizeKeys(r.data)))\r\n                .then(responseArray => {\r\n                    responseArray.forEach((el, i) => {\r\n                        let key = collectionsArray[i]\r\n                            .replace('getFiles/', '')\r\n                            .replace('lookUpTable/', '')\r\n                        key = humps.camelize(key)                        \r\n                        Object.assign(returnObj, { [key]: el })\r\n                    })\r\n                })\r\n        }\r\n        dispatch({\r\n            type: 'GET_DATA',\r\n            payload: returnObj\r\n        })\r\n    }\r\n}\r\n\r\nexport const insertData = (dataFromServer, collection) => (dispatch, getState) => {\r\n    const\r\n        data = humps.camelizeKeys(dataFromServer),\r\n        payload = { collection, data },\r\n        seguradoras = getState().data.seguradoras\r\n\r\n    if (!seguradoras) {\r\n        console.log(payload)\r\n        dispatch({ type: 'INSERT_DATA', payload })\r\n        return\r\n    }\r\n\r\n    if (collection === 'seguros' && data[0].placas && data[0].placas.length === 1) {\r\n\r\n        const seguradora = seguradoras.find(sg => sg.id === data[0].seguradoraId)\r\n        let\r\n            seguro = data[0],\r\n            plates = [], vehicles = [],\r\n            veiculos = getState().data.veiculos,\r\n\r\n            updatedCollection = veiculos.map(v => {\r\n                if (v.apolice === seguro.apolice) {\r\n                    v.seguradora = seguradora.seguradora\r\n                    v.dataEmissao = seguro.dataEmissao\r\n                    v.vencimento = seguro.vencimento\r\n                }\r\n                return v\r\n            })\r\n\r\n        veiculos.forEach(v => {\r\n            if (v.apolice === seguro.apolice) {\r\n                plates.push(v.placa)\r\n                vehicles.push(v.veiculoId)\r\n            }\r\n        })\r\n        seguro.placas = plates\r\n        seguro.veiculos = vehicles\r\n        seguro = [seguro]\r\n\r\n        const collectionPayload = { data: updatedCollection, collection: 'veiculos' }\r\n        batch(() => {\r\n            dispatch({ type: 'INSERT_DATA', payload: { data: seguro, collection: 'seguros' } })\r\n            dispatch({ type: 'UPDATE_COLLECTION', payload: collectionPayload })\r\n        })\r\n    } else dispatch({ type: 'INSERT_DATA', payload })\r\n\r\n}\r\n\r\nexport const updateData = (dataFromServer, collection, id) => dispatch => {\r\n    const\r\n        data = humps.camelizeKeys(dataFromServer),\r\n        payload = { collection, data, id }\r\n    dispatch({ type: 'UPDATE_DATA', payload })\r\n}\r\n\r\nexport const updateCollection = (data, collection) => dispatch => {\r\n\r\n    data = humps.camelizeKeys(data)\r\n    const payload = { data, collection }\r\n    dispatch({\r\n        type: 'UPDATE_COLLECTION',\r\n        payload\r\n    })\r\n}\r\n\r\nexport const updateInsurance = ({ value, ids }) => (dispatch, getState) => {\r\n    const\r\n        apolice = value,\r\n        seguros = getState().data.seguros,\r\n        veiculos = getState().data.veiculos\r\n\r\n    if (!seguros || !veiculos) return\r\n\r\n    let seguro = seguros.find(s => s.apolice === apolice),\r\n        placas = seguro.placas || [], vehicleIDs = seguro.veiculos || []\r\n\r\n    veiculos.forEach(v => {\r\n        ids.forEach(id => {\r\n            if (v.veiculoId === id) {\r\n                placas.push(v.placa)\r\n                vehicleIDs.push(v.veiculoId)\r\n            }\r\n        })\r\n    })\r\n\r\n    seguro.placas = placas\r\n    seguro.veiculos = vehicleIDs\r\n    seguro = [seguro]\r\n    console.log(seguro)\r\n\r\n    const payload = { collection: 'seguros', data: seguro, id: 'apolice' }\r\n\r\n    dispatch({ type: 'UPDATE_DATA', payload })\r\n}\r\n\r\nexport const removeInsurance = (apolice, placaIndex, vehicleIndex) => dispatch => {\r\n\r\n    dispatch({\r\n        type: 'REMOVE_FROM_INSURANCE',\r\n        payload: { apolice, placaIndex, vehicleIndex }\r\n    })\r\n}\r\n\r\nexport const deleteOne = (id, tablePK, collection) => dispatch => {\r\n    tablePK = humps.camelize(tablePK)    \r\n    dispatch({\r\n        type: 'DELETE_ONE',\r\n        payload: { id, tablePK, collection }\r\n    })\r\n}","import React from 'react'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className='loading'>\r\n            <img src=\"/images/loading.gif\" alt=\"\" height=\"60px\" width=\"60px\" />\r\n            <p> Carregando... </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading","export const configVehicleForm = [\r\n\r\n    {\r\n        collection: 'equipamentos',\r\n        field: 'item',\r\n        label: 'Equipamentos',\r\n        name: 'equipamentosId',\r\n        table: 'equipamentos'\r\n    },\r\n    {\r\n        collection:'marcaCarroceria',\r\n        field: 'marca',\r\n        label: 'Marcas de Carroceria',\r\n        name:'marcaCarroceria',\r\n        table: 'marca_carroceria'\r\n    },\r\n    {\r\n        collection: 'carrocerias',\r\n        field: 'modelo',\r\n        label: 'Modelos de Carroceria',\r\n        name:'modeloCarroceria',\r\n        table: 'modelo_carroceria'\r\n    },\r\n    {\r\n        collection: 'marcaChassi',\r\n        field: 'marca',\r\n        label: 'Marcas de Chassi',\r\n        name: 'marcaChassi',\r\n        table: 'marca_chassi'\r\n    },\r\n    {\r\n        collection: 'modelosChassi',\r\n        field: 'modeloChassi',\r\n        label: 'Modelos de Chassi',\r\n        name: 'modeloChassi',\r\n        table: 'modelo_chassi'\r\n    },\r\n    {\r\n        collection: 'seguradoras',\r\n        field: 'seguradora',\r\n        label: 'Seguradoras',\r\n        name: 'seguradora',\r\n        table: 'seguradora'\r\n    }\r\n\r\n]","import moment from 'moment'\r\n\r\nexport const checkInputErrors = sendState => {\r\n\r\n    const p = document.querySelectorAll('p'),\r\n        inputs = document.querySelectorAll('input')\r\n\r\n    let label = [], errors = [],\r\n        errString = 'Favor verificar o preenchimento dos seguintes campos: '\r\n\r\n    if (p) {\r\n        p.forEach(el => {\r\n            if (el.textContent === 'Valor inválido' || el.textContent === '✘') {\r\n                const parent = el.parentNode\r\n                const l = parent.querySelectorAll('label')\r\n                label.push(l[0])\r\n            }\r\n        })\r\n    }\r\n    if (inputs) {\r\n        inputs.forEach(el => {\r\n            if (el.type === 'date') {\r\n                if (!moment(el.value, 'YYYY-MM-DD', true).isValid()) {\r\n                    const parent = el.parentNode\r\n                    const l = parent.previousSibling\r\n                    label.push(l)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    if (label[0]) {\r\n        label.forEach(l => errors.push(l.textContent))\r\n        errors.forEach(e => errString += e + ', ')\r\n        errString = errString\r\n            .replace('(kg)', '')\r\n            .replace('(cm)', '')\r\n            .slice(0, -2) + '.'\r\n\r\n        if (sendState) return { openAlertDialog: true, alertType: 'inputError', customMsg: errString }\r\n        return errors\r\n    } else return null\r\n}","import React from 'react'\r\n\r\nexport default function autoComplete({ collection, datalist, value }) {\r\n    \r\n    if (value.length > 2 && typeof collection !== 'string') {\r\n        return (\r\n            <datalist id={datalist}>\r\n                {\r\n                    collection.map((item, index) => {\r\n\r\n                        return (\r\n                            <option key={index}>{item[datalist]}</option>\r\n                        )\r\n                    })}\r\n            </datalist>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n","import React, { Fragment } from 'react'\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport AutoComplete from '../Utils/autoComplete'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',\r\n        marginBottom: '2px',\r\n\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    select: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',\r\n        marginBottom: '2px',\r\n        background: '#fafafa',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    helperText: {\r\n        margin: '2px 0',\r\n        fontSize: '0.7rem'\r\n    },\r\n}))\r\n\r\nexport default function TextInput({ handleInput, handleBlur, form, data }) {\r\n\r\n    const classes = useStyles(),\r\n        { helperText } = classes\r\n\r\n    const errorHandler = (el) => {\r\n        let value = data[el.field]\r\n\r\n        if (el.type === 'number') {\r\n            if (value > el.max || value < el.min) return true\r\n            else return false\r\n        }\r\n        if (value && typeof value !== 'string') value = value.toString()\r\n        if (el.pattern && value) return data[el.field].match(el.pattern) === null\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        let value = data[el.field]\r\n        if (value && typeof value !== 'string') value = value.toString()\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return ' '\r\n    }\r\n\r\n    return form.map((el, i) =>\r\n        <Fragment key={i}>\r\n            <TextField\r\n                name={el.field}\r\n                label={el.label}\r\n                margin={el.margin}\r\n                className={classes.textField}\r\n                onChange={handleInput}\r\n                onBlur={handleBlur}\r\n                type={el.type || ''}\r\n                error={errorHandler(el)}\r\n                helperText={helper(el)}\r\n                FormHelperTextProps={{ className: helperText }}\r\n                select={el.select || false}\r\n                value={data[el.field] || ''}\r\n                disabled={el.disabled || false}\r\n                InputLabelProps={{\r\n                    className: classes.textField,\r\n                    shrink: el.type === 'date' || undefined,\r\n                    style: { fontSize: '0.7rem', fontWeight: 400, color: '#888' }\r\n                }}\r\n                inputProps={{\r\n                    style: {\r\n                        background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                        fontSize: '0.9rem', textAlign: 'center', color: '#000', width: el.width || 300, height: '7px'\r\n                    },\r\n                    value: `${data[el.field] || ''}`,\r\n                    list: el.datalist || '',\r\n                    maxLength: el.maxLength || '',\r\n                    minLength: el.minLength || '',\r\n                    max: el.max || '',\r\n                }}\r\n\r\n                multiline={el.multiline || false}\r\n                rows={el.rows || null}\r\n                variant={el.variant || 'filled'}\r\n                fullWidth={el.fullWidth || false}\r\n                SelectProps={{\r\n                    style: {\r\n                        background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                        fontSize: '0.9rem', textAlign: 'center', color: '#555', fontWeight: 400,\r\n                        width: 325, height: '44px'\r\n                    }\r\n                }}\r\n            >\r\n\r\n                {el.select === true && el.options.map((opt, i) =>\r\n                    <MenuItem key={i} value={opt} >\r\n                        {opt}\r\n                    </MenuItem>\r\n                )}\r\n\r\n\r\n            </TextField>\r\n            {el.autoComplete === true && <AutoComplete\r\n                collection={data[el.collection]}\r\n                datalist={el.datalist}\r\n                value={data[el.field] || ''}\r\n            />\r\n            }\r\n        </Fragment>\r\n    )\r\n}","export const seguroForm = [\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',        \r\n        autoComplete: true,\r\n        datalist: 'seguradora',\r\n        collection: 'seguradoras'\r\n    },\r\n    {       \r\n        field: 'apolice',\r\n        label: 'Apólice',        \r\n        autoComplete: true,\r\n        datalist: 'apolice',\r\n        collection: 'seguros',\r\n        maxLength: 25\r\n    },    \r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emissão',        \r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',        \r\n    }]","import { vistoriaForm } from './vistoriaForm'\r\nimport { seguroForm } from './seguroForm'\r\n\r\nexport const cadForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    maxLength: 8,\r\n    pattern: '[a-zA-Z]{3}[-]?[ ]?\\\\d{4}|[A-Z]{3}[-]?[ ]?[0-9]{1}[A-Z]{1}[0-9]{2}'\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    maxLength: 11,\r\n    pattern: '\\\\d{11}'\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilização',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Convencional', 'Executivo', 'Leito', 'Semi-Leito', 'Urbano']\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Número do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    datalist: 'modeloChassi',\r\n    autoComplete: true,\r\n    collection: 'modelosChassi'\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    max: Number(new Date().getFullYear()),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{ \r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,    \r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    datalist: 'modelo',\r\n    autoComplete: true,\r\n    collection: 'carrocerias'\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    max: Number(new Date().getFullYear() + 1),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{    \r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,    \r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,    \r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situação da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veículo próprio', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n}\r\n]]\r\n    .concat([seguroForm])\r\n    .concat([vistoriaForm])\r\n    .concat([[]])\r\n    .concat([[]])","export const vistoriaForm = [\r\n    {\r\n        field: 'cilindros',\r\n        label: 'Cilindros',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12,\r\n        step: 1\r\n    },\r\n    {\r\n        field: 'potencia',\r\n        label: 'Potência (cv)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 600\r\n    },\r\n    {\r\n        field: 'eixos',\r\n        label: 'Eixos',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 8\r\n    },\r\n    {\r\n        field: 'pneumaticos',\r\n        label: 'Pneumáticos',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 20\r\n    },\r\n    {\r\n        field: 'peso_dianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12000\r\n    },\r\n    {\r\n        field: 'peso_traseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 15000\r\n    },\r\n    {\r\n        field: 'poltronas',\r\n        label: 'Poltronas',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 120\r\n    },\r\n    {\r\n        field: 'piques_poltrona',\r\n        label: 'Piques poltrona',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'distancia_minima',\r\n        label: 'Distância Mínima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',        \r\n        max: 150\r\n    },\r\n    {\r\n        field: 'distancia_maxima',\r\n        label: 'Distância Máxima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    }   \r\n]","import React from 'react'\r\n\r\nexport default function ClosePopUpButton({close}) {\r\n    return (\r\n        <div style={{\r\n            position: 'absolute',\r\n            top: '0.4%',\r\n            right: '0.4%'\r\n        }}>\r\n            <div>\r\n                <i className=\"material-icons right\" title=\"Fechar\" style={{ cursor: 'pointer', color: 'red' }} onClick={close}>close</i>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\n\r\nimport '../Layouts/popUp.css'\r\n\r\nexport default function AddEquipa({ data, equipamentos, handleCheck, close }) {\r\n\r\n    return <div className='popUpWindow' style={{ right: '33%', left: '33%' }}>\r\n        <h4 className = 'equipaHeader'>Equipamentos</h4> <hr />\r\n        <div className=\"checkListContainer\">\r\n            {\r\n                equipamentos.map((eq, i) =>\r\n                    <span className=\"checkListEquipa\" key={i}>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={data[eq.item]}\r\n                                    value={eq.item}\r\n                                    onChange={() => handleCheck(eq.item)} />\r\n                            }\r\n                            label={<p className=\"checkListLabel\">{eq.item}</p>}\r\n                        />\r\n                    </span>\r\n                )\r\n            }\r\n        </div>\r\n        <ClosePopUpButton close={close} />\r\n    </div>\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nimport TextInput from '../Reusable Components/TextInput'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { cadForm } from '../Forms/cadForm'\r\n\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport AddEquipa from './AddEquipa'\r\n\r\nimport './veiculos.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: '6px'\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 400,\r\n        fontSize: '0.9rem',\r\n        textAlign: 'center'\r\n    },\r\n    selectEmpresa: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        minWidth: 350,\r\n        fontColor: '#bbb',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport default function ({ empresas, equipamentos, data, handleInput, handleBlur,\r\n    handleEquipa, handleCheck }) {\r\n    const { razaoSocial, activeStep, addEquipa,\r\n        delegatarioCompartilhado, subtitle, selectedEmpresa } = data,\r\n\r\n        classes = useStyles(), { paper, container, title, selectEmpresa,\r\n            button, formHolder } = classes\r\n\r\n    const [shared, setShared] = useState(false)\r\n\r\n    const form = cadForm[activeStep]\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <Grid>\r\n                <Paper className={paper} style={{ padding: '0 2% 0 2%' }}>\r\n                    <Grid container justify=\"center\">\r\n                        {activeStep === 0 ?\r\n                            <Grid item xs={shared ? 4 : 12} style={{ marginBottom: '15px' }}>\r\n                                <Typography className={title}> Selecione a Viação</Typography>\r\n\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        list: 'razaoSocial',\r\n                                        name: 'razaoSocial',\r\n                                        style: { textAlign: 'center', fontSize: '0.8rem' }\r\n                                    }}\r\n                                    className={selectEmpresa}\r\n                                    value={razaoSocial}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={empresas}\r\n                                    datalist='razaoSocial'\r\n                                    value={razaoSocial}\r\n                                />\r\n                            </Grid>\r\n                            :\r\n                            <div className='formTitle'>Cadastro de Veículo - {razaoSocial}</div>\r\n                        }\r\n                        {\r\n                            activeStep === 0 && shared && <Grid item xs={4} style={{ marginLeft: '30px' }}>\r\n\r\n                                <Typography className={title}> Empresa autorizada a compartilhar</Typography>\r\n\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        list: 'razaoSocial',\r\n                                        name: 'delegatarioCompartilhado',\r\n                                        style: { textAlign: 'center', fontSize: '0.8rem' }\r\n                                    }}\r\n                                    className={selectEmpresa}\r\n                                    value={delegatarioCompartilhado}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={empresas}\r\n                                    datalist='razaoSocial'\r\n                                    value={delegatarioCompartilhado}\r\n                                />\r\n                            </Grid>\r\n                        }\r\n                    </Grid>\r\n\r\n                    {\r\n                        activeStep === 0 && <Grid item xs={12}>\r\n                            <FormControlLabel\r\n                                control={\r\n                                    <Checkbox\r\n                                        checked={shared === true}\r\n                                        onChange={() => setShared(!shared)}\r\n                                        value={shared}\r\n                                    />\r\n                                }\r\n                                label={\r\n                                    <Typography style={{ color: '#2979ff', fontSize: '0.7rem', float: 'right' }}>\r\n                                        Veículo Compartilhado?\r\n                                    </Typography>\r\n                                }\r\n                            />\r\n                        </Grid>\r\n                    }\r\n\r\n                </Paper>\r\n                {\r\n                    selectedEmpresa\r\n                        ?\r\n                        <Grid item xs={12}>\r\n                            {activeStep < 3 &&\r\n                                <Paper className={paper}>\r\n                                    <div className='formSubtitle'> {subtitle[activeStep]}</div>\r\n                                    <TextInput\r\n                                        form={form}\r\n                                        data={data}\r\n                                        handleBlur={handleBlur}\r\n                                        handleInput={handleInput}\r\n                                    />\r\n                                    {activeStep === 0 &&\r\n                                        <Grid container justify=\"center\">\r\n                                            <Button\r\n                                                variant=\"outlined\"\r\n                                                size=\"small\"\r\n                                                color=\"primary\"\r\n                                                className={button}\r\n                                                onClick={handleEquipa}\r\n                                            >\r\n                                                <AddIcon />\r\n                                                Equipamentos\r\n                                            </Button>\r\n                                        </Grid>}\r\n\r\n                                </Paper>}\r\n                            {\r\n                                addEquipa && <AddEquipa\r\n                                    equipamentos={equipamentos}\r\n                                    close={handleEquipa}\r\n                                    handleCheck={handleCheck}\r\n                                    data={data} />\r\n                            }\r\n                        </Grid>\r\n                        :\r\n                        <Grid container justify=\"center\">\r\n                            <div className={formHolder}></div>\r\n                        </Grid>\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","import React, { Fragment, useState, useEffect } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\n\r\nexport default function DragAndDrop({ title, name, formData, handleFiles, dropDisplay, single }) {\r\n\r\n    const [fileName, setFileName] = useState()\r\n\r\n    useEffect(() => {\r\n        if (formData && typeof formData === 'object') {\r\n            for (let pair of formData.entries()) {\r\n                if (name === pair[0]) {\r\n                    setFileName(pair[1].name)\r\n                }\r\n            }\r\n        }\r\n    }, [formData, name])\r\n\r\n    return (\r\n        <>\r\n            {title && <p className='fileInput'>{title}</p>}\r\n            <Dropzone onDrop={e => handleFiles(e, name)}>\r\n                {({ getRootProps, getInputProps }) => (\r\n                    <div className={fileName ? 'dropBox fileAttached' : single ? 'dropBox' : 'multipleDropBox'} {...getRootProps()}>\r\n                        <input {...getInputProps()} />\r\n                        {\r\n                            fileName ?\r\n                                <Fragment>\r\n                                    <div> <DescriptionOutlinedIcon className='icon' />  {fileName} </div>\r\n                                    {single &&                                        \r\n                                            <span>(clique ou arraste outro arquivo para alterar)</span>                                        \r\n                                    }\r\n                                </Fragment>\r\n                                :\r\n                                <div> <AttachFileIcon className='icon' />\r\n                                    <span>  {dropDisplay}</span>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                )}\r\n            </Dropzone>\r\n        </>\r\n    )\r\n}\r\n","export const cadVehicleFiles = [\r\n    { title: 'CRLV do Veículo', name: 'crlv' },\r\n    { title: 'Apólice do Seguro', name: 'apoliceDoc' },\r\n    { title: 'Declaração de Responsabilidade de Manutenção', name: 'declaracao' },\r\n    { title: 'Certificado de Vistoria', name: 'vistoria' },\r\n    { title: 'DAE Quitada', name: 'dae' },\r\n    { title: 'Laudo de Pesagem', name: 'pesagem' },\r\n    { title: 'Laudo de Vistoria INMETRO', name: 'inmetro' },    \r\n]","export const altDadosFiles = [\r\n    { title: 'Documento de Transferência', name: 'transferenciaDoc' },\r\n    { title: 'Declaração de Responsabilidade de Manutenção', name: 'declaracao' },\r\n    { title: 'Certificado de Vistoria', name: 'vistoria' },\r\n    { title: 'DAE Quitada', name: 'dae' },\r\n    { title: 'Laudo de Pesagem', name: 'pesagem' },\r\n    { title: 'CRLV com nova placa', name: 'newPlateDoc' },\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { altDadosFiles } from '../Forms/altDadosFiles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    root: {\r\n        flexGrow: '1',\r\n        margin: '5px',\r\n        padding: '8px',\r\n    },\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 14px 0',\r\n        height: 'auto',\r\n        minHeight: '350px'\r\n    },\r\n    sendButton: {\r\n        margin: '3% 0 3% 0',\r\n        backgroundColor: 'teal',\r\n        float: 'right'\r\n    },\r\n    text: {\r\n        textAlign: 'left',\r\n        margin: theme.spacing(2),\r\n        fontSize: '0.9rem',\r\n        fontWeight: '500',\r\n        color: '#333'\r\n    },\r\n    item: {\r\n        marginTop: '10px',\r\n        padding: '0 5px'\r\n    }\r\n}))\r\n\r\nexport default function VehicleDocs({ handleFiles, parentComponent, dropDisplay, formData, insuranceExists }) {\r\n    const { root, paper, item } = useStyles()\r\n\r\n    let filesForm\r\n    if (parentComponent === 'cadastro') filesForm = cadVehicleFiles\r\n    if (parentComponent === 'altDados') filesForm = altDadosFiles\r\n    \r\n    return (\r\n        <div >\r\n            <Paper className={paper}>\r\n                <div className=\"formSubtitle\"> Anexe os documentos solicitados nos campos abaixo </div>\r\n                <Grid container className={root}>\r\n                    {filesForm.map(({ title, name }, k) =>\r\n                        name === 'apoliceDoc' && insuranceExists ? null :\r\n                        <Fragment key={k}>\r\n                            <Grid item xs={10} md={4} className={item}>\r\n                                <DragAndDrop\r\n                                    title={title}\r\n                                    name={name}\r\n                                    formData={formData}\r\n                                    dropDisplay={dropDisplay}\r\n                                    handleFiles={handleFiles}\r\n                                />\r\n                            </Grid>\r\n                        </Fragment>\r\n                    )}\r\n                </Grid>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\n\r\nconst divContainer = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    alignContent: 'center',\r\n    flexWrap: 'wrap'\r\n}\r\n\r\nconst divFiles = {\r\n    textAlign: 'center',\r\n    alignItems: 'flex-start',\r\n    height: '40px',\r\n    border: '1px #ccc solid',\r\n    padding: '7px 8px 0 8px',\r\n    margin: '1% 1% 0.5% 1%',\r\n    fontSize: '0.8rem',\r\n    backgroundColor: '#f6f6f6',\r\n    borderRadius: '6px',\r\n\r\n}\r\n\r\nconst icon = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    paddingLeft: '2%'\r\n}\r\n\r\nconst fileIcon = {\r\n    verticalAlign: 'middle',\r\n    padding: '0 0% 0 2%',\r\n\r\n}\r\n\r\nexport default function ShowLocalFiles({ form, files }) {\r\n\r\n    /* let doc\r\n    if (files) doc = contratoSocial.get('contratoSocial') || new FormData() */\r\n\r\n    const createLink = (key, fileName) => {\r\n\r\n        const file = files.get(key)\r\n\r\n        const url = window.URL.createObjectURL(file);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n\r\n        if (file && (file.type === 'application/pdf' || file.type.match('image/'))) {\r\n            link.setAttribute('rel', \"noopener\")\r\n            link.setAttribute('target', \"_blank\")\r\n            link.setAttribute('title', fileName)\r\n        }\r\n        else link.setAttribute('download', fileName)\r\n        document.body.appendChild(link);\r\n        link.click();\r\n    }\r\n\r\n    let fileArray = []\r\n\r\n    if (files) for (let pair of files.entries()) {\r\n        form.forEach(({ name, title }) => {\r\n            if (name === pair[0]) {\r\n                if (pair[1] && pair[1].name)\r\n                    fileArray.push({ label: title, fieldName: name, fileName: pair[1].name })\r\n            }\r\n        })\r\n    }    \r\n    return <React.Fragment>\r\n        <div style={divContainer}>\r\n            {fileArray.map((f, i) =>\r\n                <div style={divFiles} key={i}>\r\n                    <InsertDriveFileOutlinedIcon style={fileIcon} />\r\n                    <span style={{ verticalAlign: 'middle', }}>\r\n                        {' '} {f.label}\r\n                    </span>\r\n                    <GetAppIcon style={icon}\r\n                        onClick={() => createLink(f.fieldName, f.fileName)} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    </React.Fragment >\r\n}","import React, { Fragment } from 'react'\r\n\r\nimport ShowLocalFiles from '../Utils/ShowLocalFiles'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 5px 0',\r\n        height: 'auto'\r\n    }\r\n}))\r\n\r\nexport default function Revisao({ data, parentComponent, form, filesForm, files }) {\r\n\r\n    const classes = useStyles(),\r\n        { paper } = classes\r\n\r\n    let vehicleDetails = [], obj = {}, newForm = [], filledForm = [], ultimateData\r\n    form.forEach(f => {\r\n        f.forEach(e => {\r\n            if (data.hasOwnProperty([e.field])) {\r\n                Object.assign(obj, { [e.field]: data[e.field] })\r\n                newForm.push(e)\r\n            }\r\n        })\r\n        vehicleDetails.push(obj)\r\n        filledForm.push(newForm)\r\n        obj = {}\r\n        newForm = []\r\n    })\r\n    if (parentComponent === 'cadastro') ultimateData = [\r\n        { subtitle: 'Detalhes do veículo', form: filledForm[0], data: vehicleDetails[0] },\r\n        { subtitle: 'Detalhes do seguro', form: filledForm[1], data: vehicleDetails[1] },\r\n        { subtitle: 'Informações sobre a vistoria', form: filledForm[2], data: vehicleDetails[2] },\r\n    ]\r\n\r\n    if (parentComponent === 'altDados') ultimateData = [\r\n        { subtitle: 'Detalhes do veículo', form: filledForm[0], data: vehicleDetails[0] },\r\n        { subtitle: 'Informações sobre a vistoria', form: filledForm[1], data: vehicleDetails[1] }\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <Paper className={paper}>\r\n                <div className='divTable'>\r\n                    {\r\n                        ultimateData.map(({ subtitle, form, data }, y) =>\r\n                            <Fragment key={y}>\r\n                                <table>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className='tHeader'\r\n                                                colSpan={form.length}>{subtitle}</th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            {form.map((s, i) => <th key={i}>{s.label}</th>)}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            {Object.values(data).map((d, j) =>\r\n                                                <td className='review' key={j}>\r\n                                                    {d}\r\n                                                </td>\r\n                                            )}\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n\r\n                            </Fragment>\r\n                        )}\r\n\r\n                </div>\r\n                <div style={{ margin: '30px 0 0 25px' }}>\r\n                    <h3> Equipamentos </h3>\r\n                    <p>\r\n                        {\r\n                            Array.isArray(data.equipamentosId) && data.equipamentosId &&\r\n                            data.equipamentosId.map((e, i) => <span\r\n                                style={{\r\n                                    fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana',\r\n                                    fontSize: '12px'\r\n                                }}\r\n                                key={i}>\r\n                                {i !== data.equipamentosId.length ? e + ', ' : e\r\n                                }\r\n                            </span>)\r\n                        }\r\n                    </p>\r\n                </div>\r\n\r\n\r\n                <h3 style={{ margin: '30px 0 0 25px' }}> <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} /> Documentos </h3>\r\n                {files && <ShowLocalFiles form={filesForm} files={files} />}\r\n            </Paper >\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nexport default function Crumbs({links, text}) {\r\n    return (\r\n        <Grid style={{ marginTop: '1%', paddingLeft: '1%' }}>\r\n            <Breadcrumbs separator=\"›\" aria-label=\"breadcrumb\" >\r\n                <Link\r\n                    to='/' style={{}}\r\n                >\r\n                    <HomeIcon style={{ verticalAlign: 'middle', marginRight: '5px', paddingBottom: '3px' }} />\r\n                    <span style={{ fontSize: '0.8rem', }}>\r\n                        Página inicial\r\n                    </span>\r\n\r\n                </Link>\r\n                <Link color=\"primary\" to={links[1]} style={{ fontSize: '0.8rem' }}>\r\n                    {links[0]}\r\n            </Link>\r\n                <span style={{ fontSize: '0.8rem' }} >{text}</span>\r\n            </Breadcrumbs>\r\n        </Grid>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Button } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    button: {\r\n        margin: theme.spacing(1),\r\n        float: 'right'\r\n    },\r\n    backButton: {\r\n        margin: theme.spacing(1),\r\n        float: 'left',\r\n        color: '#333',\r\n        backgroundColor: '#eee'\r\n    }\r\n}))\r\n\r\nexport default function StepperButtons({ activeStep, setActiveStep, lastStep, handleSubmit, disabled }) {\r\n    \r\n    const classes = useStyles(), { backButton, button } = classes\r\n    return (\r\n        <div>\r\n            <Button\r\n                variant=\"contained\"\r\n                className={backButton}\r\n                onClick={() => setActiveStep('back')}\r\n                disabled={activeStep === 0}\r\n            >\r\n                Voltar\r\n            </Button>\r\n            {activeStep < lastStep ?\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={button}\r\n                    onClick={() => setActiveStep('next')}\r\n                    disabled={disabled}\r\n                >\r\n                    Avançar\r\n                </Button>\r\n                :\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={button}\r\n                    onClick={() => handleSubmit()}\r\n                >\r\n                    Aprovar\r\n            </Button>}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        marginTop: '1%',\r\n    },\r\n    button: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        padding: '1% 0 0 3%',\r\n        fontWeight: 500\r\n    },\r\n}))\r\n\r\nexport default function CustomStepper({ activeStep, steps }) {\r\n\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Stepper activeStep={activeStep}>\r\n                {steps.map((label, index) => {\r\n                    const stepProps = {};\r\n                    const labelProps = {};\r\n                    return (\r\n                        <Step key={label} {...stepProps}>\r\n                            <StepLabel {...labelProps}>{label}</StepLabel>\r\n                        </Step>\r\n                    )\r\n                })}\r\n            </Stepper>\r\n        </div>\r\n    )\r\n}","import React, { Fragment } from 'react';\r\nimport clsx from 'clsx';\r\n//import { ErrorIcon, InfoIcon, Close, WarningIcon } from '@material-ui/icons/';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport { Snackbar, SnackbarContent, Icon } from '@material-ui/core';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles1 = makeStyles(theme => ({\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    icon: {\r\n        fontSize: 20,\r\n    },\r\n    iconVariant: {\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center'        \r\n    },\r\n}));\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles1();\r\n    const { className, message, onClose, variant, ...other } = props;\r\n\r\n\r\n    return (\r\n        <SnackbarContent\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <Fragment>\r\n                    <span id=\"client-snackbar\" className={classes.message}>\r\n                        <Icon>check</Icon>    {message}\r\n                    </span>\r\n                </Fragment>\r\n            }\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nexport default function CustomizedSnackbars(props) {\r\n    \r\n    return (\r\n        <div>\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                open={props.open}\r\n                autoHideDuration={2000}\r\n                onClose={props.close}\r\n            >\r\n                <MySnackbarContentWrapper\r\n                    variant=\"success\"\r\n                    message={props.msg}                    \r\n                />\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n}","export const formatMoney = (value = '') => {\r\n    let v = value.replace(/\\D/g, '');\r\n    v = (v / 100).toFixed(2) + '';\r\n    v = v.replace(\".\", \",\");\r\n    v = v.replace(/(\\d)(\\d{3})(\\d{3}),/g, \"$1.$2.$3,\");\r\n    v = v.replace(/(\\d)(\\d{3}),/g, \"$1.$2,\");\r\n    return v\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog({ open, alertType, close, confirm, customTitle = '', customMessage = '' }) {\r\n\r\n  const createAlert = type => {\r\n    let title, message\r\n    if (typeof type === 'object') {\r\n      title = 'Empresa já cadastrada'\r\n      message = `A empresa ${type.razaoSocial} já está cadastrada no sistema com o CNPJ ${type.cnpj}.`\r\n      return { title, message }\r\n    }\r\n\r\n    switch (type) {\r\n      case 'plateNotFound':\r\n        title = 'Placa não encontrada'\r\n        message = 'A placa informada não corresponde a nenhum veículo da frota da viação selecionada. Para cadastrar um novo veículo, selecione a opção Veículos => \"Cadastro de Veículo\" no menu acima.'\r\n        return { title, message }\r\n      case 'invalidPlate':\r\n        title = 'Placa inválida'\r\n        message = 'Certifique-se de que a placa informada é uma placa válida, com três letras seguidas de 4 números (ex: AAA-0000)'\r\n        return { title, message }\r\n      case 'plateExists':\r\n        title = 'Placa já cadastrada!'\r\n        message = 'A placa informada já está cadastrada. Para atualizar seguro, alterar dados ou solicitar baixa, utilize as opções acima. '\r\n        return { title, message }\r\n      case 'invalidModel':\r\n        title = 'Modelo não cadastrado.'\r\n        message = customMessage\r\n        return { title, message }\r\n      case 'inputError':\r\n        title = 'Preenchimento inválido.'\r\n        message = customMessage\r\n        return { title, message }\r\n      case 'fieldsMissing':\r\n        title = 'Favor preencher todos os campos.'\r\n        message = 'Os campos acima são de preenchimento obrigatório. Certifique-se de ter preenchido todos eles.'\r\n        return { title, message }\r\n      case 'invalidInsurance':\r\n        title = 'Favor verificar os dados do seguro.'\r\n        message = 'As informações referentes ao seguro do veículo são obrigatórias. Certifique-se de ter informado todas elas.'\r\n        return { title, message }\r\n      case 'filesNotFound':\r\n        const subject = 'Procuração'\r\n        title = 'Arquivos não encontrados'\r\n        message = `Não há nenhum arquivo anexado no sistema para a ${subject} selecionada. \r\n          Ao cadastrar ou atualizar a ${subject}, certifique-se de anexar o arquivo correspondente.`\r\n        return { title, message }\r\n\r\n      case 'empresaNotFound':\r\n        title = 'Empresa não encontrada.'\r\n        message = `A empresa informada não está registrada no sistema. Para cadastrar uma nova empresa, utilize a opção Empresas -> Cadastrar.`\r\n        return { title, message }\r\n      case 'seguradoraNotFound':\r\n        title = 'Seguradora não encontrada.'\r\n        message = `A seguradora informada não está registrada no sistema. Favor verificar o nome da seguradora.`\r\n        return { title, message }\r\n\r\n      case 'alreadyExists':\r\n        title = 'CPF já cadastrado.'\r\n        message = `O CPF informado corresponde a um sócio já cadastrado. \r\n          Para remover ou editar as informações dos sócios, utilize a respectiva opção abaixo.`\r\n        return { title, message }\r\n      case 'numberNotValid':\r\n        title = 'Número inválido.'\r\n        message = 'O número digitado não é válido.'\r\n        return { title, message }\r\n      case 'overShared':\r\n        title = 'Participação societária inválida.'\r\n        message = 'A participação societária informada excede a 100%.'\r\n        return { title, message }\r\n      case 'subShared':\r\n        title = 'Participação societária inválida.'\r\n        message = 'A participação societária informada não soma 100%. Favor informar todos os sócios com suas respectivas participações.'\r\n        return { title, message }\r\n      case 'veiculoPendente':\r\n        title = 'Pendências encontradas para este veículo.'\r\n        message = 'Verifique se há alguma aprovação pendente quanto ao cadastro, seguro, transferência ou alteração de dados do veículo.'\r\n        return { title, message }\r\n      case 'seguroVencido':\r\n        title = 'Pendências encontradas para o seguro deste veículo.'\r\n        message = 'Para regularizar o seguro deste veículo, acesse a opção Veículos=>Seguros no menu acima.'\r\n        return { title, message }\r\n      case 'contratoVencido':\r\n        title = 'Contrato expirado.'\r\n        message = 'O contrato de concessão com o delegatário selecionado está expirado.'\r\n        return { title, message }\r\n      default:\r\n        return { title: null, message: null }\r\n    }\r\n  }\r\n  const { title, message } = createAlert(alertType)\r\n\r\n  if (title && message) return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={close}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {message}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={close} color=\"primary\">\r\n            {confirm ? 'Cancelar' : 'Fechar'}\r\n          </Button>\r\n          {confirm && <Button onClick={close} color=\"primary\" autoFocus>\r\n            Confirmar\r\n          </Button>}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n  else return null\r\n}","import React, { PureComponent, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport moment from 'moment'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport CadVeiculoTemplate from './CadVeiculoTemplate'\r\nimport VehicleDocs from './VehicleDocs'\r\nimport Review from './VehicleReview'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport StepperButtons from '../Utils/StepperButtons'\r\nimport CustomStepper from '../Utils/Stepper'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport { formatMoney } from '../Utils/formatMoney'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { cadForm } from '../Forms/cadForm'\r\n\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass VeiculosContainer extends PureComponent {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        activeStep: 0,\r\n        steps: ['Dados do Veículo', 'Dados do seguro', 'Vistoria e laudos', 'Documentos', 'Revisão'],\r\n        subtitle: ['Informe os dados do Veículo', 'Informe os dados do Seguro',\r\n            'Preencha os campos abaixo conforme a vistoria realizada'],\r\n        razaoSocial: '',\r\n        frota: [],\r\n        delegatarioCompartilhado: '',\r\n        toastMsg: 'Veículo cadastrado!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        insuranceExists: false,\r\n        addEquipa: false,\r\n        openAlertDialog: false,\r\n        dropDisplay: 'Clique ou arraste para anexar'\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n        const { redux } = this.props,\r\n            { modelosChassi, carrocerias, seguradoras } = redux\r\n        let equipamentos = {}\r\n\r\n        if (redux && redux.equipamentos) {\r\n            redux.equipamentos.forEach(e => Object.assign(equipamentos, { [e.item]: false }))\r\n            const equipArray = Object.keys(equipamentos)\r\n            await this.setState({\r\n                modelosChassi, carrocerias, seguradoras, equipamentos: equipArray, ...equipamentos,\r\n                allInsurances: this.props.redux['seguros']\r\n            })\r\n        }\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n\r\n        if (this.state.activeStep === 0) {\r\n            const matchPlaca = this.state.frota.filter(v => v.placa === this.state.placa)[0]\r\n            if (matchPlaca) {\r\n                await this.setState({ placa: '' });\r\n                this.setState({ alertType: 'plateExists', openAlertDialog: true })\r\n                return null\r\n            }\r\n        }\r\n\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n\r\n        let array = []\r\n        const { equipamentos } = this.state\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n\r\n        if (prevActiveStep === 1) {\r\n            equipamentos.forEach(e => {\r\n                if (this.state[e] === true) {\r\n                    array.push(e)\r\n                }\r\n            })\r\n            if (array[0]) this.setState({ equipamentosId: array })\r\n            else this.setState({ equipamentosId: [] })\r\n        }\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { veiculos, empresas } = this.props.redux,\r\n            { allInsurances, apolice, seguradora, dataEmissao, vencimento } = this.state,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n\r\n                let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n                if (selectedEmpresa) {\r\n                    const { razaoSocial, delegatarioId } = selectedEmpresa\r\n                    await this.setState({ selectedEmpresa, razaoSocial, delegatarioId })\r\n                    if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                    const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n                    const filteredInsurances = allInsurances.filter(seguro => seguro.empresa === this.state.razaoSocial)\r\n\r\n                    this.setState({ frota, seguros: filteredInsurances })\r\n\r\n                } else this.setState({ selectedEmpresa: undefined, frota: [], placa: undefined, apolice: undefined })\r\n                break\r\n\r\n            case 'placa':\r\n                if (typeof value === 'string') {\r\n                    value = value.toLocaleUpperCase()\r\n                    await this.setState({ [name]: value })\r\n                }\r\n                break\r\n\r\n            case ('apolice' || 'seguradora'): {\r\n                const\r\n                    { seguros } = this.props.redux,\r\n                    { selectedEmpresa } = this.state,\r\n                    s = [...seguros.filter(se => se.delegatarioId === selectedEmpresa.delegatarioId)]\r\n\r\n                let insuranceExists,\r\n                    testApolice = { ...s.find(s => s[name] === value) },\r\n                    testSeguradora = { ...s.find(s => s[name] === value && s.apolice === this.state.apolice) }\r\n\r\n                if (name === 'apolice') insuranceExists = testApolice\r\n                if (name === 'seguradora') insuranceExists = testSeguradora\r\n\r\n                if (insuranceExists && insuranceExists.dataEmissao && insuranceExists.vencimento) {\r\n\r\n                    const dataEmissao = moment(insuranceExists.dataEmissao).format('YYYY-MM-DD'),\r\n                        vencimento = insuranceExists.vencimento.toString().slice(0, 10),\r\n                        seguradora = insuranceExists.seguradora\r\n                    await this.setState({ seguradora, dataEmissao, vencimento, insuranceExists })\r\n                    return\r\n                }\r\n                if (Object.keys(insuranceExists).length === 0) {\r\n                    let newInsurance = {}\r\n                    Object.assign(newInsurance,\r\n                        {\r\n                            empresa: selectedEmpresa.razaoSocial,\r\n                            delegatarioId: selectedEmpresa.delegatarioId,\r\n                            apolice, seguradora, dataEmissao, vencimento, placas: [], veiculos: []\r\n                        })\r\n                    await this.setState({ newInsurance, insuranceExists: false, dataEmissao: '', vencimento: '' })\r\n                }\r\n                break\r\n            }\r\n            case ('valorChassi'):                \r\n                this.setState({ [name]: formatMoney(value) })\r\n                break\r\n            case ('valorCarroceria'):                \r\n                this.setState({ [name]: formatMoney(value) })\r\n                break\r\n                \r\n            default: void 0\r\n        }\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId, alertLabel) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            this.setState({\r\n                alertType: 'invalidModel', openAlertDialog: true,\r\n                customMsg: `O modelo de ${alertLabel} não está cadastrado no sistema.`\r\n            })\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const\r\n            { empresas, seguros } = this.props.redux,\r\n            { frota, modelosChassi, carrocerias, seguradoras, allInsurances } = this.state,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n            case 'modeloChassi':\r\n                this.getId(name, value, modelosChassi, 'modeloChassiId', 'modeloChassi', 'id', 'chassi')\r\n                break;\r\n            case 'modeloCarroceria':\r\n                this.getId(name, value, carrocerias, 'modeloCarroceriaId', 'modelo', 'id', 'carroceria')\r\n                break;\r\n            case 'delegatarioCompartilhado':\r\n                this.getId(name, value, empresas, 'compartilhadoId', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            case 'seguradora':\r\n                await this.getId(name, value, seguradoras, 'seguradoraId', 'seguradora', 'id', 'Seguradora')\r\n                let filteredInsurances = []\r\n\r\n                if (this.state.delegatarioId && this.state.seguradora === '') {\r\n                    filteredInsurances = allInsurances.filter(s => s.delegatarioId === this.state.delegatarioId)\r\n                    this.setState({ seguros: filteredInsurances })\r\n                }\r\n                if (!this.state.delegatarioId && this.state.seguradora !== '') {\r\n                    filteredInsurances = allInsurances.filter(s => s.seguradora === this.state.seguradora)\r\n                    this.setState({ seguros: filteredInsurances })\r\n                }\r\n                if (this.state.delegatarioId && this.state.seguradora !== '') {\r\n                    filteredInsurances = allInsurances\r\n                        .filter(s => s.delegatarioId === this.state.delegatarioId)\r\n                        .filter(s => s.seguradora === this.state.seguradora)\r\n                    this.setState({ seguros: filteredInsurances })\r\n                }\r\n                break\r\n            case 'apolice':\r\n                const insuranceExists = seguros.find(s => s.apolice === value)\r\n                if (insuranceExists) this.setState({ insuranceExists })\r\n                break\r\n\r\n            default: void 0\r\n        }\r\n\r\n        if (name === 'placa' && typeof this.state.frota !== 'string') {\r\n\r\n            if (value.length === 7) {\r\n                const x = value.replace(/(\\w{3})/, '$1-')\r\n                await this.setState({ placa: x })\r\n                value = x\r\n            }\r\n            if (value.length === 8) {\r\n                const x = value.replace(' ', '-')\r\n                await this.setState({ placa: x })\r\n                value = x\r\n            }\r\n            const matchPlaca = frota.find(v => v.placa === value)\r\n            if (matchPlaca) {\r\n                await this.setState({ placa: null });\r\n                value = ''\r\n                this.setState({ alertType: 'plateExists', openAlertDialog: true })\r\n                document.getElementsByName('placa')[0].focus()\r\n            }\r\n        }\r\n    }\r\n\r\n    handleCadastro = async () => {\r\n        const { anoCarroceria, equipamentosId, peso_dianteiro, peso_traseiro,\r\n            poltronas, delegatarioId, compartilhadoId, seguros, modeloChassiId,\r\n            modeloCarroceriaId, seguradoraId } = this.state,\r\n            situacao = 'Ativo',\r\n            indicadorIdade = anoCarroceria\r\n\r\n        let pbt = Number(poltronas) * 93 + (Number(peso_dianteiro) + Number(peso_traseiro))\r\n        if (isNaN(pbt)) pbt = undefined\r\n\r\n        let review = {}\r\n\r\n        cadForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                for (let k in this.state) {\r\n                    if (k === obj.field) Object.assign(review, { [k]: this.state[k] })\r\n                }\r\n            })\r\n        })\r\n\r\n        let { dataEmissao, vencimento, delegatarioCompartilhado,\r\n            modeloChassi, modeloCarroceria, seguradora, ...vReview } = review,\r\n\r\n            seguro = { apolice: review.apolice, seguradoraId, delegatarioId }\r\n\r\n        const validEmissao = moment(dataEmissao, 'YYYY-MM-DD', true).isValid(),\r\n            validVenc = moment(vencimento, 'YYYY-MM-DD', true).isValid()\r\n\r\n        if (validEmissao) seguro.dataEmissao = dataEmissao\r\n        if (validVenc) seguro.vencimento = vencimento\r\n\r\n        Object.assign(vReview, {\r\n            delegatarioId, situacao, indicadorIdade, pbt, equipamentosId,\r\n            modeloChassiId, modeloCarroceriaId\r\n        })\r\n        vReview.delegatarioCompartilhado = compartilhadoId\r\n\r\n        Object.keys(vReview).forEach(key => {\r\n            if (vReview[key] === '') delete vReview[key]\r\n        })\r\n        Object.keys(seguro).forEach(key => {\r\n            if (seguro[key] === '') delete seguro[key]\r\n        })\r\n\r\n        const vehicle = humps.decamelizeKeys(vReview)\r\n        const insurance = humps.decamelizeKeys(seguro)\r\n\r\n        const insuranceExists = seguros.filter(s => s.apolice === insurance.apolice)\r\n\r\n        if (insuranceExists[0]) {\r\n            await axios.post('/api/cadastroVeiculo', vehicle)\r\n                .then(res => {\r\n                    const veiculoId = res.data\r\n                    this.submitFiles(veiculoId)\r\n                })\r\n                .catch(err => console.log(err))\r\n            this.resetState()\r\n            this.toast()\r\n\r\n        } else if (!insuranceExists[0] && insurance.apolice !== undefined\r\n            && insurance.apolice.length > 2 && insurance.seguradora_id !== undefined) {\r\n            let veiculoId\r\n            await axios.post('/api/cadastroVeiculo', vehicle)\r\n                .then(res => {\r\n                    console.log(res)\r\n                    veiculoId = res.data\r\n                    this.submitFiles(veiculoId)\r\n                })\r\n                .catch(err => console.log(err))\r\n            await axios.post('/api/cadSeguro', insurance)\r\n                .then((res) => console.log(res.data))\r\n\r\n            const body = {\r\n                table: 'veiculo',\r\n                column: 'apolice',\r\n                value: insurance.apolice,\r\n                tablePK: 'veiculo_id',\r\n                ids: [veiculoId]\r\n            }\r\n            await axios.put('/api/updateInsurances', body)\r\n                .then(res => console.log(res.data))\r\n\r\n\r\n\r\n            this.resetState()\r\n            this.toast()\r\n\r\n        } else {\r\n            this.setState({ alertType: 'invalidInsurance', openAlertDialog: true })\r\n        }\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files.length > 0) {\r\n            let\r\n                formData = new FormData(),\r\n                fn = this.state.fileNames\r\n\r\n            fn.push({ [name]: files[0].name })\r\n            await this.setState({ filesNames: fn, [name]: files[0] })\r\n\r\n            cadVehicleFiles.forEach(({ name }) => {\r\n                for (let keys in this.state) {\r\n                    if (keys.match(name)) {\r\n                        formData.append(name, this.state[name])\r\n                        if (!formData.get(keys)) formData.delete(keys)\r\n                    }\r\n                    else void 0\r\n                }\r\n            })\r\n            this.setState({ form: formData })\r\n        }\r\n    }\r\n\r\n    submitFiles = async veiculoId => {\r\n        const\r\n            { selectedEmpresa, apolice } = this.state,\r\n            { delegatarioId } = selectedEmpresa\r\n        let\r\n            newForm = new FormData(),\r\n            seguroForm = new FormData()\r\n\r\n        if (veiculoId && this.state.form) {\r\n            newForm.append('veiculoId', veiculoId);\r\n            for (let pair of this.state.form.entries()) {\r\n                if (pair[0] && pair[1]) {\r\n                    if (pair[0] === 'apoliceDoc') {\r\n                        seguroForm.append('fieldName', 'apoliceDoc')\r\n                        seguroForm.append('apolice', apolice)\r\n                        seguroForm.append('empresaId', delegatarioId)\r\n                        seguroForm.append(pair[0], pair[1])\r\n                    }\r\n                    else if (pair[1]) newForm.append(pair[0], pair[1])\r\n                }\r\n                else {\r\n                    newForm = null\r\n                    seguroForm = null\r\n                }\r\n            }\r\n        }\r\n        for (let pair of newForm.entries()) {\r\n            console.log(pair[0], pair[1])\r\n        }\r\n        if (newForm) await axios.post('/api/mongoUpload', newForm)\r\n            .then(res => console.log(res.data))\r\n            .catch(err => console.log(err))\r\n        if (seguroForm) await axios.post('/api/empresaUpload', seguroForm)\r\n            .then(res => console.log(res.data))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    showFiles = id => {\r\n\r\n        let selectedFiles = this.state.files.filter(f => f.metadata.veiculoId === id.toString())\r\n\r\n        if (selectedFiles[0]) {\r\n            this.setState({ filesCollection: selectedFiles, showFiles: true, selectedVehicle: id })\r\n\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n            this.setState({ filesCollection: [] })\r\n        }\r\n    }\r\n\r\n    resetState = () => {\r\n        const\r\n            resetState = {},\r\n            { equipamentos } = this.props.redux,\r\n            resetFiles = {},\r\n            resetEquip = {}\r\n\r\n        cadForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                Object.keys(obj).forEach(key => {\r\n                    if (key === 'field' && this.state[obj[key]]) Object.assign(resetState, { [obj[key]]: undefined })\r\n                })\r\n            })\r\n        })\r\n        cadVehicleFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: null })\r\n        })\r\n\r\n        equipamentos.forEach(e => Object.assign(resetEquip, { [e.item]: false }))\r\n\r\n        this.setState({\r\n            ...resetState,\r\n            ...resetFiles,\r\n            ...resetEquip,\r\n            activeStep: 0,\r\n            razaoSocial: '',\r\n            selectedEmpresa: undefined,\r\n            frota: [],\r\n            delegatarioCompartilhado: '',\r\n            files: [],\r\n            fileNames: [],\r\n            insuranceExists: false,\r\n            form: new FormData()\r\n        })\r\n    }\r\n\r\n    handleCheck = item => this.setState({ ...this.state, [item]: !this.state[item] })\r\n    handleEquipa = () => this.setState({ addEquipa: !this.state.addEquipa })\r\n    toggleDialog = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const\r\n            { confirmToast, toastMsg, activeStep, openAlertDialog, alertType, steps,\r\n                selectedEmpresa, placa, dropDisplay, form, insuranceExists } = this.state,\r\n            { empresas, equipamentos } = this.props.redux\r\n\r\n        return <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Cadastro de veículo' />\r\n\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <CadVeiculoTemplate\r\n                data={this.state}\r\n                empresas={empresas}\r\n                equipamentos={equipamentos}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                handleEquipa={this.handleEquipa}\r\n                handleCheck={this.handleCheck}\r\n                match={this.props.match}\r\n            />\r\n            {activeStep === 3 && <VehicleDocs\r\n                parentComponent='cadastro'\r\n                handleFiles={this.handleFiles}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n                insuranceExists={insuranceExists}\r\n            />}\r\n\r\n            {activeStep === 4 && <Review\r\n                parentComponent='cadastro' files={this.state.form}\r\n                filesForm={cadVehicleFiles} data={this.state}\r\n                form={cadForm}\r\n            />}\r\n\r\n            {selectedEmpresa && <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleCadastro}\r\n                setActiveStep={this.setActiveStep}\r\n                disabled={(typeof placa !== 'string' || placa === '')}\r\n            />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.toggleDialog} alertType={alertType} customMessage={this.state.customMsg} />}\r\n        </Fragment>\r\n    }\r\n}\r\nconst collections = ['veiculos', 'empresas', 'modelosChassi', 'carrocerias',\r\n    'seguradoras', 'seguros', 'equipamentos']\r\n\r\nexport default StoreHOC(collections, VeiculosContainer)","import { altFormVistoria } from './altFormVistoria'\r\n\r\nexport const altForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    datalist: 'placa',\r\n    autoComplete: true,\r\n    collection: 'frota',\r\n},\r\n{\r\n    field: 'delegatario',\r\n    label: 'Delegatário',\r\n    margin: 'normal',\r\n    datalist: 'razaoSocial',\r\n    autoComplete: true,\r\n    collection: 'empresas'\r\n},\r\n{\r\n    field: 'compartilhado',\r\n    label: 'Delegatário Compartilhado',\r\n    margin: 'normal',\r\n    datalist: 'razaoSocial',\r\n    autoComplete: true,\r\n    collection: 'empresas'\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilização',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Convencional', 'Executivo', 'Leito', 'Semi-Leito', 'Urbano']\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situação da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veículo próprio', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Número do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17,\r\n    disabled: true\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    disabled: true\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    disabled: true\r\n},\r\n\r\n]]\r\n    .concat([altFormVistoria])\r\n    .concat([[]])\r\n    .concat([[]])","export const altFormVistoria = [\r\n  \r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12000\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 15000\r\n    },\r\n    {\r\n        field: 'poltronas',\r\n        label: 'Poltronas',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 120\r\n    },\r\n    {\r\n        field: 'piquesPoltrona',\r\n        label: 'Piques poltrona',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'distanciaMinima',\r\n        label: 'Distância Mínima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',        \r\n        max: 150\r\n    },\r\n    {\r\n        field: 'distanciaMaxima',\r\n        label: 'Distância Máxima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    }         \r\n]","import React from 'react'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AutoComplete from '../Utils/autoComplete'\r\n\r\nimport './commonStyles.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1),\r\n        minWidth: '700px'\r\n    }\r\n}));\r\n\r\nexport default function SelectEmpresa(props) {\r\n\r\n    const\r\n        { empresas, handleInput, handleBlur } = props,\r\n        { razaoSocial } = props.data,\r\n        classes = useStyles(), { paper } = classes\r\n\r\n    return (\r\n        <div className='selectEmpresa'>\r\n            <Paper className={paper} style={{ padding: '0 2% 0 2%' }}>\r\n                <div className='item'>\r\n                    <h3>  Selecione a Viação </h3>\r\n                    <input\r\n                        list='razaoSocial'\r\n                        name='razaoSocial'\r\n                        className='selectEmpresa'\r\n                        value={razaoSocial}\r\n                        onChange={handleInput}\r\n                        onBlur={handleBlur}\r\n                    />\r\n                    <AutoComplete\r\n                        style={{ textAlign: 'center', width: '500px' }}\r\n                        collection={empresas}\r\n                        datalist='razaoSocial'\r\n                        value={razaoSocial}\r\n                    />\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Fragment } from 'react'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AddEquipa from './AddEquipa'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { altForm } from '../Forms/altForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1)\r\n    },\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 300,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, data, handleCheck, handleEquipa,\r\n    altPlacaOption, showAltPlaca, empresas, equipamentos }) {\r\n    const { activeStep, subtitle, placa, justificativa, selectedEmpresa, addEquipa } = data,\r\n        classes = useStyles(), { paper, container } = classes\r\n\r\n    let form = altForm[activeStep]\r\n\r\n    return (\r\n        <Fragment>\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                className={container}\r\n                justify=\"center\"\r\n            >\r\n                {activeStep === 0 &&\r\n                    <SelectEmpresa\r\n                        data={data}\r\n                        empresas={empresas}\r\n                        handleInput={handleInput}\r\n                        handleBlur={handleBlur}\r\n                    />\r\n                }\r\n                {\r\n                    selectedEmpresa ?\r\n                        <Grid item xs={12}>\r\n                            {activeStep < 3 &&\r\n                                <Paper className={paper}>\r\n                                    <h3 className='formSubtitle'> {subtitle[activeStep] + (placa && activeStep !== 0 ? ' - placa ' + placa : '')}</h3>\r\n\r\n                                    <TextInput\r\n                                        form={form}\r\n                                        data={data}\r\n                                        handleBlur={handleBlur}\r\n                                        handleInput={handleInput}\r\n                                    />\r\n                                </Paper>}\r\n\r\n                            {activeStep === 0 &&\r\n                                <Grid container justify=\"center\">\r\n                                    <Button\r\n                                        variant=\"outlined\"\r\n                                        size=\"small\"\r\n                                        color=\"primary\"\r\n                                        className={classes.button}\r\n                                        onClick={handleEquipa}\r\n                                    >\r\n                                        <AddIcon />\r\n                                        Equipamentos\r\n                                        </Button>\r\n                                </Grid>}\r\n\r\n                            {altPlacaOption && placa.match('[a-zA-Z]{3}[-]?\\\\d{4}') &&\r\n                                <div className='addNewDiv'>\r\n                                    <span onClick={() => showAltPlaca()}> → Clique aqui para alterar a placa para o formato Mercosul.</span>\r\n                                </div>\r\n                            }\r\n                            {\r\n                                addEquipa && <AddEquipa\r\n                                    equipamentos={equipamentos}\r\n                                    close={handleEquipa}\r\n                                    handleCheck={handleCheck}\r\n                                    data={data} />\r\n\r\n                            }\r\n                        </Grid>\r\n                        :\r\n                        <Grid container justify=\"center\">\r\n                            <div className={classes.formHolder}></div>\r\n                        </Grid>\r\n                }\r\n            </Grid>\r\n            {activeStep === 1 && <Grid\r\n                container\r\n                direction=\"row\"\r\n                justify=\"center\"\r\n                alignItems=\"center\">\r\n                <Grid>\r\n                    <TextField\r\n                        name='justificativa'\r\n                        value={justificativa}\r\n                        label='Justificativa'\r\n                        type='text'\r\n                        onChange={handleInput}\r\n                        InputLabelProps={{ shrink: true, style: { fontWeight: 600, marginBottom: '5%' } }}\r\n                        inputProps={{ style: { paddingBottom: '2%', width: '900px' } }}\r\n                        multiline\r\n                        rows={4}\r\n                        variant='outlined'\r\n                    />\r\n                </Grid>\r\n            </Grid>}\r\n        </Fragment>\r\n    )\r\n}   ","import React from 'react';\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog({ open, close, handleInput, handleFiles,\r\n  updatePlate, newPlate, formData, dropDisplay }) {\r\n\r\n  const errorHandler = nPlate => {\r\n\r\n    if (nPlate.length < 9 && nPlate.match('[a-zA-Z]{3}?[-]\\\\d{1}\\\\w{1}\\\\d{2}')) return false\r\n    else return true\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={open} onClose={close} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Alterar Placa</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Para alterar a placa do veículo para o padrãop Mercosul, digite a placa no campo abaixo e anexe o CRLV atualizado do veículo.\r\n              </DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            name='newPlate'\r\n            label=\"Nova placa\"\r\n            type=\"text\"\r\n            onChange={handleInput}\r\n            value={newPlate}\r\n            error={errorHandler(newPlate)}\r\n            fullWidth\r\n          />\r\n          <br /><br /><br />\r\n          <DragAndDrop\r\n            title='Nova placa'\r\n            name='newPlateDoc'\r\n            formData={formData}\r\n            dropDisplay={dropDisplay}\r\n            handleFiles={handleFiles}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={close} color=\"primary\">\r\n            Cancelar\r\n              </Button>\r\n          <Button onClick={updatePlate} color=\"primary\" disabled={errorHandler(newPlate)}>\r\n            Confirmar\r\n              </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport ReactToast from '../Utils/ReactToast'\r\nimport { altDadosFiles } from '../Forms/altDadosFiles'\r\nimport { altForm } from '../Forms/altForm'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport CustomStepper from '../Utils/Stepper'\r\n\r\nimport AltDadosTemplate from './AltDadosTemplate'\r\nimport VehicleDocs from './VehicleDocs'\r\nimport Review from './VehicleReview'\r\nimport StepperButtons from '../Utils/StepperButtons'\r\n\r\nimport FormDialog from '../Utils/FormDialog'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass AltDados extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        stepTitles: ['Informe a placa para alterar os dados abaixo ou mantenha as informações atuais e clique em avançar',\r\n            'Altere os dados desejados abaixo e clique em avançar', 'Anexe os documentos solicitados',\r\n            'Revisão das informações e deferimento'],\r\n        steps: ['Alterar dados do Veículo', 'Alterar dados adicionais', 'Documentos', 'Revisão'],\r\n\r\n        subtitle: ['Dados do Veículo', 'Informações adicionais',\r\n            'Anexe os arquivos solicitados', 'Revisão'],\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        delegatarioCompartilhado: '',\r\n        frota: [],\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        activeStep: 0,\r\n        files: [],\r\n        fileNames: [],\r\n        openAlertDialog: false,\r\n        altPlaca: false,\r\n        newPlate: '',\r\n        placa: '',\r\n        addEquipa: false,\r\n        dropDisplay: 'Clique ou arraste para anexar'\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { redux } = this.props\r\n        let equipamentos = {}\r\n\r\n        if (redux && redux.equipamentos) {\r\n            redux.equipamentos.forEach(e => Object.assign(equipamentos, { [e.item]: false }))\r\n            const equipArray = Object.keys(equipamentos)\r\n            await this.setState({ equipamentos: equipArray, ...equipamentos })\r\n        }\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const { veiculos, empresas } = this.props.redux,\r\n            { name, value } = e.target\r\n\r\n\r\n        if (name === 'razaoSocial') {\r\n            let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n\r\n                this.setState({ frota })\r\n\r\n            } else {\r\n                this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                this.reset()\r\n            }\r\n        }\r\n\r\n        if (name === 'placa' && this.state.frota) {\r\n            const vehicle = this.state.frota.find(v => v.placa === value)\r\n            if (!vehicle) this.state.equipamentos.forEach(e => this.setState({ [e]: false }))\r\n        }\r\n\r\n        if (name === 'newPlate') {\r\n            let newPlate = value\r\n            if (typeof newPlate === 'string') {\r\n                newPlate = newPlate.replace(/[a-z]/g, l => l.toUpperCase())\r\n                if (newPlate.match('[A-Z]{3}[0-9]{1}[A-Z]{1}[0-9]{2}')) newPlate = newPlate.replace(/(\\w{3})/, '$1-')\r\n                this.setState({ ...this.state, newPlate })\r\n            }\r\n        } else this.setState({ [name]: value })\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            this.setState({ openAlertDialog: true, alertType: 'empresaNotFound' })\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    capitalize = (field, value) => {\r\n        if (!value || typeof value !== 'string') return\r\n        if (field === 'utilizacao') {\r\n            if (value === 'RODOVIARIO') value = 'CONVENCIONAL'\r\n            if (value === 'SEMI LEITO - EXECUTIVO') value = 'Semi-Leito'\r\n            if (value !== 'Semi-Leito') value = value.charAt(0) + value.slice(1).toLowerCase()\r\n        }\r\n        if (field === 'dominio' && value === 'Sim') value = 'Veículo próprio'\r\n        if (field === 'dominio' && value === 'Não') value = 'Possuidor'\r\n\r\n        return value\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const\r\n            { empresas } = this.props.redux,\r\n            { frota, equipamentos } = this.state,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target,\r\n            vEquip = []\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n\r\n            case 'compartilhado':\r\n                this.getId(name, value, empresas, 'delegatarioCompartilhado', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            case 'delegatario':\r\n                await this.getId(name, value, empresas, 'delegatarioId', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            default:\r\n                void 0\r\n        }\r\n        if (name === 'placa' && value.length > 2 && Array.isArray(this.state.frota)) {\r\n\r\n            let vehicle = this.state.frota.find(v => {\r\n                if (typeof value === 'string') return v.placa.toLowerCase().match(value.toLowerCase())\r\n                else return v.placa.match(value)\r\n            })\r\n\r\n            if (vehicle && vehicle.equipamentosId) {\r\n                const currentEquipa = vehicle.equipamentosId\r\n                equipamentos.forEach(e => {\r\n                    if (currentEquipa.toLowerCase().match(e.toLowerCase())) vEquip.push(e)\r\n                })\r\n                vEquip.forEach(ve => this.setState({ [ve]: true }))\r\n            }\r\n\r\n\r\n\r\n            if (vehicle && vehicle.utilizacao) {\r\n                vehicle.utilizacao = this.capitalize('utilizacao', vehicle.utilizacao)\r\n            }\r\n\r\n            if (vehicle && vehicle.dominio) {\r\n                vehicle.dominio = this.capitalize('dominio', vehicle.dominio)\r\n            }\r\n\r\n            await this.setState({ ...vehicle, equipamentosId: vEquip, disable: true })\r\n\r\n            if (vehicle !== undefined && vehicle.hasOwnProperty('empresa')) this.setState({ delegatario: vehicle.empresa })\r\n\r\n            let reset = {}\r\n            if (frota[0]) Object.keys(frota[0]).forEach(k => reset[k] = '')\r\n            if (this.state.placa !== '' && !vehicle) {\r\n                this.setState({ alertType: 'plateNotFound', openAlertDialog: true })\r\n                this.setState({ ...reset, disable: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    showAltPlaca = () => {\r\n        const title = 'Alteração de placa',\r\n            message = 'Para alterar a placa para o novo padrão Mercosul, informe a nova placa no campo abaixo.'\r\n        this.setState({ altPlaca: true, title, message })\r\n    }\r\n\r\n    updatePlate = () => {\r\n        this.setState({ placa: this.state.newPlate })\r\n        this.toggleDialog()\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n        const { poltronas, pesoDianteiro, pesoTraseiro, delegatarioId,\r\n            delegatarioCompartilhado, equipamentosId, newPlate, selectedEmpresa } = this.state\r\n\r\n        let tempObj = {}\r\n\r\n        altForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                for (let k in this.state) {\r\n                    if (k === obj.field && !obj.disabled) {\r\n                        if (this.state[k]) Object.assign(tempObj, { [k]: this.state[k] })\r\n                    }\r\n                }\r\n            })\r\n        })\r\n\r\n        let pbt = Number(poltronas) * 93 + (Number(pesoDianteiro) + Number(pesoTraseiro))\r\n        if (isNaN(pbt)) pbt = undefined\r\n\r\n        tempObj = Object.assign(\r\n            tempObj, { delegatarioId, delegatarioCompartilhado, pbt, equipamentosId })\r\n\r\n        tempObj = humps.decamelizeKeys(tempObj)\r\n\r\n        Object.keys(tempObj).forEach(key => {\r\n            if (tempObj[key] === '' || tempObj[key] === 'null' || !tempObj[key]) delete tempObj[key]\r\n        })\r\n\r\n        const { placa, delegatario, compartilhado, ...requestObject } = tempObj\r\n\r\n        if (newPlate && newPlate !== '') requestObject.placa = newPlate\r\n        if (selectedEmpresa.delegatarioId !== delegatarioId) requestObject.apolice = 'Seguro não cadastrado'\r\n\r\n        const table = 'veiculo',\r\n            tablePK = 'veiculo_id'\r\n\r\n        await axios.put('/api/updateVehicle', { requestObject, table, tablePK, id: this.state.veiculoId })\r\n        await this.submitFiles()\r\n        this.setState({ activeStep: 0, razaoSocial: '', selectedEmpresa: undefined })\r\n        this.reset()\r\n        this.setState({})\r\n        this.toast()\r\n\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n\r\n            let formData = new FormData()\r\n            formData.append('veiculoId', this.state.veiculoId)\r\n\r\n            let fn = this.state.fileNames\r\n\r\n            if (files && files.length > 0) {\r\n\r\n                fn.push({ [name]: files[0].name })\r\n                await this.setState({ filesNames: fn, [name]: files[0] })\r\n\r\n                altDadosFiles.forEach(({ name }) => {\r\n                    for (let keys in this.state) {\r\n                        if (keys.match(name)) {\r\n                            formData.append(name, this.state[name])\r\n                        }\r\n                        else void 0\r\n                    }\r\n                })\r\n                this.setState({ form: formData })\r\n            }\r\n        }\r\n    }\r\n\r\n    submitFiles = () => {\r\n        const { form } = this.state\r\n\r\n        axios.post('/api/mongoUpload', form)\r\n            .then(res => console.log('uploaded'))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    handleCheck = async item => {\r\n        const { equipamentos } = this.state\r\n        let array = []\r\n        await this.setState({ ...this.state, [item]: !this.state[item] })\r\n\r\n        equipamentos.forEach(e => {\r\n            if (this.state[e] === true) {\r\n                array.push(e)\r\n            }\r\n        })\r\n        if (array[0]) this.setState({ equipamentosId: array })\r\n        else this.setState({ equipamentosId: [] })\r\n    }\r\n\r\n    handleEquipa = () => this.setState({ addEquipa: !this.state.addEquipa })\r\n    toggleDialog = () => this.setState({ altPlaca: !this.state.altPlaca })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    reset = () => {\r\n\r\n        let resetFiles = {}\r\n\r\n        altForm.forEach(form => form.forEach(el => this.setState({ [el.field]: '' })))\r\n        altDadosFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: undefined })\r\n        })\r\n        this.setState({ ...resetFiles, form: undefined })\r\n    }\r\n\r\n    render() {\r\n        const\r\n            { confirmToast, toastMsg, stepTitles, activeStep, steps, altPlaca,\r\n                selectedEmpresa, openAlertDialog, alertType, dropDisplay, form } = this.state,\r\n            { empresas, equipamentos } = this.props.redux\r\n\r\n        return <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Alteração de dados' />\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                stepTitles={stepTitles}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            {activeStep < 2 && <AltDadosTemplate\r\n                data={this.state}\r\n                empresas={empresas}\r\n                equipamentos={equipamentos}\r\n                setActiveStep={this.setActiveStep}\r\n                altPlacaOption={activeStep === 0}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                showAltPlaca={this.showAltPlaca}\r\n                handleEquipa={this.handleEquipa}\r\n                handleCheck={this.handleCheck}\r\n            />}\r\n            {activeStep === 2 && <VehicleDocs\r\n                parentComponent='altDados'\r\n                handleFiles={this.handleFiles}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n            />}\r\n            {activeStep === 3 && <Review\r\n                parentComponent='altDados' files={this.state.form}\r\n                filesForm={altDadosFiles} data={this.state}\r\n                form={altForm}\r\n            />}\r\n\r\n            {selectedEmpresa && <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleSubmit}\r\n                setActiveStep={this.setActiveStep}\r\n            />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            <FormDialog\r\n                open={altPlaca}\r\n                close={this.toggleDialog}\r\n                newPlate={this.state.newPlate}\r\n                handleInput={this.handleInput}\r\n                handleFiles={this.handleFiles}\r\n                updatePlate={this.updatePlate}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n            />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'equipamentos'];\r\n\r\nexport default StoreHOC(collections, AltDados)","export const seguroForm = [\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',        \r\n        autoComplete: true,\r\n        datalist: 'seguradora',\r\n        collection: 'seguradoras',\r\n        maxLength: 80\r\n    },\r\n    {       \r\n        field: 'apolice',\r\n        label: 'Apólice',        \r\n        autoComplete: true,\r\n        datalist: 'apolice',\r\n        collection: 'seguros',\r\n        maxLength: 25\r\n    },    \r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emissão'        \r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento'        \r\n    }]","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Chip from '@material-ui/core/Chip'\r\n\r\nimport Add from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Search from '@material-ui/icons/Search'\r\n\r\nimport { seguroForm } from '../Forms/altSegForm'\r\nimport './veiculos.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 400,\r\n        fontSize: '0.9rem',\r\n        textAlign: 'center',\r\n        marginBottom: '20px'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 300,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n    }\r\n}))\r\n\r\nexport default function AltSeguro({ empresas, data, enableAddPlaca, handleInput, handleBlur,\r\n    addPlate, removeFromInsurance, handleFiles, handleSubmit, enableChangeApolice, showAllPlates }) {\r\n\r\n    const { selectedEmpresa, placa, apolice, addedPlaca, frota, insuranceExists,\r\n        insurance, dropDisplay, seguroFile } = data\r\n\r\n    const classes = useStyles(), { paper, textField, chip } = classes\r\n\r\n    let placas = []\r\n\r\n    if (insurance && insurance.placas) {\r\n        if (insurance.placas[0] && insurance.placas[0] !== null) placas = insurance.placas.sort()\r\n        if (placa !== undefined && placa.length > 2 && placas[0]) {\r\n            if (typeof placa === 'string') placas = insurance.placas.filter(p => p.toLowerCase().match(placa.toLowerCase())).sort()\r\n            else placas = insurance.placas.filter(p => p.match(placa)).sort()\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <Fragment>\r\n            <div style={{ width: '100%', display: 'flex', flexDirection: 'column' }}>\r\n                <Crumbs links={['Veículos', '/veiculos']} text='Seguros' />\r\n                <SelectEmpresa\r\n                    data={data}\r\n                    empresas={empresas}\r\n                    handleInput={handleInput}\r\n                    handleBlur={handleBlur}\r\n                />\r\n                {selectedEmpresa &&\r\n                    <Paper className={paper}>\r\n                        <h3 className='formSubtitle'>Informe os dados do seguro.</h3>\r\n                        <TextInput\r\n                            form={seguroForm}\r\n                            data={data}\r\n                            handleBlur={handleBlur}\r\n                            handleInput={handleInput}\r\n                        />\r\n                        {insuranceExists &&\r\n                            <div className='addNewDiv'>\r\n                                <span onClick={() => enableChangeApolice()}> → Clique aqui para alterar o número da apólice mantendo as placas.</span>\r\n                            </div>\r\n                        }\r\n                    </Paper>\r\n                }\r\n                {selectedEmpresa && insurance && (insurance.placas || enableAddPlaca) &&\r\n                    <Paper className={paper}>\r\n                        <p>Utilize as opções abaixo para filtrar, adicionar ou excluir placas desta apólice</p>\r\n                        <section className='addSeguro'>\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        name: 'addedPlaca',\r\n                                        list: 'placa'\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        style: { fontSize: '0.8rem' }\r\n                                    }}\r\n                                    label='Insira a placa'\r\n                                    className={textField}\r\n                                    value={addedPlaca}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={frota}\r\n                                    datalist='placa'\r\n                                    value={addedPlaca}\r\n                                />\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    variant=\"contained\"\r\n                                    className={classes.button}\r\n                                    style={{ margin: '10px 0 10px 0' }}\r\n                                    onClick={() => addPlate(addedPlaca)}\r\n                                >\r\n                                    <Add /> Adicionar\r\n                            </Button>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        name: 'placa',\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        style: { fontSize: '0.8rem' }\r\n                                    }}\r\n                                    label='Filtrar'\r\n                                    className={textField}\r\n                                    value={placa || ''}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <Search style={{ marginTop: '18px' }} />\r\n                            </div>\r\n                            <DragAndDrop\r\n                                name='apoliceDoc'\r\n                                formData={seguroFile}\r\n                                dropDisplay={dropDisplay}\r\n                                handleFiles={handleFiles}\r\n                                single={true}\r\n                            />\r\n\r\n                        </section>\r\n\r\n                        <div className='addNewDiv' style={{ justifyContent: 'flex-start', padding: '10px' }}>\r\n                            <span onClick={() => showAllPlates()}>→ Clique aqui para selecionar placas</span>\r\n\r\n                        </div>\r\n\r\n                        {/********************************* Lista de placas vinculadas (Chips) ********************************************/}\r\n\r\n                        {insurance && insurance.placas && insurance.placas[0]\r\n                            ?\r\n                            <div style={{ margin: '15px' }}>\r\n                                Placas vinculadas a apólice {insurance.apolice}\r\n                            </div>\r\n                            :\r\n                            <div style={{ marginTop: '30px' }}></div>\r\n                        }\r\n                        {insurance && insurance.placas && apolice && apolice.length > 2 && placas[0] && placas.map((placa, i) =>\r\n                            <Chip\r\n                                key={i}\r\n                                label={placa}\r\n                                onDelete={() => removeFromInsurance(placa)}\r\n                                className={chip}\r\n                                color='primary'\r\n                                variant=\"outlined\"\r\n                            />\r\n                        )}\r\n                    </Paper>}\r\n            </div >\r\n            {apolice && (insurance || enableAddPlaca) &&\r\n                <div style={{ minHeight: '60px', position: 'flex' }}>\r\n                    <Button\r\n                        size=\"small\"\r\n                        color='primary'\r\n                        className='saveButton'\r\n                        variant=\"contained\"\r\n                        onClick={() => handleSubmit()}\r\n                    // disabled={!placas[0] || !seguroFile ? true : false}\r\n                    >\r\n                        Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                    </Button>\r\n                </div>}\r\n        </Fragment >\r\n    )\r\n}","import React from 'react'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport '../Layouts/popUp.css'\r\n\r\nfunction ShowAllPlates({ items, title, data, close, handleCheck }) {\r\n    return (\r\n        <div className=\"popUpWindow row\">\r\n            <h3>{title} Clique em \"X\" ou pressione 'esc' para voltar</h3>\r\n            <div className=\"checkListContainer\">\r\n                {\r\n                    items.map((item, i) =>\r\n                        <div className=\"checkListItem\" key={i}>\r\n                            <input\r\n                                id={i}\r\n                                type='checkbox'\r\n                                checked={data[item] === true}\r\n                                onChange={() => handleCheck(item)} />\r\n                            <label htmlFor={i}>{item}</label>\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n            <ClosePopUpButton close={close} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowAllPlates\r\n","import React from 'react';\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function ConfigAddDialog({ open, close, title, helperMessage, marca, marcas, selectMarca, newElement, handleInput, addNewElement }) {\r\n\r\n    return (\r\n        <div>\r\n            <Dialog open={open} onClose={close} aria-labelledby=\"form-dialog-title\">\r\n                <DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        {helperMessage}\r\n                    </DialogContentText>\r\n                    <div className=\"editFields\">\r\n                        {marcas && <div className=\"configMarca\">\r\n                            <TextField\r\n                                onChange={selectMarca}\r\n                                value={marca}\r\n                                label='Selecione uma marca'\r\n                                select={true}\r\n                                InputLabelProps={{ shrink: true }}\r\n                                SelectProps={{\r\n                                    style: {\r\n                                        fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                                        width: 325, height: '44px'\r\n                                    }\r\n                                }}\r\n                            >\r\n                                {marcas.map(({ marca }, i) =>\r\n                                    <MenuItem key={i} value={marca} >\r\n                                        {marca}\r\n                                    </MenuItem>\r\n                                )}\r\n                            </TextField>\r\n                        </div>}\r\n                        <div className=\"configField\">\r\n                            <TextField\r\n                                autoFocus\r\n                                margin=\"dense\"\r\n                                name='newElement'\r\n                                label=\"Inserir\"\r\n                                type=\"text\"\r\n                                onChange={handleInput}\r\n                                value={newElement}\r\n                                fullWidth\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <br /><br /><br />\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={close} color=\"primary\">\r\n                        Cancelar\r\n              </Button>\r\n                    <Button onClick={() => addNewElement()} color=\"primary\">\r\n                        Confirmar\r\n              </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport { removeInsurance } from '../Store/dataActions'\r\n\r\nimport ReactToast from '../Utils/ReactToast'\r\nimport moment from 'moment'\r\n\r\nimport AltSeguroTemplate from './AltSeguroTemplate'\r\nimport ShowAllPlates from './ShowAllPlates'\r\nimport ConfigAddDialog from './ConfigAddDialog'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\nimport { seguroForm } from '../Forms/seguroForm'\r\n\r\nclass AltSeguro extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.openAddDialog) this.toggleDialog()\r\n                if (this.state.showAllPlates) this.setState({ showAllPlates: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        addedPlaca: '',\r\n        insurance: {},\r\n        insuranceExists: false,\r\n        razaoSocial: '',\r\n        seguradora: '',\r\n        deletedVehicles: [],\r\n        toastMsg: 'Seguro atualizado!',\r\n        confirmToast: false,\r\n        dropDisplay: 'Clique ou arraste para anexar a apólice',\r\n        showAllPlates: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            seguradoras: this.props.redux['seguradoras'],\r\n            allInsurances: this.props.redux['seguros']\r\n        })\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const\r\n            { seguros } = this.props.redux,\r\n            { apolice, insuranceExists, dontUpdateProps } = this.state\r\n\r\n        if (prevProps.redux.seguros !== seguros && !dontUpdateProps) {\r\n            console.log('Props updated. DUProps state is:', dontUpdateProps)\r\n            if (insuranceExists) {\r\n                const updatedInsurance = seguros.find(s => s.apolice === apolice)\r\n                this.setState({ insuranceExists: updatedInsurance })\r\n            }\r\n        }\r\n    }\r\n\r\n    checkExistance = async (name, inputValue) => {\r\n\r\n        const\r\n            seguros = JSON.parse(JSON.stringify(this.props.redux.seguros)),\r\n            { selectedEmpresa } = this.state,\r\n            s = [...seguros.filter(se => se.delegatarioId === selectedEmpresa.delegatarioId)]\r\n\r\n        let insurance = { ...s.find(s => s[name] === inputValue) }\r\n        const insuranceExists = Object.keys(insurance).length > 0\r\n\r\n        if (insuranceExists) {\r\n            const dataEmissao = moment(insurance.dataEmissao).format('YYYY-MM-DD'),\r\n                vencimento = insurance.vencimento.toString().slice(0, 10),\r\n                { seguradora, seguradoraId } = insurance\r\n            await this.setState({ seguradora, seguradoraId, dataEmissao, vencimento, insurance, insuranceExists })\r\n            return\r\n        }\r\n        else this.setState({ insuranceExists, insurance: {}, dataEmissao: '', vencimento: '', deletedVehicles: [] })\r\n    }\r\n\r\n    handleInput = async e => {\r\n\r\n        let { value } = e.target\r\n        const\r\n            { name } = e.target,\r\n            { veiculos, empresas, seguradoras } = this.props.redux,\r\n            { allInsurances, selectedEmpresa, frota, insurance, apolice, dataEmissao,\r\n                vencimento, newInsurance, seguradora } = this.state\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n                let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n                if (selectedEmpresa) {\r\n                    await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                    if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n                    const\r\n                        frota = veiculos.filter(v => v.empresa === this.state.razaoSocial),\r\n                        filteredInsurances = allInsurances.filter(seguro => seguro.empresa === this.state.razaoSocial),\r\n                        allPlates = frota.map(vehicle => vehicle.placa).sort()\r\n\r\n                    this.setState({ frota, seguros: filteredInsurances, allPlates })\r\n\r\n                } else {\r\n                    this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                    this.clearFields()\r\n                }\r\n                break\r\n\r\n            case 'apolice':\r\n                this.checkExistance('apolice', value)\r\n                break\r\n\r\n            case 'seguradora':\r\n                const selectedSeguradora = seguradoras.find(sg => sg.seguradora === value)\r\n                if (selectedSeguradora) {\r\n                    this.setState({ seguradoraId: selectedSeguradora.id })\r\n                }\r\n                break\r\n\r\n            case 'addedPlaca':\r\n                const vehicleFound = frota.find(v => v.placa === value)\r\n                if (vehicleFound) this.setState({ vehicleFound })\r\n                break;\r\n            default:\r\n                void 0\r\n        }\r\n\r\n        // *************NEW INSURANCE CHECK / UPDATE STATE****************\r\n\r\n        const fields = ['seguradora', 'apolice', 'dataEmissao', 'vencimento']\r\n        const checkFields = fields.every(f => this.state[f] && this.state[f] !== '')\r\n\r\n        if (name !== 'razaoSocial' && !newInsurance && checkFields && Object.keys(insurance).length === 0) {\r\n            let newInsurance = {}, seguradoraId\r\n            const selectedSeguradora = seguradoras.find(sg => sg.seguradora === this.state.seguradora)\r\n            if (selectedSeguradora) seguradoraId = selectedSeguradora.id\r\n\r\n            Object.assign(newInsurance,\r\n                {\r\n                    empresa: selectedEmpresa.razaoSocial,\r\n                    delegatarioId: selectedEmpresa.delegatarioId,\r\n                    apolice, seguradora, seguradoraId, dataEmissao, vencimento, placas: [], veiculos: []\r\n                })\r\n\r\n            await this.setState({ insuranceExists: false, insurance: newInsurance, seguradoraId })\r\n        }\r\n    }\r\n\r\n    handleBlur = e => {\r\n\r\n        const\r\n            { seguradoras } = this.props.redux,\r\n            { seguradora, allInsurances, selectedEmpresa } = this.state,\r\n            { name } = e.target\r\n\r\n        if (name === 'seguradora') {\r\n            let filteredInsurances = []\r\n\r\n            const valid = seguradoras.find(s => s.seguradora.toLowerCase().match(seguradora.toLowerCase()))\r\n            if (valid && seguradora.length > 2) this.setState({ seguradora: valid.seguradora })\r\n            if (!valid && seguradora.length > 2) this.setState({ openAlertDialog: true, alertType: 'seguradoraNotFound', seguradora: undefined })\r\n\r\n            if (selectedEmpresa && !seguradora) {\r\n                filteredInsurances = allInsurances.filter(seguro => seguro.empresa === selectedEmpresa.razaoSocial)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n            else if (!selectedEmpresa && seguradora !== '') {\r\n                filteredInsurances = allInsurances.filter(s => s.seguradora === seguradora)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n            else if (selectedEmpresa && seguradora !== '') {\r\n                filteredInsurances = allInsurances\r\n                    .filter(seg => seg.empresa === selectedEmpresa.razaoSocial)\r\n                    .filter(seg => seg.seguradora === seguradora)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n        }\r\n        if (name === 'dataEmissao' || name === 'vencimento') {\r\n            const errors = checkInputErrors()\r\n            if (errors) this.setState({ errors })\r\n            else this.setState({ errors: undefined })\r\n        }\r\n    }\r\n    showAllPlates = () => {\r\n        const { insurance, allPlates } = this.state\r\n        let placas = [], allPlatesObj = {}\r\n\r\n        if (insurance && insurance.placas) placas = insurance.placas\r\n\r\n        allPlates.forEach(p => Object.assign(allPlatesObj, { [p]: false }))\r\n        placas.forEach(p => Object.assign(allPlatesObj, { [p]: true }))\r\n\r\n        this.setState({ allPlatesObj, insuredPlates: placas, showAllPlates: !this.state.showAllPlates })\r\n    }\r\n\r\n    handleCheck = async plate => {\r\n\r\n        let allPlatesObj = { ...this.state.allPlatesObj }\r\n        allPlatesObj[plate] = !allPlatesObj[plate]\r\n\r\n        if (allPlatesObj[plate] === true) this.addPlate(plate)\r\n        else this.removeFromInsurance(plate)\r\n\r\n        this.setState({ allPlatesObj })\r\n    }\r\n\r\n    addPlate = async placaInput => {\r\n\r\n        const\r\n            { apolice, frota } = this.state,\r\n            vehicleFound = frota.find(v => v.placa === placaInput)\r\n        let          \r\n            { insuranceExists, insurance } = this.state\r\n\r\n        if (!placaInput || placaInput === '') return\r\n\r\n        //Check if vehicle belongs to frota before add to insurance and  if plate already belongs to apolice\r\n        if (vehicleFound === undefined || vehicleFound.hasOwnProperty('veiculoId') === false) {\r\n            this.setState({ openAlertDialog: true, alertType: 'plateNotFound' })\r\n            return null\r\n        } else if (insuranceExists === true && insurance.placas && vehicleFound.placa) {\r\n            const check = insurance.placas.find(p => p === vehicleFound.placa)\r\n            if (check) {\r\n                this.setState({ openAlertDialog: true, alertType: 'plateExists' })\r\n                return null\r\n            }\r\n        }\r\n        // Add plates to rendered list\r\n        if (apolice) {\r\n           \r\n            let update = { ...insurance }\r\n\r\n            if (!update.placas) update.placas = []\r\n            if (!update.veiculos) update.veiculos = []\r\n\r\n            update.placas.push(placaInput)\r\n            update.veiculos.push(vehicleFound.veiculoId)\r\n\r\n            this.setState({ insurance: update, addedPlaca: '' })           \r\n        }\r\n    }\r\n\r\n    removeFromInsurance = async placaInput => {\r\n\r\n        const\r\n            { apolice, frota } = this.state,\r\n            vehicleFound = frota.find(v => v.placa === placaInput),\r\n            { veiculoId, placa } = vehicleFound\r\n\r\n        let         \r\n            insurance = { ...this.state.insurance },\r\n            deletedVehicles = [...this.state.deletedVehicles],\r\n            placas = [], veiculos = [],\r\n            check\r\n        \r\n        const seg = this.props.redux.seguros.find(s => s.apolice === apolice)        \r\n        if (seg && seg.placas) check = seg.placas.includes(placa)\r\n\r\n        if (check) {\r\n            let { veiculos } = insurance\r\n            const k = veiculos.indexOf(veiculoId)\r\n            deletedVehicles.push(veiculos[k])\r\n            this.setState({ deletedVehicles })\r\n        }\r\n\r\n        if (insurance.placas) placas = insurance.placas\r\n        if (insurance.veiculos) veiculos = insurance.veiculos\r\n\r\n        const\r\n            i = placas.indexOf(placa),\r\n            k = veiculos.indexOf(veiculoId)\r\n\r\n        insurance.placas.splice(i, 1)\r\n        insurance.veiculos.splice(k, 1)\r\n\r\n        this.setState({ insurance })\r\n    }\r\n\r\n    updateInsurance = () => {\r\n        const\r\n            { insurance, dataEmissao, vencimento, seguradoraId } = this.state,\r\n            { id, veiculos } = insurance\r\n\r\n\r\n        let updates = {}\r\n        const\r\n            emissaoDidChange = !moment(dataEmissao).isSame(moment(insurance.dataEmissao)),\r\n            vencimentoDidChange = !moment(vencimento).isSame(moment(insurance.vencimento)),\r\n            seguradoraDidChange = seguradoraId !== insurance.seguradoraId\r\n\r\n        if (!emissaoDidChange && !vencimentoDidChange && seguradoraDidChange) return\r\n\r\n        if (emissaoDidChange) updates.data_emissao = dataEmissao\r\n        if (vencimentoDidChange) updates.vencimento = vencimento\r\n        if (seguradoraDidChange) updates.seguradora_id = seguradoraId\r\n\r\n        const requestObj = {\r\n            id,\r\n            columns: Object.keys(updates),\r\n            updates,\r\n            vehicleIds: veiculos\r\n        }\r\n        axios.put('/api/updateInsurance', requestObj)\r\n            .then(r => console.log(r.data))\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const { seguradora, insuranceExists, insurance, errors, newElement, deletedVehicles } = this.state\r\n\r\n        let\r\n            frota = [...this.state.frota],\r\n            vehicleIds = []\r\n\r\n        if (errors && errors[0]) {\r\n            this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n        if (!seguradora || seguradora === '') {\r\n            this.setState({ openAlertDialog: true, alertType: 'seguradoraNotFound', seguradora: undefined })\r\n            return\r\n        }\r\n\r\n        //Create seguro object\r\n        const { seguradoraId, apolice, dataEmissao, vencimento, selectedEmpresa } = this.state\r\n\r\n        let cadSeguro = {\r\n            apolice,\r\n            seguradora_id: seguradoraId,\r\n            delegatario_id: selectedEmpresa.delegatarioId\r\n        }\r\n\r\n        const validEmissao = moment(dataEmissao, 'YYYY-MM-DD', true).isValid(),\r\n            validVenc = moment(vencimento, 'YYYY-MM-DD', true).isValid()\r\n\r\n        if (validEmissao) cadSeguro.data_emissao = dataEmissao\r\n        if (validVenc) cadSeguro.vencimento = vencimento\r\n\r\n        //Create a new insurance\r\n        if (!insuranceExists) {\r\n            if (insurance) vehicleIds = insurance.veiculos\r\n            await axios.post('/api/cadSeguro', cadSeguro)\r\n        }\r\n        //else just update the insurer and/or dates\r\n        if (insuranceExists) {\r\n            vehicleIds = insurance.veiculos\r\n            await this.updateInsurance()\r\n        }\r\n\r\n        //Define body and post VehicleUpdate\r\n        let body = {\r\n            table: 'veiculo',\r\n            column: 'apolice',\r\n            value: apolice,\r\n            tablePK: 'veiculo_id',\r\n            ids: vehicleIds\r\n        }\r\n\r\n        if (newElement && insuranceExists && insurance.id) {\r\n            axios.put('/api/changeApoliceNumber', { id: insurance.id, newApoliceNumber: newElement })\r\n        }\r\n\r\n        await axios.put('/api/updateInsurances', body)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                this.setState({ dontUpdateProps: true })\r\n            })\r\n        if (deletedVehicles) {\r\n            body.value = 'Seguro não cadastrado'\r\n            body.ids = deletedVehicles\r\n            await axios.put('/api/updateInsurances', body)\r\n        }\r\n\r\n        frota = frota.map(v => {\r\n            vehicleIds.forEach(id => {\r\n                if (v.veiculoId === id) {\r\n                    v.apolice = apolice\r\n                    return v\r\n                } else return v\r\n            })\r\n            return v\r\n        })\r\n\r\n        this.toast()\r\n        this.submitFiles()\r\n        this.clearFields()\r\n        this.setState({ frota })\r\n    }\r\n\r\n    handleFiles = async file => {\r\n        let formData = new FormData()\r\n        formData.append('apoliceDoc', file[0])\r\n        await this.setState({ dropDisplay: file[0].name, seguroFile: formData })\r\n    }\r\n\r\n    submitFiles = async () => {\r\n        const { apolice, selectedEmpresa } = this.state\r\n\r\n        let seguroFormData = new FormData()\r\n\r\n        if (this.state.seguroFile) {\r\n            seguroFormData.append('fieldName', 'apoliceDoc')\r\n            seguroFormData.append('apolice', apolice)\r\n            seguroFormData.append('empresaId', selectedEmpresa.delegatarioId)\r\n            for (let pair of this.state.seguroFile.entries()) {\r\n                seguroFormData.append(pair[0], pair[1])\r\n            }\r\n            await axios.post('/api/empresaUpload', seguroFormData)\r\n                .then(r => console.log(r.data))\r\n            this.toast()\r\n        }\r\n    }\r\n\r\n\r\n    addNewElement = () => this.setState({ apolice: this.state.newElement, openAddDialog: false })\r\n    toggleDialog = () => this.setState({ openAddDialog: !this.state.openAddDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    clearFields = () => {\r\n        this.setState({\r\n            insuranceExists: false, seguradora: '', insurance: {},\r\n            apolice: '', dataEmissao: '', vencimento: '', seguroFile: null, deletedVehicles: [],\r\n            dropDisplay: 'Clique ou arraste para anexar a apólice'\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const\r\n            { openAlertDialog, alertType, openAddDialog, showAllPlates, allPlates, allPlatesObj } = this.state,\r\n            { empresas } = this.props.redux\r\n\r\n        const enableAddPlaca = seguroForm\r\n            .every(k => this.state.hasOwnProperty(k.field) && this.state[k.field] !== '')\r\n\r\n        return (\r\n            <Fragment>\r\n                <AltSeguroTemplate\r\n                    data={this.state}\r\n                    empresas={empresas}\r\n                    enableAddPlaca={enableAddPlaca}\r\n                    handleInput={this.handleInput}\r\n                    handleBlur={this.handleBlur}\r\n                    addPlate={this.addPlate}\r\n                    removeFromInsurance={this.removeFromInsurance}\r\n                    enableChangeApolice={this.toggleDialog}\r\n                    handleFiles={this.handleFiles}\r\n                    handleSubmit={this.handleSubmit}\r\n                    showAllPlates={this.showAllPlates}\r\n                />\r\n                {openAddDialog && <ConfigAddDialog\r\n                    open={openAddDialog}\r\n                    close={this.toggleDialog}\r\n                    title='Alterar número da apólice'\r\n                    helperMessage='Informe o número atualizado da apólice.'\r\n                    handleInput={this.handleInput}\r\n                    addNewElement={this.addNewElement}\r\n                />}\r\n                {\r\n                    showAllPlates &&\r\n                    <ShowAllPlates\r\n                        items={allPlates}\r\n                        close={this.showAllPlates}\r\n                        title='Selecione as placas para adicionar à apólice.'\r\n                        handleCheck={this.handleCheck}\r\n                        data={allPlatesObj} />\r\n                }\r\n\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'seguradoras', 'seguros']\r\n\r\nexport default connect(null, { removeInsurance })(StoreHOC(collections, AltSeguro))","export const baixaForm = [\r\n    {\r\n        field: 'placa',\r\n        label: 'Placa',      \r\n        datalist: 'placa',\r\n        autoComplete: true,\r\n        collection: 'frota',\r\n        maxLength: 8\r\n    },\r\n    {\r\n        field: 'renavam',\r\n        label: 'Renavam',        \r\n    },\r\n    {\r\n        field: 'nChassi',\r\n        label: 'Número do Chassi',        \r\n        maxLength: 17,\r\n    },\r\n    {\r\n        field: 'delegatario',\r\n        label: 'Delegatário',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilização',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'dominio',\r\n        label: 'Situação da Propriedade',        \r\n        disabled: true\r\n    },\r\n\r\n    {\r\n        field: 'marcaChassi',\r\n        label: 'Marca do Chassi',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloChassi',\r\n        label: 'Modelo do Chassi',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'marcaCarroceria',\r\n        label: 'Marca da Carroceria',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloCarroceria',\r\n        label: 'Modelo da Carroceria',        \r\n        disabled: true\r\n    },\r\n    {\r\n        type: 'number',\r\n        field: 'indicadorIdade',\r\n        label: 'Ano',        \r\n        disabled: true\r\n    }\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport { baixaForm } from '../Forms/baixaForm'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport { Send } from '@material-ui/icons'\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nimport './veiculos.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1),\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, handleCheck, handleSubmit, data, empresas }) {\r\n    const { razaoSocial, frota, checked, delegaTransf, justificativa } = data,\r\n        classes = useStyles(), { paper, container, formHolder } = classes\r\n\r\n    return (\r\n        <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Baixa de veículo' />\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}\r\n                handleBlur={handleBlur}\r\n            />\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                className={container}\r\n                justify=\"center\"\r\n            >\r\n                {razaoSocial && frota[0] &&\r\n                    <Grid item xs={12}>\r\n                        <Paper className={paper}>\r\n                            <Typography className='formSubtitle'>Informe os dados para a baixa</Typography>\r\n                            <TextInput\r\n                                form={baixaForm}\r\n                                data={data}\r\n                                handleBlur={handleBlur}\r\n                                handleInput={handleInput}\r\n                            />\r\n                        </Paper>\r\n                        <Grid container\r\n                            direction=\"row\"\r\n                            justify=\"space-between\"\r\n                            alignItems=\"center\"\r\n                            style={{ width: checked === 'venda' || checked === 'outro' ? '1200px' : '600px', marginTop: '25px' }}\r\n                        >\r\n                            <Grid item xs={checked ? 6 : 12}>\r\n                                <FormControl component=\"fieldset\">\r\n                                    <FormLabel component=\"legend\">Motivo da baixa</FormLabel>\r\n                                    <RadioGroup aria-label=\"position\" name=\"position\"\r\n                                        onChange={handleCheck} row\r\n                                        style={{ width: 'auto' }}\r\n                                        className='radio'\r\n                                    >\r\n                                        <FormControlLabel\r\n                                            className='radio'\r\n                                            value=\"venda\"\r\n                                            control={<Radio color=\"primary\" />}\r\n                                            label={<span style={{ fontSize: '0.8rem' }}>{\"Venda para outra empresa do sistema\"}</span>}\r\n                                            labelPlacement=\"start\"\r\n\r\n                                        />\r\n                                        <FormControlLabel\r\n                                            value=\"outro\"\r\n                                            control={<Radio color=\"primary\" />}\r\n                                            label={<span style={{ fontSize: '0.8rem' }}>{\"Outro\"}</span>}\r\n                                            labelPlacement=\"start\"\r\n                                        />\r\n\r\n                                    </RadioGroup>\r\n                                </FormControl>\r\n                            </Grid>\r\n\r\n                            {checked === 'venda' ?\r\n                                <Grid item xs={6} >\r\n                                    <TextField\r\n                                        inputProps={{\r\n                                            list: 'razaoSocial',\r\n                                            name: 'delegaTransf',\r\n                                        }}\r\n                                        value={delegaTransf}\r\n                                        onChange={handleInput}\r\n                                        onBlur={handleBlur}\r\n                                        label='Informe o delegatário para o qual foi transferido o veículo.'\r\n                                        fullWidth\r\n                                    />\r\n                                    <AutoComplete\r\n                                        collection={empresas}\r\n                                        datalist='razaoSocial'\r\n                                        value={delegaTransf}\r\n                                    />\r\n                                </Grid>\r\n                                :\r\n                                checked === 'outro' &&\r\n                                <Grid item xs={6}>\r\n                                    <TextField\r\n                                        name='justificativa'\r\n                                        value={justificativa}\r\n                                        label='Justificativa'\r\n                                        type='text'\r\n                                        onChange={handleInput}\r\n                                        InputLabelProps={{ shrink: true }}\r\n                                        multiline\r\n                                        rows={3}\r\n                                        variant='outlined'\r\n                                        fullWidth\r\n                                    />\r\n                                </Grid>\r\n                            }\r\n                        </Grid>\r\n                        <Grid container direction=\"row\" justify='flex-end' style={{ width: '1200px' }}>\r\n                            <Grid item xs={11} style={{ width: '1000px' }}></Grid>\r\n                            <Grid item xs={1} style={{ align: \"right\" }}>\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    color=\"primary\"\r\n                                    variant=\"outlined\"\r\n                                    style={{ margin: '10px 0 10px 0' }}\r\n                                    onClick={() => handleSubmit()}\r\n                                >\r\n                                    Confirmar <span>&nbsp;&nbsp; </span> <Send />\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                }\r\n                {!razaoSocial && !frota[0] &&\r\n                    <Grid container justify=\"center\">\r\n                        <div className={formHolder}></div>\r\n                    </Grid>}\r\n            </Grid>\r\n        </Fragment>\r\n    )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport BaixaTemplate from './BaixaTemplate'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport { baixaForm } from '../Forms/baixaForm'\r\n\r\nimport './veiculos.css'\r\n\r\nclass BaixaVeiculo extends Component {\r\n\r\n    state = {\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        frota: [],\r\n        placa: '',\r\n        form: {},\r\n        check: '',\r\n        delegaTransf: '',\r\n        toastMsg: 'Baixa realizada com sucesso!',\r\n        confirmToast: false,\r\n        openDialog: false,\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n        const { name, value } = e.target,\r\n            { veiculos, empresas } = this.props.redux\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        if (name === 'razaoSocial') {\r\n            let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n                this.setState({ frota })\r\n\r\n            } else {\r\n                await this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                this.reset()\r\n            }\r\n        }\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const\r\n            { empresas } = this.props.redux,\r\n            { frota } = this.state,\r\n            { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'delegaTransf') {\r\n            if (value.length > 0) {\r\n                const newDelega = empresas.find(e => e.razaoSocial === value)\r\n                if (newDelega) {\r\n                    await this.setState({ delegatarioId: newDelega.delegatarioId, delegaTransf: newDelega.razaoSocial, disableSubmit: true })\r\n                    void 0\r\n                } else this.setState({ openAlertDialog: true, alertType: 'empresaNotFound', delegaTransf: '' })\r\n            }\r\n        }\r\n\r\n        if (name === 'placa' && typeof frota !== 'string') {\r\n            if (value === '') this.setState({ disableSubmit: true })\r\n            if (value.length > 0) {\r\n                let vehicle\r\n                if (value.length > 2) vehicle = frota.find(v => {\r\n                    if (typeof value === 'string') return v.placa.toLowerCase().match(value.toLowerCase())\r\n                    else return v.placa.match(value)\r\n                })\r\n\r\n                await this.setState({ ...vehicle })\r\n\r\n                if (!vehicle) {\r\n                    let reset = {}\r\n                    if (frota[0]) Object.keys(frota[0]).forEach(k => reset[k] = '')\r\n                    this.setState({ alertType: 'plateNotFound', openAlertDialog: true, disableSubmit: true })\r\n                    this.setState({ ...reset })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const { checked, delegatarioId } = this.state\r\n\r\n        let checkArray = ['selectedEmpresa', 'placa', 'delegatarioId']\r\n        let tempObj, enableSubmit\r\n\r\n        if (checked === 'venda') {\r\n            checkArray.push('delegaTransf')\r\n            enableSubmit = checkArray.every(k => this.state.hasOwnProperty(k) && this.state[k] !== '')\r\n            tempObj = { delegatarioId, situacao: 'pendente' }\r\n        }\r\n        if (checked === 'outro') {\r\n            checkArray.push('justificativa')\r\n            enableSubmit = checkArray.every(k => this.state.hasOwnProperty(k) && this.state[k] !== '')\r\n            tempObj = { situacao: 'excluído' }\r\n        }\r\n        if (!enableSubmit) {\r\n            await this.setState({ openAlertDialog: true, alertType: 'fieldsMissing' })\r\n            return null\r\n        }\r\n\r\n        tempObj.apolice = 'Seguro não cadastrado'\r\n\r\n        const requestObject = humps.decamelizeKeys(tempObj)\r\n\r\n        const table = 'veiculo',\r\n            tablePK = 'veiculo_id'\r\n        await axios.put('/api/updateVehicle', { requestObject, table, tablePK, id: this.state.veiculoId })\r\n            .then(() => this.toast())\r\n            .catch(err => console.log(err))\r\n        await this.setState({ selectedEmpresa: undefined, frota: [], razaoSocial: '' })\r\n        this.reset()\r\n    }\r\n\r\n    handleCheck = e => this.setState({ checked: e.target.value })\r\n    reset = () => {\r\n        baixaForm.forEach(el => this.setState({ [el.field]: '' }))\r\n        this.setState({ delegaTransf: '', check: '', justificativa: '', checked: false })\r\n    }\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const { delegaTransf, confirmToast, toastMsg, checked, openAlertDialog,\r\n            alertType } = this.state\r\n        \r\n        return <Fragment>\r\n            <BaixaTemplate\r\n                data={this.state}\r\n                empresas={this.props.redux.empresas}\r\n                checked={checked}\r\n                delegaTransf={delegaTransf}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                handleCheck={this.handleCheck}\r\n                handleSubmit={this.handleSubmit}\r\n            />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n        </Fragment >\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas']\r\n\r\nexport default StoreHOC(collections, BaixaVeiculo)","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport Add from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport './config.css'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',        \r\n        width: '275px',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    select: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),        \r\n        marginBottom: '2px',\r\n        background: '#fafafa',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    }\r\n}))\r\n\r\nexport default function ConfigTemplate({ collections, collection, data, staticData,\r\n    selectCollection, handleChange, enableEdit, removeItem, handleSubmit, openAddDialog }) {\r\n\r\n    const\r\n        classes = useStyles(),\r\n        { textField } = classes\r\n\r\n    return (\r\n        <Fragment>\r\n           <Crumbs links={['Veículos', '/veiculos']} text='Alterar configurações de veículos' />\r\n            <center>\r\n                <h4>Selecione uma das opções abaixo.</h4>\r\n            </center>\r\n            <div className=\"selectHeader\">\r\n                <TextField\r\n                    className={textField}\r\n                    onChange={selectCollection}\r\n                    value={collection}\r\n                    select={true}\r\n                    SelectProps={{\r\n                        style: {\r\n                            fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                            width: 325, height: '44px'\r\n                        }\r\n                    }}\r\n                >\r\n                    {collections.map((opt, i) =>\r\n                        <MenuItem key={i} value={opt} >\r\n                            {opt}\r\n                        </MenuItem>\r\n                    )}\r\n                </TextField>\r\n            </div>\r\n           {staticData && collection && <div className='divHeader'>\r\n                <Button\r\n                    size=\"small\"\r\n                    color='primary'\r\n                    variant='outlined'\r\n                    //  className={classes.button}\r\n                    style={{ margin: '10px 0 10px 0' }}\r\n                    onClick={() => openAddDialog()}\r\n                >\r\n                    <Add /> Adicionar\r\n                </Button>\r\n            </div>}\r\n            <div className='container'>\r\n                {\r\n                    data && staticData && data.map((el, i) =>\r\n                        <div className='divCell' key={i}>\r\n                            <TextField\r\n                                value={el.edit ? el[staticData.field] : el[staticData.field] + ' (' + el['count'] + ')'}\r\n                                onChange={handleChange}\r\n                                name={el.field}\r\n                                type='text'\r\n                                inputProps={{\r\n                                    autoCorrect: 'off',\r\n                                    spellCheck: false,\r\n                                    style: {\r\n                                        fontSize: '0.8rem',\r\n                                        color: el.edit === true ? '#000' : '#999'\r\n                                    },                                    \r\n                                }}\r\n                                className={textField}\r\n                                disabled={el.edit === false}\r\n                            />\r\n\r\n                            <button component='span'\r\n                                className='configVehicleIcon'\r\n                                title='Editar'\r\n                                onClick={() => enableEdit(i)}\r\n                                display='none'>\r\n                                <EditIcon className='confIcon' color='primary' />\r\n                            </button>\r\n                            <button\r\n                                className='configVehicleIcon'\r\n                                title='Remover'\r\n                                onClick={() => removeItem(i)}>\r\n                                <DeleteIcon className='confIcon' color='secondary' />\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n            </div>\r\n            {\r\n                data &&\r\n                <Grid container direction=\"row\" justify='flex-end' >\r\n                    <Grid item xs={1} style={{ align: \"right\", margin: '20px 95px 10px 0' }}>\r\n                        <Button\r\n                            size=\"small\"\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            title='Salvar'\r\n                            onClick={() => handleSubmit()}\r\n                        >\r\n                            Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            }\r\n        </Fragment >\r\n    )\r\n}","import React, { PureComponent } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport ConfigAddDialog from './ConfigAddDialog'\r\nimport ReactToast from '../Utils/ReactToast'\r\nimport ConfigTemplate from './ConfigTemplate'\r\nimport { configVehicleForm } from '../Forms/configVehicleForm'\r\nimport { Fragment } from 'react'\r\n\r\nclass VehicleConfig extends PureComponent {\r\n\r\n    state = {\r\n        collection: '',\r\n        marca: '',\r\n        options: [],\r\n        openAddDialog: false,\r\n        confirmToast: false,\r\n        toastMsg: 'Dados atualizados!',\r\n    }\r\n    componentDidMount() {\r\n        let options = []\r\n        configVehicleForm.forEach(col => { options.push(col.label) })\r\n        this.setState({ options })\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const\r\n            { redux } = this.props,\r\n            { veiculos } = redux,\r\n            { staticData, data } = this.state\r\n\r\n        if (!staticData || !data) return null\r\n        \r\n        const { collection } = staticData\r\n        if (JSON.stringify(prevProps.redux[collection]) !== JSON.stringify(redux[collection])) {        \r\n            const data = this.addCounter(veiculos, staticData, redux[collection])\r\n            this.setState({ data })\r\n        }\r\n    }\r\n\r\n    addCounter = (veiculos, staticData, data) => {\r\n        const { name, field, label } = staticData\r\n\r\n        data.forEach(el => {\r\n            const vehicles = veiculos.filter(v => {\r\n                if (label === 'Equipamentos' && v[name]) return v[name].toLowerCase().match(el[field].toLowerCase())\r\n                return v[name] === el[field]\r\n            }),\r\n                count = vehicles.length\r\n            Object.assign(el, { count })\r\n        })\r\n        data = data.sort((a, b) => a[field].localeCompare(b[field]))\r\n        return data\r\n    }\r\n\r\n    selectCollection = async e => {\r\n        const\r\n            { value } = e.target,\r\n            { veiculos, marcaChassi, marcaCarroceria } = this.props.redux\r\n        let\r\n            staticData = configVehicleForm.find(el => el.label === value),\r\n            data = JSON.parse(JSON.stringify(this.props.redux[staticData.collection]))\r\n\r\n        data = this.addCounter(veiculos, staticData, data)\r\n        data.forEach(el => el.edit = false)\r\n\r\n        this.setState({ marcas: undefined, marca: '' })\r\n        if (staticData.collection === 'modelosChassi') this.setState({ marcas: marcaChassi })\r\n        if (staticData.collection === 'carrocerias') this.setState({ marcas: marcaCarroceria })\r\n\r\n        await this.setState({ collection: value, data, staticData })\r\n        void 0\r\n    }\r\n\r\n    enableEdit = async index => {\r\n        const\r\n            divCell = document.querySelectorAll('.divCell'),\r\n            divWrap = divCell[index].childNodes[0],\r\n            inputTarget = divWrap.querySelectorAll('input')[0]\r\n        let\r\n            data = [...this.state.data]\r\n\r\n        if (data[index].edit === true) data[index].edit = false\r\n        else {\r\n            data.forEach(s => s.edit = false)\r\n            data[index].edit = true\r\n        }\r\n        await this.setState({ data })\r\n        inputTarget.focus()\r\n    }\r\n\r\n    selectMarca = e => {\r\n        const\r\n            { value } = e.target,\r\n            { collection } = this.state.staticData,\r\n            { marcaChassi, marcaCarroceria } = this.props.redux\r\n\r\n        let marcaCollection\r\n        if (collection === 'modelosChassi') marcaCollection = marcaChassi\r\n        if (collection === 'carrocerias') marcaCollection = marcaCarroceria\r\n\r\n        const { id } = marcaCollection.find(m => m.marca === value)\r\n\r\n        this.setState({ marca: value, marcaId: id })\r\n    }\r\n\r\n    handleChange = async e => {\r\n        const\r\n            { value } = e.target,\r\n            name = this.state.staticData.field\r\n            //{ collection } = this.state.staticData\r\n\r\n\r\n        let changedElement = this.state.data.find(el => el.edit === true)\r\n        const index = this.state.data.indexOf(changedElement)\r\n\r\n        //const reduxItem = JSON.parse(JSON.stringify(this.props.redux[collection][index]))\r\n        changedElement[name] = value\r\n\r\n        let newData = [...this.state.data]\r\n        newData[index] = changedElement\r\n\r\n        await this.setState({ data: newData })       \r\n    }\r\n\r\n    handleInput = e => {\r\n        const { value } = e.target\r\n        this.setState({ newElement: value })\r\n    }\r\n\r\n    addNewElement = async () => {\r\n\r\n        const\r\n            { staticData, newElement, marcaId } = this.state,\r\n            { table, field, collection } = staticData,\r\n            { veiculos } = this.props.redux\r\n\r\n        let requestElement = { [field]: newElement }\r\n        if (marcaId) requestElement.marcaId = marcaId\r\n        requestElement = humps.decamelizeKeys(requestElement)\r\n\r\n        await axios.post('/api/addElement', { table, requestElement })\r\n\r\n        let data = this.props.redux[collection]\r\n        data = this.addCounter(veiculos, staticData, data)\r\n\r\n        this.setState({ openAddDialog: false, data })\r\n    }\r\n\r\n    removeItem = async index => {\r\n\r\n        let data = [...this.state.data]\r\n        const\r\n            { staticData } = this.state,\r\n            { collection, table } = staticData,\r\n            id = data[index].id,\r\n            originalData = this.props.redux[collection],\r\n            registered = originalData.find(el => el.id === id)\r\n\r\n        if (registered) {\r\n            await axios.delete(`/api/delete?table=${table}&tablePK=id&id=${id}`)\r\n                .catch(err => console.log(err))\r\n        }\r\n        data.splice(index, 1)\r\n        this.setState({ data })\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const\r\n            { redux } = this.props,\r\n            { data, staticData } = this.state,\r\n            { collection, field, table } = staticData,\r\n            originalData = JSON.parse(JSON.stringify(redux[collection]))\r\n\r\n        let editedElements = []\r\n\r\n        data.forEach(el => {\r\n            if (el.hasOwnProperty('id')) {\r\n                const { count, edit, ...rest } = el\r\n                editedElements.push(rest)\r\n            }\r\n        })\r\n\r\n        let realChanges = [], tempObj = {}\r\n\r\n        editedElements.forEach(el => {\r\n            originalData.forEach(item => {\r\n                if (el.id === item.id) {\r\n                    Object.keys(el).forEach(key => {\r\n                        if (el[key] !== item[key]) {\r\n                            if (!tempObj.id) tempObj = { ...tempObj, id: el.id }\r\n                            Object.assign(tempObj, { [key]: el[key] })\r\n                        }\r\n                    })\r\n                    if (Object.keys(tempObj).length > 0) realChanges.push(tempObj)\r\n                    tempObj = {}\r\n                }\r\n            })\r\n        })\r\n\r\n        const\r\n            tablePK = 'id',\r\n            column = humps.decamelize(field)\r\n\r\n        editedElements = humps.decamelizeKeys(realChanges)\r\n\r\n        await axios.put('/api/editElements', { requestArray: editedElements, table, tablePK, column })\r\n            .then(r => console.log('updated.'))\r\n            .catch(err => console.log(err))\r\n\r\n        editedElements = []\r\n        realChanges = []\r\n        tempObj = {}\r\n        this.toast()\r\n\r\n        this.setState({ collection: '', staticData: undefined })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openAddDialog: !this.state.openAddDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n\r\n        const { options, collection, data, staticData, openAddDialog, marca, marcas, confirmToast, toastMsg } = this.state\r\n        return (\r\n            <Fragment>\r\n                <ConfigTemplate\r\n                    collections={options}\r\n                    collection={collection}\r\n                    data={data}\r\n                    staticData={staticData}\r\n                    selectCollection={this.selectCollection}\r\n                    enableEdit={this.enableEdit}\r\n                    handleChange={this.handleChange}\r\n                    handleSubmit={this.handleSubmit}\r\n                    openAddDialog={this.toggleDialog}\r\n                    removeItem={this.removeItem}\r\n                />\r\n                {openAddDialog && <ConfigAddDialog\r\n                    open={openAddDialog}\r\n                    close={this.toggleDialog}\r\n                    title={staticData.label}\r\n                    helperMessage='Para adicionar, insira o nome no campo abaixo e clique em \"Confirmar\".'\r\n                    marca={marca}\r\n                    marcas={marcas}\r\n                    selectMarca={this.selectMarca}\r\n                    handleInput={this.handleInput}\r\n                    addNewElement={this.addNewElement}\r\n                />}\r\n                <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['seguradoras', 'lookUpTable/marca_chassi', 'modelosChassi', 'lookUpTable/marca_carroceria',\r\n    'carrocerias', 'equipamentos', 'veiculos']\r\n\r\nexport default StoreHOC(collections, VehicleConfig)","const formatDate = (date, min) => {\r\n\r\n    const minutes = () => {\r\n        if (new Date(date).getMinutes() < 10) {\r\n            return '0' + new Date(date).getMinutes()\r\n        } else {\r\n            return new Date(date).getMinutes()\r\n        }\r\n    }\r\n\r\n    if (/\\d/.test(date)) {\r\n        let data = new Date(date).getDate() + '/' + (new Date(date).getMonth() + 1) + '/' + new Date(date).getFullYear()// + ', ' + new Date(date).getHours() + ':' + minutes() + 'h'\r\n        if (min) data += ', ' + new Date(date).getHours() + ':' + minutes() + 'h'\r\n        return data.toString()\r\n    } else {\r\n        return date\r\n    }\r\n}\r\n\r\nexport default formatDate;","import formatDate from '../Utils/formatDate'\r\n\r\nexport const delegatarioTable = [\r\n    {\r\n        field: 'razaoSocial',\r\n        title: 'Razão Social',\r\n    },\r\n    {\r\n        field: 'delegatarioStatus',\r\n        title: 'Situação',\r\n    },\r\n    {\r\n        field: 'vencimentoContrato',\r\n        title: 'Data de Vencimento',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.vencimentoContrato)\r\n    },\r\n    {\r\n        field: 'cidade',\r\n        title: 'Município',\r\n    },\r\n    {\r\n        field: 'telefone',\r\n        title: 'Telefone',\r\n    },\r\n    {\r\n        field: 'frota',\r\n        title: 'Tamanho da frota'\r\n    }\r\n  /*   {\r\n        field: 'procuradoresList',\r\n        title: 'Nome do Procurador',\r\n        fSize: '0.3rem',\r\n        render: rowData => rowData.procuradoresList\r\n            ?\r\n            rowData.procuradoresList.map(s => s.charAt(0).toUpperCase()\r\n                .concat(s.slice(1).toLowerCase())).toString().replace(/,/g, \", \")\r\n            :\r\n            ''\r\n    } */\r\n]\r\n\r\nexport const sociosTable = [\r\n    {\r\n        field: 'nomeSocio',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfSocio',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'razaoSocial',\r\n        title: 'Delegatário(s)',\r\n    },\r\n    {\r\n        field: 'emailSocio',\r\n        title: 'E-mail',        \r\n        \r\n    },\r\n    {\r\n        field: 'share',\r\n        title: 'Participação Societária (%)',\r\n        filtering: false,        \r\n    }\r\n]\r\n\r\n\r\nexport const procuradorTable = [\r\n    {\r\n        field: 'nomeProcurador',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfProcurador',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'emailProcurador',\r\n        title: 'E-mail',\r\n    },\r\n    {\r\n        field: 'telProcurador',\r\n        title: 'Telefone'        \r\n    }\r\n]\r\n\r\nexport const vehicleTable = [\r\n    {\r\n        field: 'placa',\r\n        title: 'Placa',\r\n    },\r\n    {\r\n        field: 'modeloCarroceria',\r\n        title: 'Modelo da Carroceria',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Delegatário',\r\n    },\r\n    {\r\n        field: 'seguradora',\r\n        title: 'Seguradora',\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        title: 'Número da Apólice',\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Vencimento Seguro',\r\n        render: rowData => formatDate(rowData.vencimento)\r\n    },\r\n    {\r\n        field: 'indicadorIdade',\r\n        title: 'Ano de Fabricação',\r\n        filtering: false\r\n    }\r\n]\r\n\r\nexport const segurosTable = [\r\n    {\r\n        field: 'apolice',\r\n        title: 'Número da Apólice',\r\n    },\r\n    {\r\n        field: 'seguradora',\r\n        title: 'Seguradora',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Segurado',\r\n    },\r\n    {\r\n        field: 'segurados',\r\n        title: 'Número de veículos',\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Vencimento',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.vencimento)\r\n    }\r\n]\r\n\r\nexport const tables = [delegatarioTable].concat([sociosTable]).concat([procuradorTable]).concat([vehicleTable]).concat([segurosTable])\r\n","import React from 'react'\r\nimport * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\n\r\nimport MaterialTable from 'material-table';\r\nimport { tables } from './tables'\r\n\r\nexport default function ({ tab, collection, showDetails, showFiles, showCertificate, del }) {\r\n\r\n\r\n    const id = ['delegatarioId', 'socioId', 'procuradorId', 'veiculoId', 'apolice'][tab],\r\n        subject = ['empresas', 'sócios', 'procuradores', 'veículos', 'seguros']\r\n    if (!Array.isArray(collection)) collection = []\r\n    return (\r\n        <div style={{ margin: '10px 0' }} className='noPrint'>\r\n            <MaterialTable\r\n                title={`Pesquisar dados de ${subject[tab]}`}\r\n                columns={tables[tab]}\r\n                data={collection}\r\n                style={{ fontFamily: 'Segoe UI', fontSize: '14px' }}\r\n                options={{\r\n                    filtering: true,\r\n                    exportButton: true,\r\n                    exportFileName: subject[tab],\r\n                    exportCsv: (columns, data) => {\r\n                        const\r\n                            fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8',\r\n                            fileExtension = '.xlsx',\r\n                            fileName = subject[tab]\r\n\r\n                        const exportToCSV = (csvData, fileName) => {\r\n                            const ws = XLSX.utils.json_to_sheet(csvData);\r\n                            const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n                            const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n                            const data = new Blob([excelBuffer], { type: fileType });\r\n                            FileSaver.saveAs(data, fileName + fileExtension);\r\n                        }\r\n                        exportToCSV(data, fileName)\r\n                    },\r\n                    actionsColumnIndex: -1,\r\n                    searchFieldStyle: { color: '#024', fontSize: '14px' },\r\n                    headerStyle: { backgroundColor: '#FAFAFC' },\r\n                    emptyRowsWhenPaging: false,\r\n                    pageSize: 10,\r\n                }}\r\n\r\n                localization={{\r\n                    header: { actions: 'Opções' },\r\n                    body: {\r\n                        emptyDataSourceMessage: 'Registro não encontrado.',\r\n                        editRow: { deleteText: 'Tem certeza que deseja apagar esse registro ?' },\r\n                        deleteTooltip: 'Apagar',\r\n                        filterRow: { filterTooltip: 'Filtrar' }\r\n                    },\r\n                    toolbar: {\r\n                        searchTooltip: 'Procurar',\r\n                        searchPlaceholder: 'Procurar',\r\n                        exportName: 'Salvar como arquivo do excel',\r\n                        exportAriaLabel: 'Exportar',\r\n                        exportTitle: 'Exportar'\r\n                    },\r\n                    pagination: {\r\n\r\n                        labelRowsSelect: 'Resultados por página',\r\n                        labelDisplayedRows: ' {from}-{to} a {count}',\r\n                        firstTooltip: 'Primeira página',\r\n                        previousTooltip: 'Página anterior',\r\n                        nextTooltip: 'Próxima Página',\r\n                        lastTooltip: 'Última Página',\r\n\r\n                    }\r\n                }}\r\n                actions={[\r\n                    {\r\n                        icon: 'info',\r\n                        iconProps: { color: 'primary' },\r\n                        tooltip: 'Mais informações',\r\n                        onClick: (event, rowData) => showDetails(event, rowData)\r\n                    },\r\n                    {\r\n                        icon: 'file_copy_outline',\r\n                        iconProps: { color: 'secondary' },\r\n                        tooltip: 'Ver arquivos',\r\n                        onClick: (event, rowData) => showFiles(rowData[id])\r\n                    },\r\n                    {\r\n                        icon: 'class_outlined',\r\n                        iconProps: { color: 'action' },\r\n                        tooltip: 'Emitir certificado',\r\n                        hidden: tab !== 3,\r\n                        onClick: (event, rowData) => showCertificate(rowData)\r\n                    }\r\n                ]}\r\n                editable={{\r\n                    onRowDelete: async oldData => await del(oldData)\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}","export const delegatario = [[\r\n    {\r\n        field: 'empresa',\r\n        label: 'Delegatário',\r\n        width: '120mm',\r\n        left: '50mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimentoContrato',\r\n        label: 'Validade do Contrato',\r\n        width: '36mm',\r\n        left: '5mm'\r\n    },\r\n]]\r\n\r\nexport const caracteristicas = [\r\n    [\r\n        {\r\n            field: 'placa',\r\n            label: 'Placa',\r\n            width: '25mm',\r\n            left: '8mm'\r\n        },\r\n        {\r\n            field: 'renavam',\r\n            label: 'Renavam',\r\n            width: '42mm',\r\n            left: '14mm'\r\n        },\r\n        {\r\n            field: 'poltronas',\r\n            label: 'Poltronas',\r\n            width: '16mm',\r\n            left: '2mm'\r\n        },\r\n        {\r\n            field: 'piquesPoltrona',\r\n            label: 'Piques poltrona',\r\n            width: '19mm'\r\n        },\r\n        {\r\n            field: 'nChassi',\r\n            label: 'Número do Chassi',\r\n            width: '50mm',\r\n            left: '15mm'\r\n        },\r\n\r\n    ],\r\n    [\r\n        {\r\n            field: 'marcaChassi',\r\n            label: 'Marca do Chassi',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'modeloChassi',\r\n            label: 'Modelo do Chassi',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'anoChassi',\r\n            label: 'Ano do chassi',\r\n        },\r\n        {\r\n            field: 'distanciaMinima',\r\n            label: 'Distância Mínima (cm)',\r\n        },\r\n        {\r\n            field: 'distanciaMaxima',\r\n            label: 'Distância Máxima (cm)'\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            field: 'marcaCarroceria',\r\n            label: 'Marca da Carroceria',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'modeloCarroceria',\r\n            label: 'Modelo da Carroceria',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'anoCarroceria',\r\n            label: 'Ano da carroceria',\r\n        },\r\n        {\r\n            field: 'cores',\r\n            label: 'Cores',\r\n            width: '45mm',\r\n            left: '15mm'\r\n        }]\r\n]\r\n\r\nexport const seguro = [[\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',\r\n        width: '75mm',\r\n        left: '27.5mm'\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        label: 'Apólice',\r\n        width: '35mm',\r\n        left: '13mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emissão',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    }]]\r\n\r\nexport const pesagem = [[\r\n    {\r\n        field: 'eixos',\r\n        label: 'Nº Eixos',\r\n        width: '15mm',\r\n        left: '2mm'\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        width: '28mm',\r\n        left: '4mm'\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        width: '28mm',\r\n        left: '4mm'\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        field: 'pesoPassageiros',\r\n        label: 'Passag/Bagagem',\r\n        width: '25mm',\r\n        left: '3mm'\r\n    },\r\n]]\r\n\r\n\r\nexport const informacoesGerais = [[\r\n    {\r\n        type: 'date',\r\n        field: 'dataRegistro',\r\n        label: 'Data de Registro',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'dataExpedicao',\r\n        label: 'Data de expedição',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilização',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'equipamentosId',\r\n        label: 'Acessórios',\r\n        width: '65mm',\r\n    }\r\n]]\r\n\r\nexport const other = [[\r\n    {\r\n        field: 'compartilhado', \r\n        label: 'Empresas autorizadas a compartilhar',\r\n        width: '120mm',\r\n        left: '20mm'\r\n    },\r\n    {\r\n        field: 'observacoes', \r\n        label: 'Observações',\r\n        width: '80mm',        \r\n    }\r\n]]","import React, { Fragment, useState, useEffect } from 'react'\r\nimport moment from 'moment'\r\n\r\nimport { delegatario, caracteristicas, seguro, pesagem, informacoesGerais, other } from '../Forms/certificate'\r\n\r\nimport './certificate.css'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        paddingRight: '25px',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    }\r\n}))\r\n\r\n\r\nexport default function PdfCertificate() {\r\n\r\n    const [vehicle, setVehicle] = useState({})\r\n    const data = JSON.parse(localStorage.getItem('vehicle'))\r\n    console.log('1', data)\r\n\r\n    useEffect(() => {\r\n        async function setData() {\r\n            console.log('2', localStorage)\r\n            let menus = document.querySelectorAll('.MuiToolbar-root')\r\n            menus.forEach(m => m.style.display = 'none')\r\n            await setVehicle(data)\r\n            setTimeout(() => {\r\n                if (data) window.print()\r\n            }, 500);\r\n        }\r\n        setData()\r\n        localStorage.removeItem('vehicle')\r\n        console.log('3', localStorage)\r\n    }, [])\r\n\r\n    const classes = useStyles(),\r\n        { textField } = classes\r\n\r\n    let carac = caracteristicas,\r\n        delega = delegatario,\r\n        seg = seguro,\r\n        peso = pesagem,\r\n        info = informacoesGerais,\r\n        obs = other,\r\n        object = {}\r\n\r\n    const formArray = [carac, delega, seg, peso, info, obs]\r\n\r\n    if (vehicle)\r\n        formArray.forEach(form => {\r\n            Object.entries(vehicle).forEach(([key, value]) => {\r\n                form.forEach((line, i) => {\r\n                    line.forEach((obj, k) => {\r\n                        if (obj.field === key) {\r\n                            object = Object.assign(obj, { value })\r\n                            form[i][k] = object\r\n                            object = {}\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n        })\r\n    const checkMulti = field => {\r\n        if (field === 'equipamentosId' || field === 'equipamentosId') return\r\n        else return 'certificate'\r\n    }\r\n    const redirect = () => {\r\n        let menus = document.querySelectorAll('.MuiToolbar-root')\r\n        menus.forEach(m => m.style.display = 'none')\r\n        const url = window.location.origin\r\n        window.location.href = url;\r\n    }\r\n    const ultimateForm = [\r\n        { title: 'Delegatário', form: delega },\r\n        { title: 'Características do Veículo', form: carac },\r\n        { title: 'Seguro', form: seg },\r\n        { title: 'Pesagem', form: peso },\r\n        { title: 'Informações gerais', form: info },\r\n        { title: 'Outras informações', form: obs }\r\n    ]\r\n    if (!vehicle) {\r\n        const url = window.location.origin\r\n        window.location.replace(url)\r\n        return null\r\n    }\r\n    return (\r\n        <Fragment>\r\n            <div id='pdfPage' className='A4'>\r\n                <div className='header'>\r\n                    <img src='/images/certficateHeader.png' height='100%' width='100%' alt=\"header\" />\r\n                </div>\r\n                {ultimateForm.map(({ title, form }, y) =>\r\n                    <div className={title !== 'Delegatário' ? 'box' : 'firstBox'} key={y}>\r\n                        {title !== 'Delegatário' && <span className='boxTitle'>{title}</span>}\r\n                        {form.map((line, i) =>\r\n                            <div key={i} className={title !== 'Delegatário' ? 'divLine' : 'firstDivLine'} style={{ marginTop: i === 0 && '11mm' }}>\r\n                                {line.map((el, k) =>\r\n                                    <TextField\r\n                                        disabled\r\n                                        key={k}\r\n                                        name={el.field}\r\n                                        label={el.label}\r\n                                        className={textField}\r\n                                        multiline={el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? true : false}\r\n                                        rows={\r\n                                            el.value && el.value.length < 86 ? '2' :\r\n                                                el.value && el.value.length < 140 ? '3' : '4'\r\n                                        }\r\n                                        variant={el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? 'outlined' : 'standard'}\r\n                                        value={\r\n                                            el.type === 'date' ? moment(el.value).format('DD-MM-YYYY') :\r\n                                                el.field === 'dataExpedicao' ? moment().format('DD-MM-YYYY') :\r\n                                                    el.value || ''\r\n                                        }\r\n                                        inputProps={{\r\n                                            className: checkMulti(el.field),\r\n                                            style: {\r\n                                                width: el.width || '18mm',\r\n                                                fontSize: '2.7mm',\r\n                                                padding: '1px 0',\r\n                                                margin: '0',\r\n                                                flex: '1',\r\n                                                color: '#000'\r\n                                            }\r\n                                        }}\r\n                                        InputProps={{ style: { padding: el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? '1mm' : '' } }}\r\n                                        InputLabelProps={{\r\n                                            shrink: true,\r\n                                            style: {\r\n                                                fontSize: '13px',\r\n                                                textAlign: 'center !important',\r\n                                                left: el.left || '0',\r\n                                                color: '#000'\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n                <div className='porteObrigatorio'>\r\n                    <img src=\"/images/porteObrigatorio.png\" height='100%' width='100%' alt=\"porte obrigatório\" />\r\n                    <br />\r\n                    Este certificado pode ser verificado em <span className='link' onClick={() => redirect()}> http://www.sismob.mg.gov.br </span>\r\n                </div>\r\n            </div>\r\n            <br />\r\n\r\n            <button title='Imprimir / salvar PDF' className='noprint printButton' onClick={() => window.print()}>\r\n                <PrintTwoToneIcon style={{\r\n                    cursor: 'pointer',\r\n                    color: 'rgb(161, 161, 180)',\r\n                    fontSize: '40pt',\r\n                }} /></button>\r\n        </Fragment>\r\n    )\r\n}","const\r\n    razaoSocial = {\r\n        field: 'razaoSocial',\r\n        label: 'Empresa',\r\n        width: '340px'\r\n    },\r\n    placas = {\r\n        field: 'placas',\r\n        label: 'Veículos cadastrados',\r\n        width: '340px'\r\n    },\r\n    createdAt = {\r\n        field: 'createdAt',\r\n        label: 'Data do registro no sistema',\r\n        type: 'date',\r\n        width: '190px'\r\n    }\r\n\r\nexport const eForm = [\r\n    {\r\n        field: 'delegatarioStatus',\r\n        label: 'Status'\r\n    },\r\n    {\r\n        field: 'vencimentoContrato',\r\n        label: 'Vencimento do Contrato',\r\n        type: 'date',\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n    {\r\n        field: 'frota',\r\n        label: 'Tamanho da Frota'\r\n    },\r\n    {\r\n        field: 'oldId',\r\n        label: 'Código no sistema antigo'\r\n    },\r\n    {\r\n        ...placas\r\n    },\r\n\r\n]\r\n\r\nexport const sForm = [\r\n    {\r\n        ...razaoSocial\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n]\r\n\r\nexport const segForm = [\r\n    {\r\n        ...razaoSocial\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n    {\r\n        ...placas\r\n    },\r\n    {\r\n        field: 'segurados',\r\n        label: 'Número de veículos segurados',\r\n    },\r\n]","export const empresasForm = [\r\n    {\r\n        field: 'razaoSocial',\r\n        label: 'Razão Social',\r\n        width: '340px'\r\n    },\r\n    {\r\n        field: 'cnpj',\r\n        label: 'CNPJ',\r\n        maxLength: 18,\r\n        pattern: /^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2}$/\r\n    },\r\n    {\r\n        field: 'inscricaoEstadual',\r\n        label: 'Inscrição Estadual',\r\n        maxLength: 13,\r\n        pattern: '\\\\d{13}'\r\n    },\r\n    {\r\n        field: 'telefone',\r\n        label: 'Telefone',\r\n        maxLength: 20,\r\n        pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))',\r\n    },\r\n    {\r\n        field: 'email',\r\n        label: 'E-mail',\r\n        type: 'email',\r\n        maxLength: 60,\r\n    },\r\n    {\r\n        field: 'cep',\r\n        label: 'CEP',\r\n        maxLength: 10\r\n    },\r\n    {\r\n        field: 'numero',\r\n        label: 'Número',\r\n        type: 'number',\r\n        max: 32000\r\n    },\r\n    {\r\n        field: 'complemento',\r\n        label: 'Complemento',\r\n        maxLength: 20,\r\n    },\r\n    {\r\n        field: 'rua',\r\n        label: 'Rua',\r\n        maxLength: 100,\r\n    },\r\n    {\r\n        field: 'bairro',\r\n        label: 'Bairro',\r\n        maxLength: 40,\r\n    },\r\n    {\r\n        field: 'cidade',\r\n        label: 'Cidade',\r\n        maxLength: 60,\r\n    },\r\n    {\r\n        field: 'uf',\r\n        label: 'Estado',\r\n        maxLength: 2,\r\n        pattern: '[A-Z]{2}'\r\n    }\r\n]","export const sociosForm = [{\r\n    field: 'nomeSocio',\r\n    label: 'Nome do Sócio',\r\n    maxLength: 90,\r\n    width: 190\r\n},\r\n{\r\n    field: 'cpfSocio',\r\n    label: 'CPF',    \r\n    maxLength: 11,\r\n    pattern: '\\\\d{11}',\r\n    width: 190\r\n},\r\n{\r\n    field: 'telSocio',\r\n    label: 'Telefone',\r\n    maxLength: 16,    \r\n    pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))',\r\n    width: 190\r\n},\r\n{\r\n    field: 'emailSocio',\r\n    label: 'E-mail',\r\n    maxLength: 60,\r\n    width: 190\r\n},\r\n{\r\n    field: 'share',\r\n    label: 'Participação Societária (%)',\r\n    maxLength: 5,\r\n    type: 'number',\r\n    max: 100,\r\n    width: 190    \r\n}]","export const procuradorForm = [{\r\n    field: 'nomeProcurador',\r\n    label: 'Nome do Procurador',\r\n    maxLength: 90,\r\n    width: 320\r\n},\r\n{\r\n    field: 'cpfProcurador',\r\n    label: 'CPF',    \r\n    maxLength: 11,\r\n    pattern: '\\\\d{11}'  \r\n},\r\n{\r\n    field: 'telProcurador',\r\n    label: 'Telefone',    \r\n    type: 'tel',    \r\n    maxLength: 20,\r\n    pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))'\r\n},\r\n{\r\n    field: 'emailProcurador',\r\n    label: 'E-mail',\r\n    type: 'email',\r\n    maxLength: 60,\r\n    pattern: '[a-zA-Z0-9]@([a-zA-Z0-9])?[.]([a-zA-Z0-9])',\r\n    width: 320\r\n}]","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\n\r\nimport { eForm, sForm, segForm } from '../Forms/joinForms'\r\n\r\nimport { cadForm } from '../Forms/cadForm'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport { seguroForm } from '../Forms/seguroForm'\r\n\r\nexport default function ShowDetails({ data, tab, title, header, close }) {\r\n\r\n    let { tableData, ...ultimateData } = data,\r\n        formPattern\r\n\r\n    switch (tab) {\r\n        case 0:            \r\n            formPattern = empresasForm.concat(eForm)\r\n            break;\r\n        case 1:\r\n            formPattern = sociosForm.concat(sForm)\r\n            break;\r\n        case 2:\r\n            formPattern = procuradorForm\r\n            break;\r\n        case 3:\r\n            let { veiculoId, laudoId, tableData, modeloChassiId, modeloCarroceriaId, delegatarioId, ...vData } = data\r\n            vData.dataRegistro = moment(data.dataRegistro).format('DD/MM/YYYY')\r\n            vData.dataEmissao = moment(data.dataEmissao).format('DD/MM/YYYY')\r\n            vData.vencimento = moment(data.vencimento).format('DD/MM/YYYY')\r\n            ultimateData = vData\r\n            formPattern = cadForm\r\n            break;\r\n        case 4:\r\n            formPattern = seguroForm.concat(segForm)\r\n            break;\r\n\r\n        default:\r\n            break;\r\n    }\r\n\r\n    let element = []\r\n\r\n    Object.keys(ultimateData).forEach(key => {\r\n        if (tab === 3) {\r\n            formPattern.forEach(form => {\r\n                form.forEach(({ field, label, type }) => {\r\n                    if (key === field) {\r\n                        let obj = {}\r\n                        Object.assign(obj, { field, label, value: ultimateData[key] })\r\n                        if (type) Object.assign(obj, { type })\r\n                        element.push(obj)\r\n                        obj = {}\r\n                    }\r\n                })\r\n            })\r\n        } else {\r\n            formPattern.forEach(({ field, label, type, width, fullWidth }) => {\r\n                if (key === field) {\r\n                    let obj = {}\r\n                    Object.assign(obj, { field, label, value: ultimateData[key] })\r\n                    if (type) Object.assign(obj, { type })\r\n                    if (width) Object.assign(obj, { width })\r\n                    element.push(obj)\r\n                    obj = {}\r\n                }\r\n            })\r\n        }\r\n    })\r\n\r\n    Object.keys(ultimateData).forEach(key => {\r\n        const equal = element.find(el => el.field === key)\r\n        if (!equal && tab === 3) element.push({ field: key, label: key, value: ultimateData[key] })\r\n    })\r\n\r\n    return (\r\n        <div className=\"popUpWindow\" style={{ left: '20%', right: '20%' }}>\r\n            <h4 className='equipaHeader'>{title} {data[header]}</h4> <hr />\r\n            <div className=\"checkListContainer\" style={{ justifyContent: 'flex-start' }}>\r\n                {\r\n                    element.map(({ field, label, value, type, width }, i) =>\r\n                        <div className=\"showDetailsItem\" style={{ width: width ? width : 150, }} key={i}>\r\n                            <TextField\r\n                                name={field}\r\n                                label={label}\r\n                                value={type === 'date' ? moment(value).format('DD/MM/YYYY') : value || ''}\r\n                                InputLabelProps={{ shrink: true, style: { fontSize: '0.9rem', fontWeight: 500 } }}\r\n                                inputProps={{\r\n                                    style: {\r\n                                        fontSize: '0.7rem',\r\n                                        width: width ? width : 150,\r\n                                        fontColor: '#bbb',\r\n                                        textAlign: 'center'\r\n                                    }\r\n                                }}\r\n                                variant='outlined'\r\n                            />\r\n                        </div>\r\n                    )}\r\n            </div>\r\n            <ClosePopUpButton close={close} />\r\n        </div>\r\n    )\r\n}\r\n","const formatFileSize = (bytes) => {\r\n\r\n    if (bytes > 1024 && bytes < 1048576) {\r\n        return Math.round(bytes / 1024) + ' KB'\r\n\r\n    } else if (bytes >= 1048576 && bytes < (1048576 * 1024)) {\r\n        return ((bytes / 1024) / 1024).toFixed(2) + ' MB'\r\n    } else {\r\n        return bytes + ' bytes'\r\n    }\r\n}\r\n\r\nexport default formatFileSize","import axios from 'axios'\r\n//import { logout } from '../auth/logout';\r\n\r\nconst downloadFile = (id, originalName, collection, fieldName) => {\r\n    if (fieldName && fieldName === 'apoliceDoc') collection = 'empresaDocs'\r\n        axios({\r\n            url: `/api/mongoDownload/?collection=${collection}&id=${id}`,\r\n            method: 'GET',\r\n            responseType: 'blob', // important\r\n        }).then((response) => {\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', originalName);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n        })\r\n            .catch(err => {\r\n                console.log(err)\r\n                //          logout(err)\r\n            })\r\n}\r\n\r\nexport default downloadFile","export const empresaFiles = [\r\n    { title: 'Contrato Social', name: 'contratoSocial' },\r\n    { title: 'Procuração', name: 'procuracao' },\r\n    { title: 'Apólice', name: 'apoliceDoc' }\r\n]","import React from 'react';\r\n\r\nimport formatDate from '../Utils/formatDate'\r\nimport formatFileSize from '../Utils/formatFileSize'\r\nimport download from '../Utils/downloadFile'\r\n\r\nimport ClosePopUpButton from './ClosePopUpButton'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\n\r\nconst divRow = {\r\n    marginBottom: 0,\r\n    display: 'grid',\r\n    grid: '50px / 4% 40% 25% 25%',\r\n    width: '99%',\r\n    margin: 'auto',\r\n    padding: '10px 0 0 0',\r\n    justifyItems: 'auto'\r\n}\r\n\r\nconst ShowFiles = ({ filesCollection, close, format, typeId, empresas }) => {\r\n\r\n    let files = [],\r\n        collection = 'empresaDocs', fileLabels = [...empresaFiles]\r\n\r\n    switch (typeId) {\r\n        case 'veiculoId':\r\n            collection = 'vehicleDocs'\r\n            fileLabels = [...cadVehicleFiles]\r\n            if (!fileLabels.find(f => f.name === 'transferenciaDoc')) fileLabels.push({ title: 'Documento de Transferência', name: 'transferenciaDoc' })\r\n            if (!fileLabels.find(f => f.name === 'newPlateDoc')) fileLabels.push({ title: 'CRLV com nova placa', name: 'newPlateDoc' })\r\n            if (!fileLabels.find(f => f.name === 'apoliceDoc')) fileLabels.push({ title: 'Apólice de seguro', name: 'apoliceDoc' })\r\n            break;\r\n        default: void 0\r\n    }\r\n    console.log('ShowFilesComp, filesCollection', filesCollection)\r\n    if (filesCollection && filesCollection[0]) {\r\n        filesCollection.forEach(obj => {\r\n            fileLabels.forEach(o => {\r\n                if (obj.metadata && o.name === obj.metadata.fieldName) files.push({ ...obj, label: o.title })\r\n            })\r\n        })\r\n    }\r\n\r\n    const getMoreInfo = file => {\r\n        const { metadata } = file\r\n\r\n        switch (metadata.fieldName) {\r\n            case 'procuracao':\r\n                const emp = empresas.find(e => e.delegatarioId === Number(metadata.empresaId))\r\n                return ' - ' + emp.razaoSocial\r\n            case 'apoliceDoc':\r\n                if (metadata.apolice) return ' número ' + metadata.apolice\r\n                else return ' '\r\n            default:\r\n                return ''\r\n        }\r\n    }\r\n    const header = ['Arquivo', 'Data de Upload', 'Tamanho']\r\n    //console.log(filesCollection)\r\n\r\n    if (files[0]) {\r\n        return (\r\n            <div className='popUpWindow'>\r\n                <h5>\r\n                    <img alt=\"\" src=\"/images/folderIcon2.jpg\" style={{ paddingLeft: '20px', marginRight: '20px' }} /> Arquivos\r\n                </h5>\r\n\r\n                <hr style={{ marginBottom: '5px' }} />\r\n                <div style={divRow}>\r\n                    <div>\r\n                        <img alt=\"\" src=\"/images/multipleFiles2.png\" height='50%' />\r\n                    </div>\r\n                    {header.map((title, i) =>\r\n                        <div key={i}>\r\n                            <span style={{ fontSize: '1.2em', fontWeight: 500 }}>{title}</span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <hr style={{ margin: '0 0 20px 0' }} />\r\n                {\r\n                    files.map((file, index) =>\r\n                        <div key={index}>\r\n                            <div style={divRow}>\r\n                                <div className=\"col s1\">\r\n                                    <img alt=\"\" src=\"/images/genericFile.png\" />\r\n                                </div>\r\n                                <div className=\"col s11\">\r\n                                    <span\r\n                                        style={{ textDecoration: 'underline', cursor: 'pointer', color: 'blue' }}\r\n                                        onClick={() => download(file.id, file.filename, collection, file.metadata.fieldName)}>\r\n                                        {file.label + getMoreInfo(file)}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"col s3\">\r\n                                    {formatDate(file.uploadDate, true)}\r\n                                </div>\r\n                                <div className=\"col s3\">\r\n                                    {formatFileSize(file.length)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                <ClosePopUpButton close={close} />\r\n            </div>\r\n        )\r\n    }\r\n    else return null\r\n}\r\n\r\nexport default ShowFiles;","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport moment from 'moment'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport { connect } from 'react-redux'\r\nimport { updateCollection } from '../Store/dataActions'\r\n\r\nimport ConsultasTemplate from './ConsultasTemplate'\r\nimport { TabMenu } from '../Layouts'\r\n\r\nimport Certificate from '../Veiculos/Certificate'\r\nimport ShowDetails from '../Reusable Components/ShowDetails'\r\nimport ShowFiles from '../Reusable Components/ShowFiles'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nconst format = {\r\n    top: '5%',\r\n    left: '10%',\r\n    right: '10%'\r\n}\r\n\r\nclass ConsultasContainer extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.showDetails) this.showDetails()\r\n                if (this.state.showFiles) this.closeFiles()\r\n                if (this.state.showCertificate) this.closeCertificate()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        tab: 0,\r\n        items: ['Empresas', 'Sócios', 'Procuradores', 'Veículos', 'Seguros'],\r\n        tablePKs: ['delegatario_id', 'socio_id', 'procurador_id', 'veiculo_id', 'id'],\r\n        dbTables: ['delegatario', 'socios', 'procurador', 'veiculo', 'seguro'],\r\n        options: ['empresas', 'socios', 'procuradores', 'veiculos', 'seguros'],\r\n        detailsTitle: ['Empresa', 'Sócio', 'Procurador', 'Placa', 'Apólice' ],\r\n        detailsHeader: ['razaoSocial', 'nomeSocio', 'nomeProcurador', 'placa', 'apolice'],\r\n        empresas: [],\r\n        seguros: [],\r\n        razaoSocial: '',\r\n        showDetails: false,\r\n        showFiles: false,\r\n        openDialog: false,\r\n        filesCollection: [],\r\n        elementDetails: '',\r\n        vehicleDocs: [],\r\n        showCertificate: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    changeTab = async (e, value) => {\r\n        await this.setState({ tab: value })\r\n        return\r\n    }\r\n\r\n    showDetails = async (e, elementDetails) => {\r\n        const\r\n            { redux } = this.props,\r\n            { options, tab, tablePKs } = this.state,\r\n            primaryKeys = tablePKs.map(pk => humps.camelize(pk))\r\n\r\n        let updatedElement\r\n\r\n        if (elementDetails) updatedElement = redux[options[tab]].find(e => e[primaryKeys[tab]] === elementDetails[primaryKeys[tab]])\r\n\r\n        if (elementDetails !== undefined && updatedElement) {\r\n            await this.setState({ showDetails: !this.state.showDetails, elementDetails: updatedElement })\r\n            void 0\r\n        }\r\n        else this.setState({ showDetails: !this.state.showDetails, elementDetails: undefined })\r\n    }\r\n\r\n    closeFiles = () => {\r\n        this.setState({ showFiles: !this.state.showFiles })\r\n    }\r\n\r\n    showFiles = id => {\r\n        const\r\n            { tab } = this.state,\r\n            { veiculos, socios, empresaDocs, vehicleDocs } = this.props.redux\r\n\r\n        let selectedFiles = empresaDocs.filter(f => f.metadata.empresaId === id.toString())\r\n        let typeId = 'empresaId'\r\n\r\n        switch (tab) {\r\n            case 1:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.empresaId === id.toString())\r\n                const socio = socios.find(v => v.socioId === id)\r\n                if (socio) {\r\n                    let sociosArray = []\r\n                    selectedFiles = empresaDocs\r\n                        .filter(f => f.metadata.empresaId === socio.delegatarioId.toString())\r\n                        .forEach(f => {\r\n                            if (f.metadata.socios && f.metadata.socios.includes(id))\r\n                                sociosArray.push(f)\r\n                        })\r\n                    selectedFiles = sociosArray\r\n                }\r\n                break\r\n\r\n            case 2:\r\n                typeId = 'procuracaoId'\r\n                let filesToReturn = []\r\n\r\n                empresaDocs.forEach(f => {\r\n                    if (f.metadata.fieldName === 'procuracao') {\r\n                        f.metadata.procuradores.forEach(procId => {\r\n                            if (procId === id) filesToReturn.push(f)\r\n                        })\r\n                    }\r\n                })\r\n                selectedFiles = filesToReturn\r\n                break\r\n            case 3:\r\n                typeId = 'veiculoId'\r\n                selectedFiles = vehicleDocs.filter(f => f.metadata.veiculoId === id.toString())\r\n                const vehicle = veiculos.find(v => v.veiculoId === id)\r\n                if (vehicle) {\r\n                    const seguro = empresaDocs.find(f => f.metadata.apolice === vehicle.apolice.toString())\r\n                    if (seguro) selectedFiles.push(seguro)\r\n                }\r\n                break\r\n            case 4:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.apolice === id.toString())\r\n                break\r\n            default: void 0\r\n        }\r\n\r\n        if (selectedFiles[0]) {\r\n            this.setState({ filesCollection: selectedFiles, showFiles: true, typeId, selectedElement: id })\r\n\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n            this.setState({ filesCollection: [] })\r\n        }\r\n    }\r\n\r\n    deleteHandler = data => {\r\n        const { dbTables, tablePKs, tab } = this.state,\r\n            table = dbTables[tab],\r\n            tablePK = tablePKs[tab],\r\n            itemId = humps.camelize(tablePK)\r\n\r\n        axios.delete(`/api/delete?table=${table}&tablePK=${tablePK}&id=${data[itemId]}`)\r\n            .then(r => console.log(r.data))\r\n    }\r\n\r\n    showCertificate = async vehicle => {\r\n\r\n        const\r\n            { situacao, vencimento, vencimentoContrato } = vehicle,\r\n            seguroVencido = moment(vencimento).isBefore(),\r\n            contratoVencido = moment(vencimentoContrato).isBefore()\r\n\r\n        if (situacao !== 'Ativo') {\r\n            await this.setState({ alertType: 'veiculoPendente', openAlertDialog: true })\r\n            return\r\n        }\r\n        if (seguroVencido) {\r\n            await this.setState({ alertType: 'seguroVencido', openAlertDialog: true })\r\n            return\r\n        }\r\n        if (contratoVencido) {\r\n            await this.setState({ alertType: 'contratoVencido', openAlertDialog: true })\r\n            return\r\n        }\r\n\r\n        const url = window.location.origin + '/crv'\r\n        localStorage.setItem('vehicle', JSON.stringify(vehicle))\r\n        window.open(url, 'noopener')\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    closeCertificate = () => this.setState({ showCertificate: !this.state.showCertificate })\r\n\r\n    render() {\r\n        const\r\n            { tab, options, items, showDetails, elementDetails, showFiles, selectedElement, filesCollection,\r\n                openAlertDialog, alertType, typeId, tablePKs, showCertificate, certified, detailsTitle, detailsHeader } = this.state,\r\n            { redux } = this.props,\r\n            { empresas } = redux,\r\n            primaryKeys = tablePKs.map(pk => humps.camelize(pk))\r\n\r\n        let updatedElement\r\n        if (elementDetails && showDetails) updatedElement = redux[options[tab]].find(e => e[primaryKeys[tab]] === elementDetails[primaryKeys[tab]])\r\n\r\n        return <Fragment>\r\n            <TabMenu items={items}\r\n                tab={tab}\r\n                changeTab={this.changeTab} />\r\n            <ConsultasTemplate\r\n                tab={tab}\r\n                items={items}\r\n                collection={this.props.redux[options[tab]]}\r\n                showDetails={this.showDetails}\r\n                showFiles={this.showFiles}\r\n                del={this.deleteHandler}\r\n                showCertificate={this.showCertificate}\r\n            />\r\n            {showDetails &&\r\n                <ShowDetails\r\n                    close={this.showDetails}\r\n                    data={updatedElement || elementDetails}\r\n                    tab={tab}\r\n                    title={detailsTitle[tab]}\r\n                    header={detailsHeader[tab]}\r\n                />\r\n            }\r\n            {\r\n                showCertificate &&\r\n                <Certificate vehicle={certified} />\r\n            }\r\n            {showFiles &&\r\n                <ShowFiles\r\n                    tab={tab}\r\n                    elementId={selectedElement}\r\n                    filesCollection={filesCollection}\r\n                    close={this.closeFiles}\r\n                    format={format}\r\n                    typeId={typeId}\r\n                    empresas={empresas} />\r\n            }\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'socios', 'procuradores', 'seguros', 'seguradoras',\r\n    'getFiles/vehicleDocs', 'getFiles/empresaDocs']\r\n\r\nexport default connect(null, { updateCollection })(StoreHOC(collections, ConsultasContainer))","import React from 'react'\r\n\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1),\r\n        height: 'auto',\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 500,\r\n        textAlign: 'center'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 300,\r\n        fontColor: '#bbb',\r\n        textAlign: 'center'\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    dropBox: {\r\n        margin: '2% 0',\r\n    },\r\n    dropBoxItem: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '17px',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#4169E1',\r\n        backgroundColor: '#fafafa'\r\n    },\r\n    dropBoxItem2: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '0 1% 0 1%',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#00000',\r\n        backgroundColor: '#fafafa'\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, data, handleFiles }) {\r\n    const { activeStep, stepTitles, dropDisplay } = data,\r\n        classes = useStyles(), { paper, container, title, dropBox, dropBoxItem, dropBoxItem2 } = classes\r\n\r\n    let form = empresasForm\r\n\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <Grid>\r\n                {\r\n                    true\r\n                        ?\r\n                        <Grid item xs={12}>\r\n                            <Paper className={paper}>\r\n                                <Typography className={title}> {stepTitles[activeStep]}</Typography>\r\n                                <TextInput\r\n                                    form={form}\r\n                                    data={data}\r\n                                    handleBlur={handleBlur}\r\n                                    handleInput={handleInput}\r\n                                />\r\n                                <Dropzone onDrop={handleFiles}>\r\n                                    {({ getRootProps, getInputProps }) => (\r\n                                        <Grid container justify=\"center\" alignItems='center' className={dropBox} direction='row' {...getRootProps()}>\r\n                                            <input {...getInputProps()} />\r\n                                            {\r\n                                                dropDisplay.match('Clique ou') ?\r\n                                                    <Grid item xs={6} className={dropBoxItem}> {dropDisplay} </Grid>\r\n                                                    :\r\n                                                    <Grid item xs={6} className={dropBoxItem2}> <DescriptionOutlinedIcon />  {dropDisplay} <br /> (clique ou arraste outro arquivo para alterar)</Grid>\r\n                                            }\r\n                                        </Grid>\r\n                                    )}\r\n                                </Dropzone>\r\n                            </Paper>\r\n                        </Grid >\r\n                        :\r\n                        <Grid container justify=\"center\">\r\n                            <div className={classes.formHolder}></div>\r\n                        </Grid>\r\n                }\r\n            </Grid>\r\n        </Grid >\r\n    )\r\n}","import React, { Fragment } from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { sociosForm as form } from '../Forms/sociosForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1)\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 500,\r\n        textAlign: 'center'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 200,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    },\r\n    addButton: {\r\n        marginBottom: '1%',\r\n        padding: '1% 0'\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, data, addSocio, removeSocio, handleFiles, enableEdit, handleEdit }) {\r\n    const { activeStep, stepTitles, socios } = data,\r\n        classes = useStyles(), { paper, container, title, iconButton, list, addButton } = classes\r\n\r\n    const errorHandler = (el) => {\r\n\r\n        const value = data[el.field]\r\n\r\n        if (el.pattern && value) {\r\n            return value.match(el.pattern) === null\r\n        }\r\n        if (value > el.max || value < el.min) return true\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        const value = data[el.field]\r\n\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return undefined\r\n    }\r\n    \r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <Grid>\r\n                <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        <Typography className={title}> {stepTitles[activeStep]}</Typography>\r\n\r\n                        {\r\n                            form.map((el, i) =>\r\n                                <Fragment key={i}>\r\n                                    <TextField\r\n                                        name={el.field}\r\n                                        label={el.label}\r\n                                        margin='normal'\r\n                                        className={classes.textField}\r\n                                        onChange={handleInput}\r\n                                        onBlur={handleBlur}\r\n                                        type={el.type || ''}\r\n                                        error={errorHandler(el)}\r\n                                        helperText={helper(el)}\r\n                                        select={el.select || false}\r\n                                        value={data[el.field] || ''}\r\n                                        disabled={el.disabled || false}\r\n                                        InputLabelProps={{\r\n                                            className: classes.textField,\r\n                                            shrink: el.type === 'date' || undefined,\r\n                                            style: { fontSize: '0.75rem', fontWeight: 400, color: '#455a64', marginBottom: '5%' }\r\n                                        }}\r\n                                        inputProps={{\r\n                                            style: { background: el.disabled && data.disable ? '#fff' : '#fafafa',  height: '7px' },\r\n                                            value: `${data[el.field] || ''}`,\r\n                                            list: el.datalist || '',\r\n                                            maxLength: el.maxLength || '',\r\n                                            minLength: el.minLength || '',\r\n                                            max: el.max || '',\r\n                                        }}\r\n                                        multiline={el.multiline || false}\r\n                                        rows={el.rows || null}\r\n                                        variant={el.variant || 'filled'}\r\n                                        fullWidth={el.fullWidth || false}\r\n                                    >\r\n                                        {el.select === true && el.options.map((opt, i) =>\r\n                                            <MenuItem key={i} value={opt}>\r\n                                                {opt}\r\n                                            </MenuItem>)}\r\n                                    </TextField>\r\n                                </Fragment>\r\n                            )}\r\n                        <Button color='primary' className={addButton} onClick={addSocio}>\r\n                            <AddIcon /> Adicionar sócio\r\n                        </Button>\r\n                    </Paper>\r\n                </Grid>\r\n                {\r\n                    socios.length > 0 && <Grid container\r\n                        direction=\"row\"\r\n                        className={container}\r\n                        justify=\"center\"\r\n                        alignItems=\"center\">\r\n                        <Grid item xs={12}>\r\n                            <Paper className={paper}>\r\n                                <p className={title}>{activeStep === 1 ? 'Sócios' : 'Procuradores'} cadastrados</p>\r\n                                {socios.map((s, i) =>\r\n                                    <Grid key={i}>\r\n                                        {form.map((e, k) =>\r\n                                            <Fragment key={k + 1000}>\r\n                                                <TextField\r\n                                                    value={s[e.field] || ''}\r\n                                                    name={e.field}\r\n                                                    label={e.label}\r\n                                                    className={list}\r\n                                                    disabled={e.field === 'cpfSocio' ? true : s.edit ? false : true}\r\n                                                    onChange={handleEdit}\r\n                                                    InputLabelProps={{ shrink: true, style: { fontWeight: 600 } }}\r\n                                                />\r\n                                            </Fragment>\r\n                                        )}\r\n                                        <Button component='span' className={iconButton} title='editar' onClick={() => enableEdit(i)}>\r\n                                            <EditIcon />\r\n                                        </Button>\r\n\r\n                                        <Button className={iconButton} color='secondary' title='Remover' onClick={() => removeSocio(i)}>\r\n                                            <DeleteIcon />\r\n                                        </Button>\r\n                                    </Grid>\r\n                                )}\r\n                            </Paper>\r\n                        </Grid>\r\n                    </Grid>\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\n\r\nimport ShowLocalFiles from '../Utils/ShowLocalFiles'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 5px 0',\r\n        height: 'auto'\r\n    }\r\n}))\r\n\r\nexport default function Revisao({ data, empresasForm, sociosForm, filesForm, files }) {\r\n\r\n    const { socios } = data,\r\n        classes = useStyles(),\r\n        { paper } = classes\r\n\r\n    let empresaDetails = [], obj = {}, filledForm = [], ultimateData\r\n\r\n    empresasForm.forEach(e => {\r\n        if (data.hasOwnProperty([e.field])) {\r\n            Object.assign(obj, { [e.field]: data[e.field] })\r\n            filledForm.push(e)\r\n        }\r\n    })\r\n    empresaDetails.push(obj)\r\n\r\n    ultimateData = [\r\n        { subtitle: 'Detalhes da empresa', form: filledForm, data: empresaDetails },\r\n        { subtitle: 'Informações sobre os sócios', form: sociosForm, data: socios }\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <Paper className={paper}>\r\n                <div className='divTable'>\r\n                    {\r\n                        ultimateData.map(({ subtitle, form, data }, y) =>\r\n                            <Fragment key={y}>\r\n                                <table>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className='tHeader'\r\n                                                colSpan={form.length}>{subtitle}</th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            {form.map((s, i) => <th key={i}>{s.label}</th>)}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {y === 0 && <tr>\r\n                                            {data.map((obj, j) =>\r\n                                                Object.values(obj).map((el, k) =>\r\n                                                    <td className='review' key={k}>\r\n                                                        {el}\r\n                                                    </td>\r\n                                                )\r\n                                            )}\r\n                                        </tr>}\r\n                                        {y !== 0 && data.map((obj, j) =>\r\n                                            <tr>\r\n                                                {Object.values(obj).map((el, k) =>\r\n                                                    <td className='review' key={k}>\r\n                                                        {el}\r\n                                                    </td>\r\n                                                )}\r\n                                            </tr>\r\n                                        )}\r\n                                    </tbody>\r\n                                </table>\r\n\r\n                            </Fragment>\r\n                        )}\r\n                </div>\r\n\r\n                <h3 style={{ margin: '30px 0 0 25px' }}> <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} /> Documentos </h3>\r\n                {files && <ShowLocalFiles form={filesForm} files={files} />}\r\n            </Paper >\r\n        </>\r\n    )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport EmpresasTemplate from './EmpresasTemplate'\r\nimport SociosTemplate from './SociosTemplate'\r\nimport Review from './EmpresaReview'\r\n\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport Crumbs from '../Utils/Crumbs'\r\n\r\nimport StepperButtons from '../Utils/StepperButtons'\r\nimport CustomStepper from '../Utils/Stepper'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass EmpresasContainer extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        activeStep: 0,\r\n        stepTitles: ['Preencha os dados da empresa', 'Informações sobre os sócios',\r\n            'Revisão'],\r\n        steps: ['Dados da Empresa', 'Sócios', 'Revisão'],\r\n        razaoSocial: '',\r\n        toastMsg: 'Empresa cadastrada!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        socios: [],\r\n        dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n        showFiles: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const { name, value } = e.target\r\n        this.setState({ [name]: value })\r\n    }\r\n\r\n    addSocio = async () => {\r\n        let socios = this.state.socios,\r\n            sObject = {},\r\n            invalid = 0,\r\n            totalShare = 0\r\n\r\n        sociosForm.forEach(obj => {\r\n            if (this.state[obj.field] === '' || this.state[obj.field] === undefined) {\r\n                invalid += 1\r\n            }\r\n        })\r\n\r\n        if (invalid === 100) {\r\n            this.setState({ alertType: 'fieldsMissing', openAlertDialog: true })\r\n            return null\r\n        } else {\r\n            sociosForm.forEach(obj => {\r\n                Object.assign(sObject, { [obj.field]: this.state[obj.field] })\r\n            })\r\n            socios.push(sObject)\r\n\r\n            socios.forEach(s => {\r\n                totalShare += Number(s.share)\r\n            })\r\n            if (totalShare > 100) {\r\n                socios.pop()\r\n                this.setState({ alertType: 'overShared', openAlertDialog: true })\r\n            }\r\n            else {\r\n                await this.setState({ socios, totalShare })\r\n                sociosForm.forEach(obj => {\r\n                    this.setState({ [obj.field]: '' })\r\n                })\r\n                document.getElementsByName('nomeSocio')[0].focus()\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    enableEdit = index => {\r\n\r\n        let editSocio = this.state.socios\r\n        if (editSocio[index].edit === true) editSocio[index].edit = false\r\n        else {\r\n            editSocio.forEach(s => s.edit = false)\r\n            editSocio[index].edit = true\r\n        }\r\n        this.setState({ socios: editSocio })\r\n\r\n    }\r\n\r\n    handleEdit = e => {\r\n        const { name } = e.target, { socios } = this.state\r\n\r\n        let { value } = e.target\r\n        if (name === 'share') value = value.replace(',', '.')\r\n\r\n        let editSocio = socios.filter(s => s.edit === true)[0]\r\n        const index = socios.indexOf(editSocio)\r\n\r\n        editSocio[name] = value\r\n\r\n        let fs = socios\r\n        fs[index] = editSocio\r\n\r\n        this.setState({ filteredSocios: fs })\r\n\r\n    }\r\n\r\n    removeSocio = index => {\r\n        let socios = this.state.socios\r\n        socios.splice(index, 1)\r\n        this.setState({ socios })\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId, alertLabel) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            alert(alertLabel + ' não cadastrado')\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    handleBlur = async  e => {\r\n        const { empresas } = this.props.redux\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n            case 'cnpj':\r\n                const alreadyExists = empresas.filter(e => e.cnpj === value)\r\n                if (alreadyExists[0]) {\r\n                    this.setState({ cnpj: '' })\r\n                    this.setState({ alertType: alreadyExists[0], openAlertDialog: true })\r\n                }\r\n                break;\r\n            case 'share':\r\n                value = value.replace(',', '.')\r\n                if (value > 100) {\r\n                    this.setState({ alertType: 'overShared', openAlertDialog: true })\r\n                }\r\n                else {\r\n                    const totalShare = Number(this.state.totalShare) + Number(value)\r\n                    this.setState({ [name]: value, totalShare })\r\n                }\r\n                break;\r\n            case 'numero':\r\n                if (value && !value.match(/^\\d+$/)) {\r\n                    await this.setState({ numero: '' })\r\n                    this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    handleFiles = (file) => {\r\n        let formData = new FormData()\r\n        formData.append('contratoSocial', file[0])\r\n        this.setState({ dropDisplay: file[0].name, contratoSocial: formData })\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        let { socios, contratoSocial } = this.state,\r\n            empresa = {},\r\n            contratoFile = new FormData(),\r\n            empresaId\r\n\r\n        empresasForm.forEach(e => {\r\n            if (this.state.hasOwnProperty([e.field])) {\r\n                Object.assign(empresa, { [e.field]: this.state[e.field] })\r\n            }\r\n        })\r\n\r\n        empresa.delegatarioStatus = 'Ativo'\r\n\r\n        Object.entries(empresa).forEach(([k, v]) => {\r\n            if (!v || v === '') delete empresa[k]\r\n        })\r\n\r\n        socios.forEach(s => {\r\n            delete s.edit\r\n            Object.entries(s).forEach(([k, v]) => {\r\n                if (!v || v === '') delete socios[k]\r\n            })\r\n        })\r\n\r\n        empresa = humps.decamelizeKeys(empresa)\r\n        socios = humps.decamelizeKeys(socios)\r\n\r\n        await axios.post('/api/empresaFullCad', { empresa, socios })\r\n            .then(delegatarioId => {\r\n                empresaId = delegatarioId.data\r\n            })\r\n\r\n        if (contratoSocial) {\r\n            contratoFile.append('fieldName', 'contratoSocial')\r\n            contratoFile.append('empresaId', empresaId)\r\n            for (let pair of contratoSocial.entries()) {\r\n                contratoFile.append(pair[0], pair[1])\r\n            }\r\n            await axios.post('/api/empresaUpload', contratoFile)\r\n                .then(r => console.log('file ok.'))\r\n        }\r\n\r\n        this.toast()\r\n        this.resetState()\r\n\r\n    }\r\n    resetState = () => {\r\n        let\r\n            resetEmpresa = {},\r\n            resetSocios = {},\r\n            resetFiles = {}\r\n\r\n        empresasForm.forEach(obj => {\r\n            Object.keys(obj).forEach(key => {\r\n                if (key === 'field' && this.state[obj[key]]) Object.assign(resetEmpresa, { [obj[key]]: undefined })\r\n            })\r\n        })\r\n\r\n        sociosForm.forEach(obj => {\r\n            Object.keys(obj).forEach(key => {\r\n                if (key === 'field' && this.state[obj[key]]) Object.assign(resetSocios, { [obj[key]]: undefined })\r\n            })\r\n        })\r\n\r\n        empresaFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: undefined })\r\n        })\r\n\r\n        this.setState({\r\n            ...resetEmpresa,\r\n            ...resetSocios,\r\n            ...resetFiles,\r\n            activeStep: 0,\r\n            razaoSocial: '',\r\n            files: [],\r\n            fileNames: [],\r\n            addedSocios: [0],\r\n            totalShare: 0,\r\n            socios: [],\r\n            dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n            showFiles: false\r\n        })\r\n    }\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    showFiles = () => this.setState({ showFiles: true })\r\n    closeFiles = () => this.setState({ showFiles: !this.state.showFiles })\r\n\r\n    render() {\r\n\r\n        const { activeStep, confirmToast, toastMsg, steps, openAlertDialog,\r\n            alertType, contratoSocial } = this.state\r\n\r\n        return <Fragment>\r\n\r\n            <Crumbs links={['Empresas', '/empresas']} text='Cadastro de empresas' />\r\n\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            {\r\n                activeStep === 0 ?\r\n                    <EmpresasTemplate\r\n                        data={this.state}\r\n                        handleInput={this.handleInput}\r\n                        handleBlur={this.handleBlur}\r\n                        handleFiles={this.handleFiles}\r\n                    />\r\n                    : activeStep === 1 ?\r\n                        <SociosTemplate\r\n                            data={this.state}\r\n                            handleInput={this.handleInput}\r\n                            handleBlur={this.handleBlur}\r\n                            addSocio={this.addSocio}\r\n                            removeSocio={this.removeSocio}\r\n                            handleFiles={this.handleFiles}\r\n                            enableEdit={this.enableEdit}\r\n                            handleEdit={this.handleEdit}\r\n                        />\r\n                        :\r\n                        activeStep === 2 && <Review\r\n                            files={contratoSocial}\r\n                            filesForm={empresaFiles} data={this.state}\r\n                            sociosForm={sociosForm} empresasForm={empresasForm}\r\n                        />\r\n            }\r\n            <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleSubmit}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['empresas']\r\n\r\nexport default (StoreHOC(collections, EmpresasContainer))","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActionArea from '@material-ui/core/CardActionArea'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Hidden from '@material-ui/core/Hidden'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    toolbar: {\r\n        borderBottom: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    toolbarTitle: {\r\n        flex: 1,\r\n    },\r\n    toolbarSecondary: {\r\n        justifyContent: 'space-between',\r\n        overflowX: 'auto',\r\n    },\r\n    toolbarLink: {\r\n        padding: theme.spacing(1),\r\n        flexShrink: 0,\r\n    },\r\n    mainFeaturedPost: {\r\n        position: 'relative',\r\n        backgroundColor: theme.palette.grey[100],\r\n        color: theme.palette.common.white,\r\n        marginBottom: theme.spacing(4),\r\n        backgroundImage: '/images/empresaBg2.jpg',\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n    },\r\n    overlay: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        left: 0,\r\n        backgroundColor: 'rgba(0,0,0,.1)',\r\n    },\r\n    mainFeaturedPostContent: {\r\n        position: 'relative',\r\n        padding: theme.spacing(3),\r\n        [theme.breakpoints.up('md')]: {\r\n            padding: theme.spacing(6),\r\n            paddingRight: 0,\r\n        },\r\n    },\r\n    mainGrid: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    card: {\r\n        display: 'flex',\r\n    },\r\n    cardDetails: {\r\n        flex: 1,\r\n    },\r\n    cardMedia: {\r\n        width: '120px',\r\n        height: '180px'\r\n    },\r\n    markdown: {\r\n        ...theme.typography.body2,\r\n        padding: theme.spacing(3, 0),\r\n    },\r\n    sidebarAboutBox: {\r\n        padding: theme.spacing(2),\r\n        backgroundColor: theme.palette.grey[200],\r\n    },\r\n    sidebarSection: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    footer: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        marginTop: theme.spacing(8),\r\n        padding: theme.spacing(6, 0),\r\n    },\r\n}));\r\n\r\nconst featuredPosts = [\r\n    {\r\n        title: 'Cadastrar',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastrar uma nova empresa no sistema.',\r\n        imageUrl: '/images/addCompany21.png',\r\n        link: '/empresas/cadastro'\r\n    },\r\n    {\r\n        title: 'Sócios',\r\n        date: '07/Nov',\r\n        description:\r\n            'Gerenciar sócios e alterações de contrato social',\r\n        link: '/empresas/socios',\r\n        imageUrl: '/images/socios3.png'\r\n    },\r\n    {\r\n        title: 'Procuradores',\r\n        date: '07/Nov',\r\n        description:\r\n            'Alterar relação de procuradores e procurações',\r\n        link: '/empresas/procuradores',\r\n        imageUrl: '/images/procuradores31.png'\r\n    },\r\n]\r\n\r\nexport default function () {\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n            <div style={{\r\n                minHeight: '83vh',\r\n                height: 'auto'\r\n            }}>\r\n                <main>\r\n                    <Paper className={classes.mainFeaturedPost}>\r\n                        <div style={{  height: '90px', width: '100%' }}>\r\n                            <img src=\"/images/empresasBg2.jpg\" alt=\"Empresas\" width='100%' height= '280px'/>\r\n                        </div>\r\n                        <div className={classes.overlay} />\r\n                        <Grid container>\r\n                            <Grid item md={4}>\r\n                                <div className={classes.mainFeaturedPostContent}>\r\n                                    <Typography component=\"h1\" variant=\"h4\" gutterBottom>\r\n                                        Empresas\r\n                                    </Typography>\r\n                                    <Typography variant=\"body1\" paragraph>\r\n                                        Selecione uma das opções abaixo.\r\n                                    </Typography>\r\n                                </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                    <Grid container spacing={4} className={classes.cardGrid}>\r\n                        {featuredPosts.map(post => (\r\n                            <Grid item key={post.title} xs={12} md={4}>\r\n                                <Link to={post.link} style={{ textDecoration: 'none' }}>\r\n                                    <CardActionArea component=\"span\" >\r\n                                        <Card className={classes.card}>\r\n                                            <div className={classes.cardDetails}>\r\n                                                <CardContent>\r\n                                                    <Typography component=\"h2\" variant=\"h6\">\r\n                                                        {post.title}\r\n                                                    </Typography>\r\n                                                    <br />\r\n                                                    <Typography variant=\"body2\" paragraph>\r\n                                                        {post.description}\r\n                                                    </Typography>\r\n                                                    <Typography variant=\"body2\" color=\"primary\">\r\n\r\n                                                        {post.title}\r\n\r\n                                                    </Typography>\r\n                                                </CardContent>\r\n                                            </div>\r\n                                            <Hidden xsDown>\r\n                                                <CardMedia\r\n                                                    className={classes.cardMedia}\r\n                                                    component=\"img\"\r\n                                                    src={post.imageUrl}\r\n                                                    title={post.title}\r\n                                                />\r\n                                            </Hidden>\r\n                                        </Card>\r\n                                    </CardActionArea>\r\n                                </Link>\r\n                            </Grid>\r\n                        ))}\r\n                    </Grid>\r\n                </main>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nconst StyledTableCell = withStyles(theme => ({\r\n    head: {\r\n        backgroundColor: '#e1f5fe',\r\n        color: '#00000',\r\n        fontWeight: 600,\r\n        fontSize: 14,\r\n    },\r\n    body: {\r\n        fontSize: 14,\r\n\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledCell = withStyles(theme => ({\r\n    head: {\r\n        backgroundColor: '#e1f5fe',\r\n        color: '#00000',\r\n    },\r\n    body: {\r\n        fontSize: 13,\r\n\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles(theme => ({\r\n    root: {\r\n        '&:nth-of-type(odd)': {\r\n            backgroundColor: theme.palette.background.default,\r\n        },\r\n    },\r\n}))(TableRow);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: '1',\r\n        padding: '1%',\r\n        textAlign: 'center'\r\n    },\r\n    title: {\r\n        marginTop: '2%',\r\n        fontColor: '#000',\r\n        fontSize: '0.9rem',\r\n        backgroundColor: '#B2DCEA',\r\n        textAlign: 'center'\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(2),\r\n        width: \"100%\",\r\n        padding: '2% 0 1% 0',\r\n        height: 'auto'\r\n    },\r\n    table: {\r\n        marginBottom: theme.spacing(2),\r\n        overflowX: 'auto'\r\n    }\r\n}))\r\n\r\n\r\nexport default function Procurador({ procuracao, procuradores }) {\r\n\r\n    const classes = useStyles(),\r\n        { title, table } = classes\r\n\r\n    let procArray = []\r\n\r\n    procuracao.procuradores.forEach(id => {\r\n        const pro = procuradores.find(p => p.procuradorId === id)\r\n        procArray.push(pro)\r\n    })\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div style={{ width: '100%', align: 'left' }}>\r\n                <Typography className={title}> Procuradores cadastrados </Typography>\r\n            </div>\r\n            <Table className={table}>\r\n                <TableHead>\r\n                    <StyledTableRow>\r\n                        {procuradorForm.map((s, i) => <StyledTableCell key={i}>{s.label}</StyledTableCell>)}\r\n                    </StyledTableRow>\r\n                </TableHead>\r\n                { procArray.map((d, j) =>\r\n                    d ?\r\n                        <TableBody key={j}>\r\n                            <TableRow>\r\n                                {\r\n                                    procuradorForm.map((obj, l) =>\r\n                                        <StyledCell key={l}>\r\n                                            {d[obj.field]}\r\n                                        </StyledCell>\r\n                                    )\r\n                                }\r\n                            </TableRow>\r\n                        </TableBody>\r\n                        :\r\n                        null\r\n                )}\r\n            </Table>\r\n        </ React.Fragment>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\nimport moment from 'moment'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nimport AddCircleOutlineSharpIcon from '@material-ui/icons/AddCircleOutlineSharp';\r\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\r\n\r\nimport Procurador from './Procurador'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\n\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\n\r\nconst divContainer = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    alignContent: 'center',\r\n    flexWrap: 'wrap',\r\n    position: 'relative'\r\n}\r\n\r\nconst divFiles = {\r\n    textAlign: 'center',\r\n    alignItems: 'flex-start',\r\n    justify: 'space-between',\r\n    lineHeight: '40px',\r\n    border: '1px #ccc solid',\r\n    padding: '0 1%',\r\n    margin: '1% 1% 0.5% 1%',\r\n    fontSize: '0.8rem',\r\n    backgroundColor: '#f6f6f6',\r\n    borderRadius: '6px',\r\n    width: 180\r\n}\r\n\r\nconst icon = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    paddingLeft: '2%'\r\n}\r\n\r\nconst fileIcon = {\r\n    verticalAlign: 'middle',\r\n    padding: '0 0% 0 2%',\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1),\r\n        height: 'auto',\r\n        backgroundColor: '#fafafa',\r\n    },\r\n    containerList: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(2),\r\n        height: 'auto',\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        textAlign: 'center',\r\n        fontSize: '1.1rem'\r\n    },\r\n    selector: {\r\n        width: '380px',\r\n        fontSize: '0.8rem',\r\n        margin: '10px 0',\r\n        textAlign: 'center'\r\n\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center'\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1),\r\n    },\r\n    paper2: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1),\r\n        position: 'relative'\r\n    },\r\n\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    },\r\n    addButton: {\r\n        padding: '5px 10px 5px 8px',\r\n        height: '40px',\r\n        margin: '5px',\r\n        float: 'right',\r\n        fontSize: '0.8rem'\r\n    },\r\n    dropBox: {\r\n        margin: '30px 0 15px 0',\r\n    },\r\n    dropBoxItem: {\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '60px',\r\n        padding: '10px 15px 0 15px',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#4169E1',\r\n        backgroundColor: '#fafafa'\r\n\r\n    },\r\n    dropBoxItem2: {\r\n        margin: '1% 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '60px',\r\n        padding: '0 1% 0 1%',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        color: 'black',\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, redux, data, addProc, removeProc,\r\n    handleFiles, getFile, plusOne, minusOne }) {\r\n    const { procDisplay, selectedEmpresa, procsToAdd, selectedDocs } = data,\r\n        { empresas, procuradores } = redux,\r\n\r\n        classes = useStyles(), {\r\n            paper, container, title, dropBox,\r\n            dropBoxItem, dropBoxItem2, addButton, paper2, containerList } = classes\r\n\r\n    const errorHandler = (el) => {\r\n\r\n        const value = data[el.field]\r\n\r\n        if (el.pattern && value) {\r\n            return value.match(el.pattern) === null\r\n        }\r\n        if (value > el.max || value < el.min) return true\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        const value = data[el.field]\r\n\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return undefined\r\n    }\r\n\r\n    const handleDates = (date) => {\r\n\r\n        if (date) return moment(date).format('DD-MM-YYYY')\r\n        else return ''\r\n    }\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"flex-start\"\r\n        >\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}                \r\n            />\r\n            {selectedEmpresa && <Paper className={paper2}>\r\n                <Typography className={title}> Cadastrar nova procuração </Typography>\r\n                <h4 style={{ fontWeight: 400, fontSize: '0.9em' }}> Se a procuração abranger mais de um procurador, clique em \"+\" para adicionar e anexe apenas 1 vez.</h4>\r\n                {procsToAdd.map((p, j) =>\r\n                    <Grid item xs={12} key={j} style={{ float: 'left' }}>\r\n                        {procuradorForm.map((el, i) =>\r\n                            <Fragment key={i}>\r\n                                <TextField\r\n                                    name={el.field + j}\r\n                                    label={el.label}\r\n                                    margin='normal'\r\n                                    className={classes.textField}\r\n                                    onChange={e => handleInput(e)}                                    \r\n                                    type={el.type || ''}\r\n                                    error={errorHandler(el)}\r\n                                    helperText={helper(el)}\r\n                                    select={el.select || false}\r\n                                    value={data[el.field + j] || ''}\r\n                                    disabled={el.disabled || false}\r\n                                    InputLabelProps={{\r\n                                        className: classes.textField,\r\n                                        shrink: el.type === 'date' || undefined,\r\n                                        style: { fontSize: '0.7rem', fontWeight: 400, color: '#888' }\r\n                                    }}\r\n                                    inputProps={{\r\n                                        style: {\r\n                                            background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                            fontSize: '0.9rem', textAlign: 'center', color: '#000', width: el.width || 150, height: '7px'\r\n                                        },\r\n                                        value: `${data[el.field + j] || ''}`,\r\n                                        list: el.datalist || '',\r\n                                        maxLength: el.maxLength || '',\r\n                                        minLength: el.minLength || '',\r\n                                        max: el.max || '',\r\n                                    }}\r\n                                    multiline={el.multiline || false}\r\n                                    rows={el.rows || null}\r\n                                    variant={el.variant || 'filled'}\r\n                                    fullWidth={el.fullWidth || false}\r\n                                >\r\n                                </TextField>\r\n                                {j === procsToAdd.length - 1 && i === 3 &&\r\n                                    <>\r\n                                        <AddCircleOutlineSharpIcon\r\n                                            onClick={() => plusOne()}\r\n                                            style={{\r\n                                                verticalAlign: 'middle',\r\n                                                position: 'absolute',\r\n                                                bottom: '136px',\r\n                                                right: j > 0 ? '15px' : '35px',\r\n                                                color: '#009688',\r\n                                                fontSize: 30,\r\n                                                cursor: 'pointer',\r\n                                                zIndex: 1\r\n                                            }}\r\n                                        />\r\n                                        {j > 0 && <RemoveCircleOutlineIcon\r\n                                            onClick={() => minusOne()}\r\n                                            style={{\r\n                                                verticalAlign: 'middle',\r\n                                                position: 'absolute',\r\n                                                bottom: '136px',\r\n                                                right: '45px',\r\n                                                color: 'red',\r\n                                                fontSize: 30,\r\n                                                cursor: 'pointer',\r\n                                                zIndex: 1\r\n                                            }}\r\n                                        />}\r\n                                    </>\r\n                                }\r\n                            </Fragment>\r\n                        )}\r\n                    </Grid>\r\n                )}\r\n                <Grid container style={{ position: 'relative' }}>\r\n                    <Grid item xs={6}>\r\n                        <Dropzone onDrop={handleFiles}>\r\n                            {({ getRootProps, getInputProps }) => (\r\n                                <Grid container justify=\"center\"\r\n                                    alignItems='center' className={dropBox} direction='row' {...getRootProps()}>\r\n                                    <input {...getInputProps()} />\r\n                                    {\r\n                                        procDisplay.match('Clique ou') ?\r\n                                            <Grid item xs={6} className={dropBoxItem}> {procDisplay} </Grid>\r\n                                            :\r\n                                            <Grid item xs={6} className={dropBoxItem2}> <DescriptionOutlinedIcon />  {procDisplay} <br /> (clique ou arraste outro arquivo para alterar)</Grid>\r\n                                    }\r\n                                </Grid>\r\n                            )}\r\n                        </Dropzone>\r\n                    </Grid>\r\n                    <Grid item xs={6} className={dropBox}>\r\n                        <TextField\r\n                            name='vencimento'\r\n                            label='Vencimento'\r\n                            margin='normal'\r\n                            className={classes.textField}\r\n                            onChange={e => handleInput(e)}\r\n                            type='date'\r\n                            helper='se indeterminado, deixar em branco'                            \r\n                            value={data.vencimento || ''}\r\n                            InputLabelProps={{\r\n                                className: classes.textField,\r\n                                shrink: true,\r\n                                style: { fontSize: '0.8rem', color: '#455a64', marginBottom: '5%' }\r\n                            }}\r\n                            inputProps={{\r\n                                style: { background: '#fafafa', fontSize: '0.8rem', textAlign: 'center', color: '#000', height: '9px' },\r\n                            }}\r\n                            variant={'filled'}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </Paper>}\r\n            <Grid container direction=\"row\" justify='flex-start' style={{ width: '1200px' }}>\r\n                <Grid item xs={9} style={{ width: '1000px' }}></Grid>\r\n                <Grid item xs={3} style={{ align: \"right\" }}>\r\n                    {selectedEmpresa && <Button\r\n                        className={addButton}\r\n                        size='small'\r\n                        color=\"secondary\"\r\n                        variant=\"contained\"\r\n                        onClick={addProc}\r\n                    >\r\n                        <AddIcon />Cadastrar procuração\r\n                        </Button>}\r\n                </Grid>\r\n            </Grid>\r\n            {selectedEmpresa && selectedDocs[0] && <h2 style={{ margin: '25px 0 0 15px' }}>Procurações cadastradas</h2>}\r\n            {\r\n                selectedEmpresa && !selectedDocs[0] &&\r\n                <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        Nenhum procurador cadastrado para {selectedEmpresa.razaoSocial}\r\n                    </Paper>\r\n                </Grid>\r\n            }\r\n            {\r\n                selectedDocs.length > 0 && selectedDocs.map((procuracao, z) => <Grid container\r\n                    key={z * 0.01}\r\n                    direction=\"row\"\r\n                    className={containerList}\r\n                    justify=\"center\"\r\n                    alignItems=\"flex-start\">\r\n                    <Grid item xs={12}>\r\n                        <Paper style={{ padding: '10px 15px 20px 15px' }}>\r\n                            <p className={title}>Procuração {\r\n                                !procuracao.vencimento ?\r\n                                    'por prazo indeterminado'\r\n                                    :\r\n                                    'com vencimento em ' + handleDates(procuracao.vencimento)\r\n                            }</p>\r\n\r\n                            <Procurador procuradores={procuradores} procuracao={procuracao} />\r\n\r\n                            <div style={divContainer}>\r\n                                <span style={divFiles}>\r\n                                    <InsertDriveFileOutlinedIcon style={fileIcon} />\r\n                                    <span style={{ verticalAlign: 'middle', }}>\r\n                                        {' '} Baixar arquivo\r\n                                    </span>\r\n                                    <GetAppIcon style={icon} onClick={() => getFile(procuracao.procuracaoId)} />\r\n                                </span>\r\n                                <span style={{ ...divFiles, width: 90, backgroundColor: 'white', border: 0, position: 'absolute', right: 0 }}>\r\n                                    <DeleteOutlinedIcon color='secondary' style={icon} onClick={() => removeProc(procuracao)} />\r\n                                    Apagar\r\n                                    </span>\r\n                            </div>\r\n                        </Paper>\r\n                    </Grid>\r\n                </Grid>\r\n                )}\r\n        </Grid>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport AltProcuradoresTemplate from './AltProcuradoresTemplate'\r\nimport download from '../Utils/downloadFile'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\n\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass AltProcuradores extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.openDialog) this.toggleDialog()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        filteredProc: [],\r\n        procDisplay: 'Clique ou arraste para anexar a procuração referente a este(s) procurador(es).',        \r\n        procuradores: [],\r\n        procsToAdd: [1],\r\n        procuracoesArray: [],\r\n        selectedDocs: []\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        axios.get('/api/getFiles/empresaDocs?fieldName=procuracao')\r\n            .then(r => this.setState({ files: r.data }))\r\n\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n\r\n        const\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target,\r\n            procuracoes = [...this.props.redux.procuracoes],\r\n            procArray = [],\r\n            procuracoesArray = []\r\n\r\n        const procuradores = [...this.props.redux.procuradores]\r\n\r\n        this.setState({ ...this.state, [name]: value })\r\n\r\n        if (name === 'razaoSocial' && Array.isArray(procuradores)) {\r\n\r\n            procuracoes = procuracoes.filter(pr => pr.razaoSocial === value)\r\n\r\n            if (procuracoes[0]) procuracoes.forEach(pr => {\r\n                pr.procuradores.forEach(id => {\r\n                    const pro = procuradores.find(p => p.procuradorId === id)\r\n                    if (pro) procArray.push(pro)\r\n\r\n                })\r\n                procuracoesArray.push(procArray)\r\n                procArray = []\r\n            })\r\n\r\n            this.setState({ procuracoesArray, selectedDocs: procuracoes })\r\n\r\n            const selectedEmpresa = this.props.redux.empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n            } else this.setState({ selectedEmpresa: undefined })\r\n        }\r\n    }\r\n\r\n    addProc = async () => {\r\n        const\r\n            { selectedEmpresa, procFiles, vencimento } = this.state,\r\n            procuradores = [...this.props.redux.procuradores],\r\n            nProc = [...this.state.procsToAdd]\r\n        let\r\n            selectedDocs = [...this.state.selectedDocs],\r\n            files = [...this.state.files],\r\n            addedProcs = [],\r\n            sObject = {}\r\n\r\n        nProc.forEach((n, i) => {\r\n            procuradorForm.forEach(obj => {\r\n                Object.assign(sObject, { [obj.field]: this.state[obj.field + i] })\r\n            })\r\n            let j = 0\r\n            Object.values(sObject).forEach(v => {\r\n                if (v) j += 1\r\n            })\r\n            if (j > 0) addedProcs.push(sObject)\r\n\r\n            j = 0\r\n            sObject = {}\r\n\r\n            procuradorForm.forEach(obj => {\r\n                this.setState({ [obj.field + i]: '' })\r\n            })\r\n        })\r\n\r\n        let gotId, newMembers = [], procIdArray = [],\r\n            contratoFile = new FormData()\r\n\r\n        addedProcs.forEach(fp => {\r\n            gotId = procuradores.filter(p => p.cpfProcurador === fp.cpfProcurador)\r\n            if (gotId.length > 0 && gotId[0].hasOwnProperty('procuradorId')) {\r\n                procIdArray.push(gotId[0].procuradorId)\r\n            } else {\r\n                newMembers.push(fp)\r\n            }\r\n        })\r\n\r\n        if (newMembers.length > 0) {\r\n            newMembers = humps.decamelizeKeys(newMembers)\r\n            await axios.post('/api/cadProcuradores', { procuradores: newMembers, table: 'procurador', tablePK: 'procurador_id' })\r\n                .then(procs => {\r\n                    procs.data.forEach(p => procIdArray.push(p.procurador_id))\r\n                })\r\n            await axios.get('/api/procuradores')\r\n                .then(res => {\r\n                    const procuradores = humps.camelizeKeys(res.data)\r\n                    this.setState({ procuradores })\r\n                })\r\n        }\r\n\r\n        let novaProcuracao = {\r\n            delegatario_id: selectedEmpresa.delegatarioId,\r\n            vencimento,\r\n            status: 'vigente',\r\n            procuradores: procIdArray\r\n        }\r\n\r\n        Object.entries(novaProcuracao).forEach(([k, v]) => {\r\n            if (!v || v === '') delete novaProcuracao[k]\r\n        })\r\n\r\n        let procuracaoId\r\n\r\n        await axios.post('/api/cadProcuracao', novaProcuracao)\r\n            .then(r => {\r\n                procuracaoId = r.data[0].procuracao_id\r\n            })\r\n\r\n        novaProcuracao.procuracaoId = procuracaoId\r\n\r\n        if (procFiles) {\r\n            contratoFile.append('fieldName', 'procuracao')\r\n            contratoFile.append('empresaId', selectedEmpresa.delegatarioId)\r\n            contratoFile.append('procuracaoId', procuracaoId)\r\n            contratoFile.append('procuradores', procIdArray)\r\n            for (let pair of procFiles.entries()) {\r\n                contratoFile.append(pair[0], pair[1])\r\n            }\r\n            await axios.post('/api/empresaUpload', contratoFile)\r\n                .then(r => console.log(r.data))\r\n\r\n            await axios.get(`/api/getOneFile?collection=empresaDocs&id=${procuracaoId}`)\r\n                .then(r => { if (r.data[0]) files.push(r.data[0]) })\r\n        }\r\n\r\n\r\n        selectedDocs.reverse()\r\n        selectedDocs.push(novaProcuracao)\r\n        selectedDocs.reverse()\r\n\r\n        this.setState({\r\n            selectedDocs,\r\n            files,\r\n            procDisplay: 'Clique ou arraste para anexar a procuração referente a este(s) procurador(es).',\r\n            procsToAdd: [1],\r\n            vencimento: '',\r\n            procFiles: undefined\r\n        })\r\n\r\n        this.toast()\r\n    }\r\n\r\n    removeProc = async proc => {\r\n\r\n        const { files } = this.state,\r\n            id = proc.procuracaoId,\r\n            selectedFile = files.find(f => Number(f.metadata.procuracaoId) === id)\r\n\r\n\r\n        let procs = [...this.state.selectedDocs]\r\n\r\n        await axios.delete(`/api/delete?table=procuracao&tablePK=procuracao_id&id=${id}`)\r\n            .then(r => { console.log(r.data) })\r\n\r\n        if (selectedFile && selectedFile.hasOwnProperty('_id')) axios.get(`/api/deleteFile/${selectedFile._id}`)\r\n\r\n        const i = procs.indexOf(proc)\r\n        procs.splice(i, 1)\r\n\r\n        this.setState({ selectedDocs: procs })\r\n    }\r\n\r\n    handleFiles = (file) => {\r\n        let procFiles = new FormData()\r\n        procFiles.append('procFile', file[0])\r\n        this.setState({ procFiles, procDisplay: file[0].name })\r\n    }\r\n\r\n    getFile = id => {\r\n        const { files } = this.state\r\n\r\n        const selectedFile = files.find(f => Number(f.metadata.procuracaoId) === id)\r\n\r\n        if (selectedFile) {\r\n            const { _id, filename } = selectedFile\r\n            download(_id, filename, 'empresaDocs')\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n        }\r\n    }  \r\n\r\n    plusOne = () => {\r\n        let i = [...this.state.procsToAdd]\r\n        i.push(1)\r\n        this.setState({ procsToAdd: i })\r\n    }\r\n\r\n    minusOne = () => {\r\n        let i = [...this.state.procsToAdd]\r\n        i.pop()\r\n        this.setState({ procsToAdd: i })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const {  openAlertDialog, alertType } = this.state\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Alteração de procuradores' />\r\n                <AltProcuradoresTemplate\r\n                    data={this.state}\r\n                    redux={this.props.redux}\r\n                    handleInput={this.handleInput}\r\n                    removeProc={this.removeProc}\r\n                    handleFiles={this.handleFiles}\r\n                    addProc={this.addProc}                   \r\n                    handleSubmit={this.handleSubmit}                    \r\n                    plusOne={this.plusOne}\r\n                    minusOne={this.minusOne}\r\n                    getFile={this.getFile}\r\n                />               \r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['empresas', 'procuradores', 'procuracoes']\r\n\r\nexport default (StoreHOC(collections, AltProcuradores))","import React, { Fragment } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1)\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 500,\r\n        textAlign: 'center'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 200,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    helperText: {\r\n        marginTop: '4px'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    },\r\n    addButton: {\r\n        marginBottom: '1%',\r\n        padding: '1% 0'\r\n    },\r\n    dropBox: {\r\n        margin: '1% 0',\r\n    },\r\n    dropBoxItem: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '17px',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#4169E1',\r\n        backgroundColor: '#fafafa'\r\n    },\r\n    dropBoxItem2: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '0 1% 0 1%',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#00000',\r\n        backgroundColor: '#fafafa'\r\n    }\r\n}))\r\n\r\n\r\nexport default function AltSociosTemplate({ empresas, data, removeSocio, handleBlur, handleInput,\r\n    addSocio, handleFiles, enableEdit, handleEdit, handleSubmit }) {\r\n\r\n    const\r\n        { dropDisplay, filteredSocios, selectedEmpresa } = data,\r\n        classes = useStyles(),\r\n        { paper, container, title, iconButton, dropBox,\r\n            dropBoxItem, dropBoxItem2, list, addButton } = classes\r\n\r\n    const errorHandler = (el) => {\r\n\r\n        const value = data[el.field]\r\n\r\n        if (el.pattern && value) {\r\n            return value.match(el.pattern) === null\r\n        }\r\n        if (value > el.max || value < el.min) return true\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        const value = data[el.field]\r\n\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n        else return ' '\r\n    }\r\n    \r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"center\"\r\n        >\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}\r\n                handleBlur={handleBlur}\r\n            />\r\n            {\r\n                //selectedEmpresa \r\n                true && <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        {\r\n                            sociosForm.map((el, i) =>\r\n                                <Fragment key={i}>\r\n                                    <TextField\r\n                                        name={el.field}\r\n                                        label={el.label}\r\n                                        margin='normal'\r\n                                        className={classes.textField}\r\n                                        onChange={handleInput}\r\n                                        onBlur={handleBlur}\r\n                                        type={el.type || ''}\r\n                                        error={errorHandler(el)}\r\n                                        helperText={helper(el)}\r\n                                        FormHelperTextProps={{\r\n                                            className: classes.helperText\r\n                                        }}\r\n                                        select={el.select || false}\r\n                                        value={data[el.field] || ''}\r\n                                        disabled={el.disabled}\r\n                                        InputLabelProps={{\r\n                                            className: classes.textField,\r\n                                            shrink: el.type === 'date' || undefined,\r\n                                            style: { fontSize: '0.7rem', color: '#455a64', marginBottom: '5%' }\r\n                                        }}\r\n                                        inputProps={{\r\n                                            style: { background: el.disabled && data.disable ? '#fff' : '#fafafa', height: '7px' },\r\n                                            value: `${data[el.field] || ''}`,\r\n                                            list: el.datalist || '',\r\n                                            maxLength: el.maxLength || '',\r\n                                            minLength: el.minLength || '',\r\n                                            max: el.max || '',\r\n                                        }}\r\n                                        variant={el.variant || 'filled'}\r\n                                    >\r\n                                    </TextField>\r\n                                </Fragment>\r\n                            )}\r\n\r\n                        <Button color='primary' className={addButton} onClick={addSocio}>\r\n                            <AddIcon /> Adicionar sócio\r\n                        </Button>\r\n                    </Paper>\r\n                </Grid>\r\n            }\r\n            {\r\n                selectedEmpresa && filteredSocios.length === 0 &&\r\n                <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        Nenhum sócio cadastrado para {selectedEmpresa.razaoSocial}\r\n                    </Paper>\r\n\r\n                </Grid>\r\n            }\r\n            {\r\n                filteredSocios.length > 0 && selectedEmpresa && <Grid container\r\n                    direction=\"row\"\r\n                    className={container}\r\n                    justify=\"center\"\r\n                    alignItems=\"center\">\r\n                    <Grid item xs={12}>\r\n                        <Paper className={paper}>\r\n                            <p className={title}>Sócios cadastrados</p>\r\n                            {filteredSocios.map((s, i) =>\r\n                                <Grid key={i}>\r\n                                    {sociosForm.map((e, k) =>\r\n                                        <Fragment key={k + 1000}>\r\n                                            <TextField\r\n                                                value={s[e.field] || ''}\r\n                                                name={e.field}\r\n                                                label={e.label}\r\n                                                className={list}\r\n                                                disabled={e.field === 'cpfSocio' ? true : s.edit ? false : true}\r\n                                                onChange={handleEdit}\r\n                                                InputLabelProps={{ shrink: true, style: { fontWeight: 600 } }}\r\n                                                inputProps={{ style: { fontSize: '0.8rem' } }}\r\n                                            />\r\n                                        </Fragment>\r\n                                    )}\r\n                                    <Button component='span' className={iconButton} title='editar' onClick={() => enableEdit(i)}>\r\n                                        <EditIcon />\r\n                                    </Button>\r\n                                    <Button className={iconButton} color='secondary' title='Remover' onClick={() => removeSocio(i)}>\r\n                                        <DeleteIcon />\r\n                                    </Button>\r\n                                </Grid>\r\n                            )}\r\n                        </Paper>\r\n                        <Dropzone onDrop={handleFiles}>\r\n                            {({ getRootProps, getInputProps }) => (\r\n                                <Grid container justify=\"center\" alignItems='center' className={dropBox} direction='row' {...getRootProps()}>\r\n                                    <input {...getInputProps()} />\r\n                                    {\r\n                                        dropDisplay.match('Clique ou') ?\r\n                                            <Grid item xs={6} className={dropBoxItem}> {dropDisplay} </Grid>\r\n                                            :\r\n                                            <Grid item xs={6} className={dropBoxItem2}> <DescriptionOutlinedIcon />  {dropDisplay} <br /> (clique ou arraste outro arquivo para alterar)</Grid>\r\n                                    }\r\n                                </Grid>\r\n                            )}\r\n                        </Dropzone>\r\n                        <Grid container direction=\"row\" justify='flex-end' style={{ width: '1200px' }}>\r\n                            <Grid item xs={10} style={{ width: '1000px' }}></Grid>\r\n                            <Grid item xs={1} style={{ align: \"right\" }}>\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    color=\"primary\"\r\n                                    variant=\"contained\"\r\n                                    style={{ margin: '0px 0 10px 0' }}\r\n                                    onClick={() => handleSubmit()}                                    \r\n                                >\r\n                                    Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            }\r\n        </Grid>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport humps from 'humps'\r\nimport ReactToast from '../Utils/ReactToast'\r\n\r\nimport Crumbs from '../Utils/Crumbs'\r\nimport AltSociosTemplate from './AltSociosTemplate'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport AlertDialog from '../Utils/AlertDialog'\r\n\r\nclass AltSocios extends Component {\r\n\r\n    state = {\r\n        razaoSocial: '',\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        dialogTitle: '',\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        filteredSocios: [],\r\n        dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n        showFiles: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const originals = humps.decamelizeKeys(this.props.redux.socios)\r\n        this.setState({ originals })\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { empresas, socios } = this.props.redux,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        this.setState({ ...this.state, [name]: value })\r\n\r\n        if (name === 'razaoSocial') {\r\n            const filteredSocios = [...socios.filter(s => s.razaoSocial === value)],\r\n                selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n            if (filteredSocios.length > 0) {\r\n                this.setState({ filteredSocios, selectedEmpresa })\r\n            } else this.setState({ filteredSocios: [] })\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n            } else this.setState({ selectedEmpresa: undefined })\r\n        }\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const { filteredSocios } = this.state\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n        switch (name) {\r\n            case 'cpfSocio':\r\n                const alreadyExists = filteredSocios.find(e => e.cpfSocio === value)\r\n                if (alreadyExists) {\r\n                    this.setState({ alertType: 'alreadyExists', openAlertDialog: true })\r\n                    this.setState({ cpfSocio: '' })\r\n                }\r\n                break;\r\n            case 'share':\r\n\r\n                if (value) {\r\n                    value = value.replace(',', '.')\r\n\r\n                    if (value > 100) {\r\n                        await this.setState({ share: '' })\r\n                        value = ''\r\n                        this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n                    }\r\n                    if (value !== '0' && value !== '00' && !Number(value)) {\r\n\r\n                        await this.setState({ share: '' })\r\n                        this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n\r\n                    } else {\r\n                        let totalShare = filteredSocios.map(s => Number(s.share))\r\n                            .reduce((a, b) => a + b)\r\n\r\n                        totalShare += Number(value)\r\n                        this.setState({ totalShare, share: value })\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    addSocio = async () => {\r\n        let socios = this.state.filteredSocios,\r\n            sObject = {}\r\n\r\n        //check if totalShare is more than 100\r\n        if (this.state.totalShare > 100) {\r\n            this.setState({ openAlertDialog: true, alertType: 'overShared' })\r\n            return null\r\n        }\r\n\r\n        sociosForm.forEach(obj => {\r\n            Object.assign(sObject, { [obj.field]: this.state[obj.field] })\r\n        })\r\n        socios.unshift(sObject)\r\n\r\n        await this.setState({ filteredSocios: socios })\r\n\r\n        sociosForm.forEach(obj => {\r\n            this.setState({ [obj.field]: '' })\r\n        })\r\n        document.getElementsByName('nomeSocio')[0].focus()\r\n    }\r\n\r\n    removeSocio = async index => {\r\n\r\n        let socios = [...this.state.filteredSocios]\r\n        const\r\n            id = socios[index].socioId,\r\n            originalSocios = this.props.redux.socios,\r\n            registered = originalSocios.find(s => s.socioId === id)\r\n\r\n        if (registered) {\r\n            await axios.delete(`/api/delete?table=socios&tablePK=socio_id&id=${id}`)\r\n                .catch(err => console.log(err))\r\n        }\r\n\r\n        socios.splice(index, 1)\r\n        this.setState({ filteredSocios: socios })\r\n    }\r\n\r\n    enableEdit = index => {\r\n\r\n        let editSocio = this.state.filteredSocios\r\n        if (editSocio[index].edit === true) editSocio[index].edit = false\r\n        else {\r\n            editSocio.forEach(s => s.edit = false)\r\n            editSocio[index].edit = true\r\n        }\r\n        this.setState({ filteredSocios: editSocio })\r\n\r\n    }\r\n\r\n    handleEdit = e => {\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'share') value = value.replace(',', '.')\r\n        let editSocio = this.state.filteredSocios.filter(s => s.edit === true)[0]\r\n        const index = this.state.filteredSocios.indexOf(editSocio)\r\n\r\n        editSocio[name] = value\r\n\r\n        let fs = this.state.filteredSocios\r\n        fs[index] = editSocio\r\n\r\n        this.setState({ filteredSocios: fs })\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n        const\r\n            { selectedEmpresa, contratoSocial, filteredSocios } = this.state,\r\n            { socios } = this.props.redux\r\n\r\n        //check if totalShare is more than 100\r\n        let updatedShare = filteredSocios.map(s => Number(s.share))\r\n            .reduce((a, b) => a + b)\r\n\r\n        if (updatedShare > 100) {\r\n            this.setState({ openAlertDialog: true, alertType: 'overShared' })\r\n            return null\r\n        }\r\n\r\n        let\r\n            oldMembers = [], newMembers = [],\r\n            contratoFile = new FormData(),\r\n            keys = sociosForm.map(el => humps.decamelize(el.field))\r\n        keys.splice(1, 1)\r\n\r\n        filteredSocios.forEach(fs => {\r\n            let { razaoSocial, createdAt, edit, ...rest } = fs\r\n            fs = rest\r\n            fs.delegatarioId = selectedEmpresa.delegatarioId\r\n            if (!fs.hasOwnProperty('socioId')) {\r\n                const gotId = socios.find(s => s.cpfSocio === fs.cpfSocio)\r\n                if (gotId) {\r\n                    fs.socioId = gotId.socioId\r\n                    oldMembers.push(fs)\r\n                } else {\r\n                    newMembers.push(fs)\r\n                }\r\n            } else {\r\n                oldMembers.push(fs)\r\n                delete oldMembers.socioId\r\n            }\r\n        })\r\n\r\n        const table = 'socios', tablePK = 'socio_id'\r\n        let realChanges = [], altObj = {}\r\n\r\n        const originals = humps.camelizeKeys(this.state.originals)\r\n\r\n        oldMembers.forEach(m => {\r\n            originals.forEach(s => {\r\n                if (m.socioId === s.socioId) {\r\n                    Object.keys(m).forEach(key => {\r\n                        if (m[key] !== s[key] || key === 'socioId') {\r\n                            Object.assign(altObj, { [key]: m[key] })\r\n                        }\r\n                    })\r\n                    if (Object.keys(altObj).length > 1) realChanges.push(altObj)\r\n                    altObj = {}\r\n                }\r\n            })\r\n        })\r\n\r\n        oldMembers = humps.decamelizeKeys(realChanges)\r\n        newMembers = humps.decamelizeKeys(newMembers)\r\n        let socioIdsArray = filteredSocios\r\n            .filter(s => s.socioId !== undefined)\r\n            .map(s => s.socioId)\r\n\r\n        try {\r\n            if (oldMembers.length > 0) {\r\n                await axios.put('/api/editSocios', { requestArray: oldMembers, table, tablePK, keys })\r\n                    .then(r => console.log(r.data))\r\n            }\r\n\r\n            if (newMembers.length > 0) {\r\n                await axios.post('/api/cadSocios', { socios: newMembers, table, tablePK })\r\n                    .then(r => r.data.forEach(newSocio => socioIdsArray.push(newSocio.socio_id)))\r\n            }\r\n            \r\n            if (contratoSocial) {\r\n                contratoFile.append('empresaId', selectedEmpresa.delegatarioId)\r\n                contratoFile.append('socios', socioIdsArray)\r\n\r\n                for (let pair of contratoSocial.entries()) {\r\n                    contratoFile.append(pair[0], pair[1])\r\n                }\r\n                await axios.post('/api/empresaUpload', contratoFile)\r\n                    .then(r => console.log(r.data))\r\n            }\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n\r\n        oldMembers = []\r\n        realChanges = []\r\n        altObj = {}\r\n        newMembers = []\r\n        this.toast()\r\n\r\n        const updatedList = humps.decamelizeKeys(this.props.redux.socios)\r\n        this.setState({\r\n            razaoSocial: '', selectedEmpresa: undefined, filteredSocios: [],\r\n            dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n            contratoSocial: undefined,\r\n            originals: updatedList\r\n        })\r\n    }\r\n\r\n    handleFiles = (file) => {\r\n\r\n        let formData = new FormData()\r\n        formData.append('contratoSocial', file[0])\r\n        this.setState({ dropDisplay: file[0].name, contratoSocial: formData })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const { openAlertDialog, alertType } = this.state,\r\n            { empresas } = this.props.redux\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Alteração do quadro societário' />\r\n                <AltSociosTemplate\r\n                    data={this.state}\r\n                    empresas={empresas}\r\n                    handleInput={this.handleInput}\r\n                    handleBlur={this.handleBlur}\r\n                    addSocio={this.addSocio}\r\n                    removeSocio={this.removeSocio}\r\n                    enableEdit={this.enableEdit}\r\n                    handleEdit={this.handleEdit}\r\n                    handleFiles={this.handleFiles}\r\n                    handleSubmit={this.handleSubmit}\r\n                />\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['empresas', 'socios']\r\n\r\nexport default StoreHOC(collections, AltSocios)","import React from 'react'\r\n\r\nexport default function underConstruction() {\r\n    return (\r\n        <div style={{ height: '60vh', width: '100%', margin: '15% 35%' }}>\r\n            <img src=\"/images/underConstruction.png\" alt=\"Página em construção\" />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport HomeTemplate from './HomeTemplate'\r\n\r\nimport VeiculosHome from './Veiculos/VeiculosHome'\r\nimport CadVeiculos from './Veiculos/CadVeiculo'\r\nimport AltVeiculos from './Veiculos/AltDados'\r\nimport AltSeguro from './Veiculos/AltSeguro'\r\nimport BaixaVeiculo from './Veiculos/BaixaVeiculo'\r\nimport Config from './Veiculos/Config'\r\n\r\nimport Consultas from './Consultas/ConsultasContainer'\r\nimport Empresas from './Empresas/EmpresasContainer'\r\nimport EmpresasHome from './Empresas/EmpresasHome'\r\nimport Procuradores from './Empresas/AltProcuradores'\r\nimport Socios from './Empresas/AltSocios'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport UnderConstruction from './Utils/UnderConstruction'\r\nimport PdfTest from './Veiculos/Certificate'\r\n\r\nexport default () =>\r\n    \r\n    <Switch>\r\n        <Route exact path='/' component={HomeTemplate} />\r\n        <Route path='/certidoes' component = {UnderConstruction} />\r\n        <Route path='/veiculos' exact component = {VeiculosHome} />\r\n        <Route path='/veiculos/cadastro' exact component = {CadVeiculos} />\r\n        <Route path='/veiculos/altDados' exact component = {AltVeiculos} />\r\n        <Route path='/veiculos/altSeguro' exact component = {AltSeguro} />\r\n        <Route path='/veiculos/baixaVeiculo' exact component = {BaixaVeiculo} />\r\n        <Route path='/veiculos/config' exact component = {Config} />\r\n        <Route path='/consultas' component = {Consultas} />\r\n        <Route path='/empresas' exact component = {EmpresasHome} />\r\n        <Route path='/empresas/cadastro' component = {Empresas} />             \r\n        <Route path='/empresas/socios' component = {Socios} />     \r\n        <Route path='/empresas/procuradores' component = {Procuradores} />     \r\n        <Route path='/crv' component = {PdfTest} />\r\n        <Route path='/faleConosco' component = {UnderConstruction} />\r\n    </Switch>\r\n\r\n","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport promise from 'redux-promise';\r\nimport multi from 'redux-multi';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './rootReducer'\r\n\r\n\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { Header, Footer } from './Layouts'\r\nimport { Container } from '@material-ui/core';\r\nimport Routes from './Routes'\r\n\r\nfunction App() {\r\n\r\n  const useStyles = makeStyles(theme => ({\r\n    root: { backgroundColor:'#fbfbfb' }\r\n  }))\r\n\r\n  const { root } = useStyles()\r\n  const store = applyMiddleware(promise, multi, thunk)(createStore)\r\n  return (\r\n    <Provider store={store(rootReducer)}>\r\n      <div className={root}>\r\n        <Container maxWidth=\"lg\" style={{ minHeight: '100vh' }}>\r\n          <BrowserRouter>\r\n            <Header />\r\n            <Routes />\r\n          </BrowserRouter>\r\n          <Footer />\r\n        </Container>\r\n      </div>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.jsx';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}