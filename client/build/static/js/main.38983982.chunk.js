(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{248:function(e,a,t){e.exports=t(363)},275:function(e,a,t){},363:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(21),i=t.n(o),l=t(87),s=t(372),c=t(26),u=t(32),d=t(13),m=t(411),p=t(177),f=t(178),g=t(80),h=t(165),b=t(412),v=t(225),E=t.n(v),x=Object(s.a)(function(e){return{toolbar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbarTitle:{flex:1},toolbarSecondary:{justifyContent:"space-between",overflowX:"auto",backgroundColor:"#0398c1",color:"white",borderBottom:"solid 3px #fff"},toolbarLink:{padding:e.spacing(1),flexShrink:0},mainFeaturedPost:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:e.spacing(4),backgroundImage:"/images/bus_wallpaper.jpg",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.3)"},mainFeaturedPostContent:Object(d.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0}),mainGrid:{marginTop:e.spacing(3)},card:{display:"flex"},cardDetails:{flex:1},cardMedia:{width:160},markdown:Object(u.a)({},e.typography.body2,{padding:e.spacing(3,0)}),sidebarAboutBox:{padding:e.spacing(2),backgroundColor:e.palette.grey[200]},sidebarSection:{marginTop:e.spacing(3)},footer:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(8),padding:e.spacing(6,0)}}}),y=[{title:"P\xe1gina Inicial",link:"/"},{title:"Certid\xf5es",link:"/certidoes"},{title:"Consultas",link:"/consultas"},{title:"Ve\xedculos",link:"/veiculos"},{title:"Delegat\xe1rios",link:"/delegatarios"},{title:"Fale Conosco",link:"/faleConosco"}],S=function(){var e=Object(n.useState)(document.location.pathname),a=Object(c.a)(e,2),t=a[0],o=a[1],i=x();return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null),r.a.createElement(p.a,{className:i.toolbar},r.a.createElement(f.a,{size:"small"},"Criar usu\xe1rio"),r.a.createElement(g.a,{component:"h2",variant:"h6",color:"inherit",align:"center",noWrap:!0,className:i.toolbarTitle},"Seinfra - Subsecretaria de Transportes e Mobilidade - MG"),r.a.createElement(h.a,null,r.a.createElement(E.a,null)),r.a.createElement(f.a,{variant:"outlined",size:"small"},"Fazer login")),r.a.createElement(p.a,{component:"nav",variant:"dense",className:i.toolbarSecondary},y.map(function(e,a){return r.a.createElement(b.a,{component:l.b,to:e.link,key:a,color:"inherit",noWrap:!0,variant:"body2",href:"",className:i.toolbarLink,onClick:function(){return o(e.link)}},t===e.link?r.a.createElement("strong",null," ",e.title," "):e.title)})))},k=function(){return null},C=t(108),w=t(435),I=t(413),j=function(e){var a=e.items,t=e.tab,n=e.changeTab;return r.a.createElement(C.a,{style:{backgroundColor:"#e1f5fe"}},r.a.createElement(w.a,{value:t,indicatorColor:"primary",textColor:"primary",centered:!0,onChange:n},a.map(function(e,a){return r.a.createElement(I.a,{key:a,label:e})})))},O=t(414),P=t(415),N=t(416),z=t(417),D=t(418),F=t(217),A=t(419),T=Object(s.a)(function(e){return{toolbar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbarTitle:{flex:1},toolbarSecondary:{justifyContent:"space-between",overflowX:"auto"},toolbarLink:{padding:e.spacing(1),flexShrink:0},mainFeaturedPost:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:e.spacing(4),backgroundImage:"/images/bus_wallpaper.jpg",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.3)"},mainFeaturedPostContent:Object(d.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0}),mainGrid:{marginTop:e.spacing(3)},card:{display:"flex"},cardDetails:{flex:1},cardMedia:{width:160},markdown:Object(u.a)({},e.typography.body2,{padding:e.spacing(3,0)}),sidebarAboutBox:{padding:e.spacing(2),backgroundColor:e.palette.grey[200]},sidebarSection:{marginTop:e.spacing(3)},footer:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(8),padding:e.spacing(6,0)}}}),B=[{title:"Ve\xedculos",date:"07/Nov",description:"Cadastre, altere os dados do seguro e do ve\xedculo ou solicite sua baixa no sistema",link:"/veiculos",imageUrl:"/images/vehicles.jpg"},{title:"Consultas",date:"07/Nov",description:"Consulte, edite e apague dados e arquivos referentes a ve\xedculos, seguros e mais",link:"/consultas",imageUrl:"/images/consultas2.jpg"}],L=function(){var e=T();return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null),r.a.createElement(O.a,{maxWidth:"lg"},r.a.createElement("main",null,r.a.createElement(C.a,{className:e.mainFeaturedPost},r.a.createElement("img",{style:{position:"absolute",height:"240px",width:"100%"},src:"/images/bus_wallpaper.jpg",alt:"background"}),"}",r.a.createElement("div",{className:e.overlay}),r.a.createElement(P.a,{container:!0},r.a.createElement(P.a,{item:!0,md:6},r.a.createElement("div",{className:e.mainFeaturedPostContent},r.a.createElement(g.a,{component:"h1",variant:"h3",color:"inherit",gutterBottom:!0},"SisMob - MG"),r.a.createElement(g.a,{variant:"h5",color:"inherit",paragraph:!0},"Sistema de Gest\xe3o da Mobilidade do Estado de Minas Gerais"))))),r.a.createElement(P.a,{container:!0,spacing:4,className:e.cardGrid},B.map(function(a){return r.a.createElement(P.a,{item:!0,key:a.title,xs:12,md:6},r.a.createElement(N.a,{component:"a"},r.a.createElement(z.a,{className:e.card},r.a.createElement("div",{className:e.cardDetails},r.a.createElement(D.a,null,r.a.createElement(g.a,{component:"h2",variant:"h5"},a.title),r.a.createElement("br",null),r.a.createElement(g.a,{variant:"subtitle1",paragraph:!0},a.description),r.a.createElement(g.a,{variant:"subtitle1",color:"primary"},r.a.createElement(l.b,{to:a.link},"Clique aqui para ir para ",a.title)))),r.a.createElement(F.a,{xsDown:!0},r.a.createElement(A.a,{className:e.cardMedia,component:"img",src:a.imageUrl,title:a.title})))))})))))},q=t(18),M=t(12),V=t.n(M),R=t(22),W=t(45),_=t(30),U=t(48),K=t(46),G=t(47),$=t(19),H=t.n($),J=t(33),Q=t.n(J),X=t(2),Y=t(420),Z=t(421),ee=t(422),ae=t(188),te=t(440),ne=Object(s.a)(function(e){return{success:{backgroundColor:Y.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Z.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}});function re(e){var a=ne(),t=e.className,o=e.message,i=(e.onClose,e.variant),l=Object(q.a)(e,["className","message","onClose","variant"]);return r.a.createElement(ee.a,Object.assign({className:Object(X.a)(a[i],t),"aria-describedby":"client-snackbar",message:r.a.createElement(n.Fragment,null,r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(ae.a,null,"check"),"    ",o))},l))}function oe(e){return r.a.createElement("div",null,r.a.createElement(te.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:e.open,autoHideDuration:2e3,onClose:e.close},r.a.createElement(re,{variant:"success",message:e.msg})))}var ie=t(189),le=t(218),se=t(220),ce=t(228),ue=t.n(ce),de=t(215),me=[{field:"seguradora",label:"Seguradora",margin:"normal",autoComplete:!0,datalist:"seguradora",collection:"seguradoras"},{field:"apolice",label:"Ap\xf3lice",margin:"normal",autoComplete:!0,datalist:"apolice",collection:"seguros"},{type:"date",field:"dataEmissao",label:"Data de Emiss\xe3o",margin:"normal"},{type:"date",field:"vencimento",label:"Vencimento",margin:"normal"}],pe=[[{field:"placa",label:"Placa",margin:"normal",datalist:"placa",autoComplete:!0,collection:"frota"},{field:"delegatario",label:"Delegat\xe1rio",margin:"normal",datalist:"razaoSocial",autoComplete:!0,collection:"empresas"},{field:"compartilhado",label:"Delegat\xe1rio Compartilhado",margin:"normal",datalist:"razaoSocial",autoComplete:!0,collection:"empresas"},{field:"utilizacao",label:"Utiliza\xe7\xe3o",margin:"normal",select:!0,options:["Convencional","Executivo","Leito","Semi-Leito","Urbano"]},{field:"dominio",label:"Situa\xe7\xe3o da Propriedade",margin:"normal",select:!0,options:["Ve\xedculo pr\xf3prio","Leasing","Possuidor"]},{field:"cores",label:"Cores",margin:"normal"},{field:"renavam",label:"Renavam",margin:"normal",disabled:!0},{field:"nChassi",label:"N\xfamero do Chassi",margin:"normal",maxLength:17,disabled:!0},{field:"modeloChassi",label:"Modelo do Chassi",margin:"normal",disabled:!0},{field:"anoChassi",label:"Ano do Chassi",margin:"normal",type:"number",max:2020,disabled:!0},{type:"number",field:"valorChassi",label:"Valor do Chassi (R$)",margin:"normal",zero:!0,disabled:!0},{field:"modeloCarroceria",label:"Modelo da Carroceria",margin:"normal",disabled:!0},{type:"number",field:"anoCarroceria",label:"Ano da Carroceria",margin:"normal",max:2020,disabled:!0},{type:"number",field:"valorCarroceria",label:"Valor da Carroceria (R$)",margin:"normal",zero:!0,disabled:!0}]].concat([[{field:"pesoDianteiro",label:"Peso Dianteiro (kg)",margin:"normal",type:"number",max:12e3},{field:"pesoTraseiro",label:"Peso Trasiero (kg)",margin:"normal",type:"number",max:15e3},{field:"poltronas",label:"Poltronas",margin:"normal",type:"number",max:120},{field:"piquesPoltrona",label:"Piques poltrona",margin:"normal",type:"number",max:12},{field:"distanciaMinima",label:"Dist\xe2ncia M\xednima (cm)",margin:"normal",type:"number",max:150},{field:"distanciaMaxima",label:"Dist\xe2ncia M\xe1xima (cm)",margin:"normal",type:"number",max:150}]]).concat([[]]).concat([[]]),fe=[{field:"placa",label:"Placa",margin:"normal",datalist:"placa",autoComplete:!0,collection:"frota"},{field:"renavam",label:"Renavam",margin:"normal"},{field:"nChassi",label:"N\xfamero do Chassi",margin:"normal",maxLength:17},{field:"delegatario",label:"Delegat\xe1rio",margin:"normal",disabled:!0},{field:"utilizacao",label:"Utiliza\xe7\xe3o",margin:"normal",disabled:!0},{field:"dominio",label:"Situa\xe7\xe3o da Propriedade",margin:"normal",disabled:!0},{field:"marcaChassi",label:"Marca do Chassi",margin:"normal",disabled:!0},{field:"modeloChassi",label:"Modelo do Chassi",margin:"normal",disabled:!0},{field:"marcaCarroceria",label:"Marca da Carroceria",margin:"normal",disabled:!0},{field:"modeloCarroceria",label:"Modelo da Carroceria",margin:"normal",disabled:!0},{type:"number",field:"indicadorIdade",label:"Ano",margin:"normal",disabled:!0}],ge=[].concat([me]).concat([me]).concat([pe]).concat([fe]),he=[[{field:"placa",label:"Placa",margin:"normal",maxLength:8,pattern:"[a-zA-Z]{3}[-]?\\d{4}"},{field:"renavam",label:"Renavam",margin:"normal",maxLength:11,pattern:"\\d{11}"},{field:"utilizacao",label:"Utiliza\xe7\xe3o",margin:"normal",select:!0,options:["Convencional","Executivo","Leito","Semi-Leito","Urbano"]},{field:"nChassi",label:"N\xfamero do Chassi",margin:"normal",maxLength:17},{field:"modeloChassi",label:"Modelo do Chassi",margin:"normal",datalist:"modeloChassi",autoComplete:!0,collection:"modelosChassi"},{field:"anoChassi",label:"Ano do Chassi",margin:"normal",type:"number",max:2020},{type:"number",field:"valorChassi",label:"Valor do Chassi (R$)",margin:"normal",zero:!0},{field:"modeloCarroceria",label:"Modelo da Carroceria",margin:"normal",datalist:"modelo",autoComplete:!0,collection:"carrocerias"},{type:"number",field:"anoCarroceria",label:"Ano da Carroceria",margin:"normal",max:2020},{type:"number",field:"valorCarroceria",label:"Valor da Carroceria (R$)",margin:"normal",zero:!0},{field:"dominio",label:"Situa\xe7\xe3o da Propriedade",margin:"normal",select:!0,options:["Ve\xedculo pr\xf3prio","Leasing","Possuidor"]},{field:"cores",label:"Cores",margin:"normal"}]].concat([me]).concat([[{field:"cilindros",label:"Cilindros",margin:"normal",type:"number",max:12,step:1},{field:"potencia",label:"Pot\xeancia (cv)",margin:"normal",type:"number",max:600},{field:"eixos",label:"Eixos",margin:"normal",type:"number",max:8},{field:"pneumaticos",label:"Pneum\xe1ticos",margin:"normal",type:"number",max:20},{field:"peso_dianteiro",label:"Peso Dianteiro (kg)",margin:"normal",type:"number",max:12e3},{field:"peso_traseiro",label:"Peso Trasiero (kg)",margin:"normal",type:"number",max:15e3},{field:"poltronas",label:"Poltronas",margin:"normal",type:"number",max:120},{field:"piques_poltrona",label:"Piques poltrona",margin:"normal",type:"number",max:12},{field:"distancia_minima",label:"Dist\xe2ncia M\xednima (cm)",margin:"normal",type:"number",max:150},{field:"distancia_maxima",label:"Dist\xe2ncia M\xe1xima (cm)",margin:"normal",type:"number",max:150}]]).concat([[]]).concat([[]]);function be(e){var a=e.collection,t=e.datalist;return e.value.length>2&&"string"!==typeof a?r.a.createElement("datalist",{id:t},a.map(function(e,a){return r.a.createElement("option",{key:a},e[t])})):null}var ve=Object(s.a)(function(e){return{item:{color:"#000",fontSize:"0.8rem",textAlign:"center"}}});function Ee(e){var a=e.data,t=e.equipamentos,n=e.handleCheck,o=ve().item;return r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"baseline"},t.map(function(e,t){return r.a.createElement(P.a,{key:t},r.a.createElement(ie.a,{control:r.a.createElement(le.a,{checked:a[e.item],value:e.item,onChange:function(){return n(e.item)}}),label:r.a.createElement(g.a,{className:o},e.item)}))}))}function xe(e){var a=e.close,t=e.children,n=e.title,o=e.format;return r.a.createElement("div",null,r.a.createElement("div",{className:"card z-depth-5",style:{position:"fixed",height:"80vh",top:o?o.top:"10%",right:o?o.right:"33%",left:o?o.left:"33%",padding:"5px 0px 7px 20px",borderRadius:"15px",border:"1px solid #aaa",backgroundColor:"white",zIndex:10,boxShadow:"2px",overflowY:"auto"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("h5",null,n))),t,r.a.createElement("div",{style:{position:"absolute",top:"0.4%",right:"0.4%"}},r.a.createElement("div",null,r.a.createElement("i",{className:"material-icons right",title:"Fechar",style:{cursor:"pointer",color:"red"},onClick:a},"close")))))}var ye=Object(s.a)(function(e){return{container:{display:"flex",flexWrap:"wrap",padding:e.spacing(1)},title:{color:"#000",fontWeight:400,fontSize:"0.9rem",textAlign:"center"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300,fontSize:"0.8rem",fontColor:"#bbb",textAlign:"center"},formHolder:{width:900},input:{textAlign:"center"},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,margin:e.spacing(1)}}}),Se=function(e){var a=e.handleInput,t=e.handleBlur,o=e.data,i=e.handleEquipa,l=e.handleCheck,s=o.tab,u=o.empresas,d=o.razaoSocial,m=o.activeStep,p=o.equipamentos,h=o.addEquipa,b=o.delegatarioCompartilhado,v=o.subtitle,E=ye(),x=E.paper,y=E.container,S=E.title,k=Object(n.useState)(!1),w=Object(c.a)(k,2),I=w[0],j=w[1],O=[];O=0===s?he[m]:2===s?pe[m]:3===s?fe:ge[s];var N=function(e){var a=o.form[e.field];return e.pattern&&a?null===o.form[e.field].match(e.pattern):a>e.max||a<e.min},z=function(e){var a=o.form[e.field];return a>e.max||a<e.min?"Valor inv\xe1lido":a&&null===a.match(e.pattern)?"\u2718":e.pattern&&a&&null!==a.match(e.pattern)?"\u2713":void 0};return r.a.createElement(P.a,{container:!0,direction:"row",className:y,justify:"center"},r.a.createElement(P.a,null,r.a.createElement(C.a,{className:x,style:{padding:"0 2% 0 2%"}},r.a.createElement(P.a,{container:!0,justify:"center"},r.a.createElement(P.a,{item:!0,xs:I?4:12,style:{marginBottom:"15px"}},r.a.createElement(g.a,{className:S}," Selecione a Via\xe7\xe3o"),r.a.createElement(de.a,{inputProps:{list:"razaoSocial",name:"razaoSocial"},className:E.textField,value:d,onChange:a,onBlur:t}),r.a.createElement(be,{collection:u,datalist:"razaoSocial",value:d})),I&&r.a.createElement(P.a,{item:!0,xs:4},r.a.createElement(g.a,{className:S}," Empresa autorizada a compartilhar"),r.a.createElement(de.a,{inputProps:{list:"razaoSocial",name:"delegatarioCompartilhado"},className:E.textField,value:b,onChange:a,onBlur:t}),r.a.createElement(be,{collection:u,datalist:"razaoSocial",value:b}))),0===s&&r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(ie.a,{control:r.a.createElement(le.a,{checked:!0===I,onChange:function(){return j(!I)},value:I}),label:r.a.createElement(g.a,{style:{color:"#2979ff",fontSize:"0.7rem",float:"right"}},"Ve\xedculo Compartilhado?")}))),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(C.a,{className:x},r.a.createElement(g.a,{className:S}," ",v[s]),o.form&&O[0]&&O.map(function(e,i){return r.a.createElement(n.Fragment,{key:i},r.a.createElement(de.a,{name:e.field,label:e.label,margin:e.margin,className:E.textField,onChange:a,onBlur:t,type:e.type||"",error:N(e),helperText:z(e),select:e.select||!1,value:o[e.field]||"",disabled:e.disabled||!1,InputLabelProps:{className:E.textField,shrink:"date"===e.type||void 0,style:{fontSize:"0.8rem",fontWeight:400,color:"#455a64",marginBottom:"5%"}},inputProps:{style:{background:e.disabled&&o.disable?"#fff":"#efefef",textAlign:"center",color:"#000",fontWeight:"500",width:e.width||""},value:"".concat(o[e.field]||""),list:e.datalist||"",maxLength:e.maxLength||"",minLength:e.minLength||"",max:e.max||""},multiline:e.multiline||!1,rows:e.rows||null,variant:e.variant||"filled",fullWidth:e.fullWidth||!1},!0===e.select&&e.options.map(function(e,a){return r.a.createElement(se.a,{key:a,value:e},e)})),!0===e.autoComplete&&r.a.createElement(be,{collection:o[e.collection],datalist:e.datalist,value:o[e.field]||""}))}),0===m&&0===s&&r.a.createElement(P.a,{container:!0,justify:"center"},r.a.createElement(f.a,{variant:"outlined",size:"small",color:"primary",className:E.button,onClick:i},r.a.createElement(ue.a,null),"Equipamentos")),h&&r.a.createElement(xe,{close:i,title:"Equipamentos"},r.a.createElement(Ee,{equipamentos:p,close:i,handleCheck:l,data:o}))))))},ke=[{title:"CRLV do Ve\xedculo",name:"crlv"},{title:"Ap\xf3lice do Seguro",name:"apoliceDoc"},{title:"Declara\xe7\xe3o de Responsabilidade de Manuten\xe7\xe3o",name:"declaracao"},{title:"Certificado de Vistoria",name:"vistoria"},{title:"DAE Quitada",name:"dae"},{title:"Laudo de Pesagem",name:"pesagem"},{title:"Laudo de Vistoria INMETRO",name:"inmetro"}],Ce=[{title:"Documento de Transfer\xeancia",name:"transferenciaDoc"},{title:"Declara\xe7\xe3o de Responsabilidade de Manuten\xe7\xe3o",name:"declaracao"},{title:"Certificado de Vistoria",name:"vistoria"},{title:"DAE Quitada",name:"dae"},{title:"Laudo de Pesagem",name:"pesagem"}],we=Object(s.a)(function(e){return{root:{flexGrow:"1",margin:"1%",padding:"1%"},textField:{marginLeft:e.spacing(1),marginRight:"2%",width:"97%",fontSize:"0.8rem",fontColor:"#bbb"},input:{display:"none"},paper:{color:e.palette.text.secondary,margin:e.spacing(2),width:"100%",padding:"2% 0 4% 0",height:"400px"},button:{margin:"3% 0 3% 0",float:"right bottom"},sendButton:{margin:"3% 0 3% 0",backgroundColor:"teal",float:"right"},text:{textAlign:"left",margin:e.spacing(2),fontSize:"0.9rem",fontWeight:"500",color:"#333"},resize:{fontSize:"0.8rem",color:"#888"},item:{marginTop:"2%"}}}),Ie=function(e){document.getElementById(e).click()};function je(e){var a,t=e.handleFiles,o=e.tab,i=we(),l=i.root,s=i.textField,c=i.button,u=i.input,d=i.paper,m=i.resize,p=i.item;return 0===o&&(a=ke),2===o&&(a=Ce),r.a.createElement("div",null,r.a.createElement(C.a,{className:d},r.a.createElement(P.a,{container:!0,className:l},a.map(function(e,a){var o=e.title,i=e.name;return r.a.createElement(n.Fragment,{key:a},r.a.createElement(P.a,{item:!0,xs:10,md:4,className:p},r.a.createElement(de.a,{id:i,className:s,fullWidth:!0,placeholder:"Nenhum arquivo selecionado",onChange:t,onClick:function(){return Ie(i)},disabled:!0,InputProps:{classes:{input:m}},label:o,InputLabelProps:{shrink:!0,style:{fontWeight:500,color:"#000",marginBottom:"5%"}}})),r.a.createElement(P.a,{item:!0,xs:2,md:1,style:{paddingTop:"2%"}},r.a.createElement(f.a,{variant:"outlined",component:"label",className:c,color:"primary"},"Selecionar",r.a.createElement("input",{id:i,className:u,name:i,type:"file",onChange:t}))),r.a.createElement(P.a,{item:!0,md:1}))}))))}var Oe=t(425),Pe=t(426),Ne=t(219),ze=Object(s.a)(function(e){return{root:{flexGrow:"1",margin:"1%",padding:"1%",textAlign:"center"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),marginTop:"9%",width:150,fontSize:"0.8rem",fontColor:"#bbb",textAlign:"center"},input:{textAlign:"center"},paper:{color:e.palette.text.secondary,margin:e.spacing(2),width:"100%",padding:"2% 0 4% 0",height:"500px"},equipa:{marginLeft:e.spacing(1),marginRight:e.spacing(1),marginTop:"9%",width:600,fontSize:"0.8rem",fontColor:"#bbb",textAlign:"center"}}});function De(e){var a,t,n=e.data,o=[],i=ze(),l=i.textField,s=i.paper,c=i.root,u=i.equipa,d=i.icon,m=n.tab,p=n.justificativa;return 0===m&&(a=he),2===m&&(a=pe),a.forEach(function(e){e.forEach(function(e){for(var a in n)a===e.field&&o.push({label:e.label,field:a,value:n[a]})})}),0===m&&(t=n.equipamentos_id.toString().replace(/,/g,", ")),r.a.createElement(C.a,{className:s},r.a.createElement(P.a,{container:!0,direction:"row",className:c},o.map(function(e,a){return r.a.createElement(P.a,{item:!0,xs:6,md:3,lg:2,key:a},r.a.createElement(de.a,{id:e.field,className:l,value:e.value,label:e.label,disabled:!0,type:"text",InputLabelProps:{className:l,shrink:!0,style:{fontSize:"0.9rem",fontWeight:600,color:"#000",marginBottom:"5%"}},inputProps:{style:{textAlign:"center",color:"#000",backgroundColor:"#f7f7ff",paddingBottom:"2%",height:"40px",fontSize:"0.9rem"}},variant:"outlined"}))}),r.a.createElement(P.a,{container:!0,justify:"flex-end"},r.a.createElement(Ne.a,{title:"Ver arquivos"},r.a.createElement(Oe.a,{color:"default","aria-label":"files",className:d},r.a.createElement(Pe.a,null)))),2===m&&r.a.createElement(P.a,{item:!0,xs:12,style:{margin:"2% 0"}},r.a.createElement(de.a,{name:"justificativa",value:p,label:"Justificativa",type:"text",disabled:!0,InputLabelProps:{shrink:!0,style:{fontWeight:600}},inputProps:{style:{height:"60px",width:"900px"}},multiline:!0,rows:4,variant:"outlined"})),0===m&&r.a.createElement(P.a,{item:!0,xs:12,style:{display:t?void 0:"none"}},r.a.createElement(de.a,{id:"equipamentos",className:u,value:t,label:"Acess\xf3rios",disabled:!0,type:"text",InputLabelProps:{shrink:!0,style:{fontSize:"0.9rem",fontWeight:600,color:"#000",marginBottom:"5%"}},inputProps:{style:{textAlign:"center",color:"#000",backgroundColor:"#f7f7ff",paddingBottom:"2%",height:"40px",fontSize:"0.7rem"}},multiline:!0,variant:"outlined"}))))}var Fe=t(427),Ae=t(428),Te=t(221),Be=Object(s.a)(function(e){return{root:{},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,margin:e.spacing(1)},title:{color:"#000",fontWeight:400,fontSize:"0.9rem",textAlign:"center",marginBottom:"20px"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300,fontSize:"0.8rem",fontColor:"#bbb",textAlign:"center"},chip:{margin:e.spacing(.5)}}});function Le(e){var a=e.data,t=e.insuranceExists,n=e.handleInput,o=e.handleBlur,i=e.addPlateInsurance,l=e.deleteInsurance,s=(e.handleDelete,Be()),c=s.paper,u=s.title,d=s.textField,m=a.placa,p=a.apolice,h=a.addedPlaca,b=a.frota,v=[];return t.hasOwnProperty("placas")&&(null!==t.placas[0]&&(v=t.placas.sort()),void 0!==m&&m.length>2&&v[0]&&(v="string"===typeof m?t.placas.filter(function(e){return e.toLowerCase().match(m.toLowerCase())}).sort():t.placas.filter(function(e){return e.match(m)}).sort())),r.a.createElement(C.a,{className:c},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(P.a,null,r.a.createElement(g.a,{className:u},"Utilize as op\xe7\xf5es abaixo para filtrar, adicionar ou excluir placas desta ap\xf3lice"),r.a.createElement(P.a,{container:!0,justify:"space-around",alignItems:"flex-end",spacing:2},r.a.createElement(P.a,{item:!0},r.a.createElement(de.a,{inputProps:{name:"addedPlaca",list:"placa"},InputLabelProps:{style:{fontSize:"0.8rem"}},label:"Insira a placa",className:d,value:h,onChange:n,onBlur:o}),r.a.createElement(be,{collection:b,datalist:"placa",value:h}),r.a.createElement(f.a,{size:"small",variant:"contained",className:s.button,style:{margin:"10px 0 10px 0"},onClick:function(){return i(h,p)}},r.a.createElement(Fe.a,null)," Adicionar")),r.a.createElement(P.a,{item:!0},r.a.createElement(de.a,{inputProps:{name:"placa"},InputLabelProps:{style:{fontSize:"0.8rem"}},label:"Filtrar",className:d,value:m||"",onChange:n,onBlur:o}),r.a.createElement(Ae.a,{style:{marginTop:"18px"}}))),r.a.createElement(P.a,{container:!0,spacing:1,alignItems:"center",justify:"center"}),t.hasOwnProperty("apolice")?r.a.createElement("div",{style:{marginTop:"30px"}},r.a.createElement(g.a,{className:u},"Placas vinculadas a ap\xf3lice ",t.apolice)):r.a.createElement("div",{style:{marginTop:"30px"}}),t&&v&&v[0]&&v.map(function(e,a){return r.a.createElement(Te.a,{key:a,label:e,onDelete:function(){return l(e)},className:s.chip,color:"primary",variant:"outlined"})}))))}var qe=Object(s.a)(function(e){return{button:{margin:e.spacing(1),float:"right"},backButton:{margin:e.spacing(1),float:"left",color:"#333",backgroundColor:"#eee"}}});function Me(e){var a=e.activeStep,t=e.setActiveStep,n=e.lastStep,o=e.handleSubmit,i=qe(),l=i.backButton,s=i.button;return r.a.createElement("div",null,r.a.createElement(f.a,{variant:"contained",className:l,onClick:function(){return t("back")},disabled:0===a},"Voltar"),a<n?r.a.createElement(f.a,{variant:"contained",color:"primary",className:s,onClick:function(){return t("next")}},"Avan\xe7ar"):r.a.createElement(f.a,{variant:"contained",color:"primary",className:s,onClick:function(){return o()}},"Aprovar"))}var Ve=t(442),Re=t(429),We=t(436),_e=Object(s.a)(function(e){return{root:{width:"100%",marginTop:"1%"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),padding:"1% 0 0 3%",fontWeight:500}}});function Ue(e){var a=e.activeStep,t=e.steps,n=e.stepTitles;var o,i=_e();return r.a.createElement("div",{className:i.root},r.a.createElement(Ve.a,{activeStep:a},t.map(function(e,a){return r.a.createElement(Re.a,Object.assign({key:e},{}),r.a.createElement(We.a,{},e))})),r.a.createElement("div",null,a===t.length?r.a.createElement("div",null,r.a.createElement(g.a,{className:i.instructions},"All steps completed - you're finished")):r.a.createElement("div",null,r.a.createElement(g.a,{className:i.instructions},(o=a,void n.forEach(function(e,a){switch(o){case a:return e;default:return"Selecione"}}))))))}var Ke=function(e){function a(){var e,t;Object(W.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(U.a)(this,(e=Object(K.a)(a)).call.apply(e,[this].concat(r)))).state={tab:2,stepTitles:["Informe a placa para alterar os dados abaixo ou mantenha as informa\xe7\xf5es atuais e clique em avan\xe7ar","Altere os dados desejados abaixo e clique em avan\xe7ar","Anexe os documentos solicitados","Revis\xe3o das informa\xe7\xf5es e deferimento"],steps:["Alterar dados do Ve\xedculo","Alterar dados adicionais","Documentos","Revis\xe3o"],subtitle:["Informe os dados do Ve\xedculo","Informe os dados do Seguro","Preencha os campos abaixo","Informe os dados para a baixa"],form:{},empresas:[],razaoSocial:"",delegatarioCompartilhado:"",frota:[],toastMsg:"Dados atualizados!",confirmToast:!1,activeStep:0,files:[],fileNames:[],openDialog:!1},t.setActiveStep=function(e){var a=t.state.activeStep;"next"===e&&t.setState({activeStep:a+1}),"back"===e&&t.setState({activeStep:a-1}),"reset"===e&&t.setState({activeStep:0})},t.handleInput=function(e){var a,n=e.target,r=n.name,o=n.value,i=Q.a.decamelize(r);"razaoSocial"!==r?t.setState((a={},Object(d.a)(a,r,o),Object(d.a)(a,"form",Object(u.a)({},t.state.form,Object(d.a)({},i,o))),a)):t.setState(Object(d.a)({},r,o))},t.getId=function(){var e=Object(R.a)(V.a.mark(function e(a,n,r,o,i,l,s){var c,u,m,p,f,g;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.filter(function(e){return e[i].toLowerCase().match(n.toLowerCase())}),""===n&&t.setState((c={},Object(d.a)(c,a,""),Object(d.a)(c,o,""),c)),!u[0]){e.next=10;break}if(m=u[0][i],p=u[0][l],""===n){e.next=8;break}return e.next=8,t.setState((f={},Object(d.a)(f,a,m),Object(d.a)(f,o,p),f));case 8:e.next=14;break;case 10:return e.next=12,t.setState((g={},Object(d.a)(g,a,""),Object(d.a)(g,o,""),g));case 12:alert(s+" n\xe3o cadastrado"),document.getElementsByName(a)[0].focus();case 14:case"end":return e.stop()}},e)}));return function(a,t,n,r,o,i,l){return e.apply(this,arguments)}}(),t.handleBlur=function(){var e=Object(R.a)(V.a.mark(function e(a){var n,r,o,i,l,s,c,d,m;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.state,r=n.empresas,o=n.frota,i=n.veiculos,l=a.target.name,s=a.target.value,e.t0=l,e.next="compartilhado"===e.t0?6:"delegatario"===e.t0?8:"razaoSocial"===e.t0?11:15;break;case 6:return t.getId(l,s,r,"delegatarioCompartilhado","razaoSocial","delegatarioId"),e.abrupt("break",16);case 8:return e.next=10,t.getId(l,s,r,"delegatarioId","razaoSocial","delegatarioId","Empresa");case 10:return e.abrupt("break",16);case 11:return e.next=13,t.getId(l,s,r,"donoDaFrotaId","razaoSocial","delegatarioId","Empresa");case 13:return t.state.donoDaFrotaId&&(c=i.filter(function(e){return e.delegatarioId===t.state.donoDaFrotaId}),t.setState({frota:c})),e.abrupt("break",16);case 15:case 16:if("placa"!==l||"string"===typeof t.state.frota){e.next=25;break}return d=t.state.frota.filter(function(e){return"string"===typeof s?e.placa.toLowerCase().match(s.toLowerCase()):e.placa.match(s)})[0],e.next=20,t.setState(Object(u.a)({},d,{disable:!0}));case 20:void 0!==d&&d.hasOwnProperty("empresa")&&t.setState({delegatario:d.empresa}),console.log(d),m={},o[0]&&Object.keys(o[0]).forEach(function(e){return m[e]=""}),""===t.state.placa||d||(t.props.createAlert("plateNotFound"),t.setState(Object(u.a)({},m,{disable:!1})));case 25:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.handleEdit=function(){var e=Object(R.a)(V.a.mark(function e(a){var n,r,o,i,l,s,c,u,m,p;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=n.poltronas,o=n.pesoDianteiro,i=n.pesoTraseiro,l=n.delegatarioId,s=n.delegatarioCompartilhado,c={},pe.forEach(function(e){e.forEach(function(e){for(var a in t.state)a!==e.field||e.disabled||Object.assign(c,Object(d.a)({},a,t.state[a]))})}),u=93*Number(r)+(Number(o)+Number(i)),isNaN(u)&&(u=void 0),c=Object.assign(c,{delegatarioId:l,delegatarioCompartilhado:s,pbt:u}),c=Q.a.decamelizeKeys(c),(m=c).placa,m.delegatario,m.compartilhado,p=Object(q.a)(m,["placa","delegatario","compartilhado"]),"veiculo","veiculo_id",e.next=11,H.a.put("/api/updateVehicle",{requestObject:p,table:"veiculo",tablePK:"veiculo_id",id:t.state.veiculoId});case 11:return e.next=13,t.submitFiles();case 13:t.toast();case 14:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.toast=function(e){t.setState({confirmToast:!t.state.confirmToast})},t.handleFiles=function(){var e=Object(R.a)(V.a.mark(function e(a){var n,r,o,i,l;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.target,r=n.name,!(o=n.files)||!o[0]){e.next=12;break}if(document.getElementById(r).value=o[0].name,(i=new FormData).append("veiculoId",t.state.veiculoId),l=t.state.fileNames,!(o&&o.length>0)){e.next=12;break}return l.push(Object(d.a)({},r,o[0].name)),e.next=10,t.setState(Object(d.a)({filesNames:l},r,o[0]));case 10:Ce.forEach(function(e){var a=e.name;for(var n in t.state)n.match(a)&&(i.append("id",a),i.append(a,t.state[a]))}),t.setState({form:i});case 12:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.submitFiles=function(){var e=t.state.form;H.a.post("/api/mongoUpload",e).then(function(e){return console.log(e.data)}).catch(function(e){return console.log(e)})},t.toggleDialog=function(){t.setState({openDialog:!t.state.openDialog})},t}return Object(G.a)(a,e),Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=Object(R.a)(V.a.mark(function e(){var a,t,n=this;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=H.a.get("/api/veiculosInit"),t=H.a.get("/api/empresas"),e.next=4,Promise.all([a,t]).then(function(e){return e.map(function(e){return Q.a.camelizeKeys(e.data)})}).then(function(e){var a=Object(c.a)(e,2),t=a[0],r=a[1];n.setState({veiculos:t,empresas:r})});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({})}},{key:"render",value:function(){var e=this.state,a=e.confirmToast,t=e.toastMsg,o=e.activeStep,i=e.steps,l=e.stepTitles,s=e.tab;return r.a.createElement(n.Fragment,null,r.a.createElement(Ue,{activeStep:o,steps:i,stepTitles:l,setActiveStep:this.setActiveStep}),o<2&&r.a.createElement(Se,{data:this.state,handleInput:this.handleInput,handleBlur:this.handleBlur}),1===o&&r.a.createElement(P.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(P.a,null,r.a.createElement(de.a,{name:"justificativa",value:this.state.justificativa,label:"Justificativa",type:"text",onChange:this.handleInput,InputLabelProps:{shrink:!0,style:{fontWeight:600,marginBottom:"5%"}},inputProps:{style:{paddingBottom:"2%",width:"900px"}},multiline:!0,rows:4,variant:"outlined"}))),2===o&&r.a.createElement(je,{tab:s,handleFiles:this.handleFiles,handleSubmit:this.submitFiles,handleNames:this.handleNames}),3===o&&r.a.createElement(De,{data:this.state}),r.a.createElement(Me,{activeStep:o,lastStep:i.length-1,handleSubmit:this.handleEdit,setActiveStep:this.setActiveStep}),r.a.createElement(oe,{open:a,close:this.toast,msg:t}))}}]),a}(n.Component),Ge=(t(275),t(430)),$e=t(437),He=t(441),Je=t(191),Qe=t(374),Xe=function(e){function a(){var e,t;Object(W.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(U.a)(this,(e=Object(K.a)(a)).call.apply(e,[this].concat(r)))).state={tab:3,subtitle:["Informe os dados do Ve\xedculo","Informe os dados do Seguro","Preencha os campos abaixo","Informe os dados para a baixa"],empresas:[],razaoSocial:"",delegatarioCompartilhado:"",frota:[],placa:"",form:{},check:"",delegaTransf:"",toastMsg:"Baixa realizada com sucesso!",confirmToast:!1,openDialog:!1},t.setActiveStep=function(e){var a=t.state.activeStep;"next"===e&&t.setState({activeStep:a+1}),"back"===e&&t.setState({activeStep:a-1}),"reset"===e&&t.setState({activeStep:0})},t.handleInput=function(e){var a,n=e.target,r=n.name,o=n.value,i=Q.a.decamelize(r);"razaoSocial"!==r?t.setState((a={},Object(d.a)(a,r,o),Object(d.a)(a,"form",Object(u.a)({},t.state.form,Object(d.a)({},i,o))),a)):t.setState(Object(d.a)({},r,o))},t.getId=function(){var e=Object(R.a)(V.a.mark(function e(a,n,r,o,i,l,s){var c,u,m,p,f,g;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.filter(function(e){return e[i].toLowerCase().match(n.toLowerCase())}),""===n&&t.setState((c={},Object(d.a)(c,a,""),Object(d.a)(c,o,""),c)),!u[0]){e.next=10;break}if(m=u[0][i],p=u[0][l],""===n){e.next=8;break}return e.next=8,t.setState((f={},Object(d.a)(f,a,m),Object(d.a)(f,o,p),f));case 8:e.next=14;break;case 10:return e.next=12,t.setState((g={},Object(d.a)(g,a,""),Object(d.a)(g,o,""),g));case 12:alert(s+" n\xe3o cadastrado"),document.getElementsByName(a)[0].focus();case 14:case"end":return e.stop()}},e)}));return function(a,t,n,r,o,i,l){return e.apply(this,arguments)}}(),t.handleBlur=function(){var e=Object(R.a)(V.a.mark(function e(a){var n,r,o,i,l,s,c,d,m;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.state,r=n.empresas,o=n.frota,i=n.veiculos,l=a.target.name,s=a.target.value,e.t0=l,e.next="compartilhado"===e.t0?6:"delegaTransf"===e.t0?8:"razaoSocial"===e.t0?11:15;break;case 6:return t.getId(l,s,r,"delegatarioCompartilhado","razaoSocial","delegatarioId"),e.abrupt("break",16);case 8:return e.next=10,t.getId(l,s,r,"delegatarioId","razaoSocial","delegatarioId","Empresa");case 10:return e.abrupt("break",16);case 11:return e.next=13,t.getId(l,s,r,"donoDaFrotaId","razaoSocial","delegatarioId","Empresa");case 13:return t.state.donoDaFrotaId&&(c=i.filter(function(e){return e.delegatarioId===t.state.donoDaFrotaId}),t.setState({frota:c})),e.abrupt("break",16);case 15:case 16:if("placa"!==l||"string"===typeof t.state.frota){e.next=25;break}if(!(s.length>2)){e.next=24;break}return d=t.state.frota.filter(function(e){return"string"===typeof s?e.placa.toLowerCase().match(s.toLowerCase()):e.placa.match(s)})[0],e.next=21,t.setState(Object(u.a)({},d,{disable:!0}));case 21:void 0!==d&&d.hasOwnProperty("empresa")&&t.setState({delegatario:d.empresa}),e.next=25;break;case 24:t.state.placa.length<0&&!d&&(m={},o[0]&&Object.keys(o[0]).forEach(function(e){return m[e]=""}),t.props.createAlert("plateNotFound"),t.setState(Object(u.a)({},m,{disable:!1})));case 25:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.handleSubmit=function(){var e=Object(R.a)(V.a.mark(function e(a){var n,r,o,i,l,s,c;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,r=n.delegatarioId,o=n.justificativa,i=n.checked,l=n.delegaTransf,["placa","renavam","nChassi"].every(function(e){return t.state.hasOwnProperty(e)&&""!==t.state[e]})){e.next=5;break}return t.props.createAlert("fieldsMissing"),e.abrupt("return",null);case 5:if("venda"!==i||l){e.next=8;break}return t.props.createAlert("fieldsMissing"),e.abrupt("return",null);case 8:if("outro"!==i||o){e.next=11;break}return t.props.createAlert("fieldsMissing"),e.abrupt("return",null);case 11:if("outro"===i||"venda"===i){e.next=14;break}return t.props.createAlert("fieldsMissing"),e.abrupt("return",null);case 14:if(!(t.state.placa.length<=2)){e.next=19;break}return t.props.createAlert("invalidPlate"),e.abrupt("return",null);case 19:if([],!(t.state.frota.filter(function(e){return e.placa===t.state.placa}).length<1)){e.next=24;break}return t.props.createAlert("plateNotFound"),e.abrupt("return",null);case 24:"venda"===i&&(s={delegatarioId:r,situacao:"pendente"}),"outro"===i&&(s={situacao:"exclu\xeddo"}),c=Q.a.decamelizeKeys(s),"veiculo","veiculo_id",H.a.put("/api/updateVehicle",{requestObject:c,table:"veiculo",tablePK:"veiculo_id",id:t.state.veiculoId}).then(function(){return t.toast()}).catch(function(e){return console.log(e)});case 29:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.toast=function(e){t.setState({confirmToast:!t.state.confirmToast})},t.handleFiles=function(){var e=Object(R.a)(V.a.mark(function e(a){var n,r,o,i,l;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.target,r=n.name,!(o=n.files)||!o[0]){e.next=11;break}if(document.getElementById(r).value=o[0].name,i=new FormData,l=t.state.fileNames,!(o&&o.length>0)){e.next=11;break}return l.push(Object(d.a)({},r,o[0].name)),e.next=9,t.setState(Object(d.a)({filesNames:l},r,o[0]));case 9:ke.forEach(function(e){var a=e.name;for(var n in t.state)n.match(a)&&(i.append("id",a),i.append(a,t.state[a]))}),t.setState({form:i});case 11:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.handleCheck=function(e){var a=e.target.value;t.setState({checked:a})},t}return Object(G.a)(a,e),Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=Object(R.a)(V.a.mark(function e(){var a,t,n=this;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=H.a.get("/api/veiculosInit"),t=H.a.get("/api/empresas"),e.next=4,Promise.all([a,t]).then(function(e){return e.map(function(e){return Q.a.camelizeKeys(e.data)})}).then(function(e){var a=Object(c.a)(e,2),t=a[0],r=a[1];n.setState({veiculos:t,empresas:r})});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({})}},{key:"render",value:function(){var e=this,a=this.state,t=a.delegaTransf,o=a.confirmToast,i=a.toastMsg,l=a.checked;return r.a.createElement(n.Fragment,null,r.a.createElement(Se,{data:this.state,handleInput:this.handleInput,handleBlur:this.handleBlur}),r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",style:{width:"venda"===l||"outro"===l?"1200px":"600px"}},r.a.createElement(P.a,{item:!0,xs:l?6:12},r.a.createElement(Je.a,{component:"fieldset"},r.a.createElement(Qe.a,{component:"legend"},"Motivo da baixa"),r.a.createElement(He.a,{"aria-label":"position",name:"position",onChange:this.handleCheck,row:!0,style:{width:"auto"},className:"radio"},r.a.createElement(ie.a,{className:"radio",value:"venda",control:r.a.createElement($e.a,{color:"primary",inputProps:{style:{fontSize:"0.5rem"}}}),label:"Venda para outra empresa do sistema",labelPlacement:"start"}),r.a.createElement(ie.a,{value:"outro",control:r.a.createElement($e.a,{color:"primary"}),label:"Outro",labelPlacement:"start"})))),"venda"===l&&r.a.createElement(P.a,{item:!0,xs:6},r.a.createElement(de.a,{inputProps:{list:"razaoSocial",name:"delegaTransf"},value:t,onChange:this.handleInput,onBlur:this.handleBlur,label:"Informe o delegat\xe1rio para o qual foi transferido o ve\xedculo.",fullWidth:!0}),r.a.createElement(be,{collection:this.props.data.empresas,datalist:"razaoSocial",value:t})),"outro"===l&&r.a.createElement(P.a,{item:!0,xs:6},r.a.createElement(de.a,{name:"justificativa",value:this.state.justificativa,label:"Justificativa",type:"text",onChange:this.handleInput,InputLabelProps:{shrink:!0},multiline:!0,rows:4,variant:"outlined",fullWidth:!0}))),r.a.createElement(P.a,{container:!0,direction:"row",justify:"flex-end",style:{width:"1200px"}},r.a.createElement(P.a,{item:!0,xs:11,style:{width:"1000px"}}),r.a.createElement(P.a,{item:!0,xs:1,style:{align:"right"}},r.a.createElement(f.a,{size:"small",color:"primary",variant:"outlined",style:{margin:"10px 0 10px 0"},onClick:function(){return e.handleSubmit()}},"Confirmar ",r.a.createElement("span",null,"\xa0\xa0 ")," ",r.a.createElement(Ge.a,null)))),r.a.createElement(oe,{open:o,close:this.toast,msg:i}))}}]),a}(n.Component),Ye=t(438),Ze=t(434),ea=t(432),aa=t(433),ta=t(431);function na(e){var a=e.title,t=e.message,n=e.open,o=e.close,i=e.confirm;return r.a.createElement("div",null,r.a.createElement(Ye.a,{open:n,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(ta.a,{id:"alert-dialog-title"},a),r.a.createElement(ea.a,null,r.a.createElement(aa.a,{id:"alert-dialog-description"},t)),r.a.createElement(Ze.a,null,r.a.createElement(f.a,{onClick:o,color:"primary"},i?"Cancelar":"Fechar"),i&&r.a.createElement(f.a,{onClick:o,color:"primary",autoFocus:!0},"Confirmar"))))}var ra=function(e){function a(){var e;return Object(W.a)(this,a),(e=Object(U.a)(this,Object(K.a)(a).call(this))).state={tab:0,items:["Cadastro de Ve\xedculo","Atualiza\xe7\xe3o de Seguro","Altera\xe7\xe3o de dados","Baixa de Ve\xedculo"],stepTitles:["Informe os dados do ve\xedculo","Informe os dados do seguro","Informa\xe7\xf5es sobre vistoria e laudos","Anexe os documentos solicitados","Revis\xe3o das informa\xe7\xf5es e deferimento"],steps:["Dados do Ve\xedculo","Dados do seguro","Vistoria e laudos","Documentos","Revis\xe3o"],subtitle:["Informe os dados do Ve\xedculo","Informe os dados do Seguro","Preencha os campos abaixo","Informe os dados para a baixa"],form:{},empresas:[],razaoSocial:"",delegatarioCompartilhado:"",frota:[],toastMsg:"Ve\xedculo cadastrado!",confirmToast:!1,activeStep:0,files:[],fileNames:[],modelosChassi:[],seguradoras:[],insuranceExists:!1,equipamentos:[],addEquipa:!1,addedPlaca:"",openDialog:!1},e.changeTab=function(a,t){e.setState({tab:t,toastMsg:["Ve\xedculo cadastrado!","Seguro atualizado!","Dados Alterados!","Ve\xedculo Baixado."][t],razaoSocial:"",frota:[],placa:"",delegatarioCompartilhado:"",apolice:"",seguradora:"",dataEmissao:"",vencimento:"",seguros:e.state.allInsurances})},e.setActiveStep=function(){var a=Object(R.a)(V.a.mark(function a(t){var n,r,o;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==e.state.activeStep){a.next=7;break}if(!e.state.frota.filter(function(a){return a.placa===e.state.placa})[0]){a.next=7;break}return a.next=5,e.setState({placa:""});case 5:return e.createAlert("plateExists"),a.abrupt("return",null);case 7:n=[],r=e.state.equipamentos,o=e.state.activeStep,"next"===t&&e.setState({activeStep:o+1}),"back"===t&&e.setState({activeStep:o-1}),"reset"===t&&e.setState({activeStep:0}),1===o&&(r.forEach(function(){var a=Object(R.a)(V.a.mark(function a(t){return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!0!==e.state[t.item]){a.next=3;break}return a.next=3,n.push(t.item);case 3:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()),e.setState({equipamentos_id:n}));case 14:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),e.handleInput=function(){var a=Object(R.a)(V.a.mark(function a(t){var n,r,o,i;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.target.name,o=t.target.value,i=Q.a.decamelize(r),"razaoSocial"!==r&&e.setState((n={},Object(d.a)(n,r,o),Object(d.a)(n,"form",Object(u.a)({},e.state.form,Object(d.a)({},i,o))),n)),"placa"!==r||0!==e.state.tab){a.next=12;break}if("string"!==typeof o){a.next=10;break}return o=o.toLocaleUpperCase(),a.next=9,e.setState(Object(d.a)({},r,o));case 9:return a.abrupt("return",null);case 10:a.next=13;break;case 12:e.setState(Object(d.a)({},r,o));case 13:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),e.getId=function(){var a=Object(R.a)(V.a.mark(function a(t,n,r,o,i,l,s){var c,u,m,p,f,g;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(u=r.filter(function(e){return e[i].toLowerCase().match(n.toLowerCase())}),""===n&&e.setState((c={},Object(d.a)(c,t,""),Object(d.a)(c,o,""),c)),!u[0]){a.next=10;break}if(m=u[0][i],p=u[0][l],""===n){a.next=8;break}return a.next=8,e.setState((f={},Object(d.a)(f,t,m),Object(d.a)(f,o,p),f));case 8:a.next=14;break;case 10:return a.next=12,e.setState((g={},Object(d.a)(g,t,""),Object(d.a)(g,o,""),g));case 12:alert(s+" n\xe3o cadastrado"),document.getElementsByName(t)[0].focus();case 14:case"end":return a.stop()}},a)}));return function(e,t,n,r,o,i,l){return a.apply(this,arguments)}}(),e.handleBlur=function(){var a=Object(R.a)(V.a.mark(function a(t){var n,r,o,i,l,s,c,u,d,m,p,f,g,h,b,v,E,x,y,S,k,C;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=e.state,r=n.empresas,o=n.tab,i=n.frota,l=n.placa,s=n.modelosChassi,c=n.carrocerias,u=n.seguradoras,d=n.allInsurances,m=n.veiculos,p=t.target.name,f=t.target.value,a.t0=p,a.next="modeloChassi"===a.t0?6:"modeloCarroceria"===a.t0?8:"delegatarioCompartilhado"===a.t0?10:"seguradora"===a.t0?12:"razaoSocial"===a.t0?19:"apolice"===a.t0?23:"addedPlaca"===a.t0?26:30;break;case 6:return e.getId(p,f,s,"modeloChassiId","modeloChassi","id","Chassi"),a.abrupt("break",31);case 8:return e.getId(p,f,c,"modeloCarroceriaId","modelo","id","Modelo de carroceria"),a.abrupt("break",31);case 10:return e.getId(p,f,r,"compartilhadoId","razaoSocial","delegatarioId"),a.abrupt("break",31);case 12:return a.next=14,e.getId(p,f,u,"seguradoraId","seguradora","id","Seguradora");case 14:return g=[],e.state.delegatarioId&&""===e.state.seguradora&&(g=d.filter(function(a){return a.delegatarioId===e.state.delegatarioId}),e.setState({seguros:g})),e.state.delegatarioId||""===e.state.seguradora||(g=d.filter(function(a){return a.seguradora===e.state.seguradora}),e.setState({seguros:g})),e.state.delegatarioId&&""!==e.state.seguradora&&(g=d.filter(function(a){return a.delegatarioId===e.state.delegatarioId}).filter(function(a){return a.seguradora===e.state.seguradora}),e.setState({seguros:g})),a.abrupt("break",31);case 19:return a.next=21,e.getId(p,f,r,"delegatarioId","razaoSocial","delegatarioId","Empresa");case 21:return e.state.delegatarioId&&(h=m.filter(function(a){return a.delegatarioId===e.state.delegatarioId}),b=d.filter(function(a){return a.delegatarioId===e.state.delegatarioId}),e.setState({frota:h,seguros:b})),a.abrupt("break",31);case 23:return(v=e.state.seguros.filter(function(a){return a.apolice===e.state.apolice}))&&void 0!==v[0]&&v[0].dataEmissao&&v[0].vencimento?(E=v[0].dataEmissao.toString().slice(0,10),x=v[0].vencimento.toString().slice(0,10),y=v[0].seguradora,e.setState({seguradora:y,dataEmissao:E,vencimento:x,insuranceExists:v[0]})):(v=!1,e.setState({insuranceExists:!1})),a.abrupt("break",31);case 26:return S=e.state.addedPlaca,(k=i.filter(function(e){return e.placa.match(S)}))&&k[0]&&k[0].length>0&&e.setState({addedPlaca:k[0].placa}),a.abrupt("break",31);case 30:case 31:if("placa"!==p||"string"===typeof e.state.frota){a.next=52;break}if(0!==o){a.next=52;break}if(7!==f.length){a.next=45;break}return C=f.replace(/(\w{3})/,"$1-"),a.next=37,e.setState({placa:C});case 37:if(f=C,!i.filter(function(a){return a.placa===e.state.placa})[0]){a.next=45;break}return a.next=42,e.setState({placa:null});case 42:f="",e.createAlert("plateExists"),document.getElementsByName("placa")[0].focus();case 45:if(!i.filter(function(e){return e.placa===l})[0]){a.next=52;break}return a.next=49,e.setState({placa:null});case 49:f="",e.createAlert("plateExists"),document.getElementsByName("placa")[0].focus();case 52:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),e.handleCadastro=function(){var a=Object(R.a)(V.a.mark(function a(t){var n,r,o,i,l,s,c,u,m,p,f,g,h,b,v,E,x,y,S,k,C,w,I,j;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.state,r=n.anoCarroceria,o=n.equipamentos_id,i=n.peso_dianteiro,l=n.peso_traseiro,s=n.poltronas,c=n.delegatarioId,u=n.compartilhadoId,m=n.seguros,p=n.modeloChassiId,f=n.modeloCarroceriaId,g=n.seguradoraId,"Ativo",h=r,b=93*Number(s)+(Number(i)+Number(l)),isNaN(b)&&(b=void 0),v={},he.forEach(function(a){a.forEach(function(a){for(var t in e.state)t===a.field&&Object.assign(v,Object(d.a)({},t,e.state[t]))})}),E=e.state.form,x=new FormData,y=v.dataEmissao,S=v.vencimento,v.delegatarioCompartilhado,v.modeloChassi,v.modeloCarroceria,v.seguradora,k=Object(q.a)(v,["dataEmissao","vencimento","delegatarioCompartilhado","modeloChassi","modeloCarroceria","seguradora"]),C={apolice:v.apolice,seguradoraId:g,dataEmissao:y,vencimento:S},Object.assign(k,{delegatarioId:c,situacao:"Ativo",indicadorIdade:h,pbt:b,equipamentos_id:o,modeloChassiId:p,modeloCarroceriaId:f}),k.delegatarioCompartilhado=u,w=Q.a.decamelizeKeys(k),I=Q.a.decamelizeKeys(C),!(j=m.filter(function(e){return e.apolice===I.apolice}))[0]){a.next=20;break}return a.next=16,H.a.post("/api/cadastroVeiculo",w).then(function(e){var a=e.data[0].veiculo_id;x.append("veiculoId",a);var t=!0,n=!1,r=void 0;try{for(var o,i=E.entries()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=o.value;x.append(l[0],l[1])}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}});case 16:H.a.post("/api/mongoUpload",x).then(function(e){console.log(e.data)}).catch(function(e){return console.log(e)}),e.toast(),a.next=30;break;case 20:if(j[0]||void 0===I.apolice||!(I.apolice.length>3)||void 0===I.seguradora_id){a.next=29;break}return a.next=23,H.a.post("/api/cadSeguro",I).then(function(e){return console.log(e.data)});case 23:return a.next=25,H.a.post("/api/cadastroVeiculo",w).then(function(e){var a=e.data[0].veiculo_id;x.append("veiculoId",a);var t=!0,n=!1,r=void 0;try{for(var o,i=E.entries()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=o.value;x.append(l[0],l[1])}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}});case 25:H.a.post("/api/mongoUpload",x).then(function(e){console.log(e.data)}).catch(function(e){return console.log(e)}),e.toast(),a.next=30;break;case 29:alert("Favor verificar os dados do seguro.");case 30:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),e.toast=function(a){e.setState({confirmToast:!e.state.confirmToast})},e.handleFiles=function(){var a=Object(R.a)(V.a.mark(function a(t){var n,r,o,i,l;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.target,r=n.name,!(o=n.files)||!o[0]){a.next=11;break}if(document.getElementById(r).value=o[0].name,i=new FormData,l=e.state.fileNames,!(o&&o.length>0)){a.next=11;break}return l.push(Object(d.a)({},r,o[0].name)),a.next=9,e.setState(Object(d.a)({filesNames:l},r,o[0]));case 9:ke.forEach(function(a){var t=a.name;for(var n in e.state)n.match(t)&&i.append(t,e.state[t])}),e.setState({form:i});case 11:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),e.submitFiles=function(){var a=Object(R.a)(V.a.mark(function a(t){var n;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.state.form,a.next=3,H.a.post("/api/mongoUpload",n).then(function(e){return console.log(e.data)}).catch(function(e){return console.log(e)});case 3:e.toast();case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),e.handleEquipa=function(a){e.setState({addEquipa:!e.state.addEquipa})},e.handleCheck=function(a){e.setState(Object(u.a)({},e.state,Object(d.a)({},a,!e.state[a])))},e.deleteInsurance=function(){var a=Object(R.a)(V.a.mark(function a(t){var n,r,o,i,l,s,c;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({vehicleFound:e.state.frota.filter(function(e){return e.placa===t})[0]});case 2:return n=e.state.vehicleFound,r=e.state.insuranceExists,o=r.placas,i=r.veiculos,l={table:"veiculo",column:"apolice",value:"Seguro n\xe3o cadastrado",tablePK:"veiculo_id",id:n.veiculoId},s=o.indexOf(t),o.splice(s,1),c=i.indexOf(n.veiculoId),i.splice(c,1),a.next=11,H.a.put("/api/UpdateInsurance",l).catch(function(e){return console.log(e)});case 11:return r.placas=o,r.veiculos=i,e.setState({insuranceExists:r}),a.abrupt("return",null);case 15:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),e.updateInsurance=function(){var a=Object(R.a)(V.a.mark(function a(t,n){var r,o,i,l,s,c,u,d,m,p,f,g,h,b,v,E,x,y,S,k;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({vehicleFound:e.state.frota.filter(function(e){return e.placa===t})[0]});case 2:if(r=e.state.vehicleFound,o=e.state.insuranceExists,i=o.placas,l=o.veiculos,t.match("[a-zA-Z]{3}[-]?\\d{4}")){a.next=7;break}return e.setState({openDialog:!0,dialogTitle:"Placa inv\xe1lida",message:"Certifique-se de que a placa informada \xe9 uma placa v\xe1lida, com tr\xeas letras seguidas de 4 n\xfameros (ex: AAA-0000)"}),a.abrupt("return",null);case 7:if(void 0!==r&&!1!==r.hasOwnProperty("veiculoId")){a.next=12;break}return e.setState({openDialog:!0,dialogTitle:"Placa n\xe3o encontrada",message:'A placa informada n\xe3o corresponde a nenhum ve\xedculo da frota da via\xe7\xe3o selecionada. Para cadastrar um novo ve\xedculo, selecione a op\xe7\xe3o "Cadastro de Ve\xedculo" no menu acima.'}),a.abrupt("return",null);case 12:if(void 0===o||!o.hasOwnProperty("placas")||!r.hasOwnProperty("placa")){a.next=17;break}if(void 0===o.placas.find(function(e){return e===r.placa})){a.next=17;break}return e.setState({openDialog:!0,dialogTitle:"Placa j\xe1 cadastrada",message:'A placa informada j\xe1 est\xe1 cadastrada na ap\xf3lice. Para pesquisar as placas cadastradas, utilize o campo "filtrar" abaixo.'}),a.abrupt("return",null);case 17:if(s={table:"veiculo",column:"apolice",value:n,tablePK:"veiculo_id",id:r.veiculoId},n&&(i||(i=[]),i.push(t),l||(l=[]),l.push(r.veiculoId),o.hasOwnProperty("placas")&&o.hasOwnProperty("veiculos")&&((c=o).placas=i,c.veiculos=l,e.setState({insuranceExists:c}))),he[1].every(function(a){return e.state.hasOwnProperty(a.field)&&""!==e.state[a.field]})){a.next=23;break}return alert("Favor preencher todos os campos referentes ao seguro."),a.abrupt("return",null);case 23:if(o.hasOwnProperty("apolice")){a.next=27;break}return u=e.state,d=u.seguradoraId,m=u.apolice,p=u.dataEmissao,f=u.vencimento,g={seguradora_id:d,apolice:m,data_emissao:p,vencimento:f},a.next=27,H.a.post("/api/cadSeguro",g);case 27:return"Seguro n\xe3o cadastrado"!==r.apolice&&(h=e.state.seguros,b=h.findIndex(function(e){return e.apolice===r.apolice}),h[b]&&(v=h[b].placas,E=h[b].veiculos,x=v.indexOf(r.placa),y=v.indexOf(r.veiculoId),v.splice(x,1),E.splice(y,1),h[b].placas=v,h[b].veiculos=E,e.setState({seguros:h}))),a.next=30,H.a.put("/api/UpdateInsurance",s).catch(function(e){return console.log(e)});case 30:return a.next=32,H.a.get("/api/seguros").then(function(e){return Q.a.camelizeKeys(e.data)}).then(function(a){return e.setState({seguros:a}),a}).then(function(a){return e.setState({insuranceExists:a.filter(function(e){return e.apolice===n})[0]})}).catch(function(e){return console.log(e)});case 32:return S=e.state.frota,k=e.state.frota.findIndex(function(e){return e.veiculoId===r.veiculoId}),S[k].apolice=n,a.next=37,e.setState({frota:S});case 37:document.getElementsByName("razaoSocial")[0]&&document.getElementsByName("razaoSocial")[0].focus(),document.getElementsByName("seguradora")[0]&&document.getElementsByName("seguradora")[0].focus(),document.getElementsByName("apolice")[0]&&document.getElementsByName("apolice")[0].focus(),document.getElementsByName("addedPlaca")[0]&&document.getElementsByName("addedPlaca")[0].focus(),e.setState({addedPlaca:""});case 42:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}(),e.toggleDialog=function(){e.setState({openDialog:!e.state.openDialog})},e.createAlert=function(a){var t,n;switch(a){case"plateNotFound":t="Placa n\xe3o encontrada",n='A placa informada n\xe3o corresponde a nenhum ve\xedculo da frota da via\xe7\xe3o selecionada.Para cadastrar um novo ve\xedculo, selecione a op\xe7\xe3o "Cadastro de Ve\xedculo" no menu acima.';break;case"invalidPlate":t="Placa inv\xe1lida",n="Certifique-se de que a placa informada \xe9 uma placa v\xe1lida, com tr\xeas letras seguidas de 4 n\xfameros (ex: AAA-0000)";break;case"fieldsMissing":t="Favor preencher todos os campos.",n="Os campos acima s\xe3o de preenchimento obrigat\xf3rio. Certifique-se de ter preenchido todos eles.";break;case"plateExists":t="Placa j\xe1 cadastrada!",n="A placa informada j\xe1 est\xe1 cadastrada. Para atualizar seguro, alterar dados ou solicitar baixa, utilize as op\xe7\xf5es acima. "}e.setState({openDialog:!0,dialogTitle:t,message:n})},e.showFiles=function(a){var t=e.state.files.filter(function(e){return e.metadata.veiculoId===a.toString()});t[0]?e.setState({filesCollection:t,showFiles:!0,selectedVehicle:a}):(e.createAlert("filesNotFound"),e.setState({filesCollection:[]}))},e.escFunction=function(a){27===a.keyCode&&e.state.addEquipa&&e.handleEquipa()},e}return Object(G.a)(a,e),Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=Object(R.a)(V.a.mark(function e(){var a,t,n,r,o,i,l,s,u=this;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=H.a.get("/api/modeloChassi"),t=H.a.get("/api/carrocerias"),n=H.a.get("/api/veiculosInit"),r=H.a.get("/api/empresas"),o=H.a.get("/api/seguradoras"),i=H.a.get("/api/seguros"),l=H.a.get("/api/equipa"),e.next=9,Promise.all([a,t,n,r,o,i,l]).then(function(e){return e.map(function(e){return Q.a.camelizeKeys(e.data)})}).then(function(e){var a=Object(c.a)(e,7),t=a[0],n=a[1],r=a[2],o=a[3],i=a[4],l=a[5],s=a[6];u.setState({modelosChassi:t,carrocerias:n,veiculos:r,empresas:o,seguradoras:i,equipamentos:s,seguros:l,allInsurances:l})});case 9:s={},this.state.equipamentos.forEach(function(e){return Object.assign(s,Object(d.a)({},e.item,!1))}),this.setState(s),document.addEventListener("keydown",this.escFunction,!1);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({})}},{key:"render",value:function(){var e=this,a=this.state,t=a.tab,o=a.items,i=a.confirmToast,l=a.toastMsg,s=a.activeStep,c=a.openDialog,u=a.dialogTitle,d=a.message,m=a.steps,p=a.stepTitles,f=he[1].every(function(a){return e.state.hasOwnProperty(a.field)&&""!==e.state[a.field]});return r.a.createElement(n.Fragment,null,r.a.createElement(j,{items:o,tab:t,changeTab:this.changeTab}),0===t&&r.a.createElement(Ue,{activeStep:s,steps:m,stepTitles:p,setActiveStep:this.setActiveStep}),t<2&&s<3?r.a.createElement(Se,{data:this.state,handleInput:this.handleInput,handleBlur:this.handleBlur,handleEquipa:this.handleEquipa,handleCheck:this.handleCheck}):0===t&&3===s?r.a.createElement(je,{tab:t,handleFiles:this.handleFiles,handleSubmit:this.submitFiles,handleNames:this.handleNames,showFiles:this.showFiles}):0===t&&4===s?r.a.createElement(De,{data:this.state}):r.a.createElement(n.Fragment,null),0===t&&r.a.createElement(Me,{activeStep:s,lastStep:m.length-1,handleSubmit:this.handleCadastro,setActiveStep:this.setActiveStep}),1===t&&f&&r.a.createElement(Le,{data:this.state,insuranceExists:this.state.insuranceExists,handleInput:this.handleInput,handleBlur:this.handleBlur,addPlateInsurance:this.updateInsurance,deleteInsurance:this.deleteInsurance}),2===t&&r.a.createElement(Ke,{data:this.state,getId:this.getId,createAlert:this.createAlert}),3===t&&r.a.createElement(Xe,{data:this.state,getId:this.getId,createAlert:this.createAlert}),r.a.createElement(oe,{open:i,close:this.toast,msg:l}),r.a.createElement(na,{open:c,close:this.toggleDialog,title:u,message:d}))}}]),a}(n.Component),oa=t(230),ia=t.n(oa),la=function(e,a){if(/\d/.test(e)){var t=new Date(e).getDate()+"/"+(new Date(e).getMonth()+1)+"/"+new Date(e).getFullYear();return a&&(t+=", "+new Date(e).getHours()+":"+(new Date(e).getMinutes()<10?"0"+new Date(e).getMinutes():new Date(e).getMinutes())+"h"),t}return e},sa=[{field:"nomeProcurador",title:"Nome"},{field:"cpf",title:"CPF"},{field:"razaoSocial",title:"Delegat\xe1rio(s)"},{field:"dataInicio",title:"In\xedcio da Procura\xe7\xe3o",filtering:!1,render:function(e){return la(e.dataInicio)}},{field:"dataFim",title:"Vig\xeancia da Procura\xe7\xe3o",filtering:!1,render:function(e){return la(e.dataFim)}}],ca=[{field:"apolice",title:"N\xfamero da Ap\xf3lice"},{field:"seguradora",title:"Seguradora"},{field:"empresa",title:"Segurado"},{field:"segurados",title:"N\xfamero de ve\xedculos"},{field:"vencimento",title:"Vencimento",filtering:!1,render:function(e){return la(e.vencimento)}}],ua=[[{field:"placa",title:"Placa"},{field:"modeloCarroceria",title:"Modelo da Carroceria"},{field:"empresa",title:"Delegat\xe1rio"},{field:"seguradora",title:"Seguradora"},{field:"apolice",title:"N\xfamero da Ap\xf3lice"},{field:"vencimento",title:"Vencimento Seguro",render:function(e){return la(e.vencimento)}},{field:"indicadorIdade",title:"Ano de Fabrica\xe7\xe3o",filtering:!1}]].concat([[{field:"razaoSocial",title:"Raz\xe3o Social"},{field:"delegatarioStatus",title:"Situa\xe7\xe3o"},{field:"vencimentoContrato",title:"Data de Vencimento",filtering:!1,render:function(e){return la(e.vencimentoContrato)}},{field:"municipioDelegatario",title:"Munic\xedpio"},{field:"telefone",title:"Telefone"},{field:"frota",title:"Tamanho da frota"}]]).concat([sa]).concat([ca]),da=Object(s.a)(function(e){return{container:{display:"flex",flexWrap:"wrap",padding:e.spacing(2)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300,fontSize:"0.8rem",fontColor:"#bbb",textAlign:"center"},input:{textAlign:"center"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,margin:e.spacing(2)},button:{margin:e.spacing(1),float:"right"}}}),ma=function(e){var a=e.tab,t=e.collection,n=e.showDetails,o=e.showFiles,i=e.handleEdit,l=e.del,s=da().paper;return r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(C.a,{className:s},r.a.createElement(ia.a,{title:" Pesquisar dados de ve\xedculos",columns:ua[a],data:t,options:{filtering:!0,actionsColumnIndex:-1,searchFieldStyle:{color:"#024"},headerStyle:{backgroundColor:"#FAFAFC"}},localization:{body:{emptyDataSourceMessage:"Carregando...",editRow:{deleteText:"Tem certeza que deseja apagar esse registro ?"}},toolbar:{searchTooltip:"Procurar",searchPlaceholder:"Procurar"},pagination:{labelRowsSelect:"Resultados por p\xe1gina",labelDisplayedRows:" {from}-{to} a {count}",firstTooltip:"Primeira p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima P\xe1gina",lastTooltip:"\xdaltima P\xe1gina"}},actions:[{icon:"info",iconProps:{color:"primary"},tooltip:"Mais informa\xe7\xf5es",onClick:function(e,a){return n(e,a)}},{hidden:0!==a,icon:"file_copy_outline",iconProps:{color:"secondary"},tooltip:"Ver arquivos",onClick:function(e,a){return o(a.veiculoId)}}],editable:{onRowDelete:function(){var e=Object(R.a)(V.a.mark(function e(a){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(a);case 2:return e.abrupt("return",new Promise(function(e,n){setTimeout(function(){var n=t,r=n.indexOf(a);n.splice(r,1),i({data:n},function(){return e()}),e()},200)}));case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()}}),r.a.createElement("div",null)))},pa=Object(s.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),marginTop:"9%",width:150,fontSize:"0.6rem",fontColor:"#bbb",textAlign:"center"}}});function fa(e){var a=e.data,t=e.tab,n=pa().textField,o=(a.veiculoId,a.laudoId,a.tableData,a.modeloChassiId,a.modeloCarroceriaId,a.delegatarioId,Object(q.a)(a,["veiculoId","laudoId","tableData","modeloChassiId","modeloCarroceriaId","delegatarioId"]));0===t&&(o.dataRegistro=la(a.dataRegistro),o.dataEmissao=la(a.dataEmissao),o.vencimento=la(a.vencimento));var i,l=[];return Object.entries(o).forEach(function(e){var a=Object(c.a)(e,2),t=a[0],n=a[1];void 0===(i=he[0].find(function(e){return e.field===t}))&&(i=he[1].find(function(e){return e.field===t})),void 0===i&&(i=he[2].find(function(e){return e.field===t})),void 0!==i?i=l.push([i.label,n]):l.push([t,n])}),r.a.createElement(P.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"baseline"},l.map(function(e,a){return r.a.createElement(P.a,{key:a,item:!0,xs:6,sm:4,md:3,lg:2},r.a.createElement(de.a,{className:n,label:e[0],value:e[1]||"",InputLabelProps:{shrink:!0,style:{fontSize:"0.9rem",fontWeight:500}},inputProps:{style:{fontSize:"0.7rem"}},variant:"outlined"}))}))}var ga=function(e){return e>1024&&e<1048576?Math.round(e/1024)+" KB":e>=1048576&&e<1073741824?(e/1024/1024).toFixed(2)+" MB":e+" bytes"},ha=function(e,a){H()({url:"/api/mongoDownload/".concat(e),method:"GET",responseType:"blob"}).then(function(e){var t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t,n.setAttribute("download",a),document.body.appendChild(n),n.click()}).catch(function(e){console.log(e)})},ba={marginBottom:0,display:"grid",grid:"50px / 4% 40% 25% 25%",width:"99%",margin:"auto",padding:"10px 0 0 0",justifyItems:"auto"},va=function(e){var a=e.veiculoId,t=e.filesCollection,n=e.close,o=e.format,i=[],l=ke;if(0===l.filter(function(e){return"transferenciaDoc"===e.name}).length&&l.push({title:"Documento de Transfer\xeancia",name:"transferenciaDoc"}),t&&t[0]&&t.filter(function(e){return e.metadata.veiculoId.match(a)}).forEach(function(e){l.forEach(function(a){a.name===e.metadata.fieldName&&i.push(Object(u.a)({},e,{label:a.title}))})}),i[0])return r.a.createElement(xe,{title:"Arquivos",close:n,format:o},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"row"},r.a.createElement("h5",null,r.a.createElement("img",{alt:"",src:"/images/folderIcon2.jpg",style:{paddingLeft:"20px",marginRight:"20px"}}))),r.a.createElement("hr",{style:{marginBottom:"5px"}}),r.a.createElement("div",{style:ba},r.a.createElement("div",null,r.a.createElement("img",{alt:"",src:"/images/multipleFiles2.png",height:"50%"})),r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:"1.2em",fontWeight:500}},"Arquivo")),r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:"1.2em",fontWeight:500}},"Data de Upload")),r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:"1.2em",fontWeight:500}},"Tamanho"))),r.a.createElement("hr",{style:{margin:"0 0 20px 0"}}),i.map(function(e,a){return r.a.createElement("div",{key:a},r.a.createElement("div",{style:ba},r.a.createElement("div",{className:"col s1"},r.a.createElement("img",{alt:"",src:"/images/genericFile.png"})),r.a.createElement("div",{className:"col s11"},r.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer",color:"blue"},onClick:function(){return ha(e._id,e.filename)}},e.label)),r.a.createElement("div",{className:"col s3"},la(e.uploadDate,!0)),r.a.createElement("div",{className:"col s3"},ga(e.length))))})))},Ea={top:"5%",left:"10%",right:"10%"},xa=function(e){function a(){var e;return Object(W.a)(this,a),(e=Object(U.a)(this,Object(K.a)(a).call(this))).state={tab:0,items:["Ve\xedculos","Delegat\xe1rios","S\xf3cios","Seguros"],tablePKs:["veiculo_id","delegatario_id","procurador_id","apolice"],dbTables:["veiculo","delegatario","procurador","seguro"],empresas:[],seguros:[],razaoSocial:"",showDetails:!1,showFiles:!1,openDialog:!1,filesCollection:[],vehicleInfo:""},e.changeTab=function(){var a=Object(R.a)(V.a.mark(function a(t,n){var r,o;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({tab:n});case 2:r=["veiculos","empresas","procuradores","seguros"],o=e.state[r[n]],e.setState({collection:o});case 4:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}(),e.handleEdit=function(a){e.setState({data:a})},e.showDetails=function(a,t){void 0!==t?e.setState({showDetails:!e.state.showDetails,vehicleInfo:t}):e.setState({showDetails:!e.state.showDetails,vehicleInfo:void 0})},e.closeFiles=function(){e.setState({showFiles:!e.state.showFiles})},e.showFiles=function(a){var t=e.state.files.filter(function(e){return e.metadata.veiculoId===a.toString()});t[0]?e.setState({filesCollection:t,showFiles:!0,selectedVehicle:a}):(e.createAlert("filesNotFound"),e.setState({filesCollection:[]}))},e.deleteHandler=function(a){var t=e.state,n=t.dbTables,r=t.tablePKs,o=t.tab,i=n[o],l=r[o],s=Q.a.camelize(l);H.a.delete("/api/delete?table=".concat(i,"&tablePK=").concat(l,"&id=").concat(a[s])).then(function(e){return console.log(e.data)})},e.createAlert=function(a){var t,n;switch(a){case"filesNotFound":t="Arquivos n\xe3o encontrados",n="N\xe3o h\xe1 nenhum arquivo anexado no sistema para este ve\xedculo. \n                Ao cadastrar ou atualizar os dados de um ve\xedculo, certifique-se de anexar os documentos solicitados."}e.setState({openDialog:!0,dialogTitle:t,message:n})},e.toggleDialog=function(){e.setState({openDialog:!e.state.openDialog})},e.escFunction=function(a){27===a.keyCode&&(e.state.showDetails&&e.showDetails(),e.state.showFiles&&e.closeFiles())},e}return Object(G.a)(a,e),Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=Object(R.a)(V.a.mark(function e(){var a,t,n,r,o=this;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=H.a.get("/api/veiculosInit"),t=H.a.get("/api/seguros"),n=H.a.get("/api/empresas"),r=H.a.get("/api/socios"),H.a.get("/api/vehicleFiles").then(function(e){return o.setState({files:e.data})}),Promise.all([a,t,n,r]).then(function(e){return e.map(function(e){return Q.a.camelizeKeys(e.data)})}).then(function(e){var a=Object(c.a)(e,4),t=a[0],n=a[1],r=a[2],i=a[3];o.setState({veiculos:t,seguros:n,empresas:r,procuradores:i,collection:t})}),document.addEventListener("keydown",this.escFunction,!1);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({})}},{key:"render",value:function(){var e=this.state,a=e.tab,t=e.items,o=e.collection,i=e.showDetails,l=e.vehicleInfo,s=e.showFiles,c=e.selectedVehicle,u=e.filesCollection,d=e.openDialog,m=e.dialogTitle,p=e.message;return r.a.createElement(n.Fragment,null,r.a.createElement(j,{items:t,tab:a,changeTab:this.changeTab}),r.a.createElement(ma,{tab:a,items:t,collection:o,showDetails:this.showDetails,showFiles:this.showFiles,handleEdit:this.handleEdit,del:this.deleteHandler}),i&&r.a.createElement(xe,{close:this.showDetails,title:"Informa\xe7\xf5es sobre o ve\xedculo",format:Ea},r.a.createElement(fa,{data:l,tab:a})),s&&r.a.createElement(va,{veiculoId:c,filesCollection:u,close:this.closeFiles,format:Ea}),r.a.createElement(na,{open:d,close:this.toggleDialog,title:m,message:p}))}}]),a}(n.Component),ya=t(79);function Sa(){return r.a.createElement("div",{style:{height:"60vh",width:"100%",margin:"15% 35%"}},r.a.createElement("img",{src:"/images/underConstruction.png",alt:"P\xe1gina em constru\xe7\xe3o"}))}var ka=function(e){return r.a.createElement(ya.c,null,r.a.createElement(ya.a,{exact:!0,path:"/",component:L}),r.a.createElement(ya.a,{path:"/certidoes",component:Sa}),r.a.createElement(ya.a,{path:"/veiculos",component:ra}),r.a.createElement(ya.a,{path:"/consultas",component:xa}),r.a.createElement(ya.a,{path:"/delegatarios",component:Sa}),r.a.createElement(ya.a,{path:"/faleConosco",component:Sa}))};var Ca=function(){var e=Object(s.a)(function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})().root;return r.a.createElement("div",{className:e},r.a.createElement(O.a,{maxWidth:"lg"},r.a.createElement(l.a,null,r.a.createElement(S,null),r.a.createElement(ka,null)),r.a.createElement(k,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Ca,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[248,1,2]]]);