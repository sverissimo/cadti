{"version":3,"sources":["Veiculos/veiculosHome.module.scss","Avisos/avisos.module.scss","Veiculos/compartilhamento.module.scss","Store/dataReducer.js","Store/userReducer.js","rootReducer.js","Utils/idsToString.js","Store/dataActions.js","Layouts/Loading.jsx","Forms/configVehicleForm.js","Reusable Components/ReactToast.jsx","Utils/documentCookies.js","Store/userActions.js","Store/StoreHOC.jsx","Utils/checkBlankInputs.js","Utils/checkInputErrors.js","getEnvironment.js","HomeTemplate.jsx","Veiculos/VeiculosHome.jsx","Utils/setDemand.js","Utils/handleFiles.js","Solicitacoes/logRoutesConfig.js","Utils/logGenerator.js","Utils/autoComplete.jsx","Reusable Components/SelectEmpresa.jsx","Reusable Components/TextInput.jsx","Reusable Components/FormSubtiltle.jsx","Forms/vistoriaForm.js","Forms/cadVehicleForm.js","Reusable Components/ClosePopUpButton.jsx","Veiculos/AddEquipa.jsx","Veiculos/CadVeiculoTemplate.jsx","Reusable Components/RemoveFileButton.jsx","Reusable Components/DragAndDrop.jsx","Forms/cadVehicleFiles.js","Forms/altDadosFiles.js","Veiculos/VehicleDocs.jsx","Utils/downloadFile.js","Reusable Components/ShowLocalFiles.jsx","Reusable Components/StandardTable.jsx","Veiculos/VehicleReview.jsx","Reusable Components/Crumbs.jsx","Reusable Components/StepperButtons.jsx","Reusable Components/Stepper.jsx","Utils/formatValues.js","Reusable Components/AlertDialog.jsx","Utils/validaDistanciaMinima.js","Forms/dischargedForm.js","Veiculos/checkWeight.js","Veiculos/CadVeiculo.jsx","Utils/checkDemand.js","Forms/altForm.js","Forms/altFormVistoria.js","Veiculos/AltDadosTemplate.jsx","Reusable Components/FormDialog.jsx","Veiculos/AltDados.jsx","Forms/seguroForm.js","Forms/empresaFiles.js","Veiculos/SegurosTemplate.jsx","Veiculos/ShowAllPlates.jsx","Veiculos/ConfigAddDialog.jsx","Utils/setEmpresaDemand.js","Veiculos/Seguros.jsx","Reusable Components/ConfirmDialog.jsx","Forms/laudoForm.js","Reusable Components/Placa.jsx","Reusable Components/CustomTable.jsx","Reusable Components/OnClickMenu.jsx","Veiculos/LaudosTemplate.jsx","Forms/commonFields.js","Utils/cnpjValidator.js","Utils/cpfValidator.js","Forms/joinForms.js","Forms/cadForm.js","Forms/empresasForm.js","Forms/sociosForm.js","Forms/procuradorConsultasForm.js","Consultas/fieldsOrder.js","Utils/orderObjectKeys.js","Utils/createFormPattern.js","Forms/procuradorEmpresaTable.js","Forms/altContratoTable.js","Reusable Components/TextArea.jsx","Forms/procuracaoForm.js","Reusable Components/ShowDetails.jsx","Forms/laudosTable.js","Veiculos/Laudos.jsx","Store/ReactContext.jsx","Veiculos/BaixaMotivo.jsx","Veiculos/BaixaOptions.jsx","Reusable Components/CustomButton.jsx","Veiculos/BaixaGerenciar.jsx","Forms/baixaForm.js","Veiculos/BaixaTemplate.jsx","Veiculos/BaixaVeiculo.jsx","Parametros/SimpleParams.jsx","Reusable Components/CheckBoxFilter.jsx","Parametros/ParametrosTemplate.jsx","Forms/parametrosForm.js","Parametros/Parametros.jsx","Veiculos/ConfigTemplate.jsx","Veiculos/Config.jsx","Consultas/tables.js","Consultas/addProcuracao.js","Consultas/exportToXlsx.js","Consultas/ConsultasTemplate.jsx","Layouts/Header.jsx","Layouts/Footer.jsx","Layouts/TabMenu.jsx","Forms/certificate.js","Veiculos/CertificateHeader.jsx","Veiculos/CertificateTemplate.jsx","Veiculos/Certificate.jsx","Utils/formatFileSize.js","Reusable Components/ShowFiles.jsx","Utils/removePDFButton.js","Consultas/getEmpresas.js","Consultas/Consultas.jsx","Forms/cadEmpresaForm.js","Empresas/EmpresasTemplate.jsx","Forms/dadosSociosForm.js","Empresas/SociosTemplate.jsx","Empresas/EmpresaCadReview.jsx","Utils/valueParser.js","Empresas/EmpresasContainer.jsx","Empresas/EmpresasHome.jsx","Forms/procuradorForm.js","Empresas/Procurador.jsx","Empresas/ProcuradoresTemplate.jsx","Empresas/Procuradores.jsx","Empresas/Socios.jsx","Relatorios/chartsConfig.js","Relatorios/RelatoriosTemplate.jsx","Relatorios/Relatorios.jsx","Reusable Components/Table.jsx","Forms/solicitacaoTable.js","Solicitacoes/SolHistory.jsx","Solicitacoes/SolicitacoesTemplate.jsx","Forms/solicitacoesTable.js","Solicitacoes/configTablePermissions.js","Solicitacoes/SolicitacoesTable.jsx","Solicitacoes/Solicitacoes.jsx","Forms/altContratoForm.js","Empresas/EmpresaReview.jsx","Empresas/AltSociosTemplate.jsx","Forms/altContratoFiles.js","Empresas/AltContratoTemplate.jsx","Empresas/AltContrato.jsx","Auth/SuggestedBrowsers.jsx","Auth/UserAuthTemplate.jsx","Auth/userAuthForms.js","Auth/confirmEmailMsg.js","Auth/UserAuth.jsx","Users/userTable.js","Users/UsersTemplate.jsx","Users/Users.jsx","Forms/editAccountForm.js","Users/EditAccountTemplate.jsx","Users/EditAccount.jsx","Forms/compartilhamentoForm.js","Forms/compatilhamentoFiles.js","Veiculos/CompartilhamentoTemplate.jsx","Veiculos/Compartilhamento.jsx","Reusable Components/CustomButton2.jsx","Avisos/tableGenerator.js","Avisos/Aviso.jsx","Avisos/avisosTable.js","Avisos/CustomAviso.jsx","Avisos/AvisosTemplate.jsx","Avisos/avisoInputs.js","Avisos/EditorToolbar.jsx","Avisos/NewAviso.jsx","Avisos/Avisos.jsx","Routes.jsx","Authentication.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","dataReducer","state","action","type","payload","collection","data","update","forEach","el","match","push","unshift","id","map","v","toString","apolice","placaIndex","vehicleIndex","seguros","seguro","find","s","index","findIndex","placas","splice","veiculos","tablePK","updatedData","Number","console","log","element","setColor","loading","userReducer","user","appReducer","combineReducers","rootReducer","idsToString","equipamentos","acessibilidade","equipNames","accessNames","equipamentosId","acessibilidadeId","eqId","item","result","setNamesFromIds","ids","namesArray","elementId","getData","collectionsArray","dispatch","getState","a","promiseArray","globalState","length","collectionName","axios","get","Promise","all","then","res","r","humps","camelizeKeys","responseArray","i","key","replace","camelize","Object","assign","catch","err","response","sessionExpired","every","p","hasOwnProperty","includes","laudos","l","veiculoId","numeroLaudo","empresaLaudo","vencimentoLaudo","validade","socios","Array","isArray","socs","empresas","JSON","parse","e","socioId","message","insertData","dataFromServer","seguradoras","eqNames","acNames","acId","seguradora","sg","seguradoraId","plates","vehicles","updatedCollection","dataEmissao","vencimento","placa","collectionPayload","batch","updateData","updateDocs","metadata","primaryKey","stateCollection","selectedDocs","filter","doc","some","meta","updateCollection","deleteOne","Loading","className","src","alt","height","width","configVehicleForm","field","label","name","table","useStyles1","makeStyles","theme","success","backgroundColor","green","error","palette","dark","info","primary","main","warning","amber","display","alignItems","MySnackbarContentWrapper","props","classes","variant","onClose","other","SnackbarContent","clsx","aria-describedby","Icon","CustomizedSnackbars","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","close","status","msg","setCookie","cname","cvalue","d","Date","setTime","getTime","toUTCString","document","cookie","deleteCookie","getCookie","ca","split","c","charAt","substring","indexOf","socket","logUser","editUser","logUserOut","fetch","method","credentials","checkBlankInputs","form","blankInputs","customMsg","value","disabled","notRequired","substr","openAlertDialog","alertType","customMessage","customTitle","checkInputErrors","sendState","dontSetDate","querySelectorAll","inputs","errors","errString","textContent","parentNode","moment","isValid","previousSibling","slice","errorHandler","minLength","max","min","pattern","helper","socketIO","require","window","location","hostname","env","webSocketHost","options","secure","requestArray","WrappedComponent","collections","req","With","confirmToast","quitFn","ctrlKey","keyCode","getUser","Axios","request","toast","setState","addEventListener","redux","this","colName","url","on","emit","insertedObjects","updatedObjects","updatedUser","object","removeEventListener","connected","off","disconnect","undefined","col","setTimeout","history","React","Component","connect","bindActionCreators","featuredPosts","title","date","description","link","imageUrl","namesToRender","nomeSistema","siglaSistema","StoreHOC","nomes","parametros","sistema","Fragment","style","minHeight","to","textDecoration","fontWeight","menuCards","jumbotron","styles","card","card__image","card__container","card__text","role","setDemand","demand","alteracoes","vehicleDocs","vehicle","originalVehicle","stringify","selectedEmpresa","razaoSocial","empresa","delegatario","selectedVehicle","reverse","keys","allDemandFiles","fileIds","latestDocs","filesPerFieldName","files","array","fieldExists","file","fieldName","lastDoc","reduce","b","uploadDate","demandFiles","getUpdatedValues","originalObj","newObj","sort","sizeExceedsLimit","size","alert","handleFiles","filesFormTemplate","formData","FormData","obj","set","postFilesReturnIds","completed","filesEndPoint","filesToSend","tempFile","append","pair","post","filesArray","filesIds","f","updateFilesMetadata","filesCollection","put","removeFile","existingFiles","has","delete","returnObj","fileToRemove","from","k","docs","logRoutesConfig","subject","path","requestAction","responseAction","concludedAction","logGenerator","pathname","userName","store","codigoEmpresa","empresaId","logRoutes","historyLength","commonFields","createdAt","logConfig","declined","approved","filteredLog","AutoComplete","itemProp","autoComplete","useState","enableSelect","setEnabled","allEmpresas","compartilhados","handleInput","handleBlur","shared","headerTitle","compartilhado","activeStep","situacao","singleEmpresaUser","headerTitles","useEffect","selectInput","getElementsByName","focus","flexDirection","marginBottom","padding","margin","textAlign","list","onChange","onBlur","useStyles","textField","marginLeft","spacing","marginRight","marginTop","fontSize","fontColor","select","background","helperText","TextInput","selectOptions","disableAll","disableSome","reduxData","TextField","FormHelperTextProps","InputLabelProps","shrink","color","fontFamily","inputProps","disable","maxLength","multiline","rows","fullWidth","SelectProps","opt","MenuItem","FormSubtiltle","subtitle","vistoriaForm","step","cadVehicleForm","getFullYear","zero","concat","ClosePopUpButton","position","top","right","cursor","onClick","AddEquipa","handleCheck","localeCompare","left","eq","FormControlLabel","control","Checkbox","checked","button","handleEquipa","closeEquipa","resetShared","removePartilha","setShared","modelosChassi","carrocerias","addEquipa","reactivated","eqCollection","conditionalSubtitle","paddingBottom","Button","RemoveFileButton","DragAndDrop","dropDisplay","single","fileName","setFileName","fileExists","setFileExistance","filename","entries","demandFile","onDrop","getRootProps","getInputProps","cadVehicleFiles","altDadosFiles","root","flexGrow","sendButton","float","text","VehicleDocs","filesForm","parentComponent","insuranceExists","Grid","container","xs","md","downloadFile","originalName","responseType","URL","createObjectURL","Blob","createElement","href","setAttribute","body","appendChild","click","divContainer","justifyContent","alignContent","flexWrap","divFiles","border","borderRadius","icon","verticalAlign","paddingLeft","fileIcon","ShowLocalFiles","fileArray","storage","createLink","StandardTable","labels","fields","values","alteredElements","colSpan","j","ISO_8601","format","paper","secondary","Revisao","ultimateData","nDae","numeroDae","vehicleDetails","newForm","filledForm","Paper","y","Crumbs","links","numero","Breadcrumbs","separator","aria-label","backButton","StepperButtons","setActiveStep","lastStep","handleSubmit","uniqueStep","declineButtonLabel","setShowPendencias","showPendencias","obs","addObs","buttonLabel","nextShortcut","CustomStepper","steps","Stepper","labelProps","Step","StepLabel","formatDate","test","getDate","getMonth","getHours","getMinutes","formatMoney","toFixed","AlertDialog","confirm","tab","createAlert","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","validaDistanciaMinima","utilizacao","dist","distancias","validDistance","dischargedForm","getCMT","component","modeloChassi","cmt","stringBR","num","checkWeight","poltronas","pesoDianteiro","pesoTraseiro","pbt","parseFloat","isNaN","pbtString","cmtString","frota","delegatarioCompartilhado","toastMsg","inputValidation","blankFields","prevActiveStep","target","toLocaleUpperCase","distanciaMinima","distanciaMaxima","checkValid","stateId","dbName","dbId","alertLabel","toLowerCase","nombre","distanciaPoltronas","idadeBaixa","idadeMaxCad","difIdade","idadeBaixaAut","anoCarroceria","anoChassi","carr","chas","currentYear","maxYear","errorMsg","validateDist","x","checkPlateConflict","checkExistence","placaMatch","vehicleFound","reactivatedVehicle","vEquip","currentEquipa","ve","arrayOfEquips","stateKey","handleCadastro","compartilhadoId","modeloChassiId","modeloCarroceriaId","existingVeiculoId","oldHistoryLength","review","modeloCarroceria","vReview","decamelizeKeys","veiculo_id","resetState","newState","equip","resetFiles","empresaDetails","toggleDialog","escFunction","demandState","existingPendencias","allEqs","allAcs","CadVeiculoTemplate","PureComponent","checkDemand","logsCollection","exists","altForm","altPlacaOption","showAltPlaca","header","inputNames","inputLabels","fileInputName","inputName","stepTitles","altPlaca","newPlate","reset","toUpperCase","getId","capitalize","logs","dominio","resetEquips","freeze","ce","updatePlate","tempObj","camelizedRequest","requestObject","closeAlert","AltDadosTemplate","seguroForm","empresaFiles","minWidth","SegurosTemplate","enableAddPlaca","addPlate","removeFromInsurance","enableChangeApolice","showAllPlates","addedPlaca","allVehicles","insurance","apoliceDoc","renderedPlacas","paddingTop","outsider","irregular","delCompartilhado","owner","onMouseOver","getOwner","Chip","onDelete","ShowAllPlates","items","selectAll","selectAllPlates","htmlFor","ConfigAddDialog","helperMessage","marca","marcas","selectMarca","newElement","addNewElement","setEmpresaDemand","associateKeys","lastUpdate","latestDoc","empresaDocs","newMembers","oldMembers","latestDocId","om","filteredSocios","deletedVehicles","filterInsurances","filteredInsurances","allPlates","ownedPlacas","inputValue","se","renderPlacas","veiculo","newInsurance","clearFields","selectedSeguradora","checkFields","valid","seg","allPlatesObj","insuredPlates","plate","updatedState","placaInput","allSelected","check","vehicleIds","checkForErrors","setInsuranceStatus","cadSeguro","confirmAndResetState","approveInsurance","column","de","isSame","vExists","dontUpdateProps","confirmMessage","openAddDialog","cleanedUpState","filteredState","insuranceVehicles","emis","venc","validEmissao","validVenc","invalido","isSameOrBefore","vencido","isBefore","pendente","isAfter","vigente","ConfirmDialog","laudoForm","Placa","city","docsCollection","idIndex","clickable","openInfo","filePK","deleteIconProperties","deleteFunction","tableHeaders","arrayOfRows","fileId","getFile","StyledMenu","withStyles","Menu","elevation","getContentAnchorEl","transformOrigin","OnClickMenu","anchorEl","handleClose","menuOptions","keepMounted","Boolean","memo","filteredVehicles","stateInputs","laudoDoc","functions","clickOnPlate","showDetails","closeMenu","clear","deleteLaudo","renderColor","toDate","cidade","overflow","cnpj","cnpjString","tamanho","numeros","digitos","soma","pos","cnpjValidator","cpf","cpfString","strCPF","Soma","Resto","parseInt","cpfValidator","input","phone","email","eForm","sForm","segForm","vForm","cadForm","datalist","empresasForm","sociosForm","procuradorConsultasForm","empresaFieldsOrder","sociosFieldsOrder","procuradorFieldsOrder","seguroFieldsOrder","vehicleFieldsOrder","orderObjectKeys","rawData","orderedArray","dataToReturn","tableData","formPattern","setForm","orderedData","vData","laudoId","vencimentoContrato","jForm","updatedObj","updatedForm","joinForm","jf","mergeForms","consolidateForm","procuradorEmpresaTable","altContratoTable","TextArea","cols","procuracaoForm","ShowDetails","procuracoes","procuradores","altContrato","setTable","table2","setTable2","tables","setTables","createFormPattern","rowObj","selectedFiles","selectedProcs","row","pr","procuradorId","tableRow","procuracaoId","proc","procTable","fieldObj","t","o","mainTitle","setAltContrato","additionalInfo","procs","nomeProcurador","altDocs","numeroAlteracao","tableArray","defaultValue","laudosTable","deleteFile","empresasLaudo","initState","empresaInput","setEmpresa","oldVehicles","setOldVehicles","setFilteredVehicles","details","setDetails","selectVehicle","setAnchorEl","setDropDisplay","setLaudoDoc","changeInputs","setToast","setToastMsg","setTableData","setDemandFiles","setFileToRemove","alertDialog","setAlertDialog","confirmDialogProps","setConfirmDialog","fullDemand","dFiles","vehiclesLaudo","vehicleLaudos","updatedVehicle","insertLaudos","useCallback","filtered","event","currentTarget","persist","laudoDocs","laudosArray","tempArray","pop","querySelector","requestElement","laudoAlreadyExists","clearForm","errorLabel","toggleToast","empresa_id","codigo_empresa","requestBody","closeConfirmDialog","allFields","ReactContext","createContext","BaixaOptions","motivosBaixa","selectMotivo","selectedMotivo","placeholder","selectOption","delegaTransf","justificativa","pendencias","FormControl","RadioGroup","Radio","CustomButton","BaixaGerenciar","searchDischarged","downloadXls","reactivateVehicle","placaBaixada","dischargedFound","notFound","reactivate","selectedOption","df","onSubmit","InputProps","baixaForm","motivo","BaixaVeiculo","openDialog","delegaTransfId","disableSubmit","dataRegistro","discharged","motivoRaw","toLocaleDateString","preventDefault","query","found","year","reqBody","patch","onDownloadProgress","progressEvent","Math","round","loaded","content","headers","BaixaTemplate","contextType","SimpleParams","plusOne","removeOne","m","CheckBoxFilter","toggleChecked","ParametrosTemplate","modified","commonProps","parametrosIdade","prazosAviso","adminEmails","params","forms","toastStatus","tempState","checkForChanges","newArray","stateChanged","fieldChanged","changedArray","modifiedArray","parametro","requestObj","prop","prazos","ConfigTemplate","staticData","editMotivosBaixa","selectCollection","handleChange","enableEdit","confirmDelete","edit","autoCorrect","spellCheck","addCounter","count","ac","marcaChassi","marcaCarroceria","editIndex","inputTarget","divCell","divWrap","childNodes","selectedObj","originalObject","noChanges","leftOpen","oldIndex","call","marcaCollection","marcaId","changedElement","newData","elementName","removeItem","originalData","prevProps","vehicleTable","render","rowData","timeUnit","segurosTable","filtering","addProcuracao","cpfProcurador","emailProcurador","telProcurador","exportToXlsx","rd","formattedData","formField","formatValue","formatData","addProcuracaoAndFormat","ws","XLSX","json_to_sheet","widths","numberOfColumns","w","average","ceil","fitToColumn","wch","wb","Sheets","SheetNames","excelBuffer","bookType","FileSaver","showFiles","showCertificate","confirmDeactivate","del","columns","exportFileName","exportButton","exportCsv","actionsColumnIndex","searchFieldStyle","headerStyle","emptyRowsWhenPaging","pageSize","rowStyle","localization","actions","emptyDataSourceMessage","editRow","deleteText","deleteTooltip","filterRow","filterTooltip","toolbar","searchTooltip","searchPlaceholder","exportCSVName","exportAriaLabel","exportTitle","pagination","labelRowsSelect","labelDisplayedRows","firstTooltip","previousTooltip","nextTooltip","lastTooltip","iconProps","tooltip","hidden","editable","isDeleteHidden","onRowDelete","oldData","toolbarTitle","flex","toolbarSecondary","overflowX","toolbarLink","flexShrink","sections","adminSections","StyledBadge","badge","Badge","StyledBadge2","avisos","withRouter","localStorage","getItem","setSelected","logCounter","setLogCounter","avisosCounter","setAvisosCounter","messagesRead","aviso","selected","bgColor","borderB","borderT","fontW","nomeSecretaria","siglaSecretaria","secretaria","logout","socketId","CssBaseline","Toolbar","Typography","align","noWrap","Link","RouterLink","borderBottom","borderTop","badgeContent","Footer","changeTab","Tabs","indicatorColor","textColor","centered","Tab","dadosVeiculo","caracteristicas","vistoria","pesagem","informacoesGerais","CertificateHeader","subsecretaria","superintendencia","paddingRight","CertificateTemplate","checkMulti","redirect","delega","carac","peso","ultimateForm","line","print","PdfCertificate","setVehicle","names","setNames","setData","formArray","pesoPassageiros","origin","formatFileSize","bytes","divRow","grid","justifyItems","ShowFiles","typeId","fileLabels","download","emp","getLabel","mo","MutationObserver","mutations","observer","mutation","addedNodes","addedNode","nodeType","Node","ELEMENT_NODE","classList","contains","getElementsByClassName","menuItem","remove","removePDF","observe","childList","getEmpresas","nomeEmpresas","codigos","ConsultasContainer","tablePKs","dbTables","detailsTitle","detailsHeader","elementDetails","primaryKeys","pk","updatedElement","closeFiles","socio","sociosArray","filesToReturn","procId","selectedElement","openConfirmDialog","confirmType","empresaToDeactivate","deleteHandler","itemId","cpfSocio","seguroVencido","setItem","closeCertificate","certified","TabMenu","ConsultasTemplate","cadEmpresaForm","iconButton","addSocio","handleEdit","removeSocio","standAlone","dadosSociosForm","EmpresaCadReview","tableLayout","valueParser","tecla","tam","vr","formatCnpj","formatCpf","formatPhone","number","formatShare","fileNames","addedSocios","totalShare","parsedValue","sObject","invalid","share","editSocio","fs","socioIds","socio_ids","submitFile","resetEmpresa","resetSocios","EmpresasTemplate","SociosTemplate","procuradorForm","StyledTableCell","head","TableCell","StyledCell","StyledTableRow","default","TableRow","Procurador","procuracao","procArray","pro","Table","TableHead","TableBody","justify","lineHeight","addButton","addProc","removeProc","minusOne","checkExpires","procsToAdd","expires","bottom","zIndex","z","filteredProc","procuracoesArray","cpfExists","nProc","addedProcs","n","addedProc","existingProc","approveProc","procIdArray","procurador_id","cadRequest","decamelize","updateUser","novaProcuracao","procuradoresRedux","selectedFile","outrasProcuracoes","dontRemove","Set","op","add","filteredProcs","cpfsToRemove","resetedFields","originalProcuradores","updatedProcs","updatedDocs","ProcuradoresTemplate","dialogTitle","originalSocios","barChart","offsetX","offsetY","floating","legend","show","chart","xaxis","dataLabels","enabled","plotOptions","bar","donutChart","pie","donut","formatter","val","total","showAlways","responsive","breakpoint","RelatoriosTemplate","selectedVehicles","tableLabels","mediaIdades","moda","segurosVencidos","segurosVigentes","veiculosNovos","categories","series","colors","tableValues","sum","shift","countExpired","selectedId","setRazaoSocial","allExpired","setExpired","allValid","setValid","idades","ano","counter","unsortedLabels","arr","ultimateObj","parcial","poltronasPerYear","poltronasAcc","poltronasMedia","acc","expired","needsLaudo","veiculosAntigos","staticFields","tableStyle","showInfo","setShowFiles","tableSpan","rowArray","laudoDocId","createButton","solicitacaoTable","SolHistory","solicitacao","historyLog","setHistoryLog","docSelection","sytle","whiteSpace","SolicitacoesTemplate","showCompleted","paddingBotom","solicitacoesTable","configTablePermissions","assessDemand","parsedData","setLogs","showHistory","setShowHistory","selectedLog","selectLog","alertProperties","setFilesId","originalLogs","__v","getLogs","SolicitacoesTable","altContratoForm","EmpresaReview","tablesSubtitles","alteredFields","objField","nomeSocio","subtitles","altContratoFiles","AltContratoTemplate","dadosEmpresaForm","AltSociosTemplate","altEmpresa","socioUpdates","updatedEmpresa","selectSocios","newSocios","us","newCpfs","checkSocios","existingSocios","socio_id","createRequestObj","checkSocioUpdates","createLog","oldSocios","cpfsToAdd","requestInfo","socioIdPromise","unchangedSociosIds","allSociosIds","cpf_socio","originalStatus","razaoSocialEdit","fileObj","globalHandleFiles","altContMeta","crcMeta","globalRemoveFile","resetForms","clearedState","additionalSocios","Map","socioToRemove","imgSize","webBrowsers","SuggestedBrowsers","webBrowser","rel","UserAuthTemplate","browserNotCompatible","getElementById","optionLabel","optionValue","loginForm","userAuthForms","endPoint","confirmEmailMsg","userId","host","baseURI","navigator","userAgent","login","userFound","signUp","mail","vocativo","retrievePassword","recoveryMail","signIn","userTable","lookup","admin","tecnico","addUser","deleteUser","roles","addTooltip","editTooltip","onRowAdd","resolve","reject","onRowUpdate","users","UsersTemplate","editAccountForm","EditAccountTemplate","passChanged","password","confirmPassword","_id","compartilhamentoForm","compartilhamentoFiles","CompartilhamentoTemplate","toggleAcceptTerms","motivoCompartilhamento","compartilhamentoRemoved","termsAccepted","reviewForm","termoCiencia__div","termoCiencia__text","compartilhadoAtual","deleteFiles","resetForm","dc","compartilhado_id","create","baseURL","CustomButton2","iconName","Aviso","intro","tip","tipPath","footer","tableString","tHeader","h","join","tableGenerator","dangerouslySetInnerHTML","__html","avisosTable","CustomAviso","tableContainer","avisosHeader","avisosHeaderAdmin","AvisosTemplate","openAviso","formatDataToExport","toggleReadMessage","toggleSelect","showUnreadOnly","toggleNewAviso","defaultFrom","userRole","showAviso","rowsSelected","allAreUnread","unreadOnly","adminView","avisosTableToRender","components","Row","propsCopy","markAsReadAction","read","zindex","onRowClick","icons","Delete","forwardRef","ref","selection","selectionProps","search","dataToExport","onSelectionChange","nRowsSelected","avisoInputs","CustomUndo","viewBox","points","CustomRedo","Size","Quill","import","whitelist","register","Font","modules","handlers","undo","quill","redo","delay","maxStack","userOnly","formats","QuillToolbar","NewAviso","EditorToolbar","avisoText","originalAvisos","remetentePadrao","deletedMessages","writeNewAviso","updatedReadStatus","updatedAvisos","Error","deleteAviso","idsToDelete","allDeletedMessages","idToDelete","Routes","exact","HomeTemplate","VeiculosHome","CadVeiculos","AltDados","Seguros","Compartilhamento","Laudos","Config","Consultas","EmpresasHome","AltContrato","Empresas","Socios","Procuradores","Relatorios","PdfTest","Solicitacoes","UserAuth","EditAccount","Avisos","loggedIn","Container","maxWidth","applyMiddleware","promise","multi","thunk","createStore","__REDUX_DEVTOOLS_EXTENSION__","App","ReactDOM","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.58130451.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"jumbotron\":\"veiculosHome_jumbotron__3NqZq\",\"card\":\"veiculosHome_card__dn84Q\",\"card__container\":\"veiculosHome_card__container__3mnvT\",\"card__image\":\"veiculosHome_card__image___Ethh\",\"card__text\":\"veiculosHome_card__text__2qLQG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"avisos_container__32-XQ\",\"tableContainer\":\"avisos_tableContainer__1vxH2\",\"MuiIconButton-colorSecondary\":\"avisos_MuiIconButton-colorSecondary__10neS\",\"avisosHeader\":\"avisos_avisosHeader__CGb6M\",\"avisosHeaderAdmin\":\"avisos_avisosHeaderAdmin__2DIUq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"termoCiencia__div\":\"compartilhamento_termoCiencia__div__17vbm\",\"termoCiencia__text\":\"compartilhamento_termoCiencia__text__1d2i0\"};","const dataReducer = (state = {}, action) => {\r\n    const { type, payload } = action\r\n\r\n    switch (type) {\r\n\r\n        case 'GET_DATA':\r\n            return { ...state, ...payload }\r\n\r\n        case 'INSERT_DATA': {\r\n            const { collection, data } = payload\r\n\r\n            if (state[collection] && data) {\r\n                let update = [...state[collection]]\r\n\r\n                data.forEach(el => {\r\n                    if (collection.match('logs'))\r\n                        update.push(el)\r\n                    else\r\n                        update.unshift(el)\r\n                })\r\n\r\n                return {\r\n                    ...state, [collection]: update\r\n                }\r\n            }\r\n            return state\r\n        }\r\n\r\n        case 'UPDATE_DATA': {\r\n            const { collection, data, id } = payload\r\n\r\n            if (state[collection] && data) {\r\n                const update = state[collection].map(v => {\r\n                    data.forEach(el => {\r\n                        if (v[id] === el[id] || v[id].toString() === el[id].toString()) {\r\n                            v = el\r\n                        }\r\n                    })\r\n                    return v\r\n                })\r\n\r\n                return {\r\n                    ...state, [collection]: update\r\n                }\r\n            }\r\n            return state\r\n        }\r\n\r\n        case 'UPDATE_COLLECTION': {\r\n            const { data, collection } = payload\r\n            // console.log(payload)\r\n            return {\r\n                ...state, [collection]: data\r\n            }\r\n        }\r\n\r\n        case 'REMOVE_FROM_INSURANCE':\r\n            const { apolice, placaIndex, vehicleIndex } = payload\r\n\r\n            if (state.seguros) {\r\n\r\n                let seguros = [...state.seguros],\r\n                    seguro = seguros.find(s => s.apolice === apolice),\r\n                    index = seguros.findIndex(s => s.apolice === apolice)\r\n\r\n                seguro.placas.splice(placaIndex, 1)\r\n                seguro.veiculos.splice(vehicleIndex, 1)\r\n                seguros[index] = seguro\r\n                // console.log(seguros)\r\n                return {\r\n                    ...state, seguros\r\n                }\r\n            }\r\n            return state\r\n\r\n        case 'DELETE_ONE':\r\n            const { tablePK, collection } = payload\r\n\r\n            if (state[collection]) {\r\n                let\r\n                    { id } = payload,\r\n                    updatedData = [...state[collection]]\r\n\r\n                if (!id)\r\n                    return\r\n\r\n                if (!collection.match('Docs') && collection !== 'users' && collection !== 'avisos')\r\n                    id = Number(id)\r\n                if (collection === 'laudos')\r\n                    id = id.toString()\r\n\r\n                console.log(\"🚀 ~ file: dataReducer.js ~ line 83 ~ dataReducer ~ updatedData\", { id, updatedData })\r\n                const\r\n                    element = updatedData.find(el => el[tablePK] === id),\r\n                    index = updatedData.findIndex(el => el[tablePK] === element[tablePK])\r\n\r\n                if (index === -1)\r\n                    return\r\n\r\n                updatedData.splice(index, 1)\r\n\r\n                return {\r\n                    ...state, [collection]: updatedData\r\n                }\r\n            }\r\n            return state\r\n\r\n        case 'SET_COLOR':\r\n            return { ...state, setColor: action.payload }\r\n\r\n        case 'LOADING':\r\n            return { ...state, loading: action.payload }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default dataReducer;","const userReducer = (state = {}, action) => {\r\n    const { type, payload } = action\r\n    switch (type) {\r\n        case ('LOG_USER'):\r\n            return {\r\n                ...state, ...payload\r\n            }\r\n        case ('LOG_USER_OUT'):\r\n            return {\r\n                ...state, user: payload\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default userReducer","import dataReducer from './Store/dataReducer'\r\nimport { combineReducers } from 'redux';\r\nimport userReducer from './Store/userReducer';\r\n\r\nconst appReducer = combineReducers({\r\n    data: dataReducer,\r\n    user: userReducer\r\n})\r\n\r\nconst rootReducer = (state, action) => {\r\n    if (action.type === 'LOG_USER_OUT')\r\n        state = { data: {}, user: {} }\r\n\r\n    return appReducer(state, action)\r\n}\r\n\r\nexport default rootReducer","export const idsToString = (veiculos, equipamentos, acessibilidade) => {\r\n\r\n    let equipNames = [], accessNames = []\r\n\r\n    const equips = veiculos.map(v => {\r\n        if (!v?.equipamentosId) v.equipamentosId = []\r\n        if (!v?.acessibilidadeId) v.acessibilidadeId = []\r\n\r\n        v.equipamentosId.forEach(eqId => {\r\n            equipamentos.forEach(({ id, item }) => {\r\n                if (id === eqId) equipNames.push(item)\r\n            })\r\n        })\r\n\r\n        v.acessibilidadeId.forEach(eqId => {\r\n            acessibilidade.forEach(({ id, item }) => {\r\n                if (id === eqId) accessNames.push(item)\r\n            })\r\n        })\r\n        const result = { ...v, equipamentos: equipNames, acessibilidade: accessNames }\r\n        equipNames = []\r\n        accessNames = []\r\n        return result\r\n    })\r\n    return equips\r\n}\r\n\r\nexport const setNamesFromIds = (collection, ids) => {\r\n\r\n    let namesArray = []\r\n    ids.forEach(elementId => {\r\n        collection.forEach(({ id, item }) => {\r\n            if (elementId === id) namesArray.push(item)\r\n        })\r\n    })\r\n    return namesArray\r\n}","import axios from 'axios'\r\nimport humps from 'humps'\r\nimport { batch } from 'react-redux'\r\nimport { idsToString } from '../Utils/idsToString'\r\n\r\nexport const getData = (collectionsArray = []) => {\r\n    return async (dispatch, getState) => {\r\n\r\n        let\r\n            promiseArray = [],\r\n            globalState = {}\r\n\r\n        if (collectionsArray.length > 0) {\r\n            collectionsArray.forEach(collectionName => {\r\n                promiseArray.push(axios.get(`/api/${collectionName}`))\r\n            })\r\n\r\n            await Promise.all(promiseArray)\r\n                .then(res => res.map(r => humps.camelizeKeys(r.data)))\r\n                .then(responseArray => {\r\n                    responseArray.forEach((el, i) => {\r\n                        let key = collectionsArray[i]\r\n                            .replace('getFiles/', '')\r\n                            .replace('lookUpTable/', '')\r\n                            .replace('logs/', '')\r\n                        key = humps.camelize(key)\r\n\r\n                        Object.assign(globalState, { [key]: el })\r\n                    })\r\n                })\r\n                .catch(err => {\r\n                    console.log(err?.response?.data)\r\n                    globalState = { ...globalState, sessionExpired: true }\r\n                })\r\n        }\r\n        //Pega os nomes dos equipamentos e itens de acessibilidade a partir do ID\r\n        if (['acessibilidade', 'equipamentos'].every(p => globalState.hasOwnProperty(p))) {\r\n            const { acessibilidade, equipamentos } = globalState\r\n\r\n            let veiculos = globalState.veiculos || getState().data?.veiculos\r\n            const updatedData = idsToString(veiculos, equipamentos, acessibilidade)\r\n            globalState.veiculos = updatedData\r\n        }\r\n\r\n        //Add Laudos e empresasLaudo na tabela de veículos (para desonerar o servidor backEnd)\r\n        //Se houver mais de um laudo para o mesmo veículo, pega o com maior data de validade, pois o order da query laudos é por validade DESC\r\n        if (globalState.veiculos && globalState.veiculos.length && collectionsArray.includes('laudos')) {\r\n\r\n            const laudos = globalState.laudos || []\r\n\r\n            for (let v of globalState.veiculos) {\r\n                for (let l of laudos) {\r\n                    if (v.veiculoId === l.veiculoId) {\r\n                        v.numeroLaudo = l.id\r\n                        v.empresaLaudo = l.empresaLaudo\r\n                        v.vencimentoLaudo = l.validade\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        //JSON Parsing do array de empresas dos sócios, que são strings no postgresql\r\n        if (globalState.socios && Array.isArray(globalState.socios)) {\r\n            const socs = [...globalState.socios]\r\n            socs.forEach(s => {\r\n                if (s.empresas && typeof s.empresas === 'string')\r\n                    if (s.empresas.match('object'))\r\n                        console.log(s)\r\n                    else\r\n                        try {\r\n                            s.empresas = JSON.parse(s.empresas)\r\n                        }\r\n                        catch (e) {\r\n                            console.log('invalid socio id' + s.socioId + e.message)\r\n                        }\r\n            })\r\n            globalState.socios = socs\r\n        }\r\n\r\n        dispatch({\r\n            type: 'GET_DATA',\r\n            payload: globalState\r\n        })\r\n    }\r\n}\r\n\r\nexport const insertData = (dataFromServer, collection) => (dispatch, getState) => {\r\n\r\n    let data = humps.camelizeKeys(dataFromServer)\r\n    console.log(\"🚀 ~ file: dataActions.js ~ line 73 ~ insertData ~ data\", data)\r\n\r\n    const\r\n        payload = { collection, data },\r\n        seguradoras = getState().data.seguradoras\r\n\r\n    if (collection === 'socios') {\r\n        data.forEach(s => {\r\n            if (s.empresas && typeof s.empresas === 'string')\r\n                if (s.empresas.match('object'))\r\n                    console.log(s)\r\n                else\r\n                    try {\r\n                        s.empresas = JSON.parse(s.empresas)\r\n                    }\r\n                    catch (e) {\r\n                        console.log('invalid socio id' + s.socioId + e.message)\r\n                    }\r\n        })\r\n    }\r\n\r\n    if (!seguradoras) {\r\n        dispatch({ type: 'INSERT_DATA', payload })\r\n        return\r\n    }\r\n\r\n    if (collection === 'veiculos' && data[0]) {\r\n\r\n        const { acessibilidade, equipamentos } = getState().data\r\n        let\r\n            eqNames = [],\r\n            acNames = []\r\n\r\n        if (data[0]?.equipamentosId) {\r\n            data[0].equipamentosId.forEach(eqId => {\r\n                equipamentos.forEach(({ id, item }) => {\r\n                    if (eqId.toString() === id.toString()) eqNames.push(item)\r\n                })\r\n            })\r\n        }\r\n        if (data[0]?.acessibilidadeId) {\r\n            data[0].acessibilidadeId.forEach(acId => {\r\n                acessibilidade.forEach(({ id, item }) => {\r\n                    if (acId.toString() === id.toString()) {\r\n                        acNames.push(item)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n        data[0].equipamentos = eqNames\r\n        data[0].acessibilidade = acNames\r\n    }\r\n\r\n    if (collection === 'seguros' && data[0] && data[0].placas && data[0].placas.length === 1) {\r\n\r\n        const seguradora = seguradoras.find(sg => sg.id === data[0].seguradoraId)\r\n        let\r\n            seguro = data[0],\r\n            plates = [], vehicles = [],\r\n            veiculos = getState().data.veiculos,\r\n\r\n            updatedCollection = veiculos.map(v => {\r\n                if (v.apolice === seguro.apolice) {\r\n                    v.seguradora = seguradora.seguradora\r\n                    v.dataEmissao = seguro.dataEmissao\r\n                    v.vencimento = seguro.vencimento\r\n                }\r\n                return v\r\n            })\r\n\r\n        veiculos.forEach(v => {\r\n            if (v.apolice === seguro.apolice) {\r\n                plates.push(v.placa)\r\n                vehicles.push(v.veiculoId)\r\n            }\r\n        })\r\n        seguro.placas = plates\r\n        seguro.veiculos = vehicles\r\n        seguro = [seguro]\r\n\r\n        const collectionPayload = { data: updatedCollection, collection: 'veiculos' }\r\n        batch(() => {\r\n            dispatch({ type: 'INSERT_DATA', payload: { data: seguro, collection: 'seguros' } })\r\n            dispatch({ type: 'UPDATE_COLLECTION', payload: collectionPayload })\r\n        })\r\n    }\r\n\r\n    else dispatch({ type: 'INSERT_DATA', payload })\r\n\r\n}\r\n\r\nexport const updateData = (dataFromServer, collection, id) => (dispatch, getState) => {\r\n\r\n    //Se a collection for vehicleDocs, o que vem do servidor são os ids\r\n    let data = humps.camelizeKeys(dataFromServer)\r\n    id = humps.camelize(id)\r\n\r\n    const { equipamentos, acessibilidade } = getState().data\r\n    if (collection === 'veiculos' && equipamentos && acessibilidade)\r\n        data = idsToString(data, equipamentos, acessibilidade)\r\n    if (collection === 'seguradora')\r\n        collection = 'seguradoras'\r\n\r\n    const payload = { collection, data, id }\r\n\r\n    dispatch({ type: 'UPDATE_DATA', payload })\r\n    return\r\n}\r\n\r\nexport const updateDocs = (ids, metadata, collection, primaryKey) => (dispatch, getState) => {\r\n\r\n    const stateCollection = getState().data[collection]\r\n\r\n    if (ids && ids[0] && metadata) {\r\n        let selectedDocs = stateCollection.filter(doc => ids.some(id => id === doc[primaryKey]))\r\n\r\n        selectedDocs.forEach(doc => {\r\n            const meta = Object.assign({}, doc.metadata, metadata)\r\n            doc.metadata = meta\r\n        })\r\n\r\n        const payload = { collection, data: selectedDocs, id: primaryKey }\r\n        dispatch({ type: 'UPDATE_DATA', payload })\r\n    }\r\n\r\n}\r\n\r\nexport const updateCollection = (data, collection) => dispatch => {\r\n\r\n    data = humps.camelizeKeys(data)\r\n    const payload = { data, collection }\r\n\r\n    //Parse do coluna empresas na tabela sócios de string p JSON\r\n    if (collection === 'socios') {\r\n        data.forEach(s => {\r\n            if (s.empresas && typeof s.empresas === 'string')\r\n                if (s.empresas.match('object'))\r\n                    console.log(s)\r\n                else\r\n                    try {\r\n                        s.empresas = JSON.parse(s.empresas)\r\n                    }\r\n                    catch (e) {\r\n                        console.log('invalid socio id' + s.socioId + e.message)\r\n                    }\r\n        })\r\n    }\r\n\r\n    dispatch({\r\n        type: 'UPDATE_COLLECTION',\r\n        payload\r\n    })\r\n}\r\n\r\nexport const updateInsurance = ({ value, ids }) => (dispatch, getState) => {\r\n    const\r\n        apolice = value,\r\n        seguros = getState().data.seguros,\r\n        veiculos = getState().data.veiculos\r\n\r\n    if (!seguros || !veiculos) return\r\n\r\n    let seguro = seguros.find(s => s.apolice === apolice),\r\n        placas = seguro.placas || [], vehicleIDs = seguro.veiculos || []\r\n\r\n    veiculos.forEach(v => {\r\n        ids.forEach(id => {\r\n            if (v.veiculoId === id) {\r\n                placas.push(v.placa)\r\n                vehicleIDs.push(v.veiculoId)\r\n            }\r\n        })\r\n    })\r\n\r\n    seguro.placas = placas\r\n    seguro.veiculos = vehicleIDs\r\n    seguro = [seguro]\r\n\r\n    const payload = { collection: 'seguros', data: seguro, id: 'apolice' }\r\n\r\n    dispatch({ type: 'UPDATE_DATA', payload })\r\n}\r\n\r\nexport const removeInsurance = (apolice, placaIndex, vehicleIndex) => dispatch => {\r\n\r\n    dispatch({\r\n        type: 'REMOVE_FROM_INSURANCE',\r\n        payload: { apolice, placaIndex, vehicleIndex }\r\n    })\r\n}\r\n\r\nexport const deleteOne = (id, tablePK, collection) => dispatch => {\r\n    tablePK = humps.camelize(tablePK)\r\n    const payload = { id, tablePK, collection }\r\n\r\n    dispatch({\r\n        type: 'DELETE_ONE',\r\n        payload\r\n    })\r\n}","import React from 'react'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className='loading'>\r\n            <img src=\"/images/loading.gif\" alt=\"\" height=\"60px\" width=\"60px\" />\r\n            <p> Carregando... </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading","export const configVehicleForm = [\r\n\r\n    {\r\n        collection: 'equipamentos',\r\n        field: 'item',\r\n        label: 'Equipamentos',\r\n        name: 'equipamentosId',\r\n        table: 'equipamentos'\r\n    },\r\n    {\r\n        collection: 'acessibilidade',\r\n        field: 'item',\r\n        label: 'Itens de acessibilidade',\r\n        name: 'acessibilidadeId',\r\n        table: 'acessibilidade'\r\n    },\r\n    {\r\n        collection: 'marcaCarroceria',\r\n        field: 'marca',\r\n        label: 'Marcas de Carroceria',\r\n        name: 'marcaCarroceria',\r\n        table: 'marca_carroceria'\r\n    },\r\n    {\r\n        collection: 'carrocerias',\r\n        field: 'modelo',\r\n        label: 'Modelos de Carroceria',\r\n        name: 'modeloCarroceria',\r\n        table: 'modelo_carroceria'\r\n    },\r\n    {\r\n        collection: 'marcaChassi',\r\n        field: 'marca',\r\n        label: 'Marcas de Chassi',\r\n        name: 'marcaChassi',\r\n        table: 'marca_chassi'\r\n    },\r\n    {\r\n        collection: 'modelosChassi',\r\n        field: 'modeloChassi',\r\n        label: 'Modelos de Chassi',\r\n        name: 'modeloChassi',\r\n        table: 'modelo_chassi'\r\n    },\r\n    {\r\n        collection: 'seguradoras',\r\n        field: 'seguradora',\r\n        label: 'Seguradoras',\r\n        name: 'seguradora',\r\n        table: 'seguradora'\r\n    },\r\n    {\r\n        collection: 'empresasLaudo',\r\n        field: 'empresa',\r\n        label: 'Empresas certificadas INMETRO',\r\n        name: 'empresa',\r\n        table: 'empresa_laudo'\r\n    },\r\n    {\r\n        //field: 'empresa',\r\n        label: 'Motivos para baixa do veículo',\r\n\r\n    },\r\n    {\r\n        collection: 'laudos',\r\n        table: 'laudos'\r\n    },\r\n]","import React from 'react';\r\nimport clsx from 'clsx';\r\n//import { ErrorIcon, InfoIcon, Close, WarningIcon } from '@material-ui/icons/';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport { Snackbar, SnackbarContent, Icon } from '@material-ui/core';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles1 = makeStyles(theme => ({\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n}));\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles1();\r\n    const { className, message, onClose, variant, ...other } = props;\r\n\r\n    return (\r\n        <SnackbarContent\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                message && typeof message === 'string' &&\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n                    <Icon>{props.variant === 'error' ?\r\n                        'close' :\r\n                        props.variant === 'warning' ?\r\n                            'error_outlined' :\r\n                            'check'}</Icon>    {message}\r\n                </span>\r\n            }\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nexport default function CustomizedSnackbars(props) {\r\n\r\n    return (\r\n        <div>\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                open={props.open}\r\n                autoHideDuration={1500}\r\n                onClose={props.close}\r\n            >\r\n                <MySnackbarContentWrapper\r\n                    variant={props.status || \"success\"}\r\n                    message={props.msg}\r\n                />\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n}","export function setCookie(cname, cvalue) {\r\n    let d = new Date(), time = 60 * 60 * 1000\r\n    d.setTime(d.getTime() + time)\r\n    d = d.toUTCString()\r\n\r\n    document.cookie = `${cname}=${cvalue}; expires=${d}; path=/`;\r\n}\r\n\r\nexport function deleteCookie(name) {\r\n    let d = new Date()\r\n    d.setTime(10)\r\n    document.cookie = `${name}=; expires=${d.toUTCString()}; path=/`\r\n}\r\n\r\nexport function getCookie(cname) {\r\n    var name = cname + \"=\";\r\n    var ca = document.cookie.split(';');\r\n    for (var i = 0; i < ca.length; i++) {\r\n        var c = ca[i];\r\n        while (c.charAt(0) === ' ') {\r\n            c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) === 0) {\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\n","import { deleteCookie } from \"../Utils/documentCookies\"\r\n\r\n\r\nexport const logUser = user => {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: 'LOG_USER',\r\n            payload: user\r\n        })\r\n    }\r\n}\r\n\r\nexport const editUser = user => dispatch => {\r\n    dispatch({\r\n        type: 'LOG_USER',\r\n        payload: user\r\n    })\r\n}\r\n\r\nexport const logUserOut = () => {\r\n    return async dispatch => {\r\n        await fetch('/auth/logout', { method: 'GET', credentials: 'same-origin' })\r\n            .then(r => {\r\n                deleteCookie('loggedIn')\r\n                return\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n        dispatch({\r\n            type: 'LOG_USER_OUT'\r\n        })\r\n    }\r\n}\r\n","import React from 'react'\r\nimport humps from 'humps'\r\nimport Axios from 'axios'\r\n\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { getData, insertData, updateData, updateCollection, deleteOne, updateDocs } from './dataActions'\r\n\r\nimport Loading from '../Layouts/Loading'\r\nimport { configVehicleForm } from '../Forms/configVehicleForm'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport { getCookie } from '../Utils/documentCookies'\r\nimport { logUser, editUser, logUserOut } from './userActions'\r\nimport { getEnvironment } from '../getEnvironment'\r\nimport checkBlankInputs from '../Utils/checkBlankInputs'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\n\r\nconst socketIO = require('socket.io-client')\r\nconst { webSocketHost, options } = getEnvironment()\r\n\r\nlet socket\r\n\r\nexport default function (requestArray, WrappedComponent) {\r\n\r\n    let collections = []\r\n\r\n    //Qualquer que seja o componente, essas duas coleções do Mongo devem estar presentes\r\n    const requiredCollections = ['logs', 'parametros', 'avisos']\r\n    requiredCollections.forEach(c => {\r\n        if (!requestArray.includes(c))\r\n            requestArray.push(c)\r\n    })\r\n    collections = requestArray.map(req => req.replace('getFiles/', '').replace('lookUpTable/', ''))\r\n\r\n    class With extends React.Component {\r\n\r\n        state = { confirmToast: false }\r\n\r\n        quitFn = e => {\r\n            if (e.ctrlKey && e.keyCode === 17)\r\n                this.props.logUserOut()\r\n        }\r\n\r\n        async componentDidMount() {\r\n            document.addEventListener('keypress', e => this.quitFn(e))\r\n            const { redux } = this.props\r\n            let request = []\r\n\r\n            requestArray.forEach(req => {\r\n                const colName = req.replace('getFiles/', '').replace('lookUpTable/', '').replace('logs/', '')\r\n                if (!redux[colName] || !redux[colName][0]) {\r\n                    request.push(req)\r\n                }\r\n            })\r\n\r\n            if (request[0])\r\n                await this.props.getData(request)\r\n\r\n            //**************************Socket management*****************************\r\n\r\n            if (!socket)\r\n                socket = socketIO({ url: webSocketHost, options })\r\n\r\n            //Conecta o usuário em um socket, passando suas informações   \r\n            socket.on('connect', () => socket.emit('userDetails', this.props?.user))\r\n\r\n            //********************Listen to socket events and call dataActions*********************** */\r\n            socket.on('insertVehicle', insertedObjects => this.props.insertData(insertedObjects, 'veiculos'))\r\n            socket.on('insertInsurance', insertedObjects => this.props.insertData(insertedObjects, 'seguros'))\r\n            //socket.on('insertEmpresa', insertedObjects => this.props.insertData(insertedObjects, 'empresas'))\r\n            //socket.on('insertSocios', insertedObjects => this.props.insertData(insertedObjects, 'socios'))\r\n            socket.on('insertProcuradores', insertedObjects => this.props.insertData(insertedObjects, 'procuradores'))\r\n            socket.on('insertElements', ({ insertedObjects, collection }) => this.props.insertData(insertedObjects, collection))\r\n\r\n            socket.on('addElements', ({ insertedObjects, table }) => {\r\n                const { collection } = configVehicleForm.find(el => el.table === table)\r\n                this.props.insertData(insertedObjects, collection)\r\n            })\r\n\r\n            socket.on('updateVehicle', updatedObjects => this.props.updateData(updatedObjects, 'veiculos', 'veiculoId'))\r\n            socket.on('updateInsurance', updatedObjects => this.props.updateCollection(updatedObjects, 'seguros'))\r\n            socket.on('updateSocios', updatedObjects => this.props.updateCollection(updatedObjects, 'socios'))\r\n            socket.on('updateProcuradores', ({ collection, data, primaryKey }) => this.props.updateData(data, collection, primaryKey))\r\n            socket.on('updateLogs', updatedObjects => this.props.updateData(updatedObjects, 'logs', 'id'))\r\n            socket.on('updateAny', ({ data, collection, primaryKey }) => this.props.updateData(data, collection, primaryKey))\r\n            socket.on('updateDocs', ({ ids, metadata, collection, primaryKey }) => this.props.updateDocs(ids, metadata, collection, primaryKey))\r\n            socket.on('updateElements', ({ collection, updatedCollection }) => this.props.updateCollection(updatedCollection, collection))\r\n            socket.on('updateUser', updatedUser => this.props.editUser(updatedUser))\r\n\r\n            socket.on('deleteOne', ({ id, tablePK, collection }) => {\r\n                //console.log({ id, tablePK, collection })\r\n                this.props.deleteOne(id, tablePK, collection)\r\n            })\r\n\r\n            socket.on('insertFiles', object => {\r\n                const { insertedObjects, collection } = object\r\n                this.props.insertData(insertedObjects, collection)\r\n            })\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            document.removeEventListener('keypress', this.quitFn)\r\n            /* if (!socket)\r\n                socket = socketIO({ url: webSocketHost, options }) */\r\n\r\n            if (socket?.connected) {\r\n                socket.off()\r\n                socket.disconnect()\r\n                socket = undefined\r\n            }\r\n        }\r\n\r\n        getUser = async () => {\r\n            const\r\n                request = await Axios.get('/getUser'),\r\n                user = request?.data\r\n\r\n            if (user) {\r\n                this.props.logUser(user)\r\n            }\r\n        }\r\n\r\n        toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n        render() {\r\n            //Todo novo render verifica o localCookie. Se tiver expirado, faz o logout do usuário.\r\n            const validSession = getCookie('loggedIn').length > 0;\r\n\r\n            if (!validSession || this.props.redux.sessionExpired) {\r\n                setTimeout(() => {\r\n                    this.props.history instanceof Array && this.props.history.push('/')\r\n                    this.props.logUserOut()\r\n                }, 1200)\r\n                return <ReactToast open={true} close={this.toast} msg='Sessão expirada.' status='error' />\r\n            }\r\n            else if (!this.props.user.name) {\r\n                this.getUser()\r\n            }\r\n\r\n            //Enquanto não tiver carregado todas as collections de um determinado componente, renderiza Loading...\r\n            collections = collections.map(c => humps.camelize(c))\r\n            if (collections.length === 0 || !collections.every(col => this.props.redux.hasOwnProperty(col))) {\r\n                return <Loading />\r\n            }\r\n            //Carregadas as collections com a devida autenticação, renderiza o componente e passa as funções de validação de campos de formulários\r\n            else\r\n                return <WrappedComponent {...this.props}\r\n                    checkBlankInputs={checkBlankInputs}\r\n                    checkInputErrors={checkInputErrors}\r\n                />\r\n        }\r\n    }\r\n\r\n    function mapStateToProps(state) {\r\n        return {\r\n            redux: {\r\n                ...state.data,\r\n            },\r\n            user: state.user\r\n        }\r\n    }\r\n\r\n    function mapDispatchToProps(dispatch) {\r\n        return bindActionCreators({ getData, insertData, updateData, updateCollection, deleteOne, updateDocs, logUser, editUser, logUserOut }, dispatch)\r\n    }\r\n\r\n    return connect(mapStateToProps, mapDispatchToProps)(With)\r\n}","\r\n//Checa se cada campo do formulário está preenchido.\r\nconst checkBlankInputs = (form, state) => {\r\n\r\n    if (!form || !state)\r\n        return\r\n\r\n    const\r\n        customTitle = 'Preenchimento obrigatório.'\r\n        , blankInputs = []\r\n    let customMsg = 'Os seguintes campos são de preenchimento obrigatório: '\r\n\r\n    form.forEach(element => {\r\n        const value = state[element.field]\r\n        if (element?.disabled || element.notRequired)\r\n            return\r\n        else if (!value || value === '') {\r\n            customMsg += `${element.label}, `\r\n            blankInputs.push(element.field)\r\n        }\r\n    })\r\n    customMsg = customMsg.substr(0, customMsg.length - 2)\r\n    if (blankInputs.length)\r\n        return { openAlertDialog: true, alertType: 'inputError', customMsg, customMessage: customMsg, customTitle }\r\n\r\n    return null\r\n}\r\n\r\nexport default checkBlankInputs\r\n","import moment from 'moment'\r\n\r\nexport const checkInputErrors = (sendState, dontSetDate) => {\r\n\r\n    const\r\n        p = document.querySelectorAll('p'),\r\n        inputs = document.querySelectorAll('input')\r\n\r\n    let\r\n        label = [],\r\n        errors = [],\r\n        errString = 'Favor verificar o preenchimento dos seguintes campos: '\r\n\r\n    if (p) {\r\n        p.forEach(el => {\r\n            if (el.textContent === 'Valor inválido' || el.textContent === '✘') {\r\n                const parent = el.parentNode\r\n                const l = parent.querySelectorAll('label')\r\n                label.push(l[0])\r\n            }\r\n        })\r\n    }\r\n    if (inputs && !dontSetDate) {\r\n        inputs.forEach(el => {\r\n            if (el.type === 'date' && el.name !== 'dataJunta') {\r\n                if (!moment(el.value, 'YYYY-MM-DD', true).isValid()) {\r\n                    const parent = el.parentNode\r\n                    const l = parent.previousSibling\r\n                    label.push(l)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    if (label[0]) {\r\n        label.forEach(l => errors.push(l.textContent))\r\n        errors.forEach(e => errString += e + ', ')\r\n        errString = errString\r\n            .replace('(kg)', '')\r\n            .replace('(cm)', '')\r\n            .slice(0, -2) + '.'\r\n\r\n        if (sendState)\r\n            return {\r\n                openAlertDialog: true, alertType: 'inputError',\r\n                customTitle: 'Preenchimento Inválido,',\r\n                customMsg: errString, customMessage: errString, errors\r\n            }\r\n        return errors\r\n    } else return null\r\n}\r\n\r\nexport const errorHandler = (value, el) => {\r\n    if (!value) return\r\n\r\n    if (el.errorHandler && el.errorHandler(value)) return false\r\n    else if (value && el.errorHandler && !el.errorHandler(value)) return true\r\n\r\n    if (value?.length < el?.minLength) return true\r\n\r\n    if (el.type === 'number') {\r\n        if (value > el.max || value < el.min) return true\r\n        else return false\r\n    }\r\n\r\n    if (typeof value !== 'string') value = value.toString()\r\n    if (el.pattern) return value.match(el.pattern) === null\r\n    else return false\r\n}\r\n\r\nexport const helper = (value, el) => {\r\n    if (!value) return\r\n\r\n    if (el.errorHandler && el.errorHandler(value)) return '✓'\r\n    else if (value && el.errorHandler && !el.errorHandler(value)) return '✘'\r\n\r\n    if (value?.length < el?.minLength) return '✘'\r\n    if (value?.length >= el?.minLength) return '✓'\r\n\r\n    if (typeof value !== 'string') value = value.toString()\r\n    if (value > el.max || value < el.min) return 'Valor inválido'\r\n    else if (value.match(el.pattern) === null) return '✘'\r\n    else if (el.pattern && value.match(el.pattern) !== null) return '✓'\r\n    else return ' '\r\n}\r\n","//@ts-check\r\nexport const getEnvironment = () => {\r\n\r\n    if (window.location.hostname === 'localhost') {\r\n        return {\r\n            env: 'development',\r\n            webSocketHost: 'ws://localhost:3001/'\r\n        }\r\n    }\r\n    else {\r\n        return {\r\n            env: 'production',\r\n            webSocketHost: 'wss://www.cadti.mg.gov.br:80/',\r\n            options: { secure: true }\r\n        }\r\n    }\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport StoreHOC from './Store/StoreHOC'\r\nimport './home.css'\r\n\r\nconst featuredPosts = [\r\n    {\r\n        title: 'Veículos',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastre e altere os dados do veículo ou solicite sua baixa',\r\n        link: '/veiculos',\r\n        imageUrl: '/images/vehicles.jpg'\r\n    },\r\n    {\r\n        title: 'Empresas',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastre e gerencie dados de empresas, sócios e procuradores',\r\n        link: '/empresas',\r\n        imageUrl: '/images/empresas12.jpg'\r\n    },\r\n    {\r\n        title: 'Consultas',\r\n        date: '03/Dez',\r\n        description:\r\n            'Consulte e gerencie dados de veículos, seguros e empresas',\r\n        link: '/consultas',\r\n        imageUrl: '/images/consultas2.jpg'\r\n    },\r\n    {\r\n        title: 'Relatórios',\r\n        date: '03/Dez',\r\n        description:\r\n            'Acompanhe a situação dos veículos por meio de gráficos e tabelas',\r\n        link: '/relatorios',\r\n        imageUrl: '/images/relatorios.jpg'\r\n    },\r\n]\r\n\r\nconst namesToRender = {\r\n    nomeSistema: 'Sistema de Cadastro do Transporte Intermunicipal de Minas Gerais',\r\n    siglaSistema: 'CadTI - MG',\r\n}\r\n\r\nfunction Home(props) {\r\n    const\r\n        { parametros } = props.redux,\r\n        { nomes } = parametros[0]\r\n\r\n    if (nomes) {\r\n        namesToRender.nomeSistema = nomes?.sistema\r\n        namesToRender.siglaSistema = nomes?.siglaSistema\r\n    }\r\n    const { nomeSistema, siglaSistema } = namesToRender\r\n    return (\r\n        <React.Fragment>\r\n            <div\r\n                style={{\r\n                    minHeight: '83vh',\r\n                    width: '100%',\r\n                    height: 'auto',\r\n                }}>\r\n                <main className=\"homeMainPost\">\r\n                    <h1>\r\n                        {siglaSistema}\r\n                    </h1>\r\n                    <h2>\r\n                        {nomeSistema}\r\n                    </h2>\r\n                </main>\r\n                <section className='homeCardsContainer'>\r\n                    {featuredPosts.map(({ link, title, description, imageUrl }, i) => (\r\n                        <div key={i} className='homeCard'>\r\n\r\n                            <Link to={link} style={{ textDecoration: 'none' }}>\r\n                                <div className='homeCard'>\r\n                                    <div className=\"homeCardText\">\r\n                                        <h6 className=\"homeCardText\" style={{ fontWeight: 500 }}>\r\n                                            {title}\r\n                                        </h6>\r\n                                        <p className=\"homeCardText\">\r\n                                            {description}\r\n                                        </p>\r\n\r\n                                    </div>\r\n                                    <div className='homeImage'>\r\n                                        <img src={imageUrl} alt={title} className='homeImage' />\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n\r\n                        </div>\r\n                    ))}\r\n                </section>\r\n            </div >\r\n        </React.Fragment >\r\n    )\r\n}\r\n\r\nexport default StoreHOC(['logs', 'parametros', 'avisos'], Home)","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport styles from './veiculosHome.module.scss'\r\n\r\nconst menuCards = [\r\n    {\r\n        title: 'Cadastro de Veículos',\r\n        description: 'Cadastrar um novo veículo no sistema',\r\n        imageUrl: '/images/add_new.jpg',\r\n        link: '/cadastro'\r\n    },\r\n    {\r\n        title: 'Alteração de dados',\r\n        description: 'Alterar dados de um veículo',\r\n        link: '/altDados',\r\n        imageUrl: '/images/pen.png'\r\n    },\r\n    {\r\n        title: 'Seguros',\r\n        description: 'Cadastro e atualização de seguro',\r\n        link: '/seguros',\r\n        imageUrl: \"/images/car_insurance2.png\"\r\n    },\r\n    {\r\n        title: 'Compartilhamento',\r\n        description: 'Gerenciar compartilhamento do veículo',\r\n        link: '/compartilhamento',\r\n        imageUrl: '/images/shareVehicle2.png'\r\n    },\r\n    {\r\n        title: 'Laudos',\r\n        description: 'Laudos de segurança veicular',\r\n        link: '/laudos',\r\n        imageUrl: \"/images/laudos.png\"\r\n    },\r\n    {\r\n        title: 'Baixa',\r\n        description: 'Baixa de veículos',\r\n        link: '/baixaVeiculo',\r\n        imageUrl: \"/images/remove_doc.png\"\r\n    },\r\n    {\r\n        title: 'Configurações',\r\n        description: 'Chassi, carrocerias, seguradoras, etc',\r\n        link: '/config',\r\n        imageUrl: \"/images/config2.jpg\"\r\n    }\r\n]\r\n\r\nconst { jumbotron, card, card__image, card__container, card__text } = styles\r\n\r\nfunction VeiculosHome(props) {\r\n\r\n    const { match, user } = props\r\n\r\n    return (\r\n        <div>\r\n            <section className={jumbotron}>\r\n                <h1>\r\n                    Veículos\r\n                </h1>\r\n                <p>\r\n                    Selecione uma das opções abaixo.\r\n                </p>\r\n            </section>\r\n            <section className={card}>\r\n                {\r\n                    menuCards.map(({ title, link, imageUrl, description }, i) =>\r\n                        user?.role !== 'admin' && link === '/config' ?      //Não renderiza a opção Configurações para usuários sem permissão\r\n                            null :\r\n                            <Link to={match.url + link} key={i} className={card__container}>\r\n                                <span className={card__image}> <img src={imageUrl} alt={title} /> </span>\r\n                                <div className={card__text}>\r\n                                    <h3 >{title}</h3>\r\n                                    <p > {description}</p>\r\n                                </div>\r\n                            </Link>\r\n                    )}\r\n            </section>\r\n        </div >\r\n    )\r\n}\r\n\r\nconst collections = []\r\nexport default StoreHOC(collections, VeiculosHome)","import { setNamesFromIds } from './idsToString'\r\n\r\nexport const setDemand = (demand, redux) => {\r\n    const\r\n        { veiculos, empresas, vehicleDocs, equipamentos, acessibilidade } = redux,\r\n        history = demand?.history,\r\n\r\n        vehicle = veiculos.find(v => v.veiculoId === demand.veiculoId),\r\n        originalVehicle = JSON.parse(JSON.stringify(vehicle)),\r\n\r\n        selectedEmpresa = empresas.find(e => e.razaoSocial === demand?.empresa),\r\n        razaoSocial = selectedEmpresa?.razaoSocial,\r\n        delegatario = razaoSocial\r\n\r\n    let\r\n        selectedVehicle = { ...vehicle } || null,\r\n        alteracoes\r\n\r\n    //******************Get the last log updates\r\n    if (Array.isArray(history))\r\n        alteracoes = history.reverse().find(el => el.hasOwnProperty('alteracoes'))?.alteracoes\r\n\r\n    //******************Set Alterações into State and set equipamentosId/acessibilidade array of names for each vehicle\r\n    if (alteracoes) {\r\n        Object.keys(alteracoes).forEach(key => selectedVehicle[key] = alteracoes[key])\r\n\r\n        //Pega os nomes dos equipamentos e acessórios para renderizar\r\n        const { equipamentosId, acessibilidadeId } = alteracoes\r\n        if (equipamentosId) selectedVehicle.equipamentos = setNamesFromIds(equipamentos, equipamentosId)\r\n        if (acessibilidadeId) selectedVehicle.acessibilidade = setNamesFromIds(acessibilidade, acessibilidadeId)\r\n    }\r\n\r\n    //******************Get latest uploaded files per field\r\n    let fileIds = [], allDemandFiles, latestDocs = [], filesPerFieldName = {}\r\n    history\r\n        .filter(el => el.files)\r\n        .map(el => el.files)\r\n        .forEach(array => {\r\n            array.forEach(id => fileIds.push(id))\r\n        })\r\n    allDemandFiles = vehicleDocs.filter(doc => fileIds.indexOf(doc.id) !== -1)\r\n\r\n    let fieldExists = []\r\n    allDemandFiles.forEach(file => {\r\n        const { fieldName } = file.metadata\r\n        if (!fieldExists.includes(fieldName)) {\r\n            fieldExists.push(fieldName)\r\n            filesPerFieldName[fieldName] = [file]\r\n        }\r\n        else filesPerFieldName[fieldName].push(file)\r\n    })\r\n\r\n    Object.keys(filesPerFieldName).forEach(field => {\r\n        const arrayOfFiles = filesPerFieldName[field]\r\n        let lastDoc\r\n        lastDoc = arrayOfFiles.reduce((a, b) => new Date(a.uploadDate) > new Date(b.uploadDate) ? a : b)\r\n        latestDocs.push(lastDoc)\r\n        lastDoc = []\r\n    })\r\n\r\n    //****************** Return the object    \r\n    return {\r\n        ...selectedVehicle, originalVehicle, delegatario, razaoSocial, selectedEmpresa,\r\n        demand, demandFiles: latestDocs, alteracoes, getUpdatedValues\r\n    }\r\n}\r\n\r\nfunction getUpdatedValues(originalObj, newObj) {\r\n    Object.keys(newObj).forEach(key => {\r\n        if (newObj[key] && originalObj[key]) {\r\n\r\n            if (key === 'equipamentosId' || key === 'acessibilidadeId')\r\n                newObj[key].sort((a, b) => a - b)\r\n\r\n            if (newObj[key].toString() === originalObj[key].toString())\r\n                delete newObj[key]\r\n        }\r\n        if (newObj[key] === '' || newObj[key] === 'null' || !newObj[key]) delete newObj[key]\r\n    })\r\n    const updatedFields = newObj\r\n    return updatedFields\r\n}","import axios from \"axios\"\r\n\r\nexport const sizeExceedsLimit = files => {\r\n    if (files[0].size > 3145728) {\r\n        alert('Arquivo excedeu o limite permitido (3MB)')\r\n        return true\r\n    }\r\n}\r\n\r\nexport const handleFiles = (files, state, filesFormTemplate) => {\r\n\r\n    const formData = new FormData()\r\n\r\n    if (files && files[0]) {\r\n\r\n        if (sizeExceedsLimit(files)) return            //limit file Size\r\n\r\n        filesFormTemplate.forEach(obj => {                   //set native file fieldname property for each file attached. Makes sense if multiple files\r\n            console.log(obj.name)\r\n            for (let keys in state) {\r\n                if (keys.match(obj.name) && state[obj.name]) {\r\n                    formData.set(obj.name, state[obj.name])\r\n                }\r\n                else void 0\r\n            }\r\n        })\r\n        //for (let p of formData) { console.log(p[0], p[1]) }\r\n        return { form: formData }\r\n    }\r\n}\r\n\r\nexport const postFilesReturnIds = async (formData, metadata = {}, completed, filesEndPoint) => {\r\n    let\r\n        files,\r\n        filesIds\r\n\r\n    if (formData instanceof FormData) {\r\n        let filesToSend = new FormData()\r\n\r\n        if (completed)                              //Se a demanda for aprovada é considerada completed, e então o arquivo deixa de ser temporário.\r\n            metadata.tempFile = false\r\n        else\r\n            metadata.tempFile = true\r\n        console.log(metadata)\r\n\r\n        filesToSend.append('metadata', JSON.stringify(metadata))\r\n        for (let pair of formData) {\r\n            filesToSend.set(pair[0], pair[1])\r\n            console.log(\"🚀 ~ file: handleFiles.js ~ line 49 ~ postFilesReturnIds ~ pair[0], pair[1]\", pair[0], pair[1])\r\n        }\r\n\r\n        files = await axios.post(`/api/${filesEndPoint}`, filesToSend)\r\n    }\r\n\r\n    if (files?.data?.file) {\r\n        const filesArray = files.data.file\r\n        filesIds = filesArray.map(f => f.id)\r\n        return filesIds\r\n    }\r\n    else return null\r\n}\r\n\r\nexport const updateFilesMetadata = async (obj, filesCollection) => {\r\n\r\n    const { files, demandFiles } = obj\r\n    let metadata = { tempFile: false }\r\n\r\n    if (obj?.metadata instanceof Object)\r\n        metadata = Object.assign(obj.metadata, metadata)\r\n    //console.log(obj, metadata)\r\n    let ids\r\n\r\n    if (demandFiles && demandFiles[0])\r\n        ids = demandFiles.map(f => f.id)\r\n\r\n    else {\r\n        if (files instanceof FormData) {             //If there's any upload from Seinfra, it will overwrite the latestDocs(demandFiles) before approval\r\n            for (let pair of files) {\r\n                demandFiles.forEach((f, i) => {\r\n                    if (pair[0] === f?.metadata?.fieldName)\r\n                        demandFiles.splice(i, 1)\r\n                })\r\n            }\r\n            ids = demandFiles.map(f => f.id)\r\n        }\r\n    }\r\n\r\n    await axios.put('/api/updateFilesMetadata', { ids, collection: filesCollection, metadata })\r\n        .then(r => console.log(r.data))\r\n}\r\n\r\nexport const removeFile = (name, form) => {\r\n\r\n    const existingFiles = new FormData()\r\n\r\n    if (form instanceof FormData && form.has(name)) {\r\n        for (let p of form) {\r\n            existingFiles.set(p[0], p[1])\r\n        }\r\n\r\n        existingFiles.delete(name)\r\n\r\n        const returnObj = { fileToRemove: name, form: existingFiles, [name]: undefined }\r\n\r\n        //********If form has only 1 key left, remove it from state. */\r\n        const keyCounter = Array.from(form.keys(), k => k).length\r\n\r\n        if (keyCounter <= 1 && (form.has('veiculoId') || form.has('empresaId')))\r\n            return { fileToRemove: undefined, form: undefined, [name]: undefined }\r\n        else\r\n            return returnObj\r\n    }\r\n}","const vehicle = {\r\n\r\n    collection: 'logs',\r\n    docs: 'vehicleDocs',\r\n    primaryKey: 'veiculoId'\r\n}\r\n\r\nconst { collection, docs, primaryKey } = vehicle\r\n\r\nexport const logRoutesConfig = [\r\n    {\r\n        subject: 'Cadastro de veículo',\r\n        path: '/solicitacoes/cadastro',\r\n        requestAction: 'Cadastro de veículo solicitado',\r\n        responseAction: 'Pendências para o cadastro do veículo',\r\n        concludedAction: 'Veículo cadastrado',\r\n        collection, docs, primaryKey,\r\n    },\r\n    {\r\n        subject: 'Reativação de veículo',\r\n        path: '/solicitacoes/cadastro',\r\n        requestAction: 'Reativação de veículo solicitada',\r\n        responseAction: 'Pendências para a reativação do veículo',\r\n        concludedAction: 'Veículo reativado',\r\n        collection, docs, primaryKey,\r\n    },\r\n    {\r\n        subject: 'Alteração de dados do veículo',\r\n        path: '/solicitacoes/altDados',\r\n        requestAction: 'Alteração de dados de veículo solicitada',\r\n        responseAction: 'Pendências para a alteração de dados veicular',\r\n        concludedAction: 'Dados do veículo alterados',\r\n        collection, docs, primaryKey,\r\n    },\r\n    {\r\n        ...vehicle,\r\n        subject: 'Cadastro/alteração de seguro',\r\n        path: '/solicitacoes/seguros',\r\n        requestAction: 'Cadastro de seguro solicitado',\r\n        responseAction: 'Pendências para o cadastro do seguro',\r\n        concludedAction: 'Seguro cadastrado',\r\n        primaryKey: 'id',\r\n        collection, docs,\r\n\r\n    },\r\n    {\r\n        ...vehicle,\r\n        subject: 'Compartilhamento de veículo',\r\n        path: '/solicitacoes/compartilhamento',\r\n        requestAction: 'Compartilhamento de seguro solicitado',\r\n        concludedAction: 'Compartilhamento de veículo realizado.',\r\n        primaryKey: 'id',\r\n        collection, docs,\r\n\r\n    },\r\n    {\r\n        ...vehicle,\r\n        subject: 'Cadastro de laudo de segurança veicular',\r\n        collection: 'logs',\r\n        path: '/solicitacoes/laudos',\r\n        requestAction: 'Cadastro do laudo solicitado',\r\n        responseAction: 'Pendências para o cadastro do laudo',\r\n        concludedAction: 'Laudo veicular cadastrado',\r\n    },\r\n    {\r\n        subject: 'Baixa de veículo',\r\n        path: '/solicitacoes/baixaVeiculo',\r\n        requestAction: 'Baixa de veículo solicitada',\r\n        collection, docs, primaryKey,\r\n    },\r\n    {\r\n        subject: 'Configurações de Veículo',\r\n        collection: 'logs',\r\n        path: '/veiculos/config'\r\n    },\r\n    {\r\n        subject: 'Consultas',\r\n        path: '/consultas'\r\n    },\r\n    {\r\n        subject: 'Cadastro de empresa',\r\n        collection: 'empresaLogs',\r\n        path: '/empresas/cadastro'\r\n    },\r\n    {\r\n        subject: 'Alteração no quadro/dados de sócios',\r\n        requestAction: 'Alteração no quadro/dados de sócios solicitada',\r\n        concludedAction: 'Alteração de sócios cadastrada',\r\n        path: '/solicitacoes/socios',\r\n        docs: 'empresaDocs',\r\n        primaryKey: 'empresaId',\r\n        collection\r\n    },\r\n    {\r\n        subject: 'Alteração estatutária',\r\n        requestAction: 'Alteração estatutária solicitada',\r\n        responseAction: 'Pendências para a alteração estatutária',\r\n        concludedAction: 'Alteração estatutária cadastrada',\r\n        path: '/solicitacoes/altContrato',\r\n        docs: 'empresaDocs',\r\n        primaryKey: 'empresaId',\r\n        collection\r\n    },\r\n    {\r\n        subject: 'Cadastro de procurações/procuradores',\r\n        collection,\r\n        path: '/solicitacoes/procuradores',\r\n        docs: 'empresaDocs',\r\n        primaryKey: 'empresaId',\r\n        requestAction: 'Cadastro de procuração solicitado',\r\n        responseAction: 'Procuração indeferida',\r\n        concludedAction: 'Procuração cadastrada',\r\n    },\r\n]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import axios from 'axios'\r\nimport { store } from '../App'\r\nimport { logRoutesConfig } from '../Solicitacoes/logRoutesConfig'\r\nimport { updateFilesMetadata, postFilesReturnIds } from './handleFiles'\r\n\r\nexport async function logGenerator(obj) {\r\n    const\r\n        path = window.location.pathname,\r\n        userName = store.getState()?.user?.name || 'Usuário não identificado',\r\n        codigoEmpresa = obj.empresaId\r\n\r\n    let logRoutes = JSON.parse(JSON.stringify(logRoutesConfig))\r\n    logRoutes.forEach((el, i) => el.path = logRoutesConfig[i].path.replace('/veiculos', '').replace('/solicitacoes', '').replace('/empresas', ''))\r\n\r\n    //Cria props padrão para todos os logs\r\n    const\r\n        collection = 'logs',\r\n        historyLength = obj?.historyLength,\r\n        commonFields = {\r\n            user: userName,\r\n            createdAt: new Date(),\r\n        }\r\n\r\n    let\r\n        logConfig = logRoutes.find(e => path.match(e.path)),\r\n        log = JSON.parse(JSON.stringify(obj))\r\n\r\n    //Em caso de reativação de veículo, o path é o mesmo, aí o find tem q ser por subject\r\n    if (obj.subject && obj.subject.match('Reativação'))\r\n        logConfig = logRoutes.find(e => e.subject === obj.subject)\r\n\r\n    // if !veiculoId, update to empresaDocs\r\n    let\r\n        filesCollection = 'vehicleDocs',\r\n        filesEndPoint = 'vehicleUpload'\r\n    if (!obj.veiculoId) {\r\n        filesCollection = 'empresaDocs'\r\n        filesEndPoint = 'empresaUpload'\r\n    }\r\n\r\n    const history = Object.assign(obj.history, commonFields)\r\n    log.history = history || {}\r\n\r\n    //Se par, a próxima action é a demanda de cada rota caso contrário a resposta. Depois apaga-se o historyLength */\r\n    if (historyLength || historyLength === 0) {\r\n\r\n        if (historyLength % 2 === 0 || historyLength === 0) {\r\n\r\n            if (!obj?.history?.action)\r\n                log.history.action = logConfig?.requestAction\r\n            log.status = 'Aguardando análise'\r\n        }\r\n        else {\r\n            if (!obj?.history?.action)\r\n                log.history.action = logConfig?.responseAction\r\n            log.status = 'Pendências'\r\n        }\r\n    }\r\n\r\n    //**********************if log already exists, no need to inform veiculoId **********************    \r\n    if (obj?.id && log.veiculoId) delete log.veiculoId\r\n    delete log.historyLength\r\n\r\n    //**********************If given by the component which called this function, overwrite logRoutesConfig*/\r\n    if (!obj.id || obj.subject) log.subject = obj?.subject || logConfig?.subject\r\n\r\n    //*************************IF DECLINED, UPDATE LOG AND RETURN LOG*/    \r\n    if (obj.declined) {\r\n        log.history.action = 'Solicitação indeferida'\r\n        log.status = 'Solicitação indeferida'\r\n        log.completed = true\r\n\r\n        const post = axios.post('/api/logs', { log, collection, codigoEmpresa })\r\n        return post\r\n    }\r\n\r\n    //*************************CASO APROVADO, CONCLUI A SOLICITAÇÃO E ALTERA METADADOS DOS ARQUIVOS PARA TEMP:FALSE*/    \r\n    if (obj.approved && !obj.declined) {\r\n        log.history.action = logConfig?.concludedAction || 'Solicitação concluída'\r\n        log.status = 'Solicitação concluída'\r\n        log.completed = true\r\n        updateFilesMetadata(obj, filesCollection)\r\n    }\r\n\r\n    //********************** Upload files and get their Ids***********************/    \r\n    const filesIds = await postFilesReturnIds(obj?.history?.files, obj?.metadata, log?.completed, filesEndPoint)\r\n\r\n    if (filesIds)\r\n        log.history.files = filesIds\r\n\r\n    const { metadata, approved, demandFiles, ...filteredLog } = log\r\n    //**********************reestablish path**********************\r\n    logRoutes = JSON.parse(JSON.stringify(logRoutesConfig))\r\n    logConfig = logRoutes.find(e => path.match(e.path))\r\n\r\n    //**********************request and return promise**********************\r\n\r\n    //console.log(JSON.stringify(filteredLog))\r\n    const post = axios.post('/api/logs', { log: filteredLog, collection, codigoEmpresa })\r\n    return post\r\n}","import React from 'react'\r\n\r\nexport default function AutoComplete({ collection = [], field, itemProp, value }) {\r\n\r\n    if (value?.length > 2 && typeof collection !== 'string') {\r\n\r\n        //O id é o próprio field (ex:placa). Quando for diferente, o parentComponent deve passar o itemProp a ser renderizado.         \r\n        if (!itemProp)\r\n            itemProp = field\r\n\r\n        return (\r\n            <datalist id={field} autoComplete='off'>\r\n                {\r\n                    collection.map((item, index) => {\r\n                        return (\r\n                            <option key={index}>{item[itemProp]}</option>\r\n                        )\r\n                    })}\r\n            </datalist>\r\n        )\r\n    }\r\n    else {\r\n        return null\r\n    }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport AutoComplete from '../Utils/autoComplete'\r\n\r\nimport './commonStyles.css'\r\n\r\nfunction SelectEmpresa(props) {\r\n\r\n    const\r\n        [enableSelect, setEnabled] = useState(true),\r\n        { empresas: allEmpresas, compartilhados, handleInput, handleBlur, shared, headerTitle } = props,\r\n        { razaoSocial, compartilhado, activeStep, demand } = props.data,\r\n        empresas = allEmpresas.filter(e => e.situacao !== 'Desativada'),\r\n        singleEmpresaUser = empresas.length === 1\r\n\r\n\r\n    //Configure the form. If shared is present in state, another form will be pusshed into the array (CadVehicles)\r\n    let headerTitles = [{ title: 'Selecione a Viação', name: 'razaoSocial', field: 'razaoSocial', value: razaoSocial }]\r\n    if (shared)\r\n        headerTitles.push({ title: 'Empresa autorizada a compartilhar', field: 'compartilhado', name: 'compartilhado', itemProp: 'razaoSocial', value: compartilhado })\r\n\r\n\r\n    //Render field or title conditionally\r\n    useEffect(() => {\r\n        //|| user?.empresas.length === 1\r\n        if (demand || activeStep > 0 || singleEmpresaUser)\r\n            setEnabled(false)\r\n        else if (activeStep === 0)\r\n            setEnabled(true)\r\n\r\n        //focus no campo de preencher o nome da empresa\r\n        const selectInput = document.getElementsByName('razaoSocial')\r\n        if (enableSelect && selectInput[0])\r\n            selectInput[0].focus()\r\n\r\n    }, [demand, activeStep, enableSelect, singleEmpresaUser])\r\n\r\n    return (\r\n        <div\r\n            className={props.hasOwnProperty('shared') ? 'flex center' : 'paper flex center'}\r\n            style={{\r\n                flexDirection: activeStep === 0 ? 'row' : 'column',\r\n                width: '100%',\r\n                marginBottom: 0,\r\n            }}>\r\n            {\r\n                !enableSelect &&\r\n                <div className='selectedEmpresa'\r\n                    style={{ padding: shared && activeStep === 0 && '0 30px 33px 0' }}>\r\n                    {headerTitle || demand?.empresa || razaoSocial || ''}\r\n                </div>\r\n            }\r\n            {props.hasOwnProperty('shared') && activeStep !== 0 && compartilhado &&\r\n                <div className='compartilhadoHeader'>\r\n                    Compartilhado por {compartilhado}\r\n                </div>\r\n            }\r\n            {\r\n                (!activeStep || activeStep === 0) && enableSelect && headerTitles.map(({ title, field, name, itemProp, value }, i) =>\r\n                    ((singleEmpresaUser && i === 1) || !singleEmpresaUser) &&\r\n                    < div className='flexColumn' key={i} >\r\n                        <h4 style={{ margin: '5px 0', textAlign: 'center' }}>{title}</h4>\r\n                        <input\r\n                            list={field}\r\n                            name={name}\r\n                            className='selectEmpresa'\r\n                            value={value || ''}\r\n                            onChange={handleInput}\r\n                            onBlur={handleBlur}\r\n                            autoComplete='off'\r\n                        />\r\n                        <AutoComplete\r\n                            collection={field === 'compartilhado' ? compartilhados : empresas}\r\n                            field={field}\r\n                            itemProp={itemProp}\r\n                            value={value}\r\n                        />\r\n                    </div>\r\n                )\r\n            }\r\n        </div >\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return { user: state.user, redux: state.data }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SelectEmpresa)","import React, { Fragment } from 'react'\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport AutoComplete from '../Utils/autoComplete'\r\n//import { clearFormat } from '../Utils/formatValues'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '1px',\r\n        marginBottom: '1px',\r\n\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    select: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',\r\n        marginBottom: '2px',\r\n        background: '#fafafa',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    helperText: {\r\n        margin: '2px 0',\r\n        fontSize: '0.7rem'\r\n    },\r\n}))\r\n\r\nexport default function TextInput({ handleInput, handleBlur, form, data, empresas, compartilhados, seguros, seguradoras, selectOptions, disableAll, style = {}, disableSome = [] }) {\r\n    //console.log(\"🚀 ~ file: TextInput.jsx ~ line 39 ~ TextInput ~ data\", data)\r\n\r\n    const\r\n        reduxData = { compartilhados, empresas, seguros, seguradoras },\r\n        classes = useStyles(),\r\n        { helperText } = classes\r\n\r\n    const errorHandler = (el) => {\r\n        let value = data[el.field]\r\n        if (!value) return\r\n\r\n        if (el.errorHandler && el.errorHandler(value)) return false\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return true\r\n\r\n        if (value?.length < el?.minLength) return true\r\n\r\n        if (el.type === 'number') {\r\n            if (value > el.max || value < el.min) return true\r\n            else return false\r\n        }\r\n\r\n        if (typeof value !== 'string') value = value.toString()\r\n        if (el.pattern) return value.match(el.pattern) === null\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        let value = data[el.field]\r\n        if (!value) return ' '\r\n        if (el.errorHandler && el.errorHandler(value)) return '✓'\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return '✘'\r\n\r\n        if (value?.length < el?.minLength) return '✘'\r\n        if (value?.length >= el?.minLength) return '✓'\r\n\r\n        if (typeof value !== 'string') value = value.toString()\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value.match(el.pattern) !== null) return '✓'\r\n        else return ' '\r\n    }\r\n\r\n    return (\r\n        <div className='flex center' style={{ ...style }}>\r\n            {\r\n                form.map((el, i) => (\r\n                    <Fragment key={i}>\r\n                        <TextField\r\n                            name={el.field}\r\n                            label={el.label}\r\n                            margin={el.margin}\r\n                            className={classes.textField}\r\n                            onChange={handleInput}\r\n                            onBlur={handleBlur}\r\n                            type={el.type || ''}\r\n                            error={errorHandler(el)}\r\n                            helperText={helper(el)}\r\n                            FormHelperTextProps={{ className: helperText }}\r\n                            select={el.select || false}\r\n                            value={data[el.field] || ''}\r\n                            disabled={el.disabled || disableAll || disableSome.includes(el.field) || false}\r\n                            InputLabelProps={{\r\n                                className: classes.textField,\r\n                                shrink: el.type === 'date' || undefined,\r\n                                style: { fontSize: '0.7rem', fontWeight: 400, color: '#888', fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif' }\r\n                            }}\r\n                            inputProps={{\r\n                                style: {\r\n                                    background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                    fontSize: '0.85rem', textAlign: 'center', color: '#000', width: el.width || 300, height: '7px',\r\n                                    fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif'\r\n                                },\r\n                                value: `${data[el.field] || ''}`,\r\n                                list: el.field || el.itemProp || '',\r\n                                maxLength: el.maxLength || '',\r\n                                minLength: el.minLength || '',\r\n                                max: el.max || '',\r\n                                autoComplete: 'off'\r\n                            }}\r\n\r\n                            multiline={el.multiline || false}\r\n                            rows={el.rows || null}\r\n                            variant={el.variant || 'filled'}\r\n                            fullWidth={el.fullWidth || false}\r\n                            SelectProps={{\r\n                                style: {\r\n                                    background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                    fontSize: '0.9rem', textAlign: 'center', color: '#555', fontWeight: 400,\r\n                                    width: 325, height: '44px'\r\n                                }\r\n                            }}\r\n                        >\r\n                            {el.select === true ?\r\n                                selectOptions ?\r\n                                    selectOptions.map((opt, i) =>\r\n                                        <MenuItem key={i} value={opt} >\r\n                                            {opt}\r\n                                        </MenuItem>\r\n                                    )\r\n                                    :\r\n                                    el.options.map((opt, i) =>\r\n                                        <MenuItem key={i} value={opt} >\r\n                                            {opt}\r\n                                        </MenuItem>\r\n                                    )\r\n                                : null\r\n                            }\r\n\r\n                        </TextField>\r\n                        {el.autoComplete === true && <AutoComplete\r\n                            field={el.field}\r\n                            collection={data[el.collection] || reduxData[el.collection]}\r\n                            itemProp={el.itemProp}\r\n                            value={data[el.field] || ''}\r\n                        />\r\n                        }\r\n                    </Fragment>\r\n                ))\r\n            }\r\n        </div>\r\n\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function FormSubtiltle({ subtitle, style = {} }) {\r\n    return (\r\n        <div className='subtitle' style={style}>\r\n            <i className='material-icons subtitle__helper'>arrow_forward</i>\r\n            <span className='subtitle__text'>\r\n                {subtitle}\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n","export const vistoriaForm = [\r\n    {\r\n        field: 'cilindros',\r\n        label: 'Cilindros',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12,\r\n        step: 1\r\n    },\r\n    {\r\n        field: 'potencia',\r\n        label: 'Potência (cv)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 600\r\n    },\r\n    {\r\n        field: 'eixos',\r\n        label: 'Eixos',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 8\r\n    },\r\n    {\r\n        field: 'pneumaticosDianteiro',\r\n        label: 'Pneumáticos Eixo Dianteiro',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'pneumaticosTraseiro',\r\n        label: 'Pneumáticos Eixo Traseiro',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 18\r\n    },\r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (t)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (t)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 15\r\n    },\r\n    {\r\n        field: 'poltronas',\r\n        label: 'Poltronas',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 120\r\n    },\r\n    {\r\n        field: 'piquesPoltrona',\r\n        label: 'Piques poltrona',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'distanciaMinima',\r\n        label: 'Distância Mínima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    },\r\n    {\r\n        field: 'distanciaMaxima',\r\n        label: 'Distância Máxima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    },\r\n    {\r\n        field: 'numeroDae',\r\n        label: 'Nº Documento Arrecadação Estadual',\r\n        maxLength: 40\r\n    }\r\n]","import { vistoriaForm } from './vistoriaForm'\r\n\r\nexport const cadVehicleForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    maxLength: 8,\r\n    pattern: '[a-zA-Z]{3}[-]?[ ]?\\\\d{4}|[A-Z]{3}[-]?[ ]?[0-9]{1}[A-Z]{1}[0-9]{2}'\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    maxLength: 11,\r\n    pattern: /^(\\d{9}|\\d{11})$/\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilização',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Comercial', 'Comercial Executivo', 'Convencional', 'Convencional Executivo', 'Leito', 'Leito e Executivo', 'Semi-Leito', 'Semi-Leito Executivo']\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Número do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    autoComplete: true,\r\n    collection: 'modelosChassi'\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    max: Number(new Date().getFullYear()),\r\n},\r\n{\r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    pattern: '^.{9,12}$',\r\n    minLength: 9,\r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    itemProp: 'modelo',\r\n    autoComplete: true,\r\n    collection: 'carrocerias'\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    max: Number(new Date().getFullYear() + 1)\r\n},\r\n{\r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    pattern: '^.{9,12}$',\r\n    minLength: 9,\r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situação da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veículo próprio', 'Alienação Fiduciária', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n}\r\n]]\r\n    .concat([vistoriaForm])","import React from 'react'\r\n\r\nexport default function ClosePopUpButton({ close, title = 'Fechar' }) {\r\n    return (\r\n        <div style={{\r\n            position: 'absolute',\r\n            top: '0.4%',\r\n            right: '0.4%'\r\n        }}>\r\n            <div>\r\n                <i\r\n                    className=\"material-icons right\"\r\n                    title={title}\r\n                    style={{ cursor: 'pointer', color: 'red' }}\r\n                    onClick={close} >\r\n                    close\r\n                </i>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\n\r\nimport '../Layouts/popUp.css'\r\n\r\nexport default function AddEquipa({ data, type, equipamentos, handleCheck, close }) {\r\n\r\n    if (Array.isArray(equipamentos) && equipamentos[0]?.item) equipamentos = equipamentos.sort((a, b) => a.item.localeCompare(b.item))\r\n\r\n    return <div className='popUpWindow' style={{ right: '25%', left: '25%' }}>\r\n        <h4 className='equipaHeader'>{type === 'equipamentos' ? 'Equipamentos' : 'Itens de Acessibilidade'}</h4> <hr />\r\n        <div className=\"checkListContainer\">\r\n            {\r\n                equipamentos.map((eq, i) =>\r\n                    <span className=\"checkListEquipa\" key={i}>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={data[eq.item]}\r\n                                    value={eq.item}\r\n                                    onChange={() => handleCheck(eq.item, type)} />\r\n                            }\r\n                            label={<p className=\"checkListLabel\">{eq.item}</p>}\r\n                        />\r\n                    </span>\r\n                )\r\n            }\r\n        </div>\r\n        <ClosePopUpButton close={close} />\r\n    </div>\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\n\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { cadVehicleForm } from '../Forms/cadVehicleForm'\r\n\r\nimport AddEquipa from './AddEquipa'\r\n\r\nimport './veiculos.scss'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    button: {\r\n        marginRight: '15px'\r\n    }\r\n}))\r\n\r\nexport default function ({ redux, data, handleInput, handleBlur, handleEquipa, handleCheck, closeEquipa, resetShared, removePartilha }) {\r\n\r\n    const\r\n        [shared, setShared] = useState(false),\r\n        { button } = useStyles(),\r\n        { empresas, compartilhados, equipamentos, acessibilidade, modelosChassi, carrocerias } = redux,\r\n        { activeStep, demand, addEquipa, subtitle, selectedEmpresa, type, placa, reactivated } = data,\r\n        form = cadVehicleForm[activeStep]\r\n\r\n    let eqCollection = equipamentos\r\n    if (type === 'acessibilidade') eqCollection = acessibilidade\r\n\r\n    data.modelosChassi = modelosChassi\r\n    data.carrocerias = carrocerias\r\n\r\n    useEffect(() => {               //reset shared after submit\r\n        if (resetShared) setShared(false)\r\n    }, [resetShared])\r\n\r\n    const toggleShared = () => {\r\n        if (shared)\r\n            removePartilha()\r\n        setShared(!shared)\r\n    }\r\n\r\n    let conditionalSubtitle = subtitle[activeStep]\r\n    if (reactivated)\r\n        conditionalSubtitle += ' (reativação de veículo)'\r\n\r\n    return (\r\n        <>\r\n            <header className={activeStep !== 0 ? 'flex center' : 'paper flex center'} style={{ width: '100%' }}>\r\n                <section className='flexColumn' style={{ marginBottom: '10px' }}>\r\n                    <SelectEmpresa\r\n                        data={data}\r\n                        shared={shared}\r\n                        empresas={empresas}\r\n                        compartilhados={compartilhados}\r\n                        headerTitle={placa && selectedEmpresa && `Cadastro de veículo ${placa} - ${selectedEmpresa?.razaoSocial}`}\r\n                        handleBlur={handleBlur}\r\n                        handleInput={handleInput}\r\n                    />\r\n                </section>\r\n                {\r\n                    activeStep === 0 && !demand &&\r\n                    <section className=\"flex center\" style={{ width: '100%', margin: '-7px 0 -4px 0' }}>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={shared === true}\r\n                                    onChange={() => toggleShared()}\r\n                                    value={shared}\r\n                                />\r\n                            }\r\n                            label={\r\n                                <h4 style={{ color: '#2979ff', fontSize: '0.7rem' }}>\r\n                                    Veículo Compartilhado?\r\n                                </h4>\r\n                            }\r\n                        />\r\n                    </section>\r\n                }\r\n            </header>\r\n            {\r\n                selectedEmpresa &&\r\n                <main>\r\n                    {activeStep < 2 &&\r\n                        <section className='paper' style={{ paddingBottom: '25px' }}>\r\n                            <FormSubtiltle subtitle={conditionalSubtitle} />\r\n                            <TextInput\r\n                                form={form}\r\n                                data={data}\r\n                                handleBlur={handleBlur}\r\n                                handleInput={handleInput}\r\n                            />\r\n                        </section>}\r\n                    {activeStep === 0 &&\r\n                        <section className='flex center' style={{ marginTop: '15px' }}>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                color=\"primary\"\r\n                                className={button}\r\n                                onClick={() => handleEquipa('equipamentos')}\r\n                            >\r\n                                <AddIcon />\r\n                                                Equipamentos\r\n                            </Button>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                color=\"primary\"\r\n                                className={button}\r\n                                onClick={() => handleEquipa('acessibilidade')}\r\n                            >\r\n                                <AddIcon />\r\n                                        Acessibilidade\r\n                            </Button>\r\n                        </section>}\r\n                    {\r\n                        addEquipa && <AddEquipa\r\n                            equipamentos={eqCollection}\r\n                            close={closeEquipa}\r\n                            handleCheck={handleCheck}\r\n                            data={data} />\r\n                    }\r\n                </main>\r\n            }\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function RemoveFileButton({ name, removeFile }) {\r\n    return (\r\n        <div style={{\r\n            position: 'absolute',\r\n            top: '0.4%',\r\n            right: '0.4%'\r\n        }}>\r\n            <div>\r\n                <i\r\n                    className=\"material-icons right\"\r\n                    title='Remover arquivo'\r\n                    style={{ cursor: 'pointer', color: 'red' }}\r\n                    onClick={() => removeFile(name)}>\r\n                    close\r\n                        </i>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Fragment, useState, useEffect } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport RemoveFileButton from './RemoveFileButton';\r\n\r\n\r\nexport default function DragAndDrop({ title, name, formData, handleFiles, dropDisplay, single, style, demandFiles, fileToRemove, removeFile }) {\r\n\r\n    const [fileName, setFileName] = useState()\r\n    const [fileExists, setFileExistance] = useState()\r\n\r\n    //*************Set demandFiles names, if there are any\r\n    useEffect(() => {\r\n        if (demandFiles && demandFiles[0]) {\r\n            demandFiles.forEach(({ filename, metadata }) => {\r\n                if (name === metadata.fieldName) {\r\n                    setFileName(filename)\r\n                    setFileExistance(true)\r\n                }\r\n            })\r\n        }\r\n    }, [demandFiles, name])\r\n\r\n    //*************If there's formData from props there's a new file being attached.\r\n    useEffect(() => {\r\n        if (formData instanceof FormData) {\r\n            for (let pair of formData.entries()) {\r\n                if (name === pair[0]) {     //Attach the file if there'no command to remove\r\n                    setFileName(pair[1].name)\r\n                    setFileExistance(false)\r\n                    console.log(pair[0], pair[1])\r\n                }\r\n            }\r\n        } else if (!formData && !demandFiles) setFileName(null)\r\n    }, [formData, name, demandFiles, fileToRemove])\r\n\r\n    //*****************Remove file name from rendered field *********/    \r\n    useEffect(() => {\r\n\r\n        if (fileToRemove === name) {\r\n            const demandFile = demandFiles?.find(f => f?.metadata?.fieldName === fileToRemove)\r\n\r\n            if (fileToRemove && demandFile) {\r\n                setFileName(demandFile.filename)\r\n                setFileExistance(true)\r\n            }\r\n            else if (fileToRemove && fileToRemove === name) {\r\n                setFileName(undefined)\r\n            }\r\n        }\r\n    }, [demandFiles, fileToRemove, handleFiles, name])\r\n\r\n    return (\r\n        <div style={style ? style : null}>\r\n            <div style={{ position: 'relative', marginRight: '8px' }}>\r\n                {title ? <p className='fileInput'>{title || ''}</p>\r\n                    : <br />}\r\n                {fileName && !fileExists &&\r\n                    <RemoveFileButton removeFile={removeFile} name={name} />\r\n                }\r\n            </div>\r\n            <Dropzone onDrop={e => handleFiles(e, name)}>\r\n                {({ getRootProps, getInputProps }) => (\r\n                    <div\r\n                        style={fileExists ? { backgroundColor: '#aaa' } : {}}\r\n                        className={fileName ? 'dropBox fileAttached' : single ? 'dropBox' : 'multipleDropBox'} {...getRootProps()}>\r\n                        <input {...getInputProps()} />\r\n                        {\r\n                            fileName ?\r\n                                <Fragment>\r\n                                    <div>\r\n                                        <DescriptionOutlinedIcon className='icon' />\r\n                                        {fileName}\r\n                                    </div>\r\n                                    {single &&\r\n                                        <span>(clique ou arraste outro arquivo para alterar)</span>\r\n                                    }\r\n                                </Fragment>\r\n                                :\r\n                                <div> <AttachFileIcon className='icon' />\r\n                                    <span>  {dropDisplay}</span>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                )}\r\n            </Dropzone>\r\n        </div>\r\n    )\r\n}\r\n","export const cadVehicleFiles = [\r\n    { title: 'CRLV do Veículo', name: 'crlv' },\r\n    { title: 'Declaração de Responsabilidade de Manutenção', name: 'declaracao' },\r\n    { title: 'Certificado de Vistoria', name: 'vistoria' },\r\n    { title: 'Laudo de Pesagem', name: 'pesagem' },\r\n    { title: 'Nota Fiscal Carroceria', name: 'nfCarroceria' },\r\n    { title: 'Nota Fiscal Chassi', name: 'nfChassi' },\r\n    { title: 'Layout do Veículo', name: 'layout' },\r\n    { title: 'Contrato', name: 'contrato' },\r\n    { title: 'Outros Anexos', name: 'outrosAnexos' },\r\n\r\n]","export const altDadosFiles = [\r\n    { title: 'Declaração de Responsabilidade de Manutenção', name: 'declaracao' },\r\n    { title: 'Certificado de Vistoria', name: 'vistoria' },\r\n    { title: 'Laudo de Pesagem', name: 'pesagem' },\r\n    { title: 'CRLV com nova placa', name: 'newPlateDoc' },\r\n    { title: 'Layout do Veículo', name: 'layout' },\r\n    { title: 'Outros Anexos', name: 'outrosAnexos' },\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { altDadosFiles } from '../Forms/altDadosFiles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    root: {\r\n        flexGrow: '1',\r\n        margin: '5px',\r\n        padding: '8px',\r\n    },\r\n\r\n    sendButton: {\r\n        margin: '3% 0 3% 0',\r\n        backgroundColor: 'teal',\r\n        float: 'right'\r\n    },\r\n    text: {\r\n        textAlign: 'left',\r\n        margin: theme.spacing(2),\r\n        fontSize: '0.9rem',\r\n        fontWeight: '500',\r\n        color: '#333'\r\n    },\r\n    item: {\r\n        margin: '0 0 18px 0',\r\n        padding: '0 5px'\r\n    }\r\n}))\r\n\r\nexport default function VehicleDocs({ handleFiles, parentComponent, dropDisplay, formData, insuranceExists, demandFiles, removeFile, fileToRemove }) {\r\n    const { root, item } = useStyles()\r\n\r\n    let filesForm\r\n    if (parentComponent === 'cadastro') filesForm = cadVehicleFiles\r\n    if (parentComponent === 'altDados') filesForm = altDadosFiles\r\n\r\n    return (\r\n        <div className='paper' style={{color: '#555'}} >\r\n            <FormSubtiltle subtitle='Anexe os documentos solicitados nos campos abaixo' />\r\n            <Grid container className={root}>\r\n                {filesForm.map(({ title, name }, k) =>\r\n                    name === 'apoliceDoc' && insuranceExists ? null :\r\n                        <Fragment key={k}>\r\n                            <Grid item xs={10} md={4} className={item}>\r\n                                <DragAndDrop\r\n                                    title={title}\r\n                                    name={name}\r\n                                    formData={formData}\r\n                                    dropDisplay={dropDisplay}\r\n                                    handleFiles={handleFiles}\r\n                                    demandFiles={demandFiles}\r\n                                    removeFile={removeFile}\r\n                                    fileToRemove={fileToRemove}\r\n                                />\r\n                            </Grid>\r\n                        </Fragment>\r\n                )}\r\n            </Grid>\r\n        </div>\r\n    )\r\n}","import axios from 'axios'\r\n\r\nconst downloadFile = (id, originalName, collection, fieldName) => {\r\n    if (fieldName && fieldName === 'apoliceDoc') collection = 'empresaDocs'\r\n        axios({\r\n            url: `/api/mongoDownload/?collection=${collection}&id=${id}`,\r\n            method: 'GET',\r\n            responseType: 'blob', // important\r\n        }).then((response) => {\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', originalName);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n        })\r\n            .catch(err => {\r\n                console.log(err)\r\n                //          logout(err)\r\n            })\r\n}\r\n\r\nexport default downloadFile","import React from 'react'\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\nimport downloadFile from '../Utils/downloadFile';\r\n\r\nconst divContainer = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    alignContent: 'center',\r\n    flexWrap: 'wrap'\r\n}\r\n\r\nconst divFiles = {\r\n    textAlign: 'center',\r\n    alignItems: 'flex-start',\r\n    height: '40px',\r\n    border: '1px #ccc solid',\r\n    padding: '7px 8px 0 8px',\r\n    margin: '1% 1% 0.5% 1%',\r\n    fontSize: '0.8rem',\r\n    backgroundColor: '#f6f6f6',\r\n    borderRadius: '6px',\r\n\r\n}\r\n\r\nconst icon = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    paddingLeft: '2%'\r\n}\r\n\r\nconst fileIcon = {\r\n    verticalAlign: 'middle',\r\n    padding: '0 0% 0 2%',\r\n\r\n}\r\n\r\nexport default function ShowLocalFiles({ form, files, demandFiles, collection, style = {} }) {\r\n\r\n    const createLink = (key, fileName) => {\r\n\r\n        const file = files.get(key)\r\n\r\n        const url = window.URL.createObjectURL(file);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n\r\n        //Se for imagem ou pdf, abrir em outra aba\r\n        if (file && (file.type === 'application/pdf' || file.type.match('image/'))) {\r\n            link.setAttribute('rel', \"noopener\")\r\n            link.setAttribute('target', \"_blank\")\r\n            link.setAttribute('title', fileName)\r\n        }\r\n        else link.setAttribute('download', fileName)\r\n        document.body.appendChild(link);\r\n        link.click();\r\n    }\r\n\r\n    let fileArray = []\r\n\r\n    //Se tiver demanda, pegar os dados do\r\n    if (demandFiles) {\r\n        demandFiles.forEach(file => {\r\n            form.forEach(({ name, title }) => {\r\n                if (file?.metadata?.fieldName === name)\r\n                    fileArray.push({ id: file.id, label: title, fieldName: name, fileName: file.filename, storage: 'server' })\r\n            })\r\n        })\r\n    }\r\n\r\n    //******LÓGICA PARA Q O PUSH() DO FILEARRAY SOBRESCREVA QQ OUTRO OBJETO COM MESMO FIELDNAME [criada]\r\n    if (files) for (let pair of files.entries()) {\r\n        form.forEach(({ name, title }) => {\r\n            if (name === pair[0]) {\r\n                if (pair[1] && pair[1].name) {\r\n                    const index = fileArray.findIndex(obj => obj?.fieldName === name)\r\n                    if (index !== -1)\r\n                        fileArray[index] = { label: title, fieldName: name, fileName: pair[1].name, storage: 'local' }\r\n                    else\r\n                        fileArray.push({ label: title, fieldName: name, fileName: pair[1].name, storage: 'local' })\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    return <React.Fragment>\r\n        <div style={divContainer}>\r\n            {fileArray.map((f, i) =>\r\n                <div style={{ ...divFiles, ...style }} key={i}>\r\n                    <InsertDriveFileOutlinedIcon style={fileIcon} />\r\n                    <span style={{ verticalAlign: 'middle', }}>\r\n                        {' '} {f.label}\r\n                    </span>\r\n                    <GetAppIcon style={icon}\r\n                        onClick={() => f.storage === 'local' ?\r\n                            createLink(f.fieldName, f.fileName)\r\n                            : downloadFile(f.id, f.fileName, collection, f.fieldName)} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    </React.Fragment >\r\n}","import React from 'react'\r\nimport moment from 'moment'\r\nimport downloadFile from '../Utils/downloadFile'\r\n\r\nexport default function StandardTable({ length, title, labels, fields, values, style, docs, alteredElements = [] }) {\r\n\r\n    const dateFormat = value => {\r\n        if (moment(value, 'YYYY-MM-DDTHH:mm:ss.SSSZZ', true).isValid()) {\r\n            return moment(value, moment.ISO_8601, true).format('DD/MM/YYYY')\r\n        }\r\n        else {\r\n            return value\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th className='tHeader'\r\n                        style={style}\r\n                        colSpan={length}>{title}</th>\r\n                </tr>\r\n                <tr>\r\n                    {labels.map((l, i) => <th key={i} style={style}>{l}</th>)}\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    {values.map((v, j) =>\r\n                        <td className='review' key={j}\r\n                            style={{ ...style, color: alteredElements.includes(fields[j]) ? 'red' : '#000' }}\r\n                            onClick={() => docs && docs.id ? downloadFile(docs.id, docs.filename, 'vehicleDocs', docs.metadata.fieldName) : null}>\r\n                            {dateFormat(v)}\r\n                        </td>\r\n                    )}\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n","import React, { Fragment } from 'react'\r\n\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport StandardTable from '../Reusable Components/StandardTable'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 5px 0',\r\n        height: 'auto'\r\n    }\r\n}))\r\n\r\nexport default function Revisao({ data, parentComponent, form, filesForm, files }) {\r\n\r\n    const\r\n        classes = useStyles(),\r\n        { paper } = classes,\r\n        { acessibilidade, equipamentos, alteracoes, demand, demandFiles, numeroDae: nDae } = data,\r\n        originalVehicle = data?.originalVehicle,\r\n        numeroDae = nDae || (demand?.history instanceof Array && demand?.history.reverse().find(e => e.numeroDae)?.numeroDae)\r\n\r\n    let vehicleDetails = [],\r\n        obj = {},\r\n        newForm = [],\r\n        filledForm = [],\r\n        ultimateData,\r\n        alteredElements = []\r\n\r\n    form.forEach(f => {\r\n        f.forEach(e => {\r\n            if (data.hasOwnProperty([e.field])) {\r\n                Object.assign(obj, { [e.field]: data[e.field] })\r\n                newForm.push(e)\r\n            }\r\n        })\r\n        vehicleDetails.push(obj)\r\n        filledForm.push(newForm)\r\n        obj = {}\r\n        newForm = []\r\n    })\r\n    if (parentComponent === 'cadastro') ultimateData = [\r\n        { subtitle: 'Detalhes do veículo', form: filledForm[0] || [], data: vehicleDetails[0] },\r\n        { subtitle: 'Detalhes do seguro', form: filledForm[1] || [], data: vehicleDetails[1] },\r\n        { subtitle: 'Informações sobre a vistoria', form: filledForm[2] || [], data: vehicleDetails[2] },\r\n    ]\r\n\r\n    if (parentComponent === 'altDados') ultimateData = [\r\n        { subtitle: 'Detalhes do veículo', form: filledForm[0], data: vehicleDetails[0] },\r\n        { subtitle: 'Informações sobre a vistoria', form: filledForm[1], data: vehicleDetails[1] }\r\n    ]\r\n\r\n    if (alteracoes && typeof alteracoes === 'object') alteredElements = Object.keys(alteracoes)\r\n\r\n    if (originalVehicle) {\r\n        Object.keys(originalVehicle).forEach(key => {\r\n            if (data[key] && originalVehicle[key]) {\r\n                if (data[key] !== originalVehicle[key] && !alteredElements.includes(key)) {\r\n                    alteredElements.push(key)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Paper className={paper}>\r\n                <main className='divTable'>\r\n                    {\r\n                        ultimateData.map(({ subtitle, form, data }, y) =>\r\n                            form && data && <Fragment key={y}>\r\n                                <StandardTable\r\n                                    length={form?.length || 1}\r\n                                    title={subtitle}\r\n                                    labels={form.map(s => s.label)}\r\n                                    fields={form.map(el => el.field)}\r\n                                    values={Object.values(data)}\r\n                                    alteredElements={alteredElements}\r\n                                />\r\n                            </Fragment>\r\n                        )}\r\n                </main>\r\n                {\r\n                    equipamentos && equipamentos[0] &&\r\n                    <section style={{ margin: '0 0 13px 20px' }}>\r\n                        <p style={{ fontWeight: 500, color: '#555' }}> Equipamentos </p>\r\n                        <p>\r\n                            {\r\n                                equipamentos && equipamentos.map((e, i) =>\r\n                                    <span className='smallFont' key={i}>\r\n                                        {i !== equipamentos.length - 1 ? e + ', ' : e}\r\n                                    </span>\r\n                                )\r\n                            }\r\n                        </p>\r\n                    </section>\r\n                }\r\n                {\r\n                    acessibilidade && acessibilidade[0] &&\r\n                    <section style={{ margin: '0 0 13px 20px' }}>\r\n                        <p style={{ fontWeight: 500, color: '#555' }}> Itens de acessibilidade </p>\r\n                        <p>\r\n                            {\r\n                                acessibilidade.map((e, i) =>\r\n                                    <span className='smallFont' key={i}>\r\n                                        {i !== acessibilidade.length - 1 ? e + ', ' : e}\r\n                                    </span>\r\n                                )\r\n                            }\r\n                        </p>\r\n                    </section>\r\n                }\r\n                {(files || demandFiles) &&\r\n                    <div>\r\n                        <p style={{ margin: '0 0 13px 11px', fontWeight: '500', color: '#555' }}>\r\n                            <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} />\r\n                            {' Documentos'}\r\n                        </p>\r\n\r\n                        <ShowLocalFiles\r\n                            demand={demand}\r\n                            collection='vehicleDocs'\r\n                            demandFiles={demandFiles}\r\n                            form={filesForm}\r\n                            files={files}\r\n                        />\r\n                        {numeroDae &&\r\n                            <span className='smallFont addMargin'>\r\n                                Nº Documento Arrecadação Estadual: {numeroDae}\r\n                            </span>\r\n                        }\r\n                    </div>\r\n                }\r\n            </Paper >\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nexport default function Crumbs({ links, text, demand }) {\r\n    if (demand) {\r\n        links = ['Solicitações', '/solicitacoes']\r\n        text = `solicitação nº ${demand?.numero}`\r\n    }\r\n    \r\n    return (\r\n        <Grid style={{ marginTop: '1%' }}>\r\n            <Breadcrumbs separator=\"›\" aria-label=\"breadcrumb\" >\r\n                <Link\r\n                    to='/' style={{}}\r\n                >\r\n                    <HomeIcon style={{ verticalAlign: 'middle', marginRight: '5px', paddingBottom: '3px' }} />\r\n                    <span style={{ fontSize: '0.8rem', }}>\r\n                        Página inicial\r\n                    </span>\r\n\r\n                </Link>\r\n                <Link color=\"primary\" to={links[1]} style={{ fontSize: '0.8rem' }}>\r\n                    {links[0]}\r\n                </Link>\r\n                <span style={{ fontSize: '0.8rem' }} >{text}</span>\r\n            </Breadcrumbs>\r\n        </Grid>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    button: {\r\n        margin: theme.spacing(1),\r\n        float: 'right'\r\n    },\r\n    backButton: {\r\n        margin: theme.spacing(1),\r\n        float: 'left',\r\n        color: '#333',\r\n        backgroundColor: '#eee'\r\n    },\r\n    textField: {\r\n        marginTop: '20px',\r\n        width: '100%'\r\n    }\r\n}))\r\n\r\nexport default function StepperButtons({ activeStep, setActiveStep, lastStep, handleSubmit, disabled, demand, uniqueStep, declineButtonLabel,\r\n    setShowPendencias, showPendencias, handleInput, info, obs, addObs, buttonLabel }) {\r\n\r\n    const classes = useStyles(), { backButton, button, textField } = classes\r\n\r\n    let role\r\n    if (demand?.status.match('Pendências')) role = 'empresa'\r\n    if (demand?.status.match('Aguardando')) role = 'seinfra'\r\n\r\n    useEffect(() => {\r\n        function nextShortcut(e) {\r\n            if (e.keyCode === 37 && e.ctrlKey && activeStep !== 0)\r\n                setActiveStep('back')\r\n            if (e.keyCode === 39 && e.ctrlKey && activeStep !== lastStep)\r\n                setActiveStep('next')\r\n            if (e.keyCode === 13 && e.ctrlKey)\r\n                handleSubmit()\r\n        }\r\n        document.addEventListener('keydown', nextShortcut)\r\n        return () => document.removeEventListener('keydown', nextShortcut)\r\n    })\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            {activeStep < lastStep ?\r\n                <>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        className={backButton}\r\n                        title={activeStep !== 0 ? 'Ctrl + ←' : null}\r\n                        onClick={() => setActiveStep('back')}\r\n                        disabled={activeStep === 0}\r\n                    >\r\n                        Voltar\r\n                    </Button>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        title={!disabled ? 'Ctrl + →' : null}\r\n                        className={button}\r\n                        onClick={() => setActiveStep('next')}\r\n                        disabled={disabled}\r\n                    >\r\n                        Avançar\r\n                    </Button>\r\n                </>\r\n                :\r\n                <div style={{ display: 'flex', flexDirection: 'column', width: '100%' }}>\r\n                    {role === 'seinfra' && !showPendencias && !addObs\r\n                        ?\r\n                        null\r\n                        :\r\n                        <TextField\r\n                            name={addObs ? 'obs' : 'info'}  //Se estiver na solicitação, info>>demand, se na aprovação, veiculo>>obs\r\n                            className={textField}\r\n                            value={addObs ? obs : info}\r\n                            label={\r\n                                !demand || role === 'empresa' ? 'Observações/informações complementares'\r\n                                    :\r\n                                    demand && uniqueStep ? 'Motivos para o indeferimento'\r\n                                        :\r\n                                        showPendencias ? 'Pendências/irregularidades para a aprovação'\r\n                                            :\r\n                                            'Observações'\r\n                            }\r\n                            type='text'\r\n                            onChange={handleInput}\r\n                            InputLabelProps={{ shrink: true, style: { fontWeight: 600, marginBottom: '5%' } }}\r\n                            inputProps={{ style: { paddingBottom: '2%' }, maxLength: 600 }}\r\n                            multiline\r\n                            rows={3}\r\n                            variant='outlined'\r\n                        />\r\n                    }\r\n                    <div style={{ display: 'flex', width: '100%' }}>\r\n                        {activeStep === lastStep && !uniqueStep &&\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={backButton}\r\n                                title={activeStep !== 0 ? 'Ctrl + ←' : null}\r\n                                onClick={() => setActiveStep('back')}\r\n                                disabled={activeStep === 0}\r\n                            >\r\n                                Voltar\r\n                            </Button>}\r\n                        <div style={{ display: 'flex', justifyContent: 'flex-end', width: '100%' }}>\r\n                            {\r\n                                !demand || role === 'empresa' ?\r\n                                    <Button\r\n                                        variant='contained'\r\n                                        color=\"primary\"\r\n                                        className={button}\r\n                                        onClick={() => handleSubmit()}\r\n                                    >\r\n                                        {buttonLabel || 'Enviar solicitação'}\r\n                                    </Button>\r\n                                    :\r\n                                    <>\r\n                                        <Button\r\n                                            variant='outlined'\r\n                                            color=\"secondary\"\r\n                                            className={button}\r\n                                            onClick={() => setShowPendencias()}\r\n                                        >\r\n                                            {showPendencias ? 'Cancelar' : declineButtonLabel || 'Registrar pendencias'}\r\n                                        </Button>\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            color={showPendencias ? \"secondary\" : \"primary\"}\r\n                                            className={button}\r\n                                            onClick={() => showPendencias ? handleSubmit(false) : handleSubmit(true)}\r\n                                        >\r\n                                            {showPendencias ? 'Indeferir' : 'Aprovar'}\r\n                                        </Button>\r\n                                    </>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nexport default function CustomStepper({ activeStep, steps }) {\r\n    return (\r\n        <div className='paper' style={{ padding: '15px', margin: '10px 0' }} >\r\n            <Stepper activeStep={activeStep}>\r\n                {steps.map((label, index) => {\r\n                    const stepProps = {};\r\n                    const labelProps = {};\r\n                    return (\r\n                        <Step key={label}\r\n                            {...stepProps}\r\n                        >\r\n                            <StepLabel {...labelProps}>\r\n                                {label}\r\n                            </StepLabel>\r\n                        </Step>\r\n                    )\r\n                })}\r\n            </Stepper>\r\n        </div>\r\n    )\r\n}","export const formatDate = (date, min) => {\r\n\r\n    const minutes = () => {\r\n        if (new Date(date).getMinutes() < 10) {\r\n            return '0' + new Date(date).getMinutes()\r\n        } else {\r\n            return new Date(date).getMinutes()\r\n        }\r\n    }\r\n\r\n    if (/\\d/.test(date)) {\r\n        let data = new Date(date).getDate() + '/' + (new Date(date).getMonth() + 1) + '/' + new Date(date).getFullYear()// + ', ' + new Date(date).getHours() + ':' + minutes() + 'h'\r\n        if (min) data += ', ' + new Date(date).getHours() + ':' + minutes() + 'h'\r\n        return data.toString()\r\n    } else {\r\n        return date\r\n    }\r\n}\r\n\r\nexport const formatMoney = (value = '') => {\r\n    let v = value.replace(/\\D/g, '');\r\n    v = (v / 100).toFixed(2) + '';\r\n    v = v.replace(\".\", \",\");\r\n    v = v.replace(/(\\d)(\\d{3})(\\d{3}),/g, \"$1.$2.$3,\");\r\n    v = v.replace(/(\\d)(\\d{3}),/g, \"$1.$2,\");\r\n    return v\r\n}\r\n\r\n\r\nexport const formatCpf = (input) => {\r\n    if (!input) return\r\n    else {\r\n        input = input\r\n            .replace(/\\D/g, '') // substitui qualquer caracter que nao seja numero por nada\r\n            .replace(/(\\d{3})(\\d)/, '$1.$2') // captura 2 grupos de numero o primeiro de 3 e o segundo de 1, apos capturar o primeiro grupo ele adiciona um ponto antes do segundo grupo de numero\r\n            .replace(/(\\d{3})(\\d)/, '$1.$2')\r\n            .replace(/(\\d{3})(\\d{1,2})/, '$1-$2')\r\n            .replace(/(-\\d{2})\\d+?$/, '$1') // captura 2 numeros seguidos de um traço e não deixa ser digitado mais nada\r\n    }\r\n    return input\r\n}\r\n\r\n/* export const formatCnpj = (input) => {\r\n    if (!input) return\r\n    return input.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})/g, \"$1.$2.$3/$4-$5\");\r\n} */\r\n\r\nexport function formatCnpj(input) {\r\n\r\n    const tecla = k => k.keyCode;\r\n    document.addEventListener('keypress', tecla)\r\n\r\n    let\r\n        tam,\r\n        vr = input.toString()\r\n\r\n    vr = vr.replace(\".\", \"\");\r\n    vr = vr.replace(\"/\", \"\");\r\n    vr = vr.replace(\"-\", \"\");\r\n    tam = vr.length + 1;\r\n    if (tecla !== 14) {\r\n        if (tam === 3)\r\n            input = vr.substr(0, 2) + '.';\r\n        if (tam === 6)\r\n            input = vr.substr(0, 2) + '.' + vr.substr(2, 5) + '.';\r\n        if (tam === 10)\r\n            input = vr.substr(0, 2) + '.' + vr.substr(2, 3) + '.' + vr.substr(6, 3) + '/';\r\n        if (tam === 15)\r\n            input = vr.substr(0, 2) + '.' + vr.substr(2, 3) + '.' + vr.substr(6, 3) + '/' + vr.substr(9, 4) + '-' + vr.substr(13, 2);\r\n    }\r\n    return input\r\n}\r\n\r\nexport function clearFormat(input) {\r\n    if (!input) return\r\n    else return input.replace(/(\\.|\\/|-)/g, \"\");\r\n}\r\n\r\nexport function formatPhone(phone) {\r\n    if (!phone) return\r\n\r\n    phone = phone\r\n        .replace(/(?!\\d)./g, '')\r\n        .replace(/(\\d{2})/, '($1) ')\r\n    if (phone.length === 13) phone = phone.replace(/(\\d{4})(\\d)/, '$1-$2')\r\n    if (phone.length === 14) phone = phone.replace(/(\\d{5})(\\d)/, '$1-$2')\r\n\r\n    return phone\r\n}\r\n\r\nexport function formatShare(number) {\r\n    if (!number) return\r\n\r\n    /* if ((number.length === 4 && number.charAt(3) === '0')) {\r\n        console.log(typeof number, number)\r\n        return number\r\n    } else if (number.length === 5 && number.charAt(4) === '0') {\r\n        console.log(typeof number, number, 'ha')\r\n        return number\r\n    }\r\n */\r\n\r\n    /*   if (number.length > 1 && number.search(',') !== -1)\r\n          return number\r\n      if (number.length >= 5) {\r\n          number = Number(number)\r\n          number = +(number.toPrecision(4))\r\n      } */\r\n    if (number.length >= 5)\r\n        number = number.slice(0, 5)\r\n    return number\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog({ open, alertType, close, confirm, customTitle, customMessage, tab }) {\r\n\r\n  const createAlert = type => {\r\n    let title, message, subject = ''\r\n    const subjectOptions = ['a empresa', 'o sócio', 'a procuração', 'o veículo', 'o seguro']\r\n\r\n    if (tab || tab === 0) subject = subjectOptions[tab]\r\n\r\n    if (customTitle && customMessage) {\r\n      title = customTitle\r\n      message = customMessage\r\n      return { title, message }\r\n    }\r\n\r\n    switch (type) {\r\n      case 'plateNotFound':\r\n        title = 'Placa não encontrada'\r\n        message = 'A placa informada não corresponde a nenhum veículo da frota da viação selecionada. Para cadastrar um novo veículo, selecione a opção Veículos => \"Cadastro de Veículo\" no menu acima.'\r\n        return { title, message }\r\n      case 'invalidPlate':\r\n        title = 'Placa inválida'\r\n        message = 'Certifique-se de que a placa informada é uma placa válida, com três letras seguidas de 4 números (ex: AAA-0000)'\r\n        return { title, message }\r\n      case 'plateExists':\r\n        title = 'Placa já cadastrada!'\r\n        message = 'A placa informada já está cadastrada. Para atualizar seguro, alterar dados ou solicitar baixa, utilize as opções acima. '\r\n        return { title, message }\r\n      case 'invalidModel':\r\n        title = 'Modelo não cadastrado.'\r\n        message = customMessage\r\n        return { title, message }\r\n      case 'inputError':\r\n        title = 'Preenchimento inválido.'\r\n        message = customMessage\r\n        return { title, message }\r\n      case 'fieldsMissing':\r\n        title = 'Favor preencher todos os campos.'\r\n        message = 'Os campos acima são de preenchimento obrigatório. Certifique-se de ter preenchido todos eles.'\r\n        return { title, message }\r\n      case 'invalidInsurance':\r\n        title = 'Favor verificar os dados do seguro.'\r\n        message = 'As informações referentes ao seguro do veículo são obrigatórias. Certifique-se de ter informado todas elas.'\r\n        return { title, message }\r\n      case 'filesNotFound':\r\n        title = 'Arquivos não encontrados'\r\n        message = `Não há nenhum documento aprovado no sistema para ${subject} selecionad${subject.charAt(0)}.\r\n          Caso haja uma solicitação em aberto para ${subject}, acesse a opção \"Solicitações\" no menu superior para ter acesso aos arquivos.`\r\n        return { title, message }\r\n\r\n      case 'empresaNotFound':\r\n        title = 'Empresa não encontrada.'\r\n        message = `A empresa informada não está registrada no sistema. Para cadastrar uma nova empresa, utilize a opção Empresas -> Cadastrar.`\r\n        return { title, message }\r\n      case 'seguradoraNotFound':\r\n        title = 'Seguradora não encontrada.'\r\n        message = `A seguradora informada não está registrada no sistema. Favor verificar o nome da seguradora.`\r\n        return { title, message }\r\n\r\n      case 'alreadyExists':\r\n        title = 'CPF já cadastrado.'\r\n        message = `O CPF informado corresponde a um sócio já cadastrado. \r\n          Para remover ou editar as informações dos sócios, utilize a respectiva opção abaixo.`\r\n        return { title, message }\r\n      case 'numberNotValid':\r\n        title = 'Número inválido.'\r\n        message = 'O número digitado não é válido.'\r\n        return { title, message }\r\n      case 'overShared':\r\n        title = 'Participação societária inválida.'\r\n        message = 'A participação societária informada excede a 100%.'\r\n        return { title, message }\r\n      case 'subShared':\r\n        title = 'Participação societária inválida.'\r\n        message = 'A participação societária informada não soma 100%. Favor informar todos os sócios com suas respectivas participações.'\r\n        return { title, message }\r\n      case 'veiculoPendente':\r\n        title = 'Pendências encontradas para este veículo.'\r\n        message = 'Verifique se há alguma aprovação pendente quanto ao cadastro, seguro, transferência ou alteração de dados do veículo.'\r\n        return { title, message }\r\n      case 'seguroVencido':\r\n        title = 'Pendências encontradas para o seguro deste veículo.'\r\n        message = 'Para regularizar o seguro deste veículo, acesse a opção Veículos=>Seguros no menu acima.'\r\n        return { title, message }\r\n      case 'contratoVencido':\r\n        title = 'Contrato expirado.'\r\n        message = 'O contrato de concessão com o delegatário selecionado está expirado.'\r\n        return { title, message }\r\n      default:\r\n        return { title: null, message: null }\r\n    }\r\n  }\r\n  const { title, message } = createAlert(alertType)\r\n\r\n  if (title && message) return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={close}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {message}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={close} color=\"primary\">\r\n            {confirm ? 'Cancelar' : 'Fechar'}\r\n          </Button>\r\n          {confirm && <Button onClick={close} color=\"primary\" autoFocus>\r\n            Confirmar\r\n          </Button>}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n  else return null\r\n}","import humps from 'humps'\r\nconst validaDistanciaMinima = (utilizacao, dist, distancias) => {\r\n\r\n    utilizacao = humps.camelize(utilizacao)\r\n    if (utilizacao === 'leitoEExecutivo')\r\n        utilizacao = 'leitoExecutivo'\r\n    let validDistance, d\r\n\r\n    if (distancias[utilizacao] && dist && dist !== '') {\r\n        dist = Number(dist)\r\n        d = distancias[utilizacao]\r\n\r\n        if (d <= dist)\r\n            validDistance = true\r\n        else\r\n            validDistance = false\r\n    }\r\n    if (validDistance)\r\n        return false\r\n    else if (d)\r\n        return `A distância mínima para a utilização \"${utilizacao}\" é de ${d} centímetros. Altere a distância ou clique em \"voltar\" para alterar a utilização.`\r\n}\r\n\r\nexport default validaDistanciaMinima","export const dischargedForm = [\r\n    { field: \"veiculoId\", label: \"Número\" },\r\n    { field: \"placa\", label: \"Placa\" },\r\n    { field: \"renavam\", label: \"RENAVAM\" },\r\n    { field: \"utilizacao\", label: \"Utilização\" },\r\n    { field: \"codigoEmpresa\", label: \"Código\" },\r\n    { field: \"empresa\", label: \"Delegatário\" },\r\n    { field: \"dataRegistro\", label: \"Data de Registro\" },\r\n    { field: \"situacao\", label: \"Situação\" },\r\n    { field: \"motivoBaixa\", label: \"Motivo da Baixa\" },\r\n    { field: \"dataBaixa\", label: \"Data baixa\" },\r\n    { field: \"nChassi\", label: \"Número chassi\" },\r\n    { field: \"marcaChassi\", label: \"Marca chassi\" },\r\n    { field: \"modeloChassi\", label: \"Modelo chassi\" },\r\n    { field: \"anoChassi\", label: \"Ano chassi\" },\r\n    { field: \"valorChassi\", label: \"Valor Chassi\" },\r\n    { field: \"marcaCarroceria\", label: \"Marca carroceria\" },\r\n    { field: \"modeloCarroceria\", label: \"Modelo carroceria\" },\r\n    { field: \"anoCarroceria\", label: \"Ano carroceria\" },\r\n    { field: \"indicadorIdade\", label: \"Indicador de Idade\" },\r\n    { field: \"valorCarroceria\", label: \"Valor carroceria\" },\r\n    { field: \"dominio\", label: \"Leasing\" },\r\n    { field: \"delegatarioCompartilhado\", label: \"Empresas autorizadas a compartilhar\" },\r\n    { field: \"cores\", label: \"Cores\" },\r\n    { field: \"seguradora\", label: \"Seguradora\" },\r\n    { field: \"apolice\", label: \"Apólice\" },\r\n    { field: \"dataEmissao\", label: \"Data Inicio\" },\r\n    { field: \"vencimento\", label: \"Data Fim\", },\r\n    { field: \"empresaLaudo\", label: \"Empresa Laudo\", },\r\n    { field: \"numeroLaudo\", label: \"Número Laudo\", },\r\n    { field: \"validade\", label: \"Validade Laudo\", },\r\n    { field: \"cilindros\", label: \"Cilindros\" },\r\n    { field: \"potencia\", label: \"Potência\" },\r\n    { field: \"eixos\", label: \"Eixos\" },\r\n    { field: 'pneumaticosDianteiros', label: 'Pneumáticos Dianteiros', },\r\n    { field: 'pneumaticosTraseiros', label: 'Pneumáticos Traseiros', },\r\n    { field: \"pesoDianteiro\", label: \"Peso Dianteiro\" },\r\n    { field: \"pesoTraseiro\", label: \"Peso Traseiro\" },\r\n    { field: \"pbt\", label: \"PBT\" },\r\n    { field: \"poltronas\", label: \"Poltronas\" },\r\n    { field: \"piquesPoltrona\", label: \"Piques Poltrona\" },\r\n    { field: \"distanciaMinima\", label: \"Distância Mínima\" },\r\n    { field: \"distanciaMaxima\", label: \"Distância Máxima\" },\r\n    { field: \"equipamentos\", label: \"Equipamentos\" },\r\n    { field: \"acessibilidade\", label: \"Acessibilidade\" },\r\n    { field: \"sipro\", label: \"SIPRO\" },\r\n    { field: \"obs\", label: \"Observação\" }\r\n]\r\n\r\nexport const allBaixadoFields = [\r\n    \"Número\", \"Placa\", \"RENAVAM\", \"Data de Registro\", \"Utilização\", \"Código\", \"Delegatário\", \"Leasing\", \"Seguradora\", \"Apólice\", \"Data Inicio\", \"Data Fim\",\r\n    \"Empresa Laudo\", \"Número Laudo\", \"Validade Laudo\", \"Empresas autorizadas a compartilhar\", \"Poltronas\", \"Eixos\", \"PBT\", \"Marca chassi\", \"Modelo chassi\",\r\n    \"Ano chassi\", \"Número chassi\", \"Valor Chassi\", \"Situação\", \"Data baixa\", \"SIPRO\", \"Cilindros\", \"Potência\", \"Marca carroceria\", \"Modelo carroceria\",\r\n    \"Ano carroceria\", \"Valor carroceria\", \"Piques Poltrona\", \"Peso Dianteiro\", \"Peso Traseiro\", \"Cores\", \"Equipamentos\", \"Observação\", \"Indicador de Idade\",\r\n    \"Distância Mínima\", \"Distância Máxima\", \"__v\", \"id\"\r\n]\r\n","//Calcula o CMT legal após o blur do modeloChassi e salva no estado local\r\nexport const getCMT = component => {\r\n    const\r\n        { modelosChassi } = component.props.redux,\r\n        { modeloChassi } = component.state\r\n\r\n    if (!modeloChassi)\r\n        return\r\n\r\n    const cmt = modelosChassi.find(c => c.modeloChassi === modeloChassi)?.cmt\r\n    console.log(\"🚀 ~ file: CadVeiculo.jsx ~ line 190 ~ VeiculosContainer ~ cmt\", cmt)\r\n    component.setState({ cmt })\r\n}\r\n\r\n//Passa this como argumento para a função verificar se o pbt ultrapassou o cmt legal\r\nconst checkWeight = (component, name) => {\r\n\r\n    let { poltronas, pesoDianteiro, pesoTraseiro, cmt, modeloChassi } = component.state\r\n\r\n    poltronas = poltronas || 0\r\n    pesoDianteiro = pesoDianteiro || 0\r\n    pesoTraseiro = pesoTraseiro || 0\r\n\r\n    //Converte string p número para corrigir ponto e vírgula como casa decimal.\r\n    const\r\n        pd = pesoDianteiro && parseFloat(pesoDianteiro.replace(',', '.')).toFixed(3),\r\n        pt = pesoTraseiro && parseFloat(pesoTraseiro.replace(',', '.')).toFixed(3)\r\n\r\n    let pbt = +poltronas * 0.08 + (+pd + (+pt))\r\n\r\n    if (isNaN(pbt))\r\n        pbt = undefined\r\n    else\r\n        pbt = pbt.toFixed(3)\r\n\r\n    if (!pbt || !cmt)\r\n        return\r\n    //Avalia se o PBT é maior que o CMT\r\n    if (+cmt >= pbt) {\r\n        //console.log('Cmt, pbt ok.', cmt, pbt)\r\n        pbt = Number(stringBR(pbt).replace(',', '.'))\r\n        component.setState({ pbt })\r\n    }\r\n    else {\r\n        //Se o PBT for maior que o CMT, zera os campos de peso e poltronas e abre alerta (modal) para o usuário.\r\n        const\r\n            pbtString = stringBR(pbt),\r\n            cmtString = cmt && cmt.toString().replace('.', ','),\r\n            customTitle = 'Peso total bruto superior ao permitido (CMT) para o modelo de chassi informado.',\r\n            customMessage = `O número de poltronas e os pesos dianteiro e traseiro informados formam um peso bruto total de ${pbtString}t, superior à \r\n                Carga Máxima de tração permitida: modelo ${modeloChassi} -> ${cmtString}t.`\r\n        component.setState({ openAlertDialog: true, customTitle, customMessage, [name]: 0 })\r\n\r\n    }\r\n}\r\n\r\n//Recebe um float de 3 casas, transforma o número em string, troca \".\" por \",\" , retira os zeros depois da vírgula\r\nexport const stringBR = num => {\r\n    if (!num)\r\n        return\r\n    num = num.toString()\r\n        .replace('.', ',')\r\n        .replace(',000', '')\r\n    if (num.slice(-1) === '0' && (num.charAt(1) === ',' || num.charAt(2) === ','))\r\n        num = num.slice(0, num.length - 1)\r\n    if (num.slice(-1) === '0' && (num.charAt(1) === ',' || num.charAt(2) === ','))\r\n        num = num.slice(0, num.length - 1)\r\n\r\n    console.log(num)\r\n    return num\r\n}\r\n\r\nexport default checkWeight","import React, { PureComponent, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { setDemand } from '../Utils/setDemand'\r\nimport { handleFiles, removeFile } from '../Utils/handleFiles'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\n\r\nimport CadVeiculoTemplate from './CadVeiculoTemplate'\r\nimport VehicleDocs from './VehicleDocs'\r\nimport Review from './VehicleReview'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\nimport CustomStepper from '../Reusable Components/Stepper'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\n\r\nimport { formatMoney } from '../Utils/formatValues'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { cadVehicleForm } from '../Forms/cadVehicleForm'\r\n\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport validateDist from '../Utils/validaDistanciaMinima'\r\nimport { dischargedForm } from '../Forms/dischargedForm'\r\nimport checkWeight, { getCMT } from './checkWeight'\r\n\r\nclass VeiculosContainer extends PureComponent {\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27 && this.state.addEquipa)\r\n                this.closeEquipa()\r\n        }\r\n    }\r\n\r\n    state = {\r\n        activeStep: 0,\r\n        steps: ['Dados do Veículo', 'Vistoria e laudos', 'Documentos', 'Revisão'],\r\n        subtitle: ['Informe os dados do veículo.', 'Preencha os campos abaixo conforme a vistoria realizada'],\r\n        razaoSocial: '',\r\n        frota: [],\r\n        delegatarioCompartilhado: '',\r\n        toastMsg: 'Veículo cadastrado!',\r\n        confirmToast: false,\r\n        addEquipa: false,\r\n        openAlertDialog: false,\r\n        dropDisplay: 'Clique ou arraste para anexar'\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n        const\r\n            { redux } = this.props,\r\n            { equipamentos, acessibilidade, empresas, veiculos } = redux,\r\n            demand = this.props?.location?.state?.demand\r\n\r\n        if (empresas && empresas.length === 1)\r\n            this.setState({ selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos })\r\n\r\n        if (demand) {\r\n            let\r\n                reactivated = false\r\n                , existingPendencias\r\n            const\r\n                demandState = setDemand(demand, redux),\r\n                numeroDae = demand?.history && demand.history.reverse().find(e => e.hasOwnProperty('numeroDae'))?.numeroDae\r\n\r\n            console.log(\"🚀 ~ file: CadVeiculo.jsx ~ line 75 ~ VeiculosContainer ~ componentDidMount ~ demandState\", demandState)\r\n            //Adiciona existência de situações específicas no state: pendências ou reativação.\r\n            if (demand.status.match('Pendências')) {\r\n                existingPendencias = true\r\n                demandState.obs = undefined\r\n            }\r\n            if (demandState.situacao.match('Reativação'))\r\n                reactivated = true\r\n\r\n            this.setState({ ...demandState, numeroDae, activeStep: 3, reactivated, existingPendencias })\r\n        }\r\n\r\n        //*********Create state[equipamento] for each equipamentos/acessibilidade and turn them to false before a vehicle is selected *********/\r\n        //Se tiver demanda, os equipamentos e acessibilidade são definidos no dataActions para incorporar no estado global\r\n        let\r\n            allEqs = {},\r\n            allAcs = {}\r\n\r\n        equipamentos.forEach(e => Object.assign(allEqs, { [e?.item]: false }))\r\n        acessibilidade.forEach(e => Object.assign(allAcs, { [e?.item]: false }))\r\n\r\n        await this.setState({ ...allEqs, ...allAcs })\r\n        //await this.setState({ ...allEqs, ...allAcs, selectedEmpresa: redux.empresas[0], razaoSocial: 'what' })\r\n\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.setState({})\r\n        document.removeEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    setActiveStep = async action => {\r\n\r\n        if (this.state.activeStep === 0) {\r\n            const matchPlaca = this.state.frota.filter(v => v.placa === this.state.placa)[0]\r\n            if (matchPlaca) {\r\n                await this.setState({ placa: '' });\r\n                this.setState({ alertType: 'plateExists', openAlertDialog: true })\r\n                return null\r\n            }\r\n        }\r\n\r\n        //Validação de campos em branco ou inválidos\r\n        const { inputValidation } = this.props.redux.parametros[0] && this.props.redux.parametros[0]\r\n\r\n        if (action === 'next' && inputValidation) {\r\n            const\r\n                { checkBlankInputs, checkInputErrors } = this.props\r\n                , errors = checkInputErrors('sendState')\r\n                , blankFields = checkBlankInputs(cadVehicleForm[this.state.activeStep], this.state)\r\n\r\n            if (errors) {\r\n                this.setState({ ...this.state, ...errors })\r\n                return\r\n            }\r\n            if (blankFields) {\r\n                this.setState({ ...this.state, ...blankFields })\r\n                return\r\n            }\r\n        }\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { veiculos, empresas } = this.props.redux,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n\r\n                let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n                if (selectedEmpresa) {\r\n                    const { razaoSocial, codigoEmpresa } = selectedEmpresa\r\n                    await this.setState({ selectedEmpresa, razaoSocial, codigoEmpresa })\r\n                    if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                    const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n\r\n                    this.setState({ frota })\r\n\r\n                } else this.setState({ selectedEmpresa: undefined, frota: [], placa: undefined })\r\n                break\r\n\r\n            case 'placa':\r\n                if (typeof value === 'string') {\r\n                    value = value.toLocaleUpperCase()\r\n                    await this.setState({ [name]: value })\r\n                }\r\n                break\r\n            case ('utilizacao'):\r\n                this.setState({ distanciaMinima: undefined, distanciaMaxima: undefined })\r\n                break\r\n            case ('valorChassi'):\r\n                this.setState({ [name]: formatMoney(value) })\r\n                break\r\n            case ('valorCarroceria'):\r\n                this.setState({ [name]: formatMoney(value) })\r\n                break\r\n            default: void 0\r\n        }\r\n    }\r\n\r\n    checkValid = async (name, value, collection, stateId, dbName, dbId, alertLabel) => {\r\n\r\n        const item = collection.find(el => el[dbName].toLowerCase() === value.toLowerCase())\r\n        if (!item && value && value !== '') {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            this.setState({\r\n                alertType: 'invalidModel', openAlertDialog: true,\r\n                customTitle: 'Modelo inválido.',\r\n                customMessage: `O modelo de ${alertLabel} não está cadastrado no sistema.`\r\n            })\r\n            document.getElementsByName(name)[0].focus()\r\n            return\r\n        }\r\n        if (value === '')\r\n            this.setState({ [name]: '', [stateId]: '' })\r\n        if (item) {\r\n            const\r\n                nombre = item[dbName],\r\n                id = item[dbId]\r\n            if (value !== '')\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n        }\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const\r\n            { empresas, modelosChassi, carrocerias, parametros } = this.props.redux,\r\n            { distanciaPoltronas, idadeBaixa } = parametros[0],\r\n            { idadeMaxCad, difIdade, idadeBaixaAut } = idadeBaixa,\r\n            { anoCarroceria, anoChassi, utilizacao, distanciaMinima, distanciaMaxima, situacao } = this.state,\r\n            { name } = e.target,\r\n            carr = Number(anoCarroceria),\r\n            chas = Number(anoChassi),\r\n            currentYear = new Date().getFullYear()\r\n\r\n        let\r\n            { value } = e.target,\r\n            customTitle,\r\n            customMessage,\r\n            maxYear = currentYear - idadeMaxCad\r\n\r\n        //Se o veículo for reativado, o ano de fabricação de referência para cadastro é o da baixa automática, não a idadeMaxCad\r\n        if (situacao && situacao.match('Reativação'))\r\n            maxYear = currentYear - idadeBaixaAut\r\n\r\n        switch (name) {\r\n            case 'modeloChassi':\r\n                await this.checkValid(name, value, modelosChassi, 'modeloChassiId', 'modeloChassi', 'id', 'chassi')\r\n                getCMT(this)\r\n                this.setState({ pesoDianteiro: undefined, pesoTraseiro: undefined })\r\n                break\r\n            case 'modeloCarroceria':\r\n                this.checkValid(name, value, carrocerias, 'modeloCarroceriaId', 'modelo', 'id', 'carroceria')\r\n                break\r\n            case 'delegatarioCompartilhado':\r\n                this.checkValid(name, value, empresas, 'compartilhadoId', 'razaoSocial', 'codigoEmpresa')\r\n                break\r\n            case 'anoChassi':\r\n                customTitle = 'Ano de chassi inválido.'\r\n                if (chas && chas < maxYear - 1)\r\n                    customMessage = `O ano de fabricação do chassi informado é anterior à idade máxima permitida para cadastro.`\r\n                if ((carr && chas && (carr < chas || carr > chas + difIdade)))\r\n                    customMessage = 'O ano de chassi é incompatível com o ano da carroceria informado.'\r\n\r\n                if (customMessage) {\r\n                    this.setState({ anoChassi: '', openAlertDialog: true, customTitle, customMessage })\r\n                }\r\n                break\r\n            case 'anoCarroceria':\r\n                customTitle = 'Ano de carroceria inválido.'\r\n                if (carr && carr < maxYear)\r\n                    customMessage = `O ano de fabricação do carroceria informado é anterior à idade máxima permitida.`\r\n                if ((carr && chas && (carr < chas || carr > chas + difIdade)))\r\n                    customMessage = 'O ano de fabricação carroceria é incompatível com o ano do chassi informado.'\r\n\r\n                if (customMessage) {\r\n                    this.setState({ anoCarroceria: '', openAlertDialog: true, customTitle, customMessage })\r\n                }\r\n                break\r\n            case 'distanciaMinima':\r\n                let errorMsg\r\n                if (utilizacao)\r\n                    errorMsg = validateDist(utilizacao, distanciaMinima, distanciaPoltronas)\r\n                if (distanciaMinima && +distanciaMinima > +distanciaMaxima)\r\n                    errorMsg = 'A Distância mínima não pode ser superior à distância máxima.'\r\n                if (errorMsg)\r\n                    this.setState({\r\n                        openAlertDialog: true,\r\n                        customTitle: 'Distância mínima inválida.',\r\n                        customMessage: errorMsg,\r\n                        distanciaMinima: ''\r\n                    })\r\n                break\r\n            case 'distanciaMaxima': {\r\n                let errorMsg\r\n                if (utilizacao)\r\n                    errorMsg = validateDist(utilizacao, distanciaMaxima, distanciaPoltronas)\r\n                if (distanciaMaxima && +distanciaMaxima < +distanciaMinima)\r\n                    errorMsg = 'A Distância máxima não pode ser inferior à distância mínima.'\r\n                if (errorMsg)\r\n                    this.setState({\r\n                        openAlertDialog: true,\r\n                        customTitle: 'Distância máxima inválida.',\r\n                        customMessage: errorMsg,\r\n                        distanciaMaxima: ''\r\n                    })\r\n                break\r\n            }\r\n            case ('pesoDianteiro'):\r\n                checkWeight(this, name)\r\n                break\r\n            case 'pesoTraseiro':\r\n                checkWeight(this, name)\r\n                break\r\n            case 'poltronas':\r\n                checkWeight(this, name)\r\n                break\r\n            default: void 0\r\n        }\r\n\r\n        if (name === 'placa' && typeof this.state.frota !== 'string') {\r\n\r\n            if (value.length === 7) {\r\n                const x = value.replace(/(\\w{3})/, '$1-')\r\n                await this.setState({ placa: x, reactivated: false })\r\n                value = x\r\n            }\r\n            if (value.length === 8) {\r\n                const x = value.replace(' ', '-')\r\n                await this.setState({ placa: x, reactivated: false })\r\n                value = x\r\n            }\r\n            this.checkPlateConflict(value)\r\n        }\r\n    }\r\n\r\n    checkPlateConflict = async value => {\r\n        const\r\n            checkExistence = await axios.get(`/api/alreadyExists?table=veiculos&column=placa&value=${value}`),\r\n            placaMatch = checkExistence?.data,\r\n            vehicle = placaMatch?.vehicleFound\r\n\r\n        let customTitle, customMessage\r\n\r\n        if (placaMatch && !this.state.demand) {\r\n            const { status } = placaMatch\r\n            if (status === 'existing') {\r\n                if (vehicle?.situacao.match(/Cadastro|Reativação/g)) {\r\n                    customTitle = 'Solicitação aberta.'\r\n                    customMessage = 'Já existe uma solicitação de cadastro ou reativação para a placa informada. Para acompanhar, acesse \\'Solicitações\\' e filtre pela placa do veículo. '\r\n                }\r\n                else {\r\n                    customTitle = 'Veículo já cadastrado.'\r\n                    customMessage = 'A placa informada corresponde a um veículo já cadastrado. Para alterar o cadastro, vá para Veículos -> \\'Alteração de dados\\'.'\r\n                }\r\n                this.setState({ customTitle, customMessage, openAlertDialog: true, placa: null, reactivated: false })\r\n                value = ''\r\n                return\r\n            }\r\n            else if (vehicle['Situação'] === 'Reativado') {\r\n                let reactivatedVehicle = {}\r\n                for (let k in vehicle) {\r\n                    dischargedForm.forEach(({ field, label }) => {\r\n                        if (k === label && ['renavam', 'nChassi', 'anoChassi', 'anoCarroceria'].includes(field))\r\n                            reactivatedVehicle[field] = vehicle[k]\r\n                    })\r\n                }\r\n                reactivatedVehicle.situacao = \"Reativação solicitada\"\r\n                await this.setState({ ...reactivatedVehicle, reactivated: true })\r\n                return\r\n            }\r\n\r\n            else if (status === 'discharged') {\r\n                customTitle = 'Veículo baixado.'\r\n                customMessage = 'A placa informada corresponde a um veículo baixado. Para reativar seu cadastro, vá para Veículos -> Baixa -> \\'Gerenciar Veículos Baixados\\'.'\r\n                this.setState({ customTitle, customMessage, openAlertDialog: true, placa: null, reactivated: false })\r\n                value = ''\r\n            }\r\n        }\r\n    }\r\n\r\n    handleEquipa = async type => {\r\n\r\n        const collection = this.props.redux[type]\r\n        let\r\n            vEquip = [],\r\n            currentEquipa = []\r\n\r\n        await this.setState({ type })\r\n\r\n        //Só precisa pegar a lista e marcar check na hora de abrir o dialog.\r\n        if (this.state.addEquipa === false) {\r\n            if (this.state[type])\r\n                currentEquipa = this.state[type]\r\n\r\n            collection.forEach(({ item }) => {\r\n                currentEquipa.forEach(eq => {\r\n                    if (eq.toLowerCase() === item.toLowerCase())\r\n                        vEquip.push(item)\r\n                })\r\n            })\r\n            vEquip.forEach(ve => this.setState({ [ve]: true }))\r\n        }\r\n        this.setState({ addEquipa: !this.state.addEquipa })\r\n    }\r\n\r\n    handleCheck = async item => {\r\n        const\r\n            { type } = this.state,\r\n            collection = this.props.redux[type]\r\n\r\n        if (!collection) return\r\n\r\n        let arrayOfEquips = [], ids = [], stateKey\r\n\r\n        if (type === 'equipamentos') stateKey = 'equipamentosId'\r\n        if (type === 'acessibilidade') stateKey = 'acessibilidadeId'\r\n\r\n        await this.setState({ ...this.state, [item]: !this.state[item] })\r\n\r\n        collection.forEach(({ id, item }) => {\r\n            if (this.state[item] === true) {\r\n                arrayOfEquips.push(item)\r\n                ids.push(id)\r\n            }\r\n        })\r\n\r\n        if (arrayOfEquips[0]) this.setState({ [type]: arrayOfEquips, [stateKey]: ids })\r\n        else if (type === 'equipamentos') this.setState({ equipamentos: [], [stateKey]: [] })\r\n        else if (type === 'acessibilidade') this.setState({ acessibilidade: [], [stateKey]: [] })\r\n    }\r\n\r\n    handleCadastro = async approved => {\r\n        const\r\n            { equipamentosId, acessibilidadeId, pbt, compartilhadoId, modeloChassiId, originalVehicle, getUpdatedValues,\r\n                modeloCarroceriaId, selectedEmpresa, showPendencias, obs, form, demand, demandFiles, reactivated } = this.state,\r\n            { codigoEmpresa } = selectedEmpresa,\r\n            existingVeiculoId = demand?.veiculoId,\r\n            oldHistoryLength = demand?.history?.length || 0\r\n\r\n        let\r\n            veiculoId,\r\n            situacao = 'Cadastro solicitado'\r\n\r\n        //**********Prepare the request Object************* */\r\n        let review = {}\r\n        cadVehicleForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                for (let k in this.state) {\r\n                    if (k === obj.field && this.state[k] !== '')\r\n                        Object.assign(review, { [k]: this.state[k] })\r\n                }\r\n            })\r\n        })\r\n\r\n        //Retira campos desnecessários para o cadastro (joins de outras tabelas)\r\n        let { delegatarioCompartilhado, modeloChassi, modeloCarroceria, apolice, numeroDae, ...vReview } = review\r\n\r\n        //Adiciona campos que não estão no formulário ao objeto do request\r\n        Object.assign(vReview, {\r\n            codigoEmpresa, situacao, pbt, modeloChassiId, modeloCarroceriaId, obs,\r\n            equipamentosId, acessibilidadeId, apolice: 'Seguro não cadastrado'\r\n        })\r\n\r\n        //Elimina chaves com empty string\r\n        for (let k in vReview) {\r\n            if (vReview[k] === '')\r\n                delete vReview[k]\r\n        }\r\n        console.log(vReview)\r\n        vReview.compartilhadoId = compartilhadoId && compartilhadoId\r\n        //Save only real changes to the request Object (method from setDemand())\r\n        if (demand && originalVehicle)\r\n            vReview = getUpdatedValues(originalVehicle, vReview)\r\n\r\n        const vehicle = humps.decamelizeKeys(vReview)\r\n        //console.log(vReview, '437')\r\n\r\n        //***************If it doesn't exist, post the new vehicle Object **************** */\r\n        if (!existingVeiculoId)\r\n            await axios.post('/api/veiculos', vehicle)\r\n                .then(res => {\r\n                    veiculoId = res.data\r\n                })\r\n                .catch(err => console.log(err))\r\n\r\n        //***************Else, if it exists, get existing Id and update status******************* */\r\n        else {\r\n            if (demand && approved && !showPendencias)\r\n                situacao = 'Seguro não cadastrado'\r\n            vehicle.veiculo_id = existingVeiculoId\r\n            vehicle.situacao = situacao\r\n\r\n            await axios.put('/api/veiculos', vehicle) //CodigoEmpresa para F5 sockets\r\n        }\r\n\r\n        //******************Inserir número da DAE na info da solicitação************** */\r\n        let { info } = this.state\r\n        if (typeof info === 'string' && numeroDae)\r\n            info += `\\n\\n Nº Documento Arrecadação Estadual: ${numeroDae}`\r\n\r\n        //*****************Generate log ************** */\r\n        const log = {\r\n            empresaId: selectedEmpresa?.codigoEmpresa,\r\n            veiculoId,\r\n            history: {\r\n                info,\r\n                numeroDae,\r\n                files: form,\r\n            },\r\n            metadata: { veiculoId },\r\n            demandFiles,\r\n            historyLength: oldHistoryLength,\r\n            approved\r\n        }\r\n\r\n        if (demand)\r\n            log.id = demand?.id\r\n        if (reactivated)\r\n            log.subject = 'Reativação de veículo'\r\n\r\n        logGenerator(log)\r\n            .then(r => console.log(r?.data))\r\n            .catch(err => console.log(err))\r\n\r\n        //*************Confirm send and clear State******************* */\r\n        if (!approved) {\r\n            let toastMsg = 'Solicitação de cadastro enviada.'\r\n            if (demand && demand.status.match('Aguardando'))\r\n                toastMsg = 'Pendências para o cadastro registradas.'\r\n            this.toast(toastMsg)\r\n        }\r\n        else\r\n            this.toast()\r\n\r\n        if (!demand)\r\n            this.resetState()\r\n        else\r\n            setTimeout(() => { this.props.history.push('/solicitacoes') }, 1500)\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n            await this.setState({ [name]: files[0] })\r\n\r\n            const newState = handleFiles(files, this.state, cadVehicleFiles)\r\n            this.setState({ ...newState, fileToRemove: null })\r\n        }\r\n    }\r\n\r\n    removeFile = async (name) => {\r\n        const\r\n            { form } = this.state,\r\n            newState = removeFile(name, form)\r\n\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n\r\n    resetState = () => {\r\n        const\r\n            { empresas, veiculos, equipamentos, acessibilidade } = this.props.redux,\r\n            equip = equipamentos.concat(acessibilidade),\r\n            resetEquips = { acessibilidade: [], acessibilidadeId: [], equipamentos: [], equipamentosId: [] }\r\n        let\r\n            resetFiles = {},\r\n            empresaDetails = {}\r\n\r\n        cadVehicleForm.forEach(form => form.forEach(el => this.setState({ [el.field]: '' })))\r\n        cadVehicleFiles.forEach(({ name }) => { Object.assign(resetFiles, { [name]: undefined }) })\r\n\r\n        //Limpa os check de todos os equipamento\r\n        equip.forEach(e => this.setState({ [e.item]: false }))\r\n\r\n        //Se o usuário só tiver uma empresa, manter os dados da empresa após resetState\r\n        if (empresas && empresas.length === 1)\r\n            empresaDetails = { selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos }\r\n\r\n        this.setState({ ...resetFiles, ...resetEquips, ...equip, form: undefined, info: undefined, activeStep: 0, ...empresaDetails, })\r\n    }\r\n\r\n    closeEquipa = () => this.setState({ addEquipa: false })\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    toggleDialog = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    removePartilha = () => this.setState({ compartilhado: undefined })\r\n    toast = toastMsg => this.setState({ confirmToast: !this.state.confirmToast, toastMsg: toastMsg ? toastMsg : this.state.toastMsg })\r\n\r\n    render() {\r\n        const\r\n            { confirmToast, toastMsg, activeStep, openAlertDialog, alertType, steps, selectedEmpresa, dropDisplay, form,\r\n                demand, placa, demandFiles, showPendencias, info, resetShared, customMessage, customTitle, obs, existingPendencias } = this.state,\r\n\r\n            { redux } = this.props\r\n\r\n        return <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Cadastro de veículo' demand={demand} selectedEmpresa={selectedEmpresa} />\r\n\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <CadVeiculoTemplate\r\n                data={this.state}\r\n                redux={redux}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                handleEquipa={this.handleEquipa}\r\n                handleCheck={this.handleCheck}\r\n                closeEquipa={this.closeEquipa}\r\n                match={this.props.match}\r\n                resetShared={resetShared}\r\n                removePartilha={this.removePartilha}\r\n            />\r\n            {activeStep === 2 && <VehicleDocs\r\n                parentComponent='cadastro'\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n                handleFiles={this.handleFiles}\r\n                demandFiles={demandFiles}\r\n                fileToRemove={this.state.fileToRemove}\r\n                removeFile={this.removeFile}\r\n            />}\r\n\r\n            {activeStep === 3 && <Review\r\n                parentComponent='cadastro'\r\n                data={this.state}\r\n                files={this.state.form}\r\n                filesForm={cadVehicleFiles}\r\n                form={cadVehicleForm}\r\n            />}\r\n\r\n            {selectedEmpresa && <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                setActiveStep={this.setActiveStep}\r\n                demand={demand}\r\n                setShowPendencias={this.setShowPendencias}\r\n                showPendencias={showPendencias}\r\n                info={info}\r\n                handleSubmit={this.handleCadastro}\r\n                handleInput={this.handleInput}\r\n                addObs={demand && !existingPendencias && !showPendencias}  //Se tiver na aprovação, o campo info vira obs para registrar obs do veículo.\r\n                obs={obs}\r\n                disabled={(typeof placa !== 'string' || placa === '')}\r\n            />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {openAlertDialog &&\r\n                <AlertDialog open={openAlertDialog} close={this.toggleDialog}\r\n                    alertType={alertType} customMessage={customMessage} customTitle={customTitle} />}\r\n        </Fragment>\r\n    }\r\n}\r\nconst collections = ['veiculos', 'empresas', 'compartilhados', 'modelosChassi', 'carrocerias', 'equipamentos', 'acessibilidade', 'getFiles/vehicleDocs', 'parametros']\r\n\r\nexport default StoreHOC(collections, VeiculosContainer)","import { logRoutesConfig } from '../Solicitacoes/logRoutesConfig'\r\n\r\nexport const checkDemand = (id, logsCollection) => {\r\n\r\n    const path = window.location.pathname\r\n\r\n    logRoutesConfig.forEach((el, i) => el.path = logRoutesConfig[i].path.replace('/veiculos', '').replace('/solicitacoes', '').replace('/empresas', ''))\r\n\r\n    const\r\n        component = logRoutesConfig.find(c => path.match(c?.path)),\r\n        subject = component?.subject,\r\n        primaryKey = component?.primaryKey,\r\n        // eslint-disable-next-line eqeqeq\r\n        exists = logsCollection.find(log => log.subject === subject && log[primaryKey] == id && log.completed === false)\r\n\r\n    if (exists)\r\n        return exists\r\n    else\r\n        return false\r\n}","import { altFormVistoria } from './altFormVistoria'\r\n\r\nexport const altForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    autoComplete: true,\r\n    collection: 'frota',\r\n},\r\n{\r\n    field: 'compartilhado',\r\n    label: 'Delegatário Compartilhado',\r\n    disabled: true,\r\n    notRequired: true\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilização',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Comercial', 'Comercial Executivo', 'Convencional', 'Convencional Executivo', 'Leito', 'Leito e Executivo', 'Semi-Leito', 'Semi-Leito Executivo']\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situação da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veículo próprio', 'Alienação Fiduciária', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Número do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17,\r\n    disabled: true\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    disabled: true\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    disabled: true\r\n},\r\n\r\n]]\r\n    .concat([altFormVistoria])\r\n    .concat([[]])\r\n    .concat([[]])","export const altFormVistoria = [\r\n    {\r\n        field: 'poltronas',\r\n        label: 'Poltronas',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 120\r\n    },\r\n    {\r\n        field: 'piquesPoltrona',\r\n        label: 'Piques poltrona',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'distanciaMinima',\r\n        label: 'Distância Mínima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    },\r\n    {\r\n        field: 'distanciaMaxima',\r\n        label: 'Distância Máxima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    },\r\n    {\r\n        field: 'eixos',\r\n        label: 'Eixos',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 8\r\n    },\r\n    {\r\n        field: 'pneumaticosDianteiro',\r\n        label: 'Pneumáticos Eixo Dianteiro',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'pneumaticosTraseiro',\r\n        label: 'Pneumáticos Eixo Traseiro',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 18\r\n    },\r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (t)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 15\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (t)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 18\r\n    },\r\n    {\r\n        field: 'cilindros',\r\n        label: 'Cilindros',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12,\r\n        step: 1,\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'potencia',\r\n        label: 'Potência (cv)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 600,\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'numeroDae',\r\n        label: 'Nº Documento Arrecadação Estadual',\r\n        maxLength: 40\r\n    }\r\n]","import React from 'react'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AddEquipa from './AddEquipa'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { altForm } from '../Forms/altForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    button: {\r\n        marginRight: '15px'\r\n    }\r\n}))\r\n\r\nexport default function ({ handleInput, handleBlur, data, handleCheck, handleEquipa, altPlacaOption, showAltPlaca, empresas, compartilhados, equipamentos, acessibilidade, close }) {\r\n\r\n    const\r\n        { activeStep, subtitle, placa, selectedEmpresa, addEquipa, demand, type } = data,\r\n        classes = useStyles(), { button } = classes,\r\n        form = altForm[activeStep]\r\n\r\n    let eqCollection = equipamentos\r\n    if (type === 'acessibilidade') eqCollection = acessibilidade\r\n\r\n    return (\r\n        <div className='flex center'>\r\n            <header className='flex center' style={{ marginBottom: '10px', width: '100%' }}>\r\n                <SelectEmpresa\r\n                    data={data}\r\n                    empresas={empresas}\r\n                    compartilhados={compartilhados}\r\n                    headerTitle={selectedEmpresa && `Alteração de dados ${placa || ''} - ${selectedEmpresa?.razaoSocial}`}\r\n                    handleInput={handleInput}\r\n                    handleBlur={handleBlur}\r\n                />\r\n            </header>\r\n            {\r\n                selectedEmpresa &&\r\n                <main>\r\n                    {activeStep < 2 &&\r\n                        <section className='paper'>\r\n                            <FormSubtiltle subtitle={subtitle[activeStep]} />\r\n                            <TextInput\r\n                                form={form}\r\n                                data={data}\r\n                                empresas={empresas}\r\n                                compartilhados={compartilhados}\r\n                                handleBlur={handleBlur}\r\n                                handleInput={handleInput}\r\n                                disableSome={demand ? ['placa', 'delegatario'] : ['delegatario']}\r\n                            />\r\n                        </section>}\r\n\r\n                    {activeStep === 0 &&\r\n                        <section className=\"flex center\">\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                color=\"primary\"\r\n                                className={button}\r\n                                onClick={() => handleEquipa('equipamentos')}\r\n                            >\r\n                                <AddIcon />\r\n                                Equipamentos\r\n                            </Button>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                color=\"primary\"\r\n                                className={button}\r\n                                onClick={() => handleEquipa('acessibilidade')}\r\n                            >\r\n                                <AddIcon />\r\n                                Acessibilidade\r\n                            </Button>\r\n                        </section>}\r\n\r\n                    {altPlacaOption && placa.match('[a-zA-Z]{3}[-]?\\\\d{4}') &&\r\n                        <div className='addNewDiv'>\r\n                            <span onClick={() => showAltPlaca()}> → Clique aqui para alterar a placa para o formato Mercosul.</span>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        addEquipa && <AddEquipa\r\n                            type={type}\r\n                            equipamentos={eqCollection}\r\n                            close={close}\r\n                            handleCheck={handleCheck}\r\n                            data={data} />\r\n                    }\r\n                </main>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport DragAndDrop from './DragAndDrop'\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog({ open, close, title, header, inputNames, inputLabels, fileInputName, confirm, handleInput, handleFiles,\r\n  values, formData, dropDisplay, type = 'text' }) {\r\n\r\n  let disabled = true\r\n  const errorHandler = (inputName, value) => {\r\n    if (inputName === 'newPlate') {\r\n      if (value.length < 9 && value.match('[a-zA-Z]{3}?[-]\\\\d{1}\\\\w{1}\\\\d{2}')) {\r\n        disabled = false\r\n        return false\r\n      }\r\n      else {\r\n        disabled = true\r\n        return true\r\n      }\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <Dialog open={open} onClose={close} aria-labelledby=\"form-dialog-title\">\r\n      <DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          {header}\r\n        </DialogContentText>\r\n        <br />\r\n        {\r\n          inputNames.map((inputName, i) => (\r\n            <TextField\r\n              key={i}\r\n              autoFocus={inputName === 'newPlate' && true}\r\n              name={inputName}\r\n              label={inputLabels[i]}\r\n              onChange={handleInput}\r\n              values={values[i]}\r\n              type={type}\r\n              error={errorHandler(inputName, values[i])}\r\n              fullWidth\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n          ))}\r\n        <br /><br />\r\n        <DragAndDrop\r\n          title='Anexar arquivo'\r\n          name={fileInputName}\r\n          formData={formData}\r\n          dropDisplay={dropDisplay}\r\n          handleFiles={handleFiles}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={close} color=\"primary\">\r\n          Cancelar\r\n              </Button>\r\n        <Button onClick={confirm} color=\"primary\" disabled={disabled}>\r\n          Confirmar\r\n              </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkDemand } from '../Utils/checkDemand'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport { altDadosFiles } from '../Forms/altDadosFiles'\r\nimport { altForm } from '../Forms/altForm'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { setDemand } from '../Utils/setDemand'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport CustomStepper from '../Reusable Components/Stepper'\r\n\r\nimport AltDadosTemplate from './AltDadosTemplate'\r\nimport VehicleDocs from './VehicleDocs'\r\nimport Review from './VehicleReview'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\n\r\nimport FormDialog from '../Reusable Components/FormDialog'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport { handleFiles, removeFile } from '../Utils/handleFiles'\r\nimport validateDist from '../Utils/validaDistanciaMinima'\r\nimport checkWeight from './checkWeight'\r\n\r\n\r\nclass AltDados extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.closeEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        stepTitles: ['Informe a placa para alterar os dados abaixo ou mantenha as informações atuais e clique em avançar',\r\n            'Altere os dados desejados abaixo e clique em avançar', 'Anexe os documentos solicitados',\r\n            'Revisão das informações e deferimento'],\r\n        steps: ['Alterar dados do Veículo', 'Alterar dados adicionais', 'Documentos', 'Revisão'],\r\n\r\n        subtitle: ['Informe os dados do veículo.', 'Informações adicionais',\r\n            'Anexe os arquivos solicitados', 'Revisão'],\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        compartilhadoId: '',\r\n        frota: [],\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        activeStep: 0,\r\n        files: [],\r\n        openAlertDialog: false,\r\n        altPlaca: false,\r\n        newPlate: '',\r\n        placa: '',\r\n        addEquipa: false,\r\n        dropDisplay: 'Clique ou arraste para anexar',\r\n        showPendencias: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const\r\n            { redux } = this.props,\r\n            { equipamentos, acessibilidade, empresas, veiculos } = redux,\r\n            demand = this.props?.location?.state?.demand\r\n\r\n        if (empresas && empresas.length === 1)\r\n            this.setState({ selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos })\r\n\r\n        if (demand) {\r\n            const\r\n                demandState = setDemand(demand, redux)\r\n                , { originalVehicle, getUpdatedValues, alteracoes, compartilhadoId } = demandState\r\n                , numeroDae = demand?.history && demand.history.reverse().find(e => e.hasOwnProperty('numeroDae'))?.numeroDae\r\n\r\n            //altera o objeto alteracoes por referência para destacar apenas os campos alterados ao abrir a demanda\r\n            getUpdatedValues(originalVehicle, alteracoes)\r\n\r\n            //Se uma das alterações foi apagar o delegatário compartilhado, remove prop \"compartilhado\" para não renderizar na tela\r\n            if (compartilhadoId === 'NULL')\r\n                demandState.compartilhado = ''\r\n\r\n            this.setState({ ...demandState, numeroDae, activeStep: 3 })\r\n        }\r\n\r\n        //*********Create state[key] for each equipamentos/acessibilidade and turn them to false before a vehicle is selected *********/\r\n        let\r\n            allEqs = {},\r\n            allAcs = {}\r\n\r\n        equipamentos.forEach(e => Object.assign(allEqs, { [e?.item]: false }))\r\n        acessibilidade.forEach(e => Object.assign(allAcs, { [e?.item]: false }))\r\n\r\n        await this.setState({ ...allEqs, ...allAcs })\r\n\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n        //Validação de campos em branco ou inválidos\r\n        const { inputValidation } = this.props.redux.parametros[0] && this.props.redux.parametros[0]\r\n\r\n        if (action === 'next' && inputValidation) {\r\n            const\r\n                { checkBlankInputs, checkInputErrors } = this.props\r\n                , errors = checkInputErrors('sendState')\r\n                , blankFields = checkBlankInputs(altForm[this.state.activeStep], this.state)\r\n\r\n            if (errors) {\r\n                this.setState({ ...this.state, ...errors })\r\n                return\r\n            }\r\n            if (blankFields) {\r\n                this.setState({ ...this.state, ...blankFields })\r\n                return\r\n            }\r\n        }\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { veiculos, empresas, equipamentos } = this.props.redux,\r\n            { name, value } = e.target\r\n\r\n        if (name === 'razaoSocial') {\r\n            let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n\r\n                this.setState({ frota })\r\n\r\n            } else {\r\n                this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                this.reset()\r\n            }\r\n        }\r\n\r\n        if (name === 'placa' && this.state.frota) {\r\n            const vehicle = this.state.frota.find(v => v.placa === value)\r\n            if (!vehicle) equipamentos.forEach(e => this.setState({ [e]: false }))\r\n        }\r\n        if (name === 'utilizacao')\r\n            this.setState({ distanciaMinima: undefined, distanciaMaxima: undefined })\r\n\r\n        if (name === 'newPlate') {\r\n            let newPlate = value\r\n            if (typeof newPlate === 'string') {\r\n                newPlate = newPlate.replace(/[a-z]/g, l => l.toUpperCase())\r\n                if (newPlate.match('[A-Z]{3}[0-9]{1}[A-Z]{1}[0-9]{2}')) newPlate = newPlate.replace(/(\\w{3})/, '$1-')\r\n                this.setState({ ...this.state, newPlate })\r\n            }\r\n        }\r\n        else\r\n            this.setState({ [name]: value })\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            this.setState({ openAlertDialog: true, alertType: 'empresaNotFound' })\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    capitalize = (field, value) => {\r\n        if (!value || typeof value !== 'string') return\r\n        if (field === 'utilizacao') {\r\n            if (value === 'RODOVIARIO') value = 'Convencional'\r\n            if (value === 'EXECUTIVO') value = 'Convencional Executivo'\r\n            if (value === 'URBANO') value = 'Comercial'\r\n            if (value === 'URBANO EXECUTIVO') value = 'Comercial Executivo'\r\n            if (value === 'SEMI LEITO') value = 'Semi-Leito'\r\n            if (value === 'SEMI LEITO - EXECUTIVO') value = 'Semi-Leito Executivo'\r\n            if (value === 'LEITO') value = 'Leito'\r\n            if (value === 'LEITO E EXECUTIVO') value = 'Leito e Executivo'\r\n        }\r\n        if (field === 'dominio' && value === 'Sim') value = 'Leasing'\r\n        if (field === 'dominio' && value === 'Não') value = 'Veículo próprio'\r\n\r\n        return value\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const\r\n            { empresas, compartilhados, logs, equipamentos, acessibilidade, parametros } = this.props.redux,\r\n            { distanciaPoltronas } = parametros[0],\r\n            { frota, demand, utilizacao, distanciaMinima, distanciaMaxima } = this.state,\r\n            { name } = e.target\r\n\r\n        let\r\n            { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n\r\n            case 'compartilhado':\r\n                this.getId(name, value, compartilhados, 'compartilhadoId', 'razaoSocial', 'codigoEmpresa')\r\n                break\r\n            case 'delegatario':\r\n                await this.getId(name, value, empresas, 'codigoEmpresa', 'razaoSocial', 'codigoEmpresa')\r\n                break\r\n            case 'distanciaMinima':\r\n                let errorMsg\r\n                if (utilizacao)\r\n                    errorMsg = validateDist(utilizacao, distanciaMinima, distanciaPoltronas)\r\n                if (distanciaMinima && distanciaMaxima && +distanciaMinima > +distanciaMaxima)\r\n                    errorMsg = 'A Distância mínima não pode ser superior à distância máxima.'\r\n                if (errorMsg)\r\n                    this.setState({\r\n                        openAlertDialog: true,\r\n                        customTitle: 'Distância mínima inválida.',\r\n                        customMessage: errorMsg,\r\n                        distanciaMinima: ''\r\n                    })\r\n                break\r\n            case 'distanciaMaxima': {\r\n                let errorMsg\r\n                if (utilizacao)\r\n                    errorMsg = validateDist(utilizacao, distanciaMaxima, distanciaPoltronas)\r\n                if (distanciaMaxima && distanciaMinima && +distanciaMaxima < +distanciaMinima)\r\n                    errorMsg = 'A Distância máxima não pode ser inferior à distância mínima.'\r\n                if (errorMsg)\r\n                    this.setState({\r\n                        openAlertDialog: true,\r\n                        customTitle: 'Distância máxima inválida.',\r\n                        customMessage: errorMsg,\r\n                        distanciaMaxima: ''\r\n                    })\r\n                break\r\n            }\r\n            case ('pesoDianteiro'):\r\n                checkWeight(this, name)\r\n                break\r\n            case 'pesoTraseiro':\r\n                checkWeight(this, name)\r\n                break\r\n            case 'poltronas':\r\n                checkWeight(this, name)\r\n                break\r\n            default:\r\n                void 0\r\n        }\r\n        if (name === 'placa' && value.length > 2 && Array.isArray(this.state.frota)) {\r\n\r\n            let vehicle = this.state.frota.find(v => {\r\n                if (typeof value === 'string') return v.placa.toLowerCase().match(value.toLowerCase())\r\n                else return v.placa.match(value)\r\n            })\r\n\r\n            if (vehicle && typeof vehicle === 'object') {\r\n\r\n                let\r\n                    utilizacao = this.capitalize('utilizacao', vehicle?.utilizacao) || null,\r\n                    dominio = this.capitalize('dominio', vehicle?.dominio) || null,\r\n                    resetEquips = {}\r\n\r\n                //Every time a new vehicle is selected, clear the equips/acessibilidade. Method this.setEquipa() will set it back.\r\n                const allEquips = equipamentos.concat(acessibilidade)\r\n                allEquips.forEach(({ item }) => Object.assign(resetEquips, { [item]: false }))\r\n\r\n                //Add few mor properties to vehicle and preserve vehicle before changes.\r\n                vehicle = Object.assign({}, vehicle, { utilizacao, dominio })\r\n                const originalVehicle = Object.freeze(vehicle)\r\n\r\n                //setState()\r\n                await this.setState({ ...resetEquips, ...vehicle, originalVehicle, disable: true })\r\n\r\n                if (vehicle !== undefined && vehicle.hasOwnProperty('empresa')) this.setState({ delegatario: vehicle.empresa })\r\n\r\n                if (!demand) {\r\n                    const customTitle = 'Solicitação já cadastrada',\r\n                        customMessage = `Já existe uma demanda aberta para o veículo de placa ${vehicle.placa}. Para acessá-la, clique em \"Solicitações\" no menu superior.`\r\n\r\n                    const demandExists = checkDemand(vehicle?.veiculoId, logs)\r\n                    if (demandExists) {\r\n                        await this.setState({ customTitle, customMessage, openAlertDialog: true, delegatario: '' })\r\n                        this.reset()\r\n                        return\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.state.placa !== '' && !vehicle) {\r\n                let reset = {}\r\n                if (frota[0]) Object.keys(frota[0]).forEach(k => reset[k] = '')\r\n                this.setState({ alertType: 'plateNotFound', openAlertDialog: true })\r\n                this.setState({ ...reset, disable: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    handleEquipa = type => {\r\n        const collection = this.props.redux[type]\r\n        let vEquip = [], currentEquipa = []\r\n\r\n        if (this.state.addEquipa === false) {\r\n\r\n            if (this.state[type]) currentEquipa = this.state[type]\r\n\r\n            collection.forEach(({ item }) => {\r\n                currentEquipa.forEach(ce => {\r\n                    if (ce.toLowerCase() === item.toLowerCase()) vEquip.push(item)\r\n                })\r\n            })\r\n\r\n            vEquip.forEach(ve => this.setState({ [ve]: true }))\r\n            console.log(this.state)\r\n        }\r\n        this.setState({ addEquipa: !this.state.addEquipa, type })\r\n    }\r\n\r\n    handleCheck = async (item, type) => {\r\n        const collection = this.props.redux[type]\r\n\r\n        if (!collection) return\r\n\r\n        let array = [], ids = [], stateKey\r\n\r\n        if (type === 'equipamentos') stateKey = 'equipamentosId'\r\n        if (type === 'acessibilidade') stateKey = 'acessibilidadeId'\r\n\r\n        await this.setState({ ...this.state, [item]: !this.state[item] })\r\n\r\n        collection.forEach(({ id, item }) => {\r\n            if (this.state[item] === true) {\r\n                array.push(item)\r\n                ids.push(id)\r\n            }\r\n        })\r\n\r\n        if (array[0]) this.setState({ [type]: array, [stateKey]: ids })\r\n        else if (type === 'equipamentos') this.setState({ equipamentos: [], [stateKey]: [] })\r\n        else if (type === 'acessibilidade') this.setState({ acessibilidade: [], [stateKey]: [] })\r\n    }\r\n\r\n    showAltPlaca = () => {\r\n        const title = 'Alteração de placa',\r\n            header = 'Para alterar a placa do veículo para o padrão Mercosul, digite a placa no campo abaixo e anexe o CRLV atualizado do veículo.'\r\n        this.setState({ altPlaca: true, title, header })\r\n    }\r\n\r\n    updatePlate = () => {\r\n        this.setState({ placa: this.state.newPlate })\r\n        this.toggleDialog()\r\n    }\r\n\r\n    handleSubmit = async (approved) => {\r\n        const\r\n            { veiculoId, pbt, codigoEmpresa, originalVehicle, showPendencias, getUpdatedValues, numeroDae,\r\n                compartilhadoId, newPlate, selectedEmpresa, equipamentosId, acessibilidadeId, demand, form, demandFiles } = this.state,\r\n\r\n            oldHistoryLength = demand?.history?.length || 0\r\n\r\n        //****************************Prepare the request Object*******************************\r\n        let tempObj = {}\r\n        altForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                for (let k in this.state) {\r\n                    if (k === obj.field && !obj.disabled) {\r\n                        if (this.state[k]) Object.assign(tempObj, { [k]: this.state[k] })\r\n                    }\r\n                }\r\n            })\r\n        })\r\n        tempObj = Object.assign(tempObj, { compartilhadoId, pbt, equipamentosId, acessibilidadeId })\r\n\r\n        if (demand && getUpdatedValues)\r\n            tempObj = getUpdatedValues(originalVehicle, tempObj)  //Save only real changes to the request Object (method from setDemand())        \r\n\r\n        //remove invalid fields for update\r\n        let { delegatario, compartilhado, ...camelizedRequest } = tempObj\r\n        delete camelizedRequest.numeroDae\r\n\r\n        if (newPlate && newPlate !== '')\r\n            camelizedRequest.placa = newPlate\r\n\r\n        //Se existia um delegatário compartilhado e a alteração é de apagar a relação de compartilhamento, deletar o delCompartilhado\r\n        if ((!this.state.compartilhado || this.state.compartilhado === '') && originalVehicle?.compartilhadoId)\r\n            camelizedRequest.compartilhadoId = 'NULL'\r\n\r\n        if (approved === undefined && Object.keys(camelizedRequest).length === 0) {\r\n            this.setState({ openAlertDialog: true, customTitle: 'Nenhuma alteração', customMessage: 'Não foi realizada nenhuma alteração na solicitação aberta. Para prosseguir, altere algum dos campos ou adicione uma justificativa.' })\r\n            return\r\n        }\r\n\r\n        //******************Inserir número da DAE na info da solicitação************** */\r\n        let { info } = this.state\r\n        if (typeof info === 'string')\r\n            info += `\\n\\n Nº Documento Arrecadação Estadual: ${numeroDae}`\r\n\r\n        //******************GenerateLog********************** */\r\n        const requestObject = humps.decamelizeKeys(camelizedRequest)\r\n        requestObject.codigoEmpresa = codigoEmpresa\r\n        requestObject.veiculoId = veiculoId\r\n\r\n        let\r\n            history = {\r\n                alteracoes: camelizedRequest,\r\n                info,\r\n                numeroDae,\r\n                files: form\r\n            },\r\n            log = {\r\n                empresaId: selectedEmpresa?.codigoEmpresa,\r\n                veiculoId,\r\n                history,\r\n                demandFiles,\r\n                metadata: { veiculoId },\r\n                historyLength: oldHistoryLength,\r\n                approved\r\n            }\r\n        if (demand) log.id = demand?.id\r\n\r\n        logGenerator(log)\r\n            .then(r => console.log(r?.data))\r\n            .catch(err => console.log(err))\r\n\r\n        //*********************if approved, putRequest to update DB  ********************** */\r\n        if (demand && approved && !showPendencias) {\r\n\r\n            if (selectedEmpresa.codigoEmpresa !== codigoEmpresa)\r\n                requestObject.apolice = 'Seguro não cadastrado'\r\n\r\n            console.log(\"🚀 ~ file: AltDados.jsx ~ line 450 ~ AltDados ~ handleSubmit= ~ requestObject\", requestObject)\r\n            await axios.put('/api/veiculos', requestObject) //CodigoEmpresa para F5 sockets\r\n        }\r\n\r\n        //******************Clear the state ********************** */\r\n        if (!approved) {\r\n            let toastMsg = 'Solicitação de alteração de dados enviada.'\r\n            if (demand && demand.status.match('Aguardando'))\r\n                toastMsg = 'Pendências para a alteração de dados registradas.'\r\n            this.toast(toastMsg)\r\n        }\r\n        else\r\n            this.toast()\r\n\r\n        if (!demand)\r\n            setTimeout(() => { this.reset() }, 1200);\r\n        else\r\n            setTimeout(() => { this.props.history.push('/solicitacoes') }, 1500)\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n            await this.setState({ [name]: files[0] })\r\n\r\n            const newState = handleFiles(files, this.state, altDadosFiles)\r\n            this.setState({ ...newState, fileToRemove: null })\r\n        }\r\n    }\r\n\r\n    removeFile = async (name) => {\r\n        const\r\n            { form } = this.state,\r\n            newState = removeFile(name, form)\r\n\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    toggleDialog = () => this.setState({ altPlaca: !this.state.altPlaca })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    closeEquipa = () => this.setState({ addEquipa: false })\r\n    toast = toastMsg => this.setState({ confirmToast: !this.state.confirmToast, toastMsg: toastMsg ? toastMsg : this.state.toastMsg })\r\n\r\n    reset = () => {\r\n        const\r\n            { empresas, veiculos, equipamentos, acessibilidade } = this.props.redux,\r\n            equip = equipamentos.concat(acessibilidade),\r\n            resetEquips = { acessibilidade: [], acessibilidadeId: [], equipamentos: [], equipamentosId: [] }\r\n        let\r\n            resetFiles = {},\r\n            empresaDetails = {}\r\n\r\n        altForm.forEach(form => form.forEach(el => this.setState({ [el.field]: '' })))\r\n        altDadosFiles.forEach(({ name }) => { Object.assign(resetFiles, { [name]: undefined }) })\r\n\r\n        //Limpa os check de todos os equipamento\r\n        equip.forEach(e => this.setState({ [e.item]: false }))\r\n\r\n        //Se o usuário só tiver uma empresa, manter os dados da empresa após resetState\r\n        if (empresas && empresas.length === 1)\r\n            empresaDetails = { selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos }\r\n\r\n        this.setState({ ...resetFiles, ...resetEquips, ...equip, form: undefined, info: undefined, activeStep: 0, ...empresaDetails, })\r\n    }\r\n\r\n    render() {\r\n\r\n        const\r\n            { empresas, compartilhados, equipamentos, acessibilidade } = this.props.redux,\r\n\r\n            { confirmToast, toastMsg, stepTitles, activeStep, steps, altPlaca, selectedEmpresa, openAlertDialog, alertType, customTitle, customMessage,\r\n                dropDisplay, form, title, header, newPlate, demand, showPendencias, info, demandFiles } = this.state\r\n\r\n        return <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Alteração de dados' demand={demand} />\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                stepTitles={stepTitles}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <AltDadosTemplate\r\n                data={this.state}\r\n                empresas={empresas}\r\n                compartilhados={compartilhados}\r\n                equipamentos={equipamentos}\r\n                acessibilidade={acessibilidade}\r\n                setActiveStep={this.setActiveStep}\r\n                altPlacaOption={activeStep === 0}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                showAltPlaca={this.showAltPlaca}\r\n                handleEquipa={this.handleEquipa}\r\n                handleCheck={this.handleCheck}\r\n                close={this.closeEquipa}\r\n            />\r\n            {activeStep === 2 && <VehicleDocs\r\n                parentComponent='altDados'\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n                handleFiles={this.handleFiles}\r\n                demandFiles={demandFiles}\r\n                fileToRemove={this.state.fileToRemove}\r\n                removeFile={this.removeFile}\r\n            />}\r\n            {activeStep === 3 && <Review\r\n                parentComponent='altDados'\r\n                data={this.state}\r\n                form={altForm}\r\n                files={this.state.form}\r\n                filesForm={altDadosFiles}\r\n            />}\r\n            {selectedEmpresa && <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleSubmit}\r\n                setActiveStep={this.setActiveStep}\r\n                showPendencias={showPendencias}\r\n                setShowPendencias={this.setShowPendencias}\r\n                info={info}\r\n                handleInput={this.handleInput}\r\n                demand={demand}\r\n            />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            <FormDialog\r\n                open={altPlaca}\r\n                close={this.toggleDialog}\r\n                title={title}\r\n                header={header}\r\n                inputNames={['newPlate']}\r\n                inputLabels={['Alterar Placa']}\r\n                fileInputName='newPlateDoc'\r\n                values={[newPlate]}\r\n                handleInput={this.handleInput}\r\n                handleFiles={this.handleFiles}\r\n                confirm={this.updatePlate}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n            />\r\n            {openAlertDialog &&\r\n                <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={customMessage} customTitle={customTitle} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'compartilhados', 'equipamentos', 'acessibilidade', 'getFiles/vehicleDocs', 'parametros'];\r\n\r\nexport default StoreHOC(collections, AltDados)","export const seguroForm = [\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',\r\n        autoComplete: true,\r\n        collection: 'seguradoras',\r\n        width: 150\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        label: 'Apólice',\r\n        autoComplete: true,\r\n        collection: 'seguros',\r\n        maxLength: 25,\r\n        width: 150\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Início da vigência',\r\n        width: 150\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',\r\n        width: 150\r\n    }]","export const empresaFiles = [\r\n    { title: 'Contrato Social', name: 'contratoSocial' },\r\n    { title: 'Procuração', name: 'procuracao' },\r\n    { title: 'Apólice', name: 'apoliceDoc' },\r\n    { title: 'Alteração de contrato social', name: 'altContratoDoc' },\r\n    { title: 'CRC', name: 'crc' }\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Chip from '@material-ui/core/Chip'\r\n\r\nimport Add from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Search from '@material-ui/icons/Search'\r\n\r\nimport { seguroForm } from '../Forms/seguroForm'\r\nimport './veiculos.scss'\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: '25%',\r\n        minWidth: 310,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n}))\r\n\r\nexport default function SegurosTemplate({ empresas, data, seguros, seguradoras, enableAddPlaca, handleInput, handleBlur,\r\n    addPlate, removeFromInsurance, handleFiles, handleSubmit, enableChangeApolice, showAllPlates, removeFile, setShowPendencias }) {\r\n\r\n    const\r\n        { selectedEmpresa, placa, apolice, addedPlaca, allVehicles, frota, demandFiles, fileToRemove, demand, insurance, dropDisplay, apoliceDoc,\r\n            showPendencias, info, renderedPlacas } = data\r\n\r\n    let { numeroDae } = data\r\n    if (!numeroDae)\r\n        numeroDae = demand?.history instanceof Array && demand?.history.reverse().find(e => e.numeroDae)?.numeroDae\r\n\r\n    data.seguradoras = seguradoras\r\n    //data.seguros = seguros\r\n\r\n    const classes = useStyles(), { textField } = classes\r\n\r\n    const getOwner = ({ compartilhado, outsider, irregular, delCompartilhado, owner }, e) => {\r\n\r\n        e.target.title = 'Veículo próprio'\r\n        if (compartilhado)\r\n            e.target.title = `Veículo próprio. Compartilhado por: ${delCompartilhado}`\r\n        if (outsider)\r\n            e.target.title = `Autorizado compartilhamento. Proprietário: ${owner}`\r\n        if (irregular)\r\n            e.target.title = `NÃO autorizado compartilhamento! Proprietário: ${owner}`\r\n    }\r\n\r\n    const insuranceExists = seguros.some(s => s.apolice === apolice)\r\n    return (\r\n        <Fragment>\r\n            <div style={{ width: '100%', display: 'flex', flexDirection: 'column' }}>\r\n                <Crumbs links={['Veículos', '/veiculos']} text='Seguros' demand={demand} />\r\n                <SelectEmpresa\r\n                    data={data}\r\n                    empresas={empresas}\r\n                    handleInput={handleInput}\r\n                    handleBlur={handleBlur}\r\n                />\r\n                {selectedEmpresa &&\r\n                    <section className=\"paper\">\r\n                        <FormSubtiltle subtitle='Informe os dados do seguro.' />\r\n                        <TextInput\r\n                            form={seguroForm}\r\n                            data={data}\r\n                            seguros={seguros}\r\n                            seguradoras={seguradoras}\r\n                            handleBlur={handleBlur}\r\n                            handleInput={handleInput}\r\n                        />\r\n                        {insuranceExists &&\r\n                            <div className='addNewDiv'>\r\n                                <span onClick={() => enableChangeApolice()}> → Clique aqui para adicionar nova apólice mantendo as placas abaixo selecionadas.</span>\r\n                            </div>\r\n                        }\r\n                    </section>\r\n                }\r\n                {\r\n                    selectedEmpresa && enableAddPlaca &&\r\n                    <main className='paper' style={{ textAlign: 'center', color: '#555' }}>\r\n                        <p>Utilize as opções abaixo para filtrar, adicionar ou excluir placas desta apólice</p>\r\n                        <section className='flex spaceBetween' style={{ paddingTop: '17px' }}>\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        name: 'addedPlaca',\r\n                                        list: 'placa'\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        style: { fontSize: '0.8rem' }\r\n                                    }}\r\n                                    label='Insira a placa'\r\n                                    className={textField}\r\n                                    value={addedPlaca}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={allVehicles}\r\n                                    field='placa'\r\n                                    value={addedPlaca}\r\n                                />\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    variant=\"contained\"\r\n                                    className={classes.button}\r\n                                    style={{ margin: '10px 0 10px 0' }}\r\n                                    onClick={() => addPlate(addedPlaca)}\r\n                                >\r\n                                    <Add /> Adicionar\r\n                                </Button>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        name: 'placa',\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        style: { fontSize: '0.8rem' }\r\n                                    }}\r\n                                    label='Filtrar'\r\n                                    className={textField}\r\n                                    value={placa || ''}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <Search style={{ marginTop: '18px' }} />\r\n                            </div>\r\n\r\n                            {!demand ?\r\n                                <DragAndDrop\r\n                                    name='apoliceDoc'\r\n                                    formData={apoliceDoc}\r\n                                    dropDisplay={dropDisplay}\r\n                                    handleFiles={handleFiles}\r\n                                    demandFiles={demandFiles}\r\n                                    removeFile={removeFile}\r\n                                    fileToRemove={fileToRemove}\r\n                                    style={{ padding: '0 10px', margin: '0 10px', width: '28%', minWidth: '320px' }}\r\n                                />\r\n                                : demandFiles[0] &&\r\n                                <div style={{ width: '225px', marginTop: '15px' }}>\r\n                                    <ShowLocalFiles\r\n                                        demand={demand}\r\n                                        collection='empresaDocs'\r\n                                        demandFiles={demandFiles}\r\n                                        form={empresaFiles}\r\n                                        style={{ width: '200px' }}\r\n                                    //files={files}\r\n                                    />\r\n                                </div>\r\n                            }\r\n\r\n                        </section>\r\n                        <section\r\n                            className='flex'\r\n                            style={{ margin: '5px 0' }}\r\n                        >\r\n                            <TextField\r\n                                inputProps={{\r\n                                    name: 'numeroDae',\r\n                                }}\r\n                                InputLabelProps={{\r\n                                    style: { fontSize: '0.8rem' }\r\n                                }}\r\n                                label='Nº Documento de Arrecadação Estadual (DAE)'\r\n                                className={textField}\r\n                                value={numeroDae || ''}\r\n                                onChange={handleInput}\r\n                                onBlur={handleBlur}\r\n                            />\r\n                        </section>\r\n\r\n                        <div className='addNewDiv' style={{ justifyContent: 'flex-start', padding: '10px' }}>\r\n                            <span onClick={() => showAllPlates()}>→ Clique aqui para selecionar placas</span>\r\n                        </div>\r\n\r\n                        {/********************************* Lista de placas vinculadas (Chips) ********************************************/}\r\n\r\n                        {insurance?.placas && insurance?.placas[0]\r\n                            ?\r\n                            <div style={{ marginTop: '15px' }}>\r\n                                Placas vinculadas a apólice {insurance.apolice}\r\n                            </div>\r\n                            :\r\n                            <div style={{ marginTop: '30px' }}></div>\r\n                        }\r\n                        {insurance && insurance.placas && apolice && apolice.length > 2 && renderedPlacas && renderedPlacas[0] &&\r\n                            <>\r\n                                <p style={{ fontSize: '0.7rem', marginBottom: '10px', marginTop: '3px', color: '#787b6e' }} >\r\n                                    Selecionado{renderedPlacas.length > 1 ? 's' : ''} {renderedPlacas.length} veículo{renderedPlacas.length > 1 ? 's' : ''} de {frota?.length}\r\n                                </p>\r\n                                <div className=\"placasChipContainer\">\r\n                                    {\r\n                                        renderedPlacas.map(({ placa, compartilhado, outsider, irregular, delCompartilhado, owner }, i,) =>\r\n\r\n                                            <div onMouseOver={e => getOwner({ compartilhado, outsider, irregular, delCompartilhado, owner }, e)} key={i}>\r\n                                                <Chip\r\n                                                    key={i}\r\n                                                    label={placa}\r\n                                                    onDelete={() => removeFromInsurance(placa)}\r\n                                                    className={\r\n                                                        compartilhado ? 'chip-compartilhado'\r\n                                                            : outsider ? 'chip-outsider'\r\n                                                                : irregular ? 'chip-irregular'\r\n                                                                    : 'chip'}\r\n                                                    variant=\"outlined\"\r\n                                                />\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                </div>\r\n                            </>\r\n                        }\r\n                    </main>}\r\n            </div >\r\n            {\r\n                apolice && (insurance || enableAddPlaca) && !demand ?\r\n                    <div style={{ minHeight: '60px', position: 'flex' }}>\r\n                        <Button\r\n                            size=\"small\"\r\n                            color='primary'\r\n                            className='saveButton'\r\n                            variant=\"contained\"\r\n                            onClick={() => handleSubmit()}\r\n                        //disabled={!renderedPlacas[0] || !apoliceDoc ? true : false}\r\n                        >\r\n                            Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                        </Button>\r\n                    </div>\r\n                    :\r\n                    selectedEmpresa && demand ?\r\n                        <StepperButtons\r\n                            uniqueStep={true}\r\n                            declineButtonLabel='Indeferir'\r\n                            demand={demand}\r\n                            setShowPendencias={setShowPendencias}\r\n                            showPendencias={showPendencias}\r\n                            info={info}\r\n                            handleSubmit={handleSubmit}\r\n                            handleInput={handleInput}\r\n                        />\r\n                        : null\r\n            }\r\n        </Fragment >\r\n    )\r\n}","import React from 'react'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport '../Layouts/popUp.css'\r\n\r\nfunction ShowAllPlates({ items, title, data, close, selectAll, handleCheck, selectAllPlates }) {\r\n\r\n    return (\r\n        <div className=\"popUpWindow row\">\r\n            <h6>{title} Clique em \"X\" ou pressione 'esc' para voltar</h6>\r\n            <div style={{ margin: '10px 0', fontSize: '0.8rem' }}>\r\n                <input\r\n                    id='all'\r\n                    type='checkbox'\r\n                    checked={selectAll === true}\r\n                    onChange={() => selectAllPlates()} />\r\n                <label htmlFor='all'>{selectAll ? 'Desmarcar todas selecionadas' : 'Selecionar todas'}</label>\r\n            </div>\r\n\r\n            <main className=\"checkListContainer\">\r\n                {\r\n                    items.map((item, i) =>\r\n                        <div className=\"checkListItem\" key={i}>\r\n                            <input\r\n                                id={i}\r\n                                type='checkbox'\r\n                                checked={data[item] === true}\r\n                                onChange={() => handleCheck(item)} />\r\n                            <label htmlFor={i}>{item}</label>\r\n                        </div>\r\n                    )\r\n                }\r\n            </main>\r\n            <ClosePopUpButton close={close} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowAllPlates\r\n","import React from 'react';\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function ConfigAddDialog({ open, close, title, helperMessage, marca, marcas, selectMarca, newElement, handleInput, addNewElement }) {\r\n\r\n    return (\r\n        <div>\r\n            <Dialog open={open} onClose={close} aria-labelledby=\"form-dialog-title\">\r\n                <DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        {helperMessage}\r\n                    </DialogContentText>\r\n                    <div className=\"editFields\">\r\n                        {marcas && <div className=\"configMarca\">\r\n                            <TextField\r\n                                onChange={selectMarca}\r\n                                value={marca}\r\n                                label='Selecione uma marca'\r\n                                select={true}\r\n                                InputLabelProps={{ shrink: true }}\r\n                                SelectProps={{\r\n                                    style: {\r\n                                        fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                                        width: 325, height: '44px'\r\n                                    }\r\n                                }}\r\n                            >\r\n                                {marcas.map(({ marca }, i) =>\r\n                                    <MenuItem key={i} value={marca} >\r\n                                        {marca}\r\n                                    </MenuItem>\r\n                                )}\r\n                            </TextField>\r\n                        </div>}\r\n                        <div className=\"configField\">\r\n                            <TextField\r\n                                autoFocus\r\n                                margin=\"dense\"\r\n                                name='newElement'\r\n                                label=\"Inserir\"\r\n                                type=\"text\"\r\n                                onChange={handleInput}\r\n                                value={newElement}\r\n                                fullWidth\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <br /><br /><br />\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={close} color=\"primary\">\r\n                        Cancelar\r\n              </Button>\r\n                    <Button onClick={() => addNewElement()} color=\"primary\">\r\n                        Confirmar\r\n              </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}","export const setEmpresaDemand = (demand, redux, socios) => {\r\n\r\n    const { pathname } = document.location\r\n    let associateKeys = { name: 'nomeSocio', id: 'socioId' }\r\n\r\n    if (pathname.match('procurador'))\r\n        associateKeys = { name: 'nomeProcurador', id: 'procuradorId' }\r\n\r\n    const\r\n        { empresas, empresaDocs } = redux,\r\n        { name, id } = associateKeys,\r\n        history = demand?.history || [],\r\n        length = history?.length,\r\n\r\n        selectedEmpresa = empresas.find(e => e.codigoEmpresa === demand?.empresaId),\r\n        razaoSocial = selectedEmpresa?.razaoSocial\r\n\r\n    let\r\n        lastUpdate,\r\n        newMembers = [],\r\n        oldMembers = [],\r\n        latestDoc\r\n\r\n    if (history[0]) lastUpdate = history[length - 1]\r\n\r\n    if (lastUpdate) {\r\n        newMembers = lastUpdate?.newMembers || []\r\n        oldMembers = lastUpdate?.oldMembers || []\r\n    }\r\n\r\n    //******************Get latest uploaded files per field\r\n\r\n    const\r\n        latestDocId = history\r\n            .reverse()\r\n            .find(el => el.files)?.files || []\r\n\r\n    if (latestDocId[0])\r\n        latestDoc = empresaDocs.find(doc => doc.id === latestDocId[0])\r\n\r\n    if (oldMembers[0])\r\n        socios.forEach(s => {\r\n            oldMembers.forEach(om => {\r\n                if (s[id] === om[id])\r\n                    Object.keys(om).forEach(key => {\r\n                        s[key] = om[key]\r\n                    })\r\n            })\r\n        })\r\n\r\n    const\r\n        filteredSocios = socios\r\n            .concat(newMembers)\r\n            .sort((a, b) => a[name].localeCompare(b[name]))\r\n\r\n    //****************** Return the object\r\n    return {\r\n        razaoSocial, selectedEmpresa, demand, latestDoc, newMembers, oldMembers, getUpdatedValues, filteredSocios\r\n    }\r\n}\r\n\r\nfunction getUpdatedValues(originalObj, newObj) {\r\n    Object.keys(newObj).forEach(key => {\r\n        if (newObj[key] && originalObj[key]) {\r\n\r\n            if (key === 'equipamentosId' || key === 'acessibilidadeId')\r\n                newObj[key].sort((a, b) => a - b)\r\n\r\n            if (newObj[key].toString() === originalObj[key].toString())\r\n                delete newObj[key]\r\n        }\r\n        if (newObj[key] === '' || newObj[key] === 'null' || !newObj[key]) delete newObj[key]\r\n    })\r\n    const updatedFields = newObj\r\n    return updatedFields\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport moment from 'moment'\r\nimport { sizeExceedsLimit } from '../Utils/handleFiles'\r\nimport SeguroTemplate from './SegurosTemplate'\r\nimport ShowAllPlates from './ShowAllPlates'\r\nimport ConfigAddDialog from './ConfigAddDialog'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport { seguroForm } from '../Forms/seguroForm'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { setEmpresaDemand } from '../Utils/setEmpresaDemand'\r\nimport { removeFile } from '../Utils/handleFiles'\r\n\r\n\r\nclass Seguro extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.openAddDialog) this.toggleDialog()\r\n                if (this.state.showAllPlates) this.setState({ showAllPlates: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        addedPlaca: '',\r\n        razaoSocial: '',\r\n        seguradora: '',\r\n        deletedVehicles: [],\r\n        toastMsg: 'Seguro atualizado!',\r\n        confirmToast: false,\r\n        dropDisplay: 'Clique ou arraste para anexar a apólice',\r\n        showAllPlates: false,\r\n        showPendencias: false,\r\n        selectAll: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const\r\n            { redux } = this.props,\r\n            demand = this.props?.location?.state?.demand,\r\n            { empresas, veiculos } = redux\r\n\r\n        if (empresas && empresas.length === 1) {\r\n            await this.setState({ selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos })\r\n            this.filterInsurances()\r\n        }\r\n\r\n        if (demand) {\r\n            const\r\n                demandState = setEmpresaDemand(demand, redux, []),\r\n                { latestDoc, newMembers, oldMembers, filteredSocios, ...filteredState } = demandState,\r\n                history = demand?.history[0],\r\n                insurance = {}\r\n\r\n            seguroForm.forEach(({ field }) => {\r\n                if (history.hasOwnProperty(field))\r\n                    insurance[field] = history[field]\r\n            })\r\n\r\n            const insuranceVehicles = redux.veiculos\r\n                .filter(v => history.vehicleIds.some(id => id === v.veiculoId))\r\n\r\n            insurance.placas = insuranceVehicles.map(v => v.placa)\r\n            insurance.veiculos = insuranceVehicles.map(v => v.veiculoId)\r\n\r\n            const seguradoraId = history?.seguradoraId\r\n\r\n            await this.setState({ ...this.state, ...filteredState, ...insurance, insurance, demand, seguradoraId, demandFiles: [latestDoc] })\r\n\r\n            await this.filterInsurances()\r\n            this.renderPlacas()\r\n        }\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n    //Se uma viação válida estiver selecionada, filtra sua frota e os veículos que apesar de não possuir os tem na apólice de seguro\r\n    filterInsurances = async () => {\r\n        const\r\n            { seguros } = this.props.redux,\r\n            { selectedEmpresa } = this.state,\r\n            { codigoEmpresa } = selectedEmpresa,\r\n            filteredInsurances = seguros.filter(seguro => seguro.codigoEmpresa === codigoEmpresa),\r\n            dataFromServer = await axios.get(`/api/allVehicles?codigoEmpresa=${codigoEmpresa}`),\r\n            allVehicles = humps.camelizeKeys(dataFromServer?.data) || [],\r\n            allPlates = allVehicles.map(vehicle => vehicle.placa).sort(),\r\n            frota = allVehicles.filter(v => v.codigoEmpresa === codigoEmpresa),\r\n            ownedPlacas = frota.map(v => v.placa)\r\n\r\n        this.setState({ seguros: filteredInsurances, allVehicles, frota, ownedPlacas, allPlates })\r\n    }\r\n\r\n    //Verifica se o seguro já existe e preenche os campos automaticamente (plain obj to state)\r\n    checkExistence = async inputValue => {\r\n\r\n        const\r\n            seguros = JSON.parse(JSON.stringify(this.props.redux.seguros)),\r\n            { selectedEmpresa, demand } = this.state,\r\n            { codigoEmpresa } = selectedEmpresa,\r\n            s = [...seguros.filter(se => se.codigoEmpresa === codigoEmpresa)]\r\n\r\n        let insurance = { ...s.find(s => s.apolice === inputValue) }\r\n\r\n        if (demand && this.state.insurance)\r\n            insurance = this.state.insurance\r\n\r\n        const insuranceExists = Object.keys(insurance).length > 0\r\n\r\n        if (insuranceExists) {\r\n            const\r\n                dataEmissao = moment(insurance.dataEmissao).format('YYYY-MM-DD'),\r\n                vencimento = moment(insurance.vencimento).format('YYYY-MM-DD'),\r\n                { seguradora, seguradoraId } = insurance\r\n\r\n            await this.setState({ seguradora, seguradoraId, dataEmissao, vencimento, insurance })\r\n            return\r\n        }\r\n        else this.setState({ dataEmissao: '', vencimento: '', deletedVehicles: [], insurance: {} })\r\n    }\r\n\r\n    //Marca as placas que possuem compartilhamento por outra empresa. Acionado ao se informar a apólice (caso já exista)   \r\n    renderPlacas = placas => {\r\n        const { allVehicles, insurance, ownedPlacas } = this.state\r\n\r\n        if (insurance) {\r\n            //Se passar as placas como argumento se trata do filtro do searchBar. Senão é a renderização depois de preencher a apólice\r\n            if (!placas)\r\n                placas = insurance.placas\r\n\r\n            let renderedPlacas = []\r\n\r\n            if (placas) {\r\n                placas.forEach(p => {\r\n                    const\r\n                        veiculo = allVehicles.find(v => v.placa === p)\r\n                    if (!veiculo) {\r\n                        this.setState({ renderedPlacas })\r\n                        return\r\n                    }\r\n                    const\r\n                        { placa, empresa, compartilhado } = veiculo,\r\n                        vehicleDetails = { placa, owner: empresa, delCompartilhado: compartilhado }\r\n                    //Se o veículo não for próprio\r\n                    if (!ownedPlacas.includes(placa)) {\r\n                        //Se constar com compartilhado de outra viação, está fora da frota da empresa, senão pode estar irregular\r\n                        if (compartilhado)\r\n                            Object.assign(vehicleDetails, { outsider: true })\r\n                        else\r\n                            Object.assign(vehicleDetails, { irregular: true })\r\n                    }\r\n                    //Se o veículo for próprio:\r\n                    else {\r\n                        if (compartilhado)\r\n                            vehicleDetails.compartilhado = true\r\n                        else\r\n                            vehicleDetails.compartilhado = false\r\n                    }\r\n                    renderedPlacas.push(vehicleDetails)\r\n                })\r\n\r\n                this.setState({ renderedPlacas })\r\n            }\r\n        }\r\n    }\r\n\r\n    handleInput = async e => {\r\n\r\n        let { value } = e.target\r\n        const\r\n            { name } = e.target,\r\n            { empresas, seguradoras } = this.props.redux,\r\n            { selectedEmpresa, allVehicles, insurance, apolice, dataEmissao, vencimento, newInsurance, seguradora } = this.state\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n                let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n                if (selectedEmpresa) {\r\n                    await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                    if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n                    this.filterInsurances()\r\n\r\n                } else {\r\n                    this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                    this.clearFields()\r\n                }\r\n                break\r\n\r\n            case 'apolice':\r\n                if (!allVehicles) this.filterInsurances()\r\n                await this.checkExistence(value)\r\n                this.renderPlacas()\r\n                break\r\n\r\n            case 'seguradora':\r\n                const selectedSeguradora = seguradoras.find(sg => sg.seguradora === value)\r\n                if (selectedSeguradora) {\r\n                    this.setState({ seguradoraId: selectedSeguradora.id })\r\n                }\r\n                break\r\n            case 'placa':\r\n                let placas = []\r\n                if (insurance?.placas) {\r\n                    if (insurance.placas[0] && insurance.placas[0] !== null)\r\n                        placas = insurance.placas.sort()\r\n\r\n                    if (value !== undefined && value.length > 2 && placas[0]) {\r\n                        if (typeof value === 'string')\r\n                            placas = insurance.placas.filter(p => p.toLowerCase().match(value.toLowerCase())).sort()\r\n                        else\r\n                            placas = insurance.placas.filter(p => p.match(value)).sort()\r\n                    }\r\n                    this.renderPlacas(placas)\r\n                }\r\n                break\r\n            case 'addedPlaca':\r\n                const vehicleFound = allVehicles.find(v => v.placa === value)\r\n                if (vehicleFound) this.setState({ vehicleFound })\r\n                break;\r\n            default:\r\n                void 0\r\n        }\r\n\r\n        // *************NEW INSURANCE CHECK / UPDATE STATE****************\r\n        const fields = ['seguradora', 'apolice', 'dataEmissao', 'vencimento']\r\n        const checkFields = fields.every(f => this.state[f] && this.state[f] !== '')\r\n\r\n        if (name !== 'razaoSocial' && !newInsurance && checkFields && !insurance) {\r\n            let seguradoraId\r\n            const selectedSeguradora = seguradoras.find(sg => sg.seguradora === this.state.seguradora)\r\n            if (selectedSeguradora) seguradoraId = selectedSeguradora.id\r\n\r\n            const newInsurance = {\r\n                empresa: selectedEmpresa.razaoSocial,\r\n                codigoEmpresa: selectedEmpresa.codigoEmpresa,\r\n                apolice, seguradora, seguradoraId, dataEmissao, vencimento, placas: [], veiculos: []\r\n            }\r\n            await this.setState({ insurance: newInsurance, seguradoraId })\r\n        }\r\n    }\r\n\r\n    handleBlur = e => {\r\n\r\n        const\r\n            { seguradoras, seguros } = this.props.redux,\r\n            { seguradora, selectedEmpresa } = this.state,\r\n            { name } = e.target,\r\n            codigoEmpresa = selectedEmpresa?.codigoEmpresa\r\n\r\n        if (name === 'seguradora') {\r\n            let filteredInsurances = []\r\n\r\n            const valid = seguradoras.find(s => s.seguradora.toLowerCase().match(seguradora.toLowerCase()))\r\n            if (valid && seguradora.length > 2)\r\n                this.setState({ seguradora: valid.seguradora, seguradoraId: valid.id })\r\n            if (!valid && seguradora.length > 2)\r\n                this.setState({ openAlertDialog: true, alertType: 'seguradoraNotFound', seguradora: undefined })\r\n\r\n            if (selectedEmpresa && !seguradora) {\r\n                filteredInsurances = seguros.filter(s => s.codigoEmpresa === codigoEmpresa)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n            else if (!selectedEmpresa && seguradora !== '') {\r\n                filteredInsurances = seguros.filter(s => s.seguradora === seguradora)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n            else if (selectedEmpresa && seguradora !== '') {\r\n                filteredInsurances = seguros\r\n                    .filter(seg => seg.codigoEmpresa === codigoEmpresa)\r\n                    .filter(seg => seg.seguradora === seguradora)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n        }\r\n        if (name === 'dataEmissao' || name === 'vencimento') {\r\n            const errors = checkInputErrors()\r\n            if (errors) this.setState({ errors })\r\n            else this.setState({ errors: undefined })\r\n        }\r\n    }\r\n\r\n    showAllPlates = () => {\r\n        const { insurance, allPlates } = this.state\r\n        let placas = [], allPlatesObj = {}\r\n\r\n        if (insurance?.placas)\r\n            placas = insurance.placas\r\n\r\n        allPlates.forEach(p => Object.assign(allPlatesObj, { [p]: false }))\r\n        placas.forEach(p => Object.assign(allPlatesObj, { [p]: true }))\r\n\r\n        this.setState({ allPlatesObj, insuredPlates: placas, showAllPlates: !this.state.showAllPlates })\r\n    }\r\n\r\n    handleCheck = async plate => {\r\n\r\n        let allPlatesObj = { ...this.state.allPlatesObj }\r\n        allPlatesObj[plate] = !allPlatesObj[plate]\r\n\r\n        if (allPlatesObj[plate] === true) this.addPlate(plate)\r\n        else this.removeFromInsurance(plate)\r\n\r\n        this.setState({ allPlatesObj })\r\n    }\r\n\r\n    selectAllPlates = () => {\r\n        const\r\n            { allPlates, selectAll } = this.state,\r\n            updatedState = {}\r\n\r\n        if (allPlates) {\r\n            allPlates.forEach(p => {\r\n\r\n                if (selectAll) {\r\n                    updatedState[p] = false\r\n                    this.removeFromInsurance(p)\r\n                } else {\r\n                    updatedState[p] = true\r\n                    this.addPlate(p, true)\r\n                }\r\n            })\r\n        }\r\n        this.setState({ selectAll: !selectAll, allPlatesObj: updatedState })\r\n    }\r\n\r\n    addPlate = async (placaInput, allSelected) => {\r\n\r\n        const\r\n            { apolice, allVehicles, deletedVehicles, insurance } = this.state,\r\n            vehicleFound = allVehicles.find(v => v.placa === placaInput)\r\n\r\n        if (!placaInput || placaInput === '') return\r\n\r\n        //Check if vehicle belongs to frota before add to insurance and  if plate already belongs to apolice\r\n        if (vehicleFound === undefined || vehicleFound.hasOwnProperty('veiculoId') === false) {\r\n            this.setState({ openAlertDialog: true, alertType: 'plateNotFound' })\r\n            return null\r\n        } else if (insurance && insurance.placas && vehicleFound.placa && !allSelected) {\r\n            const check = insurance.placas.find(p => p === vehicleFound.placa)\r\n            if (check) {\r\n                this.setState({ openAlertDialog: true, alertType: 'plateExists' })\r\n                return null\r\n            }\r\n        }\r\n        // Add plates to rendered list\r\n        if (apolice && insurance) {\r\n            const\r\n                update = { ...insurance },\r\n                { veiculoId } = vehicleFound\r\n\r\n            if (!update.placas || !update.placas[0]) update.placas = []\r\n            if (!update.veiculos || !update.veiculos[0]) update.veiculos = []\r\n\r\n            if (!update.placas.includes(placaInput))\r\n                update.placas.push(placaInput)\r\n            if (!update.veiculos.includes(veiculoId))\r\n                update.veiculos.push(veiculoId)\r\n\r\n            //Remove from state.deletedVehicles if its the case\r\n            if (deletedVehicles.includes(veiculoId)) {\r\n                const i = deletedVehicles.indexOf(veiculoId)\r\n                deletedVehicles.splice(i, 1)\r\n            }\r\n            this.renderPlacas(update?.placas)\r\n            console.log(\"🚀 ~ file: Seguros.jsx ~ line 374 ~ Seguro ~ addPlate= ~ update\", update)\r\n            this.setState({ insurance: update, addedPlaca: '', deletedVehicles })\r\n        }\r\n    }\r\n\r\n    removeFromInsurance = async placaInput => {\r\n\r\n        const\r\n            { apolice, allVehicles } = this.state,\r\n            vehicleFound = allVehicles.find(v => v.placa === placaInput),\r\n            { veiculoId, placa } = vehicleFound\r\n\r\n        let\r\n            insurance = { ...this.state.insurance },\r\n            deletedVehicles = [...this.state.deletedVehicles],\r\n            placas = [],\r\n            veiculos = [],\r\n            check\r\n\r\n        const seg = this.props.redux.seguros.find(s => s.apolice === apolice)\r\n        if (seg && seg.placas)\r\n            check = seg.placas.includes(placa)\r\n\r\n        if (check) {\r\n            let { veiculos } = insurance\r\n            const k = veiculos.indexOf(veiculoId)\r\n\r\n            if (!deletedVehicles.includes(veiculos[k])) {\r\n                deletedVehicles.push(veiculos[k])\r\n                this.setState({ deletedVehicles })\r\n            }\r\n        }\r\n\r\n        if (insurance.placas) placas = insurance.placas\r\n        if (insurance.veiculos) veiculos = insurance.veiculos\r\n\r\n        const\r\n            i = placas.indexOf(placa),\r\n            k = veiculos.indexOf(veiculoId)\r\n\r\n        insurance.placas.splice(i, 1)\r\n        insurance.veiculos.splice(k, 1)\r\n\r\n        await this.setState({ insurance })\r\n        this.renderPlacas()\r\n    }\r\n\r\n    handleSubmit = async approved => {\r\n        const\r\n            { insurance, deletedVehicles, seguradoraId, apolice, numeroDae, selectedEmpresa, demand, apoliceDoc, info, dataEmissao, vencimento } = this.state\r\n            , { codigoEmpresa } = selectedEmpresa\r\n            , { veiculos: vehicleIds } = insurance\r\n            , errorsFound = this.checkForErrors(insurance)\r\n\r\n        if (errorsFound)\r\n            return\r\n\r\n        const\r\n            seguro = this.setInsuranceStatus({ apolice, seguradoraId, codigoEmpresa, dataEmissao, vencimento })\r\n            , cadSeguro = humps.decamelizeKeys(seguro)\r\n\r\n        if (!demand) {\r\n            const log = {\r\n                empresaId: selectedEmpresa?.codigoEmpresa,\r\n                history: {\r\n                    ...humps.camelizeKeys(cadSeguro),\r\n                    seguradora: this.state.seguradora,\r\n                    vehicleIds,\r\n                    info: numeroDae ? `Nº Documento Arrecadação Estadual: ${numeroDae}` : 'Número do DAE não informado',\r\n                    numeroDae,\r\n                    files: apoliceDoc,\r\n                    deletedVehicles\r\n                },\r\n                demandFiles: this.state.demandFiles,\r\n                metadata: {\r\n                    fieldName: 'apoliceDoc',\r\n                    apolice,\r\n                    empresaId: selectedEmpresa?.codigoEmpresa,\r\n                },\r\n                historyLength: 0,\r\n                approved\r\n            }\r\n\r\n            await logGenerator(log)\r\n            this.confirmAndResetState('Solicitação de cadastro de seguro enviada')\r\n            return\r\n        }\r\n        if (approved)\r\n            this.approveInsurance(cadSeguro)\r\n        else {\r\n            const log = {\r\n                id: demand.id,\r\n                history: { info },\r\n                declined: true\r\n            }\r\n            logGenerator(log)\r\n            this.confirmAndResetState('Solicitação indeferida!')\r\n        }\r\n    }\r\n\r\n    checkForErrors(insurance) {\r\n        const { errors, seguradora } = this.state\r\n        //Checar erros de preenchimento ou campos vazios\r\n        if (errors && errors[0]) {\r\n            this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return true\r\n        }\r\n        if (!seguradora || seguradora === '') {\r\n            this.setState({ openAlertDialog: true, alertType: 'seguradoraNotFound', seguradora: undefined })\r\n            return true\r\n        }\r\n        if (!insurance?.veiculos || !insurance.veiculos[0]) {\r\n            this.setState({\r\n                openAlertDialog: true, customTitle: 'Nenhum veículo inserido',\r\n                customMsg: 'Não foi inserido nenhum veículo para o seguro informado. Para inserir, digite a placa no campo \"Insira a placa\" ou clique para selecionar a(s) placa(s) do(s) veículo(s) coberto(s) por esse seguro.'\r\n            })\r\n            return true\r\n        }\r\n    }\r\n\r\n    setInsuranceStatus(cadSeguro) {\r\n        const\r\n            { dataEmissao, vencimento } = cadSeguro\r\n            , emis = moment(dataEmissao, 'YYYY-MM-DD', true)\r\n            , venc = moment(vencimento, 'YYYY-MM-DD', true)\r\n            , validEmissao = emis.isValid()\r\n            , validVenc = venc.isValid()\r\n            , invalido = venc.isSameOrBefore(emis, 'day')\r\n            , vencido = venc.isBefore(moment(), 'day')\r\n            , pendente = emis.isAfter(moment(), 'day')\r\n            , vigente = emis.isSameOrBefore(moment(), 'day')\r\n\r\n        if (invalido) {\r\n            alert('A data de vencimento informada é anterior ao início da vigência.')\r\n            return\r\n        }\r\n        if (vencido) {\r\n            alert('O seguro informado está vencido.')\r\n            return\r\n        }\r\n        if (pendente)\r\n            cadSeguro.situacao = 'Aguardando início da vigência'\r\n        if (vigente)\r\n            cadSeguro.situacao = 'Vigente'\r\n        if (validEmissao)\r\n            cadSeguro.dataEmissao = dataEmissao\r\n        if (validVenc)\r\n            cadSeguro.vencimento = vencimento\r\n\r\n        return cadSeguro\r\n    }\r\n\r\n    approveInsurance = async cadSeguro => {\r\n        const\r\n            { seguros } = this.props.redux\r\n            , { apolice, vencimento, dataEmissao, seguradoraId, insurance, demand, demandFiles } = this.state\r\n            , { deletedVehicles } = demand.history[0]\r\n            , vehicleIds = insurance.veiculos || demand.history[0].vehicleIds\r\n\r\n        //****************************** Cria o body para os requests****************************** */\r\n        const body = {\r\n            table: 'veiculos',\r\n            column: 'apolice',\r\n            value: apolice,\r\n            tablePK: 'veiculo_id',\r\n            ids: vehicleIds,\r\n            deletedVehicles\r\n        }\r\n        //********************************** CREATE/UPDATE INSURANCE **********************************\r\n        const insuranceExists = seguros.find(s => s.apolice === apolice)\r\n        console.log(\"🚀 ~ file: Seguros.jsx ~ line 542 ~ Seguro ~ insuranceExists\", insuranceExists)\r\n\r\n        if (insuranceExists) {\r\n            const\r\n                de = moment(insuranceExists.dataEmissao).isSame(moment(dataEmissao)),\r\n                v = moment(insuranceExists.vencimento).isSame(moment(vencimento)),\r\n                vExists = JSON.stringify(vehicleIds) === JSON.stringify(insuranceExists.veiculos)\r\n            console.log(\"🚀 ~ file: Seguros.jsx ~ line 548 ~ Seguro ~ JSON.stringify(insuranceExists.veiculos)\", JSON.stringify(insuranceExists.veiculos))\r\n            console.log(\"🚀 ~ file: Seguros.jsx ~ line 548 ~ Seguro ~  JSON.stringify(vehicleIds)\", JSON.stringify(vehicleIds))\r\n\r\n            console.log(\"🚀 ~ file: Seguros.jsx ~ line 548 ~ Seguro ~ vExists\", vExists)\r\n            console.log(\"🚀 ~ file: Seguros.jsx ~ line 551 ~ Seguro ~ de && v \", de && v)\r\n            return\r\n            //Evitar seguro repetido de ser cadastrado\r\n            if (de && v && vExists) {\r\n                this.setState({\r\n                    openAlertDialog: true,\r\n                    customTitle: 'Seguro existente',\r\n                    customMsg: 'O seguro informado já existe no sistema. Para cadastrar um novo seguro, altere o número da apólice, ou as datas de emissão e vencimento.'\r\n                })\r\n                return\r\n            }\r\n            //Se o seguro novo tiver o mesmo número de apólice e já estiver vigente, apenas atualiza o registro do Postgresql\r\n            if (cadSeguro.situacao === 'Vigente') {\r\n\r\n                const update = humps.decamelizeKeys({\r\n                    id: insuranceExists?.id,\r\n                    seguradoraId,\r\n                    situacao: cadSeguro.situacao,\r\n                    dataEmissao,\r\n                    vencimento\r\n                })\r\n                axios.put('/api/seguros', { update, vehicleIds, deletedVehicles })\r\n            }\r\n        }\r\n        //console.log(JSON.stringify(body))\r\n        //Se as datas forem diferentes, se trata de cadastrar um novo seguro no MongoDB, ainda que o número da apólice seja o mesmo (caso insuranceExists === true ou false)\r\n        if (cadSeguro.situacao === 'Aguardando início da vigência') {\r\n            cadSeguro.veiculos = vehicleIds\r\n            console.log({ ...cadSeguro })\r\n            await axios.post('/api/cadSeguroMongo', { ...cadSeguro })\r\n        }\r\n        //Se o seguro cadastrado já estiver vigente já cadastra direto no PostgreSQL (tabela seguros) e atualiza a tabela de veículos\r\n        if (cadSeguro.situacao === 'Vigente' && !insuranceExists)\r\n            await axios.post('/api/cadSeguro', cadSeguro)\r\n                .then(r => {\r\n                    if (r.status === 200)\r\n                        console.log(r.status, 'cadSeguroOk')\r\n                })\r\n\r\n        //A atualização da coluna \"apólice\" da tabela veículos vai sempre ocorrer. Independente de ser um novo número ou não de apolice, \r\n        //novos veículos podem ser adicionados ou excluídos\r\n        await axios.put('/api/updateInsurances', body)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                this.setState({ dontUpdateProps: true })\r\n            })\r\n\r\n        //Cria o log de demanda concluída\r\n        const log = {\r\n            id: demand.id,\r\n            demandFiles,\r\n            history: {},\r\n            metadata: {},\r\n            approved: true\r\n        }\r\n        logGenerator(log)\r\n        this.confirmAndResetState()\r\n    }\r\n\r\n    confirmAndResetState = confirmMessage => {\r\n        const { demand } = this.state\r\n        this.toast(confirmMessage)\r\n        this.clearFields()\r\n\r\n        if (demand)\r\n            setTimeout(() => {\r\n                this.props.history.push('/solicitacoes')\r\n            }, 1500);\r\n    }\r\n\r\n    handleFiles = async files => {\r\n        //limit files Size\r\n        if (sizeExceedsLimit(files)) return\r\n\r\n        let formData = new FormData()\r\n        formData.append('apoliceDoc', files[0])\r\n        await this.setState({ apoliceDoc: formData, fileToRemove: null })\r\n    }\r\n\r\n    removeFile = async (name) => {\r\n        const\r\n            { apoliceDoc } = this.state,\r\n            newState = removeFile(name, apoliceDoc)\r\n\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n    addNewElement = () => this.setState({ apolice: this.state.newElement, openAddDialog: false })\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    toggleDialog = () => this.setState({ openAddDialog: !this.state.openAddDialog })\r\n    toast = toastMsg => this.setState({ confirmToast: !this.state.confirmToast, toastMsg: toastMsg ? toastMsg : this.state.toastMsg })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    clearFields = async () => {\r\n        const\r\n            { empresas, veiculos } = this.props.redux,\r\n            cleanedUpState = {\r\n                seguradora: '', insurance: undefined, apolice: '', dataEmissao: '', vencimento: '',\r\n                apoliceDoc: null, deletedVehicles: [], dropDisplay: 'Clique ou arraste para anexar a apólice'\r\n            },\r\n            empresaDetails = { selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos }\r\n        //Se tiver só uma empresa, mantém os dados dela no state após o submit\r\n        if (empresas && empresas.length === 1) {\r\n            await this.setState({ ...cleanedUpState, ...empresaDetails })\r\n            this.filterInsurances()\r\n        }\r\n        else if (empresas)\r\n            this.setState({ ...cleanedUpState })\r\n    }\r\n\r\n    render() {\r\n        const\r\n            { openAlertDialog, alertType, openAddDialog, showAllPlates, allPlates, allPlatesObj, selectAll, customTitle, customMsg } = this.state,\r\n            { empresas, seguradoras, seguros } = this.props.redux\r\n\r\n        const enableAddPlaca = seguroForm\r\n            .every(k => this.state.hasOwnProperty(k.field) && this.state[k.field] !== '')\r\n\r\n        return (\r\n            <Fragment>\r\n                <SeguroTemplate\r\n                    data={this.state}\r\n                    empresas={empresas}\r\n                    seguros={seguros}\r\n                    seguradoras={seguradoras}\r\n                    enableAddPlaca={enableAddPlaca}\r\n                    handleInput={this.handleInput}\r\n                    handleBlur={this.handleBlur}\r\n                    addPlate={this.addPlate}\r\n                    removeFromInsurance={this.removeFromInsurance}\r\n                    enableChangeApolice={this.toggleDialog}\r\n                    handleFiles={this.handleFiles}\r\n                    handleSubmit={this.handleSubmit}\r\n                    showAllPlates={this.showAllPlates}\r\n                    setShowPendencias={this.setShowPendencias}\r\n                    removeFile={this.removeFile}\r\n                />\r\n                {openAddDialog && <ConfigAddDialog\r\n                    open={openAddDialog}\r\n                    close={this.toggleDialog}\r\n                    title='Alterar número da apólice'\r\n                    helperMessage='Informe o número atualizado da apólice.'\r\n                    handleInput={this.handleInput}\r\n                    addNewElement={this.addNewElement}\r\n                />}\r\n                {\r\n                    showAllPlates &&\r\n                    <ShowAllPlates\r\n                        items={allPlates}\r\n                        close={this.showAllPlates}\r\n                        title='Selecione as placas para adicionar à apólice.'\r\n                        handleCheck={this.handleCheck}\r\n                        data={allPlatesObj}\r\n                        selectAll={selectAll}\r\n                        selectAllPlates={this.selectAllPlates}\r\n                    />\r\n                }\r\n\r\n                {\r\n                    openAlertDialog &&\r\n                    <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customTitle={customTitle} customMessage={customMsg} />\r\n                }\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'seguradoras', 'seguros', 'getFiles/empresaDocs']\r\n\r\nexport default StoreHOC(collections, Seguro)","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { Fragment } from 'react';\r\n\r\nexport default function ConfirmDialog({ open, type, close, confirm, element, id, index, customTitle = '', customMessage = '' }) {\r\n    console.log(\"🚀 ~ file: ConfirmDialog.jsx ~ line 11 ~ ConfirmDialog ~ id\", id)\r\n\r\n    let title, message\r\n    if (type === 'delete') {\r\n        title = 'Confirmar exclusão'\r\n        message = 'Tem certeza que deseja excluir esse registro?'\r\n        if (element) message = message.replace('?', ': ')\r\n    }\r\n    if (type === 'deactivateEmpresa') {\r\n        title = 'Desativar empresa'\r\n        message = `Tem certeza que deseja desativar a empresa ${element}?`\r\n    }\r\n\r\n    if (title && message) return (\r\n        <div>\r\n            <Dialog\r\n                open={open}\r\n                onClose={close}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {element ?\r\n                            <Fragment>\r\n                                {message}<strong>  {element}    </strong>?\r\n                            </Fragment>\r\n                            : message}\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={close} autoFocus> Cancelar </Button>\r\n                    <Button onClick={() => confirm(id || index)} color=\"primary\"> Confirmar </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n    else return null\r\n}","export const laudoForm = [\r\n    {\r\n        field: 'id',\r\n        label: 'Número do laudo',              \r\n        maxLength: 30\r\n    },\r\n    {\r\n        field: 'validade',\r\n        label: 'Data de validade',\r\n        type: 'date'\r\n    },\r\n    {\r\n        field: 'empresaLaudo',\r\n        label: 'Empresa emissora',        \r\n        select: true\r\n    },    \r\n]","import React from 'react'\r\n\r\nconst Placa = props => {\r\n    const { veiculoId, city, placa, onClick, style } = props\r\n\r\n    return (\r\n        <div id={veiculoId} onClick={onClick} style={style} className='placaContainer'>\r\n            <div className=\"placaCity\">{city}</div>\r\n            <div className=\"placaCode\">{placa}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Placa","import React from 'react'\r\nimport moment from 'moment'\r\nimport downloadFile from '../Utils/downloadFile'\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nexport default function StandardTable({ table, docsCollection, length, title, style, idIndex = 0, clickable, openInfo, filePK, deleteIconProperties = {}, deleteFunction }) {\r\n    const { tableHeaders, arrayOfRows, docs } = table\r\n\r\n    const dateFormat = value => {\r\n        if (moment(value, 'YYYY-MM-DDTHH:mm:ss.SSSZZ', true).isValid())\r\n            return moment(value, moment.ISO_8601, true).format('DD/MM/YYYY')\r\n        else\r\n            return value\r\n    }\r\n\r\n    const getFile = id => {\r\n        const file = docs.find(f => f.id === id)\r\n        if (id && file)\r\n            downloadFile(file.id, file.filename, docsCollection, file.metadata.fieldName);\r\n    }\r\n\r\n    return (\r\n        <table className='showDetailsTable'>\r\n            <thead>\r\n                <tr>\r\n                    <th className='tHeader'\r\n                        style={style}\r\n                        colSpan={length}>{title}</th>\r\n                </tr>\r\n                <tr>\r\n                    {tableHeaders.map((l, i) => <th key={i} style={style}>{l}</th>)}\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {\r\n                    arrayOfRows.map((el, j) =>\r\n                        <tr key={j} className={clickable ? 'clickable' : ''} onClick={() => clickable ? openInfo(j) : void 0}>\r\n                            {\r\n                                el.map((obj, i) =>\r\n                                    <td key={i} style={{ ...style, width: obj.field === 'numeroSei' && '200px' }} className={obj.type === 'link' && obj.fileId ? 'link2' : 'review'}\r\n                                        onClick={\r\n                                            () => obj.field === filePK && obj.fileId ? getFile(obj.fileId)\r\n                                                : obj?.action === 'delete' ? deleteFunction(el[idIndex]?.value)\r\n                                                    : null}>\r\n                                        {\r\n                                            obj.type === 'date' ? dateFormat(obj.value)\r\n                                                : obj?.action === 'delete' && el[idIndex]?.value ? <DeleteIcon {...deleteIconProperties} />\r\n                                                    : obj.value\r\n                                        }\r\n                                    </td>\r\n                                )}\r\n                        </tr>\r\n                    )}\r\n            </tbody>\r\n        </table >\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst StyledMenu = withStyles({\r\n    paper: {\r\n        border: '1px solid #d3d4d5',\r\n    },\r\n})((props) => (\r\n    <Menu\r\n        elevation={0}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n            vertical: 'center',\r\n            horizontal: 'right',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n        }}\r\n        {...props}\r\n    />\r\n));\r\n\r\nconst OnClickMenu = ({ anchorEl, handleClose, menuOptions }) => {\r\n\r\n\r\n    return (\r\n        <>\r\n            <StyledMenu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                {menuOptions.map(({ title, onClick }, i) => (\r\n                    <MenuItem key = {i} onClick={onClick}>{title}</MenuItem>\r\n                ))}               \r\n            </StyledMenu>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default OnClickMenu","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport { laudoForm } from '../Forms/laudoForm'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport Placa from '../Reusable Components/Placa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport CustomTable from '../Reusable Components/CustomTable'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport OnClickMenu from '../Reusable Components/OnClickMenu'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Search from '@material-ui/icons/Search'\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport Button from '@material-ui/core/Button'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\n\r\nconst LaudosTemplate = (\r\n    { empresas, razaoSocial, selectedEmpresa, filteredVehicles, selectedVehicle, stateInputs, selectOptions, table,\r\n        anchorEl, laudoDoc, dropDisplay, functions, demand, demandFiles, showPendencias, info, fileToRemove }) => {\r\n\r\n    const\r\n        placa = selectedVehicle?.placa,\r\n        { handleInput, clickOnPlate, showDetails, handleFiles, handleSubmit, closeMenu, clear,\r\n            removeFile, deleteLaudo, setShowPendencias } = functions\r\n\r\n    const renderColor = laudos => {\r\n        if (laudos && laudos[0] && laudos[0].validade) {\r\n            const { validade } = laudos[0]\r\n\r\n            if (moment(validade, moment.ISO_8601).isValid() && moment(validade).isAfter(moment().toDate())) return { backgroundColor: 'rgb(13, 136, 13)' }\r\n            if (moment(validade, moment.ISO_8601).isValid() && moment(validade).isBefore(moment().toDate())) return { backgroundColor: 'rgb(197, 128, 0)' }\r\n        }\r\n        else return { backgroundColor: 'rgb(136, 13, 13)' }\r\n    }\r\n\r\n    const deleteIconProperties = {\r\n        color: 'secondary',\r\n        title: 'Apagar Laudo',\r\n        style: { cursor: 'pointer' }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Laudos' demand={demand} selectedEmpresa={selectedEmpresa} />\r\n            <div style={demand ? { marginTop: '15px' } : {}}>\r\n                <SelectEmpresa\r\n                    empresas={empresas}\r\n                    data={{ razaoSocial, demand }}\r\n                    headerTitle={placa && selectedEmpresa && `Cadastro de laudo veicular ${placa} - ${selectedEmpresa?.razaoSocial}`}\r\n                    handleInput={handleInput}\r\n                />\r\n            </div>\r\n            {\r\n                selectedEmpresa && !Array.isArray(selectedEmpresa) && <>\r\n                    {!demand &&\r\n                        <header className='flex' style={{ marginBottom: '15px', justifyContent: 'space-between' }}>\r\n                            {\r\n                                !selectedVehicle ?\r\n                                    <FormSubtiltle\r\n                                        subtitle='Selecione o veículo para atualizar consultar ou inserir o laudo de segurança veicular.'\r\n                                        style={{ marginTop: '25px' }}\r\n                                    />\r\n                                    :\r\n                                    <Placa\r\n                                        veiculoId={selectedVehicle.veiculoId}\r\n                                        onClick={clickOnPlate}\r\n                                        style={{ ...renderColor(selectedVehicle.laudos), marginLeft: 0 }}\r\n                                        city={selectedEmpresa.cidade}\r\n                                        placa={selectedVehicle.placa}\r\n                                    />\r\n                            }\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{ name: 'placa' }}\r\n                                    InputLabelProps={{ style: { fontSize: '0.8rem' } }}\r\n                                    label='Filtrar'\r\n                                    onChange={handleInput}\r\n                                />\r\n                                <Search style={{ marginTop: '10px' }} />\r\n                            </div>\r\n                        </header>\r\n                    }\r\n                    {selectedVehicle && <>\r\n                        <main className='paper' style={demand ? { marginTop: '15px' } : {}}>\r\n                            <FormSubtiltle\r\n                                subtitle={\r\n                                    !demand ?\r\n                                        'Para inserir novo laudo, informe o número, a data de vencimento, a empresa que emitiu e anexe o documento referente ao laudo.'\r\n                                        :\r\n                                        'Verifique as informações abaixo, confira com o laudo anexo e escolha uma das opções abaixo.'\r\n                                }\r\n                            />\r\n\r\n                            <br />\r\n                            <br />\r\n                            <TextInput\r\n                                form={laudoForm}\r\n                                data={stateInputs}\r\n                                handleInput={handleInput}\r\n                                selectOptions={selectOptions}\r\n                            />\r\n                            {!demand ? <DragAndDrop\r\n                                name='laudoDoc'\r\n                                formData={laudoDoc}\r\n                                dropDisplay={dropDisplay}\r\n                                handleFiles={handleFiles}\r\n                                removeFile={removeFile}\r\n                                fileToRemove={fileToRemove}\r\n                                single={true}\r\n                                style={{ width: '400px', margin: '15px auto 0 auto' }}\r\n                            />\r\n                                : demandFiles &&\r\n                                <ShowLocalFiles\r\n                                    demand={demand}\r\n                                    collection='vehicleDocs'\r\n                                    demandFiles={demandFiles}\r\n                                    form={[{ title: 'Laudo veicular', name: 'laudoDoc' }]}\r\n                                //files={files}\r\n                                />\r\n                            }\r\n                        </main>\r\n                        <section>\r\n                            {\r\n                                selectedEmpresa && !demand ?\r\n                                    <Button\r\n                                        size=\"small\"\r\n                                        color='primary'\r\n                                        className='saveButton'\r\n                                        variant=\"contained\"\r\n                                        onClick={() => handleSubmit()}\r\n                                    //   disabled={!laudoDoc ? true : false}\r\n                                    >\r\n                                        Cadastrar Laudo\r\n                                    </Button>\r\n                                    : selectedEmpresa && demand ?\r\n                                        <StepperButtons\r\n                                            uniqueStep={true}\r\n                                            declineButtonLabel='Indeferir'\r\n                                            demand={demand}\r\n                                            setShowPendencias={() => setShowPendencias(!showPendencias)}\r\n                                            showPendencias={showPendencias}\r\n                                            info={info}\r\n                                            handleSubmit={handleSubmit}\r\n                                            handleInput={handleInput}\r\n                                        />\r\n                                        : null\r\n                            }\r\n                        </section>\r\n                    </>\r\n                    }\r\n\r\n                    <section>\r\n                        <h4>\r\n                            {!selectedVehicle ?\r\n                                <div className='flex' style={{ justifyContent: 'space-between' }}>\r\n                                    <div>\r\n                                        {`Exibindo ${filteredVehicles.length} veículos com mais de 15 anos.`}\r\n                                    </div>\r\n                                    <div className='flex placasCaption' style={{ fontSize: '0.8rem' }}>\r\n                                        <span>\r\n                                            <span style={{ paddingTop: '5px', color: 'rgb(13, 136, 13)' }}><StopIcon /></span> Laudo vigente\r\n                                        </span>\r\n                                        <span>\r\n                                            <span style={{ paddingTop: '5px', color: 'rgb(197, 128, 0)' }}><StopIcon /></span> Laudo vencido                                            </span>\r\n                                        <span>\r\n                                            <span style={{ paddingTop: '5px', color: 'rgb(136, 13, 13)' }}><StopIcon /></span> Nenhum Laudo cadastrado\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                :\r\n                                null\r\n                            }\r\n                        </h4>\r\n                    </section>\r\n\r\n                    {/* *********************** RENDERIZAÇÃO DAS PLACAS ********************************* */}\r\n                    {!selectedVehicle &&\r\n                        <section className='center flex paper'>\r\n                            {filteredVehicles.map((v, i) => (\r\n                                <Placa\r\n                                    key={i}\r\n                                    veiculoId={v.veiculoId}\r\n                                    onClick={clickOnPlate}\r\n                                    style={renderColor(v.laudos)}\r\n                                    city={selectedEmpresa.cidade}\r\n                                    placa={v.placa}\r\n                                />\r\n\r\n                            ))}\r\n                        </section>\r\n                    }\r\n\r\n                    <OnClickMenu\r\n                        anchorEl={anchorEl}\r\n                        handleClose={closeMenu}\r\n                        menuOptions={[{\r\n                            title: 'Detalhes',\r\n                            onClick: showDetails\r\n                        }\r\n                        ]}\r\n                    />\r\n                </>\r\n            }\r\n            {\r\n                selectedVehicle && selectedVehicle.laudos && !demand &&\r\n                <>\r\n                    {typeof table === 'object' ?\r\n                        <div className=\"paper\" style={{ marginTop: '52px', width: '100%', padding: '0', borderRadius: '5px', overflow: 'hidden' }}>\r\n                            <CustomTable\r\n                                length={table.tableHeaders.length}\r\n                                title={`Laudos vinculados ao veículo placa ${selectedVehicle.placa}`}\r\n                                table={table}\r\n                                style={{ textAlign: 'center', padding: '8px 0' }}\r\n                                deleteIconProperties={deleteIconProperties}\r\n                                deleteFunction={deleteLaudo}\r\n                                idIndex={1}\r\n                                filePK='laudoDoc'\r\n                                docsCollection='vehicleDocs'\r\n                            />\r\n                        </div>\r\n                        :\r\n                        <>\r\n                            <br />\r\n                            <br />\r\n                            <p>{table}</p>\r\n                        </>\r\n                    }\r\n                    <div className='voltarDiv' onClick={clear}>\r\n                        <ArrowBackIcon size='small' />\r\n                        <span style={{ padding: '2px 0 0 2px', marginLeft: '2px', fontSize: '1rem' }}>Voltar</span>\r\n                    </div>\r\n                </>\r\n            }\r\n        </React.Fragment >\r\n    )\r\n}\r\n\r\nexport default React.memo(LaudosTemplate)","import cpfValidator from '../Utils/cpfValidator'\r\nimport { cnpjValidator } from '../Utils/cnpjValidator'\r\n\r\nimport { clearFormat } from '../Utils/formatValues'\r\n\r\nexport const\r\n    codigoEmpresa = {\r\n        field: 'codigoEmpresa',\r\n        label: 'Código da Empresa'\r\n    },\r\n    razaoSocial = {\r\n        field: 'razaoSocial',\r\n        label: 'Empresa',\r\n        width: '340px'\r\n    },\r\n    placas = {\r\n        field: 'placas',\r\n        label: 'Veículos cadastrados',\r\n        width: '340px'\r\n    },\r\n    createdAt = {\r\n        field: 'createdAt',\r\n        label: 'Data do registro no sistema',\r\n        type: 'date',\r\n        width: '190px'\r\n    },\r\n    cnpj = {\r\n        field: 'cnpj',\r\n        label: 'CNPJ',\r\n        maxLength: 18,\r\n        //pattern: /^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2}$/,\r\n        errorHandler: (cnpjString) => cnpjValidator(cnpjString)\r\n    },\r\n    cpf = {\r\n        field: 'cpfSocio',\r\n        label: 'CPF',\r\n        maxLength: 14,\r\n        width: 190,\r\n        errorHandler: (cpfString) => cpfValidator(clearFormat(cpfString))\r\n    },\r\n    phone = {\r\n        label: 'Telefone',\r\n        //    minLength: 14,\r\n        maxLength: 15,\r\n        pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))'\r\n\r\n    },\r\n    email = {\r\n        label: 'E-mail',\r\n        type: 'email',\r\n        maxLength: 60,\r\n        pattern: '[a-zA-Z0-9]@[a-zA-Z0-9]{1,20}?[.]([a-zA-Z0-9])',\r\n    }","export function cnpjValidator(cnpj) {\r\n\r\n    cnpj = cnpj.replace(/[^\\d]+/g, '');\r\n\r\n    if (cnpj === '') return false;\r\n\r\n    if (cnpj.length !== 14)\r\n        return false;\r\n\r\n    // LINHA 10 - Elimina CNPJs invalidos conhecidos\r\n    if (cnpj === \"00000000000000\" ||\r\n        cnpj === \"11111111111111\" ||\r\n        cnpj === \"22222222222222\" ||\r\n        cnpj === \"33333333333333\" ||\r\n        cnpj === \"44444444444444\" ||\r\n        cnpj === \"55555555555555\" ||\r\n        cnpj === \"66666666666666\" ||\r\n        cnpj === \"77777777777777\" ||\r\n        cnpj === \"88888888888888\" ||\r\n        cnpj === \"99999999999999\")\r\n        return false; // LINHA 21\r\n\r\n    // Valida DVs LINHA 23 -\r\n    let tamanho = cnpj.length - 2,\r\n        numeros = cnpj.substring(0, tamanho),\r\n        digitos = cnpj.substring(tamanho),\r\n        soma = 0,\r\n        pos = tamanho - 7,\r\n        resultado\r\n    for (let i = tamanho; i >= 1; i--) {\r\n        soma += numeros.charAt(tamanho - i) * pos--;\r\n        if (pos < 2)\r\n            pos = 9;\r\n    }\r\n    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;    \r\n    if (resultado.toString() !== digitos.charAt(0))\r\n        return false;\r\n\r\n    tamanho = tamanho + 1;\r\n    numeros = cnpj.substring(0, tamanho);\r\n    soma = 0;\r\n    pos = tamanho - 7;\r\n    for (let i = tamanho; i >= 1; i--) {\r\n        soma += numeros.charAt(tamanho - i) * pos--;\r\n        if (pos < 2)\r\n            pos = 9;\r\n    }\r\n    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\r\n    if (resultado.toString() !== digitos.charAt(1))\r\n        return false; // LINHA 49\r\n\r\n    return true; // LINHA 51\r\n\r\n}\r\n\r\n/* export function cnpjValidator(c) {\r\n\r\n    var b = [6, 5, 4, 3, 2, 9, 8, 7, 6, 5, 4, 3, 2];\r\n\r\n    if ((c = c.replace(/[^\\d]/g, \"\")).length != 14)\r\n        return false;\r\n\r\n    if (/0{14}/.test(c))\r\n        return false;\r\n\r\n    for (var j = 0; j < 2; ++j) {\r\n        for (var i = 0, n = 0; i < 12 + j; n += c[i] * b[++i - j]);\r\n        if (c[12 + j] != ((n %= 11) < 2) ? 0 : 11 - n)\r\n            return false;\r\n    }\r\n\r\n    return true;\r\n\r\n}\r\n\r\n\r\n\r\n */\r\n/* export function cnpjValidator(cnpj) {\r\n\r\n    cnpj = cnpj.replace(/[^\\d]+/g, '');\r\n\r\n    if (cnpj === '') return false;\r\n\r\n    if (cnpj.length !== 14)\r\n        return false;\r\n\r\n    // Elimina CNPJs invalidos conhecidos\r\n    if (cnpj === \"00000000000000\" ||\r\n        cnpj === \"11111111111111\" ||\r\n        cnpj === \"22222222222222\" ||\r\n        cnpj === \"33333333333333\" ||\r\n        cnpj === \"44444444444444\" ||\r\n        cnpj === \"55555555555555\" ||\r\n        cnpj === \"66666666666666\" ||\r\n        cnpj === \"77777777777777\" ||\r\n        cnpj === \"88888888888888\" ||\r\n        cnpj === \"99999999999999\")\r\n        return false;\r\n\r\n    // Valida DVs\r\n    let\r\n        tamanho = cnpj.length - 2,\r\n        numeros = cnpj.substring(0, tamanho),\r\n        digitos = cnpj.substring(tamanho),\r\n        soma = 0,\r\n        pos = tamanho - 7,\r\n        resultado\r\n\r\n    for (let i = tamanho; i >= 1; i--) {\r\n        soma += numeros.charAt(tamanho - i) * pos--;\r\n        if (pos < 2)\r\n            pos = 9;\r\n    }\r\n    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\r\n    if (resultado !== digitos.charAt(0))\r\n        return false;\r\n\r\n    tamanho = tamanho + 1;\r\n    numeros = cnpj.substring(0, tamanho);\r\n    soma = 0;\r\n    pos = tamanho - 7;\r\n    for (let i = tamanho; i >= 1; i--) {\r\n        soma += numeros.charAt(tamanho - i) * pos--;\r\n        if (pos < 2)\r\n            pos = 9;\r\n    }\r\n    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\r\n    if (resultado !== digitos.charAt(1))\r\n        return false;\r\n\r\n    return true;\r\n} */","export default function cpfValidator(strCPF) {\r\n    if (!strCPF) return\r\n    let Soma;\r\n    let Resto;\r\n    Soma = 0;\r\n    if (strCPF === \"00000000000\") return false;\r\n\r\n    for (let i = 1; i <= 9; i++) Soma = Soma + parseInt(strCPF.substring(i - 1, i)) * (11 - i);\r\n    Resto = (Soma * 10) % 11;\r\n\r\n    if ((Resto === 10) || (Resto === 11)) Resto = 0;\r\n    if (Resto !== parseInt(strCPF.substring(9, 10))) return false;\r\n\r\n    Soma = 0;\r\n    for (let i = 1; i <= 10; i++) Soma = Soma + parseInt(strCPF.substring(i - 1, i)) * (12 - i);\r\n    Resto = (Soma * 10) % 11;\r\n\r\n    if ((Resto === 10) || (Resto === 11)) Resto = 0;\r\n    if (Resto !== parseInt(strCPF.substring(10, 11))) return false;    \r\n    return true;\r\n}\r\n","import { codigoEmpresa, razaoSocial, placas, createdAt } from '../Forms/commonFields'\r\n\r\nexport const eForm = [\r\n    {\r\n        field: 'razaoSocial',\r\n        width: '540px'\r\n    },\r\n    {\r\n        field: 'rua',\r\n        width: '540px'\r\n    },\r\n    {\r\n        field: 'situacao',\r\n        label: 'Situação'\r\n    },\r\n    {\r\n        ...codigoEmpresa\r\n    },\r\n    {\r\n        ...createdAt,\r\n        width: '150px',\r\n    },\r\n    {\r\n        field: 'frota',\r\n        label: 'Tamanho da Frota'\r\n    }\r\n]\r\n\r\nexport const sForm = [\r\n    {\r\n        ...razaoSocial\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n]\r\n\r\nexport const segForm = [\r\n    {\r\n        ...razaoSocial, field: 'empresa', width: '540px'\r\n    },\r\n    {\r\n        ...codigoEmpresa\r\n    },\r\n    {\r\n        ...createdAt, width: '150px'\r\n    },\r\n    {\r\n        ...placas\r\n    },\r\n    {\r\n        field: 'segurados',\r\n        label: 'Número de veículos segurados',\r\n    },\r\n]\r\n\r\nexport const vForm = [\r\n    {\r\n        field: 'codigoEmpresa',\r\n        label: 'Código do Delegatário',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        label: 'Delegatário',\r\n    },\r\n    {\r\n        field: 'dataRegistro',\r\n        label: 'Data do registro no sistema',\r\n        type: 'date',\r\n    },\r\n    {\r\n        field: 'cmt',\r\n        label: 'CMT (t)'\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total'\r\n    },\r\n    {\r\n        field: 'situacao',\r\n        label: 'Situação'\r\n    },\r\n    {\r\n        field: 'indicadorIdade',\r\n        label: 'Indicador de idade'\r\n    },\r\n    {\r\n        field: 'equipamentos',\r\n        label: 'Equipamentos'\r\n    },\r\n    {\r\n        field: 'marcaChassi',\r\n        label: 'Marca do Chassi',\r\n    },\r\n    {\r\n        field: 'marcaCarroceria',\r\n        label: 'Marca da Carroceria',\r\n    },\r\n    {\r\n        field: 'sipro',\r\n        label: 'SEI',\r\n    },\r\n    {\r\n        field: 'compartilhado',\r\n        label: 'Compartilhado por'\r\n    },\r\n    {\r\n        field: 'codigoCompartilhado',\r\n        label: 'Código Del. Compartilhado',\r\n    },\r\n    {\r\n        field: 'empresaLaudo',\r\n        label: 'Empresa Laudo',\r\n    },\r\n    {\r\n        field: 'numeroLaudo',\r\n        label: 'Número do Laudo',\r\n    },\r\n    {\r\n        field: 'vencimentoLaudo',\r\n        label: 'Validade do Laudo',\r\n        type: 'date'\r\n    },\r\n\r\n    {\r\n        field: 'acessibilidade',\r\n        label: 'Itens de Acessibilidade'\r\n    },\r\n    {\r\n        field: 'obs',\r\n        label: 'Observações',\r\n    },\r\n]","import { vistoriaForm } from './vistoriaForm'\r\nimport { seguroForm } from './seguroForm'\r\n\r\nexport const cadForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    maxLength: 8,\r\n    pattern: '[a-zA-Z]{3}[-]?[ ]?\\\\d{4}|[A-Z]{3}[-]?[ ]?[0-9]{1}[A-Z]{1}[0-9]{2}'\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    maxLength: 11,\r\n    pattern: /^(\\d{9}|\\d{11})$/\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilização',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Comercial', 'Comercial Executivo', 'Convencional', 'Convencional Executivo', 'Leito', 'Leito e Executivo', 'Semi-Leito', 'Semi-Leito Executivo']\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Número do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    autoComplete: true,\r\n    collection: 'modelosChassi'\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    max: Number(new Date().getFullYear()),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{\r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,\r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    datalist: 'modelo',\r\n    autoComplete: true,\r\n    collection: 'carrocerias'\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    max: Number(new Date().getFullYear() + 1),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{\r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,\r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situação da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veículo próprio', 'Alienação Fiduciária', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n}\r\n]]\r\n    .concat([seguroForm])\r\n    .concat([vistoriaForm])","import { cnpj, phone, email } from './commonFields'\r\n\r\nexport const empresasForm = [\r\n    {\r\n        field: 'razaoSocial',\r\n        label: 'Razão Social'\r\n    },\r\n    {\r\n        ...cnpj,\r\n        maxLength: 18,\r\n        //pattern: /^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2}$/\r\n        pattern: '[0-9]{2}.?[0-9]{3}.?[0-9]{3}/?[0-9]{4}-?[0-9]{2}'\r\n    },\r\n    {\r\n        field: 'inscricaoEstadual',\r\n        label: 'Inscrição Estadual',\r\n        maxLength: 13,\r\n        pattern: '\\\\d{13}'\r\n    },\r\n    {\r\n        ...phone,\r\n        field: 'telefone',\r\n        label: 'Telefone',\r\n    },\r\n    {\r\n        ...email,\r\n        field: 'email',\r\n        label: 'E-mail'\r\n    },\r\n    {\r\n        field: 'cep',\r\n        label: 'CEP',\r\n        maxLength: 10\r\n    },\r\n    {\r\n        field: 'rua',\r\n        label: 'Rua',\r\n        maxLength: 100,\r\n    },\r\n    {\r\n        field: 'numero',\r\n        label: 'Número',\r\n        type: 'number',\r\n        max: 32000\r\n    },\r\n    {\r\n        field: 'complemento',\r\n        label: 'Complemento',\r\n        maxLength: 20,\r\n        notRequired: true\r\n    },\r\n    {\r\n        field: 'bairro',\r\n        label: 'Bairro',\r\n        maxLength: 40,\r\n    },\r\n    {\r\n        field: 'cidade',\r\n        label: 'Cidade',\r\n        maxLength: 60,\r\n    },\r\n    {\r\n        field: 'uf',\r\n        label: 'Estado',\r\n        maxLength: 2,\r\n        pattern: '[A-Z]{2}'\r\n    },\r\n    {\r\n        field: 'numeroContrato',\r\n        label: 'Número do Contrato Social',\r\n    },\r\n    {\r\n        field: 'vencimentoContrato',\r\n        label: 'Vencimento do Cadastro - CRC',\r\n        type: 'date',\r\n    }\r\n]","import { cpf, email, phone } from './commonFields'\r\n\r\nconst width = 195\r\n\r\nexport const sociosForm = [{\r\n    field: 'nomeSocio',\r\n    label: 'Nome do Sócio',\r\n    maxLength: 90,\r\n    width\r\n},\r\n{\r\n    ...cpf,\r\n    width,\r\n    disabled: false\r\n},\r\n{\r\n    ...phone,\r\n    field: 'telSocio',\r\n    width\r\n},\r\n{\r\n    ...email,\r\n    field: 'emailSocio',\r\n    width\r\n},\r\n{\r\n    field: 'share',\r\n    label: 'Participação Societária (%)',\r\n    /* pattern: /(^100(,0{1,2})?$)|(^([1-9]([0-9])?|0)(,[0-9]{1,2})?$)/,\r\n    maxLength: 5, */\r\n    type: 'number',\r\n    max: 100,\r\n    width\r\n}]\r\n\r\n","import { cpf, email, phone } from './commonFields'\r\n\r\nexport const procuradorConsultasForm = [{\r\n    field: 'nomeProcurador',\r\n    label: 'Nome do Procurador',\r\n    maxLength: 90,\r\n    width: 220\r\n},\r\n{\r\n    ...cpf,\r\n    field: 'cpfProcurador',\r\n    width: 220\r\n},\r\n{\r\n    ...phone,\r\n    field: 'telProcurador',\r\n    width: 220\r\n},\r\n{\r\n    ...email,\r\n    field: 'emailProcurador',\r\n    width: 220\r\n},\r\n{\r\n    field: 'createdAt',\r\n    label: 'Data de inclusão no sistema',\r\n    type: 'date',\r\n    width: 220\r\n}\r\n]","export const empresaFieldsOrder = [\r\n    'codigoEmpresa',\r\n    'razaoSocial',\r\n    'situacao',\r\n    'createdAt',\r\n    'vencimentoContrato',\r\n    'numeroContrato',\r\n    'cnpj',\r\n    'inscricaoEstadual',\r\n    'rua',\r\n    'numero',\r\n    'complemento',\r\n    'bairro',\r\n    'cidade',\r\n    'estado',\r\n    'cep',\r\n    'telefone',\r\n    'email',\r\n    'frota',\r\n]\r\n\r\nexport const sociosFieldsOrder = [\r\n    'nomeSocio',\r\n    'cpfSocio',\r\n    'razaoSocial',\r\n    'share',\r\n    'createdAt',\r\n    'emailSocio',\r\n    'telSocio',\r\n]\r\n\r\nexport const procuradorFieldsOrder = [\r\n    'nomeProcurador',\r\n    'cpfProcurador',\r\n    'emailProcurador',\r\n    'telProcurador',\r\n    'codigoEmpresa',\r\n    'razaoSocial',\r\n    'createdAt',\r\n    'procuradorId'\r\n]\r\n\r\nexport const seguroFieldsOrder = [\"id\", \"apolice\", \"seguradoraId\", \"dataEmissao\", \"vencimento\", \"createdAt\", \"situacao\", \"seguradora\", \"codigoEmpresa\", \"empresa\", \"segurados\", \"placas\", \"veiculos\"]\r\n\r\nexport const vehicleFieldsOrder = [\"veiculoId\", \"placa\", \"renavam\", \"dataRegistro\", \"situacao\", \"utilizacao\", \"codigoEmpresa\", \"empresa\", \"dominio\", \"apolice\", \"seguradora\", \"dataEmissao\", \"vencimento\", \"cilindros\", \"potencia\", \"nChassi\",\r\n    \"anoChassi\", \"valorChassi\", \"modeloChassiId\", \"anoCarroceria\", \"valorCarroceria\", \"modeloCarroceriaId\", \"poltronas\", \"piquesPoltrona\", \"distanciaMinima\", \"distanciaMaxima\", \"eixos\", \"pneumaticosDianteiro\",\r\n    \"pneumaticosTraseiro\", \"pesoDianteiro\", \"pesoTraseiro\", \"pbt\", \"cores\", \"compartilhadoId\", \"equipamentosId\", \"acessibilidadeId\", \"sipro\", \"indicadorIdade\", \"marcaChassi\", \"modeloChassi\", \"cmt\",\r\n    \"marcaCarroceria\", \"empresa\", \"compartilhado\", \"codigoCompartilhado\", \"numeroLaudo\", \"empresaLaudo\", \"vencimentoLaudo\", \"equipamentos\", \"acessibilidade\", \"obs\"]\r\n\r\n","//@ts-check\r\n\r\nimport { vehicleFieldsOrder, seguroFieldsOrder, empresaFieldsOrder, procuradorFieldsOrder, sociosFieldsOrder } from \"../Consultas/fieldsOrder\"\r\n\r\n/**\r\n * @param {string} subject\r\n * @param {Object[]} rawData \r\n * @returns any\r\n */\r\nconst orderObjectKeys = (subject, rawData) => {\r\n\r\n    let keys\r\n\r\n    if (subject === 'empresas') {\r\n        keys = empresaFieldsOrder\r\n    }\r\n    else if (subject === 'socios' || subject === 'sócios') {\r\n        keys = sociosFieldsOrder\r\n    }\r\n    else if (subject === 'procuradores') {\r\n        keys = procuradorFieldsOrder\r\n    }\r\n    else if (subject === 'veículos' && rawData[0].veiculoId) {\r\n        keys = vehicleFieldsOrder\r\n    }\r\n    else if (subject === 'seguros')\r\n        keys = seguroFieldsOrder\r\n    else\r\n        return rawData\r\n    const orderedArray = []\r\n\r\n    rawData.forEach(obj => {\r\n        let tempObj = {}\r\n        keys.forEach(key => {\r\n            if (!tempObj[key])\r\n                tempObj[key] = obj[key]\r\n        })\r\n        orderedArray.push(tempObj)\r\n        tempObj = {}\r\n    })\r\n\r\n\r\n    return orderedArray\r\n}\r\n\r\nexport default orderObjectKeys\r\n","import { eForm, sForm, segForm, vForm } from '../Forms/joinForms'\r\n\r\nimport { cadForm } from '../Forms/cadForm'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport { seguroForm } from '../Forms/seguroForm'\r\nimport { procuradorConsultasForm } from '../Forms/procuradorConsultasForm'\r\nimport orderObjectKeys from './orderObjectKeys'\r\n\r\n//Essa função seleciona e formata todos os campos que aparecem no componente ShowDetails e na exportação do arquivo de excel no ConsultasContainer\r\nconst dataToReturn = (tab, data) => {\r\n    if (data) {\r\n        delete data.tableData\r\n\r\n        const\r\n            element = [],\r\n            formPattern = setForm(tab)\r\n\r\n        let subject\r\n        if (tab === 0)\r\n            subject = 'empresas'\r\n        if (tab === 1)\r\n            subject = 'socios'\r\n        if (tab === 2)\r\n            subject = 'procuradores'\r\n        if (tab === 3)\r\n            subject = 'veículos'\r\n        if (tab === 4)\r\n            subject = 'seguros'\r\n\r\n        const orderedData = orderObjectKeys(subject, [data])\r\n        data = orderedData[0] ? orderedData[0] : data\r\n\r\n        Object.keys(data).forEach(key => {\r\n            if (tab === 3) {\r\n                let { veiculoId, laudoId, tableData, modeloChassiId, modeloCarroceriaId, vencimentoContrato, delegatarioCompartilhado,\r\n                    acessibilidadeId, equipamentosId, compartilhadoId, ...vData } = data\r\n                data = vData\r\n            }\r\n\r\n            formPattern.forEach(({ field, label, type, width, fullWidth }) => {\r\n                if (key === field) {\r\n                    let obj = {}\r\n                    Object.assign(obj, { field, label, value: data[key] })\r\n                    if (type) Object.assign(obj, { type })\r\n                    if (width) Object.assign(obj, { width })\r\n                    element.push(obj)\r\n                    obj = {}\r\n                }\r\n            })\r\n        })\r\n\r\n        Object.keys(data).forEach(key => {\r\n\r\n            const equal = element.find(el => el.field === key)\r\n\r\n            if (!equal && tab === 3)\r\n                element.push({ field: key, label: key, value: data[key] })\r\n        })\r\n        return element\r\n    }\r\n}\r\n\r\nexport default dataToReturn\r\n\r\n//Essa função adiciona novos campos e sobrescreve configurações de design dos formulários utilizados em outras partes do sistema.\r\nfunction mergeForms(form, jForm) {\r\n    let\r\n        updatedForm = [],\r\n        updatedObj,\r\n        joinForm = [...jForm]\r\n\r\n    form.forEach(f => {\r\n        joinForm.forEach((jf, i) => {\r\n            if (f.field === jf.field) {\r\n                updatedObj = Object.assign({}, f, jf)\r\n                joinForm.splice(i, 1)\r\n                updatedForm.push(updatedObj)\r\n            }\r\n            else if (!updatedForm.find(el => el.field === f.field)) {\r\n                updatedForm.push(f)\r\n            }\r\n        })\r\n    })\r\n\r\n    updatedForm = updatedForm.concat(joinForm)\r\n\r\n    return updatedForm\r\n}\r\n//Junta os forms que aparecem apenas na tabela do ConsultaTemplate com outros campos do DB (próprios da tabela ou joins)\r\nexport function setForm(tab) {\r\n    let formPattern\r\n    switch (tab) {\r\n        case 0:\r\n            formPattern = mergeForms(empresasForm, eForm)\r\n            return formPattern\r\n        case 1:\r\n            formPattern = sociosForm.concat(sForm)\r\n            return formPattern\r\n        case 2:\r\n            formPattern = procuradorConsultasForm\r\n            return formPattern\r\n        case 3:\r\n            let consolidateForm = []\r\n            cadForm.forEach(form => {\r\n                consolidateForm.push(...form)\r\n            })\r\n            formPattern = consolidateForm.concat(...vForm)\r\n            return formPattern\r\n        case 4:\r\n            formPattern = seguroForm.concat(segForm)\r\n            return formPattern\r\n        default:\r\n            return formPattern\r\n    }\r\n}\r\n","export const procuradorEmpresaTable = [\r\n    {\r\n        field: 'nomeProcurador',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfProcurador',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'emailProcurador',\r\n        title: 'E-mail'\r\n    },\r\n    {\r\n        field: 'telProcurador',\r\n        title: 'Telefone'\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Validade da procuração',\r\n        type: 'date',\r\n        format: value => value ? value : 'Prazo indeterminado'\r\n    },\r\n    {\r\n        field: 'fileId',\r\n        title: 'Baixar Procuração',\r\n        type: 'link'\r\n    },\r\n]\r\n\r\n","const altContratoTable = [\r\n    {\r\n        field: 'numeroAlteracao',\r\n        label: 'Número da alteração',\r\n    },\r\n    {\r\n        field: 'numeroRegistro',\r\n        label: 'Registro na junta comercial',\r\n    },\r\n    {\r\n        field: 'numeroSei',\r\n        label: 'Número do registro SEI',\r\n    },\r\n    {\r\n        field: 'createdAt',\r\n        label: 'Registro no CadTI',\r\n        type: 'date',\r\n        format: value => value ? value : 'Nenhuma data informada'\r\n    },\r\n    {\r\n        field: 'dataJunta',\r\n        label: 'Data de Registro na Junta Comercial',\r\n        type: 'date',\r\n        format: value => value ? value : 'Nenhuma data informada'\r\n    },\r\n    {\r\n        field: 'fileId',\r\n        label: 'Baixar alteração contratual',\r\n        value: 'Clique para baixar o arquivo',\r\n        type: 'link'\r\n    },\r\n]\r\n\r\nexport default altContratoTable","import React from 'react'\r\n\r\nconst TextArea = props => {\r\n    return (\r\n        <>\r\n            <label htmlFor={props.id} className='obs__label'>{props.label}</label>\r\n            <textarea\r\n                className='obs__textArea'\r\n                cols=\"30\"\r\n                disabled={props.disabled === false ? false : true}\r\n                {...props}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TextArea\r\n","export const procuracaoForm = [{\r\n    field: 'razaoSocial',\r\n    title: 'Empresa',\r\n    maxLength: 90,\r\n    width: 220\r\n},\r\n{\r\n    field: 'codigoEmpresa',\r\n    title: 'Código da empresa',\r\n    width: 220\r\n},\r\n{\r\n    field: 'status',\r\n    title: 'Status',\r\n    width: 220\r\n},\r\n{\r\n    field: 'vencimento',\r\n    title: 'Validade da procuração',\r\n    type: 'date',\r\n    format: value => value ? value : 'Prazo indeterminado'\r\n},\r\n{\r\n    field: 'fileId',\r\n    title: 'Baixar Procuração',\r\n    type: 'link'\r\n},\r\n]","import React, { useState, useEffect } from 'react'\r\nimport moment from 'moment'\r\nimport CustomTable from './CustomTable'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport createFormPattern from '../Utils/createFormPattern'\r\nimport { procuradorEmpresaTable as procTable } from '../Forms/procuradorEmpresaTable'\r\nimport altContratoTable from '../Forms/altContratoTable'\r\nimport TextArea from './TextArea'\r\nimport { procuracaoForm } from '../Forms/procuracaoForm'\r\nimport { stringBR } from '../Veiculos/checkWeight'\r\n\r\nexport default function ShowDetails({ data, tab, title, header, close, empresas, procuracoes, procuradores, empresaDocs, altContrato }) {\r\n\r\n\r\n    //data é o objeto (row) do campo de dados de uma determinada tabela\r\n    const\r\n        //    [procs, setProcs] = useState(),\r\n        [table, setTable] = useState(),\r\n        [table2, setTable2] = useState(),\r\n        [tables, setTables] = useState([]),\r\n        element = createFormPattern(tab, data) || [], //Element é o form com a adição do campo value, inserindo data para cada objeto(field)\r\n        obs = element.find(el => el.field === 'obs'), //Informações adicionais no showDetails fora dos campos padrão (obs, equip, acessibilidade)\r\n        equipamentos = element.find(el => el.field === 'equipamentos'),\r\n        acessibilidade = element.find(el => el.field === 'acessibilidade')\r\n\r\n    //Cria tabela de procuradores e altContrato se o elemento for empresa\r\n    useEffect(() => {\r\n        //Estabelece variáveis para uso nos tabs diferentes\r\n        const\r\n            razaoSocial = element.find(el => el.field === 'razaoSocial')?.value,\r\n            codigoEmpresa = empresas.find(e => e.razaoSocial === razaoSocial)?.codigoEmpresa,\r\n            selectedDocs = procuracoes.filter(p => p.codigoEmpresa === codigoEmpresa),\r\n            selectedFiles = empresaDocs.filter(d => d.metadata?.fieldName === 'procuracao' && d.metadata?.empresaId === codigoEmpresa)\r\n        let\r\n            selectedProcs = [],\r\n            tableHeaders = [],\r\n            arrayOfRows = [],\r\n            row = [],\r\n            rowObj\r\n\r\n        const additionalInfo = (tab) => {\r\n            if (tab === 0) {\r\n                //Cria uma array de procuradores com base na array de procuradorId disponível na tabela Procuracao do Postgresql\r\n                procuradores.forEach(pr => {\r\n                    selectedDocs.forEach(doc => {\r\n                        if (doc.procuradores.some(p => p === pr.procuradorId)) {\r\n                            const\r\n                                tableRow = { ...pr, vencimento: doc.vencimento },\r\n                                file = empresaDocs.find(f => f.metadata.procuracaoId === doc.procuracaoId) // achar arquivo da procuração, se houver\r\n\r\n                            if (file)\r\n                                tableRow.fileId = file?.id\r\n                            selectedProcs.push(tableRow)\r\n                        }\r\n                    })\r\n                })\r\n\r\n                selectedProcs.forEach(proc => {\r\n                    procTable.forEach(fieldObj => {\r\n                        const { field } = fieldObj\r\n                        //insere o cabeçalho da tabela (apenas uma vez)\r\n                        if (!tableHeaders.some(t => t === fieldObj.title))\r\n                            tableHeaders.push(fieldObj.title)\r\n                        //insere as linhas (também apenas uma vez)\r\n                        if (proc.hasOwnProperty(field) && !row.some(o => o.hasOwnProperty(field))) {\r\n\r\n                            //se a coluna/field for um arquivo o valor que aparecerá na tabela é \"Clique para baixar...\"\r\n                            if (field === 'fileId' && proc.fileId)\r\n                                rowObj = { ...fieldObj, value: 'Clique para baixar a procuração', fileId: proc.fileId }\r\n                            //Senão, o valor é o valor da célula\r\n                            else\r\n                                rowObj = { ...fieldObj, value: proc[field] }\r\n\r\n                            //se a célula possuir um método de autoFormatação, aplicar\r\n                            if (fieldObj.format) {\r\n                                const value = fieldObj.format(proc[field])\r\n                                rowObj = { ...fieldObj, value }\r\n                            }\r\n                            row.push(rowObj)\r\n                        }\r\n                    })\r\n                    arrayOfRows.push(row)\r\n                    row = []\r\n                })\r\n\r\n                //Cria uma array de arquivos com base no id de cada procuração              \r\n                if (selectedProcs[0]) {\r\n                    //setProcs(selectedProcs)\r\n                    setTable({\r\n                        mainTitle: `Procuradores cadastrados para ${data?.razaoSocial}`,\r\n                        tableHeaders,\r\n                        arrayOfRows,\r\n                        docs: selectedFiles\r\n                    })\r\n                }\r\n                setAltContrato()\r\n            }\r\n        }\r\n        additionalInfo(tab)\r\n\r\n        //Se o elemento for Procurador, exibir tabela com procurações\r\n        if (tab === 2) {\r\n            const\r\n                procuradorId = (data?.procuradorId),\r\n                procs = procuracoes.filter(p => p.procuradores.includes(procuradorId))\r\n            let file\r\n            procs.forEach(p => {\r\n                file = empresaDocs.find(({ metadata }) => metadata?.procuracaoId === p.procuracaoId)\r\n                p.fileId = file?.id\r\n            })\r\n            //console.log(\"🚀 ~ file: ShowDetails.jsx ~ line 99 ~ useEffect ~ file\", procs)\r\n\r\n            procs.forEach(proc => {\r\n                procuracaoForm.forEach(fieldObj => {\r\n                    const { field } = fieldObj\r\n\r\n                    //insere o cabeçalho da tabela (apenas uma vez)\r\n                    if (!tableHeaders.some(t => t === fieldObj.title))\r\n                        tableHeaders.push(fieldObj.title)\r\n\r\n                    //insere as linhas (também apenas uma vez)\r\n                    if (proc.hasOwnProperty(field) && !row.some(o => o.hasOwnProperty(field))) {\r\n\r\n                        //se a coluna/field for um arquivo o valor que aparecerá na tabela é \"Clique para baixar...\"\r\n                        if (field === 'fileId' && proc.fileId)\r\n                            rowObj = { ...fieldObj, value: 'Clique para baixar a procuração', fileId: proc.fileId }\r\n                        //Senão, o valor é o valor da célula\r\n                        else\r\n                            rowObj = { ...fieldObj, value: proc[field] }\r\n\r\n                        //se a célula possuir um método de autoFormatação, aplicar\r\n                        if (fieldObj.format) {\r\n                            const value = fieldObj.format(proc[field])\r\n                            rowObj = { ...fieldObj, value }\r\n                        }\r\n                        row.push(rowObj)\r\n                    }\r\n                })\r\n                arrayOfRows.push(row)\r\n                row = []\r\n            })\r\n            //Cria uma array de arquivos com base no id de cada procuração              \r\n            if (procs[0])\r\n                setTable({\r\n                    mainTitle: `Procurações cadastrados para ${data?.nomeProcurador}`,\r\n                    tableHeaders,\r\n                    arrayOfRows,\r\n                    docs: empresaDocs\r\n                })\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [tab, altContrato])\r\n\r\n    //Cria a tabela que lista as alterações de contrato social caso o objeto exibido seja uma empresa\r\n    const setAltContrato = async () => {\r\n        if (altContrato) {\r\n            const\r\n                alteracoes = altContrato.filter(a => a.codigoEmpresa === data.codigoEmpresa),\r\n                altDocs = empresaDocs.filter(doc => doc?.metadata?.fieldName === 'altContratoDoc' && doc?.metadata.empresaId === data.codigoEmpresa)\r\n\r\n            let tableHeaders = [], arrayOfRows = [], row = [], rowObj = {}\r\n\r\n            alteracoes.forEach(alt => {\r\n                altContratoTable.forEach(fieldObj => {\r\n                    const { field } = fieldObj\r\n                    if (!tableHeaders.includes(fieldObj.label))\r\n                        tableHeaders.push(fieldObj.label)\r\n                    if (field === 'fileId' || !row.some(o => o.hasOwnProperty(field))) {\r\n                        //se a coluna/field for um arquivo o valor que aparecerá na tabela é \"Clique para baixar...\"\r\n                        if (field === 'fileId') {\r\n                            let fileId = altDocs.find(d => d.metadata.numeroAlteracao === alt.numeroAlteracao)\r\n                            fileId = fileId?.id\r\n                            if (fileId)\r\n                                rowObj = { ...fieldObj, value: fieldObj?.value, fileId }\r\n                            else\r\n                                rowObj = { ...fieldObj, value: '-' }\r\n\r\n                        }\r\n                        //Senão, o valor é o valor da célula\r\n                        else\r\n                            rowObj = { ...fieldObj, value: alt[field] || '-' }\r\n                        //se a célula possuir um método de autoFormatação, aplicar\r\n                        if (fieldObj.format) {\r\n                            const value = fieldObj.format(alt[field]) || '-'\r\n                            rowObj = { ...fieldObj, value }\r\n                        }\r\n                        row.push(rowObj)\r\n                    }\r\n                })\r\n\r\n                arrayOfRows.push(row)\r\n                row = []\r\n            })\r\n\r\n            console.log(\"🚀 ~ file: ShowDetails.jsx ~ line 198 ~ setAltContrato ~     arrayOfRows\", arrayOfRows)\r\n            if (alteracoes[0]) {\r\n                //setProcs(true)\r\n                setTable2({\r\n                    mainTitle: `Alterações do contrato social - ${data?.razaoSocial}`,\r\n                    tableHeaders,\r\n                    arrayOfRows,\r\n                    docs: altDocs\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    //Adiciona as tabelas\r\n    useEffect(() => {\r\n        const tableArray = []\r\n        if (table)\r\n            tableArray.push(table)\r\n        if (table2)\r\n            tableArray.unshift(table2)\r\n        if (tableArray[0])\r\n            setTables(tableArray)\r\n    }, [table, table2])\r\n\r\n    return (\r\n        <div className=\"popUpWindow\" style={{ left: '20%', right: '20%' }}>\r\n            <h4 className='equipaHeader'>{title} {data[header]}</h4> <hr />\r\n            <main className=\"checkListContainer\" style={{ justifyContent: 'flex-start' }}>\r\n                {\r\n                    element.map(({ field, label, value, type, width }, i) => field !== 'obs' &&\r\n                        field !== 'equipamentos' && field !== 'acessibilidade' &&\r\n                        <div className=\"showDetailsItem\" style={{ width: width ? width : 150, }} key={i}>\r\n                            <TextField\r\n                                name={field}\r\n                                label={label}\r\n                                value={\r\n                                    label.match('Peso ') ?\r\n                                        stringBR(value)\r\n                                        : type !== 'date' ?\r\n                                            value || ''\r\n                                            : moment(value, true).isValid() ?\r\n                                                value && moment(value).format('DD/MM/YYYY')\r\n                                                : ''\r\n                                }\r\n                                InputLabelProps={{ shrink: true, style: { fontSize: '0.9rem', fontWeight: 500 } }}\r\n                                inputProps={{\r\n                                    style: {\r\n                                        fontSize: '0.7rem',\r\n                                        width: width ? width : 150,\r\n                                        fontColor: '#bbb',\r\n                                        textAlign: 'center'\r\n                                    }\r\n                                }}\r\n                                variant='outlined'\r\n                            />\r\n                        </div>\r\n                    )}\r\n            </main>\r\n            {\r\n                //As tabelas aparecem nos detalhes das empresas, caso tenham procuradores e/ou alterações de contrato cadastrados\r\n                tables[0] &&\r\n                tables.map((table, i) =>\r\n                    <section key={i}>\r\n                        <hr style={{ margin: '12px 0' }} />\r\n                        <CustomTable\r\n                            length={table.tableHeaders.length}\r\n                            title={table.mainTitle}\r\n                            table={table}\r\n                            style={{ textAlign: 'center', padding: '8px 0' }}\r\n                            idIndex={1}\r\n                            filePK='fileId'\r\n                            docsCollection='empresaDocs'\r\n                        />\r\n                    </section>\r\n                )\r\n            }\r\n            {\r\n                //Se a tab for Veículos, há 3 textAreas depois dos detalhes: obs, equip e access.\r\n                tab === 3 &&\r\n                <footer className='flexColumn'>\r\n                    {\r\n                        equipamentos?.value &&\r\n                        <TextArea\r\n                            label='Equipamentos:'\r\n                            name='equipamentos'\r\n                            id='equipamentos'\r\n                            defaultValue={equipamentos?.value}\r\n                            rows='2'\r\n                        />\r\n                    }\r\n                    {\r\n                        acessibilidade?.value &&\r\n                        <TextArea\r\n                            label='Itens de acessibilidade:'\r\n                            name='acessibilidade'\r\n                            id='acessibilidade'\r\n                            defaultValue={acessibilidade?.value}\r\n                            rows='2'\r\n                        />\r\n                    }{\r\n                        obs?.value &&\r\n                        <TextArea\r\n                            label='Observações:'\r\n                            name='obs'\r\n                            id='obs'\r\n                            defaultValue={obs?.value}\r\n                            rows='6'\r\n                        />\r\n                    }\r\n                </footer>\r\n            }\r\n            <ClosePopUpButton close={close} />\r\n        </div>\r\n    )\r\n}","export const laudosTable = [\r\n    {\r\n        field: 'empresaLaudo',\r\n        title: 'Empresa Emissora',\r\n    },\r\n    {\r\n        field: 'id',\r\n        title: 'Número do Laudo',\r\n    },\r\n    {\r\n        field: 'createdAt',\r\n        title: 'Registro no sistema',\r\n        type: 'date'\r\n    },\r\n    {\r\n        field: 'validade',\r\n        title: 'Data de validade',\r\n        type: 'date'\r\n    },\r\n    \r\n    {\r\n        field: 'laudoDoc',\r\n        title: 'Laudo',\r\n        type: 'link'\r\n    },\r\n    {\r\n        field: 'delete',\r\n        title: 'Remover',        \r\n        action: 'delete',\r\n        deleteFile: true\r\n    }\r\n]\r\n\r\n\r\n","import React, { useState, useEffect, useCallback, Fragment } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport ConfirmDialog from '../Reusable Components/ConfirmDialog'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport LaudosTemplate from './LaudosTemplate'\r\nimport ShowDetails from '../Reusable Components/ShowDetails'\r\nimport { laudoForm } from '../Forms/laudoForm'\r\nimport { laudosTable } from '../Forms/laudosTable'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { setDemand } from '../Utils/setDemand'\r\nimport { sizeExceedsLimit } from '../Utils/handleFiles'\r\nimport { checkDemand } from '../Utils/checkDemand'\r\n\r\nlet i = 1 //prevent more than 1 re-render in specific functions/conditions\r\n\r\nconst Laudos = props => {\r\n    const\r\n        { user } = props,\r\n        { veiculos, empresas, empresasLaudo, laudos, vehicleDocs, logs } = props.redux,\r\n        demand = props?.location?.state?.demand\r\n\r\n    const initState = Object.freeze({\r\n        dropDisplay: 'Clique ou arraste o arquivo para anexar o laudo',\r\n        stateInputs: {\r\n            id: undefined,\r\n            validade: '',\r\n            empresaLaudo: ''\r\n        }\r\n    })\r\n\r\n    const\r\n        [razaoSocial, empresaInput] = useState(''),\r\n        [selectedEmpresa, setEmpresa] = useState(),\r\n        [oldVehicles, setOldVehicles] = useState(),\r\n        [filteredVehicles, setFilteredVehicles] = useState([]),\r\n        [details, setDetails] = useState(false),\r\n        [selectedVehicle, selectVehicle] = useState(),\r\n        [anchorEl, setAnchorEl] = useState(null),\r\n        [dropDisplay, setDropDisplay] = useState(initState.dropDisplay),\r\n        [laudoDoc, setLaudoDoc] = useState(),\r\n        [stateInputs, changeInputs] = useState({ ...initState.stateInputs }),\r\n        [toast, setToast] = useState(false),\r\n        [toastMsg, setToastMsg] = useState('Laudo enviado para aprovação.'),\r\n        [table, setTableData] = useState(),\r\n        [demandFiles, setDemandFiles] = useState(),\r\n        [fileToRemove, setFileToRemove] = useState(),\r\n        [showPendencias, setShowPendencias] = useState(false),\r\n        [alertDialog, setAlertDialog] = useState({\r\n            open: false,\r\n            type: 'inputError',\r\n            msg: '',\r\n        }),\r\n        [confirmDialogProps, setConfirmDialog] = useState({\r\n            open: false,\r\n            type: 'delete',\r\n            element: undefined,\r\n        })\r\n\r\n    //Se o usuário representa apenas uma empresa, seleciona a empresa e carrega os dados\r\n    if (empresas && empresas.length === 1 && i === 1) {\r\n        i++\r\n        setEmpresa(empresas[0])\r\n        empresaInput(empresas[0]?.razaoSocial)\r\n    }\r\n\r\n    useEffect(() => {                               //Set esc key to close details window\r\n        const escFunction = e => { if (e.keyCode === 27) setDetails(false); setAnchorEl(null) }\r\n        document.addEventListener('keydown', escFunction)\r\n        //, frota: veiculos\r\n    }, [])\r\n\r\n    //Se tiver demanda/solicitação, carregar os dados\r\n    if (demand && i === 1) {\r\n        i++\r\n        const\r\n            { history } = demand,\r\n            state = {},\r\n            fullDemand = setDemand(demand, props.redux),\r\n            empresa = fullDemand.selectedEmpresa,\r\n            dFiles = fullDemand.demandFiles,\r\n            { originalVehicle } = fullDemand\r\n\r\n        Object.entries(history[0]).forEach(([k, v]) => {            // Set state with demandState\r\n            if (stateInputs.hasOwnProperty(k))\r\n                state[k] = v\r\n        })\r\n\r\n        setEmpresa(empresa)\r\n        empresaInput(empresa.razaoSocial)\r\n        changeInputs(state)\r\n        setDemandFiles(dFiles)\r\n        selectVehicle(originalVehicle)\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        const insertLaudos = () => {\r\n            if (selectedEmpresa && selectedEmpresa !== '') {\r\n                // Estabelece quais são os veículos 15+anos (oldVehicles)\r\n                const\r\n                    currentYear = new Date().getFullYear(),\r\n                    frota = veiculos.filter(v => v.empresa === selectedEmpresa.razaoSocial),\r\n                    oldVehicles = frota.filter(v => currentYear - v.anoCarroceria > 15 && v.anoCarroceria !== null).sort((a, b) => a.placa.localeCompare(b.placa))\r\n\r\n                //Acrescenta os laudos atualizados para cada veículo 15+anos (oldVehicles)\r\n                let vehiclesLaudo = []\r\n                oldVehicles.forEach(v => {\r\n                    const vehicleLaudos = laudos.filter(l => l.veiculoId === v.veiculoId)\r\n                    vehiclesLaudo.push({ ...v, laudos: vehicleLaudos })\r\n                })\r\n\r\n                setOldVehicles(vehiclesLaudo)\r\n                setFilteredVehicles(vehiclesLaudo)\r\n\r\n                if (selectedVehicle && vehiclesLaudo?.length > 0) {\r\n                    const updatedVehicle = vehiclesLaudo.find(v => v.veiculoId === selectedVehicle.veiculoId)\r\n                    if (updatedVehicle?.laudos?.length !== selectedVehicle?.laudos?.length) {\r\n                        selectVehicle(updatedVehicle)\r\n                    } else return\r\n                }\r\n            } else {\r\n                setOldVehicles()\r\n                setFilteredVehicles([])\r\n                setEmpresa()\r\n            }\r\n        }\r\n\r\n        insertLaudos()\r\n    }, [selectedEmpresa, veiculos, laudos, selectedVehicle])\r\n\r\n    const handleInput = useCallback(e => {\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'razaoSocial') {\r\n            empresaInput(value)\r\n            const selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n            setEmpresa(selectedEmpresa)\r\n            return\r\n        }\r\n        if (name === 'placa' && oldVehicles[0]) {\r\n            if (typeof value === 'string') value = value.toLocaleUpperCase()\r\n            if (!value || value === '') setFilteredVehicles(oldVehicles)\r\n            else {\r\n                let vehicle\r\n                const filtered = oldVehicles.filter(v => v.placa.match(value))\r\n                if (filtered.length === 1) vehicle = filtered[0]\r\n\r\n                setFilteredVehicles(filtered)\r\n                selectVehicle(vehicle)\r\n                return\r\n            }\r\n        }\r\n        changeInputs({\r\n            ...stateInputs, [name]: value\r\n        })\r\n\r\n    }, [empresaInput, empresas, oldVehicles, stateInputs])\r\n\r\n    const clickOnPlate = async event => {\r\n        const\r\n            { id } = event.currentTarget,\r\n            demandExists = checkDemand(id, logs)\r\n\r\n        if (demandExists) {\r\n            alert('Solicitação de cadastro do laudo já realizada para este veículo.')\r\n            return\r\n        }\r\n\r\n        if (selectedVehicle) {\r\n            event.persist()\r\n            setAnchorEl(event.target);\r\n        } else {\r\n            const { id } = event.currentTarget\r\n            let v\r\n            if (id) v = oldVehicles.find(v => v.veiculoId.toString() === id)\r\n            selectVehicle(v)\r\n            setFilteredVehicles([v])\r\n        }\r\n    }\r\n\r\n    //Cria os cabeçalhos, linhas e células da tabela que exibe os laudos\r\n    useEffect(() => {\r\n        if (selectedVehicle && !demand) {\r\n            if (selectedVehicle.laudos && selectedVehicle.laudos[0]) {\r\n\r\n                const\r\n                    vehicleLaudos = selectedVehicle?.laudos,\r\n                    laudoDocs = vehicleDocs.filter(d => d.metadata.fieldName === 'laudoDoc')\r\n\r\n\r\n                let laudosArray = [], tableHeaders = [], tempArray = [], table2 = [...laudosTable]\r\n\r\n                //Remove a opção de apagar se o usuário não for admin (é o último objeto de laudosTable, de onde veio)\r\n                if (user.role === 'empresa')\r\n                    table2.pop()\r\n\r\n                vehicleLaudos.forEach(l => {\r\n                    table2.forEach(t => {\r\n                        let fileId\r\n\r\n                        // eslint-disable-next-line eqeqeq\r\n                        const laudoDoc = laudoDocs.find(d => d?.metadata?.laudoId == l?.id)\r\n                        if (laudoDoc)\r\n                            fileId = laudoDoc.id\r\n\r\n                        if (!tableHeaders.includes(t.title))\r\n                            tableHeaders.push(t.title)\r\n\r\n                        const { title, ...tableData } = t\r\n\r\n                        if (t.field === 'laudoDoc')\r\n                            tempArray.push({ ...tableData, value: l[t.field], fileId })\r\n                        else\r\n                            tempArray.push({ ...tableData, value: l[t.field] })\r\n                    })\r\n\r\n                    if (tempArray[4].fileId) tempArray[4].value = 'Clique para visualizar o laudo'\r\n                    else tempArray[4].value = 'Nenhum arquivo encontrado'\r\n                    laudosArray.push(tempArray)\r\n                    tempArray = []\r\n                })\r\n\r\n                table2 = [...laudosTable]\r\n                setTableData({ tableHeaders, arrayOfRows: laudosArray, docs: laudoDocs })\r\n\r\n            } else setTableData(`Nenhum laudo cadastrado para o veículo placa ${selectedVehicle.placa}.`)\r\n        }\r\n    }, [selectedVehicle, laudos, vehicleDocs, demand, user.role])\r\n\r\n    useEffect(() => {\r\n        i = 1\r\n        void 0\r\n    }, [])\r\n\r\n    const clear = () => {\r\n        document.querySelector('[name = \"placa\"]').value = ''\r\n        setFilteredVehicles(oldVehicles)\r\n        selectVehicle()\r\n    }\r\n\r\n    const showDetails = () => {\r\n        if (selectedVehicle) {\r\n            setDetails(!details)\r\n            setAnchorEl(null)\r\n        } else {\r\n            setDetails(false)\r\n            selectVehicle(undefined)\r\n            setAnchorEl(null)\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async approved => {\r\n        const\r\n            empresaId = selectedEmpresa?.codigoEmpresa,\r\n            veiculoId = selectedVehicle?.veiculoId\r\n        let\r\n            { empresaLaudo, ...requestElement } = stateInputs,\r\n            errors = checkInputErrors() || []\r\n\r\n        //***************************Check for errors*********************/\r\n        const laudoAlreadyExists = laudos.find(l => l.id === stateInputs.id)\r\n        if (laudoAlreadyExists) {\r\n            setAlertDialog({\r\n                ...alertDialog,\r\n                open: true,\r\n                msg: 'O laudo informado já existe no sistema. Laudo nº ' + laudoAlreadyExists.id.toString()\r\n            })\r\n            clearForm()\r\n            return\r\n        }\r\n        Object.keys(stateInputs).forEach(k => {\r\n            if (k !== 'validade' && (!stateInputs[k] || stateInputs[k] === '')) {\r\n                let errorLabel = laudoForm.find(obj => obj.field === k)?.label\r\n                errors.push(errorLabel)\r\n            }\r\n        })\r\n        if (errors[0]) {\r\n            setAlertDialog({\r\n                ...alertDialog,\r\n                open: true,\r\n                msg: 'Favor verificar o preenchimento dos seguintes campos: ' + errors.toString()\r\n            })\r\n            clearForm()\r\n            return\r\n        }\r\n\r\n        //***************************Prepare the Log *********************/\r\n        if (approved === undefined) {\r\n\r\n            const history = {\r\n                ...stateInputs\r\n            },\r\n                log = {\r\n                    empresaId,\r\n                    veiculoId,\r\n                    history,\r\n                    historyLength: 0,\r\n                    metadata: {\r\n                        fieldName: 'laudoDoc',\r\n                        veiculoId\r\n                    },\r\n                }\r\n\r\n            if (laudoDoc)\r\n                log.history.files = laudoDoc\r\n\r\n            logGenerator(log)\r\n                .then(r => console.log(r?.data))\r\n            clearForm('all fields, reset state please!')\r\n            removeFile('laudoDoc')\r\n            toggleToast()\r\n\r\n            setTimeout(() => { clear() }, 1200);\r\n            return\r\n        }\r\n\r\n        if (approved === false) {\r\n            const log = {\r\n                id: demand.id,\r\n                empresaId,\r\n                history: {\r\n                    info: stateInputs?.info\r\n                },\r\n                declined: true\r\n            }\r\n            logGenerator(log)\r\n                .then(r => console.log(r))\r\n            setToastMsg('Solicitação indeferida!')\r\n            toggleToast()\r\n\r\n            setTimeout(() => {\r\n                props.history.push('/solicitacoes')\r\n            }, 1500);\r\n        }\r\n\r\n        if (approved === true) {\r\n            //Prepare the request Object\r\n            const\r\n                empresa = empresasLaudo.find(e => e.empresa === empresaLaudo)\r\n\r\n            let laudoId\r\n            if (empresa)\r\n                requestElement.empresa_id = empresa.id  //Esse é id da empresa que emite o laudo\r\n            requestElement.veiculo_id = veiculoId\r\n            requestElement.codigo_empresa = empresaId    // Esse é o código da empresa/delegatário\r\n            const requestBody = { table: 'laudos', requestElement }\r\n\r\n            //Insert new laudo in \"Laudos\" table\r\n            await axios.post('/api/addElement', requestBody)\r\n                .then(r => {\r\n                    laudoId = r?.data[0]?.id\r\n                    console.log(r.data)\r\n                })\r\n                .catch(err => console.log(err))\r\n\r\n            //Record the log\r\n            const log = {\r\n                id: demand.id,\r\n                veiculoId,\r\n                demandFiles,\r\n                history: {},\r\n                metadata: {\r\n                    laudoId,\r\n                    tempFile: 'false'\r\n                },\r\n                approved\r\n            }\r\n            logGenerator(log)\r\n                .then(r => console.log(r.data))\r\n\r\n            //Toast cofirmation, clear State and redirect to Solicitacoes\r\n            setTimeout(() => { props.history.push('/solicitacoes') }, 1500);\r\n            setToastMsg('Laudo aprovado!')\r\n            toggleToast()\r\n            clearForm('Clear all Of It!!!')\r\n        }\r\n\r\n    }\r\n\r\n    function confirmDelete(laudoId) {\r\n        setConfirmDialog({\r\n            ...confirmDialogProps, open: true,\r\n            element: `laudo nº ${laudoId}`,\r\n            laudoId\r\n        })\r\n    }\r\n\r\n    function deleteLaudo(laudoId) {\r\n\r\n        const\r\n            { veiculoId } = selectedVehicle,\r\n            { codigoEmpresa } = selectedEmpresa\r\n\r\n        if (laudoId) {\r\n            closeConfirmDialog()\r\n\r\n            axios.delete(`/api/delete?table=laudos&tablePK=id&id=${laudoId}&veiculoId=${veiculoId}&codigoEmpresa=${codigoEmpresa}`)\r\n                .then(({ data }) => console.log(data))\r\n\r\n            const laudoDoc = vehicleDocs.find(d => d.metadata.fieldName === 'laudoDoc' && d.metadata.laudoId === laudoId.toString())\r\n            if (laudoDoc) axios.delete(`/api/deleteFile?collection=vehicleDocs&id=${laudoDoc?.id}&codigoEmpresa=${codigoEmpresa}`)\r\n                .then(({ data }) => console.log(data))\r\n        }\r\n    }\r\n\r\n    const handleFiles = (files, name) => {\r\n        //limit file Size\r\n        if (sizeExceedsLimit(files)) return\r\n\r\n        if (files && files[0]) {\r\n            let formData = new FormData()\r\n            formData.append('fieldName', 'laudoDoc')\r\n            formData.append('laudoId', stateInputs.id)\r\n            formData.append('veiculoId', selectedVehicle.veiculoId)\r\n            formData.append(name, files[0])\r\n            setLaudoDoc(formData)\r\n            setFileToRemove(undefined)\r\n            //  setDropDisplay(files[0].name)\r\n        }\r\n    }\r\n\r\n    const removeFile = async name => {\r\n        setFileToRemove(name)\r\n        setLaudoDoc(undefined)\r\n    }\r\n\r\n    const\r\n        closeMenu = () => setAnchorEl(null),\r\n        toggleAlert = () => setAlertDialog({ ...alertDialog, open: !alertDialog.open }),\r\n        toggleToast = () => setToast(!toast),\r\n        closeConfirmDialog = () => setConfirmDialog({ ...confirmDialogProps, open: false }),\r\n\r\n        clearForm = allFields => {\r\n            if (allFields) changeInputs({ ...initState.stateInputs })\r\n            setLaudoDoc()\r\n            setDropDisplay(initState.dropDisplay)\r\n            /*    setOldVehicles()\r\n               setFilteredVehicles() */\r\n        }\r\n\r\n    const selectOptions = props.redux.empresasLaudo.map(e => e.empresa)\r\n\r\n    return (\r\n        <Fragment>\r\n            <LaudosTemplate\r\n                empresas={empresas} razaoSocial={razaoSocial} selectedEmpresa={selectedEmpresa} filteredVehicles={filteredVehicles} selectedVehicle={selectedVehicle}\r\n                anchorEl={anchorEl} stateInputs={stateInputs} selectOptions={selectOptions} dropDisplay={dropDisplay} laudoDoc={laudoDoc} table={table}\r\n                demand={demand} demandFiles={demandFiles} showPendencias={showPendencias} fileToRemove={fileToRemove}\r\n                functions={{\r\n                    handleInput, clickOnPlate, showDetails, handleFiles, handleSubmit, closeMenu, clear, removeFile,\r\n                    setShowPendencias, deleteLaudo: confirmDelete\r\n                }}\r\n            />\r\n            {details && <ShowDetails\r\n                close={showDetails}\r\n                data={{ ...selectedVehicle, tableData: '' }}\r\n                tab={3}\r\n                title={'Veículo'}\r\n                header={'- informações'}\r\n            />}\r\n\r\n            {confirmDialogProps.open && <ConfirmDialog {...confirmDialogProps} close={closeConfirmDialog} confirm={deleteLaudo} id={confirmDialogProps.laudoId} />}\r\n\r\n            {alertDialog.open && <AlertDialog open={alertDialog.open} close={toggleAlert} alertType={alertDialog.type} customMessage={alertDialog.msg} />}\r\n            <ReactToast open={toast} close={toggleToast} msg={toastMsg} />\r\n        </Fragment >\r\n    )\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'empresasLaudo', 'laudos', 'getFiles/vehicleDocs']\r\nexport default StoreHOC(collections, Laudos)\r\n","import { createContext } from 'react'\r\n\r\nexport const ReactContext = createContext(null)\r\n\r\nexport const  initContext = {\r\n    user: 'MockUser',\r\n    demandId: null\r\n}\r\n\r\n\r\n\r\n","import React from 'react'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { MenuItem } from '@material-ui/core'\r\n\r\nexport default function BaixaOptions({ motivosBaixa, selectMotivo, selectedMotivo, demand }) {\r\n\r\n    return (\r\n        <>\r\n            <div className=\"flexColumn\">\r\n                {\r\n                    !demand && <>\r\n                        <h3>Selecione o motivo da baixa</h3>\r\n                        <TextField\r\n                            className='config__selector'\r\n                            onChange={selectMotivo}\r\n                            name='selectedOption'\r\n                            value={selectedMotivo || ''}\r\n                            select={true}\r\n                            placeholder='Clique para selecionar...'\r\n                            SelectProps={{\r\n                                style: {\r\n                                    fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                                    width: 325, height: '44px'\r\n                                }\r\n                            }}\r\n                        >\r\n                            {motivosBaixa.map((opt, i) =>\r\n                                <MenuItem key={i} value={opt} >\r\n                                    {opt}\r\n                                </MenuItem>\r\n                            )}\r\n                        </TextField>\r\n                    </>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport './baixa.scss'\r\n\r\nconst options = [\r\n    {\r\n        value: 'baixar',\r\n        label: 'Baixar veículo'\r\n    },\r\n    {\r\n        value: 'gerenciar',\r\n        label: 'Gerenciar veículos baixados'\r\n    }\r\n]\r\n\r\nexport default function BaixaOptions({ empresas, selectOption, parametros, demand, checked, delegaTransf, justificativa, pendencias, handleInput, handleBlur, handleCheck, handleSubmit }) {\r\n    return (\r\n        <div className=\"flex center\">\r\n            <div className=\"flexColumn \">\r\n                <h3 className='radio__title' >Selecione uma das opções abaixo</h3>\r\n                <FormControl component=\"fieldset\">\r\n                    <RadioGroup aria-label=\"position\" name=\"position\"\r\n                        onChange={selectOption} row\r\n                        style={{ width: 'auto' }}\r\n                        className='radio'\r\n                    >\r\n                        {\r\n                            options.map(({ value, label }, i) =>\r\n                                <FormControlLabel\r\n                                    key={i}\r\n                                    className='radio'\r\n                                    value={value}\r\n                                    label={<span className='radio__legend'> {label} </span>}\r\n                                    control={<Radio color=\"primary\" size='small' />}\r\n                                />\r\n                            )\r\n                        }\r\n                    </RadioGroup>\r\n                </FormControl>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nconst CustomButton = props => {\r\n    const { action, color, onClick, disabled } = props\r\n\r\n    let\r\n        icon = () => null,\r\n        label = ''\r\n\r\n    if (action === 'save') {\r\n        icon = () => <SaveIcon />\r\n        label = 'Salvar'\r\n    }\r\n    return (\r\n        <Button\r\n            size=\"small\"\r\n            color={color || 'primary'}\r\n            className='saveButton'\r\n            variant=\"contained\"\r\n            onClick={() => onClick()}\r\n            disabled={disabled}\r\n        >\r\n            {props.label || label} <span>&nbsp;&nbsp; </span> {icon()}\r\n        </Button>\r\n    )\r\n}\r\n\r\nexport default CustomButton","import React from 'react'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport CustomButton from '../Reusable Components/CustomButton';\r\nimport { dischargedForm as df } from '../Forms/dischargedForm';\r\n\r\nconst BaixaGerenciar = ({ data, user, handleInput, searchDischarged, downloadXls, reactivateVehicle }) => {\r\n    const\r\n        { role } = user,\r\n        { placaBaixada, dischargedFound, notFound, reactivate, selectedOption } = data\r\n\r\n\r\n    //Retira o campo observações, que será renderizado como blockElement fora do dischargedForm.map()\r\n    const\r\n        dischargedForm = JSON.parse(JSON.stringify(df)),\r\n        obs = dischargedForm.find(f => f.label === 'Observação'),\r\n        index = dischargedForm.indexOf(obs)\r\n\r\n    dischargedForm.splice(index, 1)\r\n\r\n    return (\r\n        <>\r\n            <div className='flex center paper'>\r\n                <header className='searchDischarged__header'>\r\n\r\n                    <div className='searchDischarged'>\r\n                        <div>\r\n                            <form onSubmit={searchDischarged}>\r\n                                <TextField\r\n                                    type=\"text\"\r\n                                    name='placaBaixada'\r\n                                    label='Pesquisar pela placa do veículo'\r\n                                    value={placaBaixada || ''}\r\n                                    onChange={handleInput}\r\n                                    placeholder='Digite a placa'\r\n                                    InputLabelProps={{ style: { fontSize: '0.7rem' } }}\r\n                                    InputProps={{ style: { width: '250px', marginRight: '10px', fontSize: '0.9rem', textAlign: 'center' } }}\r\n                                />\r\n                            </form>\r\n                            <span\r\n                                action='search'\r\n                                onClick={searchDischarged}\r\n                                style={{ marginTop: '18px' }}\r\n                            >\r\n                                <SearchIcon className='pointer' />\r\n                            </span>\r\n                        </div>\r\n                        {\r\n                            role !== 'empresa' &&\r\n                            <div className='downloadXls' onClick={downloadXls}>\r\n                                <img\r\n                                    className='downloadXls__icon'\r\n                                    src={selectedOption === 'baixar' ? '' : \"/images/excel.png\"}\r\n                                    alt=\"Fazer o download do arquivo xlsx\"\r\n                                    title='Arquivo xlsx com todos os veículos baixados'\r\n                                />\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </header>\r\n                {\r\n                    dischargedFound &&\r\n                    <>\r\n                        <section className='dischargedContainer'>\r\n                            {\r\n                                dischargedForm.map(({ label }, i) =>\r\n                                    <TextField\r\n                                        label={label}\r\n                                        key={i}\r\n                                        value={dischargedFound[label]}\r\n                                        disabled={true}\r\n                                        InputLabelProps={{ style: { fontSize: '0.7rem' }, shrink: true }}\r\n                                        InputProps={{\r\n                                            style: {\r\n                                                width: '250px', margin: '8px 10px 0 0', fontSize: '0.7rem',\r\n                                                color: label === 'Situação' && dischargedFound[label] === 'Reativado' ? 'red' : '#444'\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                )\r\n                            }\r\n                        </section>\r\n                        <section className='obs'>\r\n                            <label htmlFor=\"obs\" className='obs__label'>Observações:</label>\r\n                            <textarea\r\n                                name=\"obs\"\r\n                                id=\"obs\"\r\n                                className='obs__textArea'\r\n                                defaultValue={dischargedFound['Observação']}\r\n                                cols=\"30\"\r\n                                rows=\"6\" />\r\n                        </section>\r\n                        {\r\n                            reactivate &&\r\n                            <footer className='reactivate'>\r\n                                <CustomButton\r\n                                    action='save'\r\n                                    label='Reativar'\r\n                                    onClick={() => reactivateVehicle()}\r\n                                />\r\n                            </footer>\r\n                        }\r\n                    </>\r\n                }\r\n            </div>\r\n            {\r\n                notFound &&\r\n                <h3>Veículo não encontrado.</h3>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default BaixaGerenciar\r\n","export const baixaForm = [\r\n    {\r\n        field: 'placa',\r\n        label: 'Placa',\r\n        datalist: 'placa',\r\n        autoComplete: true,\r\n        collection: 'frota',\r\n        maxLength: 8\r\n    },\r\n    {\r\n        field: 'renavam',\r\n        label: 'Renavam',\r\n    },\r\n    {\r\n        field: 'nChassi',\r\n        label: 'Número do Chassi',\r\n        maxLength: 17,\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilização',\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'dominio',\r\n        label: 'Situação da Propriedade',\r\n        disabled: true\r\n    },\r\n\r\n    {\r\n        field: 'marcaChassi',\r\n        label: 'Marca do Chassi',\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloChassi',\r\n        label: 'Modelo do Chassi',\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'marcaCarroceria',\r\n        label: 'Marca da Carroceria',\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloCarroceria',\r\n        label: 'Modelo da Carroceria',\r\n        disabled: true\r\n    },\r\n    {\r\n        type: 'number',\r\n        field: 'indicadorIdade',\r\n        label: 'Indicador de idade',\r\n        disabled: true\r\n    }\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\n\r\nimport BaixaMotivo from './BaixaMotivo'\r\nimport BaixaOptions from './BaixaOptions'\r\nimport BaixaGerenciar from './BaixaGerenciar'\r\n\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\nimport Button from '@material-ui/core/Button'\r\nimport Send from '@material-ui/icons/Send'\r\n\r\nimport { baixaForm } from '../Forms/baixaForm'\r\nimport './veiculos.scss'\r\n\r\nexport default function ({ user, selectOption, handleInput, handleBlur, handleCheck, handleSubmit, selectMotivo,\r\n    data, empresas, motivosBaixa, searchDischarged, downloadXls, reactivateVehicle, setShowPendencias }) {\r\n    const { selectedEmpresa, selectedOption, checked, delegaTransf, justificativa, selectedMotivo, demand, info, motivo, showPendencias } = data\r\n\r\n    return (\r\n        <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Baixa de veículo' demand={demand} />\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}\r\n                handleBlur={handleBlur}\r\n            />\r\n            <div className=\"flexColumn\">\r\n                {//razaoSocial && frota[0] &&\r\n                    selectedEmpresa &&\r\n                    <>\r\n                        {\r\n                            !demand &&\r\n                            <BaixaOptions\r\n                                demand={demand}\r\n                                checked={checked}\r\n                                delegaTransf={delegaTransf}\r\n                                justificativa={justificativa}\r\n                                empresas={empresas}\r\n                                selectOption={selectOption}\r\n                                handleInput={handleInput}\r\n                                handleBlur={handleBlur}\r\n                                handleCheck={handleCheck}\r\n                                handleSubmit={handleSubmit}\r\n                            />\r\n                        }\r\n                        {\r\n                            selectedOption === 'baixar' ?\r\n                                <div className=\"flex\">\r\n                                    <section className=\"paper\">\r\n                                        <h3 style={{ marginBottom: '7px' }}>\r\n                                            {!demand ? 'Informe os dados para a baixa' : `Solicitação nº${demand?.numero} - ${demand?.subject}`}\r\n                                        </h3>\r\n                                        {demand &&\r\n                                            <h4>\r\n                                                {motivo}\r\n                                            </h4>\r\n                                        }\r\n                                        {demand &&\r\n                                            <h4>Situação: {demand?.status}</h4>\r\n                                        }\r\n                                        <TextInput\r\n                                            form={baixaForm}\r\n                                            data={data}\r\n                                            handleBlur={handleBlur}\r\n                                            handleInput={handleInput}\r\n                                            disableAll={demand ? true : false}\r\n                                        />\r\n                                    </section>\r\n                                    <BaixaMotivo\r\n                                        demand={demand}\r\n                                        selectedOption={selectedOption}\r\n                                        //delegaTransf={delegaTransf}\r\n                                        motivosBaixa={motivosBaixa}\r\n                                        selectMotivo={selectMotivo}\r\n                                        selectedMotivo={selectedMotivo}\r\n                                        info={info}\r\n                                        empresas={empresas}\r\n                                        handleInput={handleInput}\r\n                                        handleBlur={handleBlur}\r\n                                        handleSubmit={handleSubmit}\r\n                                        setShowPendencias={setShowPendencias}\r\n                                        showPendencias={showPendencias}\r\n                                    />\r\n                                </div>\r\n                                :\r\n                                selectedOption === 'gerenciar' ?\r\n                                    <BaixaGerenciar\r\n                                        data={data}\r\n                                        user={user}\r\n                                        handleInput={handleInput}\r\n                                        searchDischarged={searchDischarged}\r\n                                        downloadXls={downloadXls}\r\n                                        reactivateVehicle={reactivateVehicle}\r\n                                    />\r\n                                    : null\r\n                        }\r\n                        {\r\n                            !demand && selectedOption === 'baixar' ?\r\n                                <div className=\"flexEnd\">\r\n                                    <Button\r\n                                        size=\"small\"\r\n                                        color=\"primary\"\r\n                                        variant=\"outlined\"\r\n                                        style={{ margin: '10px 0 10px 0' }}\r\n                                        onClick={() => handleSubmit()}\r\n                                    >\r\n                                        Confirmar <span>&nbsp;&nbsp; </span> <Send />\r\n                                    </Button>\r\n                                </div>\r\n                                : demand ?\r\n                                    <StepperButtons\r\n                                        uniqueStep={true}\r\n                                        declineButtonLabel='Indeferir'\r\n                                        demand={demand}\r\n                                        setShowPendencias={setShowPendencias}\r\n                                        showPendencias={showPendencias}\r\n                                        info={info}\r\n                                        handleSubmit={handleSubmit}\r\n                                        handleInput={handleInput}\r\n                                    />\r\n                                    : null\r\n                        }\r\n                    </>\r\n                }\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport { ReactContext } from '../Store/ReactContext'\r\nimport axios from 'axios'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport BaixaTemplate from './BaixaTemplate'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\n\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { baixaForm } from '../Forms/baixaForm'\r\nimport { checkDemand } from '../Utils/checkDemand'\r\n\r\nimport './veiculos.scss'\r\nimport Loading from '../Layouts/Loading'\r\nimport { dischargedForm } from '../Forms/dischargedForm'\r\n\r\nclass BaixaVeiculo extends Component {\r\n\r\n    static contextType = ReactContext\r\n\r\n    state = {\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        frota: [],\r\n        placa: '',\r\n        form: {},\r\n        check: '',\r\n        delegaTransf: '',\r\n        toastMsg: 'Solicitação de Baixa Enviada',\r\n        confirmToast: false,\r\n        openDialog: false,\r\n        showPendencias: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n        const { empresas, veiculos } = this.props.redux\r\n\r\n        if (empresas && empresas.length === 1)\r\n            this.setState({ selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos })\r\n\r\n        const demand = this.props?.location?.state?.demand\r\n        if (demand) {\r\n            const\r\n                { empresas, veiculos } = this.props.redux,\r\n                { empresa, veiculo } = demand,\r\n                selectedEmpresa = empresas.find(e => e.razaoSocial === empresa),\r\n                frota = veiculos.filter(v => v.placa === veiculo),\r\n                selectedVehicle = frota.find(v => v.placa === veiculo),\r\n                motivo = demand?.history[0]?.info\r\n\r\n            await this.setState({ razaoSocial: empresa, selectedEmpresa, placa: veiculo, frota, ...selectedVehicle, selectedVehicle, demand, selectedOption: 'baixar', motivo })\r\n        }\r\n    }\r\n    selectOption = e => this.setState({ selectedOption: e.target.value })\r\n    selectMotivo = e => this.setState({ selectedMotivo: e.target.value })\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { name, value } = e.target,\r\n            { veiculos, empresas } = this.props.redux\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        if (name === 'razaoSocial' && value.length > 2) {\r\n            let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n                this.setState({ frota })\r\n\r\n            } else {\r\n                await this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                this.reset()\r\n            }\r\n        }\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const\r\n            { empresas, logs } = this.props.redux,\r\n            { frota, demand } = this.state,\r\n            { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'delegaTransf') {\r\n            if (value.length > 0) {\r\n                const delegaTransf = empresas.find(e => e.razaoSocial === value)\r\n                if (delegaTransf) {\r\n                    const { razaoSocial, codigoEmpresa } = delegaTransf\r\n                    await this.setState(\r\n                        {\r\n                            delegaTransf: razaoSocial,\r\n                            delegaTransfId: codigoEmpresa,\r\n                            disableSubmit: true\r\n                        }\r\n                    )\r\n                    console.log(this.state)\r\n                    void 0\r\n                } else this.setState({ openAlertDialog: true, alertType: 'empresaNotFound', delegaTransf: '' })\r\n            }\r\n        }\r\n\r\n        if (name === 'placa' && typeof frota !== 'string') {\r\n            if (!value || value === '') this.setState({ disableSubmit: true })\r\n\r\n            let vehicle\r\n            if (value.length > 2)\r\n                vehicle = frota.find(v => {\r\n                    if (typeof value === 'string') return v.placa.toLowerCase().match(value.toLowerCase())\r\n                    else return v.placa.match(value)\r\n                })\r\n\r\n            if (vehicle) {\r\n                if (!demand) {\r\n                    const\r\n                        customTitle = 'Solicitação já cadastrada',\r\n                        customMessage = `Já existe uma demanda aberta para o veículo de placa ${vehicle.placa}. Para acessá-la, clique em \"Solicitações\" no menu superior.`\r\n\r\n                    const demandExists = checkDemand(vehicle?.veiculoId, logs)\r\n\r\n                    if (demandExists) {\r\n                        this.setState({ customTitle, customMessage, openAlertDialog: true, delegatario: '', placa: undefined })\r\n                        return\r\n                    }\r\n                }\r\n\r\n                await this.setState({ ...vehicle, selectedVehicle: vehicle })\r\n\r\n            } else if (this.state.placa !== '') {\r\n                let reset = {}\r\n                if (frota[0]) Object.keys(frota[0]).forEach(k => reset[k] = '')\r\n                this.setState({ alertType: 'plateNotFound', openAlertDialog: true, disableSubmit: true })\r\n                this.setState({ ...reset })\r\n            }\r\n        }\r\n    }\r\n\r\n    handleSubmit = async (approved) => {\r\n        const\r\n            { empresas, veiculos } = this.props.redux,\r\n            { selectedEmpresa, veiculoId, selectedMotivo, demand, selectedVehicle, info, motivo } = this.state,\r\n            { dataEmissao, vencimento, dataRegistro } = selectedVehicle,\r\n            { codigoEmpresa } = selectedEmpresa\r\n\r\n        //**************Create Log****************** */\r\n        const log = {\r\n            empresaId: codigoEmpresa,\r\n            veiculoId,\r\n            history: { info: selectedMotivo ? `Motivo da baixa: ${selectedMotivo}` : motivo },\r\n            historyLength: 0,\r\n            approved\r\n        }\r\n        if (demand)\r\n            log.id = demand?.id\r\n        //Caso indeferida, registrar o motivo (info) e alterar a mensagem do toast\r\n        if (approved === false) {\r\n            log.declined = true\r\n            log.history.info = info\r\n            await this.setState({ toastMsg: 'Baixa de veículo indeferida.' })\r\n        }\r\n        logGenerator(log).then(r => console.log(r.data))\r\n\r\n        //*************If approved, submit request to update Postgres DB **************** */\r\n        if (approved) {\r\n            const\r\n                table = 'veiculos',\r\n                tablePK = 'veiculo_id',\r\n                discharged = {}\r\n\r\n            dischargedForm.forEach(({ field, label }) => {\r\n                if (selectedVehicle[field])\r\n                    discharged[label] = selectedVehicle[field].toString()\r\n            })\r\n            const motivoRaw = typeof motivo === 'string' && motivo.replace('Motivo da baixa: ', '')\r\n            Object.assign(discharged, {\r\n                'Situação': 'Baixado',\r\n                'Data de Registro': new Date(dataRegistro).toLocaleDateString(),\r\n                'Data baixa': new Date().toLocaleDateString(),\r\n                'Data Inicio': new Date(dataEmissao).toLocaleDateString(),\r\n                'Data Fim': new Date(vencimento).toLocaleDateString(),\r\n                'Motivo da Baixa': motivoRaw,\r\n                'Observação': `${motivo}`\r\n            })\r\n\r\n            //Salva o veículo baixado no MongoDB\r\n            axios.post('/api/baixaVeiculo', discharged)\r\n            //Apaga o veículo baixado do Postgresql\r\n            await axios.delete(`/api/delete?table=${table}&tablePK=${tablePK}&id=${veiculoId}&codigoEmpresa=${codigoEmpresa}`)\r\n                .then(r => console.log(r))\r\n                .catch(err => console.log(err))\r\n\r\n            await this.setState({ toastMsg: 'Baixa realizada com sucesso.' })\r\n        }\r\n\r\n        //***********Clear state****************** */        \r\n        this.toast()\r\n        //Se o usuário só tiver uma empresa, manter os dados da empresa após resetState\r\n        if (empresas && empresas.length === 1) {\r\n            const empresaDetails = { selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos }\r\n            await this.setState({ ...empresaDetails, selectedMotivo: undefined })\r\n        }\r\n        else\r\n            await this.setState({ selectedEmpresa: undefined, frota: [], razaoSocial: '', selectedMotivo: undefined })\r\n        this.reset()\r\n\r\n        //***********if demand, Redirect to /solicitacoes */        \r\n        if (demand)\r\n            setTimeout(() => {\r\n                this.props.history.push('/solicitacoes')\r\n            }, 1500)\r\n    }\r\n\r\n    searchDischarged = async e => {\r\n        e.preventDefault()\r\n        const\r\n            { placaBaixada } = this.state,\r\n            { parametros } = this.props.redux,\r\n            { idadeBaixaAut } = parametros[0]?.idadeBaixa,\r\n            query = await axios.get(`/api/getOldVehicles?placa=${placaBaixada}`),\r\n            result = query?.data\r\n\r\n        if (result[0]) {\r\n            const\r\n                found = result[0],\r\n                currentYear = new Date().getFullYear(),\r\n                year = +found['Ano carroceria'],\r\n                age = currentYear - year\r\n\r\n            let reactivate = true\r\n\r\n            if (age > idadeBaixaAut || found['Situação'] === 'Reativado')\r\n                reactivate = false\r\n\r\n            this.setState({ dischargedFound: result[0], notFound: false, reactivate })\r\n        }\r\n        else\r\n            this.setState({ notFound: true, dischargedFound: undefined })\r\n    }\r\n\r\n    reactivateVehicle = () => {\r\n        const\r\n            { dischargedFound } = this.state,\r\n            reqBody = {\r\n                placa: dischargedFound?.Placa,\r\n                'Situação': 'Reativado'\r\n            },\r\n            customTitle = 'Veículo reativado.',\r\n            customMessage = `O veículo de placa ${dischargedFound?.Placa} poderá ser recadastrado no sistema acessando as opções Veículos -> Cadastro de Veículos.`\r\n\r\n        axios.patch('/api/reactivateVehicle', reqBody)\r\n            .then(r => {\r\n                if (r.status === 200)\r\n                    this.setState({ customMessage, customTitle, openAlertDialog: true, placaBaixada: '', dischargedFound: undefined })\r\n                console.log(r.data)\r\n            })\r\n    }\r\n\r\n    reset = () => {\r\n        baixaForm.forEach(el => this.setState({ [el.field]: '' }))\r\n        this.setState({ delegaTransf: '', check: '', justificativa: '', checked: false, demand: undefined })\r\n    }\r\n\r\n    downloadXls = () => {\r\n        this.setState({ loading: true })\r\n        axios({\r\n            url: `/api/oldVehiclesXls`,\r\n            method: 'GET',\r\n            responseType: 'blob', // important\r\n            onDownloadProgress: (progressEvent) => {\r\n                Math.round((progressEvent.loaded))\r\n            }\r\n\r\n        }).then((response) => {\r\n            const\r\n                content = response.headers['content-disposition'],\r\n                i = content.indexOf('=') + 1,\r\n                fileName = content.slice(i)\r\n\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', fileName);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            this.setState({ loading: false })\r\n        })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    handleCheck = e => this.setState({ checked: e.target.value })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = toastMsg => this.setState({ confirmToast: !this.state.confirmToast, toastMsg: toastMsg ? toastMsg : this.state.toastMsg })\r\n\r\n    render() {\r\n        const\r\n            { user } = this.props,\r\n            { empresas, parametros } = this.props.redux,\r\n            { motivosBaixa } = parametros[0],\r\n            { delegaTransf, confirmToast, toastMsg, checked, openAlertDialog, customTitle, customMessage, alertType, loading } = this.state\r\n\r\n        return <Fragment>\r\n            <BaixaTemplate\r\n                data={this.state}\r\n                empresas={empresas}\r\n                user={user}\r\n                motivosBaixa={motivosBaixa}\r\n                checked={checked}\r\n                selectOption={this.selectOption}\r\n                selectMotivo={this.selectMotivo}\r\n                delegaTransf={delegaTransf}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                handleCheck={this.handleCheck}\r\n                handleSubmit={this.handleSubmit}\r\n                searchDischarged={this.searchDischarged}\r\n                downloadXls={this.downloadXls}\r\n                reactivateVehicle={this.reactivateVehicle}\r\n                setShowPendencias={this.setShowPendencias}\r\n            />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customTitle={customTitle} customMessage={customMessage} />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {loading && <Loading />}\r\n        </Fragment >\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'parametros', 'equipamentos', 'acessibilidade']\r\n\r\nexport default StoreHOC(collections, BaixaVeiculo)","import React from 'react'\r\nimport { TextField } from '@material-ui/core'\r\nimport AddCircleOutlineSharpIcon from '@material-ui/icons/AddCircleOutlineSharp';\r\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\r\n\r\n//Esse componente renderiza inputs de uma array no estado da aplicação\r\nconst SimpleParams = ({ data, handleInput, plusOne, removeOne }) => {\r\n    console.log(\"🚀 ~ file: SimpleParams.jsx ~ line 8 ~ SimpleParams ~ data\", data)\r\n\r\n    const state = [...data?.newState] || []\r\n\r\n    return (\r\n        <>\r\n            <header>\r\n                <h4 className='singleParams__title'>Clique nos campos abaixo para editar e/ou adicione novos.</h4>\r\n            </header>\r\n            {state.map((m, i) =>\r\n                <section className=\"singleParams__container\" key={i}>\r\n                    <div className=\"singleParams__rowContainer\">\r\n                        <TextField\r\n                            name={i.toString()}\r\n                            value={state[i]}\r\n                            onChange={handleInput}\r\n                            variant='filled'\r\n                            InputProps={{ style: { margin: '8px 0' } }}\r\n                            inputProps={{ style: { width: '300px', textAlign: 'center', fontSize: '10pt', height: '30px', padding: '5px 0' } }}\r\n                        />\r\n                        <div className='singleParams__deleteIcon' title='Remover' onClick={() => removeOne(i)}>\r\n                            <DeleteOutlinedIcon />\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            )}\r\n            <div className='addIcon'>\r\n                <div\r\n                    className=\"addIcon__container\"\r\n                    onClick={() => plusOne()}\r\n                >\r\n                    <span className=\"addIcon__text\">\r\n                        Adicionar\r\n                    </span>\r\n                    <AddCircleOutlineSharpIcon className='addIcon__icon' />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SimpleParams\r\n","import React from 'react'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\nexport default function CheckBoxFilter({ title, checked, toggleChecked }) {\r\n    return (\r\n        <>\r\n            <FormControlLabel\r\n                style={{ marginTop: '20px' }}\r\n                control={\r\n                    <Checkbox\r\n                        checked={checked === true}\r\n                        onChange={() => toggleChecked(!checked)}\r\n                        value={checked}\r\n                    />\r\n                }\r\n                label={\r\n                    <p style={{ color: '#2979ff', fontSize: '0.7rem', float: 'right' }}>\r\n                        {title}\r\n                    </p>\r\n                }\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport SimpleParams from './SimpleParams'\r\nimport CheckBoxFilter from '../Reusable Components/CheckBoxFilter';\r\nimport CustomButton from '../Reusable Components/CustomButton'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport './parametros.scss'\r\n\r\nconst ParametrosTemplate = ({ data, selectOption, handleInput, handleSubmit, plusOne, removeOne, outsider, toggleChecked }) => {\r\n\r\n    const { tab, options, selectedOption, form, modified } = data\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !outsider &&\r\n                <header className=\"selectHeader\">\r\n                    <Crumbs links={['Parâmetros', '/parametros']} text='Alteração de parâmetros do sistema' />\r\n                    <h4 className='parametrosTitle'>Alteração de parâmetros do sistema</h4>\r\n                    {/* ******************Select box ******************** */}\r\n                    <TextField\r\n                        className='config__selector'\r\n                        onChange={selectOption}\r\n                        name='selectedOption'\r\n                        value={selectedOption || ''}\r\n                        select={true}\r\n                        label={!selectedOption && 'Selecione uma das opções...'}\r\n                        SelectProps={{\r\n                            style: {\r\n                                fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                                width: 325, height: '44px'\r\n                            }\r\n                        }}\r\n                    >\r\n                        {options.map((opt, i) =>\r\n                            <MenuItem key={i} value={opt} >\r\n                                {opt}\r\n                            </MenuItem>\r\n                        )}\r\n                    </TextField>\r\n                </header>\r\n            }\r\n            {\r\n                form && tab !== 3 && tab !== 5 &&\r\n                <main className='configForm'>\r\n                    <TextInput\r\n                        form={form}\r\n                        data={data}\r\n                        handleInput={handleInput}\r\n                        style={{ width: '100%', flexDirection: 'column' }}\r\n                    />\r\n                </main>\r\n            }\r\n            {/* Formulário simples que representa uma array de strings no DB / estado local  */}\r\n            {\r\n                (tab === 3 || tab === 6) &&\r\n                <SimpleParams\r\n                    form={form}\r\n                    data={data}\r\n                    plusOne={plusOne}\r\n                    removeOne={removeOne}\r\n                    handleInput={handleInput}\r\n                    style={{ width: '100%', flexDirection: 'column' }}\r\n                />\r\n            }\r\n            {\r\n                tab === 5 &&\r\n                <div className=\"flex center\">\r\n                    <CheckBoxFilter\r\n                        title='Habilitar validação de campos'\r\n                        checked={data.inputValidation}\r\n                        toggleChecked={toggleChecked}\r\n                    />\r\n                </div>\r\n            }\r\n            {/* Botão de salvar independe do formulário renderizado, desde que alguma opção tenha sido selecionada */}\r\n            {\r\n                selectedOption &&\r\n                <div style={{ minHeight: '60px', position: 'flex' }}>\r\n                    <CustomButton\r\n                        action='save'\r\n                        onClick={handleSubmit}\r\n                        disabled={!modified}\r\n                    />\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ParametrosTemplate","const\r\n    commonProps = {\r\n        variant: 'outlined',\r\n        pattern: /^[0-9]*$/,\r\n        maxLength: 2\r\n    },\r\n    { variant } = commonProps\r\n\r\nexport const distancias = [\r\n    {\r\n        field: 'comercial',\r\n        label: 'Comercial',\r\n    },\r\n    {\r\n        field: 'comercialExecutivo',\r\n        label: 'Comercial Executivo',\r\n    },\r\n    {\r\n        field: 'convencional',\r\n        label: 'Convencional',\r\n    },\r\n    {\r\n        field: 'convencionalExecutivo',\r\n        label: 'Convencional Executivo',\r\n    },\r\n    {\r\n        field: 'leito',\r\n        label: 'Leito',\r\n    },\r\n    {\r\n        field: 'leitoExecutivo',\r\n        label: 'Leito e Executivo'\r\n    },\r\n    {\r\n        field: 'semiLeito',\r\n        label: 'Semi-Leito',\r\n    },\r\n    {\r\n        field: 'semiLeitoExecutivo',\r\n        label: 'Semi-Leito Executivo',\r\n    }\r\n]\r\n\r\nexport const parametrosIdade = [\r\n    {\r\n        field: 'idadeMaxCad',\r\n        label: 'Idade máxima para cadastro (anos)',\r\n        ...commonProps\r\n    },\r\n    {\r\n        field: 'difIdade',\r\n        label: 'Diferença tolerável de idade da carroceria e chassi (anos)',\r\n        ...commonProps,\r\n        maxLength: 1\r\n    },\r\n    {\r\n        field: 'idadeBaixaAut',\r\n        label: 'Idade para baixa automática (anos)',\r\n        ...commonProps,\r\n    },\r\n    {\r\n        field: 'diaBaixaAut',\r\n        label: 'Dia para baixa automática (dd/mm)',\r\n        maxLength: 5,\r\n        pattern: /^(0[1-9]|[12][0-9]|30(?!\\/02)|31(?!\\/(0[2469]|11)))\\/(0[1-9]|1[0-2])$/,\r\n        variant,\r\n    },\r\n    {\r\n        field: 'prazoAvisoBaixa',\r\n        label: 'Prazo para aviso de baixa (dias)',\r\n        ...commonProps,\r\n        maxLength: 3\r\n    }\r\n]\r\n\r\n\r\n\r\nexport const motivosBaixa = [\r\n    {\r\n        field: 'motivoBaixa',\r\n        label: 'Inserir novo motivo',\r\n    }\r\n]\r\n\r\n\r\nexport const nomes = [\r\n    {\r\n        field: 'secretaria',\r\n        label: 'Nome da Secretaria',\r\n    },\r\n    {\r\n        field: 'subsecretaria',\r\n        label: 'Nome da Subsecretaria',\r\n    },\r\n    {\r\n        field: 'superintendencia',\r\n        label: 'Nome da Superintendencia',\r\n    },\r\n    {\r\n        field: 'diretoria',\r\n        label: 'Nome da diretoria',\r\n    },\r\n    {\r\n        field: 'sistema',\r\n        label: 'Nome do sistema',\r\n    },\r\n    {\r\n        field: 'siglaSecretaria',\r\n        label: 'Sigla da Secretaria',\r\n    },\r\n    {\r\n        field: 'siglaSistema',\r\n        label: 'Sigla do Sistema',\r\n    }\r\n]\r\n\r\nexport const prazosAviso = [\r\n    {\r\n        field: 'prazoAlertaLaudo',\r\n        label: 'Prazos para aviso de vencimento do Laudo (dias)',\r\n        pattern: /^\\d+(?:,\\s*\\d{1,3})*$/,\r\n        maxLength: 50,\r\n    },\r\n    {\r\n        field: 'prazoAlertaProcuracao',\r\n        label: 'Prazos para aviso de vencimento da Procuração (dias)',\r\n        pattern: /^\\d+(?:,\\s*\\d{1,3})*$/,\r\n        maxLength: 50,\r\n    },\r\n    {\r\n        field: 'prazoAlertaSeguro',\r\n        label: 'Prazos para aviso de vencimento do Seguro (dias)',\r\n        pattern: /^\\d+(?:,\\s*\\d{1,3})*$/,\r\n        maxLength: 50,\r\n    }\r\n]\r\n\r\n\r\n\r\nexport const adminEmails = [\r\n    {\r\n        field: 'adminEmails',\r\n        label: 'Editar e-mails para envio de alertas diários',\r\n    }\r\n]\r\n","import React, { useState, useEffect, useCallback } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\n\r\nimport ParametrosTemplate from './ParametrosTemplate'\r\nimport { distancias, nomes, parametrosIdade, motivosBaixa, prazosAviso, adminEmails } from '../Forms/parametrosForm'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\n\r\nconst Parametros = props => {\r\n    //A prop 'params' são os nomes das propriedades do objeto do estado inicial, seja o nome de uma prop do DB seja do arquivo ./defaultParams.js\r\n    const\r\n        [state, setState] = useState({\r\n            options: ['Idade e prazos para baixa', 'Distância mínima entre poltronas', 'Nomenclaturas', 'Motivos para baixa do veículo', 'Prazos para avisos automáticos do sistema', 'Validação de campos', 'Emails para notificação automática'],\r\n            params: ['idadeBaixa', 'distanciaPoltronas', 'nomes', 'motivosBaixa', 'prazosAlerta', 'inputValidation', 'adminEmails'],\r\n            forms: [parametrosIdade, distancias, nomes, motivosBaixa, prazosAviso, adminEmails],\r\n        }),\r\n\r\n        { toastMsg, toastStatus, confirmToast } = state,\r\n        { outsider } = props\r\n\r\n    //Quando renderizado pelo componente Config de veículos, a prop outsider é definida como true, o state é configurado para a opção Motivo da baixa\r\n    useEffect(() => {\r\n        if (outsider) {\r\n            const\r\n                { parametros } = props.redux\r\n                , data = parametros[0]['motivosBaixa']\r\n\r\n            if (data && typeof data === 'object' && parametros[0]?.id)\r\n                data.id = parametros[0].id\r\n\r\n            setState({\r\n                ...state,\r\n                form: motivosBaixa,\r\n                tab: 3,\r\n                initState: data,\r\n                newState: data,\r\n                selectedOption: \"Motivos para baixa do veículo\"\r\n            })\r\n        }\r\n        return () => void 0\r\n        //eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [outsider])\r\n\r\n    //Seleciona o conjunto de parâmetros p editar\r\n    const selectOption = useCallback(e => {\r\n        const\r\n            { name, value } = e.target,\r\n            { parametros } = props.redux,\r\n            { options, forms, params } = state,\r\n            tab = options.indexOf(value),\r\n            form = forms[tab]\r\n\r\n        let data = parametros[0][params[tab]]\r\n\r\n        if (data && data instanceof Object && parametros[0]?.id)\r\n            data.id = parametros[0].id\r\n        // Se o parâmetro alterado for o inputValidation, é preciso criar um objeto com id para enviar como request e alterar o coleção parametros do MongoDB\r\n        else if (typeof data === 'boolean')\r\n            data = { id: parametros[0].id, inputValidation: data }\r\n\r\n\r\n        //Se for singleParams, criar uma cópia da data como newState e não usar spreadOperator\r\n        if (tab === 3 || tab === 6)\r\n            setState({ ...state, initState: data, newState: data, [name]: value, tab, form, modified: false })\r\n        else\r\n            setState({ ...state, ...data, initState: data, [name]: value, tab, form, newState: undefined, modified: false })\r\n    }, [props.redux, state])\r\n\r\n    //Nos formulários simples (que representam array de strings), adiciona mais um campo vazio\r\n    const plusOne = () => {\r\n        let newState = [...state.initState]\r\n        if (state.newState)\r\n            newState = [...state.newState]\r\n\r\n        newState[newState.length] = ''\r\n        setState({ ...state, newState })\r\n    }\r\n\r\n    const removeOne = index => {\r\n        const { initState, newState } = state\r\n\r\n        let modifiedArray = [...initState]\r\n        if (newState)\r\n            modifiedArray = [...newState]\r\n        modifiedArray.splice(index, 1)\r\n\r\n        const modified = checkForChanges(null, null, modifiedArray)\r\n        setState({ ...state, newState: modifiedArray, modified })\r\n    }\r\n\r\n    //Set state com input do usuário\r\n    const handleInput = async e => {\r\n        const\r\n            { tab } = state,\r\n            { name, value } = e.target\r\n\r\n        let modified\r\n\r\n        //Para tabs que a data é uma array de strings, o função checkForChanges recebe outros parâmetros e o estado atualizado é uma array, não props\r\n        if (tab === 3 || tab === 6) {\r\n            const tempState = [...state.newState]\r\n            tempState[name] = value\r\n\r\n            modified = checkForChanges(null, null, tempState)\r\n            setState({ ...state, newState: tempState, modified })\r\n        }\r\n        else {\r\n            modified = checkForChanges(name, value)\r\n            setState({ ...state, [name]: value, modified })\r\n        }\r\n    }\r\n\r\n    //Detecta se houve mudança e salva o input do usuário no state\r\n    const checkForChanges = (name, value, newArray) => {\r\n        const { initState } = state\r\n        let\r\n            modified = false,\r\n            stateChanged,\r\n            fieldChanged,\r\n            changedArray\r\n        //Se for passada uma array, compara a array com a array inicial do estado\r\n        if (newArray)\r\n            changedArray = initState.toString() !== newArray.toString()\r\n\r\n        //Senão, compara cada campo input (...com props spreaded no state) com o estado inicial\r\n        else {\r\n            Object.keys(initState).forEach(k => {\r\n                if (k !== name && state[k].toString() !== initState[k].toString())\r\n                    stateChanged = true\r\n            })\r\n            fieldChanged = initState[name] && initState[name].toString() !== value\r\n        }\r\n        if (fieldChanged || stateChanged || changedArray)\r\n            modified = true\r\n        return modified\r\n    }\r\n\r\n\r\n    const toggleInputValidation = () => {\r\n        const\r\n            inputValidation = !state?.inputValidation\r\n            , modified = inputValidation !== state.initState.inputValidation\r\n        setState({ ...state, inputValidation, modified })\r\n    }\r\n\r\n\r\n    //Salva as alterações feitas\r\n    const handleSubmit = () => {\r\n        const\r\n            { tab, forms, params, initState, newState, inputValidation } = state,\r\n            { id } = initState,\r\n            form = forms[tab],\r\n            keys = form && form.map(f => f.field),\r\n            parametro = params[tab]\r\n\r\n        let requestObj = {}\r\n\r\n        //Se o estado modificável for uma array de strings (ex: tab===3), o requestObj é uma array\r\n        if (tab === 3 || tab === 6) {\r\n            newState.forEach((prop, i) => {         //Tira campos vazios do request\r\n                if (prop === '')\r\n                    newState.splice(i, 1)\r\n            })\r\n            setState({ ...state, newState })\r\n            requestObj = newState\r\n        }\r\n        //Para a alteração de prazos, é necessário transformar o string input em array de números antes de enviar\r\n        else if (tab === 4) {\r\n            for (let obj of form) {\r\n                let prazos = state[obj.field]\r\n\r\n                if (!Array.isArray(prazos))\r\n                    prazos = prazos.split(',')\r\n                prazos = prazos.map(p => Number(p))\r\n\r\n                Object.assign(requestObj, { [obj.field]: prazos })\r\n            }\r\n            //validação\r\n            const errors = checkInputErrors()\r\n            if (errors) {\r\n                alert(`Os prazos devem ser informados em números de dias e separados por vírgula. Favor verificar o preenchimento.`)\r\n                return\r\n            }\r\n        }\r\n        else if (tab === 5)\r\n            requestObj = inputValidation\r\n\r\n        else\r\n            keys.forEach(k => Object.assign(requestObj, { [k]: state[k] }))\r\n\r\n        axios.patch('/api/parametros', { [parametro]: requestObj, id })\r\n            .then(r => {\r\n                if (r.status === 200) {\r\n                    toast(r.data)\r\n                    setTimeout(() => {\r\n                        if (tab === 5)\r\n                            setState({ ...state, initState: { id, inputValidation }, modified: false })\r\n                        else\r\n                            setState({ ...state, initState: requestObj, modified: false })\r\n                    }, 1200);\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    const toast = (toastMsg, toastStatus) => setState({ ...state, confirmToast: !state.confirmToast, toastMsg, toastStatus })\r\n\r\n    return (\r\n        <>\r\n            <ParametrosTemplate\r\n                data={state}\r\n                selectOption={selectOption}\r\n                plusOne={plusOne}\r\n                removeOne={removeOne}\r\n                handleInput={handleInput}\r\n                handleSubmit={handleSubmit}\r\n                outsider={props.outsider}\r\n                toggleChecked={toggleInputValidation}\r\n            />\r\n            <ReactToast open={confirmToast} close={toast} msg={toastMsg} status={toastStatus} />\r\n        </>\r\n    )\r\n}\r\n\r\nconst collections = ['parametros']\r\n\r\nexport default (StoreHOC(collections, Parametros))","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Add from '@material-ui/icons/Add'\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport './config.css'\r\nimport Parametros from '../Parametros/Parametros'\r\nimport { motivosBaixa } from '../Forms/parametrosForm'\r\n\r\nexport default function ConfigTemplate({ collections, collection, data, staticData, editMotivosBaixa,\r\n    selectCollection, handleChange, enableEdit, confirmDelete, handleSubmit, openAddDialog }) {\r\n\r\n    return (\r\n        <Fragment>\r\n            <Crumbs links={['Veículos', '/veiculos']} text='Alterar configurações de veículos' />\r\n            <center>\r\n                <h4>Selecione uma das opções abaixo.</h4>\r\n            </center>\r\n            <header className=\"selectHeader\">\r\n                <TextField\r\n                    className='config__selector'\r\n                    onChange={selectCollection}\r\n                    value={collection}\r\n                    select={true}\r\n                    SelectProps={{\r\n                        style: {\r\n                            fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                            width: 325, height: '44px'\r\n                        }\r\n                    }}\r\n                >\r\n                    {collections.map((opt, i) =>\r\n                        <MenuItem key={i} value={opt} >\r\n                            {opt}\r\n                        </MenuItem>\r\n                    )}\r\n                </TextField>\r\n            </header>\r\n            {staticData && collection && !editMotivosBaixa &&\r\n                <div className='divHeader'>\r\n                    <Button\r\n                        size=\"small\"\r\n                        color='primary'\r\n                        variant='outlined'\r\n                        style={{ margin: '10px 0 10px 0' }}\r\n                        onClick={() => openAddDialog()}\r\n                    >\r\n                        <Add /> Adicionar\r\n                    </Button>\r\n                </div>\r\n            }\r\n            {\r\n                !editMotivosBaixa ?\r\n                    <div className='container'>\r\n                        {\r\n                            data && staticData && data.map((el, i) =>\r\n                                <div className='divCell' key={i}>\r\n                                    <TextField\r\n                                        value={el.edit ? el[staticData.field] : el[staticData.field] + ' (' + el['count'] + ')'}\r\n                                        onChange={handleChange}\r\n                                        name={el.field}\r\n                                        type='text'\r\n                                        inputProps={{\r\n                                            autoCorrect: 'off',\r\n                                            spellCheck: false,\r\n                                            style: {\r\n                                                fontSize: '0.8rem',\r\n                                                color: el.edit === true ? '#000' : '#999'\r\n                                            },\r\n                                        }}\r\n                                        className='config__textField'\r\n                                        disabled={el.edit === false}\r\n                                    />\r\n                                    <button component='span'\r\n                                        className='configVehicleIcon'\r\n                                        title='Editar'\r\n                                        onClick={() => enableEdit(i)}\r\n                                        display='none'>\r\n                                        <EditIcon className='confIcon' color='primary' />\r\n                                    </button>\r\n                                    <button\r\n                                        className='configVehicleIcon'\r\n                                        title='Remover'\r\n                                        onClick={() => confirmDelete(i)}>\r\n                                        <DeleteIcon className='confIcon' color='secondary' />\r\n                                    </button>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    :\r\n                    <Parametros\r\n                        form={motivosBaixa}\r\n                        tab={3}\r\n                        outsider={true} />\r\n            }\r\n        </Fragment >\r\n    )\r\n}","import React, { PureComponent, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport ConfigAddDialog from './ConfigAddDialog'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport ConfigTemplate from './ConfigTemplate'\r\nimport ConfirmDialog from '../Reusable Components/ConfirmDialog'\r\n\r\nimport { configVehicleForm } from '../Forms/configVehicleForm'\r\n\r\nclass VehicleConfig extends PureComponent {\r\n\r\n    state = {\r\n        collection: '',\r\n        marca: '',\r\n        options: [],\r\n        openAddDialog: false,\r\n        confirmToast: false,\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmDialogProps: { open: false }\r\n    }\r\n    componentDidMount() {\r\n        let options = []\r\n        configVehicleForm.forEach(col => { options.push(col.label) })\r\n        this.setState({ options })\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const\r\n            redux = JSON.parse(JSON.stringify(this.props.redux)),\r\n            { veiculos } = redux,\r\n            { staticData, data, editIndex } = this.state\r\n\r\n        if (!staticData || !data) return null\r\n\r\n        const { collection } = staticData\r\n        if (JSON.stringify(prevProps.redux[collection]) !== JSON.stringify(redux[collection])) {\r\n            const data = this.addCounter(veiculos, staticData, redux[collection])\r\n            if (editIndex || editIndex === 0)\r\n                data[editIndex].edit = true\r\n            this.setState({ data })\r\n        }\r\n    }\r\n\r\n    addCounter = (veiculos, staticData, data) => {\r\n        const { name, field, label } = staticData\r\n\r\n        data.forEach(el => {\r\n            const\r\n                vehicles = veiculos.filter(v => {\r\n                    if (v.hasOwnProperty(name) && (label === 'Itens de acessibilidade' || label === 'Equipamentos')) {\r\n                        const vehicleItems = v[name]\r\n                        const hasItem = vehicleItems.find(ac => ac === el.id)\r\n                        return hasItem\r\n                    }\r\n                    return v[name] === el[field]\r\n                }),\r\n                count = vehicles.length\r\n            Object.assign(el, { count })\r\n        })\r\n        data = data.sort((a, b) => a[field].localeCompare(b[field]))\r\n        return data\r\n    }\r\n\r\n    selectCollection = async e => {\r\n        const { value } = e.target\r\n        if (value === \"Motivos para baixa do veículo\") {\r\n            this.setState({ editMotivosBaixa: true, collection: value })\r\n            return\r\n        }\r\n\r\n        const { veiculos, marcaChassi, marcaCarroceria } = this.props.redux\r\n        let\r\n            staticData = configVehicleForm.find(el => el.label === value),\r\n            data = JSON.parse(JSON.stringify(this.props.redux[staticData.collection]))\r\n\r\n        data = this.addCounter(veiculos, staticData, data)\r\n        data.forEach(el => el.edit = false)\r\n\r\n        this.setState({ marcas: undefined, marca: '' })\r\n        if (staticData.collection === 'modelosChassi') this.setState({ marcas: marcaChassi })\r\n        if (staticData.collection === 'carrocerias') this.setState({ marcas: marcaCarroceria })\r\n\r\n        await this.setState({ collection: value, data, staticData, editMotivosBaixa: undefined })\r\n        void 0\r\n    }\r\n\r\n    enableEdit = async index => {\r\n        let oldIndex\r\n        const\r\n            redux = JSON.parse(JSON.stringify(this.props.redux)),\r\n            divCell = document.querySelectorAll('.divCell'),\r\n            divWrap = divCell[index].childNodes[0],\r\n            inputTarget = divWrap.querySelectorAll('input')[0],\r\n            { updatedObj, staticData } = this.state,\r\n            data = JSON.parse(JSON.stringify(this.state.data)),\r\n            selectedObj = data[index],\r\n            name = this.state?.staticData?.field\r\n\r\n        //O index de referência vai variar: se houver um campo em edição e se clicar no enableEdit de outro, o index de referência é do campo anterior\r\n        //Inicialmente os objetos originais se baseiam no index que é dado como argumento da função\r\n        if (selectedObj?.edit === undefined) selectedObj.edit = false\r\n\r\n        let\r\n            originalObject = redux[staticData.collection].find(el => {\r\n                if (el.id === selectedObj.id)\r\n                    return Object.freeze(el)\r\n                else return {}\r\n            }),\r\n            noChanges = data[index][name] === originalObject[name]\r\n\r\n        //Verificar se já havia algum edit === true e se está se checando outro como true ao mesmo tempo q torna o ativo false        \r\n        const leftOpen = data.some((el, i) => {\r\n            if (i !== index && el.edit === true) {\r\n                oldIndex = data.indexOf(el)\r\n                return el\r\n            } else return false\r\n        })\r\n\r\n        //desativa a edição de todos os outros campos exceto o escolhido (index)\r\n        async function select() {\r\n            data.forEach(el => el.edit = false)\r\n            data[index].edit = true\r\n            await this.setState({ data, editIndex: index })\r\n            inputTarget.focus()\r\n        }\r\n        //Se todos objetos estiverem com edição desabilitada:\r\n        if (!leftOpen) {\r\n            //So o clicado estiver desabilitado, apenas habilite sua edição\r\n            if (selectedObj.edit === false) {\r\n                data[index].edit = true\r\n                await this.setState({ data })\r\n                inputTarget.focus()\r\n            }\r\n            // Senão, verificar se houve mudança. Caso positivo, request p salvar e depois desabilita edição\r\n            else {\r\n                data[index].edit = false\r\n                if (updatedObj && !noChanges)\r\n                    this.handleSubmit(updatedObj)\r\n                this.setState({ data, editIndex: undefined })\r\n            }\r\n            return\r\n        }\r\n        //Nesse caso, um campo está em edição e outro campo foi clicado. Salva-se o em edição caso tenha sido alterado e se habilita a edição do próximo\r\n        if (leftOpen && !selectedObj.edit) {\r\n            select.call(this)\r\n            //Atualização do index para achar o objeto original referente ao último objeto com edit=true\r\n            originalObject = redux[staticData.collection].find(el => el.id === data[oldIndex]?.id)\r\n            noChanges = data[oldIndex][name] === originalObject[name]\r\n\r\n            if (updatedObj && !noChanges)\r\n                this.handleSubmit(updatedObj)\r\n        }\r\n    }\r\n\r\n    selectMarca = e => {\r\n        const\r\n            { value } = e.target,\r\n            { collection } = this.state.staticData,\r\n            { marcaChassi, marcaCarroceria } = this.props.redux\r\n\r\n        let marcaCollection\r\n        if (collection === 'modelosChassi') marcaCollection = marcaChassi\r\n        if (collection === 'carrocerias') marcaCollection = marcaCarroceria\r\n\r\n        const { id } = marcaCollection.find(m => m.marca === value)\r\n\r\n        this.setState({ marca: value, marcaId: id })\r\n    }\r\n\r\n    handleChange = async e => {\r\n        const\r\n            { value } = e.target,\r\n            { staticData, data } = this.state,\r\n            { field } = staticData,\r\n\r\n            changedElement = data.find(el => el.edit === true),\r\n            index = data.indexOf(changedElement)\r\n\r\n        changedElement[field] = value\r\n\r\n        let newData = [...this.state.data]\r\n        newData[index] = changedElement\r\n        const updatedObj = {\r\n            id: changedElement?.id,\r\n            [field]: value\r\n        }\r\n        this.setState({ data: newData, updatedObj })\r\n    }\r\n\r\n    handleInput = e => {\r\n        const { value } = e.target\r\n        this.setState({ newElement: value })\r\n    }\r\n\r\n    addNewElement = async () => {\r\n\r\n        const\r\n            { staticData, newElement, marcaId } = this.state,\r\n            { table, field, collection } = staticData,\r\n            { veiculos } = this.props.redux\r\n\r\n        let requestElement = { [field]: newElement }\r\n        if (marcaId) requestElement.marcaId = marcaId\r\n        requestElement = humps.decamelizeKeys(requestElement)\r\n        console.log(\"🚀 ~ file: Config.jsx ~ line 205 ~ VehicleConfig ~ addNewElement= ~ requestElement\", requestElement)\r\n\r\n        await axios.post('/api/addElement', { table, requestElement })\r\n\r\n        let data = this.props.redux[collection]\r\n        data = this.addCounter(veiculos, staticData, data)\r\n\r\n        this.setState({ openAddDialog: false, data, marcaId: undefined })\r\n    }\r\n\r\n    confirmDelete = index => {\r\n\r\n        const\r\n            { data, staticData } = this.state,\r\n            { field } = staticData,\r\n\r\n            elementName = data[index][field],\r\n            confirmDialogProps = {\r\n                open: true,\r\n                type: 'delete',\r\n                element: `${elementName}`,\r\n                index\r\n            }\r\n\r\n        this.setState({ confirmDialogProps })\r\n    }\r\n\r\n    removeItem = async index => {\r\n        this.closeConfirmDialog()\r\n\r\n        let data = [...this.state.data]\r\n\r\n        //Evita que seja apagado algum elemento que esteja cadastrado em algum veículo.\r\n        const removeForbidden = data[index]?.count > 0\r\n        if (removeForbidden) {\r\n            alert('O item selecionado não pode ser apagado por haver vínculo com um ou mais veículos cadastrados no sistema.')\r\n            return\r\n        }\r\n        const\r\n            { staticData } = this.state,\r\n            { collection, table } = staticData,\r\n            id = data[index].id,\r\n            originalData = this.props.redux[collection],\r\n            registered = originalData.find(el => el.id === id)\r\n\r\n        if (registered) {\r\n            await axios.delete(`/api/delete?table=${table}&tablePK=id&id=${id}`)\r\n                .catch(err => console.log(err))\r\n        }\r\n        data.splice(index, 1)\r\n        this.setState({ data })\r\n\r\n    }\r\n\r\n    handleSubmit = async updatedObj => {\r\n        const\r\n            { staticData } = this.state,\r\n            { table } = staticData,\r\n\r\n            update = humps.decamelizeKeys(updatedObj)\r\n\r\n        await axios.put('/api/editElements', {\r\n            table,\r\n            tablePK: 'id',\r\n            update\r\n        })\r\n            .catch(err => console.log(err))\r\n\r\n        this.setState({ updatedObj: undefined })\r\n    }\r\n\r\n    closeConfirmDialog = () => {\r\n        let confirmDialogProps = { ...this.state.confirmDialogProps }\r\n        confirmDialogProps.open = false\r\n\r\n        this.setState({ confirmDialogProps })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openAddDialog: !this.state.openAddDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n\r\n        const { options, collection, data, staticData, openAddDialog, marca, marcas, editMotivosBaixa, confirmToast, toastMsg, confirmDialogProps } = this.state\r\n        return (\r\n            <Fragment>\r\n                <ConfigTemplate\r\n                    collections={options}\r\n                    collection={collection}\r\n                    data={data}\r\n                    staticData={staticData}\r\n                    selectCollection={this.selectCollection}\r\n                    enableEdit={this.enableEdit}\r\n                    handleChange={this.handleChange}\r\n                    handleSubmit={this.handleSubmit}\r\n                    openAddDialog={this.toggleDialog}\r\n                    confirmDelete={this.confirmDelete}\r\n                    editMotivosBaixa={editMotivosBaixa}\r\n                />\r\n                {openAddDialog && <ConfigAddDialog\r\n                    open={openAddDialog}\r\n                    close={this.toggleDialog}\r\n                    title={staticData.label}\r\n                    helperMessage='Para adicionar, insira o nome no campo abaixo e clique em \"Confirmar\".'\r\n                    marca={marca}\r\n                    marcas={marcas}\r\n                    selectMarca={this.selectMarca}\r\n                    handleInput={this.handleInput}\r\n                    addNewElement={this.addNewElement}\r\n                />}\r\n                {confirmDialogProps.open && <ConfirmDialog {...confirmDialogProps} close={this.closeConfirmDialog} confirm={this.removeItem} />}\r\n\r\n                <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['seguradoras', 'lookUpTable/marca_chassi', 'modelosChassi', 'lookUpTable/marca_carroceria',\r\n    'carrocerias', 'equipamentos', 'veiculos', 'acessibilidade', 'empresasLaudo']\r\n\r\nexport default StoreHOC(collections, VehicleConfig)","import { formatDate } from '../Utils/formatValues'\r\n\r\nexport const delegatarioTable = [\r\n    {\r\n        field: 'codigoEmpresa',\r\n        title: 'Código da Empresa',\r\n    },\r\n    {\r\n        field: 'razaoSocial',\r\n        title: 'Razão Social',\r\n    },\r\n    {\r\n        field: 'vencimentoContrato',\r\n        title: 'Vencimento do Cadastro',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.vencimentoContrato)\r\n    },\r\n    {\r\n        field: 'cnpj',\r\n        title: 'CNPJ',\r\n    },\r\n    {\r\n        field: 'situacao',\r\n        title: 'Situação',\r\n    },\r\n    {\r\n        field: 'frota',\r\n        title: 'Tamanho da frota'\r\n    }\r\n]\r\n\r\nexport const sociosTable = [\r\n    {\r\n        field: 'nomeSocio',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfSocio',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'nomeEmpresas',\r\n        title: 'Delegatário(s)',\r\n    },\r\n    {\r\n        field: 'emailSocio',\r\n        title: 'E-mail',\r\n\r\n    },\r\n    {\r\n        field: 'telSocio',\r\n        title: 'Telefone',\r\n\r\n    },\r\n    {\r\n        field: 'share',\r\n        title: 'Participação Societária (%)',\r\n        filtering: false,\r\n    }\r\n]\r\n\r\n\r\nexport const procuradorTable = [\r\n    {\r\n        field: 'nomeProcurador',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfProcurador',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'emailProcurador',\r\n        title: 'E-mail',\r\n    },\r\n    {\r\n        field: 'telProcurador',\r\n        title: 'Telefone'\r\n    },\r\n    {\r\n        field: 'createdAt',\r\n        title: 'Data de inclusão no sistema',\r\n        type: 'date'\r\n    },\r\n    {\r\n        field: 'nomeEmpresas',\r\n        title: 'Empresas'\r\n    }\r\n]\r\n\r\nexport const vehicleTable = [\r\n    {\r\n        field: 'placa',\r\n        title: 'Placa',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Delegatário',\r\n    },\r\n    {\r\n        field: 'seguradora',\r\n        title: 'Seguradora',\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        title: 'Número da Apólice',\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Vencimento Seguro',\r\n        render: rowData => formatDate(rowData.vencimento)\r\n    },\r\n    {\r\n        field: 'situacao',\r\n        title: 'Situação',\r\n    },\r\n    {\r\n        field: 'compartilhado',\r\n        title: 'Compartilhado por'\r\n    },\r\n    /*  {\r\n         field: 'anoCarroceria',\r\n         title: 'Ano de Fabricação',\r\n         filtering: false\r\n     } */\r\n    {\r\n        field: 'indicadorIdade',\r\n        title: 'Indicador de idade',\r\n        render: rowData => {\r\n            let\r\n                i = rowData['indicadorIdade'],\r\n                timeUnit = ' anos',\r\n                output\r\n\r\n            if (i || i === 0) {\r\n                if (i === -1)\r\n                    i = 0\r\n                if (i === 1 || i === 0)\r\n                    timeUnit = ' ano'\r\n                output = i.toString() + timeUnit\r\n                return output\r\n            }\r\n        }\r\n    }\r\n]\r\n\r\nexport const segurosTable = [\r\n    {\r\n        field: 'apolice',\r\n        title: 'Número da Apólice',\r\n    },\r\n    {\r\n        field: 'seguradora',\r\n        title: 'Seguradora',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Segurado',\r\n    },\r\n    {\r\n        field: 'situacao',\r\n        title: 'Situação',\r\n    },\r\n    {\r\n        field: 'segurados',\r\n        title: 'Número de veículos',\r\n    },\r\n    {\r\n        field: 'dataEmissao',\r\n        title: 'Início da vigência',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.dataEmissao)\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Vencimento',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.vencimento)\r\n    }\r\n]\r\n\r\nexport const tables = [delegatarioTable].concat([sociosTable]).concat([procuradorTable]).concat([vehicleTable]).concat([segurosTable])\r\n","//@ts-check\r\nimport { formatDate } from '../Utils/formatValues'\r\n\r\n\r\n//Função especial de formatação para a tabela procuradores, pois foi solicitado linhas em duplicidade caso um procurador represente mais de uma empresa\r\nconst addProcuracao = (data, procuracoes) => {\r\n\r\n    const rawData = JSON.parse(JSON.stringify(data))\r\n    let result = []\r\n    for (let obj of rawData) {\r\n        const\r\n            { procuradorId } = obj\r\n            , procs = procuracoes.filter(p => p.procuradores.includes(procuradorId))\r\n\r\n        procs.length && procs.forEach(({ codigoEmpresa, razaoSocial, vencimento }) => {\r\n            const { nomeProcurador, cpfProcurador, emailProcurador, telProcurador, createdAt } = obj\r\n            result.push({\r\n                \"Nome do Procurador\": nomeProcurador,\r\n                \"CPF\": cpfProcurador,\r\n                \"E-mail\": emailProcurador,\r\n                \"Telefone\": telProcurador,\r\n                'Razão Social': razaoSocial,\r\n                'Código da Empresa': codigoEmpresa,\r\n                \"Data de inclusão no sistema\": formatDate(createdAt),\r\n                'Validade da Procuração': vencimento ? formatDate(vencimento) : 'Prazo indeterminado'\r\n            })\r\n        })\r\n    }\r\n\r\n    return result\r\n}\r\n\r\nexport default addProcuracao\r\n","import * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\nimport moment from 'moment'\r\nimport orderObjectKeys from '../Utils/orderObjectKeys';\r\nimport addProcuracaoAndFormat from './addProcuracao';\r\n\r\nconst exportToXlsx = (subject, form, rd, procuracoes) => {\r\n\r\n    //Demanda da DGTI de reordenar colunas da tabela veículos\r\n    let rawData = orderObjectKeys(subject, rd) || rd\r\n\r\n    const\r\n        fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8',\r\n        fileExtension = '.xlsx',\r\n        fileName = subject\r\n\r\n    let formattedData = formatData(form, rawData, subject)\r\n\r\n    //A tabela de procuradores faz um right join com a de procuracoes, por isso tem uma regra específica\r\n    if (subject === 'procuradores')\r\n        formattedData = addProcuracaoAndFormat(rawData, procuracoes)\r\n\r\n    const\r\n        ws = XLSX.utils.json_to_sheet(formattedData)\r\n        , widths = fitToColumn(formattedData)\r\n\r\n    ws['!cols'] = widths.map(w => ({ wch: w }))\r\n    //console.log(fitToColumn(formattedData))\r\n\r\n    //Obtém o cumprimento máximo/médio dos valores das células para formatar o arquivo de excel\r\n    function fitToColumn(formattedData) {\r\n        const\r\n            numberOfColumns = Object.keys(formattedData[0]).length\r\n            , widths = new Array(numberOfColumns)\r\n\r\n        formattedData.forEach(obj => {\r\n            Object.values(obj).forEach((v, i) => {\r\n                /* let width = v ? v.toString().length : 7\r\n                width > 50 ? width = 50 : void 0\r\n                width < 5 ? width = 5 : void 0\r\n                if (!widths[i] || width > widths[i])\r\n                    widths[i] = width */\r\n                let width = v ? v.toString().length : 2\r\n                if (!widths[i])\r\n                    widths[i] = width\r\n                else\r\n                    widths[i] += width\r\n            });\r\n        })\r\n        const w = widths.map(w => {\r\n            const average = Math.ceil(w / formattedData.length) + 2\r\n            if (average < 7)\r\n                return 7\r\n            else\r\n                return average\r\n        })\r\n        return w\r\n    }\r\n\r\n    const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n    const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n    const data = new Blob([excelBuffer], { type: fileType });\r\n    FileSaver.saveAs(data, fileName + fileExtension);\r\n}\r\n\r\nexport function formatData(form, data, subject) {\r\n\r\n    const rawData = JSON.parse(JSON.stringify(data))\r\n\r\n    const formatValue = value => {\r\n        if (value instanceof Array)\r\n            value = value.toString()\r\n        if (moment(value, 'YYYY-MM-DDTHH:mm:ss.SSSZZ', true).isValid())\r\n            value = moment(value).format('DD/MM/YYYY')\r\n        return value\r\n    }\r\n\r\n    if (Array.isArray(rawData)) {\r\n\r\n        for (let obj of rawData) {\r\n            Object.entries(obj).forEach(([key, value]) => {\r\n\r\n                const formField = form.find(f => f.field === key)\r\n\r\n                if (key !== 'procuradorId') {\r\n                    if (!formField) {\r\n                        delete obj[key]\r\n                        return\r\n\r\n                    } else {\r\n                        const header = formField?.label\r\n                        value = formatValue(value)\r\n                        obj[header] = value\r\n                        delete obj[key]\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        return rawData\r\n    }\r\n}\r\n\r\nexport default exportToXlsx","import React from 'react'\r\nimport MaterialTable from 'material-table'\r\nimport { tables } from './tables'\r\nimport exportToXlsx from './exportToXlsx'\r\nimport { setForm } from '../Utils/createFormPattern'\r\n\r\nexport default function ({ tab, collection, user, procuracoes, showDetails, showFiles, showCertificate, confirmDeactivate, del }) {\r\n\r\n    const\r\n        id = ['codigoEmpresa', 'socioId', 'procuradorId', 'veiculoId', 'apolice'][tab],\r\n        subject = ['empresas', 'sócios', 'procuradores', 'veículos', 'seguros'],\r\n        form = setForm(tab)\r\n\r\n    if (!Array.isArray(collection))\r\n        collection = []\r\n\r\n    collection = collection.map(obj => ({ ...obj }))\r\n\r\n    return (\r\n        <div style={{ margin: '10px 0' }} className='noPrint'>\r\n            <MaterialTable\r\n                title={`Pesquisar dados de ${subject[tab]}`}\r\n                columns={tables[tab]}\r\n                data={collection}\r\n                style={{ fontFamily: 'Segoe UI', fontSize: '14px' }}\r\n                options={{\r\n                    filtering: true,\r\n                    exportFileName: subject[tab],\r\n                    exportButton: true,\r\n                    exportCsv: (columns, data) => {\r\n                        exportToXlsx(subject[tab], form, data, procuracoes)\r\n                    },\r\n                    actionsColumnIndex: -1,\r\n                    searchFieldStyle: { color: '#024', fontSize: '14px' },\r\n                    headerStyle: { backgroundColor: '#FAFAFC' },\r\n                    emptyRowsWhenPaging: false,\r\n                    pageSize: 20,\r\n                    rowStyle: {\r\n                        fontSize: '0.5rem',\r\n                    }\r\n                }}\r\n\r\n                localization={{\r\n                    header: { actions: 'Opções' },\r\n                    body: {\r\n                        emptyDataSourceMessage: 'Registro não encontrado.',\r\n                        editRow: { deleteText: 'Tem certeza que deseja apagar esse registro ?' },\r\n                        deleteTooltip: 'Apagar',\r\n                        filterRow: { filterTooltip: 'Filtrar' }\r\n                    },\r\n                    toolbar: {\r\n                        searchTooltip: 'Procurar',\r\n                        searchPlaceholder: 'Procurar',\r\n                        exportCSVName: 'Salvar como arquivo do excel',\r\n                        exportAriaLabel: 'Exportar',\r\n                        exportTitle: 'Exportar'\r\n                    },\r\n                    pagination: {\r\n\r\n                        labelRowsSelect: 'Resultados por página',\r\n                        labelDisplayedRows: ' {from}-{to} a {count}',\r\n                        firstTooltip: 'Primeira página',\r\n                        previousTooltip: 'Página anterior',\r\n                        nextTooltip: 'Próxima Página',\r\n                        lastTooltip: 'Última Página',\r\n\r\n                    }\r\n                }}\r\n                actions={[\r\n                    {\r\n                        icon: 'info',\r\n                        iconProps: { color: 'primary' },\r\n                        tooltip: 'Mais informações',\r\n                        onClick: (event, rowData) => showDetails(event, rowData)\r\n                    },\r\n                    {\r\n                        icon: 'file_copy_outline',\r\n                        iconProps: { color: 'secondary' },\r\n                        tooltip: 'Ver arquivos',\r\n                        onClick: (event, rowData) => showFiles(rowData[id])\r\n                    },\r\n                    {\r\n                        icon: 'class_outlined',\r\n                        iconProps: { color: 'action' },\r\n                        tooltip: 'Emitir certificado',\r\n                        hidden: tab !== 3,\r\n                        onClick: (event, rowData) => showCertificate(rowData)\r\n                    },\r\n                    {\r\n                        icon: 'cancel',\r\n                        iconProps: { color: 'disabled' },\r\n                        tooltip: 'Desativar empresa',\r\n                        hidden: tab !== 0 || user.role === 'empresa',\r\n                        onClick: (event, rowData) => confirmDeactivate(rowData)\r\n                    }\r\n                ]}\r\n                editable={{\r\n                    isDeleteHidden: rowData => user.role === 'empresa' || tab === 0,\r\n                    onRowDelete: async oldData => await del(oldData)\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { Link as RouterLink } from 'react-router-dom'\r\n\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { logUserOut } from '../Store/userActions';\r\n\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { Toolbar, Typography, Button, Link } from '@material-ui/core'\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { withRouter } from 'react-router'\r\nimport './stylez.scss'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    toolbarTitle: {\r\n        flex: 1,\r\n    },\r\n    toolbarSecondary: {\r\n        justifyContent: 'space-between',\r\n        overflowX: 'auto',\r\n        backgroundColor: '#0398c1',\r\n        color: 'white'\r\n    },\r\n\r\n    toolbarLink: {\r\n        padding: '12px 55px 13px 55px',\r\n        flexShrink: 0,\r\n    }\r\n}));\r\n\r\nconst sections = [\r\n    { title: 'Página Inicial', link: '/' },\r\n    { title: 'Consultas', link: '/consultas' },\r\n    { title: 'Veículos', link: '/veiculos' },\r\n    { title: 'Empresas', link: '/empresas' },\r\n    { title: 'Relatórios', link: '/relatorios' },\r\n    { title: 'Solicitações ', link: '/solicitacoes' },\r\n    { title: 'Editar Conta', link: '/editAccount', icon: 'person' },\r\n    { title: 'Avisos', link: '/avisos', icon: 'notifications' },\r\n]\r\n\r\nconst adminSections = [\r\n    { title: 'Alterar parâmetros do sistema', link: '/parametros', icon: 'settings' },\r\n    { title: 'Gestão de usuários', link: '/users', icon: 'group' },\r\n]\r\n\r\nconst StyledBadge = withStyles((theme) => ({\r\n    badge: {\r\n        right: -8,\r\n        top: -1,\r\n        padding: '0 4px',\r\n    },\r\n}))(Badge);\r\n\r\nconst StyledBadge2 = withStyles((theme) => ({\r\n    badge: {\r\n        right: -2,\r\n        top: 2.5,\r\n        padding: '0',\r\n    },\r\n}))(Badge);\r\n\r\n\r\nconst Header = props => {\r\n\r\n    const\r\n        logs = props?.logs,\r\n        { parametros, avisos } = props,\r\n        { pathname } = props.location,\r\n        { user } = props,\r\n        demand = localStorage.getItem('demand'),\r\n        classes = useStyles(),\r\n        { toolbarTitle, toolbarSecondary, toolbarLink } = classes\r\n\r\n    const\r\n        [path, setSelected] = useState(document.location.pathname)\r\n        , [logCounter, setLogCounter] = useState()\r\n        , [avisosCounter, setAvisosCounter] = useState()\r\n\r\n    //Atualiza o menu superior, destacando a aba selecionada e atualizando o número de solicitações em aberto\r\n    useEffect(() => {\r\n        if (logs && Array.isArray(logs)) {\r\n            const count = logs\r\n                .filter(l => l?.completed === false)\r\n                .length\r\n\r\n            setLogCounter(count)\r\n        }\r\n        setSelected(pathname)\r\n    }, [pathname, logCounter, logs])\r\n\r\n    //Atualiza o menu superior com o número de avisos não lidos\r\n    useEffect(() => {\r\n        if (Array.isArray(avisos)) {\r\n\r\n            const\r\n                { messagesRead } = user\r\n                , count = avisos\r\n                    .filter(aviso => {\r\n                        if (!messagesRead)\r\n                            return true\r\n                        else\r\n                            return !messagesRead.includes(aviso?.id)\r\n                    }\r\n                    )\r\n                    .length\r\n\r\n            setAvisosCounter(count)\r\n        }\r\n        //setSelected(pathname)\r\n    }, [setAvisosCounter, avisos, user])\r\n\r\n\r\n    const selected = link => {\r\n        let\r\n            style = document.querySelector(\"a[href='/solicitacoes']\")?.style,\r\n            bgColor = '',\r\n            borderB = '',\r\n            borderT = '',\r\n            fontW = '400'\r\n\r\n        if (path === '/solicitacoes' || demand) {\r\n            if (style) {\r\n                style['background-color'] = '#11a7d2'\r\n                style['border-bottom'] = '1.5px solid #ccc'\r\n            }\r\n        }\r\n\r\n        else if (path.match(link) && link !== '/') {\r\n            bgColor = '#11a7d2'\r\n            borderB = '1.5px solid #ccc'\r\n            if (style) {\r\n                style['background-color'] = ''\r\n                style['border-bottom'] = ''\r\n            }\r\n        }\r\n        return { bgColor, borderB, borderT, fontW }\r\n    }\r\n    //Pega o nome e a sigla da Secretaria do DB, editáveis na opção \"Parâmetros\" do sistema.\r\n    let\r\n        nomeSecretaria = '',\r\n        siglaSecretaria = ''\r\n\r\n    if (parametros && parametros[0]) {\r\n        const { nomes } = parametros[0]\r\n        nomeSecretaria = nomes.secretaria\r\n        siglaSecretaria = nomes.siglaSecretaria\r\n    }\r\n\r\n    const logout = async () => props.logUserOut(user?.socketId)\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n\r\n            <Toolbar>\r\n                <Typography\r\n                    component=\"h2\"\r\n                    variant=\"h6\"\r\n                    color=\"inherit\"\r\n                    align=\"center\"\r\n                    noWrap\r\n                    className={toolbarTitle}\r\n                >\r\n                    {siglaSecretaria} - {nomeSecretaria}\r\n                </Typography>\r\n                <Button variant=\"outlined\" size=\"small\" onClick={() => logout()}>\r\n                    Sair\r\n                </Button>\r\n            </Toolbar>\r\n            <Toolbar component=\"nav\" variant=\"dense\" className={toolbarSecondary}>\r\n                {sections.map(({ link, title, icon }, i) => (\r\n                    !icon &&\r\n                    <Link\r\n                        component={RouterLink}\r\n                        to={link}\r\n                        key={i}\r\n                        color=\"inherit\"\r\n                        noWrap\r\n                        variant=\"body2\"\r\n                        href=\"\"\r\n                        style={{\r\n                            fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana, sans-serif',\r\n                            fontSize: '15px',\r\n                            backgroundColor: selected(link).bgColor,\r\n                            borderBottom: selected(link).borderB,\r\n                            fontWeight: selected(link).fontW,\r\n                            borderTop: selected(link).borderT\r\n                        }}\r\n                        className={toolbarLink}\r\n                        onClick={() => setSelected(link)}\r\n                    >\r\n                        {\r\n                            title === 'Solicitações ' ?\r\n\r\n                                <StyledBadge badgeContent={logCounter} color='secondary'>\r\n                                    <span>\r\n                                        {title}\r\n                                    </span>\r\n                                </StyledBadge>\r\n                                :\r\n                                title\r\n                        }\r\n                    </Link>\r\n                ))}\r\n                {\r\n                    user.role === 'admin' ?                     //Apenas usuários admin podem visualizar essas opções\r\n                        adminSections.map(({ title, link, icon }, i) =>\r\n                            <Link component={RouterLink} to={link} key={i}>\r\n                                <span\r\n                                    className=\"material-icons adminLink\"\r\n                                    style={{ color: 'white', cursor: 'pointer' }}\r\n                                    title={title}\r\n                                >\r\n                                    {icon}\r\n                                </span>\r\n                            </Link>\r\n                        )\r\n                        :\r\n                        <Link component={RouterLink} to={sections[6].link}>\r\n                            <span\r\n                                className=\"material-icons iconHeaderLink\"\r\n                                style={{ color: 'white', cursor: 'pointer' }}\r\n                                title={sections[6].title}\r\n                            >\r\n                                {sections[6].icon}\r\n                            </span>\r\n                        </Link>\r\n                }\r\n                <Link component={RouterLink} to={sections[7].link}>\r\n                    <StyledBadge2 badgeContent={avisosCounter} color='secondary'>\r\n                        <span\r\n                            className=\"material-icons avisosLink\"\r\n                            style={{ color: 'white', cursor: 'pointer' }}\r\n                            title={sections[7].title}\r\n                        >\r\n                            {sections[7].icon}\r\n                        </span>\r\n                    </StyledBadge2>\r\n                </Link>\r\n\r\n            </Toolbar>\r\n        </React.Fragment >\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        logs: state.data?.logs,\r\n        parametros: state.data?.parametros,\r\n        avisos: state.data?.avisos,\r\n        user: state.user\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators({ logUserOut }, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header))","//import React from 'react'\r\n\r\nconst Footer = () => {\r\n   return null\r\n    /*  return (\r\n        <footer className=\"footer\">\r\n            <span style={{ fontSize: '0.6rem' }}>\r\n                Seinfra, Governo de Minas Gerais. Desenvolvido por Sandro Veríssimo, © 2019.\r\n            </span>\r\n        </footer>\r\n    ) */\r\n}\r\n\r\nexport default Footer;","import React from 'react'\r\nimport { Tabs, Tab } from '@material-ui/core'\r\n\r\nexport default ({items, tab, changeTab}) =>\r\n\r\n    <div className='tabMenu'> \r\n        <Tabs value={tab}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            centered \r\n            onChange={changeTab}>\r\n            {items.map((item, i)=> <Tab key={i} label={item} />)}\r\n        </Tabs>\r\n    </div>\r\n\r\n\r\n","import moment from 'moment'\r\nimport { stringBR } from '../Veiculos/checkWeight'\r\n\r\nexport const delegatario = [[\r\n    {\r\n        field: 'empresa',\r\n        label: 'Delegatário',\r\n        width: '95mm',\r\n        left: '50mm'\r\n    },\r\n    {\r\n        field: 'codigoEmpresa',\r\n        label: 'Código do Delegatário',\r\n        width: '18mm',\r\n    },\r\n    {\r\n        field: 'dataExpedicaoCRV',\r\n        label: 'Data de emissão',\r\n        width: '20mm',\r\n        value: moment().format('DD/MM/YYYY')\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        label: 'Validade do CRV',\r\n        type: 'date',\r\n        width: '20mm',\r\n    },\r\n]]\r\n\r\nexport const dadosVeiculo = [[\r\n    {\r\n        field: 'placa',\r\n        label: 'Placa',\r\n        width: '25mm',\r\n        left: '8mm'\r\n    },\r\n    {\r\n        field: 'renavam',\r\n        label: 'Renavam',\r\n        width: '42mm',\r\n        left: '14mm'\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilização',\r\n        width: '35mm',\r\n        left: '11mm'\r\n    },\r\n    {\r\n        field: 'nChassi',\r\n        label: 'Número do Chassi',\r\n        width: '50mm',\r\n        left: '15mm'\r\n    },\r\n]]\r\n\r\nexport const caracteristicas = [\r\n    [\r\n\r\n        {\r\n            field: 'poltronas',\r\n            label: 'Poltronas',\r\n            width: '16mm',\r\n            left: '2mm'\r\n        },\r\n        {\r\n            field: 'piquesPoltrona',\r\n            label: 'Piques poltrona',\r\n            width: '19mm'\r\n        },\r\n        {\r\n            field: 'distanciaMinima',\r\n            label: 'Distância Mínima (cm)',\r\n        },\r\n        {\r\n            field: 'distanciaMaxima',\r\n            label: 'Distância Máxima (cm)'\r\n        },\r\n        {\r\n            field: 'eixos',\r\n            label: 'Eixos',\r\n            width: '12mm',\r\n            left: '2mm'\r\n        },\r\n        {\r\n            field: 'pneumaticosDianteiro',\r\n            label: 'Pneumáticos Dianteiro'\r\n        },\r\n        {\r\n            field: 'pneumaticosTraseiro',\r\n            label: 'Pneumáticos Traseiro'\r\n        },\r\n        {\r\n            field: 'potencia',\r\n            label: 'Potência (cv)',\r\n            width: '15mm',\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            field: 'marcaChassi',\r\n            label: 'Marca do Chassi',\r\n            width: '40mm',\r\n            left: '4mm'\r\n        },\r\n        {\r\n            field: 'modeloChassi',\r\n            label: 'Modelo do Chassi',\r\n            width: '40mm',\r\n            left: '3mm'\r\n        },\r\n        {\r\n            field: 'anoChassi',\r\n            label: 'Ano do chassi',\r\n        }\r\n        ,\r\n        {\r\n            field: 'marcaCarroceria',\r\n            label: 'Marca da Carroceria',\r\n            width: '40mm',\r\n            left: '2mm'\r\n        },\r\n        {\r\n            field: 'modeloCarroceria',\r\n            label: 'Modelo da Carroceria',\r\n            width: '40mm',\r\n            left: '1mm'\r\n        },\r\n        {\r\n            field: 'anoCarroceria',\r\n            label: 'Ano da carroceria',\r\n        }\r\n\r\n    ]\r\n]\r\n\r\nexport const seguro = [[\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',\r\n        width: '75mm',\r\n        left: '27.5mm'\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        label: 'Apólice',\r\n        width: '35mm',\r\n        left: '11mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Início de vigência',\r\n        width: '25mm',\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    }]]\r\n\r\nexport const vistoria = [[\r\n    {\r\n        field: 'numeroLaudo',\r\n        label: 'Número do Laudo',\r\n        width: '45mm',\r\n        left: '10mm'\r\n    },\r\n    {\r\n        field: 'empresaLaudo',\r\n        label: 'Empresa Responsável',\r\n        width: '80mm',\r\n        left: '26mm'\r\n    },\r\n    {\r\n        field: 'vencimentoLaudo',\r\n        label: 'Vencimento',\r\n        type: 'date',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n]]\r\n\r\nexport const pesagem = [[\r\n\r\n    {\r\n        field: 'cmt',\r\n        label: 'PBT / CMT Legal (t)',\r\n        width: '27mm',\r\n        left: '2mm',\r\n        format: float => stringBR(float)\r\n    },\r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (t)',\r\n        width: '27mm',\r\n        left: '3.5mm',\r\n        format: float => stringBR(float)\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (t)',\r\n        width: '27mm',\r\n        left: '3.5mm',\r\n        format: float => stringBR(float)\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total (t)',\r\n        width: '30mm',\r\n        left: '4mm',\r\n        format: float => stringBR(float)\r\n    },\r\n    {\r\n        field: 'pesoPassageiros',\r\n        label: 'Passag/Bagagem (t)',\r\n        width: '30mm',\r\n        left: '3mm',\r\n        format: float => stringBR(float)\r\n    }\r\n]]\r\n\r\n\r\nexport const informacoesGerais = [[\r\n    {\r\n        field: 'dataRegistro',\r\n        label: 'Data de Registro',\r\n        type: 'date',\r\n        width: '30mm',\r\n        left: '4mm'\r\n    },\r\n    {\r\n        field: 'cores',\r\n        label: 'Cores',\r\n        width: '65mm',\r\n        left: '15mm'\r\n    },\r\n    {\r\n        field: 'compartilhado',\r\n        label: 'Empresa autorizada a compartilhar',\r\n        width: '90mm',\r\n        left: '11mm'\r\n    }\r\n]]\r\n","import React from 'react'\r\n\r\nconst CertificateHeader = ({ nomes }) => {\r\n\r\n    const { secretaria, subsecretaria, superintendencia } = nomes\r\n    return (\r\n        <>\r\n            <div className=\"certHeader__container\">\r\n                <div className=\"certHeader__brasao\">\r\n                    <img src=\"/images/brasao.png\" alt=\"Brasão de Minas Gerais\" className='certHeader__img' />\r\n                </div>\r\n                <div className=\"certHeader__text\">\r\n                    <p>{secretaria}</p>\r\n                    <p>{subsecretaria}</p>\r\n                    <p>{superintendencia}</p>\r\n                    <h2>Certificado de Registro e Seguro</h2>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CertificateHeader ","import React, { Fragment } from 'react'\r\nimport moment from 'moment'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\r\n\r\nimport './certificate.scss'\r\nimport CertificateHeader from './CertificateHeader';\r\nimport TextArea from '../Reusable Components/TextArea';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        paddingRight: '25px',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    }\r\n}))\r\n\r\n\r\nconst CertificateTemplate = ({ vehicle, nomes, checkMulti, redirect, delega, carac, dadosVeiculo, seg, vistoria, peso, info, }) => {\r\n\r\n    const\r\n        classes = useStyles(),\r\n        { textField } = classes,\r\n        { acessibilidade, equipamentos, obs } = vehicle\r\n\r\n    const ultimateForm = [\r\n        { title: 'Delegatário', form: delega },\r\n        { title: 'Dados do Veículo', form: dadosVeiculo },\r\n        { title: 'Características do Veículo', form: carac },\r\n        { title: 'Seguro', form: seg },\r\n        { title: 'Vistoria', form: vistoria },\r\n        { title: 'Pesagem', form: peso },\r\n        { title: 'Informações gerais', form: info },\r\n        { title: 'Observações', form: obs }\r\n    ]\r\n\r\n    return (\r\n        <Fragment>\r\n            <div id='pdfPage' className='A4'>\r\n                <header className='header'>\r\n                    <CertificateHeader nomes={nomes} />\r\n                </header>\r\n\r\n                {\r\n                    ultimateForm.map(({ title, form }, y) =>\r\n                        title !== 'Observações' &&\r\n                        <section className={title !== 'Delegatário' ? 'box' : 'firstBox'} key={y}>\r\n                            {title !== 'Delegatário' && <span className='boxTitle'>{title}</span>}\r\n                            {\r\n                                form.map((line, i) =>\r\n                                    <div\r\n                                        key={i}\r\n                                        className={title !== 'Delegatário' ? 'divLine' : 'firstDivLine'}\r\n                                        style={{ marginTop: i === 0 ? '7mm' : '3mm' }}\r\n                                    >\r\n                                        {line.map((el, k) =>\r\n                                            <TextField\r\n                                                disabled\r\n                                                key={k}\r\n                                                name={el.field}\r\n                                                label={el.label}\r\n                                                className={textField}\r\n                                                multiline={el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? true : false}\r\n                                                rows={\r\n                                                    el.value && el.value.length < 86 ? '2' :\r\n                                                        el.value && el.value.length < 140 ? '3' : '4'\r\n                                                }\r\n                                                variant={el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? 'outlined' : 'standard'}\r\n                                                value={\r\n                                                    el.type === 'date' ?\r\n                                                        !moment(el.value, true).isValid() ?\r\n                                                            ''\r\n                                                            :\r\n                                                            el.value && moment(el.value).format('DD/MM/YYYY')\r\n                                                        :\r\n                                                        el.field === 'dataExpedicao' ?\r\n                                                            moment().format('DD-MM-YYYY')\r\n                                                            :\r\n                                                            el.format ? el.format(el.value)\r\n                                                                :\r\n                                                                el.value || ''\r\n                                                }\r\n                                                inputProps={{\r\n                                                    className: checkMulti(el.field),\r\n                                                    style: {\r\n                                                        width: el.width || '18mm',\r\n                                                        fontSize: '2.7mm',\r\n                                                        padding: '0 0 1px 0',\r\n                                                        margin: '0',\r\n                                                        flex: '1',\r\n                                                        color: '#000'\r\n                                                    }\r\n                                                }}\r\n                                                InputProps={{ style: { padding: el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? '1mm' : '' } }}\r\n                                                InputLabelProps={{\r\n                                                    shrink: true,\r\n                                                    style: {\r\n                                                        fontSize: '13px',\r\n                                                        textAlign: 'center !important',\r\n                                                        left: el.left || '0',\r\n                                                        color: '#000'\r\n                                                    }\r\n                                                }}\r\n                                            />\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                        </section>\r\n                    )\r\n                }\r\n                <div className=\"box\">\r\n                    <span className='boxTitle'>Equipamentos / Itens de acessibilidade</span>\r\n                    {\r\n                        (equipamentos || acessibilidade) &&\r\n                        <div className=\"divLine flex\" style={{ overflow: 'unset' }}>\r\n                            {\r\n                                equipamentos.map((e, i) => !acessibilidade[0] && i === equipamentos.length - 1 ?\r\n                                    <span className=\"equipa\">{e}.</span>\r\n                                    :\r\n                                    <span className=\"equipa\">{e},&nbsp;</span>\r\n                                )\r\n                            }\r\n                            {\r\n                                acessibilidade.map((e, i) => i !== acessibilidade.length - 1 ?\r\n                                    <span className=\"equipa\" key={i}>{`${e}, `}</span>\r\n                                    :\r\n                                    <span className=\"equipa\" key={i}>{`${e}.`}</span>\r\n                                )\r\n                            }\r\n                        </div>\r\n                    }\r\n                </div>\r\n                {\r\n                    obs &&\r\n                    <div className=\"flexColumn\">\r\n                        <TextArea\r\n                            label='Observações:'\r\n                            name='obs'\r\n                            id='obs'\r\n                            defaultValue={obs}\r\n                            rows='7'\r\n                            style={{ color: '#000', fontSize: '0.55 rem', padding: '5px', overflow: 'hidden' }}\r\n                        />\r\n                    </div>\r\n                }\r\n                <footer className='certFooter'>\r\n                    <h1 className=\"certFooter__title\">\r\n                        PORTE OBRIGATÓRIO\r\n                    </h1>\r\n                    <p className=\"certFooter__text\">\r\n                        Este certificado pode ser verificado em <span className='link' onClick={() => redirect()}> https://www.cadti.mg.gov.br </span>\r\n                    </p>\r\n                </footer>\r\n            </div>\r\n            <button title='Imprimir / salvar PDF' className='noprint printButton' onClick={() => window.print()}>\r\n                <PrintTwoToneIcon style={{\r\n                    cursor: 'pointer',\r\n                    color: 'rgb(161, 161, 180)',\r\n                    fontSize: '40pt',\r\n                }} /></button>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default CertificateTemplate\r\n","import React, { useState, useEffect } from 'react'\r\nimport { delegatario as delega, dadosVeiculo, caracteristicas as carac, seguro as seg, vistoria, pesagem as peso, informacoesGerais as info } from '../Forms/certificate'\r\nimport CertificateTemplate from './CertificateTemplate'\r\n\r\nexport default function PdfCertificate() {\r\n\r\n    const\r\n        [vehicle, setVehicle] = useState({}),\r\n        [names, setNames] = useState({})\r\n\r\n    useEffect(() => {\r\n        async function setData() {\r\n            const\r\n                data = JSON.parse(localStorage.getItem('vehicle')),\r\n                nomes = JSON.parse(localStorage.getItem('nomes'))\r\n\r\n            let menus = document.querySelectorAll('.MuiToolbar-root')\r\n            menus.forEach(m => m.style.display = 'none')\r\n\r\n            await setVehicle(data)\r\n            if (nomes)\r\n                await setNames(nomes)\r\n\r\n            /*   setTimeout(() => {\r\n                  if (data) window.print()\r\n              }, 500); */\r\n        }\r\n        setData()\r\n        localStorage.removeItem('vehicle')\r\n    }, [])\r\n\r\n    //Cria array de formulários importados para fazer um loop preenchendo com valores do state\r\n    const formArray = [carac, dadosVeiculo, delega, seg, vistoria, peso, info]\r\n    let object = {}\r\n\r\n    if (vehicle) {\r\n        //Adiciona Passag/Bagagem no certificado, q é poltronas x 80kg ou 0.08ton\r\n        const\r\n            { poltronas, pesoDianteiro } = vehicle,\r\n            pesoPassageiros = poltronas * 80 / 1000\r\n        vehicle.pesoPassageiros = pesoPassageiros\r\n        vehicle.pesoDianteiro = +pesoDianteiro\r\n\r\n        formArray.forEach(form => {\r\n            Object.entries(vehicle).forEach(([key, value]) => {\r\n                form.forEach((line, i) => {\r\n                    line.forEach((obj, k) => {\r\n                        if (obj.field === key) {\r\n                            object = Object.assign(obj, { value })\r\n                            form[i][k] = object\r\n                            object = {}\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n        })\r\n    }\r\n    const checkMulti = field => {\r\n        if (field === 'equipamentosId' || field === 'equipamentosId') return\r\n        else return 'certificate'\r\n    }\r\n    const redirect = () => {\r\n        let menus = document.querySelectorAll('.MuiToolbar-root')\r\n        menus.forEach(m => m.style.display = 'none')\r\n        const url = window.location.origin\r\n        window.location.href = url;\r\n    }\r\n\r\n    if (!vehicle) {\r\n        const url = window.location.origin\r\n        window.location.replace(url)\r\n        return null\r\n    }\r\n    return (\r\n        <CertificateTemplate\r\n            vehicle={vehicle}\r\n            nomes={names}\r\n            checkMulti={checkMulti}\r\n            redirect={redirect}\r\n            delega={delega}\r\n            carac={carac}\r\n            dadosVeiculo={dadosVeiculo}\r\n            seg={seg}\r\n            vistoria={vistoria}\r\n            peso={peso}\r\n            info={info}\r\n        />\r\n    )\r\n}","const formatFileSize = (bytes) => {\r\n\r\n    if (bytes > 1024 && bytes < 1048576) {\r\n        return Math.round(bytes / 1024) + ' KB'\r\n\r\n    } else if (bytes >= 1048576 && bytes < (1048576 * 1024)) {\r\n        return ((bytes / 1024) / 1024).toFixed(2) + ' MB'\r\n    } else {\r\n        return bytes + ' bytes'\r\n    }\r\n}\r\n\r\nexport default formatFileSize","import React from 'react';\r\n\r\nimport { formatDate } from '../Utils/formatValues'\r\nimport formatFileSize from '../Utils/formatFileSize'\r\nimport download from '../Utils/downloadFile'\r\n\r\nimport ClosePopUpButton from './ClosePopUpButton'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\n\r\nconst divRow = {\r\n    marginBottom: 0,\r\n    display: 'grid',\r\n    grid: '50px / 4% 40% 25% 25%',\r\n    width: '99%',\r\n    margin: 'auto',\r\n    padding: '10px 0 0 0',\r\n    justifyItems: 'auto'\r\n}\r\n\r\nconst ShowFiles = ({ filesCollection, close, typeId, empresas, filesIds, razaoSocial }) => {\r\n\r\n    let files = [],\r\n        collection = 'empresaDocs', fileLabels = [...empresaFiles]\r\n\r\n    switch (typeId) {\r\n        case 'veiculoId':\r\n            collection = 'vehicleDocs'\r\n            fileLabels = [...cadVehicleFiles]\r\n            if (!fileLabels.find(f => f.name === 'transferenciaDoc')) fileLabels.push({ title: 'Documento de Transferência', name: 'transferenciaDoc' })\r\n            if (!fileLabels.find(f => f.name === 'newPlateDoc')) fileLabels.push({ title: 'CRLV com nova placa', name: 'newPlateDoc' })\r\n            if (!fileLabels.find(f => f.name === 'apoliceDoc')) fileLabels.push({ title: 'Apólice de seguro', name: 'apoliceDoc' })\r\n            if (!fileLabels.find(f => f.name === 'laudoDoc')) fileLabels.push({ title: 'Laudo de segurança veicular', name: 'laudoDoc' })\r\n            if (!fileLabels.find(f => f.name === 'contratoCompartilhamento')) fileLabels.push({ title: 'Contrato de Compartilhamento', name: 'contratoCompartilhamento' })\r\n            break;\r\n        default: void 0\r\n    }\r\n\r\n    //Achar e filtrar na coleção de arquivos do MongoDB qual(is) cujo(s) id está na array filesIds\r\n    if (filesIds)\r\n        filesCollection = filesCollection.filter(f => filesIds.indexOf(f.id) !== -1)\r\n\r\n    if (filesCollection && filesCollection[0]) {\r\n        filesCollection.forEach(obj => {\r\n            fileLabels.forEach(o => {\r\n                if (obj.metadata && o.name === obj.metadata.fieldName)\r\n                    files.push({ ...obj, label: o.title })\r\n            })\r\n        })\r\n    }\r\n\r\n    const getLabel = file => {\r\n        const { metadata, label } = file\r\n\r\n        switch (metadata.fieldName) {\r\n            case 'procuracao':\r\n                if (razaoSocial)\r\n                    return label + ' - ' + razaoSocial\r\n                const emp = empresas.find(e => e.codigoEmpresa === Number(metadata.empresaId))\r\n                return label + ' - ' + emp?.razaoSocial || ''\r\n\r\n            case 'apoliceDoc':\r\n                if (metadata.apolice)\r\n                    return label + ' número ' + metadata.apolice\r\n                else\r\n                    return label\r\n\r\n            case 'altContratoDoc':\r\n                if (metadata.numeroAlteracao)\r\n                    return `${metadata.numeroAlteracao}ª ` + label\r\n                else\r\n                    return label\r\n\r\n            default:\r\n                return label\r\n        }\r\n    }\r\n    const header = ['Arquivo', 'Data de Upload', 'Tamanho']\r\n\r\n    if (files[0]) {\r\n        return (\r\n            <div className={filesIds ? '' : 'popUpWindow'}>\r\n                <h5>\r\n                    <img alt=\"\" src=\"/images/folderIcon2.jpg\" style={{ paddingLeft: '20px', marginRight: '20px' }} /> Arquivos\r\n                </h5>\r\n\r\n                <hr style={{ marginBottom: '5px' }} />\r\n                <div style={divRow}>\r\n                    <div>\r\n                        <img alt=\"\" src=\"/images/multipleFiles2.png\" height='50%' />\r\n                    </div>\r\n                    {header.map((title, i) =>\r\n                        <div key={i}>\r\n                            <span style={{ fontSize: '1.2em', fontWeight: 500 }}>{title}</span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <hr style={{ margin: '0 0 20px 0' }} />\r\n                {\r\n                    files.map((file, index) =>\r\n                        <div key={index}>\r\n                            <div style={divRow}>\r\n                                <div className=\"col s1\">\r\n                                    <img alt=\"\" src=\"/images/genericFile.png\" />\r\n                                </div>\r\n                                <div className=\"col s11\">\r\n                                    <span\r\n                                        style={{ textDecoration: 'underline', cursor: 'pointer', color: 'blue' }}\r\n                                        onClick={() => download(file.id, file.filename, collection, file.metadata.fieldName)}>\r\n                                        {getLabel(file)}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"col s3\">\r\n                                    {formatDate(file.uploadDate, true)}\r\n                                </div>\r\n                                <div className=\"col s3\">\r\n                                    {formatFileSize(file.length)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                <ClosePopUpButton close={close} />\r\n            </div>\r\n        )\r\n    }\r\n    else return null\r\n}\r\n\r\nexport default ShowFiles;","//Work around para tirar a opção \"Export as PDF\" do material-table, que não funciona direito.\r\nconst mo = new MutationObserver((mutations, observer) => {\r\n    mutations.forEach((mutation) => {\r\n        mutation.addedNodes.forEach((addedNode) => {\r\n            if (addedNode.nodeType === Node.ELEMENT_NODE) {\r\n                const element = addedNode;\r\n                if (element.classList.contains('MuiPopover-root')) {\r\n                    Array.from(\r\n                        element.getElementsByClassName('MuiMenuItem-root'),\r\n                    ).forEach((menuItem) => {\r\n                        if (menuItem.textContent === 'Export as PDF') {\r\n                            menuItem.remove();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\nconst removePDF = remove => {\r\n    if (!remove)\r\n        return mo.observe(document.body, { childList: true })\r\n    else\r\n        return mo.disconnect()\r\n}\r\n\r\nexport default removePDF","//Caso a aba seja Sócios ou Procuradores, extrai e renderiza o nome das empresas das arrays de codigoEmpresa de cada sócio/procurador\r\nconst getEmpresas = (collection, empresas, tab) => {\r\n    let nomeEmpresas\r\n    collection.forEach(s => {\r\n        if (s.empresas instanceof Array) {\r\n            //Se o tab for 2, o array é de integers, codigoEmpresa.\r\n            let codigos = s.empresas\r\n            //Se a tab for 1, a array é de objetos e cada obj tem a prop codigoEmpresa\r\n            if (tab === 1)\r\n                codigos = s.empresas.map(e => e?.codigoEmpresa)\r\n\r\n            nomeEmpresas = empresas\r\n                .filter(e => codigos.includes(e.codigoEmpresa))\r\n                .map(e => e.razaoSocial)\r\n                .toString()\r\n                .replace(',', ', ')\r\n            if (nomeEmpresas)\r\n                s.nomeEmpresas = nomeEmpresas\r\n        }\r\n    })\r\n    return collection\r\n}\r\n\r\nexport default getEmpresas\r\n","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport moment from 'moment'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport { connect } from 'react-redux'\r\nimport { updateCollection } from '../Store/dataActions'\r\n\r\nimport ConsultasTemplate from './ConsultasTemplate'\r\nimport { TabMenu } from '../Layouts'\r\n\r\nimport Certificate from '../Veiculos/Certificate'\r\nimport ShowDetails from '../Reusable Components/ShowDetails'\r\nimport ShowFiles from '../Reusable Components/ShowFiles'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport removePDF from '../Utils/removePDFButton'\r\nimport getEmpresas from './getEmpresas'\r\nimport ConfirmDialog from '../Reusable Components/ConfirmDialog'\r\n\r\nconst format = {\r\n    top: '5%',\r\n    left: '10%',\r\n    right: '10%'\r\n}\r\n\r\nclass ConsultasContainer extends Component {\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.showDetails) this.showDetails()\r\n                if (this.state.showFiles) this.closeFiles()\r\n                if (this.state.showCertificate) this.closeCertificate()\r\n            }\r\n        }\r\n    }\r\n    state = {\r\n        tab: 0,\r\n        items: ['Empresas', 'Sócios', 'Procuradores', 'Veículos', 'Seguros'],\r\n        tablePKs: ['codigo_empresa', 'socio_id', 'procurador_id', 'veiculo_id', 'id'],\r\n        dbTables: ['empresas', 'socios', 'procuradores', 'veiculos', 'seguros'],\r\n        options: ['empresas', 'socios', 'procuradores', 'veiculos', 'seguros'],\r\n        detailsTitle: ['Empresa', 'Sócio', 'Procurador', 'Placa', 'Apólice'],\r\n        detailsHeader: ['razaoSocial', 'nomeSocio', 'nomeProcurador', 'placa', 'apolice'],\r\n        empresas: [],\r\n        seguros: [],\r\n        razaoSocial: '',\r\n        showDetails: false,\r\n        showFiles: false,\r\n        openDialog: false,\r\n        filesCollection: [],\r\n        elementDetails: '',\r\n        vehicleDocs: [],\r\n        showCertificate: false\r\n    }\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n        removePDF() //Desabilita opção de exportar como PDF do material-table\r\n    }\r\n    componentWillUnmount() {\r\n        removePDF(true)\r\n        this.setState({})\r\n    }\r\n    changeTab = async (e, value) => {\r\n        await this.setState({ tab: value })\r\n        return\r\n    }\r\n\r\n    showDetails = async (e, elementDetails) => {\r\n        const\r\n            { redux } = this.props,\r\n            { options, tab, tablePKs } = this.state,\r\n            primaryKeys = tablePKs.map(pk => humps.camelize(pk))\r\n\r\n        let updatedElement\r\n\r\n        if (elementDetails)\r\n            updatedElement = redux[options[tab]].find(e => e[primaryKeys[tab]] === elementDetails[primaryKeys[tab]])\r\n\r\n        if (elementDetails !== undefined && updatedElement) {\r\n            await this.setState({ showDetails: !this.state.showDetails, elementDetails: updatedElement })\r\n            void 0\r\n        }\r\n        else this.setState({ showDetails: !this.state.showDetails, elementDetails: undefined })\r\n    }\r\n\r\n    closeFiles = () => {\r\n        this.setState({ showFiles: !this.state.showFiles })\r\n    }\r\n\r\n    showFiles = id => {\r\n        const\r\n            { tab } = this.state,\r\n            { veiculos, socios, empresaDocs, vehicleDocs } = this.props.redux\r\n        let\r\n            selectedFiles,\r\n            typeId\r\n\r\n        switch (tab) {\r\n            case 0:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.empresaId === id && f.metadata?.tempFile === false)\r\n                typeId = 'empresaId'\r\n                break\r\n\r\n            case 1:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.empresaId === id)\r\n                const socio = socios.find(v => v.socioId === id)\r\n\r\n                if (socio) {\r\n                    let sociosArray = []\r\n                    selectedFiles = empresaDocs\r\n                        .filter(f => socio.empresas.some(e => e.codigoEmpresa === f.metadata.empresaId && f.metadata.fieldName !== 'crc'))\r\n                    selectedFiles.forEach(f => {\r\n                        if (f.metadata.socios && f.metadata.socios.includes(id)) {\r\n                            sociosArray.push(f)\r\n                        }\r\n                    })\r\n                    selectedFiles = sociosArray\r\n                }\r\n                break\r\n\r\n            case 2:\r\n                typeId = 'procuracaoId'\r\n                let filesToReturn = []\r\n\r\n                empresaDocs.forEach(f => {\r\n                    if (f?.metadata?.fieldName === 'procuracao') {\r\n                        if (f?.metadata?.procuradores)\r\n                            f.metadata.procuradores.forEach(procId => {\r\n                                if (procId === id) filesToReturn.push(f)\r\n                            })\r\n                    }\r\n                })\r\n                selectedFiles = filesToReturn\r\n                break\r\n\r\n            case 3:\r\n                typeId = 'veiculoId'\r\n                selectedFiles = vehicleDocs.filter(f => f.metadata.veiculoId === id)\r\n                const vehicle = veiculos.find(v => v.veiculoId === id)\r\n                if (vehicle) {\r\n                    const seguro = empresaDocs.find(f => f?.metadata?.apolice === vehicle?.apolice?.toString())\r\n                    if (seguro) selectedFiles.push(seguro)\r\n                }\r\n                break\r\n\r\n            case 4:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.apolice === id)\r\n                break\r\n            default: void 0\r\n        }\r\n\r\n        selectedFiles = selectedFiles.filter(file => file?.metadata?.tempFile === false)\r\n        console.log(selectedFiles)\r\n        if (selectedFiles[0]) {\r\n            selectedFiles = selectedFiles\r\n                .sort((a, b) => new Date(a['uploadDate']) - new Date(b['uploadDate']))\r\n                .reverse()\r\n            this.setState({ filesCollection: selectedFiles, showFiles: true, typeId, selectedElement: id })\r\n\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true, subject: typeId })\r\n            this.setState({ filesCollection: [] })\r\n        }\r\n    }\r\n\r\n    confirmDeactivate = data => {\r\n        if (data.situacao === 'Desativada') {\r\n            alert(`A empresa ${data.razaoSocial} já foi desativada.`)\r\n            return\r\n        }\r\n        this.setState({\r\n            openConfirmDialog: true,\r\n            confirmType: 'deactivateEmpresa',\r\n            element: data?.razaoSocial || '',\r\n            empresaToDeactivate: data?.codigoEmpresa\r\n        })\r\n    }\r\n\r\n    deleteHandler = data => {\r\n        const { dbTables, tablePKs, tab } = this.state,\r\n            table = dbTables[tab],\r\n            tablePK = tablePKs[tab],\r\n            itemId = humps.camelize(tablePK)\r\n\r\n        let { codigoEmpresa } = data\r\n\r\n        //Socios e procuradores não possuem codigoEmpresa, mas array de empresa\r\n        if (table === 'socios' || table === 'procuradores')\r\n            codigoEmpresa = JSON.stringify(data?.empresas)\r\n\r\n        //Demanda da SGTI para não apagar as empresas, mas alterar o status para \"inativo\"\r\n        if (tab === 0) {\r\n            codigoEmpresa = data\r\n            const reqBody = {\r\n                table,\r\n                tablePK: 'codigo_empresa',\r\n                update: {\r\n                    codigo_empresa: codigoEmpresa,\r\n                    situacao: 'Desativada'\r\n                }\r\n            }\r\n\r\n            axios.put('/api/editElements', reqBody)\r\n            this.closeConfirmDialog()\r\n        }\r\n        else\r\n            axios.delete(`/api/delete?table=${table}&tablePK=${tablePK}&id=${data[itemId]}&codigoEmpresa=${codigoEmpresa}&cpf_socio=${data.cpfSocio}&cpf_procurador=${data.cpfProcurador}`)\r\n                .then(r => console.log(r.data))\r\n    }\r\n\r\n    showCertificate = async vehicle => {\r\n\r\n        const\r\n            { parametros } = this.props.redux,\r\n            { anoCarroceria, situacao, vencimento } = vehicle,\r\n            seguroVencido = moment(vencimento).isBefore(),\r\n            currentYear = new Date().getFullYear(),\r\n            isOld = currentYear - anoCarroceria >= 16\r\n\r\n        if (isOld) {\r\n            const validLaudo = moment(vehicle.vencimentoLaudo).isAfter(moment())\r\n\r\n            if (!validLaudo) {\r\n                await this.setState({\r\n                    openAlertDialog: true,\r\n                    customTitle: 'Certificado de segurança veicular pendente.',\r\n                    customMessage: 'O laudo de segurança veicular não está registrado no sistema ou se encontra vencido. Para regularizar, acesse Veículos -> Laudos.'\r\n                })\r\n                return\r\n            }\r\n        }\r\n\r\n        if (situacao !== 'Ativo') {\r\n            await this.setState({ alertType: 'veiculoPendente', openAlertDialog: true })\r\n            return\r\n        }\r\n        if (seguroVencido) {\r\n            await this.setState({ alertType: 'seguroVencido', openAlertDialog: true })\r\n            return\r\n        }\r\n\r\n        const url = window.location.origin + '/crv'\r\n        localStorage.setItem('vehicle', JSON.stringify(vehicle))\r\n\r\n        //Envia os nomes da Secretaria, sub, etc para o certificado com base no DB>GlobalState\r\n        if (parametros && parametros[0]) {\r\n            const\r\n                { nomes } = parametros[0]\r\n            localStorage.setItem('nomes', JSON.stringify(nomes))\r\n\r\n        }\r\n        window.open(url, 'noopener')\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    closeCertificate = () => this.setState({ showCertificate: !this.state.showCertificate })\r\n    closeConfirmDialog = () => this.setState({ openConfirmDialog: false })\r\n\r\n    render() {\r\n        const\r\n            { tab, options, items, showDetails, elementDetails, showFiles, selectedElement, filesCollection, typeId, tablePKs, showCertificate, certified,\r\n                detailsTitle, detailsHeader, openAlertDialog, openConfirmDialog, alertType, confirmType, customTitle, customMessage } = this.state,\r\n            { redux, user } = this.props,\r\n            { empresas, procuracoes, procuradores, empresaDocs, altContrato } = redux,\r\n            primaryKeys = tablePKs.map(pk => humps.camelize(pk))\r\n        let\r\n            updatedElement,\r\n            collection = [...this.props.redux[options[tab]]]\r\n\r\n        //Caso a aba seja Sócios ou Procuradores, extrai e renderiza o nome das empresas das arrays de codigoEmpresa de cada sócio/procurador\r\n        if (tab === 1 || tab === 2)\r\n            collection = getEmpresas(collection, empresas, tab)\r\n\r\n        //Define os dados para a exibição de informações adicionais (ShowDetails)\r\n        if (elementDetails && showDetails)\r\n            updatedElement = collection.find(e => e[primaryKeys[tab]] === elementDetails[primaryKeys[tab]])\r\n\r\n        return <Fragment>\r\n            <TabMenu items={items}\r\n                tab={tab}\r\n                changeTab={this.changeTab} />\r\n            <ConsultasTemplate\r\n                tab={tab}\r\n                items={items}\r\n                collection={collection}\r\n                empresas={empresas}\r\n                procuracoes={procuracoes}\r\n                user={user}\r\n                showDetails={this.showDetails}\r\n                showFiles={this.showFiles}\r\n                del={this.deleteHandler}\r\n                showCertificate={this.showCertificate}\r\n                confirmDeactivate={this.confirmDeactivate}\r\n            />\r\n            {showDetails &&\r\n                <ShowDetails\r\n                    close={this.showDetails}\r\n                    data={updatedElement || elementDetails}\r\n                    tab={tab}\r\n                    title={detailsTitle[tab]}\r\n                    header={detailsHeader[tab]}\r\n                    empresas={empresas}\r\n                    procuracoes={procuracoes}\r\n                    procuradores={procuradores}\r\n                    empresaDocs={empresaDocs}\r\n                    altContrato={altContrato}\r\n                />\r\n            }\r\n            {\r\n                showCertificate &&\r\n                <Certificate vehicle={certified} />\r\n            }\r\n            {\r\n                showFiles &&\r\n                <ShowFiles\r\n                    tab={tab}\r\n                    elementId={selectedElement}\r\n                    filesCollection={filesCollection}\r\n                    close={this.closeFiles}\r\n                    format={format}\r\n                    typeId={typeId}\r\n                    empresas={empresas}\r\n                    empresaDocs={empresaDocs}\r\n                />\r\n            }\r\n            {\r\n                openAlertDialog &&\r\n                <AlertDialog\r\n                    open={openAlertDialog} close={this.closeAlert} alertType={alertType} tab={tab} customMessage={customMessage} customTitle={customTitle}\r\n                />\r\n            }\r\n            {\r\n                openConfirmDialog &&\r\n                <ConfirmDialog\r\n                    open={openConfirmDialog}\r\n                    close={this.closeConfirmDialog}\r\n                    confirm={this.deleteHandler}\r\n                    element={this.state.element}\r\n                    type={confirmType}\r\n                    id={this.state.empresaToDeactivate}\r\n                />\r\n            }\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'socios', 'procuradores', 'seguros', 'seguradoras', 'procuracoes',\r\n    'getFiles/vehicleDocs', 'getFiles/empresaDocs', 'equipamentos', 'acessibilidade', 'laudos', 'altContrato', 'parametros']\r\n\r\nexport default connect(null, { updateCollection })(StoreHOC(collections, ConsultasContainer))","const cadEmpresaForm = [\r\n    { title: 'Contrato Social', name: 'contratoSocial' },\r\n    { title: 'CRC', name: 'crc' },\r\n]\r\n\r\nexport default cadEmpresaForm","import React from 'react'\r\n\r\nimport TextInput from '../Reusable Components/TextInput'\r\n\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport FormSubtitle from '../Reusable Components/FormSubtiltle'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport cadEmpresaForm from '../Forms/cadEmpresaForm'\r\n\r\nexport default function ({ handleInput, handleBlur, data, handleFiles, removeFile }) {\r\n    const { activeStep, stepTitles, form, fileToRemove } = data\r\n\r\n    return (\r\n        <div className=\"flex paper\">\r\n            <FormSubtitle subtitle={stepTitles[activeStep]} />\r\n            <main>\r\n                <TextInput\r\n                    form={empresasForm}\r\n                    data={data}\r\n                    handleBlur={handleBlur}\r\n                    handleInput={handleInput}\r\n                />\r\n                <div className='flex center'>\r\n                    {\r\n                        cadEmpresaForm.map(({ name, title }, i) =>\r\n                            <DragAndDrop\r\n                                key={i}\r\n                                name={name}\r\n                                formData={form}\r\n                                dropDisplay={`Clique ou arraste para anexar o ${title}`}\r\n                                handleFiles={handleFiles}\r\n                                removeFile={removeFile}\r\n                                fileToRemove={fileToRemove}\r\n                                style={{ width: '25%', marginRight: i === 0 ? '12px' : 0 }}\r\n                            />\r\n                        )\r\n                    }\r\n                </div>\r\n            </main>\r\n        </div>\r\n    )\r\n}","import { cpf, email, phone } from './commonFields'\r\n\r\nconst width = 195\r\n\r\nexport const sociosForm = [{\r\n    field: 'nomeSocio',\r\n    label: 'Nome do Sócio',\r\n    maxLength: 90,\r\n    width,\r\n    disabled: true\r\n},\r\n{\r\n    ...cpf,\r\n    width,\r\n    disabled: true\r\n},\r\n{\r\n    ...phone,\r\n    field: 'telSocio',\r\n    width\r\n},\r\n{\r\n    ...email,\r\n    field: 'emailSocio',\r\n    width\r\n},\r\n{\r\n    field: 'share',\r\n    label: 'Participação Societária (%)',\r\n    type: 'number',\r\n    width\r\n}\r\n]\r\n\r\n","import React, { Fragment } from 'react'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { sociosForm as dadosSociosForm } from '../Forms/dadosSociosForm'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport { errorHandler, helper } from '../Utils/checkInputErrors';\r\nimport { sociosForm as sForm } from '../Forms/sociosForm';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#999',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    }\r\n}))\r\n\r\nexport default function ({ socios, empresas, handleInput, handleBlur, data, addSocio, enableEdit, handleEdit, removeSocio }) {\r\n\r\n    const\r\n        { activeStep, stepTitles, filteredSocios, selectedEmpresa } = data,\r\n        classes = useStyles(), { iconButton, list } = classes\r\n\r\n    let\r\n        standAlone = true,\r\n        sociosForm = dadosSociosForm\r\n\r\n    if (stepTitles) {\r\n        standAlone = false\r\n        sociosForm = sForm\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"flex center\">\r\n                {\r\n                    standAlone &&\r\n                    <header style={{ marginBottom: '10px', width: '100%' }}>\r\n                        <SelectEmpresa\r\n                            data={data}\r\n                            empresas={empresas}\r\n                            handleInput={handleInput}\r\n                            handleBlur={handleBlur}\r\n                        />\r\n                    </header>\r\n                }\r\n                {\r\n                    (selectedEmpresa || !standAlone) &&\r\n                        standAlone ?\r\n                        <>\r\n                            <div className=\"flexColumn\" style={{ alignItems: 'center' }}>\r\n                                <h6 style={{ fontSize: '14px' }}>Alteração de informações dos sócios</h6>\r\n                                <p style={{ fontSize: '12px', color: '#555' }}> Clique no lápis à direita do sócio para editar e clique novamente para salvar.</p>\r\n                                <p style={{ fontSize: '12px', color: '#555', marginTop: 0 }}> Para alterar a participação societária, nome e CPF, vá para EMPRESAS – ALTERAÇÃO CADASTRAL</p>\r\n\r\n                            </div>\r\n                        </>\r\n                        : stepTitles &&\r\n                        <section className=\"flex center paper\">\r\n                            <FormSubtiltle subtitle={stepTitles[activeStep]} />\r\n                            <div className='flex center' style={{ padding: '10px 0', width: '100%' }}>\r\n                                <TextInput\r\n                                    form={sociosForm}\r\n                                    data={data}\r\n                                    handleBlur={handleBlur}\r\n                                    handleInput={handleInput}\r\n                                />\r\n                            </div>\r\n                            <div style={{ margin: '5px 0 7px 84.58%', width: '100%' }}>\r\n                                <Button color='primary' variant='outlined' size='small' onClick={addSocio}>\r\n                                    <AddIcon /> Adicionar sócio\r\n                                </Button>\r\n                            </div>\r\n                        </section>\r\n                }\r\n            </main>\r\n            {\r\n                selectedEmpresa && filteredSocios.length === 0 &&\r\n                <section>\r\n                    <p>\r\n                        Nenhum sócio cadastrado para {selectedEmpresa.razaoSocial}\r\n                    </p>\r\n                </section>\r\n            }\r\n            {\r\n                socios?.length > 0 &&\r\n                <>\r\n                    <section className=\"flexColumn center paper\">\r\n                        <p> Sócios cadastrados</p>\r\n                        {socios.map((s, i) =>\r\n                            <div key={i}>\r\n                                {sociosForm.map((e, k) =>\r\n                                    <Fragment key={k + 1000}>\r\n                                        <TextField\r\n                                            value={s[e.field] || ''}\r\n                                            name={e.field}\r\n                                            label={e.label}\r\n                                            className={list}\r\n                                            onChange={handleEdit}\r\n                                            error={s.edit ? errorHandler(s[e.field], e) : null}\r\n                                            helperText={s.edit ? helper(s[e.field], e) : null}\r\n                                            type={e?.type}\r\n                                            disabled={(e.field === 'share' && standAlone) || e.disabled ? true : s.edit ? false : true}\r\n                                            InputLabelProps={\r\n                                                {\r\n                                                    shrink: true,\r\n                                                    style: {\r\n                                                        fontWeight: 600,\r\n                                                        fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif',\r\n                                                        color: '#888'\r\n                                                    }\r\n                                                }}\r\n                                            inputProps={{\r\n                                                style: {\r\n                                                    fontSize: '13px',\r\n                                                    color: s.edit === true ? '#000'\r\n                                                        : s.status === 'new' ? 'green'\r\n                                                            : s.status === 'modified' ? '#FF2500'\r\n                                                                : s.status === 'deleted' ? 'red'\r\n                                                                    : '#888',\r\n                                                    textDecoration: s.status === 'deleted' && !s.edit ? 'line-through' : ''\r\n                                                }\r\n                                            }}\r\n                                        />\r\n                                    </Fragment>\r\n                                )}\r\n                                <Button component='span' className={iconButton} title='editar' onClick={() => enableEdit(i)}>\r\n                                    <EditIcon />\r\n                                </Button>\r\n\r\n                                {!standAlone && <Button className={iconButton}\r\n                                    color={s.status === 'deleted' ? 'primary' : 'secondary'}\r\n                                    title={s.status === 'deleted' ? 'Desfazer exclusão' : 'Remover'}\r\n                                    onClick={() => removeSocio(i)}>\r\n                                    {s.status === 'deleted' ? <i className='material-icons'>undo</i> : <DeleteIcon />}\r\n                                </Button>}\r\n                            </div>\r\n                        )}\r\n                    </section>\r\n                </>\r\n            }\r\n        </>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\n\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 5px 0',\r\n        height: 'auto'\r\n    }\r\n}))\r\n\r\nexport default function EmpresaCadReview({ data, empresasForm, sociosForm, filesForm, files }) {\r\n\r\n    const { socios } = data,\r\n        classes = useStyles(),\r\n        { paper } = classes\r\n\r\n    let empresaDetails = [], obj = {}, filledForm = [], ultimateData\r\n\r\n    empresasForm.forEach(e => {\r\n        if (data.hasOwnProperty([e.field])) {\r\n            Object.assign(obj, { [e.field]: data[e.field] })\r\n            filledForm.push(e)\r\n        }\r\n    })\r\n    empresaDetails.push(obj)\r\n\r\n    ultimateData = [\r\n        { subtitle: 'Detalhes da empresa', form: filledForm, data: empresaDetails },\r\n        { subtitle: 'Informações sobre os sócios', form: sociosForm, data: socios }\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <Paper className={paper}>\r\n                <div className='divTable'>\r\n                    {\r\n                        ultimateData.map(({ subtitle, form, data }, y) =>\r\n                            <Fragment key={y}>\r\n                                <table style={y === 1 ? { tableLayout: 'fixed' } : {}}>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className='tHeader'\r\n                                                colSpan={form.length}>{subtitle}</th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            {form.map((s, i) => <th key={i}>{s.label}</th>)}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {y === 0 && <tr>\r\n                                            {data.map((obj, j) =>\r\n                                                Object.values(obj).map((el, k) =>\r\n                                                    <td className='review' key={k}>\r\n                                                        {el}\r\n                                                    </td>\r\n                                                )\r\n                                            )}\r\n                                        </tr>}\r\n                                        {y !== 0 && data.map((obj, j) =>\r\n                                            <tr key={j}>\r\n                                                {Object.values(obj).map((el, k) =>\r\n                                                    <td className='review' key={k}>\r\n                                                        {el}\r\n                                                    </td>\r\n                                                )}\r\n                                            </tr>\r\n                                        )}\r\n                                    </tbody>\r\n                                </table>\r\n                            </Fragment>\r\n                        )}\r\n                </div>\r\n\r\n                <h3 style={{ margin: '30px 0 0 25px' }}> <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} /> Documentos </h3>\r\n                {files && <ShowLocalFiles form={filesForm} files={files} />}\r\n            </Paper >\r\n        </>\r\n    )\r\n}","import { formatCpf, formatCnpj, formatPhone, formatShare } from './formatValues'\r\n\r\nexport default function valueParser(name, value) {\r\n    let parsed\r\n\r\n    if (name.match('cnpj')) {\r\n        parsed = formatCnpj(value)\r\n        return parsed\r\n    }\r\n    if (name.match('cpf')) {\r\n        parsed = formatCpf(value)\r\n        return parsed\r\n    }\r\n    if (name.match('tel')) {\r\n        parsed = formatPhone(value)\r\n        return parsed\r\n    }\r\n    if (name.match('share')) {\r\n        parsed = formatShare(value)\r\n        return parsed\r\n    }\r\n\r\n    else return value\r\n}\r\n","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport EmpresasTemplate from './EmpresasTemplate'\r\nimport SociosTemplate from './SociosTemplate'\r\nimport EmpresaCadReview from './EmpresaCadReview'\r\n\r\nimport valueParser from '../Utils/valueParser'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\n\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\nimport CustomStepper from '../Reusable Components/Stepper'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport { handleFiles, removeFile } from '../Utils/handleFiles'\r\nimport cadEmpresaForm from '../Forms/cadEmpresaForm'\r\n\r\nclass EmpresasContainer extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        activeStep: 0,\r\n        stepTitles: ['Preencha os dados da empresa', 'Informações sobre os sócios',\r\n            'Revisão'],\r\n        steps: ['Dados da Empresa', 'Sócios', 'Revisão'],\r\n        razaoSocial: '',\r\n        toastMsg: 'Empresa cadastrada!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        socios: [],\r\n        showFiles: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n        document.querySelector(\"input[name='razaoSocial']\").style.width = '300px'\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n\r\n        /* const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        } */\r\n    }\r\n\r\n    handleInput = e => {\r\n        const\r\n            { name, value } = e.target,\r\n            parsedValue = valueParser(name, value)\r\n\r\n        this.setState({ [name]: parsedValue })\r\n    }\r\n\r\n    addSocio = async () => {\r\n        let socios = this.state.socios,\r\n            sObject = {},\r\n            invalid = 0,\r\n            totalShare = 0\r\n\r\n        sociosForm.forEach(obj => {\r\n            if (this.state[obj.field] === '' || this.state[obj.field] === undefined) {\r\n                invalid += 1\r\n            }\r\n        })\r\n\r\n        if (invalid === 100) {\r\n            this.setState({ alertType: 'fieldsMissing', openAlertDialog: true })\r\n            return null\r\n        }\r\n        else {\r\n            sociosForm.forEach(obj => {\r\n                Object.assign(sObject, { [obj.field]: this.state[obj.field] })\r\n            })\r\n            socios.push(sObject)\r\n\r\n            socios.forEach(s => {\r\n                totalShare += Number(s.share)\r\n            })\r\n            if (totalShare > 100) {\r\n                socios.pop()\r\n                this.setState({ alertType: 'overShared', openAlertDialog: true })\r\n            }\r\n            else {\r\n                await this.setState({ socios, totalShare })\r\n                sociosForm.forEach(obj => {\r\n                    this.setState({ [obj.field]: '' })\r\n                })\r\n                document.getElementsByName('nomeSocio')[0].focus()\r\n            }\r\n        }\r\n    }\r\n\r\n    enableEdit = index => {\r\n\r\n        let editSocio = this.state.socios\r\n        if (editSocio[index].edit === true) editSocio[index].edit = false\r\n        else {\r\n            editSocio.forEach(s => s.edit = false)\r\n            editSocio[index].edit = true\r\n        }\r\n        this.setState({ socios: editSocio })\r\n    }\r\n\r\n    handleEdit = e => {\r\n        const { name } = e.target, { socios } = this.state\r\n\r\n        let { value } = e.target\r\n        if (name === 'share') value = value.replace(',', '.')\r\n\r\n        let editSocio = socios.filter(s => s.edit === true)[0]\r\n        const index = socios.indexOf(editSocio)\r\n\r\n        editSocio[name] = value\r\n\r\n        let fs = socios\r\n        fs[index] = editSocio\r\n\r\n        this.setState({ filteredSocios: fs })\r\n    }\r\n\r\n    removeSocio = index => {\r\n        let socios = this.state.socios\r\n        socios.splice(index, 1)\r\n        this.setState({ socios })\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId, alertLabel) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            alert(alertLabel + ' não cadastrado')\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n            case 'cnpj':\r\n                const\r\n                    query = await axios.get(`/api/alreadyExists?table=empresas&column=cnpj&value=${value}`),\r\n                    alreadyExists = query?.data  //Retorna true ou false\r\n\r\n                if (alreadyExists) {\r\n                    const\r\n                        customTitle = 'Empresa já cadastrada.',\r\n                        customMsg = `O CNPJ informado corresponde a uma empresa já está cadastrada no sistema. Para alterar os dados da empresa, vá para Empresas -> Alteração de dados.`\r\n                    this.setState({ cnpj: '', customTitle, customMsg, openAlertDialog: true })\r\n                }\r\n                break;\r\n            case 'share':\r\n                value = value.replace(',', '.')\r\n                if (value > 100) {\r\n                    this.setState({ alertType: 'overShared', openAlertDialog: true })\r\n                }\r\n                else {\r\n                    const totalShare = Number(this.state.totalShare) + Number(value)\r\n                    this.setState({ [name]: value, totalShare })\r\n                }\r\n                break;\r\n            case 'numero':\r\n                if (value && !value.match(/^\\d+$/)) {\r\n                    await this.setState({ numero: '' })\r\n                    this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        let { socios, form } = this.state,\r\n            empresa = {},\r\n            empresaId,\r\n            socioIds\r\n\r\n        empresasForm.forEach(e => {\r\n            if (this.state.hasOwnProperty([e.field])) {\r\n                Object.assign(empresa, { [e.field]: this.state[e.field] })\r\n            }\r\n        })\r\n\r\n        if (!socios || !socios[0]) {\r\n            console.log('Warning: No socios were registered!!!')\r\n            socios = undefined\r\n        }\r\n\r\n        empresa.situacao = 'Ativo'\r\n        empresa = humps.decamelizeKeys(empresa)\r\n        socios = humps.decamelizeKeys(socios)\r\n\r\n        const response = await axios.post('/api/empresas', { empresa, socios })\r\n\r\n        empresaId = response.data.codigo_empresa\r\n        socioIds = response.data.socio_ids\r\n        //console.log(\"🚀 ~ file: EmpresasContainer.jsx ~ line 249 ~ EmpresasContainer ~ handleSubmit= ~ empresaId\", { empresaId, socioIds })\r\n\r\n        this.submitFile(empresaId, socioIds, form)\r\n\r\n        this.toast()\r\n        this.resetState()\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n            await this.setState({ [name]: files[0] })\r\n\r\n            const newState = handleFiles(files, this.state, cadEmpresaForm)\r\n            this.setState({ ...newState, fileToRemove: null })\r\n        }\r\n    }\r\n\r\n    submitFile = async (empresaId, socioIds) => {\r\n        const\r\n            { form } = this.state,\r\n            metadata = {\r\n                empresaId,\r\n                socios: socioIds,\r\n                tempFile: false\r\n            }\r\n        if (form instanceof FormData) {\r\n            let filesToSend = new FormData()\r\n            //O loop é para cada arquivo ter seu fieldName correto no campo metadata\r\n            for (let pair of form) {\r\n                metadata.fieldName = pair[0]\r\n                filesToSend.append('metadata', JSON.stringify(metadata))\r\n                filesToSend.set(pair[0], pair[1])\r\n                await axios.post('/api/empresaUpload', filesToSend)\r\n                    .then(r => console.log(r))\r\n                    .catch(err => console.log(err))\r\n                filesToSend = new FormData()\r\n            }\r\n        }\r\n    }\r\n\r\n    removeFile = name => {\r\n        const\r\n            { form } = this.state,\r\n            newState = removeFile(name, form)\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n\r\n    resetState = () => {\r\n        let\r\n            resetEmpresa = {},\r\n            resetSocios = {},\r\n            resetFiles = {}\r\n\r\n        empresasForm.forEach(obj => {\r\n            Object.keys(obj).forEach(key => {\r\n                if (key === 'field' && this.state[obj[key]]) Object.assign(resetEmpresa, { [obj[key]]: undefined })\r\n            })\r\n        })\r\n\r\n        sociosForm.forEach(obj => {\r\n            Object.keys(obj).forEach(key => {\r\n                if (key === 'field' && this.state[obj[key]]) Object.assign(resetSocios, { [obj[key]]: undefined })\r\n            })\r\n        })\r\n\r\n        cadEmpresaForm.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: undefined })\r\n        })\r\n\r\n        this.setState({\r\n            ...resetEmpresa,\r\n            ...resetSocios,\r\n            ...resetFiles,\r\n            activeStep: 0,\r\n            razaoSocial: '',\r\n            files: [],\r\n            fileNames: [],\r\n            addedSocios: [0],\r\n            totalShare: 0,\r\n            socios: [],\r\n            form: undefined,\r\n            showFiles: false\r\n        })\r\n    }\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    showFiles = () => this.setState({ showFiles: true })\r\n    closeFiles = () => this.setState({ showFiles: !this.state.showFiles })\r\n\r\n    render() {\r\n\r\n        const { socios, activeStep, confirmToast, toastMsg, steps, openAlertDialog,\r\n            alertType, form, customMsg, customTitle } = this.state\r\n\r\n        return <Fragment>\r\n\r\n            <Crumbs links={['Empresas', '/empresas']} text='Cadastro de empresas' />\r\n\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            {\r\n                activeStep === 0 ?\r\n                    <EmpresasTemplate\r\n                        data={this.state}\r\n                        handleInput={this.handleInput}\r\n                        handleBlur={this.handleBlur}\r\n                        handleFiles={this.handleFiles}\r\n                        removeFile={this.removeFile}\r\n                    />\r\n                    : activeStep === 1 ?\r\n                        <SociosTemplate\r\n                            data={this.state}\r\n                            socios={socios}\r\n                            handleInput={this.handleInput}\r\n                            handleBlur={this.handleBlur}\r\n                            addSocio={this.addSocio}\r\n                            removeSocio={this.removeSocio}\r\n                            handleFiles={this.handleFiles}\r\n                            enableEdit={this.enableEdit}\r\n                            handleEdit={this.handleEdit}\r\n                        />\r\n                        :\r\n                        activeStep === 2 &&\r\n                        <EmpresaCadReview\r\n                            data={this.state}\r\n                            files={form}\r\n                            filesForm={cadEmpresaForm}\r\n                            empresasForm={empresasForm}\r\n                            sociosForm={sociosForm}\r\n                        />\r\n            }\r\n            <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleSubmit}\r\n                setActiveStep={this.setActiveStep}\r\n                buttonLabel='Cadastrar empresa'\r\n            />\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {\r\n                openAlertDialog &&\r\n                <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={customMsg} customTitle={customTitle} />\r\n            }\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['empresas']\r\n\r\nexport default (StoreHOC(collections, EmpresasContainer))","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport './empresas.scss'\r\n\r\nconst featuredPosts = [\r\n    {\r\n        title: 'Cadastrar',\r\n        description: 'Cadastrar uma nova empresa no sistema.',\r\n        imageUrl: '/images/addCompany21.png',\r\n        link: '/empresas/cadastro'\r\n    },\r\n    {\r\n        title: 'Alteração Cadastral',\r\n        description: 'Alteração de dados da empresa ou contrato social',\r\n        link: '/altContrato',\r\n        imageUrl: '/images/pen2.png'\r\n    },\r\n    {\r\n        title: 'Sócios',\r\n        description: 'Visualizar ou editar dados dos sócios',\r\n        link: '/empresas/socios',\r\n        imageUrl: '/images/socios3.png'\r\n    },\r\n    {\r\n        title: 'Procurações',\r\n        description: 'Cadastrar procurações e procuradores',\r\n        link: '/empresas/procuradores',\r\n        imageUrl: '/images/procuradores31.png'\r\n    },\r\n]\r\n\r\nconst EmpresasHome = props => {\r\n    const\r\n        { user } = props,\r\n        role = user?.role\r\n\r\n    return (\r\n        <>\r\n            <section className='jumbo'>\r\n                <div>\r\n                    <h1 className='jumbo__title'>\r\n                        Empresas\r\n                    </h1>\r\n                    <p className='jumbo__description'>\r\n                        Selecione uma das opções abaixo.\r\n                    </p>\r\n                </div>\r\n            </section>\r\n\r\n            <main className='cardContainer' style={{ width: role !== 'empresa' ? '100%' : '90%', marginLeft: role !== 'empresa' ? '0' : '5%' }}>\r\n                {featuredPosts.map(({ link, title, description, imageUrl }, i) =>\r\n                    role === 'empresa' && link === '/empresas/cadastro' ?\r\n                        null\r\n                        :\r\n                        <Link to={link} style={{ textDecoration: 'none' }} key={i}>\r\n                            <div className='cardE'>\r\n                                <div className='cardE__text'>\r\n                                    <h3>\r\n                                        {title}\r\n                                    </h3>\r\n                                    <p>\r\n                                        {description}\r\n                                    </p>\r\n                                </div>\r\n                                <figure className='cardE__image'>\r\n                                    <img src={imageUrl} alt=\"\" />\r\n                                </figure>\r\n                            </div>\r\n                        </Link>\r\n                )}\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n\r\nconst collections = []\r\nexport default StoreHOC(collections, EmpresasHome)","import { cpf, email, phone } from './commonFields'\r\n\r\nexport const procuradorForm = [{\r\n    field: 'nomeProcurador',\r\n    label: 'Nome do Procurador',\r\n    maxLength: 90,\r\n    width: 220\r\n},\r\n{\r\n    ...cpf,\r\n    field: 'cpfProcurador',\r\n    width: 220\r\n},\r\n{\r\n    ...phone,\r\n    field: 'telProcurador',\r\n    width: 220\r\n},\r\n{\r\n    ...email,\r\n    field: 'emailProcurador',\r\n    width: 220\r\n}\r\n]","import React from 'react'\r\n\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nconst StyledTableCell = withStyles(theme => ({\r\n    head: {\r\n        backgroundColor: '#e1f5fe',\r\n        color: '#00000',\r\n        fontWeight: 600,\r\n        fontSize: 14,\r\n    },\r\n    body: {\r\n        fontSize: 14,\r\n\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledCell = withStyles(theme => ({\r\n    head: {\r\n        backgroundColor: '#e1f5fe',\r\n        color: '#00000',\r\n    },\r\n    body: {\r\n        fontSize: 13,\r\n\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles(theme => ({\r\n    root: {\r\n        '&:nth-of-type(odd)': {\r\n            backgroundColor: theme.palette.background.default,\r\n        },\r\n    },\r\n}))(TableRow);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: '1',\r\n        padding: '1%',\r\n        textAlign: 'center'\r\n    },\r\n    title: {\r\n        marginTop: '2%',\r\n        fontColor: '#000',\r\n        fontSize: '0.9rem',\r\n        backgroundColor: '#B2DCEA',\r\n        textAlign: 'center'\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(2),\r\n        width: \"100%\",\r\n        padding: '2% 0 1% 0',\r\n        height: 'auto'\r\n    },\r\n    table: {\r\n        marginBottom: theme.spacing(2),\r\n        overflowX: 'auto'\r\n    }\r\n}))\r\n\r\n\r\nexport default function Procurador({ procuracao, procuradores }) {\r\n\r\n    const classes = useStyles(),\r\n        { title, table } = classes\r\n\r\n    let procArray = []\r\n\r\n    procuracao.procuradores.forEach(id => {\r\n        const pro = procuradores.find(p => p.procuradorId === id)\r\n        procArray.push(pro)\r\n    })\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div style={{ width: '100%', align: 'left' }}>\r\n                <Typography className={title}> Procuradores cadastrados </Typography>\r\n            </div>\r\n            <Table className={table}>\r\n                <TableHead>\r\n                    <StyledTableRow>\r\n                        {procuradorForm.map((s, i) => <StyledTableCell key={i}>{s.label}</StyledTableCell>)}\r\n                    </StyledTableRow>\r\n                </TableHead>\r\n                { procArray.map((d, j) =>\r\n                    d ?\r\n                        <TableBody key={j}>\r\n                            <TableRow>\r\n                                {\r\n                                    procuradorForm.map((obj, l) =>\r\n                                        <StyledCell key={l}>\r\n                                            {d[obj.field]}\r\n                                        </StyledCell>\r\n                                    )\r\n                                }\r\n                            </TableRow>\r\n                        </TableBody>\r\n                        :\r\n                        null\r\n                )}\r\n            </Table>\r\n        </ React.Fragment>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\nimport moment from 'moment'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport Button from '@material-ui/core/Button'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\n\r\nimport AddCircleOutlineSharpIcon from '@material-ui/icons/AddCircleOutlineSharp';\r\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\r\n\r\nimport Procurador from './Procurador'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\n\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\n\r\nconst divFiles = {\r\n    textAlign: 'center',\r\n    alignItems: 'flex-start',\r\n    justify: 'space-between',\r\n    lineHeight: '40px',\r\n    border: '1px #ccc solid',\r\n    padding: '0 1%',\r\n    margin: '1% 1% 0.5% 1%',\r\n    fontSize: '0.8rem',\r\n    backgroundColor: '#f6f6f6',\r\n    borderRadius: '6px',\r\n    width: 180\r\n}\r\n\r\nconst icon = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    paddingLeft: '2%'\r\n}\r\n\r\nconst fileIcon = {\r\n    verticalAlign: 'middle',\r\n    padding: '0 0% 0 2%',\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center'\r\n    },\r\n    addButton: {\r\n        padding: '5px 10px 5px 8px',\r\n        height: '40px',\r\n        margin: '5px',\r\n        float: 'right',\r\n        fontSize: '0.8rem'\r\n    }\r\n}))\r\n\r\nexport default function ({ redux, data, handleInput, addProc, removeProc, handleFiles, getFile, plusOne, minusOne, checkExpires, setShowPendencias, removeFile }) {\r\n\r\n    const\r\n        { dropDisplay, selectedEmpresa, procsToAdd, selectedDocs, procuracao, expires, demand, showPendencias, info, demandFiles, fileToRemove } = data,\r\n        { empresas, procuradores } = redux,\r\n\r\n        classes = useStyles(), { addButton, textField } = classes\r\n\r\n    const errorHandler = (el, index) => {\r\n\r\n        const value = data[el.field + index]\r\n\r\n        if (el.errorHandler && el.errorHandler(value)) return false\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return true\r\n\r\n        if (el.pattern && value) return value.match(el.pattern) === null\r\n\r\n        if (value > el.max || value < el.min) return true\r\n        if (value?.length < el?.minLength) return true\r\n\r\n        else return false\r\n    }\r\n\r\n    const helper = (el, index) => {\r\n        const value = data[el.field + index]\r\n\r\n        if (el.errorHandler && el.errorHandler(value)) return '✓'\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return '✘'\r\n\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value && value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return '✓'\r\n\r\n        if (value?.length < el?.minLength) return '✘'\r\n        if (value?.length >= el?.minLength) return '✓'\r\n\r\n        else return undefined\r\n    }\r\n\r\n    const handleDates = (date) => {\r\n\r\n        if (date) return moment(date).format('DD-MM-YYYY')\r\n        else return ''\r\n    }\r\n\r\n    //************CRIAR FUNÇÃO PARA IMPEDIR QUE O PROCURADOR QUE TENHA ALGUMA PROCURAÇÃO SEJA APAGADO NA TELA 'CONSULTAS' */\r\n    return (\r\n        <div className='flex'>\r\n            <header className='flex center' style={{ marginBottom: '10px', width: '100%' }}>\r\n                <SelectEmpresa\r\n                    data={data}\r\n                    empresas={empresas}\r\n                    handleInput={handleInput}\r\n                />\r\n            </header>\r\n            {selectedEmpresa &&\r\n                <section className=\"paper flexColumn\" style={{ position: 'relative', width: '100%' }}>\r\n                    <div className='flexColumn' style={{ alignItems: 'center' }}>\r\n                        <h6> Cadastrar nova procuração </h6>\r\n                        <h4 style={{ fontWeight: 400, fontSize: '0.9em' }}> Se a procuração abranger mais de um procurador, clique em \"+\" para adicionar e anexe apenas 1 vez.</h4>\r\n                    </div>\r\n                    {procsToAdd.map((p, j) =>\r\n                        <div className=\"flex\" key={j} >\r\n                            {procuradorForm.map((el, i) =>\r\n                                <Fragment key={i}>\r\n                                    <TextField\r\n                                        name={el.field + j}\r\n                                        label={el.label}\r\n                                        margin='normal'\r\n                                        className={textField}\r\n                                        onChange={e => handleInput(e)}\r\n                                        type={el.type || ''}\r\n                                        error={errorHandler(el, j)}\r\n                                        helperText={helper(el, j)}\r\n                                        select={el.select || false}\r\n                                        value={data[el.field + j] || ''}\r\n                                        disabled={el.disabled || false}\r\n                                        InputLabelProps={{\r\n                                            className: textField,\r\n                                            shrink: el.type === 'date' || undefined,\r\n                                            style: { fontSize: '0.7rem', fontWeight: 400, color: '#888' }\r\n                                        }}\r\n                                        inputProps={{\r\n                                            style: {\r\n                                                background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                                fontSize: '0.9rem', textAlign: 'center', color: '#000', width: el.width || 150, height: '7px'\r\n                                            },\r\n                                            value: `${data[el.field + j] || ''}`,\r\n                                            list: el.datalist || '',\r\n                                            maxLength: el.maxLength || '',\r\n                                            minLength: el.minLength || '',\r\n                                            max: el.max || '',\r\n                                        }}\r\n                                        multiline={el.multiline || false}\r\n                                        rows={el.rows || null}\r\n                                        variant={el.variant || 'filled'}\r\n                                        fullWidth={el.fullWidth || false}\r\n                                    >\r\n                                    </TextField>\r\n                                    {j === procsToAdd.length - 1 && i === 3 &&\r\n                                        <>\r\n                                            <AddCircleOutlineSharpIcon\r\n                                                onClick={() => plusOne()}\r\n                                                style={{\r\n                                                    verticalAlign: 'middle',\r\n                                                    position: 'absolute',\r\n                                                    bottom: '112px',\r\n                                                    right: j > 0 ? '40px' : '68px',\r\n                                                    color: '#009688',\r\n                                                    fontSize: 30,\r\n                                                    cursor: 'pointer',\r\n                                                    zIndex: 1\r\n                                                }}\r\n                                            />\r\n                                            {j > 0 && <RemoveCircleOutlineIcon\r\n                                                onClick={() => minusOne()}\r\n                                                style={{\r\n                                                    verticalAlign: 'middle',\r\n                                                    position: 'absolute',\r\n                                                    bottom: '112px',\r\n                                                    right: '70px',\r\n                                                    color: 'red',\r\n                                                    fontSize: 30,\r\n                                                    cursor: 'pointer',\r\n                                                    zIndex: 1\r\n                                                }}\r\n                                            />}\r\n                                        </>\r\n                                    }\r\n                                </Fragment>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"flex\" style={{ alignItems: 'center', padding: '0 20px', width: '100%', margin: '12px 0 6px 0' }}>\r\n                        <div style={{ width: '50%' }}>\r\n                            {!demand ?\r\n                                <DragAndDrop\r\n                                    name='procuracao'\r\n                                    formData={procuracao}\r\n                                    dropDisplay={dropDisplay}\r\n                                    handleFiles={handleFiles}\r\n                                    demandFiles={demandFiles}\r\n                                    removeFile={removeFile}\r\n                                    fileToRemove={fileToRemove}\r\n                                />\r\n                                :\r\n                                <div className=\"flex\">\r\n                                    <ShowLocalFiles\r\n                                        demand={demand}\r\n                                        collection='empresaDocs'\r\n                                        demandFiles={demandFiles}\r\n                                        form={empresaFiles}\r\n                                        style={{ minWidth: '220px' }}\r\n                                    />\r\n                                </div>\r\n                            }\r\n                        </div>\r\n\r\n                        <div style={{ display: 'flex', justifyContent: 'flex-end', alignItems: 'center', width: '50%', paddingTop: '8px' }}>\r\n                            <div style={{ marginTop: '12px' }}>\r\n                                <FormControlLabel\r\n                                    control={\r\n                                        <Checkbox\r\n                                            checked={expires === true}\r\n                                            onChange={() => checkExpires()}\r\n                                            value={expires}\r\n                                        />\r\n                                    }\r\n                                    label={\r\n\r\n                                        <span style={{ color: '#2979ff', fontSize: '0.8em', float: 'right' }}>\r\n                                            Procuração por prazo determinado?\r\n                                    </span>\r\n                                    }\r\n                                />\r\n                            </div>\r\n                            <TextField\r\n                                name='vencimento'\r\n                                label='Vencimento'\r\n                                margin='normal'\r\n                                className={textField}\r\n                                onChange={e => handleInput(e)}\r\n                                type='date'\r\n                                helper='se indeterminado, deixar em branco'\r\n                                value={data.vencimento || ''}\r\n                                disabled={expires === false}\r\n                                InputLabelProps={{\r\n                                    className: textField,\r\n                                    shrink: true,\r\n                                    style: { fontSize: '0.8rem', color: '#455a64', marginBottom: '5%' }\r\n                                }}\r\n                                inputProps={{\r\n                                    style: { background: '#fafafa', fontSize: '0.8rem', textAlign: 'center', color: '#000', height: '9px' },\r\n                                }}\r\n                                variant={'filled'}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </section>}\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', width: '100%' }}>\r\n                {selectedEmpresa && !demand ?\r\n                    <Button\r\n                        className={addButton}\r\n                        size='small'\r\n                        color=\"secondary\"\r\n                        variant=\"contained\"\r\n                        onClick={() => addProc()}\r\n                    >\r\n                        <AddIcon />Cadastrar procuração\r\n                        </Button>\r\n                    : selectedEmpresa && demand ?\r\n                        <StepperButtons\r\n                            uniqueStep={true}\r\n                            declineButtonLabel='Indeferir'\r\n                            demand={demand}\r\n                            setShowPendencias={setShowPendencias}\r\n                            showPendencias={showPendencias}\r\n                            info={info}\r\n                            handleSubmit={addProc}\r\n                            handleInput={handleInput}\r\n                        />\r\n                        : null\r\n                }\r\n            </div>\r\n\r\n            <section className=\"flexColumn\" style={{ width: '100%', paddingRight: '0' }}>\r\n                {\r\n                    selectedEmpresa && !selectedDocs[0] && !demand ?\r\n                        <div className=\"flex paper\">\r\n                            Nenhum procurador cadastrado para {selectedEmpresa.razaoSocial}\r\n                        </div>\r\n                        :\r\n                        selectedEmpresa && selectedDocs[0] &&\r\n                        <h2 style={{ margin: '25px 0 0 15px' }}>\r\n                            Procurações cadastradas\r\n                    </h2>\r\n                }\r\n                {\r\n                    selectedDocs.length > 0 && selectedDocs.map((procuracao, z) =>\r\n                        <div key={z * 0.01} className='flexColumn paper' style={{ padding: '10px 15px 20px 15px' }}>\r\n                            <h5>\r\n                                Procuração {\r\n                                    !procuracao.vencimento ?\r\n                                        'por prazo indeterminado'\r\n                                        :\r\n                                        'com vencimento em ' + handleDates(procuracao.vencimento)\r\n                                }\r\n                            </h5>\r\n\r\n                            <Procurador procuradores={procuradores} procuracao={procuracao} />\r\n\r\n                            <div className='flex center' style={{ position: 'relative' }}>\r\n                                <span style={divFiles}>\r\n                                    <InsertDriveFileOutlinedIcon style={fileIcon} />\r\n                                    <span style={{ verticalAlign: 'middle', }}>\r\n                                        {' '} Baixar arquivo\r\n                                    </span>\r\n                                    <GetAppIcon style={icon} onClick={() => getFile(procuracao.procuracaoId)} />\r\n                                </span>\r\n                                <span style={{ ...divFiles, width: 90, backgroundColor: 'white', border: 0, position: 'absolute', right: 0 }}>\r\n                                    <DeleteOutlinedIcon color='secondary' style={icon} onClick={() => removeProc(procuracao)} />\r\n                                    Apagar\r\n                                    </span>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            </section>\r\n        </div >\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport valueParser from '../Utils/valueParser'\r\n//import { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\n\r\nimport ProcuradoresTemplate from './ProcuradoresTemplate'\r\nimport download from '../Utils/downloadFile'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\n\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { setEmpresaDemand } from '../Utils/setEmpresaDemand'\r\nimport { removeFile, sizeExceedsLimit } from '../Utils/handleFiles'\r\n\r\nclass Procuradores extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.openDialog) this.toggleDialog()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        toastMsg: 'Procuração cadastrada!',\r\n        confirmToast: false,\r\n        fileNames: [],\r\n        openDialog: false,\r\n        expires: false,\r\n        filteredProc: [],\r\n        dropDisplay: 'Clique ou arraste para anexar a procuração referente a este(s) procurador(es).',\r\n        procuradores: [],\r\n        procsToAdd: [1],\r\n        procuracoesArray: [],\r\n        selectedDocs: [],\r\n        showPendencias: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const\r\n            { redux } = this.props,\r\n            { empresas } = redux,\r\n            demand = this.props?.location?.state?.demand,\r\n            procuracoes = JSON.parse(JSON.stringify(this.props.redux.procuracoes))\r\n\r\n        //Se o usuário representa apenas uma empresa, seleciona a empresa e carrega os dados\r\n        if (empresas && empresas.length === 1) {\r\n            const\r\n                selectedEmpresa = empresas[0],\r\n                selectedDocs = procuracoes.filter(pr => pr.codigoEmpresa === selectedEmpresa.codigoEmpresa)\r\n            this.setState({ selectedEmpresa, razaoSocial: selectedEmpresa?.razaoSocial, selectedDocs })\r\n        }\r\n\r\n        //*************Set demand if any\r\n        if (demand) {\r\n            const\r\n                originalProcuradores = JSON.parse(JSON.stringify(redux.procuradores)),\r\n                demandState = setEmpresaDemand(demand, redux, originalProcuradores),\r\n                { latestDoc, ...updatedState } = demandState,\r\n                { history } = demand,\r\n                { vencimento, expires } = history[0],\r\n                newMembers = history[0].newMembers || [],\r\n                oldMembers = history[0].oldMembers || []\r\n            console.log(demandState)\r\n            let allDemandProcs, procsToAdd = []\r\n\r\n            if (oldMembers[0]) {\r\n                oldMembers.forEach(m => {\r\n                    originalProcuradores.forEach(op => {\r\n                        Object.keys(op).forEach(key => {\r\n                            if (m?.procuradorId === op?.procuradorId && !m[key]) {\r\n                                m[key] = op[key]\r\n                            }\r\n                        })\r\n                    })\r\n                })\r\n            }\r\n            if (newMembers[0] || oldMembers[0]) {\r\n                allDemandProcs = newMembers.concat(oldMembers)\r\n                allDemandProcs.forEach((p, i) => {\r\n                    procsToAdd.push(i)\r\n                    procuradorForm.forEach(({ field }) => {\r\n                        this.setState({ [field + i]: p[field] })\r\n                    })\r\n                })\r\n            }\r\n            this.setState({ vencimento, expires, procsToAdd })\r\n            this.setState({ ...updatedState, demandFiles: [latestDoc] })\r\n        }\r\n\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        const\r\n            { selectedEmpresa } = this.state,\r\n            { procuracoes } = this.props.redux\r\n\r\n        if (selectedEmpresa) {\r\n            const\r\n                { codigoEmpresa } = this.state?.selectedEmpresa,\r\n                updatedProcs = JSON.parse(JSON.stringify(procuracoes))\r\n\r\n            //Se alterar o redux por sockets,, altera state, pq procs são renderizadas a partir do state.\r\n            if (JSON.stringify(prevProps.redux.procuracoes) !== JSON.stringify(updatedProcs)) {\r\n                const updatedDocs = updatedProcs.filter(p => p.codigoEmpresa === codigoEmpresa)\r\n                this.setState({ selectedDocs: updatedDocs })\r\n            }\r\n        }\r\n    }\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { name } = e.target,\r\n            { empresas } = this.props.redux,\r\n            procuradores = [...this.props.redux.procuradores],\r\n            procuracoes = JSON.parse(JSON.stringify(this.props.redux.procuracoes))\r\n\r\n        let { value } = e.target\r\n\r\n        //***********************Parse values ********************** */\r\n        const parsedValue = valueParser(name, value)\r\n        this.setState({ [name]: parsedValue })\r\n\r\n        //**************************SetState *********************** */\r\n        if (name === 'razaoSocial' && Array.isArray(procuradores)) {\r\n\r\n            const selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                const selectedDocs = procuracoes.filter(pr => pr.codigoEmpresa === selectedEmpresa.codigoEmpresa)\r\n\r\n                await this.setState({ selectedEmpresa, selectedDocs, razaoSocial: selectedEmpresa.razaoSocial })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined, selectedDocs: [] })\r\n\r\n            } else this.setState({ selectedEmpresa: undefined, selectedDocs: [] })\r\n        }\r\n\r\n        if (name.match('cpfProcurador')) {\r\n            const proc = procuradores.find(p => p.cpfProcurador === value)\r\n            if (proc) {\r\n                const index = name.charAt(name.length - 1)\r\n                let cpfExists\r\n                Object.keys(this.state).forEach(stateKey => {\r\n                    if (stateKey !== name && this.state[stateKey] === value) {\r\n                        alert('Este CPF já foi informado.')\r\n                        this.setState({ [name]: '' })\r\n                        cpfExists = true\r\n                    }\r\n                })\r\n\r\n                if (!cpfExists)\r\n                    procuradorForm.forEach(({ field }) => {\r\n                        const key = field + index\r\n                        this.setState({ [key]: proc[field] })\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    addProc = async (approved) => {\r\n        const\r\n            { selectedEmpresa, demand, procuracao, vencimento, expires, info } = this.state,\r\n            empresaId = selectedEmpresa.codigoEmpresa,\r\n            nProc = [...this.state.procsToAdd]\r\n        let\r\n            addedProcs = [],\r\n            sObject = {}\r\n\r\n        //***********************Check for errors *********************** */\r\n        /*       let { errors } = checkInputErrors('returnObj', 'Dont check the date, please!') || []      \r\n              if (errors && errors[0]) {\r\n                  if (!expires)\r\n                      await this.setState({ ...this.state, ...checkInputErrors('setState', 'dontCheckDate') })\r\n                  else\r\n                      await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n                  return\r\n              }   */\r\n        //***********Create array of Procs from state***********\r\n        nProc.forEach((n, i) => {\r\n            procuradorForm.forEach(obj => {\r\n                Object.assign(sObject, { [obj.field]: this.state[obj.field + i] })\r\n            })\r\n            let j = 0\r\n            Object.values(sObject).forEach(v => {\r\n                if (v) j += 1\r\n            })\r\n            if (j > 0)\r\n                addedProcs.push(sObject)\r\n            j = 0\r\n            sObject = {}\r\n\r\n            procuradorForm.forEach(obj => {\r\n                this.setState({ [obj.field + i]: '' })\r\n            })\r\n        })\r\n\r\n        let\r\n            newMembers = [],\r\n            oldMembers = []\r\n\r\n        for (let addedProc of addedProcs) {\r\n            const\r\n                getData = await axios.get(`/api/getOne?table=procuradores&key=cpf_procurador&value='${addedProc.cpfProcurador}'`),\r\n                existingProc = humps.camelizeKeys(getData?.data[0])\r\n\r\n            if (existingProc?.procuradorId) {\r\n\r\n                //Acrescenta a empresa no array de empresas de cada procurador\r\n                addedProc.empresas = existingProc.empresas\r\n                //Se não tiver nenhuma empresa ou se o único códigoEmpresa na array for ===0 (quer dizer q tinha mas venceu ou foi excluído):\r\n                //Nesse caso, a array de empresas no DB será um array de apenas 1 item, com o códigoEmpresa atual\r\n                if ((addedProc.empresas[0] === 0 && addedProc.empresas.length === 1) || !addedProc.empresas)\r\n                    addedProc.empresas = [empresaId]\r\n\r\n                //Caso já tenha alguma outra, apenas acrescenta o novo codigoEmpresa, desde que não seja repetido\r\n                if (addedProc.empresas && addedProc.empresas[0] && !addedProc.empresas.includes(empresaId))\r\n                    addedProc.empresas.push(empresaId)\r\n\r\n                Object.keys(addedProc).forEach(k => {\r\n                    if (addedProc[k] === existingProc[k] && k !== 'empresas' && k !== 'cpfProcurador')\r\n                        delete addedProc[k]\r\n                })\r\n                addedProc.procuradorId = existingProc.procuradorId\r\n                oldMembers.push(addedProc)\r\n            }\r\n            else\r\n                newMembers.push(addedProc)\r\n        }\r\n        //console.log(\"🚀 ~ file: Procuradores.jsx ~ line 248 ~ Procuradores ~ addProc= ~ oldMembers\", oldMembers)        \r\n\r\n        //Se o request não for de aprovação, cria a demanda\r\n        if (approved === undefined) {\r\n\r\n            const log = {\r\n                status: 'Aguardando aprovação',\r\n                empresaId,\r\n                history: {\r\n\r\n                    files: procuracao,\r\n                    newMembers,\r\n                    oldMembers,\r\n                    vencimento,\r\n                    expires\r\n                },\r\n                metadata: {\r\n                    fieldName: 'procuracao',\r\n                    empresaId\r\n                },\r\n            }\r\n            Object.entries(log).forEach(([k, v]) => { if (!v) delete log[k] })\r\n            log.approved = approved\r\n            log.historyLength = 0\r\n\r\n            logGenerator(log)\r\n                .then(r => console.log(r))\r\n\r\n            this.setState({ toastMsg: 'Solicitação de cadastro enviada', confirmToast: true })\r\n            //setTimeout(() => { this.resetState() }, 1500);\r\n        }\r\n        //Demanda indeferida\r\n        if (approved === false) {\r\n            const log = {\r\n                id: demand.id,\r\n                empresaId,\r\n                history: {\r\n                    info\r\n                },\r\n                declined: true\r\n            }\r\n            logGenerator(log)\r\n                .then(r => console.log(r))\r\n            this.setState({ toastMsg: 'Solicitação indeferida!', confirmToast: true })\r\n            setTimeout(() => {\r\n                this.props.history.push('/solicitacoes')\r\n            }, 1500);\r\n        }\r\n        //Aprova alteração de procuradores/procuração\r\n        if (approved === true) {\r\n            newMembers = humps.decamelizeKeys(newMembers)\r\n            oldMembers = humps.decamelizeKeys(oldMembers)\r\n            this.approveProc(newMembers, oldMembers)\r\n        }\r\n    }\r\n\r\n    approveProc = async (newMembers, oldMembers) => {\r\n\r\n        const\r\n            { selectedEmpresa, demandFiles, vencimento, demand } = this.state,\r\n            { codigoEmpresa } = selectedEmpresa,\r\n            procIdArray = oldMembers.map(m => m.procurador_id)\r\n\r\n        //******************Post newMembers  *****************/\r\n        if (newMembers.length > 0) {\r\n            newMembers.forEach(m => m.empresas = `{${codigoEmpresa}}`)  //Adiciona o código da empresa do procurador\r\n            newMembers = humps.decamelizeKeys(newMembers)\r\n            const cadRequest = {\r\n                table: 'procuradores', tablePK: 'procurador_id',\r\n                procuradores: newMembers,\r\n                empresas: [codigoEmpresa]\r\n            }\r\n\r\n            await axios.post('/api/cadProcuradores', { ...cadRequest, codigoEmpresa })\r\n                .then(procs => {\r\n                    procs.data.forEach(p => procIdArray.push(p.procurador_id))\r\n                })\r\n        }\r\n        //***************Update existing members ****************/\r\n        const request = {\r\n            table: 'procuradores',\r\n            tablePK: 'procurador_id',\r\n            requestArray: oldMembers,\r\n            keys: procuradorForm.map(p => humps.decamelize(p.field)),\r\n            codigoEmpresa,\r\n            updateUser: 'insertEmpresa'\r\n        }\r\n\r\n        if (oldMembers && oldMembers[0]) {\r\n            request.keys.push('empresas')  //Não está no form, mas é uma key que precisa ser acrescentada para atualizar no DB\r\n            oldMembers.forEach(m => {\r\n                let { empresas } = m\r\n\r\n                //Inclui a empresa no array de empresas do procurador caso ainda não esteja lá\r\n                if (empresas && empresas[0]) {\r\n                    if (!empresas.includes(codigoEmpresa))\r\n                        m.empresas.push(codigoEmpresa)\r\n                    m.empresas = empresas.toString()      //Adiciona o código da empresa do procurador                                      \r\n                }\r\n            })\r\n\r\n            axios.put('/api/editProc', request)\r\n                .then(r => console.log(r))\r\n        }\r\n\r\n        //***************Create new Procuracao****************/\r\n        let novaProcuracao = {\r\n            codigo_empresa: codigoEmpresa,\r\n            vencimento,\r\n            status: 'vigente',\r\n            procuradores: procIdArray\r\n        }\r\n\r\n        Object.entries(novaProcuracao).forEach(([k, v]) => {\r\n            if (!v || v === '') delete novaProcuracao[k]\r\n        })\r\n\r\n        const procuracaoId = await axios.post('/api/procuracoes', novaProcuracao)\r\n\r\n        novaProcuracao.procuracaoId = procuracaoId\r\n        const log = {\r\n            id: demand.id,\r\n            demandFiles,\r\n            history: {},\r\n            approved: true\r\n        }\r\n\r\n        if (demandFiles)\r\n            log.metadata = {\r\n                fieldName: 'procuracao',\r\n                empresaId: selectedEmpresa.codigoEmpresa,\r\n                procuracaoId: procuracaoId,\r\n                procuradores: procIdArray,\r\n            }\r\n        //generate log\r\n        logGenerator(log)\r\n            .then(r => console.log(r))\r\n\r\n        this.toast()\r\n        if (demand)\r\n            setTimeout(() => {\r\n                this.props.history.push('/solicitacoes')\r\n            }, 1500);\r\n        this.resetState()\r\n    }\r\n\r\n    removeProc = async proc => {\r\n        const\r\n            id = proc.procuracaoId,\r\n            { procuradores, codigoEmpresa } = proc,\r\n            procuradoresRedux = this.props.redux.procuradores,\r\n            { procuracoes } = this.props.redux,\r\n            selectedFile = this.props.redux.empresaDocs.find(f => Number(f.metadata.procuracaoId) === id)\r\n\r\n        //Remove o código da empresa da array de empresas do procurador caso não haja outra procuração da mesma empresa\r\n        if (procuradores[0]) {\r\n            //Checa se há outras procurações \r\n            const\r\n                outrasProcuracoes = procuracoes.filter(p => p.codigoEmpresa === codigoEmpresa && p.procuracaoId !== id),\r\n                dontRemove = new Set()\r\n            //Armazena os ids dos procuradores que estão em outras procurações para que não lhes seja removido o direito de acesso\r\n            outrasProcuracoes.forEach(op =>\r\n                op.procuradores.forEach(p => dontRemove.add(p))\r\n            )\r\n\r\n            let filteredProcs = procuradoresRedux.filter(p => procuradores.includes(p.procuradorId) && !dontRemove.has(p.procuradorId))\r\n\r\n            filteredProcs.forEach(p => {\r\n                let empresas = p.empresas || []\r\n                empresas = empresas.filter(e => e !== codigoEmpresa)\r\n                p.empresas = empresas\r\n                if (empresas.length === 0)\r\n                    p.empresas = [0]\r\n            })\r\n            //Se tiver que alterar permissões de um procurador (usuário), altera, senão apenas apaga a procuração\r\n            if (filteredProcs[0]) {\r\n                filteredProcs = humps.decamelizeKeys(filteredProcs)\r\n\r\n                const request = {\r\n                    table: 'procuradores',\r\n                    tablePK: 'procurador_id',\r\n                    requestArray: filteredProcs,\r\n                    keys: ['empresas'],\r\n                    codigoEmpresa\r\n                }\r\n                axios.put('/api/editProc', { ...request })\r\n                    .then(r => console.log(r))\r\n                //Remove a permissão do usuário para a empresa selecionada, caso haja usuário com mesmo cpf cadastrado no sistema\r\n                await axios.patch('/api/removeEmpresa', { cpfsToRemove: filteredProcs, codigoEmpresa })\r\n                    .then(r => console.log(r))\r\n            }\r\n        }\r\n\r\n        await axios.delete(`/api/delete?table=procuracoes&tablePK=procuracao_id&id=${id}&codigoEmpresa=${codigoEmpresa}`)\r\n            .then(r => console.log(r.data))\r\n\r\n        if (selectedFile && selectedFile.hasOwnProperty('id'))\r\n            axios.delete(`/api/deleteFile?collection=empresaDocs&id=${selectedFile.id}`)\r\n                .then(({ data }) => console.log(data))\r\n    }\r\n\r\n    handleFiles = files => {\r\n        //limit file Size\r\n        if (sizeExceedsLimit(files)) return\r\n\r\n        let procuracao = new FormData()\r\n        procuracao.append('procuracao', files[0])\r\n        this.setState({ procuracao, fileToRemove: null })\r\n    }\r\n\r\n    removeFile = async (name) => {\r\n        const\r\n            { procuracao } = this.state,\r\n            newState = removeFile(name, procuracao)\r\n\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n\r\n    getFile = id => {\r\n        const\r\n            { empresaDocs } = this.props.redux,\r\n            selectedFile = empresaDocs.find(f => Number(f.metadata.procuracaoId) === id)\r\n\r\n        if (selectedFile) {\r\n            const { id, filename } = selectedFile\r\n            download(id, filename, 'empresaDocs')\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n        }\r\n    }\r\n\r\n    plusOne = () => {\r\n        let i = [...this.state.procsToAdd]\r\n        i.push(1)\r\n        this.setState({ procsToAdd: i })\r\n    }\r\n\r\n    minusOne = () => {\r\n        let i = [...this.state.procsToAdd]\r\n        i.pop()\r\n        this.setState({ procsToAdd: i })\r\n    }\r\n\r\n    checkExpires = () => {\r\n        if (this.state.expires === true) this.setState({ vencimento: '' })\r\n        this.setState({ expires: !this.state.expires })\r\n    }\r\n\r\n    resetState = () => {\r\n        const\r\n            { procsToAdd } = this.state,\r\n            keys = procuradorForm.map(({ field }) => field),\r\n            resetedFields = {}\r\n\r\n        procsToAdd.forEach((p, i) => {\r\n            keys.forEach(key => {\r\n                if (this.state.hasOwnProperty(key + i))\r\n                    resetedFields[key + i] = undefined\r\n            })\r\n        })\r\n        this.removeFile('procuracao')\r\n        this.setState({\r\n            ...resetedFields,\r\n            dropDisplay: 'Clique ou arraste para anexar a procuração referente a este(s) procurador(es).',\r\n            procsToAdd: [1],\r\n            vencimento: undefined,\r\n            procuracao: undefined,\r\n            expires: false\r\n        })\r\n    }\r\n\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const { openAlertDialog, alertType, demand } = this.state\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Cadastro de procurações' demand={demand} />\r\n                <ProcuradoresTemplate\r\n                    data={this.state}\r\n                    redux={this.props.redux}\r\n                    handleInput={this.handleInput}\r\n                    removeProc={this.removeProc}\r\n                    handleFiles={this.handleFiles}\r\n                    removeFile={this.removeFile}\r\n                    addProc={this.addProc}\r\n                    handleSubmit={this.handleSubmit}\r\n                    plusOne={this.plusOne}\r\n                    minusOne={this.minusOne}\r\n                    getFile={this.getFile}\r\n                    checkExpires={this.checkExpires}\r\n                    setShowPendencias={this.setShowPendencias}\r\n                />\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n                {\r\n                    openAlertDialog &&\r\n                    <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />\r\n                }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['empresas', 'procuradores', 'procuracoes', 'getFiles/empresaDocs']\r\n\r\nexport default (StoreHOC(collections, Procuradores))","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport SociosTemplate from './SociosTemplate'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport valueParser from '../Utils/valueParser'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\n\r\nclass AltSocios extends Component {\r\n\r\n    state = {\r\n        razaoSocial: '',\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        openDialog: false,\r\n        dialogTitle: '',\r\n        addedSocios: [0],\r\n        filteredSocios: [],\r\n    }\r\n\r\n    componentDidMount() {\r\n        const\r\n            { socios, empresas } = this.props.redux,\r\n            originalSocios = JSON.parse(JSON.stringify(socios))\r\n\r\n        if (empresas && empresas.length === 1)\r\n            this.setState({ selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, filteredSocios: socios, originalSocios })\r\n        else\r\n            this.setState({ originalSocios })\r\n    }\r\n\r\n    handleInput = e => {\r\n        const\r\n            { empresas, socios } = this.props.redux,\r\n            { name } = e.target\r\n\r\n        let { value } = e.target\r\n        const parsedValue = valueParser(name, value)\r\n\r\n        this.setState({ [name]: parsedValue })\r\n\r\n        if (name === 'razaoSocial') {\r\n            const\r\n                selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                const\r\n                    reduxSocios = JSON.parse(JSON.stringify(socios)),\r\n                    filteredSocios = reduxSocios.filter(s => s.empresas && s.empresas[0] && s.empresas.some(e => e.codigoEmpresa === selectedEmpresa.codigoEmpresa))\r\n\r\n                this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa, filteredSocios })\r\n                if (value !== selectedEmpresa.razaoSocial)\r\n                    this.setState({ selectedEmpresa: undefined })\r\n            }\r\n            else\r\n                this.setState({ selectedEmpresa: undefined, filteredSocios: [] })\r\n        }\r\n    }\r\n\r\n    enableEdit = index => {\r\n        const\r\n            { filteredSocios } = this.state,\r\n            editSocio = filteredSocios[index]\r\n        //Se estava true, ao desligar o modo edição chama handleSubmit, qeu checa por modificações e salva\r\n        if (editSocio.edit === true) {\r\n            this.handleSubmit(index)\r\n            editSocio.edit = false\r\n            filteredSocios[index] = editSocio\r\n        }\r\n        else {\r\n            filteredSocios.forEach(s => s.edit = false)\r\n            filteredSocios[index].edit = true\r\n        }\r\n        this.setState({ filteredSocios })\r\n    }\r\n\r\n    handleEdit = e => {\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        value = valueParser(name, value)\r\n\r\n        let editSocio = this.state.filteredSocios.filter(s => s.edit === true)[0]\r\n        const index = this.state.filteredSocios.indexOf(editSocio)\r\n\r\n        editSocio[name] = value\r\n\r\n        let fs = this.state.filteredSocios\r\n        fs[index] = editSocio\r\n\r\n        this.setState({ filteredSocios: fs })\r\n    }\r\n\r\n    handleSubmit = async index => {\r\n        const\r\n            { filteredSocios, selectedEmpresa } = this.state,\r\n            { codigoEmpresa } = selectedEmpresa,\r\n            table = 'socios',\r\n            keys = ['telSocio', 'emailSocio'],\r\n            editSocio = filteredSocios[index]\r\n\r\n        const requestObject = { socioId: editSocio.socioId }\r\n        keys.forEach(k => { if (editSocio[k]) requestObject[k] = editSocio[k] })\r\n        const requestArray = [humps.decamelizeKeys(requestObject)]\r\n\r\n        await axios.put('/api/editSocios', { requestArray, table, keys, codigoEmpresa })  //O envio do codogoEmpresa é para uso do userSockets.js\r\n            .then(r => console.log(r.data))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = toastMsg => this.setState({ confirmToast: !this.state.confirmToast, toastMsg: toastMsg ? toastMsg : this.state.toastMsg })\r\n    render() {\r\n        const\r\n            { filteredSocios, openAlertDialog, alertType, confirmToast, toastMsg } = this.state,\r\n            { empresas } = this.props.redux\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Alteração de dados dos sócios' />\r\n                <SociosTemplate\r\n                    data={this.state}\r\n                    socios={filteredSocios}\r\n                    empresas={empresas}\r\n                    handleInput={this.handleInput}\r\n                    enableEdit={this.enableEdit}\r\n                    handleEdit={this.handleEdit}\r\n                />\r\n                <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['empresas', 'socios', 'getFiles/empresaDocs']\r\n\r\nexport default StoreHOC(collections, AltSocios)","export const barChart = {\r\n    options: {\r\n        title: {\r\n            text: 'Veículos por ano de fabricação',\r\n            align: 'center',\r\n            marginTop: 10,\r\n            offsetX: 0,\r\n            offsetY: 0,\r\n            floating: false,\r\n            style: {\r\n                fontSize: '14px',\r\n                fontWeight: 500,\r\n                fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n            },\r\n        },\r\n        legend: { show: false },\r\n        chart: {\r\n            id: \"veiculos_ano_fabricacao\",\r\n        },\r\n        xaxis: {            \r\n            labels: {\r\n                style: {\r\n                    fontSize: '9px',\r\n                    fontWeight: 400,\r\n                    fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n                },\r\n            }\r\n        },\r\n        dataLabels: {\r\n            enabled: false,\r\n        },\r\n      //  fill: { colors: ['rgb(47, 75, 124)'] },\r\n        plotOptions: { bar: { horizontal: false }, },\r\n    }\r\n}\r\n\r\nexport const donutChart = {\r\n    options: {\r\n        title: {\r\n            text: 'Percentual de veículos por ano de fabricação',\r\n            align: 'center',\r\n            marginTop: 10,\r\n            marginBottom: 20,\r\n            offsetX: 0,\r\n            offsetY: 0,\r\n            floating: false,\r\n            style: {\r\n                fontSize: '13px',\r\n                fontWeight: 500,\r\n                fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n            },\r\n        },\r\n        plotOptions: {\r\n            pie: {\r\n                donut: {\r\n                    labels: {\r\n                        show: true,\r\n                        name: {\r\n                            show: true,\r\n                            fontSize: '20px',\r\n                            fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n                            fontWeight: 600,\r\n                            color: '#373d3f',\r\n                            offsetY: -10\r\n                        },\r\n                        value: {\r\n                            show: true,\r\n                            fontSize: '15px',\r\n                            fontFamily: 'Helvetica, Arial, sans-serif',\r\n                            fontWeight: 400,\r\n                            color: '#373d3f',\r\n                            offsetY: 16,\r\n                            formatter: function (val) {\r\n                                return val\r\n                            }\r\n                        },\r\n                        total: {\r\n                            show: true,\r\n                            showAlways: true,\r\n                            label: 'Total:',\r\n                            fontSize: '20px',\r\n                            fontFamily: 'Helvetica, Arial, sans-serif',\r\n                            fontWeight: 600,\r\n                            color: '#373d3f',\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        responsive: [{\r\n            breakpoint: 480,\r\n            options: {\r\n                chart: {\r\n                    width: 200\r\n                },\r\n                legend: {\r\n                    position: 'bottom'\r\n                }\r\n            }\r\n        }]\r\n    },\r\n}","import React from 'react'\r\nimport Chart from \"react-apexcharts\";\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport { barChart, donutChart } from './chartsConfig'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport './relatorios.css'\r\n\r\nconst RelatoriosTemplate = (\r\n    { empresas, razaoSocial, selectedEmpresa, selectedVehicles, labels, values, tableLabels, tableData, mediaIdades, moda,\r\n        handleInput, segurosVencidos, segurosVigentes, oldVehicles, veiculosNovos }) => {\r\n\r\n    const colors = ['#ff7c43', '#ffa600', '#FF9800', '#f95d6a', '#f44336', '#2E93fA', '#3333ff', '#66DA26', '#669999', '#E91E63', '#d45087', '#a05195', '#665191', '#2f4b7c', '#003f5c',]\r\n\r\n    return (\r\n        <main className='relatorios'>\r\n            <SelectEmpresa\r\n                empresas={empresas}\r\n                data={{ razaoSocial }}\r\n                handleInput={handleInput}\r\n            />\r\n            {(!selectedVehicles || selectedVehicles.length === 0) ? <p>Nenhum veículo cadastrado para {selectedEmpresa?.razaoSocial}</p>\r\n                :\r\n                <>\r\n                    <h3 style={{ width: '100%', textAlign: 'center' }}>\r\n                        {!selectedEmpresa ? 'Exibindo todos os veículos' : selectedEmpresa.razaoSocial} - Média de idade da frota: {mediaIdades} anos. Moda do ano de fabricação: {moda}.\r\n                    </h3>\r\n                    <Paper>\r\n                        <section className='rowContainer'>\r\n                            <Chart\r\n                                options={{ ...barChart.options, xaxis: { ...barChart.options.xaxis, categories: labels } }}\r\n                                series={[{ name: \"Veículos\", data: values }]}\r\n                                type=\"bar\"\r\n                                width=\"600\"\r\n                            />\r\n                            <Chart\r\n                                options={{ ...donutChart.options, labels, colors }}\r\n                                series={values}\r\n                                type=\"donut\"\r\n                                width=\"480\"\r\n                            />\r\n                        </section>\r\n                    </Paper>\r\n                    <Paper>\r\n                        <section>\r\n                            <table>\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th className='tHeader'\r\n                                            style={{ color: '#fff', backgroundColor: 'rgb(84, 110, 122, 0.7)' }}\r\n                                            colSpan={tableLabels.length}>Veículos por ano - {!selectedEmpresa ? 'Exibindo todos os veículos' : selectedEmpresa.razaoSocial}  </th>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        {tableLabels.map((l, i) => <th key={l}>{l}</th>)}\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {\r\n                                        tableData.map((tableValues, i) =>\r\n                                            <tr key={i}>\r\n                                                {tableValues.map((d, j) =>\r\n                                                    <td className='review relatorioTD' key={j}>\r\n                                                        {d}\r\n                                                    </td>\r\n                                                )}\r\n                                            </tr>\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n                            </table>\r\n                        </section>\r\n                    </Paper>\r\n                    {/* <div className=\"addSpace\"> </div> */}\r\n                    <section className='rowContainer'>\r\n                        <Chart\r\n                            options={{\r\n                                title: {\r\n                                    ...donutChart.options.title,\r\n                                    text: `Seguros vencidos: ${segurosVencidos} / vigentes: ${segurosVigentes}`,\r\n                                },\r\n                                labels: ['Seguros vencidos', 'Seguros vigentes'],\r\n                                colors: ['#FF9800', '#3333ff']\r\n                            }}\r\n                            series={[Number(segurosVencidos), Number(segurosVigentes)]}\r\n                            type=\"pie\"\r\n                            width=\"400\"\r\n                        />\r\n                        <Chart\r\n                            options={{\r\n                                title: {\r\n                                    ...donutChart.options.title,\r\n                                    text: `Idade superior a 15 anos: ${oldVehicles} / inferior 15 anos: ${veiculosNovos}`,\r\n                                },\r\n                                labels: ['Veículos com mais de 15 anos', 'Veículos com menos de 15 anos'],\r\n                                colors: ['#f44336', '#2E93fA']\r\n                            }}\r\n                            series={[Number(oldVehicles), Number(veiculosNovos)]}\r\n                            type=\"pie\"\r\n                            width=\"420\"\r\n                            height='220'\r\n                        />\r\n                    </section>\r\n\r\n                </>\r\n            }\r\n        </main >\r\n    )\r\n}\r\n\r\nexport default RelatoriosTemplate","import React, { useState, useEffect } from 'react'\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport RelatoriosTemplate from './RelatoriosTemplate'\r\nimport moment from 'moment'\r\n\r\nconst sum = array => {\r\n    let newArray = [...array]\r\n    newArray.shift()\r\n    if (newArray[0]) {\r\n        const total = newArray.reduce((a, b) => a + b)\r\n        return total\r\n    }\r\n}\r\n\r\nconst average = array => {\r\n    let newArray = array.map(n => Number(n))\r\n    newArray.shift()\r\n\r\n    if (newArray[0]) {\r\n        const\r\n            sum = newArray.reduce((a, b) => a + b),\r\n            average = sum / newArray.length\r\n\r\n        return average.toFixed(2)\r\n    }\r\n}\r\n\r\nconst countExpired = vehicles => {\r\n\r\n    return vehicles\r\n        .filter(r => !r.vencimento || (moment(r.vencimento).isValid() && moment(r.vencimento).isBefore(moment(), 'day') && r.veiculoId && r))\r\n        .length\r\n}\r\n\r\nconst Relatorios = props => {\r\n\r\n    const\r\n        { veiculos, empresas } = props.redux,\r\n        [razaoSocial, setRazaoSocial] = useState(''),\r\n        [selectedEmpresa, setEmpresa] = useState(undefined),\r\n        [allExpired, setExpired] = useState(''),\r\n        [allValid, setValid] = useState(''),\r\n        [oldVehicles, setOldVehicles] = useState('')\r\n\r\n    const handleInput = e => {\r\n        const { value } = e.target\r\n        setRazaoSocial(value)\r\n        let empresa\r\n\r\n        if (value.length > 2) {\r\n            empresa = empresas.find(e => e.razaoSocial === value)\r\n            if (empresa) setEmpresa(empresa)\r\n        }\r\n        else setEmpresa('')\r\n    }\r\n\r\n    let selectedId, selectedVehicles\r\n    if (selectedEmpresa && selectedEmpresa !== '') {\r\n        selectedId = selectedEmpresa.codigoEmpresa\r\n        selectedVehicles = veiculos\r\n            .filter(v => v.codigoEmpresa === selectedId)\r\n    } else selectedVehicles = veiculos\r\n\r\n\r\n    // **************************MÉDIA****************************\r\n\r\n    const\r\n        idades =\r\n            selectedVehicles\r\n                .map(({ anoCarroceria }) => anoCarroceria)\r\n                .filter(ano => ano !== null)\r\n                .sort()\r\n\r\n    let mediaIdades = idades.reduce((a, b) => a + b / idades.length, 0)\r\n    mediaIdades = (new Date().getFullYear() - mediaIdades).toFixed(2)\r\n\r\n    // **************************CONTAGEM****************************\r\n\r\n    let counter = {}\r\n    idades.forEach(function (e) {\r\n        if (counter[e] === undefined) {\r\n            counter[e] = 0\r\n        }\r\n        counter[e] += 1\r\n    })\r\n\r\n    // *******************CONSOLIDAÇÃO DE VALORES**********************\r\n    const\r\n        unsortedLabels = Object.keys(counter),\r\n        labels = [...unsortedLabels.sort((a, b) => a - b)],\r\n        values = Object.values(counter)\r\n\r\n    let obj = {}, arr = [], ultimateObj = {}\r\n    labels.forEach(ano => {\r\n        selectedVehicles.forEach(v => {\r\n            if (v.anoCarroceria && v.anoCarroceria.toString() === ano) {\r\n                arr.push({ veiculoId: v.veiculoId, poltronas: v.poltronas })\r\n                if (!obj[ano]) obj[ano] = arr\r\n                else obj[ano].push(...arr)\r\n                arr = []\r\n            }\r\n        })\r\n        ultimateObj[ano] = obj[ano]\r\n        obj = {}\r\n    })\r\n\r\n    let parcial = 0, poltronasPerYear = ['Capacidade Total'], poltronasAcc = [], poltronasMedia = ['Capacidade Média']\r\n\r\n    Object.keys(ultimateObj).forEach(year => {\r\n        ultimateObj[year].forEach(v => {\r\n            parcial += v.poltronas\r\n        })\r\n        //poltronasTotal += parcial\r\n        poltronasPerYear.push(parcial)\r\n        poltronasMedia.push((parcial / ultimateObj[year].length).toFixed(2))\r\n\r\n        const acc = poltronasPerYear.reduce((a, b) => a + b, 0)\r\n        poltronasAcc.push(acc)\r\n        parcial = 0\r\n    })\r\n\r\n    poltronasPerYear.push(sum(poltronasPerYear))\r\n\r\n    let\r\n        tableLabels = ['Ano'],\r\n        tableValues = ['Nº de Veículos']\r\n\r\n    tableLabels.push(...labels, 'Total')\r\n    tableValues.push(...values)\r\n    tableValues.push(sum(tableValues))\r\n    poltronasMedia.push(average(poltronasMedia))\r\n\r\n    const tableData = [tableValues, poltronasMedia, poltronasPerYear]\r\n\r\n    // **************************MODA****************************\r\n    let moda = unsortedLabels.sort((a, b) => counter[a] - counter[b])\r\n    moda = moda[moda.length - 1]\r\n\r\n    //**********************SEGUROS VENCIDOS E VEÍCULOS COM LAUDO***********************\r\n    const currentYear = new Date().getFullYear()\r\n\r\n    useEffect(() => {\r\n\r\n        const\r\n            currentYear = new Date().getFullYear(),\r\n            expired = countExpired(selectedVehicles),\r\n            needsLaudo = selectedVehicles\r\n                .filter(v => currentYear - v.anoCarroceria > 14 && v.anoCarroceria !== null)\r\n                .length\r\n\r\n        setExpired(expired)\r\n        setValid(selectedVehicles.length - expired)\r\n        setOldVehicles(needsLaudo)\r\n\r\n    }, [selectedVehicles])\r\n\r\n    let segurosVencidos = [], segurosVigentes, veiculosAntigos, veiculosNovos\r\n\r\n    if (razaoSocial.length > 2 && selectedEmpresa) {\r\n        segurosVencidos = countExpired(selectedVehicles)\r\n\r\n        veiculosAntigos = selectedVehicles\r\n            .filter(v => currentYear - v.anoCarroceria > 14 && v.anoCarroceria !== null)\r\n            .length\r\n\r\n        segurosVigentes = selectedVehicles.length - segurosVencidos\r\n        veiculosNovos = selectedVehicles.length - veiculosAntigos\r\n    }\r\n    else {\r\n        segurosVencidos = allExpired\r\n        segurosVigentes = allValid\r\n        veiculosAntigos = oldVehicles\r\n        veiculosNovos = selectedVehicles.length - oldVehicles\r\n    }\r\n\r\n    return (\r\n        <RelatoriosTemplate\r\n            empresas={empresas}\r\n            razaoSocial={razaoSocial}\r\n            labels={labels}\r\n            values={values}\r\n            tableLabels={tableLabels}\r\n            tableData={tableData}\r\n            selectedEmpresa={selectedEmpresa}\r\n            selectedVehicles={selectedVehicles}\r\n            mediaIdades={mediaIdades}\r\n            moda={moda}\r\n            handleInput={handleInput}\r\n            segurosVencidos={segurosVencidos}\r\n            segurosVigentes={segurosVigentes}\r\n            oldVehicles={veiculosAntigos}\r\n            veiculosNovos={veiculosNovos}\r\n        />\r\n    )\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas']\r\n\r\nexport default StoreHOC(collections, Relatorios)","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport ShowFiles from './ShowFiles'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\r\n\r\nexport default function StandardTable({ tableData, staticFields, title, tableStyle, style, completed, showInfo,\r\n    showFiles, setShowFiles, filesCollection, primaryKey, close, filesIds, razaoSocial }) {\r\n\r\n    const dateFormat = value => {\r\n        if (moment(value, 'YYYY-MM-DDTHH:mm:ss.SSSZZ', true).isValid()) {\r\n            return moment(value, moment.ISO_8601, true).format('DD/MM/YYYY, HH:mm[h]')\r\n        }\r\n        else return value\r\n    }\r\n    console.log(tableData[0].numeroDae || undefined)\r\n    const createButton = (action, index, files) => {\r\n        const disable = !tableData[index]?.info ? true : false\r\n        const dStyle = { cursor: 'default' }\r\n\r\n        switch (action) {\r\n            case ('info'):\r\n                return (\r\n                    <div style={{ display: 'flex', justifyContent: 'flex-start' }}>\r\n                        <span\r\n                            className='button'\r\n                            style={disable ? dStyle : {}}\r\n                            component='span'\r\n                            title={!disable ? 'Ver informações adicionais' : 'Nenhuma informação adicional'}\r\n                            onClick={() => showInfo(index)} >\r\n                            <InfoIcon color={!disable ? 'primary' : 'disabled'} />\r\n                        </span>\r\n\r\n                        {files ?\r\n                            <span className='button' component='span' title='Ver arquivos' onClick={() => { setShowFiles(files) }\r\n                            } >\r\n                                <FileCopyOutlinedIcon />\r\n                            </span>\r\n                            :\r\n                            <span style={{ padding: '2px 10px 0 17px' }}> - </span>\r\n                        }\r\n                    </div >\r\n                )\r\n            case ('completed'):\r\n                return <DoneIcon style={{ color: 'green' }} />\r\n            default: return\r\n        }\r\n    }\r\n\r\n    //A tabela é uma array de arrays. Cada row é uma array de objects, que tem field, label, action, style, etc. Cada Object é um td\r\n    let\r\n        tableHeaders = [],\r\n        arrayOfRows = [],\r\n        tableRow = []\r\n\r\n    tableData.forEach((log, i) => {\r\n        staticFields.forEach(obj => {\r\n\r\n            if (!tableHeaders.includes(obj.title)) tableHeaders.push(obj.title)\r\n            if (obj.field === 'info') {\r\n                tableRow.push({ ...obj, index: i, files: log?.files })\r\n            }\r\n            else if (obj.field === 'files') tableRow.push({ ...obj, files: log?.files })\r\n            else if (obj.action) tableRow.push({ ...obj, id: log?.id })\r\n            else tableRow.push({ ...obj, value: log[obj.field] })\r\n        })\r\n\r\n        arrayOfRows.push(tableRow)\r\n        tableRow = []\r\n    })\r\n    if (completed) {\r\n        const i = tableHeaders.indexOf('Analisar solicitação')\r\n        tableHeaders[i] = 'Concluída'\r\n    }\r\n    const tableSpan = arrayOfRows[0]?.length || ''\r\n\r\n    return (\r\n        showFiles ? <>\r\n            <ShowFiles\r\n                filesCollection={filesCollection}\r\n                close={close}\r\n                typeId={primaryKey}\r\n                filesIds={filesIds}\r\n                razaoSocial={razaoSocial}\r\n            />\r\n            <footer>\r\n                <div className='voltarDiv' style={{\r\n                    padding: '0px',\r\n                    margin: '30px 0 0 0',\r\n                    position: 'absolute',\r\n                    bottom: '1%',\r\n                    zIndex: '10'\r\n                }}>\r\n                    <Button variant='outlined' color='primary' onClick={() => setShowFiles(false)}>\r\n                        <ArrowBackIcon size='tiny' />\r\n                        <span style={{ padding: '2px 0 0 2px', marginLeft: '2px', fontSize: '.85rem' }}>Voltar</span>\r\n                    </Button>\r\n                </div>\r\n            </footer>\r\n        </>\r\n            :\r\n            <table style={tableStyle || undefined}>\r\n                <thead>\r\n                    <tr>\r\n                        <th className='tHeader'\r\n                            style={style}\r\n                            colSpan={tableSpan}>{title}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        {tableHeaders.map((l, i) => <th key={i} style={style}>{l}</th>)}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        arrayOfRows.map((rowArray, j) =>\r\n                            <tr key={j}>\r\n                                {\r\n                                    rowArray.map((obj, i) =>\r\n                                        <td\r\n                                            key={i}\r\n                                            style={obj?.style ? obj.style : style}\r\n                                            className={obj.type === 'link' && obj.laudoDocId ? 'link2' : 'review'}\r\n                                            title={tableData[0].numeroDae || undefined}\r\n                                        >\r\n                                            {obj.type === 'date' ? dateFormat(obj.value)\r\n                                                : obj?.action ? createButton(obj.action, obj?.index, obj?.files)\r\n                                                    : obj.value\r\n                                            }\r\n                                        </td>\r\n                                    )}\r\n                            </tr>\r\n                        )}\r\n                </tbody>\r\n            </table>\r\n    )\r\n}\r\n","const solicitacaoTable = [\r\n    {\r\n        field: 'action',\r\n        title: 'Movimentação',\r\n    },\r\n    {\r\n        field: 'user',\r\n        title: 'Usuário'\r\n    },\r\n    {\r\n        field: 'createdAt',\r\n        title: 'Registro no sistema',\r\n        type: 'date'\r\n    },\r\n    {\r\n        field: 'info',\r\n        title: 'Informações adicionais',\r\n        action: 'info',\r\n        style: {textAlign: 'center'}\r\n    }   \r\n]\r\n\r\nexport default solicitacaoTable","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport Table from '../Reusable Components/Table'\r\nimport solicitacaoTable from '../Forms/solicitacaoTable'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\n\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nexport default function SolHistory({ solicitacao, showInfo, historyLog, setHistoryLog, close, vehicleDocs, empresaDocs, showFiles, setShowFiles, filesIds }) {\r\n\r\n    const\r\n        { history } = solicitacao,\r\n        date = moment(historyLog?.createdAt).format('DD/MM/YYYY, HH:mm[h]')\r\n\r\n    let docSelection = {}\r\n\r\n    if (solicitacao.hasOwnProperty('veiculoId'))\r\n        docSelection = {\r\n            primaryKey: 'veiculoId',\r\n            filesCollection: vehicleDocs\r\n        }\r\n    else\r\n        docSelection = {\r\n            primaryKey: 'empresaId',\r\n            filesCollection: empresaDocs\r\n        }\r\n\r\n    return (\r\n        <main className=\"popUpWindow\" sytle={{ width: '90%' }}>\r\n            {!historyLog ?\r\n                <Table\r\n                    {...docSelection}\r\n                    tableData={history}\r\n                    staticFields={solicitacaoTable}\r\n                    length={solicitacaoTable.length}\r\n                    title={`Solicitação nº ${solicitacao?.numero}`}\r\n                    id={solicitacao.id}\r\n                    razaoSocial={solicitacao?.empresa}\r\n                    showInfo={showInfo}\r\n                    style={{ padding: '9px 4px' }}\r\n                    tableStyle={{ marginTop: '23px' }}\r\n                    showFiles={showFiles}\r\n                    setShowFiles={setShowFiles}\r\n                    close={close}\r\n                    filesIds={filesIds}\r\n                />\r\n                :\r\n                <>\r\n                    <header className='infoLogHeader'>\r\n                        <h3>Informações adicionais</h3>\r\n                        <hr />\r\n                        <div className='floatRight'>Inserido por {historyLog?.user} {date ? 'às ' + date : ''}</div>\r\n                    </header>\r\n                    <section>\r\n\r\n                        <br /><br /><br />\r\n                        <div style={{ whiteSpace: 'pre-line' }}>{historyLog.info}</div>\r\n                    </section>\r\n                    <footer>\r\n                        <div className='voltarDiv' style={{\r\n                            padding: '0px',\r\n                            margin: '30px 0 0 0',\r\n                            position: 'absolute',\r\n                            bottom: '1%'\r\n                        }}>\r\n                            <Button variant='outlined' color='primary' onClick={() => setHistoryLog(false)}>\r\n                                <ArrowBackIcon size='tiny' />\r\n                                <span style={{ padding: '2px 0 0 2px', marginLeft: '2px', fontSize: '.85rem' }}>Voltar</span>\r\n                            </Button>\r\n                        </div>\r\n                    </footer>\r\n                </>\r\n            }\r\n            <ClosePopUpButton close={close} />\r\n        </main >\r\n    )\r\n}","import React from 'react'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\nexport default function SolicitacoesTemplate({ completed, showCompleted }) {\r\n    return (\r\n        <header style={{ display:'flex', justifyContent: 'flex-end', height: '50px', paddingBotom: '10px' }}>\r\n            <FormControlLabel\r\n                style={{ marginTop: '20px' }}\r\n                control={\r\n                    <Checkbox\r\n                        checked={completed === true}\r\n                        onChange={() => showCompleted(!completed)}\r\n                        value={completed}\r\n                    />\r\n                }\r\n                label={<p style={{ color: '#2979ff', fontSize: '0.7rem', float: 'right' }}> Mostrar solicitações concluídas</p>}\r\n            />\r\n        </header>\r\n    )\r\n}\r\n","export const solicitacoesTable = [\r\n    {\r\n        field: 'numero',\r\n        title: 'Número',\r\n        label: 'Número',\r\n    },\r\n    {\r\n        field: 'subject',\r\n        title: 'Solicitação',\r\n        label: 'Solicitação'\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Empresa',\r\n        label: 'Empresa',\r\n    },\r\n    {\r\n        field: 'veiculo',\r\n        title: 'Veículo',\r\n        label: 'Veículo',\r\n    },\r\n    {\r\n        field: 'status',\r\n        title: 'Situação',\r\n        label: 'Situação',\r\n    },\r\n    {\r\n        field: 'updatedAt',\r\n        title: 'Última Atualização',\r\n        label: 'Última Atualização',\r\n        type: 'date'\r\n    },\r\n    /*  {\r\n         field: 'history',\r\n         title: 'Ver histórico',        \r\n         action: 'showHistory'\r\n     },\r\n     {\r\n         field: 'assess',\r\n         title: '    ',\r\n         action: 'assess'\r\n     }   */\r\n]\r\n","\r\nconst configTablePermissions = ({ rowData, user }) => {\r\n    const\r\n        { status } = rowData,\r\n        { role } = user\r\n\r\n    if (status.match('indeferida') || status.match('concluída'))\r\n        return true\r\n    if (role === 'empresa' && status.match('Pendências'))\r\n        return true\r\n    if (role !== 'empresa' && status.match('Aguardando'))\r\n        return true\r\n    return false\r\n}\r\n\r\nexport default configTablePermissions","import React from 'react'\r\n\r\nimport MaterialTable from 'material-table';\r\nimport exportToXlsx from '../Consultas/exportToXlsx';\r\n\r\nimport { solicitacoesTable } from '../Forms/solicitacoesTable'\r\nimport configTablePermissions from './configTablePermissions';\r\n\r\nexport default function ({ tableData, title, showDetails, assessDemand, completed, showInfo, user }) {\r\n\r\n    let parsedData = JSON.parse(JSON.stringify(tableData))\r\n    parsedData.forEach(obj => delete obj.history)\r\n\r\n    return (\r\n        <div style={{ margin: '10px 0' }} className='noPrint'>\r\n            <MaterialTable\r\n                title={title}\r\n                columns={solicitacoesTable}\r\n                data={parsedData}\r\n                style={{ fontFamily: 'Segoe UI', fontSize: '14px' }}\r\n                options={{\r\n                    filtering: true,\r\n                    exportButton: true,\r\n                    exportFileName: 'Solicitações',\r\n                    exportCsv: (col, data) => exportToXlsx('Solicitações', solicitacoesTable, data),\r\n                    actionsColumnIndex: -1,\r\n                    searchFieldStyle: { color: '#024', fontSize: '14px' },\r\n                    headerStyle: { backgroundColor: '#FAFAFC' },\r\n                    emptyRowsWhenPaging: false,\r\n                    pageSize: 10,\r\n                }}\r\n\r\n                localization={{\r\n                    header: { actions: 'Opções' },\r\n                    body: {\r\n                        emptyDataSourceMessage: 'Nenhuma solicitação aberta no momento.',\r\n                        editRow: { deleteText: 'Tem certeza que deseja apagar esse registro ?' },\r\n                        deleteTooltip: 'Apagar',\r\n                        filterRow: { filterTooltip: 'Filtrar' }\r\n                    },\r\n                    toolbar: {\r\n                        searchTooltip: 'Procurar',\r\n                        searchPlaceholder: 'Procurar',\r\n                        exportCSVName: 'Salvar como arquivo do excel',\r\n                        exportAriaLabel: 'Exportar',\r\n                        exportTitle: 'Exportar'\r\n                    },\r\n                    pagination: {\r\n\r\n                        labelRowsSelect: 'Resultados por página',\r\n                        labelDisplayedRows: ' {from}-{to} a {count}',\r\n                        firstTooltip: 'Primeira página',\r\n                        previousTooltip: 'Página anterior',\r\n                        nextTooltip: 'Próxima Página',\r\n                        lastTooltip: 'Última Página',\r\n\r\n                    }\r\n                }}\r\n                actions={[\r\n                    {\r\n                        icon: 'history_icon',\r\n                        iconProps: { color: 'primary' },\r\n                        tooltip: 'Ver histórico',\r\n                        onClick: (event, rowData) => showDetails(rowData['id'])\r\n                    },\r\n                    rowData => (configTablePermissions({ rowData, user }) && {\r\n                        icon: !completed ? 'assignment_turned_in_outlined' : rowData?.status === 'Solicitação indeferida' ? 'clear' : 'done_icon',\r\n                        iconProps: {\r\n                            className: !completed ? 'assessDemandButton' : '',\r\n                            color: rowData?.status === 'Solicitação indeferida' ? 'secondary' : completed ? 'action' : 'disabled'\r\n                        },\r\n                        tooltip: rowData?.status.match('Aguardando')\r\n                            ? 'Analisar solicitação'\r\n                            : rowData?.status.match('Pendências')\r\n                                ? 'Abrir solicitação'\r\n                                : rowData?.status === 'Solicitação indeferida' ?\r\n                                    'Indeferida'\r\n                                    : 'Concluída',\r\n                        onClick: (event, rowData) => !completed ? assessDemand(rowData['id']) : null\r\n                    })\r\n                ]}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport SolHistory from './SolHistory'\r\nimport SolicitacoesTemplate from './SolicitacoesTemplate'\r\nimport SolicitacoesTable from './SolicitacoesTable'\r\nimport { logRoutesConfig } from './logRoutesConfig'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport removePDF from '../Utils/removePDFButton'\r\n\r\n\r\nfunction Solicitacoes(props) {\r\n\r\n    const\r\n        { veiculos, empresas, vehicleDocs, empresaDocs } = props.redux,\r\n        { user } = props,\r\n        [logs, setLogs] = useState([]),\r\n        [showHistory, setShowHistory] = useState(false),\r\n        [selectedLog, selectLog] = useState(),\r\n        [completed, showCompleted] = useState(false),\r\n        [historyLog, setHistoryLog] = useState(),\r\n        [alertProperties, setAlertDialog] = useState({ openAlertDialog: false, customMessage: '', customTitle: '' }),\r\n        [showFiles, setShowFiles] = useState(false),\r\n        [filesIds, setFilesId] = useState(),\r\n        { openAlertDialog, customTitle, customMessage } = alertProperties\r\n\r\n    //Desabilita opção de exportar como PDF do material-table\r\n    useEffect(() => {\r\n        removePDF()\r\n        return () => removePDF(true)\r\n    }, [])\r\n\r\n    //*********Effect adds eventListner to Esc key--> back/closes windows ************/\r\n    useEffect(() => {\r\n        function escFunction(e) {\r\n            if (e.keyCode === 27) {\r\n                if (!showFiles && !historyLog) setShowHistory()\r\n                if (showFiles) setShowFiles(false)\r\n                else if (historyLog) setHistoryLog()\r\n            }\r\n        }\r\n        document.addEventListener('keydown', escFunction)\r\n        return () => document.removeEventListener('keydown', escFunction)\r\n    }, [historyLog, showFiles])\r\n\r\n    //********Prepares the Logs ArrayofObjects from the DB to be displayed with additional and filtered fields************/\r\n    useEffect(() => {\r\n\r\n        async function getLogs() {\r\n\r\n            const originalLogs = [...props.redux.logs]\r\n\r\n            let logs = originalLogs.map(log => {\r\n                log.empresa = empresas.find(e => e.codigoEmpresa === log.empresaId)?.razaoSocial\r\n                log.veiculo = veiculos.find(v => v.veiculoId === log.veiculoId)?.placa\r\n                const { __v, ...filtered } = log\r\n                return filtered\r\n            })\r\n\r\n            if (completed) logs = logs.filter(l => l.completed === true)\r\n            else logs = logs.filter(l => l.completed === false)\r\n            setLogs(logs)\r\n        }\r\n        getLogs()\r\n\r\n    }, [veiculos, empresas, completed, props.redux.logs])\r\n\r\n    const assessDemand = async id => {\r\n\r\n        let log = logs.find(l => l.id === id)\r\n        selectLog(log)\r\n\r\n        let pathname = logRoutesConfig.find(r => log?.subject.match(r.subject))?.path\r\n        if (!pathname.match('/solicitacoes')) pathname = '/solicitacoes' + pathname\r\n        props.history.push({ pathname, state: { demand: log } })\r\n    }\r\n\r\n    const showDetails = async id => {\r\n        setHistoryLog(false)\r\n        setShowFiles(false)\r\n\r\n        const log = logs.find(l => l.id === id)\r\n        await selectLog(log)\r\n        setShowHistory(true)\r\n    }\r\n\r\n    const showInfo = index => {\r\n        if (selectedLog && selectedLog?.history) {\r\n            const historyLog = selectedLog?.history[index]\r\n\r\n            if (!historyLog?.info)\r\n                return\r\n            setHistoryLog(historyLog)\r\n        }\r\n    }\r\n    const renderFiles = (ids) => {\r\n        if (ids) {\r\n            setShowFiles(true)\r\n            setFilesId(ids)\r\n        }\r\n        else setShowFiles(false)\r\n    }\r\n\r\n    const toggleAlertDialog = () => setAlertDialog({ ...alertProperties, openAlertDialog: !openAlertDialog })\r\n    const close = () => {\r\n        setShowHistory(false)\r\n        setShowFiles(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <SolicitacoesTemplate\r\n                completed={completed}\r\n                showCompleted={showCompleted}\r\n            />\r\n            <SolicitacoesTable\r\n                tableData={logs}\r\n                title={!completed ? 'Solicitações em andamento' : 'Solicitações concluídas'}\r\n                user={user}\r\n                showDetails={showDetails}\r\n                assessDemand={assessDemand}\r\n                completed={completed}\r\n                style={{ textAlign: 'center' }}\r\n            />\r\n            {showHistory && <SolHistory\r\n                solicitacao={selectedLog}\r\n                close={close}\r\n                showInfo={showInfo}\r\n                historyLog={historyLog}\r\n                setHistoryLog={setHistoryLog}\r\n                vehicleDocs={vehicleDocs}\r\n                empresaDocs={empresaDocs}\r\n                setShowFiles={renderFiles}\r\n                showFiles={showFiles}\r\n                filesIds={filesIds}\r\n            />\r\n            }\r\n            {openAlertDialog &&\r\n                <AlertDialog open={openAlertDialog} close={toggleAlertDialog} customMessage={customMessage} customTitle={customTitle} />}\r\n        </>\r\n    )\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'logs', 'getFiles/vehicleDocs', 'getFiles/empresaDocs']\r\n\r\nexport default StoreHOC(collections, Solicitacoes)","const width = '240px'\r\nexport const altContratoForm = [\r\n    {\r\n        field: 'numeroAlteracao',\r\n        label: 'Número da alteração',\r\n        maxLength: 3,\r\n        pattern: '^\\\\d{1,3}$',\r\n        width\r\n    },\r\n    {\r\n        field: 'numeroRegistro',\r\n        label: 'Registro na junta comercial',\r\n        maxLength: 40,\r\n        width\r\n    },\r\n    {\r\n        field: 'numeroSei',\r\n        label: 'Número do registro SEI (se houver)',\r\n        maxLength: 30,\r\n        notRequired: true,\r\n        width\r\n    },\r\n    {\r\n        field: 'dataJunta',\r\n        label: 'Data de registro na Junta Comercial',\r\n        type: 'date',\r\n        notRequired: true,\r\n        width\r\n    },\r\n    {\r\n        field: 'vencimentoContrato',\r\n        label: 'Vencimento do Cadastro - CRC',\r\n        type: 'date',\r\n    }\r\n]\r\n","import React, { Fragment } from 'react'\r\nimport moment from 'moment'\r\n\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport './empresasReview.scss'\r\n\r\n\r\nexport default function EmpresaReview({ data, forms, filesForm, files, demandFiles }) {\r\n\r\n    const\r\n        { filteredSocios, selectedEmpresa } = data\r\n        , tablesSubtitles = ['Dados da empresa', 'Informações sobre a alteração do contrato social']\r\n\r\n    let alteredFields = data.alteredFields || []\r\n\r\n    //Identifica campos modificados    \r\n    if (!alteredFields.length)\r\n        for (let key in selectedEmpresa) {\r\n            if (data[key] !== selectedEmpresa[key] && data[key] !== '')\r\n                alteredFields.push(key)\r\n        }\r\n\r\n    //Para cada formulário, roda o State do componente(container) e atribui a propriedade value em cada campo \r\n    forms.forEach(form => {\r\n        form.forEach(objField => {\r\n            Object.entries(data).forEach(([k, v]) => {\r\n                if (objField.field === k) {\r\n                    if (objField.type === 'date') {                 //Formatando as datas                        \r\n                        if (v && moment(v, true).isValid())\r\n                            objField.value = moment(v).format('DD/MM/YYYY')\r\n                    }\r\n                    else\r\n                        objField.value = v\r\n                }\r\n\r\n            })\r\n        })\r\n    })\r\n\r\n    return (\r\n        <>\r\n            <section className='flex'>\r\n                <div className='divTable'>\r\n                    {\r\n                        forms.map((form, y) =>\r\n                            <Fragment key={y}>\r\n                                <table style={y === 1 ? { tableLayout: 'fixed' } : {}}>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className='tHeader'\r\n                                                colSpan={form.length}>{tablesSubtitles[y]}\r\n                                            </th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            {form.map(({ label }, i) => <th key={i}>{label}</th>)}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            {form.map(({ field, value }, k) =>\r\n                                                <td\r\n                                                    className='review'\r\n                                                    key={k}\r\n                                                    style={{ color: alteredFields.includes(field) ? 'red' : '#000' }}\r\n                                                >\r\n                                                    {value}\r\n                                                </td>\r\n                                            )}\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </Fragment>\r\n                        )}\r\n                </div>\r\n            </section >\r\n            <section className='socios_docs_container'>\r\n                {\r\n                    filteredSocios && filteredSocios[0] && filteredSocios.some(s => s.status) &&\r\n                    <section title='Sócios' className='flexColumn socios__review__container'>\r\n                        <h3 className='review__subtitle'>\r\n                            <PeopleIcon className='socios__review__icon' />\r\n                            Sócios\r\n                        </h3>\r\n                        {filteredSocios.map(({ nomeSocio, status, outsider }, i) =>\r\n                            <div key={i}\r\n                                className='flex socios__review__div'\r\n                                style={{ color: outsider || status === 'new' ? 'green' : status === 'modified' ? 'orange' : status === 'deleted' ? 'red' : '' }}>\r\n                                <span className='socios__review__prop' >\r\n                                    {nomeSocio}\r\n                                    {\r\n                                        outsider || status === 'new' ? '(incluído)' :\r\n                                            status === 'modified' ? '(modificado)' :\r\n                                                status === 'deleted' ? '(excluído)' : ''\r\n                                    }\r\n                                </span>\r\n                            </div>\r\n                        )}\r\n                    </section>\r\n                }\r\n                {\r\n                    (files || demandFiles) &&\r\n                    <section title='Documentos' className='flex docs'>\r\n                        <h3 className='review__subtitle'>\r\n                            <FileCopyOutlinedIcon className='docs__icon' /> Documentos\r\n                        </h3>\r\n                        <ShowLocalFiles\r\n                            demandFiles={demandFiles}\r\n                            form={filesForm}\r\n                            files={files}\r\n                            collection='empresaDocs'\r\n                        />\r\n                    </section>\r\n                }\r\n            </section>\r\n        </>\r\n    )\r\n}\r\n\r\n/* {\r\n    filteredSocios && filteredSocios[0] && filteredSocios.some(s => s.status) &&\r\n    <section className='flexColumn'>\r\n        <h3 style={{ margin: '30px 0 0 25px' }}> <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} /> Documentos </h3>\r\n        {filteredSocios.map(socio =>\r\n            <div\r\n                className='flex socio__review__div'\r\n                style={{\r\n                    width: '1000px',\r\n                    justifyContent: 'space-between',\r\n                    color: socio.status === 'new' ? 'green' : socio.status === 'modified' ? 'orange' : socio.status === 'deleted' ? 'red' : ''\r\n                }}>\r\n                <span className='socio__review__prop' >{socio.nomeSocio}</span>\r\n                <span className='socio__review__prop' >{socio.cpfSocio}</span>\r\n                <span className='socio__review__prop' >{socio.telSocio}</span>\r\n                <span className='socio__review__prop' >{socio.emailSocio}</span>\r\n            </div>\r\n        )}\r\n    </section>\r\n} */","import React, { Fragment } from 'react'\r\n\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport { errorHandler, helper } from '../Utils/checkInputErrors';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#999',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    }\r\n}))\r\n\r\nexport default function ({ handleInput, handleBlur, data, addSocio, enableEdit, handleEdit, removeSocio }) {\r\n\r\n    const\r\n        { selectedEmpresa, subtitles, activeStep, filteredSocios } = data,\r\n        classes = useStyles(), { iconButton, list } = classes\r\n\r\n    return (\r\n        <>\r\n            {\r\n                selectedEmpresa &&\r\n                <section className=\"flex paper\">\r\n                    <FormSubtiltle subtitle={subtitles[activeStep]} />\r\n                    <div className=\"flex center\">\r\n                        <div style={{ padding: '10px 0', width: '100%' }}>\r\n                            <TextInput\r\n                                form={sociosForm}\r\n                                data={data}\r\n                                handleBlur={handleBlur}\r\n                                handleInput={handleInput}\r\n                            />\r\n                        </div>\r\n                        <div style={{ margin: '5px 0 7px 84.58%', width: '100%' }}>\r\n                            <Button color='primary' variant='outlined' size='small' onClick={addSocio}>\r\n                                <AddIcon /> Adicionar sócio\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            }\r\n\r\n            {\r\n                selectedEmpresa && filteredSocios.length === 0 &&\r\n                <section>\r\n                    <p>\r\n                        Nenhum sócio cadastrado para {selectedEmpresa.razaoSocial}\r\n                    </p>\r\n                </section>\r\n            }\r\n            {\r\n                filteredSocios?.length > 0 &&\r\n                <>\r\n                    <section className=\"flex center paper\">\r\n                        <p > Sócios cadastrados</p>\r\n                        {filteredSocios.map((s, i) =>\r\n                            <div key={i}>\r\n                                {sociosForm.map((e, k) =>\r\n                                    <Fragment key={k + 1000}>\r\n                                        <TextField\r\n                                            value={s[e.field] || ''}\r\n                                            name={e.field}\r\n                                            label={e.label}\r\n                                            className={list}\r\n                                            disabled={s.edit ? false : true}\r\n                                            onChange={handleEdit}\r\n                                            error={s.edit ? errorHandler(s[e.field], e) : null}\r\n                                            helperText={s.edit ? helper(s[e.field], e) : null}\r\n                                            type={e?.type}\r\n                                            InputLabelProps={\r\n                                                {\r\n                                                    shrink: true,\r\n                                                    style: {\r\n                                                        fontWeight: 600,\r\n                                                        fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif',\r\n                                                        color: '#888'\r\n                                                    }\r\n                                                }}\r\n                                            inputProps={{\r\n                                                style: {\r\n                                                    fontSize: '13px',\r\n                                                    color: s.edit === true ? '#000'\r\n                                                        : s.status === 'new' || s.outsider ? 'green'\r\n                                                            : s.status === 'modified' ? '#FF2500'\r\n                                                                : s.status === 'deleted' ? 'red'\r\n                                                                    : '#888',\r\n                                                    textDecoration: s.status === 'deleted' && !s.edit ? 'line-through' : ''\r\n                                                }\r\n                                            }}\r\n                                        />\r\n                                    </Fragment>\r\n                                )}\r\n                                <Button\r\n                                    disabled={s.status === 'deleted'}\r\n                                    component='span'\r\n                                    className={iconButton}\r\n                                    title='editar'\r\n                                    onClick={() => enableEdit(i)}\r\n                                >\r\n                                    <EditIcon />\r\n                                </Button>\r\n\r\n                                <Button className={iconButton}\r\n                                    color={s.status === 'deleted' ? 'primary' : 'secondary'}\r\n                                    title={s.status === 'deleted' ? 'Desfazer exclusão' : 'Remover'}\r\n                                    onClick={() => removeSocio(i)}>\r\n                                    {s.status === 'deleted' ? <i className='material-icons'>undo</i> : <DeleteIcon />}\r\n                                </Button>\r\n                            </div>\r\n                        )}\r\n                    </section>\r\n                </>\r\n            }\r\n        </>\r\n    )\r\n}","const altContratoFiles = [\r\n    { title: 'Alteração do contrato social', name: 'altContratoDoc' },\r\n    { title: 'CRC', name: 'crc' },\r\n]\r\n\r\nexport default altContratoFiles","import React from 'react'\r\nimport { altContratoForm } from '../Forms/altContratoForm'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport EmpresaReview from './EmpresaReview'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport CustomStepper from '../Reusable Components/Stepper'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport AltSociosTemplate from './AltSociosTemplate'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\nimport altContratoFiles from '../Forms/altContratoFiles'\r\n\r\n\r\nconst AltContratoTemplate = (\r\n    { empresas, data, setActiveStep, enableEdit, handleEdit, addSocio, removeSocio, handleInput, handleBlur, handleSubmit, handleFiles, removeFile,\r\n        setShowPendencias }) => {\r\n    //Retirados campos número do Contrato e vencimento do CRC a pedido da DGTI (passou p/ próxima tab)\r\n    const dadosEmpresaForm = JSON.parse(JSON.stringify(empresasForm))\r\n        .filter(el => el.field !== 'numeroContrato' && el.field !== 'vencimentoContrato')\r\n        .map(e => {\r\n            if (e.field === 'razaoSocial' && !data.demand)\r\n                e.field = 'razaoSocialEdit'\r\n            return e\r\n        })\r\n\r\n    const\r\n        { selectedEmpresa, demand, demandFiles, activeStep, stepTitles, subtitles, form, fileToRemove, info, showPendencias } = data,\r\n        headerTitle = `Alteração de contrato social - ${selectedEmpresa?.razaoSocial}`,\r\n        forms = [dadosEmpresaForm, altContratoForm]\r\n\r\n    return (\r\n        <main>\r\n            <header>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Alteração de dados e contrato social' demand={demand} selectedEmpresa={selectedEmpresa} />\r\n                {/*--------------------- Steppers ------------------------------*/}\r\n                <section>\r\n                    <CustomStepper\r\n                        activeStep={activeStep}\r\n                        steps={stepTitles}\r\n                        setActiveStep={setActiveStep}\r\n                    />\r\n                </section>\r\n                <div className=\"flex center\">\r\n                    <SelectEmpresa\r\n                        empresas={empresas}\r\n                        data={data}\r\n                        headerTitle={headerTitle}\r\n                        handleInput={handleInput}\r\n                    />\r\n                </div>\r\n            </header>\r\n            {\r\n                //selectedEmpresa?.cnpj &&\r\n                selectedEmpresa instanceof Object &&\r\n                <>\r\n                    {/*--------------------- Form / inputs -------------------------*/}\r\n                    {\r\n                        activeStep !== 2 ?\r\n                            <section className=\"flex paper\">\r\n                                <FormSubtiltle subtitle={subtitles[activeStep]} />\r\n                                {\r\n                                    activeStep < 2\r\n                                        ?\r\n                                        <>\r\n                                            <TextInput\r\n                                                form={forms[activeStep]}\r\n                                                data={data}\r\n                                                handleInput={handleInput}\r\n                                                style={{ width: '100%' }}\r\n                                            />\r\n                                            <div className='flex center' style={{ width: '100%' }}>\r\n                                                {\r\n                                                    activeStep === 1 && altContratoFiles.map(({ name, title }, i) =>\r\n                                                        <DragAndDrop\r\n                                                            key={i}\r\n                                                            name={name}\r\n                                                            formData={form}\r\n                                                            dropDisplay={`Clique ou arraste para anexar o ${title} `}\r\n                                                            handleFiles={handleFiles}\r\n                                                            removeFile={removeFile}\r\n                                                            fileToRemove={fileToRemove}\r\n                                                            style={{ width: i === 0 ? '380px' : '250px', marginRight: i === 0 ? '12px' : 0 }}\r\n                                                        />\r\n                                                    )\r\n                                                }\r\n                                            </div>\r\n                                        </>\r\n                                        :\r\n                                        <EmpresaReview\r\n                                            data={data}\r\n                                            forms={forms}\r\n                                            files={form}\r\n                                            demandFiles={demandFiles}\r\n                                            filesForm={empresaFiles}\r\n                                        />\r\n                                }\r\n                            </section>\r\n                            :\r\n                            <section>\r\n                                <AltSociosTemplate\r\n                                    data={data}\r\n                                    handleInput={handleInput}\r\n                                    handleBlur={handleBlur}\r\n                                    addSocio={addSocio}\r\n                                    removeSocio={removeSocio}\r\n                                    handleFiles={handleFiles}\r\n                                    enableEdit={enableEdit}\r\n                                    handleEdit={handleEdit}\r\n                                />\r\n                            </section>\r\n                    }\r\n                    <footer>\r\n                        <StepperButtons\r\n                            demand={demand}\r\n                            declineButtonLabel='Indeferir'\r\n                            setShowPendencias={setShowPendencias}\r\n                            showPendencias={showPendencias}\r\n                            info={info}\r\n                            activeStep={activeStep}\r\n                            lastStep={stepTitles.length - 1}\r\n                            setActiveStep={setActiveStep}\r\n                            handleInput={handleInput}\r\n                            handleSubmit={handleSubmit}\r\n                        />\r\n                    </footer>\r\n                </>\r\n            }\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default AltContratoTemplate","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport AltContratoTemplate from './AltContratoTemplate'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { handleFiles as globalHandleFiles, removeFile as globalRemoveFile } from '../Utils/handleFiles'\r\nimport valueParser from '../Utils/valueParser'\r\n\r\nimport { altContratoForm } from '../Forms/altContratoForm'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport altContratoFiles from '../Forms/altContratoFiles'\r\n\r\n\r\nconst\r\n    stepTitles = ['Alterar dados da empresa', 'Informações sobre alteração do contrato social', 'Informações sobre sócios', 'Revisão'],\r\n    subtitles = ['Utilize os campos abaixo caso deseje editar os dados da empresa',\r\n        'Informe as alterações no contrato social ou CRC e anexe uma cópia do documento',\r\n        'Adicione ou altere sócios e suas respectivas participações.',\r\n        'Revise os dados informados.'\r\n    ]\r\n\r\nconst AltContrato = props => {\r\n\r\n    const\r\n        { empresas } = props.redux,\r\n        socios = [...props.redux.socios],\r\n        [state, setState] = useState({\r\n            razaoSocial: '',\r\n            activeStep: 0,\r\n            stepTitles,\r\n            subtitles,\r\n            dropDisplay: 'Clique ou arraste para anexar a cópia da alteração do contrato social ',\r\n            demand: undefined,\r\n            confirmToast: false,\r\n            filteredSocios: [],\r\n            showPendencias: false,\r\n            openAlertDialog: false\r\n        })\r\n\r\n    //ComponentDidMount para carregar demand, se houver e selecionar a empresa dependendo do usuário\r\n    useEffect(() => {\r\n        if (empresas && empresas.length === 1) {\r\n\r\n            const selectedEmpresa = { ...empresas[0] }\r\n            //Formata data vinda do DB para renderização no browser\r\n            let venc = selectedEmpresa?.vencimentoContrato\r\n            if (venc && venc.length > 0)\r\n                selectedEmpresa.vencimentoContrato = venc.substr(0, 10)\r\n\r\n            setState({ ...state, ...selectedEmpresa, selectedEmpresa, filteredSocios: socios })\r\n        }\r\n\r\n        const demand = props?.location?.state?.demand\r\n\r\n        if (demand && demand.history[0]) {\r\n            const\r\n                { empresaDocs } = props.redux,\r\n                { altContrato, altEmpresa, socioUpdates, files } = demand?.history[0],\r\n                selectedEmpresa = empresas.find(e => e.codigoEmpresa === demand.empresaId),\r\n                alteredFields = []\r\n\r\n            //Identifica campos modificados    \r\n            for (let key in selectedEmpresa) {\r\n                if (altEmpresa && altEmpresa[key] && altEmpresa[key] !== selectedEmpresa[key])\r\n                    alteredFields.push(key)\r\n            }\r\n\r\n            const\r\n                updatedEmpresa = { ...selectedEmpresa, ...altEmpresa }\r\n                , selectSocios = socios.filter(s => s.empresas && s.empresas[0] && s.empresas.some(e => e.codigoEmpresa === selectedEmpresa.codigoEmpresa))\r\n\r\n            let\r\n                filteredSocios = JSON.parse(JSON.stringify(selectSocios)),\r\n                demandFiles\r\n\r\n            if (socioUpdates && socioUpdates[0]) {\r\n                const newSocios = []\r\n\r\n                socioUpdates.forEach(us => {\r\n                    //Se é novo, armazena no newSocios\r\n                    if (us.status === 'new' || us.outsider)\r\n                        newSocios.push(us)\r\n                    //Senão, atualiza os existentes com os campos de vieram da demanda\r\n                    else\r\n                        filteredSocios.forEach(fs => {\r\n                            if (us.socioId === fs.socioId) {\r\n                                const index = filteredSocios.findIndex(s => s.socioId === us.socioId)\r\n                                if (index !== -1)\r\n                                    filteredSocios[index] = us\r\n                            }\r\n                        })\r\n                })\r\n\r\n                filteredSocios = filteredSocios\r\n                    .concat(newSocios)\r\n                    .sort((a, b) => a.nomeSocio.localeCompare(b.nomeSocio))\r\n            }\r\n            if (files)\r\n                demandFiles = empresaDocs.filter(d => files.includes(d.id))\r\n\r\n            setState({\r\n                ...state, ...altContrato, ...updatedEmpresa, selectedEmpresa, demand, alteredFields,\r\n                demandFiles, filteredSocios, activeStep: 3\r\n            })\r\n        }\r\n\r\n        return () => void 0\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    //Armazena uma cópia dos sócios antes de qualquer edição para avaliar se houve mudança e fazer ou não o request\r\n    useEffect(() => {\r\n        if (state.selectedEmpresa) {\r\n            const\r\n                codigoEmpresa = state.selectedEmpresa.codigoEmpresa\r\n                , originalSocios = JSON.parse(JSON.stringify(socios.filter(s => s.empresas && s.empresas[0] && s.empresas.some(e => e.codigoEmpresa === codigoEmpresa)))) || []\r\n\r\n            setState({ ...state, originalSocios })\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [state.selectedEmpresa])\r\n\r\n    const setActiveStep = action => {\r\n\r\n        let activeStep = state.activeStep\r\n        //Validação de campos em branco ou inválidos\r\n        const\r\n            { inputValidation } = props.redux.parametros[0] && props.redux.parametros[0]\r\n            //Retirados campos número do Contrato e vencimento do CRC a pedido da DGTI (passou p/ próxima tab)\r\n            , dadosEmpresaForm = JSON.parse(JSON.stringify(empresasForm))\r\n                .filter(el => el.field !== 'numeroContrato' && el.field !== 'vencimentoContrato')\r\n                .map(e => {\r\n                    if (e.field === 'razaoSocial')\r\n                        e.disabled = true\r\n                    return e\r\n                })\r\n            , forms = [dadosEmpresaForm, altContratoForm]\r\n\r\n        if (action === 'next' && inputValidation) {\r\n            const\r\n                { checkBlankInputs, checkInputErrors } = props\r\n                , errors = checkInputErrors('sendState')\r\n                , blankFields = checkBlankInputs(forms[activeStep], state)\r\n\r\n            if (errors) {\r\n                setState({ ...state, ...errors })\r\n                return\r\n            }\r\n            if (blankFields) {\r\n                setState({ ...state, ...blankFields })\r\n                return\r\n            }\r\n        }\r\n\r\n\r\n        if (action === 'next') activeStep++\r\n        if (action === 'back') activeStep--\r\n        if (action === 'reset') activeStep = 0\r\n        setState({ ...state, activeStep })\r\n    }\r\n\r\n    const handleBlur = e => {\r\n        const\r\n            { name, value } = e.target,\r\n            { filteredSocios } = state\r\n\r\n        if (name === 'razaoSocialEdit') {\r\n            setState(s => ({ ...s, razaoSocial: value }))\r\n        }\r\n\r\n        if (name !== 'cpfSocio')\r\n            return\r\n\r\n        const duplicate = filteredSocios.some(s => s.cpfSocio === value)\r\n\r\n        if (duplicate)\r\n            setState(\r\n                {\r\n                    ...state,\r\n                    openAlertDialog: true,\r\n                    customTitle: 'Cpf já cadastrado',\r\n                    customMessage: 'O cpf informado corresponde a um sócio já cadastrado. Para remover ou editar os dados do sócio, utilize as opções abaixo.',\r\n                    cpfSocio: ''\r\n                })\r\n    }\r\n\r\n    const handleInput = e => {\r\n        const { name, value } = e.target\r\n        let\r\n            selectedEmpresa = {},\r\n            filteredSocios\r\n\r\n        if (name === 'razaoSocial') {\r\n            selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            let venc = selectedEmpresa?.vencimentoContrato\r\n\r\n            if (venc && venc.length > 0)\r\n                selectedEmpresa.vencimentoContrato = venc.substr(0, 10)\r\n\r\n            if (selectedEmpresa?.codigoEmpresa) {\r\n\r\n                filteredSocios = JSON.parse(JSON.stringify(socios.filter(s => s.empresas && s.empresas[0] && s.empresas.some(e => e.codigoEmpresa === selectedEmpresa.codigoEmpresa))))\r\n                let additionalSocios = JSON.parse(JSON.stringify(socios))\r\n                additionalSocios = additionalSocios\r\n                    .filter(s => {\r\n                        if (s.empresas && s.empresas[0])\r\n                            return s.empresas.includes(selectedEmpresa.codigoEmpresa)\r\n                        else return null\r\n                    })\r\n\r\n                additionalSocios = filteredSocios.concat(additionalSocios)\r\n                const result = new Map()\r\n                for (const s of additionalSocios) {\r\n                    result.set(s.socioId, s)\r\n                }\r\n                filteredSocios = [...result.values()]\r\n                filteredSocios.forEach(s => {\r\n                    let empresa\r\n                    if (s.empresas[0])\r\n                        empresa = s.empresas.find(e => e.share && e.codigoEmpresa === selectedEmpresa.codigoEmpresa)\r\n                    if (empresa && empresa.share)\r\n                        s.share = empresa.share\r\n                })\r\n            }\r\n\r\n            if (selectedEmpresa)\r\n                setState({ ...state, ...selectedEmpresa, selectedEmpresa, razaoSocialEdit: selectedEmpresa.razaoSocial, filteredSocios, [name]: value })\r\n            else\r\n                setState({ ...state, selectedEmpresa: undefined, filteredSocios: undefined, [name]: value })\r\n        }\r\n        else {\r\n            const parsedValue = valueParser(name, value)\r\n            setState({ ...state, [name]: parsedValue })\r\n        }\r\n    }\r\n\r\n    const enableEdit = index => {\r\n\r\n        let editSocio = state.filteredSocios\r\n        if (editSocio[index].edit === true)\r\n            editSocio[index].edit = false\r\n        else {\r\n            editSocio.forEach(s => s.edit = false)\r\n            editSocio[index].edit = true\r\n        }\r\n        setState({ ...state, filteredSocios: editSocio })\r\n    }\r\n\r\n    const handleEdit = e => {\r\n        //Função que reage ao input dos campos de edição dos sócios\r\n        const\r\n            { name } = e.target,\r\n            { filteredSocios, selectedEmpresa } = state,\r\n            { codigoEmpresa } = selectedEmpresa\r\n\r\n        let { value } = e.target\r\n\r\n        if (name === 'share')\r\n            value = value.replace(',', '.')\r\n\r\n        const fs = [...filteredSocios]\r\n        let editSocio = fs.find(s => s.edit === true)\r\n\r\n        if (!editSocio)\r\n            return\r\n\r\n        //Atualiza o estado de acordo com o valor de input do usuário\r\n        const parsedValue = valueParser(name, value)\r\n        editSocio[name] = parsedValue\r\n        //Acrescenta o status do sócio modificado, caso não seja === \"new\" nem === \"deleted\"\r\n        if (!editSocio.status)\r\n            editSocio.status = 'modified'\r\n\r\n        //Se houver atualização na participação, acha o elemento da array empresas e atualiza o valor\r\n        if (name === 'share' && !isNaN(+value)) {\r\n            const\r\n                { empresas } = editSocio,\r\n                index = empresas.findIndex(e => e.codigoEmpresa === codigoEmpresa)\r\n            if (index !== -1)\r\n                empresas[index] = { ...empresas[index], share: +value }\r\n            else if (empresas[0])\r\n                empresas.push({ codigoEmpresa, share: +value })\r\n            else\r\n                editSocio.empresas = [{ codigoEmpresa, share: +value }]\r\n        }\r\n\r\n        setState({ ...state, filteredSocios: fs })\r\n    }\r\n\r\n    const addSocio = async () => {\r\n        const\r\n            { selectedEmpresa } = state,\r\n            { codigoEmpresa } = selectedEmpresa\r\n        let\r\n            socios = [...state.filteredSocios],\r\n            sObject = {},\r\n            invalid = 0,\r\n            totalShare = 0\r\n\r\n        //Confere se todos os campos de novos sócios foram preenchidos\r\n        sociosForm.forEach(obj => {\r\n            if (state[obj.field] === '' || state[obj.field] === undefined) {\r\n                invalid += 1\r\n            }\r\n        })\r\n        if (invalid === 100) {\r\n            setState({ ...state, alertType: 'fieldsMissing', openAlertDialog: true })\r\n            return\r\n        }\r\n\r\n        sociosForm.forEach(obj => {\r\n            Object.assign(sObject, { [obj.field]: state[obj.field] })\r\n        })\r\n        //Verifica se o sócio já existe\r\n        const\r\n            checkSocios = await axios.post('/api/checkSocios', { newCpfs: [sObject?.cpfSocio] }),\r\n            existingSocios = checkSocios?.data\r\n\r\n        sObject.status = 'new'\r\n        //Se já existe, informar id, empresas e \r\n        if (existingSocios[0]) {\r\n            const\r\n                { socio_id, empresas } = existingSocios[0],\r\n                update = {\r\n                    socioId: socio_id,\r\n                    status: 'modified',\r\n                    outsider: true,\r\n                    empresas\r\n                }\r\n\r\n            Object.assign(sObject, { ...update })\r\n        }\r\n        if (sObject.share)\r\n            sObject.share = +sObject.share\r\n\r\n        //Insere informações sobre empresa e participação para os sócios\r\n        const { share } = sObject\r\n        if (sObject.empresas && sObject.empresas[0])\r\n            sObject.empresas.push({ codigoEmpresa, share })\r\n        if ((sObject.empresas && !sObject.empresas[0]) || !sObject.empresas)\r\n            sObject.empresas = [{ codigoEmpresa, share }]\r\n\r\n        socios.push(sObject)\r\n        socios.sort((a, b) => a.nomeSocio.localeCompare(b.nomeSocio))\r\n\r\n        //Verifica se a soma das participações passou 100%\r\n        socios.forEach(s => {\r\n            if (s?.status !== 'deleted')\r\n                totalShare += Number(s.share)\r\n        })\r\n\r\n        if (totalShare > 100) {\r\n            socios.pop()\r\n            await setState({ ...state, alertType: 'overShared', openAlertDialog: true })\r\n            return\r\n        }\r\n\r\n        const clearForm = {}\r\n        sociosForm.forEach(obj => clearForm[obj.field] = '')\r\n\r\n        await setState({ ...state, ...clearForm, filteredSocios: socios, totalShare })\r\n        setTimeout(() => {\r\n            //console.log(state)\r\n            document.getElementsByName('nomeSocio')[0].focus()\r\n        }, 200)\r\n    }\r\n\r\n    const removeSocio = index => {\r\n        const\r\n            { filteredSocios, demand } = state,\r\n            socioToRemove = filteredSocios[index]\r\n\r\n        if (socioToRemove?.status === 'new' || (!demand && socioToRemove.outsider)) {\r\n            filteredSocios.splice(index, 1)\r\n            setState({ ...state, filteredSocios })\r\n        }\r\n        else {\r\n            if (socioToRemove?.status && socioToRemove?.status !== 'deleted') {\r\n                socioToRemove.originalStatus = socioToRemove.status\r\n                socioToRemove.status = 'deleted'\r\n            }\r\n            else if (socioToRemove?.status === 'deleted')\r\n                socioToRemove.status = socioToRemove?.originalStatus\r\n            else\r\n                socioToRemove.status = 'deleted'\r\n\r\n            setState({ ...state, filteredSocios })\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async approved => {\r\n        const\r\n            { demand, form, selectedEmpresa } = state,\r\n            { codigoEmpresa } = selectedEmpresa,\r\n            altContrato = createRequestObj(altContratoForm),\r\n            altEmpresa = createRequestObj(empresasForm),\r\n            socioUpdates = checkSocioUpdates(approved),\r\n            log = createLog({ demand, altEmpresa, altContrato, socioUpdates, approved })\r\n        let\r\n            socioIds = [],\r\n            toastMsg = 'Solicitação de alteração contratual enviada.'\r\n\r\n        //Se não houver nenhuma alteração, alerta e retorna\r\n        if (!demand && !altContrato && !altEmpresa && !form && !socioUpdates) {\r\n            alert('Nenhuma modificação registrada!')\r\n            return\r\n        }\r\n\r\n        //Ao aprovar a solicitação(demanda)\r\n        if (demand && approved) {\r\n\r\n            //Registra as alterações de dados da empresa            \r\n            if (demand.history[0].altEmpresa && altEmpresa)\r\n                axios.put('/api/editElements', {\r\n                    table: 'empresas',\r\n                    tablePK: 'codigo_empresa',\r\n                    update: humps.decamelizeKeys(altEmpresa)\r\n                })\r\n\r\n            //Registrar as alterações contratuais\r\n            if (altContrato)\r\n                axios.post('/api/altContrato', altContrato)\r\n\r\n            //Atualizar os sócios: existentes, novos e a excluir\r\n            if (socioUpdates) {\r\n                const\r\n                    { newSocios, oldSocios, cpfsToAdd, cpfsToRemove } = socioUpdates,\r\n                    requestInfo = {\r\n                        table: 'socios',\r\n                        tablePK: 'socio_id',\r\n                        codigoEmpresa,\r\n                        cpfsToAdd,\r\n                    }\r\n\r\n                //Post request dos novos sócios\r\n                if (newSocios[0]) {\r\n                    const socioIdPromise = await axios.post('/api/socios', { socios: newSocios, codigoEmpresa })\r\n                    socioIds.push(socioIdPromise.data)         //A array de ids de sócios vai para a metadata dos arquivos\r\n                }\r\n\r\n                //Update/delete dos modificados\r\n                if (oldSocios[0]) {\r\n                    console.log(\"🚀 ~ file: AltContrato.jsx ~ line 442 ~ oldSocios\", oldSocios)\r\n                    //atualiza os sócios. Status 'deleted' não são apagados, apenas têm sua coluna 'empresas' atualizada.\r\n                    await axios.put('/api/editSocios', { requestArray: oldSocios, ...requestInfo })\r\n\r\n                    //remove as permissões de usuário dos sócios excluídos\r\n                    if (cpfsToRemove[0])\r\n                        await axios.patch('/api/removeEmpresa', { cpfsToRemove, codigoEmpresa })\r\n\r\n                    const ids = oldSocios.map(s => s.socio_id)\r\n                    socioIds = socioIds.concat(ids)             //A array de ids de sócios vai para a metadata dos arquivos                    \r\n                }\r\n\r\n                if (socioIds[0]) {\r\n                    const unchangedSociosIds = filteredSocios\r\n                        .filter(s => s?.socioId && !socioIds.includes(s.socioId) && s?.status !== 'deleted')\r\n                        .map(s => s.socioId)\r\n                        , allSociosIds = socioIds.concat(unchangedSociosIds)\r\n                    Object.assign(log, { metadata: { socios: allSociosIds } })\r\n                }\r\n                toastMsg = 'Dados atualizados'\r\n            }\r\n        }\r\n        let files, fileIds\r\n        if (approved === false)\r\n            toastMsg = 'Solicitação indeferida.'\r\n\r\n        //***********************ERROR --- Se for p aprovar, o filesIds vai sempre ser undefined */\r\n        // AO CRIAR A DEMANDA, NÃO ESTÁ PREENCHENDO A ARRAY DE SÓCIOS E ESTÁ DANDO TEMP: FALSE DE CARA\r\n\r\n        else if (!approved) {\r\n            //Adiciona os demais sócios para o metadata dos arquivos, para relacionar as alterações contratuais com todos os sócios \r\n            const\r\n                unchangedSociosIds = filteredSocios\r\n                    .filter(s => s?.socioId && !socioIds.includes(s.socioId) && s?.status !== 'deleted')\r\n                    .map(s => s.socioId)\r\n                , allSociosIds = socioIds.concat(unchangedSociosIds)\r\n\r\n            files = await submitFile(codigoEmpresa, allSociosIds) //A função deve retornar o array de ids dos files para incorporar no log.\r\n\r\n            if (files instanceof Array) {\r\n                fileIds = files.map(f => f.id)\r\n                log.history.files = fileIds\r\n            }\r\n        }\r\n\r\n        logGenerator(log)                               //Generate the demand\r\n            .then(r => {\r\n                console.log(r?.data)\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n        if (demand)\r\n            setTimeout(() => {\r\n                props.history.push('/solicitacoes')\r\n            }, 1500);\r\n        else\r\n            setTimeout(() => { resetState() }, 900);\r\n        toast(toastMsg)\r\n    }\r\n\r\n    const checkSocioUpdates = approved => {\r\n        const\r\n            { filteredSocios, selectedEmpresa, demand } = state,\r\n            { codigoEmpresa } = selectedEmpresa\r\n        let\r\n            socioUpdates = [],\r\n            cpfsToRemove = [],\r\n            cpfsToAdd = []\r\n\r\n        //verifica se houve alteração em sócios existentes e as insere em oldSocios ou se há novos sócios, inseridos em newSocios\r\n        filteredSocios.forEach(m => {\r\n            //Apaga campos irrelevantes\r\n            delete m.edit\r\n            delete m.createdAt\r\n            delete m.razaoSocial\r\n            //Exclui campos nulos ou em branco do request\r\n            Object.keys(m).forEach(k => {\r\n                if (!m[k] || m[k] === '')\r\n                    delete m[k]\r\n            })\r\n            //Se foi modificado, inserido ou removido, insere o objeto socio no socioUpdates\r\n            if (m.status)\r\n                socioUpdates.push(m)\r\n        })\r\n\r\n        //Separa os sócios modificados em novos, alterados e excluídos para que cada o respectivo request seja feito\r\n        if (socioUpdates[0]) {\r\n            //Acrescenta o codigoEmpresa na array empresas de cada sócio\r\n            socioUpdates.forEach(s => {\r\n                //Se o sócio ainda não tem a empresa em sua array de empresas, inserir\r\n                if (s.empresas && s.empresas[0] && !s.empresas.some(e => e.codigoEmpresa === codigoEmpresa)) {\r\n                    s.empresas.push({ codigoEmpresa, share: s?.share })\r\n                    console.log(s, s.empresas)\r\n                }\r\n                //Se a empresa já existe, atualiza o share\r\n                else if (s.empresas && s.empresas[0] && s.empresas.some(e => e.codigoEmpresa === codigoEmpresa)) {\r\n                    const index = s.empresas.findIndex(e => e.codigoEmpresa === codigoEmpresa)\r\n                    s.empresas[index].share = +s.share\r\n                    console.log(s, s.empresas)\r\n                }\r\n                else if (!s.empresas || !s.empresas[0])\r\n                    s.empresas = [{ codigoEmpresa, share: s?.share }]\r\n                //Se newSocio, incluir cpf para atualizar permissões de usuário\r\n                if (s.status === 'new' || s.outsider === true)\r\n                    cpfsToAdd.push({ cpf_socio: s.cpfSocio })\r\n                //Se deleted, remove o código da empresa da array de empresas do sócio e grava todos os cpfs para retirar permissão de usuário\r\n                if (s.empresas instanceof Array && s.status === 'deleted') {\r\n                    s.empresas = s.empresas.filter(e => e.codigoEmpresa !== codigoEmpresa)\r\n                    cpfsToRemove.push({ cpf_socio: s.cpfSocio }) // Esse é o formato esperado no backEnd (/users/removeEmpresa.js)\r\n                    //Se após apagada a empresa, não houver nenhuma, registra 0 como único elemento da array empresas (previne erro no posgresql)\r\n                    if (!s.empresas[0])\r\n                        s.empresas = []\r\n                }\r\n            })\r\n\r\n            //Se não tiver demand, retorna socioUpdates\r\n            if (!demand)\r\n                return { socioUpdates, cpfsToAdd, cpfsToRemove }\r\n\r\n            //Prepara o objeto de resposta\r\n            if (demand && approved) {\r\n                socioUpdates.forEach(s => {\r\n                    delete s.outsider\r\n                    delete s.razaoSocial\r\n                    delete s.codigoEmpresa\r\n                    delete s.originalStatus\r\n                    delete s.nomeEmpresas\r\n                    s.empresas = JSON.stringify(s.empresas)\r\n                })\r\n                socioUpdates = humps.decamelizeKeys(socioUpdates)\r\n                const\r\n                    newSocios = socioUpdates.filter(s => s.status === 'new'),\r\n                    oldSocios = socioUpdates.filter(s => s.status === 'modified' || s.status === 'deleted')\r\n\r\n                //Se aprovado, Apaga a prop 'status' de cada sócio antes do request\r\n                oldSocios.forEach(s => delete s.status)\r\n                newSocios.forEach(s => delete s.status)\r\n                return { newSocios, oldSocios, cpfsToAdd, cpfsToRemove }\r\n            }\r\n        }\r\n        else return null\r\n    }\r\n\r\n\r\n    const createLog = ({ demand, altEmpresa, altContrato, approved, socioUpdates }) => {\r\n        const\r\n            { selectedEmpresa, info } = state,\r\n            { codigoEmpresa } = selectedEmpresa\r\n        let log\r\n\r\n        //Se não houver demanda, criar demanda/log\r\n        if (!demand) {\r\n            log = {\r\n                history: {\r\n                    altContrato,\r\n                    info,\r\n                    altEmpresa,\r\n                    ...socioUpdates\r\n                },\r\n                empresaId: codigoEmpresa,\r\n                historyLength: 0,\r\n                approved\r\n            }\r\n            if (approved === false)\r\n                log.declined = true\r\n        }\r\n        //Se houver demand, mas for rejeitada, indeferir demanda\r\n        if (demand && approved === false) {\r\n            const { id, empresaId } = demand\r\n            log = {\r\n                id,\r\n                empresaId,\r\n                history: {\r\n                    info\r\n                },\r\n                declined: true\r\n            }\r\n        }\r\n        //Se aprovado\r\n        if (demand && approved === true) {\r\n            const\r\n                { id } = demand,\r\n                { demandFiles } = state\r\n            log = {\r\n                id,\r\n                demandFiles,\r\n                history: {},\r\n                approved\r\n            }\r\n        }\r\n        return log\r\n    }\r\n\r\n    //Prepara os objetos para o request\r\n    const createRequestObj = form => {\r\n        const\r\n            { selectedEmpresa, demand } = state,\r\n            { codigoEmpresa, razaoSocial } = selectedEmpresa,\r\n            createdAt = demand && demand.createdAt\r\n\r\n        let returnObj = { codigoEmpresa: selectedEmpresa?.codigoEmpresa }\r\n\r\n        form.forEach(({ field }) => {\r\n            for (let prop in state) {\r\n                if (prop === field && state[prop])\r\n                    Object.assign(returnObj, { [prop]: state[prop] })\r\n            }\r\n        })\r\n\r\n        //Adiciona a data de solicitação (não de cadastro) no sistema, em caso de alteração do contrato é necessário verificar        \r\n        const keys = Object.keys(returnObj)\r\n\r\n        if (keys.length > 1) {\r\n            //Se tiver aprovando, pega o createdAt do log(demanda) e salva, para manter a data da solicitação.\r\n            if (keys.includes('numeroAlteracao') && demand) {\r\n                returnObj.createdAt = createdAt\r\n                returnObj.codigoEmpresa = codigoEmpresa     //Insere codigoEmpresa para userSocket.js filtrar no backEnd\r\n                returnObj.razaoSocial = razaoSocial         //Insere razão social para o altContratoAlert no backEnd.\r\n            }\r\n\r\n            //Se alterada a razão social, a alteração está salva no state\r\n            if (state.razaoSocial)\r\n                returnObj.razaoSocial = state.razaoSocial\r\n            if (state.razaoSocialEdit)\r\n                returnObj.razaoSocial = state.razaoSocialEdit\r\n\r\n            console.log(\"🚀 ~ file: AltContrato.jsx ~ line 676 ~ returnObj\", returnObj)\r\n            return returnObj\r\n\r\n        }\r\n        //Se keys.length não for 2 ou mais, retorna null (uma prop é o codigoEmpresa, acrescentado no início da função(this))\r\n        else\r\n            return null\r\n    }\r\n\r\n    const handleFiles = async (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n            const\r\n                fileObj = { ...state, [name]: files[0] },\r\n                newState = globalHandleFiles(files, fileObj, altContratoFiles)\r\n            setState({ ...state, ...newState, [name]: files[0], fileToRemove: null })\r\n        }\r\n    }\r\n\r\n    const submitFile = async (empresaId, socioIds) => {\r\n        //Essa função só é chamada ao CRIAR a demanda. Por isso, tempFile é true e o SocioIds deve ser preenchido aqui        \r\n        const\r\n            { form, numeroAlteracao } = state,\r\n            files = []\r\n\r\n        if (form instanceof FormData) {\r\n            const metadata = {\r\n                empresaId,\r\n                tempFile: true\r\n            }\r\n            let filesToSend = new FormData()\r\n            //O loop é para cada arquivo ter seu fieldName correto no campo metadata\r\n            for (let pair of form) {\r\n                const name = pair[0]\r\n\r\n                //O CRC não precisa dos ids dos sócios nem do número de alteração em seu metadata\r\n                if (name === \"altContratoDoc\") {\r\n                    const altContMeta = {\r\n                        ...metadata,\r\n                        fieldName: name,\r\n                        socios: socioIds,\r\n                        numeroAlteracao\r\n                    }\r\n                    filesToSend.append('metadata', JSON.stringify(altContMeta))\r\n                }\r\n                else {\r\n                    const crcMeta = {\r\n                        ...metadata,\r\n                        fieldName: name\r\n                    }\r\n                    filesToSend.append('metadata', JSON.stringify(crcMeta))\r\n                }\r\n                filesToSend.set(name, pair[1])\r\n                await axios.post('/api/empresaUpload', filesToSend)\r\n                    .then(r => {\r\n                        console.log(r)\r\n                        if (r?.data?.file instanceof Array)\r\n                            files.push(...r?.data?.file)\r\n                    })\r\n                    .catch(err => console.log(err))\r\n                filesToSend = new FormData()\r\n            }\r\n            return files\r\n        }\r\n    }\r\n\r\n    const removeFile = async (name) => {\r\n        const\r\n            { form } = state,\r\n            newState = globalRemoveFile(name, form)\r\n        setState({ ...state, ...newState })\r\n    }\r\n\r\n    const resetState = () => {\r\n        const\r\n            resetForms = {},\r\n            forms = [altContratoForm, sociosForm]\r\n\r\n        let clearedState = {}\r\n\r\n        forms.forEach(form => {\r\n            form.forEach(({ field }) => {\r\n                Object.assign(resetForms, { [field]: '' })\r\n            })\r\n        })\r\n\r\n        //Se for só uma empresa, volta para o estado inicial (componentDidMount) para procuradores de apenas uma empresa\r\n        if (empresas && empresas.length === 1)\r\n            clearedState = { ...empresas[0], selectedEmpresa: empresas[0], filteredSocios: socios }\r\n\r\n        setState({\r\n            ...resetForms, activeStep: 0, stepTitles, subtitles, razaoSocial: '', selectedEmpresa: undefined,\r\n            filteredSocios: [], form: undefined, fileToRemove: undefined, ...clearedState\r\n        })\r\n    }\r\n    const\r\n        toast = toastMsg => setState({ ...state, confirmToast: !state.confirmToast, toastMsg }),\r\n        setShowPendencias = () => setState({ ...state, showPendencias: !state.showPendencias }),\r\n        closeAlert = () => setState({ ...state, openAlertDialog: !state.openAlertDialog }),\r\n        { filteredSocios, confirmToast, toastMsg, openAlertDialog, alertType, customMessage, customTitle } = state\r\n\r\n    return (\r\n        <>\r\n            <AltContratoTemplate\r\n                empresas={empresas}\r\n                data={state}\r\n                setActiveStep={setActiveStep}\r\n                handleInput={handleInput}\r\n                handleBlur={handleBlur}\r\n                handleSubmit={handleSubmit}\r\n                handleFiles={handleFiles}\r\n                removeFile={removeFile}\r\n                socios={filteredSocios}\r\n                addSocio={addSocio}\r\n                removeSocio={removeSocio}\r\n                enableEdit={enableEdit}\r\n                handleEdit={handleEdit}\r\n                setShowPendencias={setShowPendencias}\r\n            />\r\n            <ReactToast open={confirmToast} close={toast} msg={toastMsg} />\r\n            {\r\n                openAlertDialog &&\r\n                <AlertDialog open={openAlertDialog} alertType={alertType} close={closeAlert} customMessage={customMessage} customTitle={customTitle} />\r\n            }\r\n        </>\r\n    )\r\n}\r\nconst collections = ['empresas', 'socios', 'getFiles/empresaDocs']\r\nexport default (StoreHOC(collections, AltContrato))","import React from 'react'\r\n\r\nconst\r\n    imgSize = { height: 60, width: 70 }\r\n    , webBrowsers = [\r\n        {\r\n            src: '/images/chromeLogo.png',\r\n            alt: 'Google Chrome',\r\n            title: 'Google Chrome',\r\n            href: 'https://www.google.com/intl/pt-BR/chrome/',\r\n            ...imgSize\r\n        },\r\n        {\r\n            src: '/images/edgeLogo.png',\r\n            alt: 'Microsoft Edge',\r\n            title: 'Microsoft Edge',\r\n            href: 'https://www.microsoft.com/pt-br/edge',\r\n            ...imgSize\r\n        },\r\n        {\r\n            src: '/images/operaLogo.png',\r\n            alt: 'Opera',\r\n            title: 'Opera',\r\n            height: '1rem',\r\n            href: 'https://www.opera.com/pt-br',\r\n            ...imgSize\r\n        }\r\n    ]\r\n\r\nexport const SuggestedBrowsers = () => {\r\n    return (\r\n        <div className='flexColumn'>\r\n            <h4 className='webBrowsers__title' >Melhor visualizado nos navegadores</h4>\r\n            <div className='webBrowsers__container'>\r\n                {\r\n                    webBrowsers.map((webBrowser, index) =>\r\n                        <a\r\n                            key={index}\r\n                            href={webBrowser.href}\r\n                            target='_blank'\r\n                            rel=\"noopener noreferrer\"\r\n                        >\r\n                            <img\r\n                                className='webBrowsers__logo'\r\n                                alt={webBrowser.alt}\r\n                                {...webBrowser}\r\n                            />\r\n                        </a>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport './userAuth.scss'\r\nimport CustomButton from '../Reusable Components/CustomButton';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { SuggestedBrowsers } from \"./SuggestedBrowsers\";\r\n\r\nconst UserAuthTemplate = ({ data, changeTab, handleInput, handleSubmit }) => {\r\n    const { title, form, buttonLabel, tab, browserNotCompatible } = data\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            const x = document.getElementById('email')\r\n            if (x)\r\n                x.focus()\r\n        }, 600);\r\n    }, [])\r\n\r\n    const errorHandler = (el) => {\r\n        let value = data[el?.field]\r\n        if (!value) return\r\n\r\n        if (el.errorHandler && el.errorHandler(value)) return false\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return true\r\n\r\n        if (value?.length < el?.minLength) return true\r\n\r\n        if (typeof value !== 'string') value = value.toString()\r\n        if (el.pattern) return value.match(el.pattern) === null\r\n        else return false\r\n\r\n    }\r\n\r\n    const helper = (el) => {\r\n        let value = data[el.field]\r\n        if (!value) return ' '\r\n        if (el.errorHandler && el.errorHandler(value)) return '✓'\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return '✘'\r\n\r\n        if (value?.length < el?.minLength) return '✘'\r\n        if (value?.length >= el?.minLength) return '✓'\r\n\r\n        if (typeof value !== 'string') value = value.toString()\r\n        if (value > el.max || value < el.min) return 'Valor inválido'\r\n        else if (value.match(el.pattern) === null) return '✘'\r\n        else if (el.pattern && value.match(el.pattern) !== null) return '✓'\r\n        else return ' '\r\n    }\r\n\r\n    return (\r\n        <div className='flexColumn login'>\r\n            <h2 className='login__title'>CadTI - Cadastro do Transporte Intermunicipal - Seinfra MG</h2>\r\n            <div className='login__form paper'>\r\n                <header>\r\n                    <h4 className=\"header2 login__subtitle\">{title}</h4>\r\n                    {tab === 2 &&\r\n                        <h5 className='login__subtitle--forgotPassword'>\r\n                            Insira o e-mail cadastrado para recuperar a senha.\r\n                        </h5>}\r\n                </header>\r\n                <section className='flexColumn center'>\r\n                    {form.map(({ name, label, options, type = 'text', ...el }, i) => (\r\n                        <div className=\"input\" key={i}>\r\n                            <TextField\r\n                                id={name}\r\n                                name={name}\r\n                                label={label}\r\n                                value={data[name] || ''}\r\n                                onChange={handleInput}\r\n                                type={type}\r\n                                error={errorHandler(el)}\r\n                                helperText={helper(el)}\r\n                                InputProps={{ style: { width: '260px' } }}\r\n                                InputLabelProps={{ style: { fontSize: '10pt', color: '#223' } }}\r\n                                select={options ? true : false}\r\n                            >\r\n                                {options &&\r\n                                    options.map(({ optionLabel, optionValue }, i) =>\r\n                                        <MenuItem key={i} value={optionValue}>\r\n                                            {optionLabel}\r\n                                        </MenuItem>\r\n                                    )\r\n                                }\r\n                            </TextField>\r\n                        </div>\r\n                    ))}\r\n                    <CustomButton label={buttonLabel} onClick={handleSubmit} />\r\n                </section>\r\n                <footer className=\"login__footer\">\r\n                    <p onClick={() => tab === 0 ? changeTab(1) : changeTab(0)}>\r\n                        {tab === 0 ? 'Ainda não é cadastrado?' : 'Voltar para a tela de login'}\r\n                    </p>\r\n                    {\r\n                        tab === 0 &&\r\n                        <p onClick={() => changeTab(2)}>\r\n                            Esqueceu sua senha?\r\n                        </p>\r\n                    }\r\n                </footer>\r\n            </div>\r\n            {\r\n                browserNotCompatible &&\r\n                <SuggestedBrowsers />\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserAuthTemplate;","import { cpf } from \"../Forms/commonFields\"\r\n\r\nconst loginForm = [\r\n    {\r\n        name: 'email',\r\n        label: 'E-mail'\r\n    },\r\n    {\r\n        name: 'password',\r\n        label: 'Senha',\r\n        type: 'password'\r\n    },\r\n]\r\n\r\nconst signUpForm = [\r\n    {\r\n        name: 'name',\r\n        label: 'Nome Completo'\r\n    },\r\n    { ...cpf, name: 'cpf', field: 'cpf' },\r\n    ...loginForm,\r\n    {\r\n        name: 'confirmPassword',\r\n        label: 'Confirme sua senha',\r\n        type: 'password'\r\n    },\r\n    /*  {\r\n         name: 'role',\r\n         label: 'Perfil de usuário',\r\n         options: [\r\n             {\r\n                 optionLabel: 'Administrador',\r\n                 optionValue: 'admin'\r\n             },\r\n             {\r\n                 optionLabel: 'Delegatário',\r\n                 optionValue: 'empresa'\r\n             },\r\n             {\r\n                 optionLabel: 'Técnico Seinfra',\r\n                 optionValue: 'seinfra'\r\n             },\r\n         ]\r\n     } */\r\n]\r\n\r\nconst forgotPassForm = [\r\n    {\r\n        name: 'email',\r\n        label: 'E-mail'\r\n    },\r\n]\r\n\r\nconst userAuthForms = [\r\n    { title: 'Fazer login', form: loginForm, buttonLabel: 'entrar', endPoint: '/auth/login' },\r\n    { title: 'Cadastro de Usuário', form: signUpForm, buttonLabel: 'Cadastrar', endPoint: '/auth/signUp', toastMsg: 'Usuário cadastrado.' },\r\n    { title: 'Recuperação de senha', form: forgotPassForm, buttonLabel: 'Recuperar senha', endPoint: '/auth/forgotPassword', toastMsg: 'Senha enviada para o e-mail registrado.' }\r\n]\r\n\r\nexport default userAuthForms","//@ts-check\r\n/**\r\n * \r\n * @param {string} email \r\n * @returns {string} - message\r\n */\r\nconst confirmEmailMsg = (email, userId) => {\r\n    const host = document.baseURI\r\n\r\n    return `\r\n    <p>\r\n    O usuário ${email} foi criado com sucesso no Sistema de Cadastro do Transporte Intermunicipal da Seinfra-MG - CadTI.\r\n    </p>\r\n    <p>\r\n    Para confirmar o endereço de e-mail e liberar o acesso ao sistema, <a href= ${host}auth/verifyUser/${userId}> clique aqui </a>.\r\n    </p>\r\n    Caso não tenha feito o cadastro, favor desconsiderar essa mensagem.`\r\n}\r\n\r\nexport default confirmEmailMsg\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport UserAuthTemplate from \"./UserAuthTemplate\";\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport userAuthForms from \"./userAuthForms\";\r\nimport { logUser } from \"../Store/userActions\";\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { setCookie } from \"../Utils/documentCookies\";\r\nimport valueParser from \"../Utils/valueParser\";\r\nimport confirmEmailMsg from \"./confirmEmailMsg\";\r\n\r\nconst UserAuth = props => {\r\n\r\n  const\r\n    [state, setState] = useState({ tab: 0, ...userAuthForms[0] })\r\n    , { tab, endPoint, toastMsg, toastStatus, confirmToast } = state\r\n    , webBrowser = window.navigator.userAgent\r\n\r\n\r\n  useEffect(() => {\r\n    //Detecta o Browser do usuário e muda estado para renderizar sugestão caso não seja compatível\r\n    if (!webBrowser.match('Chrome'))\r\n      setState({ ...state, browserNotCompatible: true })\r\n    //eslint-disable-next-line\r\n  }, [])\r\n\r\n\r\n  const changeTab = tab => setState({ ...state, tab, ...userAuthForms[tab] })\r\n\r\n  const handleInput = e => {\r\n    const\r\n      { name, value } = e.target,\r\n      parsedValue = valueParser(name, value)\r\n\r\n    setState({ ...state, [name]: parsedValue })\r\n  }\r\n\r\n  const login = async () => {\r\n    //Efetua o login com as informações preenchidas pelo usuário\r\n    try {\r\n      await axios.post(endPoint, state)\r\n      //caso as credenciais (usuário/senha) estejam certas, um token foi armazenado. Faz-se então uma requisição GET dos dados do usuário\r\n      const\r\n        getUser = await axios.get('/getUser'),\r\n        userFound = getUser?.data\r\n      //Ao se descodificar o token, se as credenciais estiverem certas e o token válido, retorna o usuário, armazena na globalStore e cria cookie local.      \r\n\r\n      setCookie('loggedIn', true)\r\n      props.logUser(userFound)\r\n    }\r\n    catch (err) {\r\n      toast(err?.response?.data, 'error')\r\n    }\r\n  }\r\n\r\n  const signUp = async () => {\r\n    const { form, endPoint, confirmToast, toastMsg, ...request } = state\r\n    let\r\n      error,\r\n      tab = 1\r\n    if (request instanceof Object)\r\n      request.role = 'empresa'\r\n    const\r\n      { email, name } = request,\r\n      mail = {\r\n        to: email,\r\n        subject: 'Confirmação de e-mail',\r\n        vocativo: name\r\n      }\r\n\r\n    await axios.post(endPoint, request)\r\n      .then(r => {\r\n        const\r\n          userId = r?.data?.id,\r\n          message = confirmEmailMsg(email, userId)\r\n\r\n        mail.message = message\r\n        axios.post(`/alerts/mail`, mail)\r\n      })\r\n      .catch(err => {\r\n        toast(err?.response?.data, 'error')\r\n        error = true\r\n      })\r\n\r\n    if (!error) {\r\n      tab = 0\r\n      toast('Usuário cadastrado.')\r\n      setTimeout(() => setState({ tab, ...userAuthForms[tab] }), 1250)\r\n    }\r\n\r\n  }\r\n\r\n  const retrievePassword = async () => {\r\n    const\r\n      { email } = state\r\n      , recoveryMail = email\r\n\r\n    axios.post(endPoint, { recoveryMail })\r\n      .then(r => {\r\n        toast(r.data)\r\n        setTimeout(() => setState({ tab: 0, ...userAuthForms[0] }), 1250)\r\n      })\r\n      .catch(err => {\r\n        toast(err?.response?.data, 'error')\r\n      })\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    if (tab === 0)\r\n      login()\r\n\r\n    if (tab === 1)\r\n      signUp()\r\n    if (tab === 2)\r\n      retrievePassword()\r\n  }\r\n  //Tecla de atalho \"Enter\" para entrar\r\n  useEffect(() => {\r\n    const signIn = e => {\r\n      if (e.key === 'Enter')\r\n        handleSubmit()\r\n    }\r\n    document.addEventListener('keypress', signIn)\r\n    return () => document.removeEventListener('keypress', signIn)\r\n  })\r\n\r\n  const toast = (toastMsg, toastStatus) => setState({ ...state, confirmToast: !state.confirmToast, toastMsg, toastStatus })\r\n\r\n\r\n  return (\r\n    <>\r\n      <UserAuthTemplate\r\n        data={state}\r\n        handleInput={handleInput}\r\n        handleSubmit={handleSubmit}\r\n        changeTab={changeTab}\r\n      />\r\n      <ReactToast open={confirmToast} close={toast} msg={toastMsg} status={toastStatus} />\r\n    </>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    redux: {\r\n      ...state.user\r\n    }\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators({ logUser }, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserAuth)","const userTable = [\r\n    {\r\n        field: 'name',\r\n        title: 'Nome',\r\n        label: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpf',\r\n        title: 'CPF',\r\n        label: 'CPF',\r\n    },\r\n    {\r\n        field: 'email',\r\n        title: 'E-mail',\r\n        label: 'E-mail',\r\n    },\r\n    {\r\n        field: 'role',\r\n        name: 'role',\r\n        title: 'Perfil',\r\n        label: 'Perfil',\r\n        lookup: { admin: 'Administrador', tecnico: 'Técnico Seinfra', empresa: 'Delegatário' },\r\n        editable: 'always'\r\n    },\r\n]\r\n\r\nexport default userTable","import React from 'react'\r\nimport MaterialTable from 'material-table';\r\nimport userTable from './userTable';\r\nimport exportToXlsx from '../Consultas/exportToXlsx';\r\n\r\nexport default function ({ collection, showDetails, addUser, editUser, deleteUser }) {\r\n\r\n    if (!Array.isArray(collection)) collection = []\r\n    //collection = collection.map(obj => ({ ...obj }))\r\n    collection = Array.from(collection).sort((a, b) => a.name.localeCompare(b.name))\r\n\r\n    return (\r\n        <div style={{ margin: '10px 0' }} className='noPrint'>\r\n            <MaterialTable\r\n                title={`Gerenciar dados de usuários`}\r\n                columns={userTable}\r\n                data={collection}\r\n                style={{ fontFamily: 'Segoe UI', fontSize: '14px' }}\r\n                options={{\r\n                    filtering: true,\r\n                    exportButton: true,\r\n                    exportFileName: 'Usuários',\r\n                    exportCsv: (columns, data) => {\r\n                        //Altera os valores de role para fins de exportação p xls\r\n                        const\r\n                            roles = userTable.find(obj => obj.lookup)?.lookup,\r\n                            dataToExport = [...data]\r\n                        dataToExport.forEach(el => {\r\n                            Object.entries(roles).forEach(([k, v]) => {\r\n                                if (k === el?.role)\r\n                                    el.role = v\r\n                            })\r\n                        })\r\n                        exportToXlsx('Usuários', userTable, data)\r\n                    },\r\n                    actionsColumnIndex: -1,\r\n                    searchFieldStyle: { color: '#024', fontSize: '14px' },\r\n                    headerStyle: { backgroundColor: '#FAFAFC' },\r\n                    emptyRowsWhenPaging: false,\r\n                    pageSize: 20,\r\n                    rowStyle: {\r\n                        fontSize: '0.5rem',\r\n                    }\r\n                }}\r\n\r\n                localization={{\r\n                    header: { actions: 'Opções' },\r\n                    body: {\r\n                        emptyDataSourceMessage: 'Registro não encontrado.',\r\n                        editRow: { deleteText: 'Tem certeza que deseja apagar esse registro ?' },\r\n                        deleteTooltip: 'Apagar',\r\n                        addTooltip: 'Adicionar novo usuário',\r\n                        editTooltip: 'Editar',\r\n                        filterRow: { filterTooltip: 'Filtrar' }\r\n                    },\r\n                    toolbar: {\r\n                        searchTooltip: 'Procurar',\r\n                        searchPlaceholder: 'Procurar',\r\n                        exportCSVName: 'Salvar como arquivo do excel',\r\n                        exportAriaLabel: 'Exportar',\r\n                        exportTitle: 'Exportar para xlsx',\r\n                    },\r\n                    pagination: {\r\n                        labelRowsSelect: 'Resultados por página',\r\n                        labelDisplayedRows: ' {from}-{to} a {count}',\r\n                        firstTooltip: 'Primeira página',\r\n                        previousTooltip: 'Página anterior',\r\n                        nextTooltip: 'Próxima Página',\r\n                        lastTooltip: 'Última Página',\r\n                    }\r\n                }}\r\n                /* actions={[\r\n                    {\r\n                        icon: 'delete',\r\n                        onClick: (event, rowData) => {\r\n                            deleteUser(event, rowData)\r\n                        }\r\n                    }\r\n                ]} */\r\n                editable={{\r\n                    onRowAdd: newData =>\r\n                        new Promise((resolve, reject) => {\r\n                            setTimeout(() => {\r\n                                addUser(newData)\r\n                                resolve()\r\n                            }, 1000)\r\n                        }),\r\n                    onRowUpdate: (newData, oldData) =>\r\n                        new Promise((resolve, reject) => {\r\n                            setTimeout(() => {\r\n                                const dataUpdate = [...collection];\r\n                                const index = oldData.tableData.id;\r\n                                dataUpdate[index] = newData;\r\n                                editUser(newData);\r\n                                resolve();\r\n                            }, 500)\r\n                        }),\r\n                    //isEditable: rowData => rowData.name === 'role', // only name(a) rows would be editable\r\n                    onRowDelete: oldData =>\r\n                        new Promise((resolve, reject) => {\r\n                            setTimeout(() => {\r\n                                deleteUser(oldData)\r\n\r\n                                resolve();\r\n                            }, 1000);\r\n                        })\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport UsersTemplate from './UsersTemplate'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport removePDF from '../Utils/removePDFButton'\r\n\r\nconst Users = props => {\r\n\r\n    const\r\n        { users, socios } = props.redux,\r\n        [state, setState] = useState({ confirmToast: false })\r\n\r\n    //Desabilita opção de exportar como PDF do material-table\r\n    useEffect(() => {\r\n        removePDF()\r\n        return () => removePDF(true)\r\n    }, [])\r\n\r\n    const addUser = async user => {\r\n\r\n        const\r\n            { cpf } = user,\r\n            socio = socios.find(s => s.cpfSocio === cpf)\r\n\r\n        if (socio)\r\n            user.empresas = [socio.codigoEmpresa]\r\n\r\n        axios.post('/users/addUser', user)\r\n            .then(r => console.log(r.data))\r\n            .catch(err => toast(err?.response?.data || 'Erro'))\r\n    }\r\n    const editUsers = user => {\r\n        axios.put('/users/editUser', user)\r\n            .then(r => console.log(r.data))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    const deleteUser = user => {\r\n        const { id } = user\r\n        axios.delete(`/users/deleteUser?id=${id}`)\r\n            .then(r => console.log(r.data))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    const\r\n        { confirmToast } = state,\r\n        toast = (toastMsg, toastStatus) => setState({ ...state, confirmToast: !confirmToast, toastMsg, toastStatus })\r\n\r\n    return (\r\n        <div>\r\n            <UsersTemplate\r\n                collection={users}\r\n                addUser={addUser}\r\n                editUser={editUsers}\r\n                deleteUser={deleteUser}\r\n            />\r\n            <ReactToast open={confirmToast} close={toast} msg={state.toastMsg} status='warning' />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst collection = ['users', 'socios']\r\n\r\nexport default StoreHOC(collection, Users)\r\n","export const editAccountForm = [\r\n    {\r\n        field: 'name',\r\n        label: 'Nome e sobrenome',\r\n    },\r\n    {\r\n        field: 'cpf',\r\n        label: 'CPF',\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'email',\r\n        label: 'E-mail',\r\n        type: 'email'\r\n    },\r\n    {\r\n        field: 'password',\r\n        label: 'Alterar senha',\r\n        type: 'password'\r\n    },\r\n    {\r\n        field: 'confirmPassword',\r\n        label: 'Confirme a nova senha',\r\n        type: 'password'\r\n    }\r\n]","import React from 'react'\r\nimport { editAccountForm as form } from '../Forms/editAccountForm'\r\nimport CustomButton from '../Reusable Components/CustomButton'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport './editAccount.scss'\r\n\r\n/**\r\n * \r\n * @param {object } data\r\n *\r\n * @returns \r\n */\r\nconst EditAccountTemplate = ({ data, handleInput, handleSubmit }) => {\r\n    const { modified } = data\r\n    return (\r\n        <div className='flexColumn center editAccount__container'>\r\n            <header className=\"selectHeader\">\r\n                <h4 className='parametrosTitle'>Alterar dados da conta</h4>\r\n                <FormSubtiltle\r\n                    subtitle={`Caso deseje alterar apenas a senha, insira apenas a senha e a confirmação. Não é necessário informar a senha para alterar os demais dados da conta.`}\r\n                />\r\n            </header>\r\n            <main className='configForm'>\r\n                <TextInput\r\n                    form={form}\r\n                    data={data}\r\n                    handleInput={handleInput}\r\n                    style={{ width: '100%', flexDirection: 'column' }}\r\n                />\r\n            </main>\r\n            <div style={{ minHeight: '60px', position: 'flex' }}>\r\n                <CustomButton\r\n                    action='save'\r\n                    onClick={handleSubmit}\r\n                    disabled={!modified}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditAccountTemplate\r\n\r\n","import axios from 'axios'\r\nimport React, { useState, useEffect } from 'react'\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport EditAccountTemplate from './EditAccountTemplate'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport { connect } from 'react-redux'\r\nimport { editUser } from '../Store/userActions'\r\n\r\nconst EditAccount = props => {\r\n\r\n    const\r\n        data = props.user,\r\n        [state, setState] = useState({ initState: { confirmToast: false }, modified: false }),\r\n        { toastMsg, toastStatus, confirmToast } = state\r\n\r\n\r\n    useEffect(() => {\r\n        if (data instanceof Object)\r\n            setState({ ...state, ...data, initState: data })\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    /**\r\n     * @param {{ target: { name: any; value: any; }; }} e\r\n     */\r\n    function handleInput(e) {\r\n        const\r\n            { name, value } = e.target\r\n            , modified = checkForChanges(name, value)\r\n\r\n        setState({ ...state, [name]: value, modified })\r\n    }\r\n\r\n    const checkForChanges = (name, value, newArray) => {\r\n        const { initState } = state\r\n        let\r\n            modified = false,\r\n            stateChanged,\r\n            fieldChanged,\r\n            passChanged,\r\n            changedArray\r\n\r\n        if (name === 'confirmPassword')\r\n            modified = state.modified\r\n        //Se for passada uma array, compara a array com a array inicial do estado\r\n        if (newArray)\r\n            changedArray = initState.toString() !== newArray.toString()\r\n\r\n        //Senão, compara cada campo input (...com props spreaded no state) com o estado inicial\r\n        else {\r\n            Object.keys(initState).forEach(k => {\r\n                if (state[k] && initState[k])\r\n                    if (k !== name && state[k].toString() !== initState[k].toString())\r\n                        stateChanged = true\r\n            })\r\n            fieldChanged = initState[name] && initState[name].toString() !== value\r\n            passChanged = name === 'password' && state[name] && value !== ''\r\n        }\r\n\r\n        if (fieldChanged || stateChanged || changedArray || passChanged)\r\n            modified = true\r\n        return modified\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        const\r\n            modified = checkForChanges(null, null, state),\r\n            { name, cpf, email, password, confirmPassword } = state,\r\n            requestObj = { name, cpf, email, password }\r\n\r\n        if (password !== confirmPassword) {\r\n            toast('Senhas não conferem', 'error')\r\n            return\r\n        }\r\n\r\n        requestObj.id = state._id\r\n        axios\r\n            .put('/users/editUser', requestObj)\r\n            .then(r => {\r\n                if (r.status === 200) {\r\n                    toast(r.data)\r\n                    props.editUser({ name, email })\r\n                    setTimeout(() => {\r\n                        setState({\r\n                            ...state,\r\n                            initState: state,\r\n                            modified,\r\n                            password: undefined,\r\n                            confirmPassword: undefined\r\n                        })\r\n                    }, 1200);\r\n                }\r\n            })\r\n            .catch(err => toast(err.message, 'error'))\r\n    }\r\n\r\n    const toast = (toastMsg, toastStatus) => setState({ ...state, confirmToast: !state.confirmToast, toastMsg, toastStatus })\r\n\r\n    return (\r\n        <>\r\n            <EditAccountTemplate\r\n                data={state}\r\n                handleInput={handleInput}\r\n                handleSubmit={handleSubmit}\r\n            />\r\n            <ReactToast open={confirmToast} close={toast} msg={toastMsg} status={toastStatus} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect(null, { editUser })(StoreHOC([], EditAccount))\r\n","const compartilhamentoForm = [\r\n    {\r\n        field: 'placa',\r\n        label: 'Placa',\r\n        autoComplete: true,\r\n        collection: 'frota',\r\n    },\r\n    {\r\n        field: 'renavam',\r\n        label: 'Renavam',\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'nChassi',\r\n        label: 'Número do Chassi',\r\n        maxLength: 17,\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilização',\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloChassi',\r\n        label: 'Modelo do Chassi',\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloCarroceria',\r\n        label: 'Modelo da Carroceria',\r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'compartilhado',\r\n        label: 'Delegatário Compartilhado',\r\n        itemProp: 'razaoSocial',\r\n        autoComplete: true,\r\n        collection: 'compartilhados'\r\n    }\r\n]\r\n\r\nexport default compartilhamentoForm\r\n","export const compartilhamentoFiles = [\r\n    { title: 'Contrato de Compartilhamento', name: 'contratoCompartilhamento' },\r\n    { title: 'Declaração de Responsabilidade de Manutenção', name: 'declaracao' }\r\n]","import React from 'react'\r\n\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\n\r\nimport compartilhamentoForm from '../Forms/compartilhamentoForm'\r\nimport { compartilhamentoFiles } from '../Forms/compatilhamentoFiles'\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport CustomButton from '../Reusable Components/CustomButton'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport TextArea from '../Reusable Components/TextArea'\r\nimport TextInput from '../Reusable Components/TextInput'\r\n\r\nimport styles from './compartilhamento.module.scss'\r\n\r\nconst CompartilhamentoTemplate = ({ data, redux, handleInput, handleFiles, removeFile, handleSubmit, toggleAcceptTerms }) => {\r\n\r\n    const\r\n        { empresas, compartilhados } = redux\r\n        , { razaoSocial, selectedEmpresa, motivoCompartilhamento, form, demand, compartilhamentoRemoved,\r\n            termsAccepted, demandFiles, fileToRemove } = data\r\n        , reviewForm = compartilhamentoForm.map(e => ({ ...e, disabled: true }))\r\n        , { termoCiencia__div, termoCiencia__text } = styles\r\n\r\n    return (\r\n        <>\r\n            <header>\r\n                <Crumbs links={['Veículos', '/veiculos']} text='Gerenciar compartilhamento de Veículos' demand={demand} />\r\n                <SelectEmpresa\r\n                    empresas={empresas}\r\n                    data={{ razaoSocial, demand }}\r\n                    handleInput={handleInput}\r\n                />\r\n            </header>\r\n            {\r\n                selectedEmpresa &&\r\n                <>\r\n                    <main className='paper' style={{ margin: '0.5rem 0' }}>\r\n                        <FormSubtiltle subtitle={!demand ? 'Insira a placa do veículo para gerenciar seu compartilhamento.' : 'Informações do veículo e do compartilhamento'} />\r\n                        {\r\n                            compartilhamentoRemoved &&\r\n                            <p className='smallFont' style={{ color: 'red' }}>\r\n                                *Solicitação de término do compartilhamento\r\n                            </p>\r\n                        }\r\n                        <TextInput\r\n                            form={!demand ? compartilhamentoForm : reviewForm}\r\n                            data={data}\r\n                            empresas={empresas}\r\n                            compartilhados={compartilhados}\r\n                            handleInput={handleInput}\r\n                        />\r\n                        <section className='flexColumn' style={{ margin: '0 6rem' }}>\r\n                            <TextArea\r\n                                label={!compartilhamentoRemoved ? 'Motivo do compartilhamento' : ' Motivo do término do compartilhamento'}\r\n                                name='motivoCompartilhamento'\r\n                                id='motivoCompartilhamento'\r\n                                disabled={false}\r\n                                onChange={handleInput}\r\n                                value={motivoCompartilhamento}\r\n                                rows='2'\r\n                            />\r\n                        </section>\r\n                        <section className='flexColumn'>\r\n                            <div style={{ margin: '3rem 0 0 0' }}>\r\n                                <FormSubtiltle\r\n                                    subtitle={!demand ? 'Anexe os arquivos solicitados.' : 'Documentos'}\r\n                                    style={{ margin: 0 }}\r\n                                />\r\n                            </div>\r\n                            <div className='flex' style={{ margin: '0 0 0 6rem' }}>\r\n                                {\r\n                                    !demand ?\r\n                                        compartilhamentoFiles.map(({ name, title }, i) =>\r\n                                            <DragAndDrop\r\n                                                key={i}\r\n                                                name={name}\r\n                                                formData={form}\r\n                                                dropDisplay={`Clique ou arraste para anexar o ${title} `}\r\n                                                handleFiles={handleFiles}\r\n                                                removeFile={removeFile}\r\n                                                fileToRemove={fileToRemove}\r\n                                                style={{ width: '490px', marginRight: i === 0 ? '12px' : 0 }}\r\n                                            />\r\n                                        )\r\n                                        :\r\n                                        <ShowLocalFiles\r\n                                            demandFiles={demandFiles}\r\n                                            form={compartilhamentoFiles}\r\n                                            files={form}\r\n                                            collection='vehicleDocs'\r\n                                        />\r\n                                }\r\n                            </div>\r\n                        </section>\r\n                        <section className={termoCiencia__div}>\r\n                            <FormControlLabel\r\n                                control={\r\n                                    <Checkbox\r\n                                        checked={termsAccepted === true}\r\n                                        onChange={() => toggleAcceptTerms()}\r\n                                        value={termsAccepted}\r\n                                    />\r\n                                }\r\n                                label={\r\n                                    <span className={termoCiencia__text}>\r\n                                        Estou ciente de que a utilização de veículos de terceiros é autorizada desde que o veículo seja cadastrado na Superintendência de Transporte Intermunicipal, apresentando o Certificado de Registro da SEINFRA vigente,  e com as características necessárias para utilização naquela linha.\r\n                                    </span>\r\n                                }\r\n                            />\r\n\r\n                        </section>\r\n\r\n                    </main>\r\n                    <footer>\r\n                        <CustomButton\r\n                            label={!demand ? 'Enviar' : 'Aprovar'}\r\n                            onClick={() => !demand ? handleSubmit() : handleSubmit(true)}\r\n                            disabled={!demand && !termsAccepted}\r\n                        />\r\n                        {\r\n                            demand &&\r\n                            <CustomButton\r\n                                label='Indeferir'\r\n                                color='secondary'\r\n                                onClick={() => handleSubmit(false)}\r\n                            />\r\n                        }\r\n                    </footer>\r\n                </>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CompartilhamentoTemplate\r\n","import axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport CompartilhamentoTemplate from './CompartilhamentoTemplate'\r\nimport { compartilhamentoFiles } from '../Forms/compatilhamentoFiles'\r\nimport { handleFiles as globalHandleFiles, removeFile as deleteFiles } from '../Utils/handleFiles'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport compartilhamentoForm from '../Forms/compartilhamentoForm'\r\n\r\n\r\nconst Compartilhamento = props => {\r\n\r\n    const\r\n        { empresas, compartilhados, veiculos, vehicleDocs } = props.redux\r\n        , [state, setState] = useState(\r\n            {\r\n                confirmToast: false,\r\n                compartilhadoAtual: null,\r\n                termsAccepted: false\r\n            }\r\n        )\r\n        , demand = props?.location?.state?.demand\r\n\r\n    useEffect(() => {\r\n        if (empresas && empresas.length === 1)\r\n            setState({ ...state, selectedEmpresa: empresas[0], razaoSocial: empresas[0]?.razaoSocial, frota: veiculos })\r\n\r\n        if (demand?.history) {\r\n            const\r\n                { empresaId, veiculoId } = demand\r\n                , { motivoCompartilhamento, compartilhado, compartilhadoId, files, compartilhamentoRemoved } = demand.history.length && demand.history[0]\r\n                , selectedEmpresa = empresas.find(e => e.codigoEmpresa === empresaId)\r\n                , frota = veiculos.filter(v => v.codigoEmpresa === empresaId)\r\n                , vehicle = frota.find(v => v.veiculoId === veiculoId)\r\n\r\n            let demandFiles\r\n            if (files)\r\n                demandFiles = vehicleDocs.filter(doc => files.includes(doc.id))\r\n            setState({\r\n                ...state, ...vehicle, selectedEmpresa, demand, demandFiles, razaoSocial: selectedEmpresa.razaoSocial,\r\n                motivoCompartilhamento, compartilhado, compartilhadoId, compartilhamentoRemoved\r\n            })\r\n        }\r\n        return () => void 0\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [empresas, demand])\r\n\r\n    const handleInput = e => {\r\n        const { name, value } = e.target\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n                const selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n                if (selectedEmpresa) {\r\n                    const frota = veiculos.filter(v => v.codigoEmpresa === selectedEmpresa.codigoEmpresa)\r\n                    setState({ ...state, selectedEmpresa, frota, razaoSocial: selectedEmpresa.razaoSocial, [name]: value })\r\n                }\r\n                else\r\n                    setState({ ...state, [name]: value })\r\n                break\r\n\r\n            case 'placa':\r\n                const\r\n                    vehicle = veiculos.find(v => v.placa === value)\r\n                    , compartilhadoAtual = vehicle?.compartilhado || ''\r\n\r\n                if (vehicle)\r\n                    setState({ ...state, ...vehicle, compartilhadoAtual, [name]: value })\r\n                else\r\n                    setState({ ...state, compartilhadoAtual: undefined, [name]: value })\r\n                break\r\n\r\n            case 'compartilhado':\r\n                const compartilhado = compartilhados.find(dc => dc.razaoSocial === value && value !== '')\r\n                if (compartilhado) {\r\n                    const { codigoEmpresa, razaoSocial } = compartilhado\r\n                    setState({ ...state, compartilhadoId: codigoEmpresa, compartilhado: razaoSocial, compartilhamentoRemoved: false, [name]: value })\r\n                }\r\n                else if (!value) {\r\n                    const compartilhamentoRemoved = state.compartilhadoAtual && !value\r\n                    setState({ ...state, compartilhadoId: undefined, compartilhado: undefined, compartilhamentoRemoved, [name]: value })\r\n                }\r\n                else\r\n                    setState({ ...state, [name]: value })\r\n                break\r\n            default:\r\n                setState({ ...state, [name]: value })\r\n        }\r\n    }\r\n\r\n    const handleFiles = (files, name) => {\r\n        if (files && files[0]) {\r\n            const\r\n                fileObj = { ...state, [name]: files[0] },\r\n                newState = globalHandleFiles(files, fileObj, compartilhamentoFiles)\r\n            setState({ ...state, ...newState, [name]: files[0], fileToRemove: null })\r\n        }\r\n    }\r\n\r\n    const removeFile = async (name) => {\r\n        const\r\n            { form } = state,\r\n            newState = deleteFiles(name, form)\r\n        setState({ ...state, ...newState })\r\n    }\r\n    const createLog = ({ demand, approved }) => {\r\n        const\r\n            { selectedEmpresa, compartilhadoId, compartilhado, motivoCompartilhamento, info, form, veiculoId, compartilhamentoRemoved } = state,\r\n            { codigoEmpresa } = selectedEmpresa\r\n        let log\r\n\r\n        //Se não houver demanda, criar demanda/log\r\n        if (!demand) {\r\n            const infoKey = compartilhamentoRemoved ? 'Motivo do término do compartilhamento' : 'Motivo do compartilhamento'\r\n            log = {\r\n                history: {\r\n                    info: `${infoKey}: ${motivoCompartilhamento}`,\r\n                    motivoCompartilhamento,\r\n                    files: form,\r\n                    compartilhadoId,\r\n                    compartilhado,\r\n                    compartilhamentoRemoved\r\n                },\r\n                metadata: { veiculoId },\r\n                empresaId: codigoEmpresa,\r\n                veiculoId,\r\n                historyLength: 0,\r\n                approved\r\n            }\r\n            if (approved === false)\r\n                log.declined = true\r\n        }\r\n\r\n\r\n        //Se houver demand, mas for rejeitada, indeferir demanda\r\n        if (demand && approved === false) {\r\n            const { id, empresaId } = demand\r\n            log = {\r\n                id,\r\n                empresaId,\r\n                history: {\r\n                    info\r\n                },\r\n                declined: true\r\n            }\r\n        }\r\n        //Se aprovado\r\n        if (demand && approved === true) {\r\n            const\r\n                { id } = demand,\r\n                { demandFiles } = state\r\n            log = {\r\n                id,\r\n                veiculoId,\r\n                demandFiles,\r\n                history: {},\r\n                approved\r\n            }\r\n        }\r\n        return log\r\n    }\r\n\r\n    const handleSubmit = approved => {\r\n\r\n        const log = createLog({ demand, approved })\r\n        logGenerator(log)\r\n            .then(r => console.log(r?.data))\r\n            .catch(err => console.log(err))\r\n\r\n        let toastMsg\r\n\r\n        if (approved) {\r\n            //A string 'NULL' é interpretada no backEnd como a inteção de remover o compartilhamento\r\n            let compartilhado_id = state.compartilhadoId\r\n            if (!compartilhado_id)\r\n                compartilhado_id = 'NULL'\r\n\r\n            const\r\n                request = axios.create({\r\n                    baseURL: '/api',\r\n                })\r\n                , requestObj = {\r\n                    table: 'veiculos',\r\n                    tablePK: 'veiculo_id',\r\n                    id: demand.veiculoId,\r\n                    requestObject: { veiculo_id: demand.veiculoId, compartilhado_id }\r\n                }\r\n            request.put('/updateVehicle', requestObj)\r\n                .catch(e => console.log(e))\r\n                .then(r => console.log(r))\r\n            toastMsg = 'Compartilhamento de veículo aprovado.'\r\n        }\r\n        else if (approved === false)\r\n            toastMsg = 'Solicitação indeferida.'\r\n        else if (!approved)\r\n            toastMsg = 'Solicitação enviada.'\r\n\r\n        //Refresh do state ou volta para a página de solicitações\r\n        if (demand)\r\n            setTimeout(() => {\r\n                props.history.push('/solicitacoes')\r\n            }, 1500);\r\n        else\r\n            setTimeout(() => { resetState() }, 900);\r\n        toast(toastMsg)\r\n\r\n    }\r\n    const resetState = () => {\r\n        const resetForm = {}\r\n        let clearedState = {}\r\n\r\n        compartilhamentoForm.forEach(({ field }) => {\r\n            Object.assign(resetForm, { [field]: undefined })\r\n        })\r\n\r\n        //Se for só uma empresa, volta para o estado inicial (componentDidMount) para procuradores de apenas uma empresa\r\n        if (empresas && empresas.length === 1)\r\n            clearedState = { ...empresas[0], selectedEmpresa: empresas[0] }\r\n\r\n        setState({\r\n            ...resetForm, razaoSocial: '', selectedEmpresa: undefined, form: undefined,\r\n            fileToRemove: undefined, ...clearedState, motivoCompartilhamento: ''\r\n        })\r\n    }\r\n\r\n    const toast = toastMsg => setState({ ...state, confirmToast: !state.confirmToast, toastMsg })\r\n    const toggleAcceptTerms = () => setState({ ...state, termsAccepted: !state.termsAccepted })\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <CompartilhamentoTemplate\r\n                    redux={props.redux}\r\n                    data={state}\r\n                    handleInput={handleInput}\r\n                    handleFiles={handleFiles}\r\n                    removeFile={removeFile}\r\n                    handleSubmit={handleSubmit}\r\n                    toggleAcceptTerms={toggleAcceptTerms}\r\n                />\r\n                <ReactToast open={state.confirmToast} close={toast} msg={state.toastMsg} />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'compartilhados', 'getFiles/vehicleDocs'];\r\n\r\nexport default StoreHOC(collections, Compartilhamento)\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport Icon from '@material-ui/core/Icon'\r\n\r\n\r\nconst CustomButton2 = (\r\n    {\r\n        size = 'small',\r\n        variant = 'contained',\r\n        color = 'primary',\r\n        style = {},\r\n        label = 'add a label',\r\n        iconName,\r\n        onClick\r\n    }) => {\r\n\r\n    return (\r\n        <Button\r\n            size={size}\r\n            variant={variant}\r\n            color={color}\r\n            style={{ marginTop: '1rem', ...style }}\r\n            onClick={onClick}\r\n        >\r\n            {\r\n                iconName &&\r\n                <Icon>\r\n                    {iconName}\r\n                </Icon>\r\n            }\r\n            <span style={{ margin: '0.1rem 0 0 0.4rem' }}>\r\n                {label}\r\n            </span>\r\n        </Button>\r\n    )\r\n}\r\n\r\nexport default CustomButton2\r\n","const moment = require('moment')\r\n\r\nexport const tableGenerator = (tableData, tableHeaders) => {\r\n\r\n    let tableString = '', tHeader = '<tr>'\r\n\r\n    tableHeaders.forEach(h => {\r\n        tHeader += `<th>${h}</th>`\r\n    });\r\n    tHeader += `</tr>`\r\n\r\n    tableData.forEach((el, i) => {\r\n        tableString += `<tr>\r\n\r\n        `\r\n        const data = Object.entries(el)\r\n        data.forEach(([k, v]) => {\r\n            if (k === 'vencimento' || k === 'validade')\r\n                v = moment(v).format('DD/MM/YYYY')\r\n            if (v instanceof Array)\r\n                v = v.join().replace(/,/g, ', ')\r\n            tableString += ` <td>${v}</td> `\r\n        })\r\n        tableString += `</tr>\r\n        `\r\n    })\r\n\r\n    const table = tHeader + tableString\r\n    return table\r\n\r\n}\r\n","import React from 'react'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport { tableGenerator } from './tableGenerator'\r\nimport './aviso.scss'\r\n\r\nconst Aviso = ({ aviso, close }) => {\r\n    const\r\n        { message, vocativo } = aviso\r\n        , { intro, tableData, tableHeaders, tip, tipPath, footer } = message\r\n\r\n\r\n    const table = tableGenerator(tableData, tableHeaders)\r\n        .replace(/<th>/g, '<th class= \"aviso__th\">')\r\n        .replace(/<td>/g, '<th class= \"aviso__td\">')\r\n\r\n    return (\r\n        <div className=\"popUpWindow aviso__body\" style={{ left: '20%', right: '20%' }}>\r\n            <h3 className='aviso__title'>\r\n                A/C {vocativo}:\r\n            </h3>\r\n            <br />\r\n            <p>\r\n                {intro}\r\n            </p>\r\n            <br />\r\n            <table className='aviso__table' dangerouslySetInnerHTML={{ __html: table }} />\r\n\r\n            <br />\r\n            <p>\r\n                {tip}, acesse {tipPath}\r\n            </p>\r\n            {footer}\r\n            <ClosePopUpButton close={close} />\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Aviso\r\n","const avisosTable = [\r\n    {\r\n        field: 'from',\r\n        title: 'Remetente',\r\n        label: 'Remetente',\r\n        render: rowData => rowData.from ? rowData.from : 'Aviso automático do sistema'\r\n    },\r\n    {\r\n        field: 'vocativo',\r\n        title: 'Destinatário',\r\n        label: 'Destinatário',\r\n    },\r\n    {\r\n        field: 'subject',\r\n        title: 'Assunto',\r\n        label: 'Assunto',\r\n    },\r\n    {\r\n        field: 'read',\r\n        title: 'Lida',\r\n        label: 'Status',\r\n        hidden: true\r\n    },\r\n    {\r\n        field: 'createdAt',\r\n        title: 'Data de criação do aviso',\r\n        label: 'Data de criação do aviso',\r\n        type: 'date',\r\n        format: value => value ? value : 'Nenhuma data informada'\r\n    },\r\n]\r\n\r\nexport default avisosTable","import React from 'react'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport './aviso.scss'\r\n\r\nconst CustomAviso = ({ aviso, close }) => {\r\n    const { from, vocativo, message } = aviso\r\n\r\n    return (\r\n        <div\r\n            className=\"popUpWindow aviso__body\"\r\n            style={{ left: '20%', right: '20%' }}\r\n        >\r\n            <h3 className='aviso__title'>\r\n                A/C {vocativo}:\r\n            </h3>\r\n            <br />\r\n            <div dangerouslySetInnerHTML={{ __html: message }} >\r\n            </div>\r\n            <br />\r\n            <p>\r\n                Att,\r\n                <br />\r\n                {from}.\r\n            </p>\r\n            <ClosePopUpButton close={close} />\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default CustomAviso\r\n","import DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport MaterialTable, { MTableBodyRow } from 'material-table'\r\nimport React from 'react'\r\nimport exportToXlsx from '../Consultas/exportToXlsx'\r\nimport CheckBoxFilter from '../Reusable Components/CheckBoxFilter';\r\nimport CustomButton2 from '../Reusable Components/CustomButton2';\r\nimport Aviso from './Aviso'\r\nimport styles from './avisos.module.scss'\r\nimport './avisos.scss'\r\nimport avisosTable from './avisosTable'\r\nimport CustomAviso from './CustomAviso';\r\n\r\n\r\nconst { container, tableContainer, avisosHeader, avisosHeaderAdmin } = styles\r\n\r\nconst AvisosTemplate = props => {\r\n    const\r\n        { data, openAviso, close, formatDataToExport, toggleReadMessage, confirmDelete, toggleSelect,\r\n            showUnreadOnly, toggleNewAviso, defaultFrom, userRole } = props\r\n        , { avisos, showAviso, aviso, rowsSelected, allAreUnread, unreadOnly } = data\r\n        , adminView = userRole === 'admin' || userRole === 'tecnico'\r\n\r\n    let avisosTableToRender = avisosTable\r\n    if (!adminView)\r\n        avisosTableToRender = avisosTable && avisosTable.filter(a => a.field !== 'vocativo')\r\n\r\n    return (\r\n        <>\r\n            <header className={adminView ? avisosHeaderAdmin : avisosHeader}>\r\n                {\r\n                    adminView &&\r\n                    <CustomButton2\r\n                        variant=\"outlined\"\r\n                        iconName='add'\r\n                        label='novo aviso'\r\n                        className='none'\r\n                        onClick={toggleNewAviso}\r\n                    />\r\n                }\r\n                <CheckBoxFilter\r\n                    title='Mostrar somente avisos não lidos'\r\n                    checked={unreadOnly}\r\n                    toggleChecked={showUnreadOnly}\r\n                />\r\n            </header>\r\n            <main className={container}>\r\n                <div className={tableContainer}>\r\n                    <MaterialTable\r\n                        title={`Avisos`}\r\n                        columns={avisosTableToRender}\r\n                        data={avisos}\r\n                        components={{\r\n                            Row: props => {\r\n                                const\r\n                                    propsCopy = { ...props }\r\n                                    , { data, actions } = propsCopy\r\n\r\n                                const markAsReadAction = actions.find(a => a.name === 'markAsRead');\r\n                                if (data.read === true) {\r\n                                    markAsReadAction.icon = 'draftsOutlinedIcon'\r\n                                    markAsReadAction.iconProps = { color: 'disabled', zindex: 11 }\r\n                                }\r\n                                else {\r\n                                    markAsReadAction.iconProps = { color: 'primary', zindex: 11 }\r\n                                    markAsReadAction.icon = 'mailOutlined'\r\n                                }\r\n                                //propsCopy.actions.find(a => a.name === 'remove').disabled = propsCopy.data.id < 100;\r\n                                return <MTableBodyRow\r\n                                    {...propsCopy}\r\n                                />\r\n                            }\r\n                        }}\r\n                        onRowClick={openAviso}\r\n                        style={{ fontFamily: 'Segoe UI', fontSize: '14px' }}\r\n                        icons={{\r\n                            Delete: React.forwardRef((props, ref) => (\r\n                                <DeleteOutlineIcon style={{ color: \"red\" }} {...props} ref={ref} />\r\n                            ))\r\n                        }}\r\n                        options={{\r\n                            filtering: true,\r\n                            selection: true,\r\n                            selectionProps: {},\r\n                            search: rowsSelected ? false : true,\r\n                            exportFileName: 'avisos',\r\n                            exportButton: true,\r\n                            exportCsv: (columns, data) => {\r\n                                const dataToExport = formatDataToExport(data)\r\n                                exportToXlsx('avisos', avisosTable, dataToExport)\r\n                            },\r\n                            rowStyle: rowData => {\r\n                                return { fontWeight: rowData.read ? 400 : 600 }\r\n                            },\r\n                            actionsColumnIndex: -1,\r\n                            searchFieldStyle: { color: '#024', fontSize: '14px' },\r\n                            headerStyle: { backgroundColor: '#FAFAFC' },\r\n                            emptyRowsWhenPaging: false,\r\n                            pageSize: 20,\r\n\r\n                        }}\r\n                        onSelectionChange={rows => toggleSelect(rows)}\r\n                        localization={{\r\n                            header: { actions: 'Opções' },\r\n                            body: {\r\n                                emptyDataSourceMessage: 'Nenhum aviso encontrado.',\r\n                                editRow: { deleteText: 'Tem certeza que deseja apagar esse registro ?' },\r\n                                deleteTooltip: 'Apagar',\r\n                                filterRow: { filterTooltip: 'Filtrar' }\r\n                            },\r\n                            toolbar: {\r\n                                searchTooltip: 'Procurar',\r\n                                searchPlaceholder: 'Procurar',\r\n                                nRowsSelected: '{0} avisos selecionados',\r\n                                exportCSVName: 'Salvar como arquivo do excel',\r\n                                exportAriaLabel: 'Exportar',\r\n                                exportTitle: 'Exportar'\r\n                            },\r\n                            pagination: {\r\n                                labelRowsSelect: 'Resultados por página',\r\n                                labelDisplayedRows: ' {from}-{to} a {count}',\r\n                                firstTooltip: 'Primeira página',\r\n                                previousTooltip: 'Página anterior',\r\n                                nextTooltip: 'Próxima Página',\r\n                                lastTooltip: 'Última Página',\r\n                            }\r\n                        }}\r\n                        actions={[\r\n                            {\r\n                                name: 'markAsRead',\r\n                                icon: rowsSelected && allAreUnread ? 'draftsOutlinedIcon' : 'mailOutlined',\r\n                                tooltip: rowsSelected && allAreUnread ? 'Marcar como lida' : 'Marcar como não lida',\r\n                                onClick: (event, data) => toggleReadMessage(data),\r\n                                position: rowsSelected ? 'auto' : 'row'\r\n                                //iconProps: { color: data?.tableData?.read ? 'disabled' : 'primary' },\r\n                                //tooltip: !rowData.read ? 'Marcar como lida' : 'Marcar como não lida',                                 \r\n                            },\r\n                            {\r\n                                name: 'remove',\r\n                                icon: 'deleteOutline',\r\n                                iconProps: { color: 'error' },\r\n                                tooltip: 'Apagar aviso',\r\n                                position: rowsSelected ? 'auto' : 'row',\r\n                                onClick: (event, rowData) => confirmDelete(rowData)\r\n                            }\r\n                        ]}\r\n                    />\r\n\r\n                    {showAviso ?\r\n                        aviso.from === defaultFrom || !aviso.from ?\r\n                            <Aviso\r\n                                aviso={aviso}\r\n                                close={close}\r\n                            />\r\n                            :\r\n                            <CustomAviso\r\n                                aviso={aviso}\r\n                                close={close}\r\n                            />\r\n                        :\r\n                        null\r\n                    }\r\n                </div>\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AvisosTemplate\r\n\r\n","const avisoInputs = [\r\n    {\r\n        label: 'De',\r\n        field: 'from',\r\n        disabled: true\r\n    },\r\n    /*   {\r\n          label: 'Para',\r\n          field: 'to',\r\n          autoComplete: true,\r\n          collection: 'empresas',\r\n          itemProp: 'razaoSocial'\r\n      }, */\r\n    {\r\n        label: 'Assunto',\r\n        field: 'subject'\r\n    }\r\n]\r\n\r\nexport default avisoInputs\r\n","import React from \"react\";\r\nimport { Quill } from \"react-quill\";\r\n\r\n// Custom Undo button icon component for Quill editor. You can import it directly\r\n// from 'quill/assets/icons/undo.svg' but I found that a number of loaders do not\r\n// handle them correctly\r\nconst CustomUndo = () => (\r\n    <svg viewBox=\"0 0 18 18\">\r\n        <polygon className=\"ql-fill ql-stroke\" points=\"6 10 4 12 2 10 6 10\" />\r\n        <path\r\n            className=\"ql-stroke\"\r\n            d=\"M8.09,13.91A4.6,4.6,0,0,0,9,14,5,5,0,1,0,4,9\"\r\n        />\r\n    </svg>\r\n);\r\n\r\n// Redo button icon component for Quill editor\r\nconst CustomRedo = () => (\r\n    <svg viewBox=\"0 0 18 18\">\r\n        <polygon className=\"ql-fill ql-stroke\" points=\"12 10 14 12 16 10 12 10\" />\r\n        <path\r\n            className=\"ql-stroke\"\r\n            d=\"M9.91,13.91A4.6,4.6,0,0,1,9,14a5,5,0,1,1,5-5\"\r\n        />\r\n    </svg>\r\n);\r\n\r\n// Undo and redo functions for Custom Toolbar\r\nfunction undoChange() {\r\n    this.quill.history.undo();\r\n}\r\nfunction redoChange() {\r\n    this.quill.history.redo();\r\n}\r\n\r\n// Add sizes to whitelist and register them\r\nconst Size = Quill.import(\"formats/size\");\r\nSize.whitelist = [\"extra-small\", \"small\", \"medium\", \"large\"];\r\nQuill.register(Size, true);\r\n\r\n// Add fonts to whitelist and register them\r\nconst Font = Quill.import(\"formats/font\");\r\n\r\nFont.whitelist = [\"arial\",\r\n    \"comic-sans\",\r\n    \"courier-new\",\r\n    \"georgia\",\r\n    \"helvetica\",\r\n    \"lucida\",\r\n    \"roboto\",\r\n    'arial',\r\n    'sans-serif'];\r\nQuill.register(Font, true);\r\n\r\n// Modules object for setting up the Quill editor\r\nexport const modules = {\r\n    toolbar: {\r\n        container: \"#toolbar\",\r\n        handlers: {\r\n            undo: undoChange,\r\n            redo: redoChange\r\n        }\r\n    },\r\n    history: {\r\n        delay: 500,\r\n        maxStack: 100,\r\n        userOnly: true\r\n    }\r\n};\r\n\r\n// Formats objects for setting up the Quill editor\r\nexport const formats = [\r\n    \"header\",\r\n    \"font\",\r\n    \"size\",\r\n    \"bold\",\r\n    \"italic\",\r\n    \"underline\",\r\n    \"align\",\r\n    \"strike\",\r\n    //\"script\",\r\n    //\"blockquote\",\r\n    \"background\",\r\n    \"list\",\r\n    \"bullet\",\r\n    \"indent\",\r\n    \"link\",\r\n    //\"image\",\r\n    \"color\",\r\n    //\"code-block\"\r\n];\r\n\r\n// Quill Toolbar component\r\nexport const QuillToolbar = () => (\r\n    <div id=\"toolbar\">\r\n        {/* <span className=\"ql-formats\">\r\n            <select className=\"ql-font\" defaultValue=\"arial\">\r\n                <option value=\"arial\">Arial</option>\r\n                <option value=\"comic-sans\">Comic Sans</option>\r\n                <option value=\"courier-new\">Courier New</option>\r\n                <option value=\"georgia\">Georgia</option>\r\n                <option value=\"helvetica\">Helvetica</option>\r\n                <option value=\"lucida\">Lucida</option>\r\n            </select> \r\n            </span>\r\n            */}\r\n        <span className=\"ql-formats\">\r\n            <select className=\"ql-font\">\r\n                <option value=\"arial\">Arial</option>\r\n                {/* <option value=\"comic-sans\">Comic Sans</option> */}\r\n                <option value=\"courier-new\">Courier New</option>\r\n                <option value=\"georgia\">Georgia</option>\r\n                <option value=\"helvetica\">Helvetica</option>\r\n                {/* <option value=\"lucida\">Lucida</option> */}\r\n                <option value=\"roboto\">Roboto</option>\r\n                <option value='sans-serif'>Sans Serif</option>\r\n            </select>\r\n            <select className=\"ql-size\" defaultValue=\"medium\">\r\n                <option value=\"small\">Pequeno</option>\r\n                <option value=\"medium\">Médio</option>\r\n                <option value=\"large\">Grande</option>\r\n            </select>\r\n            <select className=\"ql-header\" defaultValue=\"4\">\r\n                <option value=\"2\">Título</option>\r\n                <option value=\"3\">Sub título</option>\r\n                <option value=\"4\">Normal</option>\r\n            </select>\r\n        </span>\r\n        <span className=\"ql-formats\">\r\n            <button className=\"ql-bold\" />\r\n            <button className=\"ql-italic\" />\r\n            <button className=\"ql-underline\" />\r\n            <button className=\"ql-strike\" />\r\n        </span>\r\n        <span className=\"ql-formats\">\r\n            <button className=\"ql-list\" value=\"ordered\" />\r\n            <button className=\"ql-list\" value=\"bullet\" />\r\n            <button className=\"ql-indent\" value=\"-1\" />\r\n            <button className=\"ql-indent\" value=\"+1\" />\r\n        </span>\r\n        {/*         <span className=\"ql-formats\">\r\n            <button className=\"ql-script\" value=\"super\" />\r\n            <button className=\"ql-script\" value=\"sub\" />\r\n            <button className=\"ql-blockquote\" />\r\n            <button className=\"ql-direction\" />\r\n        </span> */}\r\n        <span className=\"ql-formats\">\r\n            <select className=\"ql-align\" />\r\n            <select className=\"ql-color\" />\r\n            <select className=\"ql-background\" />\r\n        </span>\r\n        {/* <span className=\"ql-formats\">\r\n            <button className=\"ql-link\" />\r\n            <button className=\"ql-image\" />\r\n            <button className=\"ql-video\" /> \r\n        </span> */}\r\n        {/* <span className=\"ql-formats\">\r\n            <button className=\"ql-formula\" />\r\n            <button className=\"ql-code-block\" />\r\n            <button className=\"ql-clean\" />\r\n        </span> */}\r\n        <span className=\"ql-formats\">\r\n            <button className=\"ql-undo\">\r\n                <CustomUndo />\r\n            </button>\r\n            <button className=\"ql-redo\">\r\n                <CustomRedo />\r\n            </button>\r\n        </span>\r\n    </div>\r\n);\r\n\r\nexport default QuillToolbar;","import React from 'react'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport avisoInputs from './avisoInputs'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ReactQuill from 'react-quill'\r\nimport EditorToolbar, { modules, formats } from \"./EditorToolbar\";\r\nimport CustomButton2 from '../Reusable Components/CustomButton2'\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport './newAviso.scss'\r\n\r\n/* const useStyles = makeStyles(theme => ({\r\n    textField: {\r\n        width: '100%'\r\n    },\r\n}))\r\n */\r\n//import styles from './avisos.module.scss'\r\n\r\nconst NewAviso = ({ data, empresas, handleChange, toggleNewAviso, handleSubmit }) => {\r\n\r\n\r\n    return (\r\n        <div className='newAviso__container'>\r\n            <header className=\"newAviso__bar\">\r\n                <span className='newAviso__bar__title'>\r\n                    Novo aviso\r\n                </span>\r\n                <ClosePopUpButton\r\n                    close={toggleNewAviso}\r\n                />\r\n            </header>\r\n            <section className='avisoInputs__container'>\r\n                {avisoInputs.map(({ field, label, autoComplete, collection, itemProp, disabled }, i) =>\r\n                    <div key={i} className='avisoInputs__inputDiv'>\r\n                        <TextField\r\n                            name={field}\r\n                            label={label}\r\n                            onChange={handleChange}\r\n                            className='fk'\r\n                            value={data[field] || ''}\r\n                            disabled={disabled}\r\n                            InputLabelProps={{\r\n                                style: {\r\n                                    fontSize: '0.7rem',\r\n                                    fontWeight: 400,\r\n                                    width: '100%',\r\n                                    color: '#888', fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif'\r\n                                }\r\n                            }}\r\n                            inputProps={{\r\n                                style: {\r\n                                    background: disabled && data.disable ? '#fff' : '#fafafa',\r\n                                    fontSize: '0.85rem', color: '#000',\r\n                                    width: '100%',\r\n                                    height: '7px',\r\n                                    fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif'\r\n                                },\r\n                                list: field || '',\r\n                                autoComplete: 'off'\r\n                            }}\r\n                            variant='filled'\r\n                        />\r\n                        {\r\n                            autoComplete &&\r\n                            <AutoComplete\r\n                                field={field}\r\n                                collection={data[collection] || empresas}\r\n                                itemProp={itemProp}\r\n                                value={data[field] || ''}\r\n                            />\r\n                        }\r\n                    </div>\r\n                )}\r\n            </section>\r\n\r\n            <section className='textEditor__container'>\r\n                <div className=\"textEditor__wrapper\">\r\n                    <EditorToolbar />\r\n                    <ReactQuill\r\n                        theme='snow'\r\n                        className='textEditor__editor'\r\n                        onChange={handleChange}\r\n                        //className={textField}\r\n                        name='avisoText'\r\n                        value={data.avisoText || ''}\r\n                        //placeholder={\"Escrever aviso...\"}\r\n                        modules={modules}\r\n                        formats={formats}\r\n                    />\r\n                </div>\r\n            </section>\r\n            <footer className='newAviso__footer'>\r\n                <CustomButton2\r\n                    label='enviar'\r\n                    iconName='send'\r\n                    style={{ marginTop: '0.5rem' }}\r\n                    onClick={handleSubmit}\r\n                />\r\n            </footer>\r\n            {/* <section className='flexColumn avisos__Text'>\r\n                <TextArea\r\n                    id='avisoText'\r\n                    label='Mensagem'\r\n                />\r\n\r\n            </section> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewAviso\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport axios from 'axios'\r\nimport { bindActionCreators } from 'redux'\r\nimport { deleteOne } from '../Store/dataActions'\r\nimport { connect } from 'react-redux'\r\nimport AvisosTemplate from './AvisosTemplate'\r\nimport removePDF from '../Utils/removePDFButton'\r\nimport ConfirmDialog from '../Reusable Components/ConfirmDialog'\r\nimport NewAviso from './NewAviso'\r\nimport { editUser } from '../Store/userActions'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\n\r\nconst Avisos = props => {\r\n    const\r\n        originalAvisos = props.redux.avisos\r\n        , remetentePadrao = props.redux.parametros[0]?.nomes?.siglaSistema\r\n        , { name, role: userRole } = props?.user\r\n        , messagesRead = props?.user?.messagesRead || []\r\n        , deletedMessages = props?.user?.deletedMessages || []\r\n        , [state, setState] = useState({\r\n            unreadOnly: false,\r\n            showAviso: false,\r\n            writeNewAviso: false,\r\n            rowsSelected: false,\r\n            toast: false,\r\n            from: name\r\n        })\r\n\r\n\r\n    //Adiciona tecla de atalho ('Esc') para fechar o aviso\r\n    const escFunction = useCallback(e => {\r\n        if (e.key === 'Escape') {\r\n            if (state.showAviso) {\r\n                setState({ ...state, showAviso: false })\r\n                return\r\n            }\r\n            setState({ ...state, writeNewAviso: false })\r\n        }\r\n    }, [state])\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('keydown', escFunction, false)\r\n        removePDF()\r\n        return () => document.removeEventListener('keydown', escFunction, false)\r\n    }, [escFunction])\r\n\r\n    //Atualiza a prop allAreUnread do state para a correta renderização e modificação do status de múltiplas mensagens (read: true ou false)\r\n    useEffect(() => {\r\n        let avisos = [...originalAvisos]\r\n            .sort((a, b) => new Date(b?.createdAt) - new Date(a?.createdAt)) //ordena por mais recente primeiro\r\n        for (let a of avisos) {\r\n            //Marca como lida o não lida dependendo do usuário logado\r\n            if (Array.isArray(messagesRead) && messagesRead.includes(a.id))\r\n                a.read = true\r\n            else\r\n                a.read = false\r\n        }\r\n\r\n        const\r\n            allAreUnread = avisos.every(a => a.read === false)\r\n            , unreadOnly = state.unreadOnly\r\n\r\n        if (allAreUnread)\r\n            setState(s => ({ ...s, allAreUnread: true }))\r\n\r\n        if (unreadOnly)\r\n            avisos = avisos.filter(a => a.read === false)\r\n\r\n        setState(s => ({ ...s, avisos }))\r\n    }, [props.redux.avisos, state.unreadOnly, messagesRead, originalAvisos])\r\n\r\n\r\n    //Abre o aviso\r\n    const openAviso = (event, rowData) => {\r\n\r\n        const\r\n            index = rowData?.tableData?.id\r\n            , aviso = state.avisos[index]\r\n\r\n        if (aviso && !aviso?.read)  //ao abrir o aviso, muda o status de lido do aviso apenas se não estiver lido\r\n            toggleReadMessage(rowData)\r\n        if ((aviso.from === remetentePadrao || !aviso.from) && aviso.message && typeof aviso.message === 'string')\r\n            aviso.message = JSON.parse(aviso.message)\r\n        setState({ ...state, aviso, showAviso: true })\r\n    }\r\n\r\n    //Marca todos os avisos como lidos ou não lidos\r\n    const toggleReadMessage = data => {\r\n        //Se for selecionado apenas um aviso, o arg é objeto, transformar em array\r\n        if (data instanceof Array === false)\r\n            data = [data]\r\n\r\n        const\r\n            updatedAvisos = [...state.avisos]\r\n            , allAreUnread = data.every(aviso => aviso.read === false)\r\n            , ids = data.map(d => d.id)\r\n\r\n        let updatedReadStatus\r\n\r\n        if (allAreUnread)\r\n            updatedReadStatus = true\r\n        else\r\n            updatedReadStatus = false\r\n\r\n        if (data?.length > 1)\r\n            setState({ ...state, allAreUnread })\r\n\r\n        for (let a of updatedAvisos) {\r\n            if (ids.includes(a.id))\r\n                a.read = updatedReadStatus\r\n        }\r\n\r\n        const\r\n            { id, cpf } = props.user\r\n            , messagesRead = updatedAvisos\r\n                .filter(a => a.read === true)\r\n                .map(a => a.id)\r\n\r\n        axios.patch(`/api/avisos/changeReadStatus`, { id, cpf, messagesRead })\r\n            .catch(err => {\r\n                alert(err?.message)\r\n                throw new Error(err)\r\n            })\r\n\r\n        //Atualiza a prop messagesRead do user no store (redux)\r\n        props.editUser({ ...props.user, messagesRead })\r\n    }\r\n\r\n    const confirmDelete = data => {\r\n        if (data instanceof Array === false)\r\n            data = [data]\r\n        const ids = data.map(el => el.id)\r\n        setState({\r\n            ...state,\r\n            openConfirmDialog: true,\r\n            confirmType: 'delete',\r\n            idsToDelete: ids\r\n        })\r\n    }\r\n\r\n    const deleteAviso = () => {\r\n        const\r\n            { _id, id, cpf } = props.user\r\n            , ids = state.idsToDelete\r\n            , allDeletedMessages = [...ids, ...deletedMessages]\r\n\r\n        //Esse método não apaga o aviso, apenas armazena o id do aviso na prop deletedMessages do usuário\r\n        axios.patch('/api/avisos/deleteUserMessages', { id: id || _id, cpf, deletedMessages: allDeletedMessages })\r\n        /*  axios.delete(`/api/avisos/`, { data: ids })\r\n             .then(r => console.log(r))\r\n             .catch(err => console.log(err)) */\r\n\r\n        for (let id of ids) {\r\n            props.deleteOne(id, 'id', 'avisos')\r\n        }\r\n\r\n        props.editUser({ ...props.user, deletedMessages: allDeletedMessages })\r\n        setState({ ...state, openConfirmDialog: false, rowsSelected: false })\r\n    }\r\n\r\n    const formatDataToExport = data => {\r\n        data instanceof Array &&\r\n            data.forEach(obj => {\r\n                if (obj.read === true)\r\n                    obj.read = 'Lida'\r\n                if (obj.read === false)\r\n                    obj.read = \"Não lida\"\r\n                delete obj.message\r\n            })\r\n        return data\r\n    }\r\n\r\n    const toggleSelect = rows => {\r\n        if (rows.some(r => r.tableData?.checked))\r\n            setState({ ...state, rowsSelected: true })\r\n        else\r\n            setState({ ...state, rowsSelected: false })\r\n    }\r\n\r\n    const handleChange = e => {\r\n        if (typeof e === 'string')\r\n            setState({ ...state, avisoText: e })\r\n        else {\r\n            const { name, value } = e.target\r\n            setState({ ...state, [name]: value })\r\n        }\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        const\r\n            { to, subject, avisoText } = state\r\n            , vocativo = to\r\n            , { user } = props\r\n        let from\r\n        if (user.role === 'admin')\r\n            from = 'Administrador do sistema'\r\n        if (user.role === 'tecnico')\r\n            from = 'Equipe técnica'\r\n\r\n        const requestObject = { from, to, vocativo, subject, message: avisoText }\r\n        axios.post('/api/avisos/userAlerts/?type=saveAlert', requestObject)\r\n            .then(r => console.log(r))\r\n            .catch(err => console.log(err))\r\n        setState({ ...state, writeNewAviso: false, toast: true, subject: undefined, avisoText: undefined })\r\n\r\n    }\r\n\r\n    const\r\n        showUnreadOnly = () => setState({ ...state, unreadOnly: !state.unreadOnly })\r\n        , toggleAviso = () => setState({ ...state, showAviso: !state.showAviso })\r\n        , closeConfirmDialog = () => setState({ ...state, openConfirmDialog: false })\r\n        , toggleNewAviso = () => setState({ ...state, writeNewAviso: !state.writeNewAviso })\r\n        , toggleToast = () => setState({ ...state, toast: !state.toast })\r\n\r\n    return (\r\n        <>\r\n            <AvisosTemplate\r\n                avisos={state.avisos}\r\n                data={state}\r\n                userRole={userRole}\r\n                defaultFrom={remetentePadrao}\r\n                formatDataToExport={formatDataToExport}\r\n                showUnreadOnly={showUnreadOnly}\r\n                openAviso={openAviso}\r\n                toggleReadMessage={toggleReadMessage}\r\n                close={toggleAviso}\r\n                confirmDelete={confirmDelete}\r\n                deleteAviso={deleteAviso}\r\n                toggleSelect={toggleSelect}\r\n                toggleNewAviso={toggleNewAviso}\r\n            />\r\n            {\r\n                state.writeNewAviso && (userRole === 'admin' || userRole === 'tecnico') &&\r\n                <NewAviso\r\n                    empresas={props.redux.empresas}\r\n                    data={state}\r\n                    handleChange={handleChange}\r\n                    toggleNewAviso={toggleNewAviso}\r\n                    handleSubmit={handleSubmit}\r\n                />\r\n            }\r\n            {\r\n                state.openConfirmDialog &&\r\n                <ConfirmDialog\r\n                    open={state.openConfirmDialog}\r\n                    close={closeConfirmDialog}\r\n                    confirm={deleteAviso}\r\n                    type={state.confirmType}\r\n                    id={state.idToDelete}\r\n                />\r\n            }\r\n            <ReactToast open={state.toast} close={toggleToast} msg='Aviso criado com sucesso.' />\r\n        </>\r\n    )\r\n}\r\n\r\nconst collections = ['avisos', 'empresas']\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        avisos: state.data?.avisos,\r\n        user: state.user\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return bindActionCreators({ deleteOne, editUser }, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StoreHOC(collections, Avisos))\r\n","import React from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport HomeTemplate from './HomeTemplate'\r\n\r\nimport VeiculosHome from './Veiculos/VeiculosHome'\r\nimport CadVeiculos from './Veiculos/CadVeiculo'\r\nimport AltDados from './Veiculos/AltDados'\r\nimport Seguros from './Veiculos/Seguros'\r\nimport Laudos from './Veiculos/Laudos'\r\nimport BaixaVeiculo from './Veiculos/BaixaVeiculo'\r\nimport Config from './Veiculos/Config'\r\n\r\nimport Consultas from './Consultas/Consultas'\r\nimport Empresas from './Empresas/EmpresasContainer'\r\nimport EmpresasHome from './Empresas/EmpresasHome'\r\nimport Procuradores from './Empresas/Procuradores'\r\nimport Socios from './Empresas/Socios'\r\nimport Relatorios from './Relatorios/Relatorios'\r\nimport Solicitacoes from './Solicitacoes/Solicitacoes'\r\nimport PdfTest from './Veiculos/Certificate'\r\nimport AltContrato from './Empresas/AltContrato'\r\nimport Parametros from './Parametros/Parametros'\r\nimport UserAuth from './Auth/UserAuth'\r\nimport Users from './Users/Users'\r\nimport EditAccount from './Users/EditAccount'\r\nimport Compartilhamento from './Veiculos/Compartilhamento'\r\nimport Avisos from './Avisos/Avisos'\r\n\r\n//import UnderConstruction from './UnderConstruction'\r\n\r\n\r\nconst Routes = ({ user }) => {\r\n\r\n    return (\r\n        <Switch>\r\n            <Route exact path='/' component={HomeTemplate} />\r\n            <Route path='/veiculos' exact component={VeiculosHome} />\r\n            <Route path='/veiculos/cadastro' exact component={CadVeiculos} />\r\n            <Route path='/veiculos/altDados' exact component={AltDados} />\r\n            <Route path='/veiculos/seguros' exact component={Seguros} />\r\n            <Route path='/veiculos/compartilhamento' exact component={Compartilhamento} />\r\n            <Route path='/veiculos/laudos' exact component={Laudos} />\r\n            <Route path='/veiculos/baixaVeiculo' exact component={BaixaVeiculo} />\r\n            <Route path='/veiculos/config' exact component={Config} />\r\n            <Route path='/consultas' component={Consultas} />\r\n            <Route path='/empresas' exact component={EmpresasHome} />\r\n            <Route path='/altContrato' exact component={AltContrato} />\r\n            <Route path='/empresas/cadastro' component={Empresas} />\r\n            <Route path='/empresas/socios' component={Socios} />\r\n            <Route path='/empresas/procuradores' component={Procuradores} />\r\n            <Route path='/relatorios' component={Relatorios} />\r\n            <Route path='/crv' component={PdfTest} />\r\n            <Route path='/solicitacoes' exact component={Solicitacoes} />\r\n            <Route path='/solicitacoes/cadastro' exact component={CadVeiculos} />\r\n            <Route path='/solicitacoes/altDados' exact component={AltDados} />\r\n            <Route path='/solicitacoes/seguros' exact component={Seguros} />\r\n            <Route path='/solicitacoes/compartilhamento' exact component={Compartilhamento} />\r\n            <Route path='/solicitacoes/baixaVeiculo' exact component={BaixaVeiculo} />\r\n            <Route path='/solicitacoes/laudos' exact component={Laudos} />\r\n            <Route path='/solicitacoes/altContrato' exact component={AltContrato} />\r\n            <Route path='/solicitacoes/socios' exact component={Socios} />\r\n            <Route path='/solicitacoes/procuradores' exact component={Procuradores} />\r\n            <Route path='/userAuth' exact component={UserAuth} />\r\n            <Route path='/editAccount' exact component={EditAccount} />\r\n            <Route path='/avisos' exact component={Avisos} />\r\n\r\n            <Route path='/parametros'>\r\n                {user.role === 'admin' ? <Parametros /> : <Redirect to='/' />}\r\n            </Route>\r\n            <Route path='/users'>\r\n                {user.role === 'admin' ? <Users /> : <Redirect to='/' />}\r\n            </Route>\r\n\r\n\r\n\r\n            {/* <Route path='/faleConosco' component={UnderConstruction} /> */}\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default Routes","import React from 'react'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport Routes from './Routes'\r\nimport { connect } from 'react-redux'\r\nimport UserAuth from './Auth/UserAuth'\r\n\r\nimport { Header, Footer } from './Layouts'\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport { getCookie } from './Utils/documentCookies'\r\n\r\nconst Authentication = props => {\r\n    const\r\n        loggedIn = getCookie('loggedIn').length > 0,\r\n        { user } = props\r\n\r\n    if (!loggedIn)\r\n        return <UserAuth />\r\n    else\r\n        return (\r\n            <div className='app'>\r\n                <Container maxWidth=\"lg\" style={{ minHeight: '100vh' }}>\r\n                    <BrowserRouter>\r\n                        <Header />\r\n                        <Routes user={user} />\r\n                    </BrowserRouter>\r\n                    <Footer />\r\n                </Container>\r\n            </div>\r\n        )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        ...state\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Authentication)","import React from 'react';\r\n\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport promise from 'redux-promise';\r\nimport multi from 'redux-multi';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './rootReducer'\r\nimport Authentication from './Authentication';\r\n\r\nimport './Layouts/stylez.scss'\r\n\r\nexport const store = applyMiddleware(promise, multi, thunk)(createStore)(rootReducer, /* preloadedState, */\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <Authentication />\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.jsx';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}