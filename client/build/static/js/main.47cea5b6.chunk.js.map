{"version":3,"sources":["Store/dataReducer.js","rootReducer.js","Layouts/Header.jsx","Store/StoreHOC.jsx","Layouts/Footer.jsx","Layouts/TabMenu.jsx","Utils/idsToString.js","Store/dataActions.js","Layouts/Loading.jsx","Forms/configVehicleForm.js","HomeTemplate.jsx","Veiculos/VeiculosHome.jsx","Utils/setDemand.js","Utils/handleFiles.js","Utils/checkInputErrors.js","Solicitacoes/logRoutesConfig.js","Utils/logGenerator.js","Utils/autoComplete.jsx","Reusable Components/SelectEmpresa.jsx","Reusable Components/TextInput.jsx","Reusable Components/FormSubtiltle.jsx","Forms/vistoriaForm.js","Forms/cadVehicleForm.js","Reusable Components/ClosePopUpButton.jsx","Veiculos/AddEquipa.jsx","Veiculos/CadVeiculoTemplate.jsx","Reusable Components/RemoveFileButton.jsx","Reusable Components/DragAndDrop.jsx","Forms/cadVehicleFiles.js","Forms/altDadosFiles.js","Veiculos/VehicleDocs.jsx","Utils/downloadFile.js","Reusable Components/ShowLocalFiles.jsx","Reusable Components/StandardTable.jsx","Veiculos/VehicleReview.jsx","Reusable Components/Crumbs.jsx","Reusable Components/StepperButtons.jsx","Reusable Components/Stepper.jsx","Reusable Components/ReactToast.jsx","Utils/formatValues.js","Reusable Components/AlertDialog.jsx","Veiculos/CadVeiculo.jsx","Utils/checkDemand.js","Forms/altForm.js","Forms/altFormVistoria.js","Veiculos/AltDadosTemplate.jsx","Reusable Components/FormDialog.jsx","Veiculos/AltDados.jsx","Forms/altSegForm.js","Forms/empresaFiles.js","Veiculos/SegurosTemplate.jsx","Veiculos/ShowAllPlates.jsx","Veiculos/ConfigAddDialog.jsx","Forms/seguroForm.js","Utils/setEmpresaDemand.js","Veiculos/Seguros.jsx","Reusable Components/ConfirmDialog.jsx","Forms/laudoForm.js","Reusable Components/Placa.jsx","Reusable Components/CustomTable.jsx","Reusable Components/OnClickMenu.jsx","Veiculos/LaudosTemplate.jsx","Forms/commonFields.js","Utils/cnpjValidator.js","Utils/cpfValidator.js","Forms/joinForms.js","Forms/cadForm.js","Forms/empresasForm.js","Forms/sociosForm.js","Forms/procuradorForm.js","Reusable Components/ShowDetails.jsx","Forms/laudosTable.js","Veiculos/Laudos.jsx","Store/ReactContext.jsx","Veiculos/BaixaOptions.jsx","Forms/baixaForm.js","Veiculos/BaixaTemplate.jsx","Veiculos/BaixaVeiculo.jsx","Veiculos/ConfigTemplate.jsx","Veiculos/Config.jsx","Consultas/tables.js","Consultas/ConsultasTemplate.jsx","Forms/certificate.js","Veiculos/Certificate.jsx","Utils/formatFileSize.js","Reusable Components/ShowFiles.jsx","Consultas/ConsultasContainer.jsx","Empresas/EmpresasTemplate.jsx","Empresas/SociosTemplate.jsx","Empresas/EmpresaReview.jsx","Utils/valueParser.js","Empresas/EmpresasContainer.jsx","Empresas/EmpresasHome.jsx","Empresas/Procurador.jsx","Empresas/ProcuradoresTemplate.jsx","Empresas/Procuradores.jsx","Empresas/Socios.jsx","Relatorios/chartsConfig.js","Relatorios/RelatoriosTemplate.jsx","Relatorios/Relatorios.jsx","Reusable Components/Table.jsx","Forms/solicitacaoTable.js","Solicitacoes/SolHistory.jsx","Solicitacoes/SolicitacoesTemplate.jsx","Forms/solicitacoesTable.js","Solicitacoes/SolicitacoesTable.jsx","Solicitacoes/Solicitacoes.jsx","Routes.jsx","App.jsx","serviceWorker.js","index.js"],"names":["initState","dataReducer","state","action","type","payload","collection","data","update","forEach","el","match","push","unshift","id","map","v","toString","apolice","placaIndex","vehicleIndex","seguros","seguro","find","s","index","findIndex","placas","splice","veiculos","tablePK","updatedData","Number","element","console","log","setColor","loading","rootReducer","combineReducers","useStyles","makeStyles","theme","toolbarTitle","flex","toolbarSecondary","justifyContent","overflowX","backgroundColor","color","toolbarLink","padding","flexShrink","mainFeaturedPost","position","palette","grey","common","white","marginBottom","spacing","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","overlay","top","bottom","right","left","mainFeaturedPostContent","breakpoints","up","paddingRight","mainGrid","marginTop","card","display","cardDetails","cardMedia","width","markdown","typography","body2","sidebarAboutBox","sidebarSection","footer","background","paper","sections","title","link","StyledBadge","withStyles","badge","Badge","connect","socket","vehicleLogs","withRouter","props","classes","pathname","location","demand","localStorage","getItem","useState","document","path","setSelected","logCounter","setLogCounter","useEffect","Array","isArray","count","filter","l","completed","length","selected","style","querySelector","bgColor","borderB","borderT","fontW","Fragment","CssBaseline","Toolbar","Button","size","Typography","component","variant","align","noWrap","className","IconButton","i","Link","RouterLink","to","key","href","fontFamily","fontSize","borderBottom","fontWeight","borderTop","onClick","badgeContent","Footer","items","tab","changeTab","Tabs","value","indicatorColor","textColor","centered","onChange","item","Tab","label","idsToString","equipamentos","acessibilidade","equipNames","accessNames","equipa","acessibilidadeId","eqId","result","setNamesFromIds","ids","namesArray","elementId","getData","collectionsArray","dispatch","getState","a","promiseArray","globalState","collectionName","axios","get","Promise","all","then","res","r","humps","camelizeKeys","responseArray","replace","camelize","Object","assign","every","p","hasOwnProperty","insertData","dataFromServer","seguradoras","eqNames","acNames","acId","seguradora","sg","seguradoraId","plates","vehicles","updatedCollection","dataEmissao","vencimento","placa","veiculoId","collectionPayload","batch","updateData","updateDocs","metadata","primarykey","stateCollection","selectedDocs","doc","some","meta","updateCollection","deleteOne","Loading","src","alt","height","configVehicleForm","field","name","table","socketIO","require","requestArray","WrappedComponent","collections","includes","req","With","redux","this","request","colName","on","insertedObjects","updatedObjects","primaryKey","object","off","c","col","React","Component","bindActionCreators","featuredPosts","date","description","imageUrl","StoreHOC","minHeight","textDecoration","menuCards","VeiculosHome","url","setDemand","alteracoes","compartilhado","empresas","vehicleDocs","history","vehicle","originalVehicle","freeze","selectedEmpresa","e","razaoSocial","empresa","delegatario","selectedVehicle","delCompartilhado","delegatarioCompartilhado","delegatarioId","reverse","keys","allDemandFiles","fileIds","latestDocs","filesPerFieldName","files","array","indexOf","fieldExists","file","fieldName","lastDoc","reduce","b","Date","uploadDate","demandFiles","getUpdatedValues","originalObj","newObj","sort","handleFiles","filesFormTemplate","formData","FormData","obj","set","form","postFilesReturnIds","filesEndPoint","filesToSend","tempFile","append","JSON","stringify","pair","post","filesArray","filesIds","f","updateFilesMetadata","filesCollection","put","removeFile","existingFiles","has","delete","returnObj","fileToRemove","undefined","from","k","checkInputErrors","sendState","dontSetDate","querySelectorAll","inputs","errors","errString","textContent","parentNode","moment","isValid","previousSibling","slice","openAlertDialog","alertType","customMsg","docs","logRoutesConfig","subject","requestAction","responseAction","concludedAction","logGenerator","window","logRoutes","parse","historyLength","commonFields","user","createdAt","logConfig","status","empresaId","declined","approved","filteredLog","autoComplete","datalist","SelectEmpresa","handleInput","handleBlur","shared","headerTitle","activeStep","list","headerTitles","enableSelect","margin","textAlign","onBlur","textField","marginLeft","marginRight","fontColor","select","helperText","TextInput","selectOptions","disableAll","disableSome","errorHandler","minLength","max","min","pattern","helper","TextField","error","FormHelperTextProps","disabled","InputLabelProps","shrink","inputProps","disable","maxLength","multiline","rows","fullWidth","SelectProps","opt","MenuItem","options","FormSubtiltle","subtitle","vistoriaForm","step","cadVehicleForm","getFullYear","zero","concat","ClosePopUpButton","close","cursor","AddEquipa","handleCheck","localeCompare","eq","FormControlLabel","control","Checkbox","checked","button","handleEquipa","closeEquipa","resetShared","setShared","modelosChassi","carrocerias","addEquipa","eqCollection","paddingBottom","RemoveFileButton","DragAndDrop","dropDisplay","single","fileName","setFileName","fileExists","setFileExistance","filename","entries","demandFile","onDrop","getRootProps","getInputProps","cadVehicleFiles","altDadosFiles","root","flexGrow","sendButton","float","text","VehicleDocs","filesForm","parentComponent","insuranceExists","Grid","container","xs","md","downloadFile","originalName","method","responseType","response","URL","createObjectURL","Blob","createElement","setAttribute","body","appendChild","click","catch","err","divContainer","alignContent","flexWrap","divFiles","alignItems","border","borderRadius","icon","verticalAlign","paddingLeft","fileIcon","ShowLocalFiles","fileArray","storage","createLink","StandardTable","labels","fields","values","alteredElements","colSpan","j","ISO_8601","format","secondary","Revisao","ultimateData","vehicleDetails","newForm","filledForm","Paper","y","Crumbs","links","numero","Breadcrumbs","separator","aria-label","backButton","StepperButtons","role","setActiveStep","lastStep","handleSubmit","uniqueStep","declineButtonLabel","setShowPendencias","showPendencias","info","flexDirection","CustomStepper","steps","Stepper","labelProps","Step","StepLabel","useStyles1","success","green","dark","primary","main","warning","amber","iconVariant","opacity","message","MySnackbarContentWrapper","onClose","other","SnackbarContent","clsx","aria-describedby","Icon","CustomizedSnackbars","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","msg","formatDate","test","getDate","getMonth","getHours","getMinutes","formatMoney","toFixed","AlertDialog","confirm","customTitle","customMessage","cnpj","charAt","createAlert","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","frota","toastMsg","confirmToast","setState","prevActiveStep","target","toLocaleUpperCase","getId","stateId","dbName","dbId","alertLabel","toLowerCase","nombre","getElementsByName","focus","x","vEquip","currentEquipa","ce","ve","arrayOfEquips","stateKey","handleCadastro","anoCarroceria","pesoDianteiro","pesoTraseiro","poltronas","compartilhadoId","modeloChassiId","modeloCarroceriaId","indicadorIdade","existingVeiculoId","oldHistoryLength","situacao","pbt","isNaN","review","modeloChassi","modeloCarroceria","vReview","decamelizeKeys","requestObject","toast","setTimeout","resetState","newState","resetFiles","resetEquip","toggleDialog","escFunction","keyCode","demandState","allEqs","allAcs","addEventListener","removeEventListener","CadVeiculoTemplate","PureComponent","checkDemand","logsCollection","exists","altForm","altPlacaOption","showAltPlaca","header","inputNames","inputLabels","fileInputName","inputName","stepTitles","altPlaca","newPlate","reset","toUpperCase","capitalize","utilizacao","dominio","resetEquips","updatePlate","tempObj","camelizedRequest","closeAlert","resetAll","AltDadosTemplate","seguroForm","empresaFiles","minWidth","chip","SegurosTemplate","enableAddPlaca","addPlate","removeFromInsurance","enableChangeApolice","showAllPlates","addedPlaca","insurance","apoliceDoc","paddingTop","Chip","onDelete","ShowAllPlates","htmlFor","ConfigAddDialog","helperMessage","marca","marcas","selectMarca","newElement","addNewElement","setEmpresaDemand","socios","associateKeys","lastUpdate","latestDoc","empresaDocs","newMembers","oldMembers","latestDocId","om","filteredSocios","deletedVehicles","filterInsurances","allInsurances","filteredInsurances","allPlates","checkExistance","inputValue","se","newInsurance","clearFields","selectedSeguradora","vehicleFound","checkFields","valid","seg","allPlatesObj","insuredPlates","plate","placaInput","check","updateInsurance","updates","emissaoDidChange","isSame","vencimentoDidChange","seguradoraDidChange","data_emissao","seguradora_id","requestObj","columns","vehicleIds","validEmissao","validVenc","cadSeguro","delegatario_id","confirmAndResetState","approveInsurance","column","newApoliceNumber","dontUpdateProps","previouslyDeleted","vehiclesToDelete","confirmMessage","openAddDialog","filteredState","insuranceVehicles","ConfirmDialog","laudoForm","Placa","city","idIndex","deleteIconProperties","deleteFunction","tableHeaders","laudosArray","laudoDocs","laudo","laudoDocId","getFile","StyledMenu","Menu","elevation","getContentAnchorEl","transformOrigin","OnClickMenu","anchorEl","handleClose","menuOptions","keepMounted","Boolean","memo","filteredVehicles","stateInputs","laudoDoc","functions","clickOnPlate","showDetails","closeMenu","clear","deleteLaudo","renderColor","laudos","validade","isAfter","toDate","isBefore","cidade","overflow","cnpjString","tamanho","numeros","substring","digitos","soma","pos","cnpjValidator","cpf","cpfString","strCPF","Soma","Resto","parseInt","cpfValidator","input","phone","email","eForm","sForm","segForm","vForm","cadForm","empresasForm","sociosForm","procuradorForm","ShowDetails","formPattern","tableData","laudoId","vencimentoContrato","vData","laudosTable","deleteFile","empresasLaudo","empresaLaudo","empresaInput","setEmpresa","oldVehicles","setOldVehicles","setFilteredVehicles","details","setDetails","selectVehicle","setAnchorEl","setDropDisplay","setLaudoDoc","changeInputs","setToast","setToastMsg","setTableData","setDemandFiles","setFileToRemove","alertDialog","setAlertDialog","confirmDialogProps","setConfirmDialog","fullDemand","dFiles","currentYear","vehiclesLaudo","laudosTemp","dateA","updatedVehicle","insertLaudos","useCallback","filtered","event","persist","currentTarget","vehicleLaudos","d","tempArray","table2","t","requestElement","laudoAlreadyExists","clearForm","errorLabel","toggleToast","empresa_id","veiculo_id","requestBody","closeConfirmDialog","allFields","ReactContext","createContext","radioAttempt","radioAproval","BaixaOptions","delegaTransf","justificativa","pendencias","formControl","direction","justify","FormControl","FormLabel","RadioGroup","row","Radio","labelPlacement","Send","baixaForm","formHolder","BaixaVeiculo","openDialog","delegaTransfId","disableSubmit","demandHistory","checkArray","historyTransfId","logSubject","obs","newEmpresaId","veiculo","BaixaTemplate","contextType","ConfigTemplate","staticData","selectCollection","handleChange","enableEdit","confirmDelete","edit","autoCorrect","spellCheck","addCounter","ac","marcaChassi","marcaCarroceria","divCell","divWrap","childNodes","inputTarget","marcaCollection","m","marcaId","changedElement","newData","elementName","removeItem","originalData","editedElements","rest","realChanges","decamelize","prevProps","vehicleTable","render","rowData","filtering","segurosTable","tables","showFiles","showCertificate","del","exportButton","exportFileName","exportCsv","csvData","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","FileSaver","exportToCSV","actionsColumnIndex","searchFieldStyle","headerStyle","emptyRowsWhenPaging","pageSize","localization","actions","emptyDataSourceMessage","editRow","deleteText","deleteTooltip","filterRow","filterTooltip","toolbar","searchTooltip","searchPlaceholder","exportName","exportAriaLabel","exportTitle","pagination","labelRowsSelect","labelDisplayedRows","firstTooltip","previousTooltip","nextTooltip","lastTooltip","iconProps","tooltip","hidden","editable","onRowDelete","oldData","caracteristicas","pesagem","informacoesGerais","PdfCertificate","setVehicle","print","setData","carac","delega","peso","line","ultimateForm","origin","InputProps","redirect","formatFileSize","bytes","Math","round","divRow","grid","justifyItems","ShowFiles","typeId","fileLabels","o","download","getMoreInfo","ConsultasContainer","tablePKs","dbTables","detailsTitle","detailsHeader","elementDetails","primaryKeys","pk","updatedElement","closeFiles","selectedFiles","socio","socioId","sociosArray","filesToReturn","procuradores","procId","selectedElement","deleteHandler","itemId","seguroVencido","contratoVencido","setItem","closeCertificate","certified","TabMenu","ConsultasTemplate","dropBox","dropBoxItem","zIndex","boxShadow","dropBoxItem2","contratoSocial","iconButton","addSocio","handleEdit","removeSocio","contratoSocialForm","standAlone","empresaDetails","tableLayout","valueParser","tecla","tam","vr","substr","formatCnpj","formatCpf","formatPhone","number","formatShare","fileNames","addedSocios","totalShare","parsedValue","sObject","invalid","share","pop","editSocio","fs","alert","alreadyExists","delegatarioStatus","submitFile","contratoFile","globalRemoveFile","resetEmpresa","resetSocios","EmpresasTemplate","SociosTemplate","divider","gutterBottom","paragraph","cardGrid","CardActionArea","Card","CardContent","Hidden","xsDown","CardMedia","StyledTableCell","head","TableCell","StyledCell","StyledTableRow","default","TableRow","Procurador","procuracao","procArray","pro","procuradorId","Table","TableHead","TableBody","lineHeight","containerList","selector","paper2","addButton","addProc","removeProc","plusOne","minusOne","checkExpires","procsToAdd","expires","z","procuracaoId","filteredProc","procuracoesArray","procuracoes","pr","proc","cpfProcurador","cpfExists","nProc","addedProcs","n","addedProc","gotId","approveProc","procIdArray","procurador_id","procs","novaProcuracao","procuracao_id","selectedFile","_id","resetedFields","originalProcuradores","updatedState","op","ProcuradoresTemplate","dialogTitle","originalSocios","originals","cpfSocio","parseFloat","parsedNumber","originalStatus","altObj","deleted","shareUpdate","socioIdsArray","newSocio","socio_id","member","updatedList","barChart","offsetX","offsetY","floating","legend","show","chart","xaxis","dataLabels","enabled","plotOptions","bar","donutChart","pie","donut","formatter","val","total","showAlways","responsive","breakpoint","RelatoriosTemplate","selectedVehicles","tableLabels","mediaIdades","moda","segurosVencidos","segurosVigentes","veiculosNovos","categories","series","colors","tableValues","sum","newArray","shift","countExpired","selectedId","setRazaoSocial","allExpired","setExpired","allValid","setValid","idades","ano","counter","unsortedLabels","arr","ultimateObj","parcial","poltronasPerYear","poltronasAcc","poltronasMedia","year","acc","average","expired","needsLaudo","veiculosAntigos","staticFields","tableStyle","showInfo","setShowFiles","arrayOfRows","tableRow","tableSpan","rowArray","createButton","solicitacaoTable","SolHistory","solicitacao","historyLog","setHistoryLog","docSelection","sytle","SolicitacoesTemplate","showCompleted","paddingBotom","solicitacoesTable","assessDemand","parsedData","exportToXLSX","rawData","keysToDelete","dataToExcel","setVehicleLogs","showHistory","setShowHistory","selectedLog","selectLog","alertProperties","setFilesId","originalLogs","logs","__v","getVehicleLogs","SolicitacoesTable","Routes","exact","HomeTemplate","CadVeiculos","AltDados","Seguros","Laudos","Config","Consultas","EmpresasHome","Empresas","Socios","Procuradores","Relatorios","PdfTest","Solicitacoes","App","store","applyMiddleware","promise","multi","thunk","createStore","Container","maxWidth","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"ghBAAMA,EAAY,GA6GHC,EA3GK,WAAgC,IAA/BC,EAA8B,uDAAtBF,EAAWG,EAAW,uCACvCC,EAAkBD,EAAlBC,KAAMC,EAAYF,EAAZE,QAEd,OAAQD,GAEJ,IAAK,WACD,OAAO,2BAAKF,GAAUG,GAE1B,IAAK,cAAgB,IACTC,EAAqBD,EAArBC,WAAYC,EAASF,EAATE,KAEpB,GAAIL,EAAMI,IAAeC,EAAM,CAC3B,IAAIC,EAAM,YAAON,EAAMI,IAKvB,OAJAC,EAAKE,SAAQ,SAAAC,GACLJ,EAAWK,MAAM,QAASH,EAAOI,KAAKF,GACrCF,EAAOK,QAAQH,MAEjB,2BACAR,GADP,kBACeI,EAAaE,IAGhC,OAAON,EAGX,IAAK,cAAgB,IACTI,EAAyBD,EAAzBC,WAAYC,EAAaF,EAAbE,KAAMO,EAAOT,EAAPS,GAC1B,GAAIZ,EAAMI,IAAeC,EAAM,CAE3B,IAAMC,EAASN,EAAMI,GAAYS,KAAI,SAAAC,GAMjC,OALAT,EAAKE,SAAQ,SAAAC,GACLM,EAAEF,KAAQJ,EAAGI,IAAOE,EAAEF,GAAIG,aAAeP,EAAGI,GAAIG,aAChDD,EAAIN,MAGLM,KAEX,OAAO,2BACAd,GADP,kBACeI,EAAaE,IAGhC,OAAON,EAIX,IAAK,oBAAsB,IACfK,EAAqBF,EAArBE,KAAMD,EAAeD,EAAfC,WAEd,OAAO,2BACAJ,GADP,kBACeI,EAAaC,IAIhC,IAAK,wBAAL,IACYW,EAAsCb,EAAtCa,QAASC,EAA6Bd,EAA7Bc,WAAYC,EAAiBf,EAAjBe,aAE7B,GAAIlB,EAAMmB,QAAS,CAEf,IAAIA,EAAO,YAAOnB,EAAMmB,SACpBC,EAASD,EAAQE,MAAK,SAAAC,GAAC,OAAIA,EAAEN,UAAYA,KACzCO,EAAQJ,EAAQK,WAAU,SAAAF,GAAC,OAAIA,EAAEN,UAAYA,KAMjD,OAJAI,EAAOK,OAAOC,OAAOT,EAAY,GACjCG,EAAOO,SAASD,OAAOR,EAAc,GACrCC,EAAQI,GAASH,EAEV,2BACApB,GADP,IACcmB,YAGlB,OAAOnB,EAEX,IAAK,aAAL,IACY4B,EAAwBzB,EAAxByB,QAASxB,EAAeD,EAAfC,WAEjB,GAAIJ,EAAMI,GAAa,CAEf,IAAEQ,EAAOT,EAAPS,GACFiB,EADA,YACkB7B,EAAMI,IAGvBA,EAAWK,MAAM,UAASG,EAAKkB,OAAOlB,IACxB,WAAfR,IACAQ,EAAKA,EAAGG,YAEZ,IACIgB,EAAUF,EAAYR,MAAK,SAAAb,GAAE,OAAIA,EAAGoB,KAAahB,KACjDW,EAAQM,EAAYL,WAAU,SAAAhB,GAAE,OAAIA,EAAGoB,KAAaG,EAAQH,MAIhE,OAHAI,QAAQC,IAAIF,EAASR,GACrBM,EAAYH,OAAOH,EAAO,GAEnB,2BACAvB,GADP,kBACeI,EAAayB,IAGhC,OAAO7B,EAEX,IAAK,YACD,OAAO,2BAAKA,GAAZ,IAAmBkC,SAAUjC,EAAOE,UAExC,IAAK,UACD,OAAO,2BAAKH,GAAZ,IAAmBmC,QAASlC,EAAOE,UAEvC,QACI,OAAOH,IClGJoC,EAJKC,YAAgB,CAChChC,KAAMN,I,gHCSJuC,G,OAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCC,aAAc,CACVC,KAAM,GAEVC,iBAAkB,CACdC,eAAgB,gBAChBC,UAAW,OACXC,gBAAiB,UACjBC,MAAO,SAGXC,YAAa,CACTC,QAAS,sBACTC,WAAY,GAEhBC,iBAAkB,CACdC,SAAU,WACVN,gBAAiBN,EAAMa,QAAQC,KAAK,KACpCP,MAAOP,EAAMa,QAAQE,OAAOC,MAC5BC,aAAcjB,EAAMkB,QAAQ,GAC5BC,gBAAiB,4BACjBC,eAAgB,QAChBC,iBAAkB,YAClBC,mBAAoB,UAExBC,QAAS,CACLX,SAAU,WACVY,IAAK,EACLC,OAAQ,EACRC,MAAO,EACPC,KAAM,EACNrB,gBAAiB,kBAErBsB,wBAAwB,aACpBhB,SAAU,WACVH,QAAST,EAAMkB,QAAQ,IACtBlB,EAAM6B,YAAYC,GAAG,MAAQ,CAC1BrB,QAAST,EAAMkB,QAAQ,GACvBa,aAAc,IAGtBC,SAAU,CACNC,UAAWjC,EAAMkB,QAAQ,IAE7BgB,KAAM,CACFC,QAAS,QAEbC,YAAa,CACTlC,KAAM,GAEVmC,UAAW,CACPC,MAAO,KAEXC,SAAS,2BACFvC,EAAMwC,WAAWC,OADhB,IAEJhC,QAAST,EAAMkB,QAAQ,EAAG,KAE9BwB,gBAAiB,CACbjC,QAAST,EAAMkB,QAAQ,GACvBZ,gBAAiBN,EAAMa,QAAQC,KAAK,MAExC6B,eAAgB,CACZV,UAAWjC,EAAMkB,QAAQ,IAE7B0B,OAAQ,CACJtC,gBAAiBN,EAAMa,QAAQgC,WAAWC,MAC1Cb,UAAWjC,EAAMkB,QAAQ,GACzBT,QAAST,EAAMkB,QAAQ,EAAG,SAI5B6B,EAAW,CACb,CAAEC,MAAO,oBAAkBC,KAAM,KACjC,CAAED,MAAO,YAAaC,KAAM,cAC5B,CAAED,MAAO,cAAYC,KAAM,aAC3B,CAAED,MAAO,WAAYC,KAAM,aAC3B,CAAED,MAAO,gBAAcC,KAAM,eAC7B,CAAED,MAAO,sBAAiBC,KAAM,kBAI9BC,EAAcC,aAAW,SAACnD,GAAD,MAAY,CACvCoD,MAAO,CACL1B,OAAQ,EACRF,KAAM,EACNf,QAAS,YAJK0C,CAMdE,KA0HSC,ICnNXC,EDmNWD,eANf,SAAyB9F,GACrB,MAAO,CACHgG,YAAahG,EAAMK,KAAK2F,eAIjBF,CAAyBG,aAxHzB,SAAAC,GAIP,IAAAF,EAAW,OAAGE,QAAH,IAAGA,OAAH,EAAGA,EAAOF,YACrBG,EAAU7D,IACR8D,EAAaF,EAAMG,SAAnBD,SACFE,EAASC,aAAaC,QAAQ,UAPd,EAUMC,mBAASC,SAASL,SAASD,UAVjC,mBAUfO,EAVe,KAUTC,EAVS,OAWcH,qBAXd,mBAWfI,EAXe,KAWHC,EAXG,KAepBC,qBAAU,WACN,GAAIf,GAAegB,MAAMC,QAAQjB,GAAc,CAC3C,IAAMkB,EAAQlB,EACTmB,QAAO,SAAAC,GAAC,OAAoB,IAAhBA,EAAEC,aACdC,OAELR,EAAcI,GAElBN,EAAYR,KACb,CAACA,EAAUS,EAAYb,IAE1B,IAAMuB,EAAW,SAAA9B,GAAS,IAAD,EAEjB+B,EAAK,UAAGd,SAASe,cAAc,kCAA1B,aAAG,EAAmDD,MAC3DE,EAAU,GACVC,EAAU,GAmBd,MAfa,kBAAThB,GAA4BL,EACxBkB,IACAA,EAAM,oBAAsB,UAC5BA,EAAM,iBAAmB,oBAIxBb,EAAKlG,MAAMgF,IAAkB,MAATA,IACzBiC,EAAU,UACVC,EAAU,mBACNH,IACAA,EAAM,oBAAsB,GAC5BA,EAAM,iBAAmB,KAG1B,CAAEE,UAASC,UAASC,QAlBb,GAkBsBC,MAjBxB,QAoBhB,OACI,kBAAC,IAAMC,SAAP,KACI,kBAACC,EAAA,EAAD,MAEA,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQC,KAAK,SAAb,oBACA,kBAACC,EAAA,EAAD,CACIC,UAAU,KACVC,QAAQ,KACRtF,MAAM,UACNuF,MAAM,SACNC,QAAM,EACNC,UAAWrC,EAAQ1D,cANvB,4DAUA,kBAACgG,EAAA,EAAD,KACI,kBAAC,IAAD,OAEJ,kBAACR,EAAA,EAAD,CAAQI,QAAQ,WAAWH,KAAK,SAAhC,gBAIJ,kBAACF,EAAA,EAAD,CAASI,UAAU,MAAMC,QAAQ,QAAQG,UAAWrC,EAAQxD,kBACvD4C,EAAS1E,KAAI,WAAkB6H,GAAlB,IAAGjD,EAAH,EAAGA,KAAMD,EAAT,EAASA,MAAT,OACV,kBAACmD,EAAA,EAAD,CACIP,UAAWQ,IACXC,GAAIpD,EACJqD,IAAKJ,EACL3F,MAAM,UACNwF,QAAM,EACNF,QAAQ,QACRU,KAAK,GACLvB,MAAO,CACHwB,WAAY,gDACZC,SAAU,OACVnG,gBAAiByE,EAAS9B,GAAMiC,QAChCwB,aAAc3B,EAAS9B,GAAMkC,QAC7BwB,WAAY5B,EAAS9B,GAAMoC,MAC3BuB,UAAW7B,EAAS9B,GAAMmC,SAE9BY,UAAWrC,EAAQnD,YACnBqG,QAAS,kBAAMzC,EAAYnB,KAGb,wBAAVD,EAEI,kBAACE,EAAD,CAAa4D,aAAczC,EAAY9D,MAAM,aACzC,8BACKyC,IAITA,YExLjB+D,EArBA,WACX,OAAO,M,kBCAI,kBAAEC,EAAF,EAAEA,MAAOC,EAAT,EAASA,IAAKC,EAAd,EAAcA,UAAd,OAEX,yBAAKlB,UAAU,WACX,kBAACmB,EAAA,EAAD,CAAMC,MAAOH,EACTI,eAAe,UACfC,UAAU,UACVC,UAAQ,EACRC,SAAUN,GACTF,EAAM3I,KAAI,SAACoJ,EAAMvB,GAAP,OAAY,kBAACwB,EAAA,EAAD,CAAKpB,IAAKJ,EAAGyB,MAAOF,U,oGCX1CG,GAAc,SAACzI,EAAU0I,EAAcC,GAEhD,IAAIC,EAAa,GAAIC,EAAc,GAsBnC,OApBe7I,EAASd,KAAI,SAAAC,IACpB,OAACA,QAAD,IAACA,OAAD,EAACA,EAAG2J,UAAQ3J,EAAE2J,OAAS,KACvB,OAAC3J,QAAD,IAACA,OAAD,EAACA,EAAG4J,oBAAkB5J,EAAE4J,iBAAmB,IAE/C5J,EAAE2J,OAAOlK,SAAQ,SAAAoK,GACbN,EAAa9J,SAAQ,YAAmB,IAAhBK,EAAe,EAAfA,GAAIqJ,EAAW,EAAXA,KACpBrJ,IAAO+J,GAAMJ,EAAW7J,KAAKuJ,SAIzCnJ,EAAE4J,iBAAiBnK,SAAQ,SAAAoK,GACvBL,EAAe/J,SAAQ,YAAmB,IAAhBK,EAAe,EAAfA,GAAIqJ,EAAW,EAAXA,KACtBrJ,IAAO+J,GAAMH,EAAY9J,KAAKuJ,SAG1C,IAAMW,EAAM,2BAAQ9J,GAAR,IAAWuJ,aAAcE,EAAYD,eAAgBE,IAGjE,OAFAD,EAAa,GACbC,EAAc,GACPI,MAKFC,GAAkB,SAACzK,EAAY0K,GAExC,IAAIC,EAAa,GAMjB,OALAD,EAAIvK,SAAQ,SAAAyK,GACR5K,EAAWG,SAAQ,YAAmB,IAAhBK,EAAe,EAAfA,GAAIqJ,EAAW,EAAXA,KAClBe,IAAcpK,GAAImK,EAAWrK,KAAKuJ,SAGvCc,GC9BEE,GAAU,WAA4B,IAA3BC,EAA0B,uDAAP,GACvC,8CAAO,WAAOC,EAAUC,GAAjB,2BAAAC,EAAA,yDAECC,EAAe,GACfC,EAAc,KAEdL,EAAiB5D,OAAS,GAL3B,uBAMC4D,EAAiB3K,SAAQ,SAAAiL,GACrBF,EAAa5K,KAAK+K,KAAMC,IAAN,eAAkBF,QAPzC,SAUOG,QAAQC,IAAIN,GACbO,MAAK,SAAAC,GAAG,OAAIA,EAAIjL,KAAI,SAAAkL,GAAC,OAAIC,IAAMC,aAAaF,EAAE1L,YAC9CwL,MAAK,SAAAK,GACFA,EAAc3L,SAAQ,SAACC,EAAIkI,GACvB,IAAII,EAAMoC,EAAiBxC,GACtByD,QAAQ,YAAa,IACrBA,QAAQ,eAAgB,IACxBA,QAAQ,QAAS,IACtBrD,EAAMkD,IAAMI,SAAStD,GACrBuD,OAAOC,OAAOf,EAAdc,OAAA,IAAAA,CAAA,GAA8BvD,EAAMtI,UAnBjD,OAwBC,CAAC,iBAAkB,gBAAgB+L,OAAM,SAAAC,GAAC,OAAIjB,EAAYkB,eAAeD,QACjElC,EAAiCiB,EAAjCjB,eAAgBD,EAAiBkB,EAAjBlB,aACpB1I,EAAW4J,EAAY5J,WAAZ,UAAwByJ,IAAW/K,YAAnC,aAAwB,EAAiBsB,UAElDE,EAAcuI,GAAYzI,EAAU0I,EAAcC,GACxDiB,EAAY5J,SAAWE,GAG3BsJ,EAAS,CACLjL,KAAM,WACNC,QAASoL,IAlCV,2CAAP,yDAuCSmB,GAAa,SAACC,EAAgBvM,GAAjB,OAAgC,SAAC+K,EAAUC,GAEjE,IAAI/K,EAAO2L,IAAMC,aAAaU,GAE1BxM,EAAU,CAAEC,aAAYC,QACxBuM,EAAcxB,IAAW/K,KAAKuM,YAElC,GAAKA,EAAL,CAKA,GAAmB,aAAfxM,GAA6BC,EAAK,GAAI,CAAC,IAAD,MAEG+K,IAAW/K,KAA5CiK,EAF8B,EAE9BA,eAAgBD,EAFc,EAEdA,aAGpBwC,EAAU,GACVC,EAAU,IAEd,UAAIzM,EAAK,UAAT,aAAI,EAASoK,SACTpK,EAAK,GAAGoK,OAAOlK,SAAQ,SAAAoK,GACnBN,EAAa9J,SAAQ,YAAmB,IAAhBK,EAAe,EAAfA,GAAIqJ,EAAW,EAAXA,KACpBU,EAAK5J,aAAeH,EAAGG,YAAY8L,EAAQnM,KAAKuJ,UAKhE,UAAI5J,EAAK,UAAT,aAAI,EAASqK,mBACTrK,EAAK,GAAGqK,iBAAiBnK,SAAQ,SAAAwM,GAC7BzC,EAAe/J,SAAQ,YAAmB,IAAhBK,EAAe,EAAfA,GAAIqJ,EAAW,EAAXA,KACtB8C,EAAKhM,aAAeH,EAAGG,YACvB+L,EAAQpM,KAAKuJ,SAK7B5J,EAAK,GAAGgK,aAAewC,EACvBxM,EAAK,GAAGiK,eAAiBwC,EAG7B,GAAmB,YAAf1M,GAA4BC,EAAK,GAAGoB,QAAoC,IAA1BpB,EAAK,GAAGoB,OAAO6F,OAAc,CAE3E,IAAM0F,EAAaJ,EAAYvL,MAAK,SAAA4L,GAAE,OAAIA,EAAGrM,KAAOP,EAAK,GAAG6M,gBAExD9L,EAASf,EAAK,GACd8M,EAAS,GAAIC,EAAW,GACxBzL,EAAWyJ,IAAW/K,KAAKsB,SAE3B0L,EAAoB1L,EAASd,KAAI,SAAAC,GAM7B,OALIA,EAAEE,UAAYI,EAAOJ,UACrBF,EAAEkM,WAAaA,EAAWA,WAC1BlM,EAAEwM,YAAclM,EAAOkM,YACvBxM,EAAEyM,WAAanM,EAAOmM,YAEnBzM,KAGfa,EAASpB,SAAQ,SAAAO,GACTA,EAAEE,UAAYI,EAAOJ,UACrBmM,EAAOzM,KAAKI,EAAE0M,OACdJ,EAAS1M,KAAKI,EAAE2M,eAGxBrM,EAAOK,OAAS0L,EAChB/L,EAAOO,SAAWyL,EAClBhM,EAAS,CAACA,GAEV,IAAMsM,EAAoB,CAAErN,KAAMgN,EAAmBjN,WAAY,YACjEuN,aAAM,WACFxC,EAAS,CAAEjL,KAAM,cAAeC,QAAS,CAAEE,KAAMe,EAAQhB,WAAY,aACrE+K,EAAS,CAAEjL,KAAM,oBAAqBC,QAASuN,YAEhDvC,EAAS,CAAEjL,KAAM,cAAeC,iBAjEnCgL,EAAS,CAAEjL,KAAM,cAAeC,cAqE3ByN,GAAa,SAACjB,EAAgBvM,EAAYQ,GAA7B,OAAoC,SAACuK,EAAUC,GAKrE,IAAI/K,EAAO2L,IAAMC,aAAaU,GALoD,EAOzCvB,IAAW/K,KAA5CgK,EAP0E,EAO1EA,aAAcC,EAP4D,EAO5DA,eACH,aAAflK,GAA6BiK,GAAgBC,IAC7CjK,EAAO+J,GAAY/J,EAAMgK,EAAcC,IAI3Ca,EAAS,CAAEjL,KAAM,cAAeC,QAFhB,CAAEC,aAAYC,OAAMO,UAM3BiN,GAAa,SAAC/C,EAAKgD,EAAU1N,EAAY2N,GAA5B,OAA2C,SAAC5C,EAAUC,GAE5E,IAAM4C,EAAkB5C,IAAW/K,KAAKD,GAExC,GAAI0K,GAAOA,EAAI,IAAMgD,EAAU,CAC3B,IAAIG,EAAeD,EAAgB7G,QAAO,SAAA+G,GAAG,OAAIpD,EAAIqD,MAAK,SAAAvN,GAAE,OAAIA,IAAOsN,EAAIH,SAE3EE,EAAa1N,SAAQ,SAAA2N,GACjB,IAAME,EAAO/B,OAAOC,OAAO,GAAI4B,EAAIJ,SAAUA,GAC7CI,EAAIJ,SAAWM,KAInBjD,EAAS,CAAEjL,KAAM,cAAeC,QADhB,CAAEC,aAAYC,KAAM4N,EAAcrN,GAAImN,QAMjDM,GAAmB,SAAChO,EAAMD,GAAP,OAAsB,SAAA+K,GAKlDA,EAAS,CACLjL,KAAM,oBACNC,QAJY,CAAEE,KADlBA,EAAO2L,IAAMC,aAAa5L,GACFD,kBA6CfkO,GAAY,SAAC1N,EAAIgB,EAASxB,GAAd,OAA6B,SAAA+K,GAClDvJ,EAAUoK,IAAMI,SAASxK,GACzBuJ,EAAS,CACLjL,KAAM,aACNC,QAAS,CAAES,KAAIgB,UAASxB,kBCtMjBmO,GATC,WACZ,OACI,yBAAK/F,UAAU,WACX,yBAAKgG,IAAI,sBAAsBC,IAAI,GAAGC,OAAO,OAAO5J,MAAM,SAC1D,gDCNC6J,GAAoB,CAE7B,CACIvO,WAAY,eACZwO,MAAO,OACPzE,MAAO,eACP0E,KAAM,iBACNC,MAAO,gBAEX,CACI1O,WAAY,iBACZwO,MAAO,OACPzE,MAAO,0BACP0E,KAAM,mBACNC,MAAO,kBAEX,CACI1O,WAAW,kBACXwO,MAAO,QACPzE,MAAO,uBACP0E,KAAK,kBACLC,MAAO,oBAEX,CACI1O,WAAY,cACZwO,MAAO,SACPzE,MAAO,wBACP0E,KAAK,mBACLC,MAAO,qBAEX,CACI1O,WAAY,cACZwO,MAAO,QACPzE,MAAO,mBACP0E,KAAM,cACNC,MAAO,gBAEX,CACI1O,WAAY,gBACZwO,MAAO,eACPzE,MAAO,oBACP0E,KAAM,eACNC,MAAO,iBAEX,CACI1O,WAAY,cACZwO,MAAO,aACPzE,MAAO,cACP0E,KAAM,aACNC,MAAO,cAEX,CACI1O,WAAY,SACZ0O,MAAO,WN3CTC,GAAWC,EAAQ,KAGV,YAAUC,EAAcC,GAEnC,IAAIC,EAAc,GACbF,EAAaG,SAAS,qBAAqBH,EAAavO,KAAK,oBAClEyO,EAAcF,EAAapO,KAAI,SAAAwO,GAAG,OAAIA,EAAIlD,QAAQ,YAAa,IAAIA,QAAQ,eAAgB,IAAIA,QAAQ,QAAS,OAJ3D,IAM/CmD,EAN+C,8SASrCC,EAAUC,KAAKtJ,MAAfqJ,MACJE,EAAU,GAEdR,EAAa1O,SAAQ,SAAA8O,GACjB,IAAMK,EAAUL,EAAIlD,QAAQ,YAAa,IAAIA,QAAQ,eAAgB,IAAIA,QAAQ,QAAS,IACrFoD,EAAMG,IAAaH,EAAMG,GAAS,IACnCD,EAAQ/O,KAAK2O,OAIjBI,EAAQ,GAnBiC,gCAmBvBD,KAAKtJ,MAAM+E,QAAQwE,GAnBI,OAqBxC1J,IAAQA,EAASgJ,MACtBhJ,EAAO4J,GAAG,iBAAiB,SAAAC,GAAe,OAAI,EAAK1J,MAAMwG,WAAWkD,EAAiB,eACrF7J,EAAO4J,GAAG,mBAAmB,SAAAC,GAAe,OAAI,EAAK1J,MAAMwG,WAAWkD,EAAiB,cACvF7J,EAAO4J,GAAG,iBAAiB,SAAAC,GAAe,OAAI,EAAK1J,MAAMwG,WAAWkD,EAAiB,eACrF7J,EAAO4J,GAAG,gBAAgB,SAAAC,GAAe,OAAI,EAAK1J,MAAMwG,WAAWkD,EAAiB,aACpF7J,EAAO4J,GAAG,sBAAsB,SAAAC,GAAe,OAAI,EAAK1J,MAAMwG,WAAWkD,EAAiB,mBAC1F7J,EAAO4J,GAAG,kBAAkB,gBAAGC,EAAH,EAAGA,gBAAiBxP,EAApB,EAAoBA,WAApB,OAAqC,EAAK8F,MAAMwG,WAAWkD,EAAiBxP,MAExG2F,EAAO4J,GAAG,eAAe,YAAiC,IAA9BC,EAA6B,EAA7BA,gBAAiBd,EAAY,EAAZA,MACjC1O,EAAeuO,GAAkBtN,MAAK,SAAAb,GAAE,OAAIA,EAAGsO,QAAUA,KAAzD1O,WACR,EAAK8F,MAAMwG,WAAWkD,EAAiBxP,MAG3C2F,EAAO4J,GAAG,iBAAiB,SAAAE,GAAc,OAAI,EAAK3J,MAAM0H,WAAWiC,EAAgB,WAAY,gBAC/F9J,EAAO4J,GAAG,mBAAmB,SAAAE,GAAc,OAAI,EAAK3J,MAAMmI,iBAAiBwB,EAAgB,cAC3F9J,EAAO4J,GAAG,gBAAgB,SAAAE,GAAc,OAAI,EAAK3J,MAAMmI,iBAAiBwB,EAAgB,aACxF9J,EAAO4J,GAAG,sBAAsB,gBAAGvP,EAAH,EAAGA,WAAYC,EAAf,EAAeA,KAAMyP,EAArB,EAAqBA,WAArB,OAAsC,EAAK5J,MAAM0H,WAAWvN,EAAMD,EAAY0P,MAC9G/J,EAAO4J,GAAG,cAAc,SAAAE,GAAc,OAAI,EAAK3J,MAAM0H,WAAWiC,EAAgB,cAAe,SAC/F9J,EAAO4J,GAAG,aAAa,gBAAG7E,EAAH,EAAGA,IAAK1K,EAAR,EAAQA,WAAY0P,EAApB,EAAoBA,WAApB,OAAqC,EAAK5J,MAAM0H,WAAW9C,EAAK1K,EAAY0P,MACnG/J,EAAO4J,GAAG,cAAc,gBAAG7E,EAAH,EAAGA,IAAKgD,EAAR,EAAQA,SAAU1N,EAAlB,EAAkBA,WAAY0P,EAA9B,EAA8BA,WAA9B,OAA+C,EAAK5J,MAAM2H,WAAW/C,EAAKgD,EAAU1N,EAAY0P,MACxH/J,EAAO4J,GAAG,kBAAkB,gBAAGvP,EAAH,EAAGA,WAAYiN,EAAf,EAAeA,kBAAf,OAAuC,EAAKnH,MAAMmI,iBAAiBhB,EAAmBjN,MAElH2F,EAAO4J,GAAG,aAAa,SAAAI,GAAW,IACtBnP,EAA4BmP,EAA5BnP,GAAIgB,EAAwBmO,EAAxBnO,QAASxB,EAAe2P,EAAf3P,WACrB,EAAK8F,MAAMoI,UAAU1N,EAAIgB,EAASxB,MAGtC2F,EAAO4J,GAAG,eAAe,SAAAI,GAAW,IACxBH,EAAgCG,EAAhCH,gBAAiBxP,EAAe2P,EAAf3P,WACzB,EAAK8F,MAAMwG,WAAWkD,EAAiBxP,MAlDE,oJAsDxC2F,IAAQA,EAASgJ,GAAS,UACd,CAAC,gBAAiB,kBAAmB,gBAAiB,eAAgB,cACnF,iBAAkB,qBAAsB,gBAAiB,kBAAmB,eAAgB,aAAc,YAC1G,aAAc,aAETxO,SAAQ,SAAAC,GAAE,OAAIuF,EAAOiK,IAAIxP,QA3DW,+BA6DvC,IAAD,OAIL,OAA2B,KAF3B2O,EAAcA,EAAYtO,KAAI,SAAAoP,GAAC,OAAIjE,IAAMI,SAAS6D,OAElC3I,QAAiB6H,EAAY5C,OAAM,SAAA2D,GAAG,OAAI,EAAKhK,MAAMqJ,MAAM9C,eAAeyD,MAI/E,kBAAChB,EAAqBM,KAAKtJ,OAH3B,kBAAC,GAAD,UAlEkC,GAMlCiK,IAAMC,WAgFzB,OAAOtK,aAZP,SAAyB9F,GACrB,MAAO,CACHuP,MAAM,eACCvP,EAAMK,UAKrB,SAA4B8K,GACxB,OAAOkF,YAAmB,CAAEpF,WAASyB,cAAYkB,cAAYS,oBAAkBC,aAAWT,eAAc1C,KAGrGrF,CAA6CwJ,IO7FlDgB,I,OAAgB,CAClB,CACI9K,MAAO,cACP+K,KAAM,SACNC,YACI,iEACJ/K,KAAM,YACNgL,SAAU,wBAEd,CACIjL,MAAO,WACP+K,KAAM,SACNC,YACI,kEACJ/K,KAAM,YACNgL,SAAU,0BAEd,CACIjL,MAAO,YACP+K,KAAM,SACNC,YACI,+DACJ/K,KAAM,aACNgL,SAAU,0BAEd,CACIjL,MAAO,gBACP+K,KAAM,SACNC,YACI,+EACJ/K,KAAM,cACNgL,SAAU,4BAmDHC,UAAS,CAAC,qBA/CxB,WAEG,OACI,kBAAC,IAAM5I,SAAP,KACI,yBACIN,MAAO,CACHmJ,UAAW,OACX7L,MAAO,OACP4J,OAAQ,SAEZ,0BAAMlG,UAAU,gBACZ,2CAGA,6FAIJ,6BAASA,UAAU,sBACd8H,GAAczP,KAAI,WAAyC6H,GAAzC,IAAGjD,EAAH,EAAGA,KAAMD,EAAT,EAASA,MAAOgL,EAAhB,EAAgBA,YAAaC,EAA7B,EAA6BA,SAA7B,OACf,yBAAK3H,IAAKJ,EAAGF,UAAU,YAEnB,kBAAC,IAAD,CAAMK,GAAIpD,EAAM+B,MAAO,CAAEoJ,eAAgB,SACrC,yBAAKpI,UAAU,YACX,yBAAKA,UAAU,gBACX,wBAAIA,UAAU,eAAehB,MAAO,CAAC2B,WAAY,MAC5C3D,GAEL,uBAAGgD,UAAU,gBACRgI,IAIT,yBAAKhI,UAAU,aACX,yBAAKgG,IAAKiC,EAAUhC,IAAKjJ,EAAOgD,UAAU,2BCvE5EqI,I,OAAY,CACd,CACIrL,MAAO,0BACP+K,KAAM,SACNC,YACI,0CACJC,SAAU,sBACVhL,KAAM,aAEV,CACID,MAAO,2BACP+K,KAAM,SACNC,YACI,iCACJ/K,KAAM,YACNgL,SAAU,mBAEd,CACIjL,MAAO,UACP+K,KAAM,SACNC,YACI,kCACJ/K,KAAM,WACNgL,SAAU,8BAEd,CACIjL,MAAO,SACP+K,KAAM,SACNC,YACI,kCACJ/K,KAAM,UACNgL,SAAU,sBAEd,CACIjL,MAAO,QACP+K,KAAM,SACNC,YACI,uBACJ/K,KAAM,gBACNgL,SAAU,0BAEd,CACIjL,MAAO,sBACP+K,KAAM,SACNC,YACI,wCACJ/K,KAAM,UACNgL,SAAU,yBAIH,SAASK,GAAa5K,GAAQ,IACjCzF,EAAUyF,EAAVzF,MACR,OACI,6BACI,yBAAK+H,UAAU,aACX,2CAGA,sEAIJ,6BAASA,UAAU,eAEXqI,GAAUhQ,KAAI,WAAyC6H,GAAzC,IAAGlD,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAMgL,EAAhB,EAAgBA,SAAUD,EAA1B,EAA0BA,YAA1B,OACV,kBAAC,IAAD,CAAM3H,GAAIpI,EAAMsQ,IAAMtL,EAAMqD,IAAKJ,EAAGF,UAAU,QACtC,0BAAMA,UAAU,aAAhB,IAA6B,yBAAKgG,IAAKiC,EAAUhC,IAAKjJ,IAAtD,KACA,yBAAKgD,UAAU,YACX,4BAAMhD,GACN,+BAAMgL,U,aCxE7BQ,GAAY,SAAC1K,EAAQiJ,GAAW,IAAD,MAcpC0B,EACAC,EAOkB,EApBhBvP,EAAkE4N,EAAlE5N,SAAUwP,EAAwD5B,EAAxD4B,SAAUC,EAA8C7B,EAA9C6B,YAAa/G,EAAiCkF,EAAjClF,aAAcC,EAAmBiF,EAAnBjF,eACjD+G,EAHoC,OAG1B/K,QAH0B,IAG1BA,OAH0B,EAG1BA,EAAQ+K,QAElBC,EAAU3P,EAASN,MAAK,SAAAP,GAAC,OAAIA,EAAE2M,YAAcnH,EAAOmH,aACpD8D,EAAkBlF,OAAOmF,OAAOF,GAEhCG,EAAkBN,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEC,eAAF,OAAkBrL,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAQsL,YAC/DD,EAToC,OAStBF,QATsB,IAStBA,OATsB,EAStBA,EAAiBE,YAC/BE,EAAcF,EAGdG,EAAkB,eAAKR,IAAa,KAOpCS,EAAgB,UAAGV,GADb,OAAGA,QAAH,IAAGA,OAAH,EAAGA,EAAS/J,QACkB,UAApB,iBAAG,EAAqB2J,kBAAxB,aAAG,EAAiCe,yBAEpDD,IACAb,EAAa,UAAGC,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEO,gBAAkBF,YAA1C,aAAG,EAA0DJ,YACtEV,GAAoC,kBAAfA,IAAyBA,EAAWC,cAAgBA,IAQjF,GAJIlK,MAAMC,QAAQoK,KAAUJ,EAAU,UAAGI,EAAQa,UAAU7Q,MAAK,SAAAb,GAAE,OAAIA,EAAGiM,eAAe,wBAAlD,aAAG,EAA+DwE,YAIpGA,EAAY,CACZ5E,OAAO8F,KAAKlB,GAAY1Q,SAAQ,SAAAuI,GAAG,OAAIgJ,EAAgBhJ,GAAOmI,EAAWnI,MAD7D,MAEyBmI,EAA7BxG,EAFI,EAEJA,OAAQC,EAFJ,EAEIA,iBACZD,IAAQqH,EAAgBzH,aAAeQ,GAAgBR,EAAcI,IACrEC,IAAkBoH,EAAgBxH,eAAiBO,GAAgBP,EAAgBI,IAI3F,IAAkB0H,EAAdC,EAAU,GAAoBC,EAAa,GAAIC,EAAoB,GACvElB,EACKlK,QAAO,SAAA3G,GAAE,OAAIA,EAAGgS,SAChB3R,KAAI,SAAAL,GAAE,OAAIA,EAAGgS,SACbjS,SAAQ,SAAAkS,GACLA,EAAMlS,SAAQ,SAAAK,GAAE,OAAIyR,EAAQ3R,KAAKE,SAEzCwR,EAAiBhB,EAAYjK,QAAO,SAAA+G,GAAG,OAAiC,IAA7BmE,EAAQK,QAAQxE,EAAItN,OAE/D,IAAI+R,EAAc,GAmBlB,OAlBAP,EAAe7R,SAAQ,SAAAqS,GAAS,IACpBC,EAAcD,EAAK9E,SAAnB+E,UACHF,EAAYvD,SAASyD,GAIrBN,EAAkBM,GAAWnS,KAAKkS,IAHnCD,EAAYjS,KAAKmS,GACjBN,EAAkBM,GAAa,CAACD,OAKxCvG,OAAO8F,KAAKI,GAAmBhS,SAAQ,SAAAqO,GACnC,IACIkE,EACJA,EAFqBP,EAAkB3D,GAEhBmE,QAAO,SAAC1H,EAAG2H,GAAJ,OAAU,IAAIC,KAAK5H,EAAE6H,YAAc,IAAID,KAAKD,EAAEE,YAAc7H,EAAI2H,KAC9FV,EAAW5R,KAAKoS,GAChBA,EAAU,MAIP,2BACAhB,GADP,IACwBP,kBAAiBM,cAAaX,gBAAeS,cAAaF,kBAC9EnL,SAAQ6M,YAAab,EAAYrB,aAAYmC,uBAIrD,SAASA,GAAiBC,EAAaC,GAanC,OAZAjH,OAAO8F,KAAKmB,GAAQ/S,SAAQ,SAAAuI,GACpBwK,EAAOxK,IAAQuK,EAAYvK,KAEf,WAARA,GAA4B,qBAARA,GACpBwK,EAAOxK,GAAKyK,MAAK,SAAClI,EAAG2H,GAAJ,OAAU3H,EAAI2H,KAE/BM,EAAOxK,GAAK/H,aAAesS,EAAYvK,GAAK/H,mBACrCuS,EAAOxK,IAEF,KAAhBwK,EAAOxK,IAA+B,SAAhBwK,EAAOxK,IAAoBwK,EAAOxK,WAAawK,EAAOxK,MAE9DwK,E,cCtFbE,GAAc,SAAChB,EAAOxS,EAAOyT,GAEtC,IAAMC,EAAW,IAAIC,SAErB,GAAInB,GAASA,EAAM,GAUf,OATAiB,EAAkBlT,SAAQ,SAAAqT,GACtB,IAAK,IAAIzB,KAAQnS,EACTmS,EAAK1R,MAAMmT,EAAI/E,OAAS7O,EAAM4T,EAAI/E,OAClC6E,EAASG,IAAID,EAAI/E,KAAM7O,EAAM4T,EAAI/E,UAMtC,CAAEiF,KAAMJ,IAIVK,GAAkB,uCAAG,WAAOL,GAAP,iDAAArI,EAAA,yDAAiByC,EAAjB,+BAA4B,GAAIzG,EAAhC,uBAA2C2M,EAA3C,yBAK1BN,aAAoBC,UALM,iBAMtBM,EAAc,IAAIN,SAGlB7F,EAASoG,UADT7M,EAKJ4M,EAAYE,OAAO,WAAYC,KAAKC,UAAUvG,IAbpB,eAcT4F,GAdS,IAc1B,2BAASY,EAAkB,QACvBL,EAAYJ,IAAIS,EAAK,GAAIA,EAAK,IAfR,+CAkBZ7I,KAAM8I,KAAN,eAAmBP,GAAiBC,GAlBxB,QAkB1BzB,EAlB0B,8BAqB1BA,SArB0B,iBAqB1B,EAAOnS,YArBmB,aAqB1B,EAAauS,MArBa,wBAsBpB4B,EAAahC,EAAMnS,KAAKuS,KAC9B6B,EAAWD,EAAW3T,KAAI,SAAA6T,GAAC,OAAIA,EAAE9T,MAvBP,kBAwBnB6T,GAxBmB,iCA0BlB,MA1BkB,4CAAH,sDA6BlBE,GAAmB,uCAAG,WAAOf,EAAKgB,GAAZ,2BAAAvJ,EAAA,sDAU/B,GARQmH,EAAuBoB,EAAvBpB,MAAOW,EAAgBS,EAAhBT,YACXrF,EAAW,CAAEoG,UAAU,IAEpB,OAAHN,QAAG,IAAHA,OAAA,EAAAA,EAAK9F,oBAAoBzB,SACzByB,EAAWzB,OAAOC,OAAOsH,EAAI9F,SAAUA,IAIvCqF,GAAeA,EAAY,GAC3BrI,EAAMqI,EAAYtS,KAAI,SAAA6T,GAAC,OAAIA,EAAE9T,WAG7B,GAAI4R,aAAiBmB,SAAU,gBACVnB,GADU,IAC3B,IAD2B,iBAClB8B,EADkB,QAEvBnB,EAAY5S,SAAQ,SAACmU,EAAGhM,GAAO,IAAD,EACtB4L,EAAK,MAAL,OAAYI,QAAZ,IAAYA,GAAZ,UAAYA,EAAG5G,gBAAf,aAAY,EAAa+E,YACzBM,EAAYzR,OAAOgH,EAAG,OAHlC,uBAAyB,IADE,8BAO3BoC,EAAMqI,EAAYtS,KAAI,SAAA6T,GAAC,OAAIA,EAAE9T,MArBN,gBAyBzB6K,KAAMoJ,IAAI,2BAA4B,CAAE/J,MAAK1K,WAAYwU,EAAiB9G,aAC3EjC,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI8J,EAAE1L,SA1BE,2CAAH,wDA6BnByU,GAAa,SAACjG,EAAMiF,GAE7B,IAAMiB,EAAgB,IAAIpB,SAE1B,GAAIG,aAAgBH,UAAYG,EAAKkB,IAAInG,GAAO,CAAC,IAAD,iBAC9BiF,GAD8B,IAC5C,2BAAoB,CAAC,IAAZtH,EAAW,QAChBuI,EAAclB,IAAIrH,EAAE,GAAIA,EAAE,KAFc,8BAK5CuI,EAAcE,OAAOpG,GAErB,IAAMqG,EAAS,aAAKC,aAActG,EAAMiF,KAAMiB,GAAgBlG,OAAOuG,GAKrE,OAFmBpO,MAAMqO,KAAKvB,EAAK3B,QAAQ,SAAAmD,GAAC,OAAIA,KAAGhO,QAEjC,IAAMwM,EAAKkB,IAAI,cAAgBlB,EAAKkB,IAAI,cAC/C,aAAEG,kBAAcC,EAAWtB,UAAMsB,GAAYvG,OAAOuG,GAEpDF,I,oBC/FNK,GAAmB,SAACC,EAAWC,GAExC,IACIjJ,EAAI9F,SAASgP,iBAAiB,KAC9BC,EAASjP,SAASgP,iBAAiB,SAGnCvL,EAAQ,GACRyL,EAAS,GACTC,EAAY,yDAuBhB,OArBIrJ,GACAA,EAAEjM,SAAQ,SAAAC,GACN,GAAuB,sBAAnBA,EAAGsV,aAAuD,WAAnBtV,EAAGsV,YAAqB,CAC/D,IACM1O,EADS5G,EAAGuV,WACDL,iBAAiB,SAClCvL,EAAMzJ,KAAK0G,EAAE,QAIrBuO,IAAWF,GACXE,EAAOpV,SAAQ,SAAAC,GACX,GAAgB,SAAZA,EAAGN,OACE8V,KAAOxV,EAAGoJ,MAAO,cAAc,GAAMqM,UAAW,CACjD,IACM7O,EADS5G,EAAGuV,WACDG,gBACjB/L,EAAMzJ,KAAK0G,OAMvB+C,EAAM,IACNA,EAAM5J,SAAQ,SAAA6G,GAAC,OAAIwO,EAAOlV,KAAK0G,EAAE0O,gBACjCF,EAAOrV,SAAQ,SAAAmR,GAAC,OAAImE,GAAanE,EAAI,QACrCmE,EAAYA,EACP1J,QAAQ,OAAQ,IAChBA,QAAQ,OAAQ,IAChBgK,MAAM,GAAI,GAAK,IAEhBX,EAAkB,CAAEY,iBAAiB,EAAMC,UAAW,aAAcC,UAAWT,EAAWD,UACvFA,GACG,MC5CZtE,GAAU,CAEZlR,WAAY,cACZmW,KAAM,cACNzG,WAAY,aAGR1P,GAAiCkR,GAAjClR,WAAYmW,GAAqBjF,GAArBiF,KAAMzG,GAAewB,GAAfxB,WAEb0G,GAAkB,CAC3B,CACIC,QAAS,yBACT9P,KAAM,yBACN+P,cAAe,oCACfC,eAAgB,8CAChBC,gBAAiB,wBACjBxW,cAAYmW,QAAMzG,eAEtB,CACI2G,QAAS,yCACT9P,KAAM,yBACN+P,cAAe,oDACfC,eAAgB,yDAChBC,gBAAiB,gCACjBxW,cAAYmW,QAAMzG,eAfK,2BAkBpBwB,IAlBoB,IAmBvBmF,QAAS,qCACT9P,KAAM,wBACN+P,cAAe,gCACfC,eAAgB,0CAChBC,gBAAiB,oBACjB9G,WAAY,KACZ1P,cAAYmW,UAzBW,2BA6BpBjF,IA7BoB,IA8BvBmF,QAAS,6CACTrW,WAAY,cACZuG,KAAM,uBACN+P,cAAe,+BACfC,eAAgB,yCAChBC,gBAAiB,8BAErB,CACIH,QAAS,sBACT9P,KAAM,6BACNvG,cAAYmW,QAAMzG,eAEtB,CACI2G,QAAS,oCACTrW,WAAY,cACZuG,KAAM,oBAEV,CACI8P,QAAS,YACT9P,KAAM,cAEV,CACI8P,QAAS,sBACTrW,WAAY,cACZuG,KAAM,sBAEV,CACI8P,QAAS,iCACTC,cAAe,4CACfC,eAAgB,sDAChBC,gBAAiB,4CACjBjQ,KAAM,uBACN4P,KAAM,cACNzG,WAAY,YACZ1P,eAEJ,CACIqW,QAAS,6CACTrW,cACAuG,KAAM,6BACN4P,KAAM,cACNzG,WAAY,YACZ4G,cAAe,0CACfC,eAAgB,8BAChBC,gBAAiB,gCC/ElB,SAAeC,GAAtB,mC,8CAAO,WAA4BjD,GAA5B,uDAAAvI,EAAA,yDACG1E,EAAOmQ,OAAOzQ,SAASD,UAEzB2Q,EAAY3C,KAAK4C,MAAM5C,KAAKC,UAAUmC,MAChCjW,SAAQ,SAACC,EAAIkI,GAAL,OAAWlI,EAAGmG,KAAO6P,GAAgB9N,GAAG/B,KAAKwF,QAAQ,YAAa,IAAIA,QAAQ,gBAAiB,IAAIA,QAAQ,YAAa,OAGtI/L,EAAa,cACb6W,EAAgBrD,EAAIqD,cACpBC,EAAe,CACXC,KAAM,eACNC,UAAW,IAAInE,MAInBoE,EAAYN,EAAU1V,MAAK,SAAAqQ,GAAC,OAAI/K,EAAKlG,MAAMiR,EAAE/K,SAC7C1E,EAAMmS,KAAK4C,MAAM5C,KAAKC,UAAUT,IAIhCgB,EAAkB,cAClBZ,EAAgB,gBACfJ,EAAInG,YACLmH,EAAkB,cAClBZ,EAAgB,iBAGd3C,EAAUhF,OAAOC,OAAOsH,EAAIvC,QAAS6F,GAC3CjV,EAAIoP,QAAUA,GAAW,IAGrB4F,GAAmC,IAAlBA,KACbA,EAAgB,IAAM,GAAuB,IAAlBA,IAEvB,OAACrD,QAAD,IAACA,GAAD,UAACA,EAAKvC,eAAN,aAAC,EAAcpR,UAAQgC,EAAIoP,QAAQpR,OAAZ,UAAqBoX,SAArB,aAAqB,EAAWX,eAC3DzU,EAAIqV,OAAS,2BAIT,OAAC1D,QAAD,IAACA,GAAD,UAACA,EAAKvC,eAAN,aAAC,EAAcpR,UAAQgC,EAAIoP,QAAQpR,OAAZ,UAAqBoX,SAArB,aAAqB,EAAWV,gBAC3D1U,EAAIqV,OAAS,yBAIdrV,EAAIgV,eAGJ,OAAHrD,QAAG,IAAHA,OAAA,EAAAA,EAAKhT,KAAMqB,EAAIsV,kBAAkBtV,EAAIsV,WAClC,OAAH3D,QAAG,IAAHA,OAAA,EAAAA,EAAKhT,KAAMqB,EAAIwL,kBAAkBxL,EAAIwL,UAGpCmG,EAAIhT,KAAMgT,EAAI6C,UAASxU,EAAIwU,SAAa,OAAH7C,QAAG,IAAHA,OAAA,EAAAA,EAAK6C,WAAL,UAAgBY,SAAhB,aAAgB,EAAWZ,WAIjE7C,EAAI4D,SAvDL,wBAwDCvV,EAAIoP,QAAQpR,OAAS,+BACrBgC,EAAIqV,OAAS,+BACbrV,EAAIoF,WAAY,EAEVkN,EAAO9I,KAAM8I,KAAK,YAAa,CAAEtS,MAAK7B,eA5D7C,kBA6DQmU,GA7DR,eA+DCX,EAAI6D,WAAa7D,EAAI4D,WACrBvV,EAAIoP,QAAQpR,QAAkB,QAAT,EAAAoX,SAAA,eAAWT,kBAAmB,iCACnD3U,EAAIqV,OAAS,iCACbrV,EAAIoF,WAAY,EAChBsN,GAAoBf,EAAKgB,IAnE1B,UAwEoBb,GAAkB,OAACH,QAAD,IAACA,GAAD,UAACA,EAAKvC,eAAN,aAAC,EAAcmB,MAAf,OAAsBoB,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAK9F,SAA3B,OAAqC7L,QAArC,IAAqCA,OAArC,EAAqCA,EAAKoF,UAAW2M,GAxE3F,eAwEGS,EAxEH,UA2ECxS,EAAIoP,QAAQmB,MAAQiC,GAEoCxS,EAApD6L,SAAoD7L,EAA1CwV,SAA0CxV,EAAhCkR,YAAgBuE,EA7EzC,aA6EyDzV,EA7EzD,uCAgFH8U,EAAY3C,KAAK4C,MAAM5C,KAAKC,UAAUmC,KACtCa,EAAYN,EAAU1V,MAAK,SAAAqQ,GAAC,OAAI/K,EAAKlG,MAAMiR,EAAE/K,SAIvC4N,EAAO9I,KAAM8I,KAAK,YAAa,CAAEtS,IAAKyV,EAAatX,eArFtD,kBAsFImU,GAtFJ,6C,sBCFQ,SAASoD,GAAT,GAAuE,IAAD,IAA9CvX,kBAA8C,MAAjC,GAAiC,EAA7BwX,EAA6B,EAA7BA,SAAUhO,EAAmB,EAAnBA,MAAOuH,EAAY,EAAZA,SAErE,OAAS,OAALvH,QAAK,IAALA,OAAA,EAAAA,EAAOtC,QAAS,GAA2B,kBAAflH,GACZ,gBAAbwX,GAA8BzG,GAAYA,EAAS,KAAI/Q,EAAa+Q,GAEnE,8BAAUvQ,GAAIgX,GAENxX,EAAWS,KAAI,SAACoJ,EAAM1I,GAElB,OACI,4BAAQuH,IAAKvH,GAAQ0I,EAAK2N,SAMvC,K,OCbA,SAASC,GAAc3R,GAAQ,IAGpCiL,EAA2DjL,EAA3DiL,SAAU2G,EAAiD5R,EAAjD4R,YAAaC,EAAoC7R,EAApC6R,WAAYC,EAAwB9R,EAAxB8R,OAAQC,EAAgB/R,EAAhB+R,YAHR,EAI2B/R,EAAM7F,KAApEsR,EAJmC,EAInCA,YAAaK,EAJsB,EAItBA,yBAA0BkG,EAJJ,EAIIA,WAAY5R,EAJhB,EAIgBA,OACrD6R,EAAO,cAGPC,EAAe,CAAC,CAAE5S,MAAO,2BAAsB2S,OAAMtJ,KAAMsJ,EAAMvO,MAAO+H,IACxEqG,GACAI,EAAa1X,KAAK,CAAE8E,MAAO,oCAAqC2S,OAAMtJ,KAAM,2BAA4BjF,MAAOoI,IAGnH,IAAIqG,GAAe,EAKnB,OAHI/R,GACK4R,GAAcA,EAAa,KADxBG,GAAe,GAGvBA,EAEI,yBAAK7P,UAAWtC,EAAMuG,eAAe,UAAY,cAAgB,oBAAqBjF,MAAO,CAAE1C,MAAO,SAE9FsT,EAAavX,KAAI,WAA+B6H,GAA/B,IAAGlD,EAAH,EAAGA,MAAO2S,EAAV,EAAUA,KAAMtJ,EAAhB,EAAgBA,KAAMjF,EAAtB,EAAsBA,MAAtB,OACb,yBAAKpB,UAAU,aAAaM,IAAKJ,GAC7B,wBAAIlB,MAAO,CAAE8Q,OAAQ,QAASC,UAAW,WAAa/S,GACtD,2BACI2S,KAAMA,EACNtJ,KAAMA,EACNrG,UAAU,gBACVoB,MAAOA,EACPI,SAAU8N,EACVU,OAAQT,IAEZ,kBAAC,GAAD,CACI3X,WAAY+Q,EACZyG,SAAUO,EACVvO,MAAOA,SAQ/B,oCACI,0BAAMpB,UAAU,mBAAhB,IAAoCyP,IAAW,OAAI3R,QAAJ,IAAIA,OAAJ,EAAIA,EAAQsL,UAAW,GAAtE,M,wBCzCNtP,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnCiW,UAAW,CACPC,WAAYlW,EAAMkB,QAAQ,GAC1BiV,YAAanW,EAAMkB,QAAQ,GAC3Be,UAAW,MACXhB,aAAc,MAEdwF,SAAU,SACV2P,UAAW,OACXL,UAAW,UAEfM,OAAQ,CACJH,WAAYlW,EAAMkB,QAAQ,GAC1BiV,YAAanW,EAAMkB,QAAQ,GAC3Be,UAAW,MACXhB,aAAc,MACd4B,WAAY,UACZ4D,SAAU,SACV2P,UAAW,OACXL,UAAW,UAEfO,WAAY,CACRR,OAAQ,QACRrP,SAAU,cAIH,SAAS8P,GAAT,GAAoH,IAA/FjB,EAA8F,EAA9FA,YAAaC,EAAiF,EAAjFA,WAAYjE,EAAqE,EAArEA,KAAMzT,EAA+D,EAA/DA,KAAM8Q,EAAyD,EAAzDA,SAAU6H,EAA+C,EAA/CA,cAAeC,EAAgC,EAAhCA,WAAgC,IAApBC,mBAAoB,MAAN,GAAM,EAExH/S,EAAU7D,KACVwW,EAAe3S,EAAf2S,WAEAK,EAAe,SAAC3Y,GAAQ,IAAD,EACrBoJ,EAAQvJ,EAAKG,EAAGoO,OACpB,GAAKhF,EAEL,QAAIpJ,EAAG2Y,eAAgB3Y,EAAG2Y,aAAavP,SAC9BA,IAASpJ,EAAG2Y,cAAiB3Y,EAAG2Y,aAAavP,OAE7C,QAAL,EAAAA,SAAA,eAAOtC,SAAP,OAAgB9G,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAI4Y,aAER,WAAZ5Y,EAAGN,KACC0J,EAAQpJ,EAAG6Y,KAAOzP,EAAQpJ,EAAG8Y,KAIhB,kBAAV1P,IAAoBA,EAAQA,EAAM7I,cACzCP,EAAG+Y,SAA4C,OAA5B3P,EAAMnJ,MAAMD,EAAG+Y,cAIpCC,EAAS,SAAChZ,GAAQ,IAAD,IACfoJ,EAAQvJ,EAAKG,EAAGoO,OACpB,GAAKhF,EACL,OAAIpJ,EAAG2Y,cAAgB3Y,EAAG2Y,aAAavP,GAAe,SAC7CA,GAASpJ,EAAG2Y,eAAiB3Y,EAAG2Y,aAAavP,KAE7C,QAAL,EAAAA,SAAA,eAAOtC,SAAP,OAAgB9G,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAI4Y,WAF6C,UAG5D,QAAL,EAAAxP,SAAA,eAAOtC,UAAP,OAAiB9G,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAI4Y,WAAkB,UAEtB,kBAAVxP,IAAoBA,EAAQA,EAAM7I,YACzC6I,EAAQpJ,EAAG6Y,KAAOzP,EAAQpJ,EAAG8Y,IAAY,oBACR,OAA5B1P,EAAMnJ,MAAMD,EAAG+Y,SAA0B,SACzC/Y,EAAG+Y,SAAuC,OAA5B3P,EAAMnJ,MAAMD,EAAG+Y,SAA0B,SACpD,MAGhB,OACI,yBAAK/Q,UAAU,eAEPsL,EAAKjT,KAAI,SAACL,EAAIkI,GAAL,OACL,kBAAC,WAAD,CAAUI,IAAKJ,GACX,kBAAC+Q,GAAA,EAAD,CACI5K,KAAMrO,EAAGoO,MACTzE,MAAO3J,EAAG2J,MACVmO,OAAQ9X,EAAG8X,OACX9P,UAAWrC,EAAQsS,UACnBzO,SAAU8N,EACVU,OAAQT,EACR7X,KAAMM,EAAGN,MAAQ,GACjBwZ,MAAOP,EAAa3Y,GACpBsY,WAAYU,EAAOhZ,GACnBmZ,oBAAqB,CAAEnR,UAAWsQ,GAClCD,OAAQrY,EAAGqY,SAAU,EACrBjP,MAAOvJ,EAAKG,EAAGoO,QAAU,GACzBgL,SAAUpZ,EAAGoZ,UAAYX,GAAcC,EAAY9J,SAAS5O,EAAGoO,SAAU,EACzEiL,gBAAiB,CACbrR,UAAWrC,EAAQsS,UACnBqB,OAAoB,SAAZtZ,EAAGN,WAAmBkV,EAC9B5N,MAAO,CAAEyB,SAAU,SAAUE,WAAY,IAAKpG,MAAO,OAASiG,WAAY,oDAE9E+Q,WAAY,CACRvS,MAAO,CACHnC,WAAY7E,EAAGoZ,UAAYvZ,EAAK2Z,QAAU,OAAS,UACnD/Q,SAAU,UAAWsP,UAAW,SAAUxV,MAAO,OAAQ+B,MAAOtE,EAAGsE,OAAS,IAAK4J,OAAQ,MACzF1F,WAAY,mDAEhBY,MAAM,GAAD,OAAKvJ,EAAKG,EAAGoO,QAAU,IAC5BuJ,KAAM3X,EAAGoX,UAAY,GACrBqC,UAAWzZ,EAAGyZ,WAAa,GAC3Bb,UAAW5Y,EAAG4Y,WAAa,GAC3BC,IAAK7Y,EAAG6Y,KAAO,IAGnBa,UAAW1Z,EAAG0Z,YAAa,EAC3BC,KAAM3Z,EAAG2Z,MAAQ,KACjB9R,QAAS7H,EAAG6H,SAAW,SACvB+R,UAAW5Z,EAAG4Z,YAAa,EAC3BC,YAAa,CACT7S,MAAO,CACHnC,WAAY7E,EAAGoZ,UAAYvZ,EAAK2Z,QAAU,OAAS,UACnD/Q,SAAU,SAAUsP,UAAW,SAAUxV,MAAO,OAAQoG,WAAY,IACpErE,MAAO,IAAK4J,OAAQ,WAIb,IAAdlO,EAAGqY,OACAG,EACIA,EAAcnY,KAAI,SAACyZ,EAAK5R,GAAN,OACd,kBAAC6R,GAAA,EAAD,CAAUzR,IAAKJ,EAAGkB,MAAO0Q,GACpBA,MAIT9Z,EAAGga,QAAQ3Z,KAAI,SAACyZ,EAAK5R,GAAN,OACX,kBAAC6R,GAAA,EAAD,CAAUzR,IAAKJ,EAAGkB,MAAO0Q,GACpBA,MAGX,OAIW,IAApB9Z,EAAGmX,cAAyB,kBAAC,GAAD,CACzBvX,WAAYC,EAAKG,EAAGJ,YACpB+Q,SAAUA,EACVyG,SAAUpX,EAAGoX,SACbhO,MAAOvJ,EAAKG,EAAGoO,QAAU,UCjJtC,SAAS6L,GAAT,GAAoC,IAAZC,EAAW,EAAXA,SACnC,OACI,yBAAKlS,UAAU,gBACX,uBAAGA,UAAU,iCAAb,iBACA,0BAAMhB,MAAO,CAAEyB,SAAU,WACpByR,I,4CCPJC,GAAe,CACxB,CACI/L,MAAO,YACPzE,MAAO,YACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,GACLuB,KAAM,GAEV,CACIhM,MAAO,WACPzE,MAAO,mBACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,KAET,CACIzK,MAAO,QACPzE,MAAO,QACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,GAET,CACIzK,MAAO,cACPzE,MAAO,iBACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,IAET,CACIzK,MAAO,gBACPzE,MAAO,sBACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,MAET,CACIzK,MAAO,eACPzE,MAAO,qBACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,MAET,CACIzK,MAAO,YACPzE,MAAO,YACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,KAET,CACIzK,MAAO,iBACPzE,MAAO,kBACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,IAET,CACIzK,MAAO,kBACPzE,MAAO,8BACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,KAET,CACIzK,MAAO,kBACPzE,MAAO,8BACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,MCpEAwB,GAAiB,CAAC,CAAC,CAC5BjM,MAAO,QACPzE,MAAO,QACPmO,OAAQ,SACR2B,UAAW,EACXV,QAAS,sEAEb,CACI3K,MAAO,UACPzE,MAAO,UACPmO,OAAQ,SACR2B,UAAW,GACXV,QAAS,WAEb,CACI3K,MAAO,aACPzE,MAAO,mBACPmO,OAAQ,SACRO,QAAQ,EACR2B,QAAS,CAAC,eAAgB,YAAa,QAAS,aAAc,WAElE,CACI5L,MAAO,UACPzE,MAAO,sBACPmO,OAAQ,SACR2B,UAAW,IAEf,CACIrL,MAAO,eACPzE,MAAO,mBACPmO,OAAQ,SACRV,SAAU,eACVD,cAAc,EACdvX,WAAY,iBAEhB,CACIwO,MAAO,YACPzE,MAAO,gBACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAKvX,QAAO,IAAImR,MAAO6H,eACvBxB,IAAKxX,QAAO,IAAImR,MAAO6H,eAAiB,IAE5C,CACIlM,MAAO,cACPzE,MAAO,uBACPmO,OAAQ,SACRyC,MAAM,EACNxB,QAAS,YACTH,UAAW,EACXa,UAAW,IAEf,CACIrL,MAAO,mBACPzE,MAAO,uBACPmO,OAAQ,SACRV,SAAU,SACVD,cAAc,EACdvX,WAAY,eAEhB,CACIF,KAAM,SACN0O,MAAO,gBACPzE,MAAO,oBACPmO,OAAQ,SACRe,IAAKvX,QAAO,IAAImR,MAAO6H,cAAgB,GACvCxB,IAAKxX,QAAO,IAAImR,MAAO6H,eAAiB,IAE5C,CACIlM,MAAO,kBACPzE,MAAO,2BACPmO,OAAQ,SACRyC,MAAM,EACNxB,QAAS,YACTH,UAAW,EACXa,UAAW,IAEf,CACIrL,MAAO,UACPzE,MAAO,gCACPmO,OAAQ,SACRO,QAAQ,EACR2B,QAAS,CAAC,wBAAmB,UAAW,cAE5C,CACI5L,MAAO,QACPzE,MAAO,QACPmO,OAAQ,SACR2B,UAAW,MAGVe,OAAO,CAACL,KC3FE,SAASM,GAAT,GAAwD,IAA5BC,EAA2B,EAA3BA,MAA2B,IAApB1V,aAAoB,MAAZ,SAAY,EAClE,OACI,yBAAKgC,MAAO,CACRpE,SAAU,WACVY,IAAK,OACLE,MAAO,SAEP,6BACI,uBACIsE,UAAU,uBACVhD,MAAOA,EACPgC,MAAO,CAAE2T,OAAQ,UAAWpY,MAAO,OACnCsG,QAAS6R,GAJb,W,OCHD,SAASE,GAAT,GAAsE,IAAD,EAAhD/a,EAAgD,EAAhDA,KAAMH,EAA0C,EAA1CA,KAAMmK,EAAoC,EAApCA,aAAcgR,EAAsB,EAAtBA,YAAaH,EAAS,EAATA,MAIvE,OAFIlU,MAAMC,QAAQoD,KAAd,UAA+BA,EAAa,UAA5C,aAA+B,EAAiBJ,QAAMI,EAAeA,EAAakJ,MAAK,SAAClI,EAAG2H,GAAJ,OAAU3H,EAAEpB,KAAKqR,cAActI,EAAE/I,UAErH,yBAAKzB,UAAU,cAAchB,MAAO,CAAEtD,MAAO,MAAOC,KAAM,QAC7D,wBAAIqE,UAAU,gBAAyB,iBAATtI,EAA0B,eAAiB,2BADtE,IACsG,6BACzG,yBAAKsI,UAAU,sBAEP6B,EAAaxJ,KAAI,SAAC0a,EAAI7S,GAAL,OACb,0BAAMF,UAAU,kBAAkBM,IAAKJ,GACnC,kBAAC8S,GAAA,EAAD,CACIC,QACI,kBAACC,GAAA,EAAD,CACIC,QAAStb,EAAKkb,EAAGtR,MACjBL,MAAO2R,EAAGtR,KACVD,SAAU,kBAAMqR,EAAYE,EAAGtR,KAAM/J,MAE7CiK,MAAO,uBAAG3B,UAAU,kBAAkB+S,EAAGtR,aAM7D,kBAACgR,GAAD,CAAkBC,MAAOA,KCbjC,IAAM5Y,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCoZ,OAAQ,CACJjD,YAAa,YAIN,eAA0G,IAA9FpJ,EAA6F,EAA7FA,MAAOlP,EAAsF,EAAtFA,KAAMyX,EAAgF,EAAhFA,YAAaC,EAAmE,EAAnEA,WAAY8D,EAAuD,EAAvDA,aAAcR,EAAyC,EAAzCA,YAAaS,EAA4B,EAA5BA,YAAaC,EAAe,EAAfA,YAAe,EAG1FtV,oBAAS,GAHiF,mBAG/GuR,EAH+G,KAGvGgE,EAHuG,KAI9GJ,EAAWtZ,KAAXsZ,OACAzK,EAAuE5B,EAAvE4B,SAAU9G,EAA6DkF,EAA7DlF,aAAcC,EAA+CiF,EAA/CjF,eAAgB2R,EAA+B1M,EAA/B0M,cAAeC,EAAgB3M,EAAhB2M,YACvDhE,EAAkE7X,EAAlE6X,WAAYiE,EAAsD9b,EAAtD8b,UAAWzB,EAA2Cra,EAA3Cqa,SAAUjJ,EAAiCpR,EAAjCoR,gBAAiBvR,EAAgBG,EAAhBH,KAAMsN,EAAUnN,EAAVmN,MAC1DsG,EAAO+G,GAAe3C,GAEtBkE,EAAe/R,EAWnB,MAVa,mBAATnK,IAA2Bkc,EAAe9R,GAE9CjK,EAAK4b,cAAgBA,EACrB5b,EAAK6b,YAAcA,EAEnBnV,qBAAU,WACFgV,GACAC,GAAU,KACf,CAACD,IAGA,oCACI,4BAAQvT,UAA0B,IAAf0P,EAAmB,cAAgB,oBAAqB1Q,MAAO,CAAE1C,MAAO,SACvF,6BAAS0D,UAAU,aAAahB,MAAO,CAAE/D,aAAc,SACnD,kBAACoU,GAAD,CACIxX,KAAMA,EACN2X,OAAQA,EACR7G,SAAUA,EACV8G,YAAazK,GAASiE,GAAT,iCAAmDjE,EAAnD,qBAA8DiE,QAA9D,IAA8DA,OAA9D,EAA8DA,EAAiBE,aAC5FoG,WAAYA,EACZD,YAAaA,KAIF,IAAfI,GACA,6BAAS1P,UAAU,cAAchB,MAAO,CAAE1C,MAAO,OAAQwT,OAAQ,kBAC7D,kBAACkD,GAAA,EAAD,CACIC,QACI,kBAACC,GAAA,EAAD,CACIC,SAAoB,IAAX3D,EACThO,SAAU,kBAAMgS,GAAWhE,IAC3BpO,MAAOoO,IAGf7N,MACI,wBAAI3C,MAAO,CAAEzE,MAAO,UAAWkG,SAAU,WAAzC,iCAShBwI,GACA,8BACKyG,EAAa,GACV,6BAAS1P,UAAU,QAAQhB,MAAO,CAAE6U,cAAe,SAC/C,kBAAC5B,GAAD,CAAeC,SAAUA,EAASxC,KAClC,kBAACa,GAAD,CACIjF,KAAMA,EACNzT,KAAMA,EACN0X,WAAYA,EACZD,YAAaA,KAGT,IAAfI,GACG,6BAAS1P,UAAU,cAAchB,MAAO,CAAE/C,UAAW,SACjD,kBAACwD,EAAA,EAAD,CACII,QAAQ,WACRH,KAAK,QACLnF,MAAM,UACNyF,UAAWoT,EACXvS,QAAS,kBAAMwS,EAAa,kBAE5B,kBAAC,KAAD,MAPJ,gBAUA,kBAAC5T,EAAA,EAAD,CACII,QAAQ,WACRH,KAAK,QACLnF,MAAM,UACNyF,UAAWoT,EACXvS,QAAS,kBAAMwS,EAAa,oBAE5B,kBAAC,KAAD,MAPJ,mBAYJM,GAAa,kBAACf,GAAD,CACT/Q,aAAc+R,EACdlB,MAAOY,EACPT,YAAaA,EACbhb,KAAMA,O,oDCnHnB,SAASic,GAAT,GAAiD,IAArBzN,EAAoB,EAApBA,KAAMiG,EAAc,EAAdA,WAC7C,OACI,yBAAKtN,MAAO,CACRpE,SAAU,WACVY,IAAK,OACLE,MAAO,SAEP,6BACI,uBACIsE,UAAU,uBACVhD,MAAM,kBACNgC,MAAO,CAAE2T,OAAQ,UAAWpY,MAAO,OACnCsG,QAAS,kBAAMyL,EAAWjG,KAJ9B,WCFD,SAAS0N,GAAT,GAAiI,IAA1G/W,EAAyG,EAAzGA,MAAOqJ,EAAkG,EAAlGA,KAAM6E,EAA4F,EAA5FA,SAAUF,EAAkF,EAAlFA,YAAagJ,EAAqE,EAArEA,YAAaC,EAAwD,EAAxDA,OAAQjV,EAAgD,EAAhDA,MAAO2L,EAAyC,EAAzCA,YAAagC,EAA4B,EAA5BA,aAAcL,EAAc,EAAdA,WAAc,EAE3GrO,qBAF2G,mBAEpIiW,EAFoI,KAE1HC,EAF0H,OAGpGlW,qBAHoG,mBAGpImW,EAHoI,KAGxHC,EAHwH,KA8C3I,OAxCA9V,qBAAU,WACFoM,GAAeA,EAAY,IAC3BA,EAAY5S,SAAQ,YAA6B,IAA1Buc,EAAyB,EAAzBA,SAAUhP,EAAe,EAAfA,SACzBe,IAASf,EAAS+E,YAClB8J,EAAYG,GACZD,GAAiB,SAI9B,CAAC1J,EAAatE,IAIjB9H,qBAAU,WACN,GAAI2M,aAAoBC,SAAU,CAAC,IAAD,iBACbD,EAASqJ,WADI,IAC9B,2BAAqC,CAAC,IAA7BzI,EAA4B,QAC7BzF,IAASyF,EAAK,KACdqI,EAAYrI,EAAK,GAAGzF,MACpBgO,GAAiB,KAJK,oCAOtBnJ,GAAaP,GAAawJ,EAAY,QACnD,CAACjJ,EAAU7E,EAAMsE,EAAagC,IAGjCpO,qBAAU,WAEN,GAAIoO,IAAiBtG,EAAM,CACvB,IAAMmO,EAAU,OAAG7J,QAAH,IAAGA,OAAH,EAAGA,EAAa9R,MAAK,SAAAqT,GAAC,aAAK,OAADA,QAAC,IAADA,GAAA,UAAAA,EAAG5G,gBAAH,eAAa+E,aAAcsC,KAEjEA,GAAgB6H,GAChBL,EAAYK,EAAWF,UACvBD,GAAiB,IAEZ1H,GAAgBA,IAAiBtG,GACtC8N,OAAYvH,MAGrB,CAACjC,EAAagC,EAAc3B,EAAa3E,IAGxC,yBAAKrH,MAAOA,GAAgB,MACxB,yBAAKA,MAAO,CAAEpE,SAAU,WAAYuV,YAAa,QAC5CnT,EAAQ,uBAAGgD,UAAU,aAAahD,GAAS,IACtC,6BACLkX,IAAaE,GACV,kBAACN,GAAD,CAAkBxH,WAAYA,EAAYjG,KAAMA,KAGxD,kBAAC,KAAD,CAAUoO,OAAQ,SAAAvL,GAAC,OAAI8B,EAAY9B,EAAG7C,MACjC,gBAAGqO,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,cAAjB,OACG,uCACI3V,MAAOoV,EAAa,CAAE9Z,gBAAiB,QAAW,GAClD0F,UAAWkU,EAAW,uBAAyBD,EAAS,UAAY,mBAAuBS,KAC3F,0BAAWC,KAEPT,EACI,kBAAC,WAAD,KACI,6BACI,kBAAC,KAAD,CAAyBlU,UAAU,SAClCkU,GAEJD,GACG,iFAIR,iCAAM,kBAAC,KAAD,CAAgBjU,UAAU,SAC5B,mCAASgU,S,cClFhCY,GAAkB,CAC3B,CAAE5X,MAAO,qBAAmBqJ,KAAM,QAClC,CAAErJ,MAAO,2DAAgDqJ,KAAM,cAC/D,CAAErJ,MAAO,0BAA2BqJ,KAAM,YAC1C,CAAErJ,MAAO,cAAeqJ,KAAM,OAC9B,CAAErJ,MAAO,mBAAoBqJ,KAAM,YCL1BwO,GAAgB,CACzB,CAAE7X,MAAO,gCAA8BqJ,KAAM,oBAC7C,CAAErJ,MAAO,2DAAgDqJ,KAAM,cAC/D,CAAErJ,MAAO,0BAA2BqJ,KAAM,YAC1C,CAAErJ,MAAO,cAAeqJ,KAAM,OAC9B,CAAErJ,MAAO,mBAAoBqJ,KAAM,WACnC,CAAErJ,MAAO,sBAAuBqJ,KAAM,gBCIpCvM,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnC8a,KAAM,CACFC,SAAU,IACVjF,OAAQ,MACRrV,QAAS,OAGbua,WAAY,CACRlF,OAAQ,YACRxV,gBAAiB,OACjB2a,MAAO,SAEXC,KAAM,CACFnF,UAAW,OACXD,OAAQ9V,EAAMkB,QAAQ,GACtBuF,SAAU,SACVE,WAAY,MACZpG,MAAO,QAEXkH,KAAM,CACFqO,OAAQ,aACRrV,QAAS,aAIF,SAAS0a,GAAT,GAAuI,IAG9IC,EAH8BpK,EAA+G,EAA/GA,YAAaqK,EAAkG,EAAlGA,gBAAiBrB,EAAiF,EAAjFA,YAAa9I,EAAoE,EAApEA,SAAUoK,EAA0D,EAA1DA,gBAAiB3K,EAAyC,EAAzCA,YAAa2B,EAA4B,EAA5BA,WAAYK,EAAgB,EAAhBA,aAAgB,EAC1H7S,KAAfgb,EADyI,EACzIA,KAAMrT,EADmI,EACnIA,KAMd,MAHwB,aAApB4T,IAAgCD,EAAYR,IACxB,aAApBS,IAAgCD,EAAYP,IAG5C,yBAAK7U,UAAU,QAAQhB,MAAO,CAACzE,MAAO,SAClC,kBAAC0X,GAAD,CAAeC,SAAS,sDACxB,kBAACqD,GAAA,EAAD,CAAMC,WAAS,EAACxV,UAAW8U,GACtBM,EAAU/c,KAAI,WAAkByU,GAAlB,IAAG9P,EAAH,EAAGA,MAAOqJ,EAAV,EAAUA,KAAV,MACF,eAATA,GAAyBiP,EAAkB,KACvC,kBAAC,WAAD,CAAUhV,IAAKwM,GACX,kBAACyI,GAAA,EAAD,CAAM9T,MAAI,EAACgU,GAAI,GAAIC,GAAI,EAAG1V,UAAWyB,GACjC,kBAACsS,GAAD,CACI/W,MAAOA,EACPqJ,KAAMA,EACN6E,SAAUA,EACV8I,YAAaA,EACbhJ,YAAaA,EACbL,YAAaA,EACb2B,WAAYA,EACZK,aAAcA,W,8CCpCnCgJ,GApBM,SAACvd,EAAIwd,EAAche,EAAYyS,GAC5CA,GAA2B,eAAdA,IAA4BzS,EAAa,eACtDqL,KAAM,CACFsF,IAAI,kCAAD,OAAoC3Q,EAApC,eAAqDQ,GACxDyd,OAAQ,MACRC,aAAc,SACfzS,MAAK,SAAC0S,GACL,IAAMxN,EAAM+F,OAAO0H,IAAIC,gBAAgB,IAAIC,KAAK,CAACH,EAASle,QACpDoF,EAAOiB,SAASiY,cAAc,KACpClZ,EAAKsD,KAAOgI,EACZtL,EAAKmZ,aAAa,WAAYR,GAC9B1X,SAASmY,KAAKC,YAAYrZ,GAC1BA,EAAKsZ,WAEJC,OAAM,SAAAC,GACHjd,QAAQC,IAAIgd,OCbtBC,GAAe,CACjBva,QAAS,OACT/B,eAAgB,SAChBkC,MAAO,OACPqa,aAAc,SACdC,SAAU,QAGRC,GAAW,CACb9G,UAAW,SACX+G,WAAY,aACZ5Q,OAAQ,OACR6Q,OAAQ,iBACRtc,QAAS,gBACTqV,OAAQ,gBACRrP,SAAU,SACVnG,gBAAiB,UACjB0c,aAAc,OAIZC,GAAO,CACTC,cAAe,SACfvE,OAAQ,UACRwE,YAAa,MAGXC,GAAW,CACbF,cAAe,SACfzc,QAAS,aAIE,SAAS4c,GAAT,GAAuF,IAA7D/L,EAA4D,EAA5DA,KAAMtB,EAAsD,EAAtDA,MAAOlM,EAA+C,EAA/CA,OAAQ6M,EAAuC,EAAvCA,YAAa/S,EAA0B,EAA1BA,WAA0B,IAAdoH,aAAc,MAAN,GAAM,EAoB7FsY,EAAY,GAYhB,GAVIxZ,GACA6M,EAAY5S,SAAQ,SAAAqS,GAChBkB,EAAKvT,SAAQ,YAAsB,IAAD,EAAlBsO,EAAkB,EAAlBA,KAAMrJ,EAAY,EAAZA,OACV,OAAJoN,QAAI,IAAJA,GAAA,UAAAA,EAAM9E,gBAAN,eAAgB+E,aAAchE,GAC9BiR,EAAUpf,KAAK,CAAEE,GAAIgS,EAAKhS,GAAIuJ,MAAO3E,EAAOqN,UAAWhE,EAAM6N,SAAU9J,EAAKkK,SAAUiD,QAAS,iBAM3GvN,EAAJ,sBAA4BA,EAAMuK,WAAlC,yBAAoBzI,EAApB,QACIR,EAAKvT,SAAQ,YAAsB,IAAnBsO,EAAkB,EAAlBA,KAAMrJ,EAAY,EAAZA,MAClB,GAAIqJ,IAASyF,EAAK,IACVA,EAAK,IAAMA,EAAK,GAAGzF,KAAM,CACzB,IAAMtN,EAAQue,EAAUte,WAAU,SAAAoS,GAAG,OAAO,OAAHA,QAAG,IAAHA,OAAA,EAAAA,EAAKf,aAAchE,MAC7C,IAAXtN,EACAue,EAAUve,GAAS,CAAE4I,MAAO3E,EAAOqN,UAAWhE,EAAM6N,SAAUpI,EAAK,GAAGzF,KAAMkR,QAAS,SAErFD,EAAUpf,KAAK,CAAEyJ,MAAO3E,EAAOqN,UAAWhE,EAAM6N,SAAUpI,EAAK,GAAGzF,KAAMkR,QAAS,eAR1F,2BAAmC,IAA9C,+BAcA,OAAO,kBAAC,IAAMjY,SAAP,KACH,yBAAKN,MAAO0X,IACPY,EAAUjf,KAAI,SAAC6T,EAAGhM,GAAJ,OACX,yBAAKlB,MAAK,2BAAO6X,IAAa7X,GAASsB,IAAKJ,GACxC,kBAAC,KAAD,CAA6BlB,MAAOoY,KACpC,0BAAMpY,MAAO,CAAEkY,cAAe,WACzB,IADL,IACWhL,EAAEvK,OAEb,kBAAC,KAAD,CAAY3C,MAAOiY,GACfpW,QAAS,iBAAoB,UAAdqL,EAAEqL,QArDlB,SAACjX,EAAK4T,GAErB,IAAM9J,EAAOJ,EAAM9G,IAAI5C,GAEjBiI,EAAM+F,OAAO0H,IAAIC,gBAAgB7L,GACjCnN,EAAOiB,SAASiY,cAAc,KACpClZ,EAAKsD,KAAOgI,EAER6B,IAAuB,oBAAdA,EAAK1S,MAA8B0S,EAAK1S,KAAKO,MAAM,YAC5DgF,EAAKmZ,aAAa,MAAO,YACzBnZ,EAAKmZ,aAAa,SAAU,UAC5BnZ,EAAKmZ,aAAa,QAASlC,IAE1BjX,EAAKmZ,aAAa,WAAYlC,GACnChW,SAASmY,KAAKC,YAAYrZ,GAC1BA,EAAKsZ,QAuCeiB,CAAWtL,EAAE7B,UAAW6B,EAAEgI,UACxByB,GAAazJ,EAAE9T,GAAI8T,EAAEgI,SAAUtc,EAAYsU,EAAE7B,oBC3F5D,SAASoN,GAAT,GAAsG,IAA7E3Y,EAA4E,EAA5EA,OAAQ9B,EAAoE,EAApEA,MAAO0a,EAA6D,EAA7DA,OAAQC,EAAqD,EAArDA,OAAQC,EAA6C,EAA7CA,OAAQ5Y,EAAqC,EAArCA,MAAO+O,EAA8B,EAA9BA,KAA8B,IAAxB8J,uBAAwB,MAAN,GAAM,EAWhH,OACI,+BACI,+BACI,4BACI,wBAAI7X,UAAU,UACVhB,MAAOA,EACP8Y,QAAShZ,GAAS9B,IAE1B,4BACK0a,EAAOrf,KAAI,SAACuG,EAAGsB,GAAJ,OAAU,wBAAII,IAAKJ,EAAGlB,MAAOA,GAAQJ,QAGzD,+BACI,4BACKgZ,EAAOvf,KAAI,SAACC,EAAGyf,GAAJ,OACR,wBAAI/X,UAAU,SAASM,IAAKyX,EACxB/Y,MAAK,2BAAOA,GAAP,IAAczE,MAAOsd,EAAgBjR,SAAS+Q,EAAOI,IAAM,MAAQ,SACxElX,QAAS,kBAAMkN,GAAQA,EAAK3V,GAAKud,GAAa5H,EAAK3V,GAAI2V,EAAKuG,SAAU,cAAevG,EAAKzI,SAAS+E,WAAa,QA1BrHjJ,EA2BiB9I,EA1B5BkV,KAAOpM,EAAO,6BAA6B,GAAMqM,UAC1CD,KAAOpM,EAAOoM,KAAOwK,UAAU,GAAMC,OAAO,cAG5C7W,IALI,IAAAA,Q,mCCGjBtH,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC8C,MAAO,CACHvC,MAAOP,EAAMa,QAAQqa,KAAKgD,UAC1B5b,MAAO,OACP7B,QAAS,cACTyL,OAAQ,YAID,SAASiS,GAAT,GAAqE,IAW5EC,EAX0BvgB,EAAiD,EAAjDA,KAAMwd,EAA2C,EAA3CA,gBAAiB/J,EAA0B,EAA1BA,KAAM8J,EAAoB,EAApBA,UAAWpL,EAAS,EAATA,MAGhElN,EADQhD,KACRgD,MACAgF,EAAkEjK,EAAlEiK,eAAgBD,EAAkDhK,EAAlDgK,aAAc4G,EAAoC5Q,EAApC4Q,WAAY3K,EAAwBjG,EAAxBiG,OAAQ6M,EAAgB9S,EAAhB8S,YACpD5B,EAHA,OAGkBlR,QAHlB,IAGkBA,OAHlB,EAGkBA,EAAMkR,gBAExBsP,EAAiB,GACjBjN,EAAM,GACNkN,EAAU,GACVC,EAAa,GAEbV,EAAkB,GAqCtB,OAnCAvM,EAAKvT,SAAQ,SAAAmU,GACTA,EAAEnU,SAAQ,SAAAmR,GACFrR,EAAKoM,eAAe,CAACiF,EAAE9C,UACvBvC,OAAOC,OAAOsH,EAAdvH,OAAA,IAAAA,CAAA,GAAsBqF,EAAE9C,MAAQvO,EAAKqR,EAAE9C,SACvCkS,EAAQpgB,KAAKgR,OAGrBmP,EAAengB,KAAKkT,GACpBmN,EAAWrgB,KAAKogB,GAChBlN,EAAM,GACNkN,EAAU,MAEU,aAApBjD,IAAgC+C,EAAe,CAC/C,CAAElG,SAAU,yBAAuB5G,KAAMiN,EAAW,IAAM,GAAI1gB,KAAMwgB,EAAe,IACnF,CAAEnG,SAAU,qBAAsB5G,KAAMiN,EAAW,IAAM,GAAI1gB,KAAMwgB,EAAe,IAClF,CAAEnG,SAAU,qCAAgC5G,KAAMiN,EAAW,IAAM,GAAI1gB,KAAMwgB,EAAe,MAGxE,aAApBhD,IAAgC+C,EAAe,CAC/C,CAAElG,SAAU,yBAAuB5G,KAAMiN,EAAW,GAAI1gB,KAAMwgB,EAAe,IAC7E,CAAEnG,SAAU,qCAAgC5G,KAAMiN,EAAW,GAAI1gB,KAAMwgB,EAAe,MAGtF5P,GAAoC,kBAAfA,IAAyBoP,EAAkBhU,OAAO8F,KAAKlB,IAE5EM,GACAlF,OAAO8F,KAAKZ,GAAiBhR,SAAQ,SAAAuI,GAC7BzI,EAAKyI,IAAQyI,EAAgBzI,KACzBzI,EAAKyI,KAASyI,EAAgBzI,IAASuX,EAAgBjR,SAAStG,IAChEuX,EAAgB3f,KAAKoI,OAOjC,oCACI,kBAACkY,GAAA,EAAD,CAAOxY,UAAWlD,GACd,0BAAMkD,UAAU,YAERoY,EAAa/f,KAAI,WAA2BogB,GAA3B,IAAGvG,EAAH,EAAGA,SAAU5G,EAAb,EAAaA,KAAMzT,EAAnB,EAAmBA,KAAnB,OACbyT,GAAQzT,GAAQ,kBAAC,WAAD,CAAUyI,IAAKmY,GAC3B,kBAAChB,GAAD,CACI3Y,QAAY,OAAJwM,QAAI,IAAJA,OAAA,EAAAA,EAAMxM,SAAU,EACxB9B,MAAOkV,EACPwF,OAAQpM,EAAKjT,KAAI,SAAAS,GAAC,OAAIA,EAAE6I,SACxBgW,OAAQrM,EAAKjT,KAAI,SAAAL,GAAE,OAAIA,EAAGoO,SAC1BwR,OAAQ/T,OAAO+T,OAAO/f,GACtBggB,gBAAiBA,SAMjChW,GAAgBA,EAAa,IAC7B,6BAAS7C,MAAO,CAAE8Q,OAAQ,kBACtB,uBAAG9Q,MAAO,CAAE2B,WAAY,IAAKpG,MAAO,SAApC,kBACA,2BAEQsH,GAAgBA,EAAaxJ,KAAI,SAAC6Q,EAAGhJ,GAAJ,OAC7B,0BAAMlB,MAAO,CAAEwB,WAAY,oCAAqCC,SAAU,QAAUH,IAAKJ,GACpFA,IAAM2B,EAAa/C,OAAS,EAAIoK,EAAI,KAAOA,QAQhEpH,GAAkBA,EAAe,IACjC,6BAAS9C,MAAO,CAAE8Q,OAAQ,kBACtB,uBAAG9Q,MAAO,CAAE2B,WAAY,IAAKpG,MAAO,SAApC,6BACA,2BAEQuH,EAAezJ,KAAI,SAAC6Q,EAAGhJ,GAAJ,OACf,0BAAMlB,MAAO,CAAEwB,WAAY,oCAAqCC,SAAU,QAAUH,IAAKJ,GACpFA,IAAM4B,EAAehD,OAAS,EAAIoK,EAAI,KAAOA,SAOpEc,GAASW,IAGP,6BACI,uBAAG3L,MAAO,CAAE8Q,OAAQ,gBAAiBnP,WAAY,MAAOpG,MAAO,SAC3D,kBAAC,KAAD,CAAsByE,MAAO,CAAEkY,cAAe,SAAUzc,QAAS,eAChE,eAGL,kBAAC4c,GAAD,CACIvZ,OAAQA,EACRlG,WAAW,cACX+S,YAAaA,EACbW,KAAM8J,EACNpL,MAAOA,O,mCC1HpB,SAAS0O,GAAT,GAA0C,IAAxBC,EAAuB,EAAvBA,MAAOzD,EAAgB,EAAhBA,KAAMpX,EAAU,EAAVA,OAM1C,OALIA,IACA6a,EAAQ,CAAC,qBAAgB,iBACzBzD,EAAI,yCAAqBpX,QAArB,IAAqBA,OAArB,EAAqBA,EAAQ8a,SAIjC,kBAACrD,GAAA,EAAD,CAAMvW,MAAO,CAAE/C,UAAW,OACtB,kBAAC4c,GAAA,EAAD,CAAaC,UAAU,SAAIC,aAAW,cAClC,kBAAC,IAAD,CACI1Y,GAAG,IAAIrB,MAAO,IAEd,kBAAC,KAAD,CAAUA,MAAO,CAAEkY,cAAe,SAAU/G,YAAa,MAAO0D,cAAe,SAC/E,0BAAM7U,MAAO,CAAEyB,SAAU,WAAzB,sBAKJ,kBAAC,IAAD,CAAMlG,MAAM,UAAU8F,GAAIsY,EAAM,GAAI3Z,MAAO,CAAEyB,SAAU,WAClDkY,EAAM,IAEX,0BAAM3Z,MAAO,CAAEyB,SAAU,WAAcyU,KCtBvD,IAAMpb,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnCoZ,OAAQ,CACJtD,OAAQ9V,EAAMkB,QAAQ,GACtB+Z,MAAO,SAEX+D,WAAY,CACRlJ,OAAQ9V,EAAMkB,QAAQ,GACtB+Z,MAAO,OACP1a,MAAO,OACPD,gBAAiB,QAErB2V,UAAW,CACPhU,UAAW,OACXK,MAAO,YAIA,SAAS2c,GAAT,GAC8C,IAIrDC,EALiCxJ,EACmB,EADnBA,WAAYyJ,EACO,EADPA,cAAeC,EACR,EADQA,SAAUC,EAClB,EADkBA,aAAcjI,EAChC,EADgCA,SAAUtT,EAC1C,EAD0CA,OAAQwb,EAClD,EADkDA,WAAYC,EAC9D,EAD8DA,mBACtHC,EAAwD,EAAxDA,kBAAmBC,EAAqC,EAArCA,eAAgBnK,EAAqB,EAArBA,YAAaoK,EAAQ,EAARA,KAE1C/b,EAAU7D,KAAekf,EAAkCrb,EAAlCqb,WAAY5F,EAAsBzV,EAAtByV,OAAQnD,EAActS,EAAdsS,UAMnD,OAHA,OAAInS,QAAJ,IAAIA,OAAJ,EAAIA,EAAQgR,OAAO7W,MAAM,oBAAeihB,EAAO,YAC/C,OAAIpb,QAAJ,IAAIA,OAAJ,EAAIA,EAAQgR,OAAO7W,MAAM,iBAAeihB,EAAO,WAG3C,yBAAKla,MAAO,CAAE1C,MAAO,SAChBoT,EAAa0J,EACV,oCACI,kBAAC3Z,EAAA,EAAD,CACII,QAAQ,YACRG,UAAWgZ,EACXnY,QAAS,kBAAMsY,EAAc,SAC7B/H,SAAyB,IAAf1B,GAJd,UAQA,kBAACjQ,EAAA,EAAD,CACII,QAAQ,YACRtF,MAAM,UACNyF,UAAWoT,EACXvS,QAAS,kBAAMsY,EAAc,SAC7B/H,SAAUA,GALd,eAWJ,yBAAKpS,MAAO,CAAE7C,QAAS,OAAQwd,cAAe,SAAUrd,MAAO,SACjD,YAAT4c,GAAuBO,EAEpB,kBAACxI,GAAA,EAAD,CACI5K,KAAK,OACLrG,UAAWiQ,EACX7O,MAAOsY,EACP/X,MAAQ7D,GAAmB,YAATob,EAAgE,uDAA3C,qDACvCxhB,KAAK,OACL8J,SAAU8N,EACV+B,gBAAiB,CAAEC,QAAQ,EAAMtS,MAAO,CAAE2B,WAAY,IAAK1F,aAAc,OACzEsW,WAAY,CAAEvS,MAAO,CAAE6U,cAAe,MAAQpC,UAAW,KACzDC,WAAS,EACTC,KAAM,EACN9R,QAAQ,aAbyB,KAgBzC,yBAAKb,MAAO,CAAE7C,QAAS,OAAQG,MAAO,SACjCoT,IAAe0J,IAAaE,GACzB,kBAAC7Z,EAAA,EAAD,CACII,QAAQ,YACRG,UAAWgZ,EACXnY,QAAS,kBAAMsY,EAAc,SAC7B/H,SAAyB,IAAf1B,GAJd,UAQJ,yBAAK1Q,MAAO,CAAE7C,QAAS,OAAQ/B,eAAgB,WAAYkC,MAAO,SAEzDwB,GAAmB,YAATob,EAUP,oCACI,kBAACzZ,EAAA,EAAD,CACII,QAAQ,WACRtF,MAAM,YACNyF,UAAWoT,EACXvS,QAAS,kBAAM2Y,MAEdC,EAAiB,WAAaF,GAAsB,wBAEzD,kBAAC9Z,EAAA,EAAD,CACII,QAAQ,YACRtF,MAAOkf,EAAiB,YAAc,UACtCzZ,UAAWoT,EACXvS,QAAS,kBAAuBwY,GAAjBI,KAEdA,EAAiB,YAAc,YAxBxC,kBAACha,EAAA,EAAD,CACII,QAAQ,YACRtF,MAAM,UACNyF,UAAWoT,EACXvS,QAAS,kBAAMwY,MAJnB,gC,kCCjFrB,SAASO,GAAT,GAA+C,IAAtBlK,EAAqB,EAArBA,WAAYmK,EAAS,EAATA,MAChD,OACI,yBAAK7Z,UAAU,QAAQhB,MAAO,CAAEvE,QAAS,OAAQqV,OAAQ,WACrD,kBAACgK,GAAA,EAAD,CAASpK,WAAYA,GAChBmK,EAAMxhB,KAAI,SAACsJ,EAAO5I,GACf,IACMghB,EAAa,GACnB,OACI,kBAACC,GAAA,EAAD,eAAM1Z,IAAKqB,GAHG,IAMV,kBAACsY,GAAA,EAAcF,EACVpY,S,8DCT3BuY,GAAangB,aAAW,SAAAC,GAAK,MAAK,CACpCmgB,QAAS,CACL7f,gBAAiB8f,KAAM,MAE3BlJ,MAAO,CACH5W,gBAAiBN,EAAMa,QAAQqW,MAAMmJ,MAEzCX,KAAM,CACFpf,gBAAiBN,EAAMa,QAAQyf,QAAQC,MAE3CC,QAAS,CACLlgB,gBAAiBmgB,KAAM,MAE3BxD,KAAM,CACFxW,SAAU,IAEdia,YAAa,CACTC,QAAS,GACTxK,YAAanW,EAAMkB,QAAQ,IAE/B0f,QAAS,CACLze,QAAS,OACT2a,WAAY,cAIpB,SAAS+D,GAAyBnd,GAC9B,IAAMC,EAAUuc,KACRla,EAAmDtC,EAAnDsC,UAAW4a,EAAwCld,EAAxCkd,QAAkB/a,GAAsBnC,EAA/Bod,QAA+Bpd,EAAtBmC,SAAYkb,EAFZ,aAEsBrd,EAFtB,6CAKrC,OACI,kBAACsd,GAAA,EAAD,eACIhb,UAAWib,aAAKtd,EAAQkC,GAAUG,GAClCkb,mBAAiB,kBACjBN,QACI,kBAAC,WAAD,KACI,0BAAMxiB,GAAG,kBAAkB4H,UAAWrC,EAAQid,SAC1C,kBAACO,GAAA,EAAD,cADJ,OAC2BP,KAI/BG,IAKD,SAASK,GAAoB1d,GAExC,OACI,6BACI,kBAAC2d,GAAA,EAAD,CACIC,aAAc,CACVC,SAAU,MACVC,WAAY,SAEhBC,KAAM/d,EAAM+d,KACZC,iBAAkB,IAClBZ,QAASpd,EAAMgV,OAEf,kBAACmI,GAAD,CACIhb,QAAQ,UACR+a,QAASld,EAAMie,QCtE5B,IAAMC,GAAa,SAAC7T,EAAM+I,GAU7B,GAAI,KAAK+K,KAAK9T,GAAO,CACjB,IAAIlQ,EAAO,IAAI4S,KAAK1C,GAAM+T,UAAY,KAAO,IAAIrR,KAAK1C,GAAMgU,WAAa,GAAK,IAAM,IAAItR,KAAK1C,GAAMuK,cAEnG,OADIxB,IAAKjZ,GAAQ,KAAO,IAAI4S,KAAK1C,GAAMiU,WAAa,KAThD,IAAIvR,KAAK1C,GAAMkU,aAAe,GACvB,IAAM,IAAIxR,KAAK1C,GAAMkU,aAErB,IAAIxR,KAAK1C,GAAMkU,cAM4C,KAC/DpkB,EAAKU,WAEZ,OAAOwP,GAIFmU,GAAc,WAAiB,IAAhB9a,EAAe,uDAAP,GAC5B9I,EAAI8I,EAAMuC,QAAQ,MAAO,IAK7B,OADArL,GADAA,GADAA,GADAA,GAAKA,EAAI,KAAK6jB,QAAQ,GAAK,IACrBxY,QAAQ,IAAK,MACbA,QAAQ,uBAAwB,cAChCA,QAAQ,gBAAiB,W,sDChBpB,SAASyY,GAAT,GAA4F,IAArEX,EAAoE,EAApEA,KAAM5N,EAA8D,EAA9DA,UAAW6E,EAAmD,EAAnDA,MAAO2J,EAA4C,EAA5CA,QAASC,EAAmC,EAAnCA,YAAaC,EAAsB,EAAtBA,cAAetb,EAAO,EAAPA,IAAO,EAEpF,SAAAvJ,GAClB,IAAoBuW,EAAU,GAK9B,IAFIhN,GAAe,IAARA,KAAWgN,EAFC,CAAC,YAAa,aAAW,qBAAgB,eAAa,YAE9BhN,IAE3Cqb,GAAeC,EAGjB,MAAO,CAAEvf,MAFDsf,EAEQ1B,QADN2B,GAIZ,GAAoB,kBAAT7kB,EAGT,MAAO,CAAEsF,MAFD,2BAEQ4d,QADT,oBAAgBljB,EAAKyR,YAArB,2DAA6EzR,EAAK8kB,KAAlF,MAIT,OAAQ9kB,GACN,IAAK,gBAGH,MAAO,CAAEsF,MAFD,0BAEQ4d,QADN,oNAEZ,IAAK,eAGH,MAAO,CAAE5d,MAFD,oBAEQ4d,QADN,+HAEZ,IAAK,cAGH,MAAO,CAAE5d,MAFD,0BAEQ4d,QADN,wIAEZ,IAAK,eAGH,MAAO,CAAE5d,MAFD,4BAEQ4d,QADN2B,GAEZ,IAAK,aAGH,MAAO,CAAEvf,MAFD,6BAEQ4d,QADN2B,GAEZ,IAAK,gBAGH,MAAO,CAAEvf,MAFD,mCAEQ4d,QADN,uGAEZ,IAAK,mBAGH,MAAO,CAAE5d,MAFD,sCAEQ4d,QADN,8HAEZ,IAAK,gBAIH,MAAO,CAAE5d,MAHD,8BAGQ4d,QAFT,iEAAuD3M,EAAvD,sBAA4EA,EAAQwO,OAAO,GAA3F,uEACsCxO,EADtC,+FAIT,IAAK,kBAGH,MAAO,CAAEjR,MAFD,6BAEQ4d,QADT,2IAET,IAAK,qBAGH,MAAO,CAAE5d,MAFD,gCAEQ4d,QADT,sGAGT,IAAK,gBAIH,MAAO,CAAE5d,MAHD,wBAGQ4d,QAFT,+KAGT,IAAK,iBAGH,MAAO,CAAE5d,MAFD,yBAEQ4d,QADN,+CAEZ,IAAK,aAGH,MAAO,CAAE5d,MAFD,gDAEQ4d,QADN,+DAEZ,IAAK,YAGH,MAAO,CAAE5d,MAFD,gDAEQ4d,QADN,8IAEZ,IAAK,kBAGH,MAAO,CAAE5d,MAFD,kDAEQ4d,QADN,8IAEZ,IAAK,gBAGH,MAAO,CAAE5d,MAFD,4DAEQ4d,QADN,wGAEZ,IAAK,kBAGH,MAAO,CAAE5d,MAFD,qBAEQ4d,QADN,iFAEZ,QACE,MAAO,CAAE5d,MAAO,KAAM4d,QAAS,OAGV8B,CAAY7O,GAA/B7Q,EAjGgG,EAiGhGA,MAAO4d,EAjGyF,EAiGzFA,QAEf,OAAI5d,GAAS4d,EACX,6BACE,kBAAC+B,GAAA,EAAD,CACElB,KAAMA,EACNX,QAASpI,EACTkK,kBAAgB,qBAChB1B,mBAAiB,4BAEjB,kBAAC2B,GAAA,EAAD,CAAazkB,GAAG,sBAAsB4E,GACtC,kBAAC8f,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAmB3kB,GAAG,4BACnBwiB,IAGL,kBAACoC,GAAA,EAAD,KACE,kBAACvd,EAAA,EAAD,CAAQoB,QAAS6R,EAAOnY,MAAM,WAC3B8hB,EAAU,WAAa,UAEzBA,GAAW,kBAAC5c,EAAA,EAAD,CAAQoB,QAAS6R,EAAOnY,MAAM,UAAU0iB,WAAS,GAAjD,gBAOR,K,IC0VC/U,MAFK,CAAC,WAAY,WAAY,gBAAiB,cAAe,eAAgB,iBAAkB,wB,kDAjc3G,aAAe,IAAD,8BACV,gBAOJ1Q,MAAQ,CACJkY,WAAY,EACZmK,MAAO,CAAC,sBAAoB,oBAAqB,aAAc,cAC/D3H,SAAU,CAAC,iCAA+B,2DAC1C/I,YAAa,GACb+T,MAAO,GACP1T,yBAA0B,GAC1B2T,SAAU,yBACVC,cAAc,EACdzJ,WAAW,EACX/F,iBAAiB,EACjBoG,YAAa,iCAnBH,EAoDdmF,cApDc,uCAoDE,WAAM1hB,GAAN,iBAAAoL,EAAA,yDAEkB,IAA1B,EAAKrL,MAAMkY,WAFH,oBAGW,EAAKlY,MAAM0lB,MAAMve,QAAO,SAAArG,GAAC,OAAIA,EAAE0M,QAAU,EAAKxN,MAAMwN,SAAO,GAHtE,gCAKE,EAAKqY,SAAS,CAAErY,MAAO,KALzB,cAMJ,EAAKqY,SAAS,CAAExP,UAAW,cAAeD,iBAAiB,IANvD,kBAOG,MAPH,YAWJR,EAAW,EAAK5V,MAAhB4V,UACMA,EAAO,GAZT,kCAaF,EAAKiQ,SAAL,2BAAmB,EAAK7lB,OAAUuV,GAAiB,cAbjD,0CAiBNuQ,EAAiB,EAAK9lB,MAAMkY,WACnB,SAAXjY,GAAmB,EAAK4lB,SAAS,CAAE3N,WAAY4N,EAAiB,IACrD,SAAX7lB,GAAmB,EAAK4lB,SAAS,CAAE3N,WAAY4N,EAAiB,IACrD,UAAX7lB,GAAoB,EAAK4lB,SAAS,CAAE3N,WAAY,IApBxC,4CApDF,wDA2EdJ,YA3Ec,uCA2EA,WAAMpG,GAAN,+BAAArG,EAAA,wDAEmB,EAAKnF,MAAMqJ,MAAlC5N,EAFI,EAEJA,SAAUwP,EAFN,EAEMA,SACVtC,EAAS6C,EAAEqU,OAAXlX,KAEAjF,EAAU8H,EAAEqU,OAAZnc,MAEN,EAAKic,SAAL,eAAiBhX,EAAOjF,IAPd,KASFiF,EATE,OAUD,gBAVC,OA0BD,UA1BC,QAiCA,gBAjCA,QAoCA,oBApCA,6BAYE4C,EAAkBN,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEC,cAAgB/H,MAZzD,wBAeU+H,EAA+BF,EAA/BE,YAAaM,EAAkBR,EAAlBQ,cAfvB,UAgBQ,EAAK4T,SAAS,CAAEpU,kBAAiBE,cAAaM,kBAhBtD,QAiBMrI,IAAU6H,EAAgBE,aAAa,EAAKkU,SAAS,CAAEpU,qBAAiB2D,IAEtEsQ,EAAQ/jB,EAASwF,QAAO,SAAArG,GAAC,OAAIA,EAAE8Q,UAAY,EAAK5R,MAAM2R,eAE5D,EAAKkU,SAAS,CAAEH,UArBlB,wBAuBK,EAAKG,SAAS,CAAEpU,qBAAiB2D,EAAWsQ,MAAO,GAAIlY,WAAO4H,IAvBnE,+CA2BmB,kBAAVxL,EA3BT,wBA4BEA,EAAQA,EAAMoc,oBA5BhB,UA6BQ,EAAKH,SAAL,eAAiBhX,EAAOjF,IA7BhC,2DAqCF,EAAKic,SAAL,eAAiBhX,EAAO6V,GAAY9a,KArClC,yEA3EA,wDAuHdqc,MAvHc,uCAuHN,WAAOpX,EAAMjF,EAAOxJ,EAAY8lB,EAASC,EAAQC,EAAMC,GAAvD,yBAAAhb,EAAA,yDAEEpB,EAAO7J,EAAW+G,QAAO,SAAA3G,GAAE,OAAIA,EAAG2lB,GAAQG,cAAc7lB,MAAMmJ,EAAM0c,kBAC5D,KAAV1c,GAAc,EAAKic,UAAL,mBAAiBhX,EAAO,IAAxB,cAA6BqX,EAAU,IAAvC,KACdjc,EAAK,GAJL,oBAKMsc,EAAStc,EAAK,GAAGkc,GACjBvlB,EAAKqJ,EAAK,GAAGmc,GACL,KAAVxc,EAPJ,gCAQU,EAAKic,UAAL,mBAAiBhX,EAAO0X,GAAxB,cAAiCL,EAAUtlB,GAA3C,IARV,gDAYM,EAAKilB,UAAL,mBAAiBhX,EAAO,IAAxB,cAA6BqX,EAAU,IAAvC,IAZN,QAaA,EAAKL,SAAS,CACVxP,UAAW,eAAgBD,iBAAiB,EAC5CE,UAAU,eAAD,OAAiB+P,EAAjB,4CAEb3f,SAAS8f,kBAAkB3X,GAAM,GAAG4X,QAjBpC,4CAvHM,oEA4Id1O,WA5Ic,uCA4ID,WAAMrG,GAAN,iCAAArG,EAAA,wDAEsC,EAAKnF,MAAMqJ,MAApD4B,EAFG,EAEHA,SAAU8K,EAFP,EAEOA,cAAeC,EAFtB,EAEsBA,YACzBwJ,EAAU,EAAK1lB,MAAf0lB,MACA7W,EAAS6C,EAAEqU,OAAXlX,KAEAjF,EAAU8H,EAAEqU,OAAZnc,OAEAgM,EAASL,MACH,EAAKsQ,SAAS,CAAEjQ,WACvB,EAAKiQ,SAAS,CAAEjQ,YAAQR,IAVpB,KAYDvG,EAZC,OAaA,iBAbA,OAgBA,qBAhBA,OAmBA,6BAnBA,+BAcD,EAAKoX,MAAMpX,EAAMjF,EAAOqS,EAAe,iBAAkB,eAAgB,KAAM,UAd9E,mCAiBD,EAAKgK,MAAMpX,EAAMjF,EAAOsS,EAAa,qBAAsB,SAAU,KAAM,cAjB1E,oCAoBD,EAAK+J,MAAMpX,EAAMjF,EAAOuH,EAAU,kBAAmB,cAAe,iBApBnE,wCAyBI,UAATtC,GAAgD,kBAArB,EAAK7O,MAAM0lB,MAzBjC,oBA2BgB,IAAjB9b,EAAMtC,OA3BL,wBA4BKof,EAAI9c,EAAMuC,QAAQ,UAAW,OA5BlC,UA6BK,EAAK0Z,SAAS,CAAErY,MAAOkZ,IA7B5B,QA8BD9c,EAAQ8c,EA9BP,WAgCgB,IAAjB9c,EAAMtC,OAhCL,wBAiCKof,EAAI9c,EAAMuC,QAAQ,IAAK,KAjC5B,UAkCK,EAAK0Z,SAAS,CAAErY,MAAOkZ,IAlC5B,QAmCD9c,EAAQ8c,EAnCP,YAqCchB,EAAMrkB,MAAK,SAAAP,GAAC,OAAIA,EAAE0M,QAAU5D,KArC1C,kCAuCK,EAAKic,SAAS,CAAErY,MAAO,OAvC5B,QAwCD5D,EAAQ,GACR,EAAKic,SAAS,CAAExP,UAAW,cAAeD,iBAAiB,IAC3D1P,SAAS8f,kBAAkB,SAAS,GAAGC,QA1CtC,4CA5IC,wDA2Ld5K,aAAe,SAAA3b,GAAS,IAAD,EACbE,EAAa,EAAK8F,MAAMqJ,MAAMrP,GAChCymB,EAAS,GAAIC,EAAgB,GAE7B,EAAK5mB,MAAME,KAAO0mB,EAAgB,EAAK5mB,MAAME,IAGjDE,EAAWG,SAAQ,YAAe,IAAZ0J,EAAW,EAAXA,KAClB2c,EAAcrmB,SAAQ,SAAAsmB,GACdA,EAAGP,gBAAkBrc,EAAKqc,eAAeK,EAAOjmB,KAAKuJ,SAIjE0c,EAAOpmB,SAAQ,SAAAumB,GAAE,OAAI,EAAKjB,SAAL,eAAiBiB,GAAK,OAE3C,EAAKjB,UAAL,mBAAiBzlB,EAAaumB,GAA9B,2BAAkD,EAAK3mB,MAAMmc,WAA7D,qBAAwEjc,GAAxE,KA1MU,EA6Mdmb,YA7Mc,uCA6MA,WAAMpR,GAAN,yBAAAoB,EAAA,yDAEJnL,EAAS,EAAKF,MAAdE,KACFE,EAAa,EAAK8F,MAAMqJ,MAAMrP,GAHxB,wDAON6mB,EAAgB,GAAIjc,EAAM,GAEjB,iBAAT5K,IAAyB8mB,EAAW,UAC3B,mBAAT9mB,IAA2B8mB,EAAW,oBAVhC,SAYJ,EAAKnB,SAAL,2BAAmB,EAAK7lB,OAAxB,kBAAgCiK,GAAQ,EAAKjK,MAAMiK,MAZ/C,OAcV7J,EAAWG,SAAQ,YAAmB,IAAhBK,EAAe,EAAfA,GAAIqJ,EAAW,EAAXA,MACG,IAArB,EAAKjK,MAAMiK,KACX8c,EAAcrmB,KAAKuJ,GACnBa,EAAIpK,KAAKE,OAIbmmB,EAAc,GAAI,EAAKlB,UAAL,mBAAiB3lB,EAAO6mB,GAAxB,cAAwCC,EAAWlc,GAAnD,IACJ,iBAAT5K,EAAyB,EAAK2lB,SAAL,aAAgBxb,aAAc,IAAK2c,EAAW,KAC9D,mBAAT9mB,GAA2B,EAAK2lB,SAAL,aAAgBvb,eAAgB,IAAK0c,EAAW,KAvB1E,4CA7MA,wDAuOdC,eAvOc,uCAuOG,WAAMxP,GAAN,6EAAApM,EAAA,2DAG8G,EAAKrL,MAD1HknB,EAFO,EAEPA,cAAeC,EAFR,EAEQA,cAAeC,EAFvB,EAEuBA,aAAcC,EAFrC,EAEqCA,UAAWpV,EAFhD,EAEgDA,cAAeqV,EAF/D,EAE+DA,gBAAiBC,EAFhF,EAEgFA,eAAgBhW,EAFhG,EAEgGA,gBAAiB6B,EAFjH,EAEiHA,iBACtHoU,EAHK,EAGLA,mBAAoB/V,EAHf,EAGeA,gBAAiBhH,EAHhC,EAGgCA,OAAQC,EAHxC,EAGwCA,iBAAkBuX,EAH1D,EAG0DA,eAAgBC,EAH1E,EAG0EA,KAAMpO,EAHhF,EAGgFA,KAAMxN,EAHtF,EAGsFA,OAAQ6M,EAH9F,EAG8FA,YAEvGsU,EAAiBP,EAEjBQ,EAPS,OAOWphB,QAPX,IAOWA,OAPX,EAOWA,EAAQmH,UAC5Bka,GAAyB,OAANrhB,QAAM,IAANA,GAAA,UAAAA,EAAQ+K,eAAR,eAAiB/J,SAAU,EAI9CsgB,EAAW,sBAEXC,EAA0B,GAApB/lB,OAAOulB,IAAmBvlB,OAAOqlB,GAAiBrlB,OAAOslB,IAC/DU,MAAMD,KAAMA,OAAMzS,GAGlB2S,EAAS,GAEblN,GAAeta,SAAQ,SAAAuT,GACnBA,EAAKvT,SAAQ,SAAAqT,GACT,IAAK,IAAI0B,KAAK,EAAKtV,MACXsV,IAAM1B,EAAIhF,OAAOvC,OAAOC,OAAOyb,EAAd1b,OAAA,IAAAA,CAAA,GAAyBiJ,EAAI,EAAKtV,MAAMsV,WAKMyS,EAAzE/V,yBAAyE+V,EAA/CC,aAA+CD,EAAjCE,iBAAqBC,EA5BtD,aA4BkEH,EA5BlE,gEA8Bb1b,OAAOC,OAAO4b,EAAS,CACnBjW,gBAAe2V,WAAUH,iBAAgBI,MAAKN,iBAAgBC,qBAC9D/c,SAAQC,mBAAkB1J,QAAS,6BAEvCknB,EAAQlW,yBAA2BsV,EAE/BhhB,GAAUiL,IACV2W,EAAU9U,EAAiB7B,EAAiB2W,IAE1C5W,EAAUtF,IAAMmc,eAAeD,GAIhCR,EA3CQ,kCA4CHjc,KAAM8I,KAAK,uBAAwBjD,GACpCzF,MAAK,SAAAC,GACF2B,EAAY3B,EAAIzL,QAEnB2e,OAAM,SAAAC,GAAG,OAAIjd,QAAQC,IAAIgd,MAhDrB,uCAkDTxR,EAAYia,EACRphB,GAAUmR,IAAawK,IAAgB2F,EAAW,SAG1C,UACE,aACVQ,EAxDK,2BAyDE9W,GAzDF,IA0DDsW,aA1DC,UA6DHnc,KAAMoJ,IAAI,qBAAsB,CAAEuT,gBAAetZ,MAP3C,UAOkDlN,QANhD,aAMyDhB,GAAI6M,IA7DlE,QAmEPxL,EAAM,CACRsV,UAAS,OAAE9F,QAAF,IAAEA,OAAF,EAAEA,EAAiBQ,cAC5BxE,YACA4D,QAAS,CACL6Q,OACA1P,MAAOsB,GAEXhG,SAAU,CAAEL,aACZ0F,cACA8D,cAAe0Q,EACflQ,YAGAnR,IAAQrE,EAAIrB,GAAJ,OAAS0F,QAAT,IAASA,OAAT,EAASA,EAAQ1F,IAC7BoB,QAAQC,IAAIA,GACZ4U,GAAa5U,GACR4J,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAR,OAAY8J,QAAZ,IAAYA,OAAZ,EAAYA,EAAG1L,SACzB2e,OAAM,SAAAC,GAAG,OAAIjd,QAAQC,IAAIgd,MAGzBxH,EAOD,EAAK4Q,SAND1C,EAAW,yCACXrf,GAAUA,EAAOgR,OAAO7W,MAAM,gBAC9BklB,EAAW,8CACf,EAAK0C,MAAM1C,IAKVrf,EAGDgiB,YAAW,WAAQ,EAAKpiB,MAAMmL,QAAQ3Q,KAAK,mBAAoB,MAF/D,EAAK6nB,aAjGI,4CAvOH,wDA6Ud/U,YA7Uc,uCA6UA,WAAOhB,EAAO3D,GAAd,eAAAxD,EAAA,0DAENmH,IAASA,EAAM,GAFT,gCAGA,EAAKqT,SAAL,eAAiBhX,EAAO2D,EAAM,KAH9B,OAKAgW,EAAWhV,GAAYhB,EAAO,EAAKxS,MAAOod,IAChD,EAAKyI,SAAL,2BAAmB2C,GAAnB,IAA6BrT,aAAc,QANrC,2CA7UA,0DAuVdL,WAvVc,uCAuVD,WAAOjG,GAAP,iBAAAxD,EAAA,sDAEHyI,EAAS,EAAK9T,MAAd8T,KACF0U,EAAW1T,GAAWjG,EAAMiF,GAEhC,EAAK+R,SAAL,2BAAmB,EAAK7lB,OAAUwoB,IALzB,2CAvVC,wDA+VdD,WAAa,WAEL,IAAAA,EAAa,GACXle,EAAiB,EAAKnE,MAAMqJ,MAA5BlF,aACFoe,EAAa,GACbC,EAAa,GAEjB7N,GAAeta,SAAQ,SAAAuT,GACnBA,EAAKvT,SAAQ,SAAAqT,GACTvH,OAAO8F,KAAKyB,GAAKrT,SAAQ,SAAAuI,GACT,UAARA,GAAmB,EAAK9I,MAAM4T,EAAI9K,KAAOuD,OAAOC,OAAOic,EAAdlc,OAAA,IAAAA,CAAA,GAA6BuH,EAAI9K,QAAOsM,aAIjGgI,GAAgB7c,SAAQ,YAAe,IAAZsO,EAAW,EAAXA,KACvBxC,OAAOC,OAAOmc,EAAdpc,OAAA,IAAAA,CAAA,GAA6BwC,EAAO,UAGxCxE,EAAa9J,SAAQ,SAAAmR,GAAC,OAAIrF,OAAOC,OAAOoc,EAAdrc,OAAA,IAAAA,CAAA,GAA6BqF,EAAEzH,MAAO,OAEhE,EAAK4b,SAAL,mDACO0C,GACAE,GACAC,GAHP,IAIIxQ,WAAY,EACZvG,YAAa,GACbF,qBAAiB2D,EACjBsQ,MAAO,GACP1T,yBAA0B,GAC1B8B,KAAM,IAAIH,SACVoI,aAAa,MA7XP,EAiYdD,YAAc,kBAAM,EAAK+J,SAAS,CAAE1J,WAAW,KAjYjC,EAkYd6F,kBAAoB,kBAAM,EAAK6D,SAAS,CAAE5D,gBAAiB,EAAKjiB,MAAMiiB,kBAlYxD,EAmYd0G,aAAe,kBAAM,EAAK9C,SAAS,CAAEzP,iBAAkB,EAAKpW,MAAMoW,mBAnYpD,EAoYdiS,MAAQ,SAAA1C,GAAQ,OAAI,EAAKE,SAAS,CAAED,cAAe,EAAK5lB,MAAM4lB,aAAcD,SAAUA,GAAsB,EAAK3lB,MAAM2lB,YAlYnH,EAAKiD,YAAc,SAAClX,GACE,KAAdA,EAAEmX,SAAkB,EAAK7oB,MAAMmc,WAC/B,EAAKL,eAJH,E,yMAyBJvM,EAAUC,KAAKtJ,MAAfqJ,MACAlF,EAAiCkF,EAAjClF,aAAcC,EAAmBiF,EAAnBjF,gBAChBhE,E,UAASkJ,KAAKtJ,a,iBAAL,EAAYG,gB,iBAAZ,EAAsBrG,a,aAAtB,EAA6BsG,UAGhCwiB,EAAc9X,GAAU1K,EAAQiJ,GACtCC,KAAKqW,SAAL,2BAAmBiD,GAAnB,IAAgC5Q,WAAY,MAK5C6Q,EAAS,GACTC,EAAS,GAEb3e,EAAa9J,SAAQ,SAAAmR,GAAC,OAAIrF,OAAOC,OAAOyc,EAAd1c,OAAA,IAAAA,CAAA,UAAyBqF,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAGzH,MAAO,OAC7DK,EAAe/J,SAAQ,SAAAmR,GAAC,OAAIrF,OAAOC,OAAO0c,EAAd3c,OAAA,IAAAA,CAAA,UAAyBqF,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAGzH,MAAO,O,SAEzDuF,KAAKqW,SAAL,2BAAmBkD,GAAWC,I,OAEpCtiB,SAASuiB,iBAAiB,UAAWzZ,KAAKoZ,aAAa,G,mJAIvDpZ,KAAKqW,SAAS,IACdnf,SAASwiB,oBAAoB,UAAW1Z,KAAKoZ,aAAa,K,+BAqVpD,IAAD,EAGwFpZ,KAAKxP,MAD5F4lB,EAFD,EAECA,aAAcD,EAFf,EAEeA,SAAUzN,EAFzB,EAEyBA,WAAY9B,EAFrC,EAEqCA,gBAAiBC,EAFtD,EAEsDA,UAAWgM,EAFjE,EAEiEA,MAAO5Q,EAFxE,EAEwEA,gBACrEjE,EAHH,EAGGA,MAAOgP,EAHV,EAGUA,YAAa1I,EAHvB,EAGuBA,KAAMxN,EAH7B,EAG6BA,OAAQ6M,EAHrC,EAGqCA,YAAa8O,EAHlD,EAGkDA,eAAgBC,EAHlE,EAGkEA,KAAMnG,EAHxE,EAGwEA,YAEvExM,EAAUC,KAAKtJ,MAAfqJ,MAEN,OAAO,kBAAC,WAAD,KACH,kBAAC2R,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAczD,KAAK,yBAAsBpX,OAAQA,EAAQmL,gBAAiBA,IAEtG,kBAAC2Q,GAAD,CACIlK,WAAYA,EACZmK,MAAOA,EACPV,cAAenS,KAAKmS,gBAExB,kBAACwH,GAAD,CACI9oB,KAAMmP,KAAKxP,MACXuP,MAAOA,EACPuI,YAAatI,KAAKsI,YAClBC,WAAYvI,KAAKuI,WACjB8D,aAAcrM,KAAKqM,aACnBR,YAAa7L,KAAK6L,YAClBS,YAAatM,KAAKsM,YAClBrb,MAAO+O,KAAKtJ,MAAMzF,MAClBsb,YAAaA,IAED,IAAf7D,GAAoB,kBAACyF,GAAD,CACjBE,gBAAgB,WAChBrB,YAAaA,EACb9I,SAAUI,EACVN,YAAahE,KAAKgE,YAClBL,YAAaA,EACbgC,aAAc3F,KAAKxP,MAAMmV,aACzBL,WAAYtF,KAAKsF,aAGL,IAAfoD,GAAoB,kBAAC,GAAD,CACjB2F,gBAAgB,WAAWrL,MAAOhD,KAAKxP,MAAM8T,KAC7C8J,UAAWR,GAAiB/c,KAAMmP,KAAKxP,MACvC8T,KAAM+G,KAGTpJ,GAAmB,kBAACgQ,GAAD,CAChBvJ,WAAYA,EACZ0J,SAAUS,EAAM/a,OAAS,EACzBqa,cAAenS,KAAKmS,cACpBrb,OAAQA,EACR0b,kBAAmBxS,KAAKwS,kBACxBC,eAAgBA,EAChBC,KAAMA,EACNL,aAAcrS,KAAKyX,eACnBnP,YAAatI,KAAKsI,YAClB8B,SAA4B,kBAAVpM,GAAgC,KAAVA,IAE5C,kBAAC,GAAD,CAAYyW,KAAM2B,EAAc1K,MAAO1L,KAAK6Y,MAAOlE,IAAKwB,IACvDvP,GAAmB,kBAACwO,GAAD,CAAaX,KAAM7N,EAAiB8E,MAAO1L,KAAKmZ,aAActS,UAAWA,EAAW0O,cAAevV,KAAKxP,MAAMsW,iB,GA9b9G8S,kBCxBnBC,GAAc,SAACzoB,EAAI0oB,GAE5B,IAAM3iB,EAAOmQ,OAAOzQ,SAASD,SAE7BoQ,GAAgBjW,SAAQ,SAACC,EAAIkI,GAAL,OAAWlI,EAAGmG,KAAO6P,GAAgB9N,GAAG/B,KAAKwF,QAAQ,YAAa,IAAIA,QAAQ,gBAAiB,IAAIA,QAAQ,YAAa,OAEhJ,IACI/D,EAAYoO,GAAgBnV,MAAK,SAAA4O,GAAC,OAAItJ,EAAKlG,MAAL,OAAWwP,QAAX,IAAWA,OAAX,EAAWA,EAAGtJ,SACpD8P,EAAO,OAAGrO,QAAH,IAAGA,OAAH,EAAGA,EAAWqO,QACrB3G,EAAU,OAAG1H,QAAH,IAAGA,OAAH,EAAGA,EAAW0H,WAEtByZ,EAASD,EAAejoB,MAAK,SAAAY,GAAG,OAAIA,EAAIwU,UAAYA,GAAWxU,EAAI6N,KAAgBlP,EAAGG,aAAgC,IAAlBkB,EAAIoF,aAE9G,OAAIkiB,IACQ,GCdHC,GAAU,CAAC,CAAC,CACrB5a,MAAO,QACPzE,MAAO,QACPmO,OAAQ,SACRV,SAAU,QACVD,cAAc,EACdvX,WAAY,SAEhB,CACIwO,MAAO,cACPzE,MAAO,iBACPmO,OAAQ,SACRV,SAAU,cACVD,cAAc,EACdvX,WAAY,YAEhB,CACIwO,MAAO,gBACPzE,MAAO,+BACPmO,OAAQ,SACRV,SAAU,cACVD,cAAc,EACdvX,WAAY,YAEhB,CACIwO,MAAO,aACPzE,MAAO,mBACPmO,OAAQ,SACRO,QAAQ,EACR2B,QAAS,CAAC,eAAgB,YAAa,QAAS,aAAc,WAElE,CACI5L,MAAO,UACPzE,MAAO,gCACPmO,OAAQ,SACRO,QAAQ,EACR2B,QAAS,CAAC,wBAAmB,UAAW,cAE5C,CACI5L,MAAO,QACPzE,MAAO,QACPmO,OAAQ,SACR2B,UAAW,IAEf,CACIrL,MAAO,UACPzE,MAAO,UACPmO,OAAQ,SACRsB,UAAU,GAEd,CACIhL,MAAO,UACPzE,MAAO,sBACPmO,OAAQ,SACR2B,UAAW,GACXL,UAAU,GAEd,CACIhL,MAAO,eACPzE,MAAO,mBACPmO,OAAQ,SACRsB,UAAU,GAEd,CACIhL,MAAO,YACPzE,MAAO,gBACPmO,OAAQ,SACRpY,KAAM,SACN0Z,UAAU,GAEd,CACIhL,MAAO,cACPzE,MAAO,uBACPmO,OAAQ,SACRyC,MAAM,EACNnB,UAAU,GAEd,CACIhL,MAAO,mBACPzE,MAAO,uBACPmO,OAAQ,SACRsB,UAAU,GAEd,CACI1Z,KAAM,SACN0O,MAAO,gBACPzE,MAAO,oBACPmO,OAAQ,SACRsB,UAAU,GAEd,CACIhL,MAAO,kBACPzE,MAAO,2BACPmO,OAAQ,SACRyC,MAAM,EACNnB,UAAU,KAIToB,OAAO,CCrGmB,CAE3B,CACIpM,MAAO,gBACPzE,MAAO,sBACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,MAET,CACIzK,MAAO,eACPzE,MAAO,qBACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,MAET,CACIzK,MAAO,YACPzE,MAAO,YACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,KAET,CACIzK,MAAO,iBACPzE,MAAO,kBACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,IAET,CACIzK,MAAO,kBACPzE,MAAO,8BACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,KAET,CACIzK,MAAO,kBACPzE,MAAO,8BACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAK,QD4DR2B,OAAO,CAAC,KACRA,OAAO,CAAC,KE3FP1Y,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCoZ,OAAQ,CACJjD,YAAa,YAIN,eAAsJ,IAA1Ib,EAAyI,EAAzIA,YAAaC,EAA4H,EAA5HA,WAAY1X,EAAgH,EAAhHA,KAAMgb,EAA0G,EAA1GA,YAAaQ,EAA6F,EAA7FA,aAAc4N,EAA+E,EAA/EA,eAAgBC,EAA+D,EAA/DA,aAAcvY,EAAiD,EAAjDA,SAAU9G,EAAuC,EAAvCA,aAAcC,EAAyB,EAAzBA,eAAgB4Q,EAAS,EAATA,MAGjJhD,EAA0E7X,EAA1E6X,WAAYwC,EAA8Dra,EAA9Dqa,SAAUlN,EAAoDnN,EAApDmN,MAAOiE,EAA6CpR,EAA7CoR,gBAAiB0K,EAA4B9b,EAA5B8b,UAAW7V,EAAiBjG,EAAjBiG,OAAQpG,EAASG,EAATH,KAC1C0b,EAAftZ,KAAesZ,OACzB9H,EAAO0V,GAAQtR,GAEfkE,EAAe/R,EAGnB,MAFa,mBAATnK,IAA2Bkc,EAAe9R,GAG1C,yBAAK9B,UAAU,eACX,kBAACqP,GAAD,CACIxX,KAAMA,EACN8Q,SAAUA,EACV8G,YAAaxG,GAAe,mCAA0BjE,GAAS,GAAnC,qBAA2CiE,QAA3C,IAA2CA,OAA3C,EAA2CA,EAAiBE,aACxFmG,YAAaA,EACbC,WAAYA,IAGZtG,GACA,8BACKyG,EAAa,GACV,6BAAS1P,UAAU,SACf,kBAACiS,GAAD,CAAeC,SAAUA,EAASxC,KAClC,kBAACa,GAAD,CACIjF,KAAMA,EACNzT,KAAMA,EACN8Q,SAAUA,EACV4G,WAAYA,EACZD,YAAaA,EACboB,YAAa5S,EAAS,CAAC,QAAS,eAAiB,CAAC,kBAI9C,IAAf4R,GACG,6BAAS1P,UAAU,eACf,kBAACP,EAAA,EAAD,CACII,QAAQ,WACRH,KAAK,QACLnF,MAAM,UACNyF,UAAWoT,EACXvS,QAAS,kBAAMwS,EAAa,kBAE5B,kBAAC,KAAD,MAPJ,gBAUA,kBAAC5T,EAAA,EAAD,CACII,QAAQ,WACRH,KAAK,QACLnF,MAAM,UACNyF,UAAWoT,EACXvS,QAAS,kBAAMwS,EAAa,oBAE5B,kBAAC,KAAD,MAPJ,mBAYP4N,GAAkBjc,EAAM/M,MAAM,0BAC3B,yBAAK+H,UAAU,aACX,0BAAMa,QAAS,kBAAMqgB,MAArB,sEAIJvN,GAAa,kBAACf,GAAD,CACTlb,KAAMA,EACNmK,aAAc+R,EACdlB,MAAOA,EACPG,YAAaA,EACbhb,KAAMA,OC7EnB,SAASukB,GAAT,GACoC,IADbX,EACY,EADZA,KAAM/I,EACM,EADNA,MAAO1V,EACD,EADCA,MAAOmkB,EACR,EADQA,OAAQC,EAChB,EADgBA,WAAYC,EAC5B,EAD4BA,YAAaC,EACzC,EADyCA,cAAejF,EACxD,EADwDA,QAAS/M,EACjE,EADiEA,YAAatE,EAC9E,EAD8EA,YAC9H4M,EAAgD,EAAhDA,OAAQ1M,EAAwC,EAAxCA,SAAU8I,EAA8B,EAA9BA,YAA8B,IAAjBtc,YAAiB,MAAV,OAAU,EAE5C0Z,GAAW,EACTT,EAAe,SAAC4Q,EAAWngB,GAC/B,GAAkB,aAAdmgB,EACF,OAAIngB,EAAMtC,OAAS,GAAKsC,EAAMnJ,MAAM,sCAClCmZ,GAAW,GACJ,IAGPA,GAAW,GACJ,IAKb,OACE,kBAACuL,GAAA,EAAD,CAAQlB,KAAMA,EAAMX,QAASpI,EAAOkK,kBAAgB,qBAClD,kBAACC,GAAA,EAAD,CAAazkB,GAAG,qBAAqB4E,GACrC,kBAAC8f,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACGoE,GAEH,6BAEEC,EAAW/oB,KAAI,SAACkpB,EAAWrhB,GAAZ,OACb,kBAAC+Q,GAAA,EAAD,CACE3Q,IAAKJ,EACL+c,UAAyB,aAAdsE,IAA4B,EACvClb,KAAMkb,EACN5f,MAAO0f,EAAYnhB,GACnBsB,SAAU8N,EACVsI,OAAQA,EAAO1X,GACfxI,KAAMA,EACNwZ,MAAOP,EAAa4Q,EAAW3J,EAAO1X,IACtC0R,WAAS,EACTP,gBAAiB,CAAEC,QAAQ,QAGjC,6BAAM,6BACN,kBAACyC,GAAD,CACE/W,MAAM,iBACNqJ,KAAMib,EACNpW,SAAUA,EACV8I,YAAaA,EACbhJ,YAAaA,KAGjB,kBAACgS,GAAA,EAAD,KACE,kBAACvd,EAAA,EAAD,CAAQoB,QAAS6R,EAAOnY,MAAM,WAA9B,YAGA,kBAACkF,EAAA,EAAD,CAAQoB,QAASwb,EAAS9hB,MAAM,UAAU6W,SAAUA,GAApD,e,ICwbOlJ,MAFK,CAAC,WAAY,WAAY,eAAgB,iBAAkB,wB,kDAzd3E,aAAe,IAAD,8BACV,gBAQJ1Q,MAAQ,CACJgqB,WAAY,CAAC,8GACT,0DAAwD,kCACxD,kDACJ3H,MAAO,CAAC,8BAA4B,2BAA4B,aAAc,cAE9E3H,SAAU,CAAC,sBAAoB,+BAC3B,gCAAiC,cACrCvJ,SAAU,GACVQ,YAAa,GACbK,yBAA0B,GAC1B0T,MAAO,GACPC,SAAU,qBACVC,cAAc,EACd1N,WAAY,EACZ1F,MAAO,GACP4D,iBAAiB,EACjB6T,UAAU,EACVC,SAAU,GACV1c,MAAO,GACP2O,WAAW,EACXK,YAAa,gCACbyF,gBAAgB,GA/BN,EA4DdN,cA5Dc,uCA4DE,WAAM1hB,GAAN,iBAAAoL,EAAA,2DACJuK,EAAW,EAAK5V,MAAhB4V,UACMA,EAAO,GAFT,uBAGR,EAAKiQ,SAAL,2BAAmB,EAAK7lB,OAAUuV,GAAiB,cAH3C,0BAONuQ,EAAiB,EAAK9lB,MAAMkY,WACnB,SAAXjY,GAAmB,EAAK4lB,SAAS,CAAE3N,WAAY4N,EAAiB,IACrD,SAAX7lB,GAAmB,EAAK4lB,SAAS,CAAE3N,WAAY4N,EAAiB,IACrD,UAAX7lB,GAAoB,EAAK4lB,SAAS,CAAE3N,WAAY,IAVxC,2CA5DF,wDAyEdJ,YAzEc,uCAyEA,WAAMpG,GAAN,iCAAArG,EAAA,2DACmC,EAAKnF,MAAMqJ,MAAhD5N,EADE,EACFA,SAAUwP,EADR,EACQA,SAAU9G,EADlB,EACkBA,aADlB,EAEYqH,EAAEqU,OAAlBlX,EAFI,EAEJA,KAAMjF,EAFF,EAEEA,MAEC,gBAATiF,EAJM,sBAKF4C,EAAkBN,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEC,cAAgB/H,MALrD,iCAQI,EAAKic,SAAS,CAAElU,YAAaF,EAAgBE,YAAaF,oBAR9D,OASE7H,IAAU6H,EAAgBE,aAAa,EAAKkU,SAAS,CAAEpU,qBAAiB2D,IAEtEsQ,EAAQ/jB,EAASwF,QAAO,SAAArG,GAAC,OAAIA,EAAE8Q,UAAY,EAAK5R,MAAM2R,eAE5D,EAAKkU,SAAS,CAAEH,UAbd,wBAgBF,EAAKG,SAAS,CAAEpU,qBAAiB2D,EAAWsQ,MAAO,KACnD,EAAKyE,QAjBH,QAqBG,UAATtb,GAAoB,EAAK7O,MAAM0lB,QACf,EAAK1lB,MAAM0lB,MAAMrkB,MAAK,SAAAP,GAAC,OAAIA,EAAE0M,QAAU5D,MACzCS,EAAa9J,SAAQ,SAAAmR,GAAC,OAAI,EAAKmU,SAAL,eAAiBnU,GAAI,QAGpD,aAAT7C,EAEwB,kBADpBqb,EAAWtgB,MAEXsgB,EAAWA,EAAS/d,QAAQ,UAAU,SAAA/E,GAAC,OAAIA,EAAEgjB,kBAChC3pB,MAAM,sCAAqCypB,EAAWA,EAAS/d,QAAQ,UAAW,QAC/F,EAAK0Z,SAAL,2BAAmB,EAAK7lB,OAAxB,IAA+BkqB,eAEhC,EAAKrE,SAAL,eAAiBhX,EAAOjF,IAjCrB,4CAzEA,wDA6Gdqc,MA7Gc,uCA6GN,WAAOpX,EAAMjF,EAAOxJ,EAAY8lB,EAASC,EAAQC,GAAjD,yBAAA/a,EAAA,yDAEEpB,EAAO7J,EAAW+G,QAAO,SAAA3G,GAAE,OAAIA,EAAG2lB,GAAQG,cAAc7lB,MAAMmJ,EAAM0c,kBAC5D,KAAV1c,GAAc,EAAKic,UAAL,mBAAiBhX,EAAO,IAAxB,cAA6BqX,EAAU,IAAvC,KACdjc,EAAK,GAJL,oBAKMsc,EAAStc,EAAK,GAAGkc,GACjBvlB,EAAKqJ,EAAK,GAAGmc,GACL,KAAVxc,EAPJ,gCAQU,EAAKic,UAAL,mBAAiBhX,EAAO0X,GAAxB,cAAiCL,EAAUtlB,GAA3C,IARV,gDAYM,EAAKilB,UAAL,mBAAiBhX,EAAO,IAAxB,cAA6BqX,EAAU,IAAvC,IAZN,QAaA,EAAKL,SAAS,CAAEzP,iBAAiB,EAAMC,UAAW,oBAClD3P,SAAS8f,kBAAkB3X,GAAM,GAAG4X,QAdpC,4CA7GM,kEA+Hd4D,WAAa,SAACzb,EAAOhF,GACjB,GAAKA,GAA0B,kBAAVA,EASrB,MARc,eAAVgF,IACc,eAAVhF,IAAwBA,EAAQ,gBACtB,2BAAVA,IAAoCA,EAAQ,cAClC,eAAVA,IAAwBA,EAAQA,EAAMqb,OAAO,GAAKrb,EAAMuM,MAAM,GAAGmQ,gBAE3D,YAAV1X,GAAiC,QAAVhF,IAAiBA,EAAQ,yBACtC,YAAVgF,GAAiC,WAAVhF,IAAiBA,EAAQ,aAE7CA,GAzIG,EA4IdmO,WA5Ic,uCA4ID,WAAMrG,GAAN,uDAAArG,EAAA,wDAEqD,EAAKnF,MAAMqJ,MAAnE4B,EAFG,EAEHA,SAAUnL,EAFP,EAEOA,YAAaqE,EAFpB,EAEoBA,aAAcC,EAFlC,EAEkCA,eAFlC,EAGe,EAAKtK,MAAvB0lB,EAHG,EAGHA,MAAOpf,EAHJ,EAGIA,OACPuI,EAAS6C,EAAEqU,OAAXlX,KAGAjF,EAAU8H,EAAEqU,OAAZnc,OAEAgM,EAASL,MACH,EAAKsQ,SAAS,CAAEjQ,WACvB,EAAKiQ,SAAS,CAAEjQ,YAAQR,IAXpB,KAaDvG,EAbC,OAeA,kBAfA,OAkBA,gBAlBA,8BAgBD,EAAKoX,MAAMpX,EAAMjF,EAAOuH,EAAU,2BAA4B,cAAe,iBAhB5E,6CAmBK,EAAK8U,MAAMpX,EAAMjF,EAAOuH,EAAU,gBAAiB,cAAe,iBAnBvE,yDAwBI,UAATtC,GAAoBjF,EAAMtC,OAAS,GAAKN,MAAMC,QAAQ,EAAKjH,MAAM0lB,QAxB5D,sBA0BDpU,EAAU,EAAKtR,MAAM0lB,MAAMrkB,MAAK,SAAAP,GAChC,MAAqB,kBAAV8I,EAA2B9I,EAAE0M,MAAM8Y,cAAc7lB,MAAMmJ,EAAM0c,eAC5DxlB,EAAE0M,MAAM/M,MAAMmJ,QAGI,kBAAZ0H,EA/BjB,wBAkCGgZ,EAAa,EAAKD,WAAW,aAAhB,UAA8B/Y,SAA9B,aAA8B,EAASgZ,aAAe,KACnEC,EAAU,EAAKF,WAAW,UAAhB,UAA2B/Y,SAA3B,aAA2B,EAASiZ,UAAY,KAC1DC,EAAc,GAGAngB,EAAa2Q,OAAO1Q,GAC5B/J,SAAQ,gBAAG0J,EAAH,EAAGA,KAAH,OAAcoC,OAAOC,OAAOke,EAAdne,OAAA,IAAAA,CAAA,GAA8BpC,GAAO,OAGrEqH,EAAUjF,OAAOC,OAAO,GAAIgF,EAAS,CAAEgZ,aAAYC,YAC7ChZ,EAAkBlF,OAAOmF,OAAOF,GA5CrC,UA+CK,EAAKuU,SAAL,uCAAmB2E,GAAgBlZ,GAAnC,IAA4CC,kBAAiByI,SAAS,KA/C3E,gBAiDe5E,IAAZ9D,GAAyBA,EAAQ7E,eAAe,YAAY,EAAKoZ,SAAS,CAAEhU,YAAaP,EAAQM,UAEhGtL,EAnDJ,oBAoDuB,qCAChBye,EArDP,qEAqD+EzT,EAAQ9D,MArDvF,0EAuDwB6b,GAAW,UAAC/X,SAAD,aAAC,EAAS7D,UAAWzH,GAvDxD,kCAyDa,EAAK6f,SAAS,CAAEf,YALN,qCAKmBC,gBAAe3O,iBAAiB,EAAMvE,YAAa,KAzD7F,eA0DO,EAAKsY,QA1DZ,2BAgEoB,KAArB,EAAKnqB,MAAMwN,OAAiB8D,IACxB6Y,EAAQ,GACRzE,EAAM,IAAIrZ,OAAO8F,KAAKuT,EAAM,IAAInlB,SAAQ,SAAA+U,GAAC,OAAI6U,EAAM7U,GAAK,MAC5D,EAAKuQ,SAAS,CAAExP,UAAW,gBAAiBD,iBAAiB,IAC7D,EAAKyP,SAAL,2BAAmBsE,GAAnB,IAA0BnQ,SAAS,MApElC,4CA5IC,wDAqNd6B,aAAe,SAAA3b,GAAS,IAAD,EAEbE,EAAa,EAAK8F,MAAMqJ,MAAMrP,GAChCymB,EAAS,GAAIC,EAAgB,GAE7B,EAAK5mB,MAAME,KAAO0mB,EAAgB,EAAK5mB,MAAME,IAGjDE,EAAWG,SAAQ,YAAe,IAAZ0J,EAAW,EAAXA,KAClB2c,EAAcrmB,SAAQ,SAAAsmB,GACdA,EAAGP,gBAAkBrc,EAAKqc,eAAeK,EAAOjmB,KAAKuJ,SAIjE0c,EAAOpmB,SAAQ,SAAAumB,GAAE,OAAI,EAAKjB,SAAL,eAAiBiB,GAAK,OAE3C,EAAKjB,UAAL,mBAAiBzlB,EAAaumB,GAA9B,2BAAkD,EAAK3mB,MAAMmc,WAA7D,qBAAwEjc,GAAxE,KArOU,EAwOdmb,YAxOc,uCAwOA,WAAOpR,EAAM/J,GAAb,uBAAAmL,EAAA,yDACJjL,EAAa,EAAK8F,MAAMqJ,MAAMrP,GAD1B,wDAKNuS,EAAQ,GAAI3H,EAAM,GAET,iBAAT5K,IAAyB8mB,EAAW,UAC3B,mBAAT9mB,IAA2B8mB,EAAW,oBARhC,SAUJ,EAAKnB,SAAL,2BAAmB,EAAK7lB,OAAxB,kBAAgCiK,GAAQ,EAAKjK,MAAMiK,MAV/C,OAYV7J,EAAWG,SAAQ,YAAmB,IAAhBK,EAAe,EAAfA,GAAIqJ,EAAW,EAAXA,MACG,IAArB,EAAKjK,MAAMiK,KACXwI,EAAM/R,KAAKuJ,GACXa,EAAIpK,KAAKE,OAIb6R,EAAM,GAAI,EAAKoT,UAAL,mBAAiB3lB,EAAOuS,GAAxB,cAAgCuU,EAAWlc,GAA3C,IACI,iBAAT5K,EAAyB,EAAK2lB,SAAL,aAAgBxb,aAAc,IAAK2c,EAAW,KAC9D,mBAAT9mB,GAA2B,EAAK2lB,SAAL,aAAgBvb,eAAgB,IAAK0c,EAAW,KArB1E,4CAxOA,0DAgQd0C,aAAe,WAGX,EAAK7D,SAAS,CAAEoE,UAAU,EAAMzkB,MAFlB,2BAEyBmkB,OAD1B,2IAlQH,EAsQdc,YAAc,WACV,EAAK5E,SAAS,CAAErY,MAAO,EAAKxN,MAAMkqB,WAClC,EAAKvB,gBAxQK,EA2Qd9G,aA3Qc,uCA2QC,WAAOpK,GAAP,qEAAApM,EAAA,2DAGgH,EAAKrL,MAD1HyN,EAFK,EAELA,UAAW4Z,EAFN,EAEMA,UAAWF,EAFjB,EAEiBA,cAAeC,EAFhC,EAEgCA,aAAcnV,EAF9C,EAE8CA,cAAeV,EAF7D,EAE6DA,gBAAiB0Q,EAF9E,EAE8EA,eAAgB7O,EAF9F,EAE8FA,iBACjGpB,EAHG,EAGHA,yBAA0BkY,EAHvB,EAGuBA,SAAUzY,EAHjC,EAGiCA,gBAAiBhH,EAHlD,EAGkDA,OAAQC,EAH1D,EAG0DA,iBAAkBwX,EAH5E,EAG4EA,KAAM5b,EAHlF,EAGkFA,OAAQwN,EAH1F,EAG0FA,KAAMX,EAHhG,EAGgGA,YAEvGwU,GAAyB,OAANrhB,QAAM,IAANA,GAAA,UAAAA,EAAQ+K,eAAR,eAAiB/J,SAAU,EAG9CugB,EAA0B,GAApB/lB,OAAOulB,IAAmBvlB,OAAOqlB,GAAiBrlB,OAAOslB,IAC/DU,MAAMD,KAAMA,OAAMzS,GAElBsV,EAAU,GACdlB,GAAQjpB,SAAQ,SAAAuT,GACZA,EAAKvT,SAAQ,SAAAqT,GACT,IAAK,IAAI0B,KAAK,EAAKtV,MACXsV,IAAM1B,EAAIhF,OAAUgF,EAAIgG,UACpB,EAAK5Z,MAAMsV,IAAIjJ,OAAOC,OAAOoe,EAAdre,OAAA,IAAAA,CAAA,GAA0BiJ,EAAI,EAAKtV,MAAMsV,WAK5EoV,EAAUre,OAAOC,OAAOoe,EAAS,CAAEzY,gBAAeD,2BAA0B6V,MAAKpd,SAAQC,qBAErFpE,GAAU8M,IACVsX,EAAUtX,EAAiB7B,EAAiBmZ,KAxBrC,EA0BsDA,GAA3Dld,MA1BK,EA0BEqE,YA1BF,EA0BeX,cAAkByZ,EA1BjC,wDA4BPT,GAAyB,KAAbA,IACZS,EAAiBnd,MAAQ0c,GAGvB,EAAKlqB,MAAMkR,eAA8C,KAA7B,EAAKlR,MAAMkR,iBAAzC,OAAkEK,QAAlE,IAAkEA,OAAlE,EAAkEA,EAAiBS,4BACnF2Y,EAAiB3Y,yBAA2B,QAG3CyF,GAAqD,IAAzCpL,OAAO8F,KAAKwY,GAAkBrjB,OApCpC,wBAqCP,EAAKue,SAAS,CAAEzP,iBAAiB,EAAM0O,YAAa,0BAAqBC,cAAe,sJArCjF,8BAwCLqD,EAAgBpc,IAAMmc,eAAewC,GAIvCtZ,EAAU,CACNJ,WAAY0Z,EACZzI,OACA1P,MAAOsB,GAEX7R,EAAM,CACFsV,UAAS,OAAE9F,QAAF,IAAEA,OAAF,EAAEA,EAAiBQ,cAC5BxE,YACA4D,UACA8B,cACArF,SAAU,CAAEL,aACZwJ,cAAe0Q,EACflQ,YAEJnR,IAAQrE,EAAIrB,GAAJ,OAAS0F,QAAT,IAASA,OAAT,EAASA,EAAQ1F,IAE7BiW,GAAa5U,GACR4J,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAR,OAAY8J,QAAZ,IAAYA,OAAZ,EAAYA,EAAG1L,SACzB2e,OAAM,SAAAC,GAAG,OAAIjd,QAAQC,IAAIgd,OAG1B3Y,IAAUmR,GAAawK,EAjEhB,wBAkEHxQ,EAAgBQ,gBAAkBA,IAAemW,EAAcpnB,QAAU,4BAGjE,UACE,aAtEP,UAwEDyK,KAAMoJ,IAAI,qBAAsB,CAAEuT,gBAAetZ,MAH3C,UAGkDlN,QAFhD,aAEyDhB,GAAI6M,IAxEpE,WA4ENgK,EAOD,EAAK4Q,SAND1C,EAAW,yDACXrf,GAAUA,EAAOgR,OAAO7W,MAAM,gBAC9BklB,EAAW,8DACf,EAAK0C,MAAM1C,IAKVrf,EArFM,kCAsFD,EAAKuf,SAAS,CAAE3N,WAAY,EAAGvG,iBAAayD,IAtF3C,QAuFP,EAAK+U,OAAM,GAvFJ,wBA0FP7B,YAAW,WAAQ,EAAKpiB,MAAMmL,QAAQ3Q,KAAK,mBAAoB,MA1FxD,4CA3QD,wDAwWd8S,YAxWc,uCAwWA,WAAOhB,EAAO3D,GAAd,eAAAxD,EAAA,0DAENmH,IAASA,EAAM,GAFT,gCAGA,EAAKqT,SAAL,eAAiBhX,EAAO2D,EAAM,KAH9B,OAKAgW,EAAWhV,GAAYhB,EAAO,EAAKxS,MAAOqd,IAChD,EAAKwI,SAAL,2BAAmB2C,GAAnB,IAA6BrT,aAAc,QANrC,2CAxWA,0DAkXdL,WAlXc,uCAkXD,WAAOjG,GAAP,iBAAAxD,EAAA,sDAEHyI,EAAS,EAAK9T,MAAd8T,KACF0U,EAAW1T,GAAWjG,EAAMiF,GAEhC,EAAK+R,SAAL,2BAAmB,EAAK7lB,OAAUwoB,IALzB,2CAlXC,wDA0XdxG,kBAAoB,kBAAM,EAAK6D,SAAS,CAAE5D,gBAAiB,EAAKjiB,MAAMiiB,kBA1XxD,EA2Xd0G,aAAe,kBAAM,EAAK9C,SAAS,CAAEoE,UAAW,EAAKjqB,MAAMiqB,YA3X7C,EA4XdW,WAAa,kBAAM,EAAK/E,SAAS,CAAEzP,iBAAkB,EAAKpW,MAAMoW,mBA5XlD,EA6Xd0F,YAAc,kBAAM,EAAK+J,SAAS,CAAE1J,WAAW,KA7XjC,EA8XdkM,MAAQ,SAAA1C,GAAQ,OAAI,EAAKE,SAAS,CAAED,cAAe,EAAK5lB,MAAM4lB,aAAcD,SAAUA,GAAsB,EAAK3lB,MAAM2lB,YA9XzG,EA+XdwE,MAAQ,SAAAU,GAEJ,IAAIpC,EAAa,GAEjBe,GAAQjpB,SAAQ,SAAAuT,GAAI,OAAIA,EAAKvT,SAAQ,SAAAC,GAAE,OAAI,EAAKqlB,SAAL,eAAiBrlB,EAAGoO,MAAQ,WACvEyO,GAAc9c,SAAQ,YAAe,IAAZsO,EAAW,EAAXA,KACrBxC,OAAOC,OAAOmc,EAAdpc,OAAA,IAAAA,CAAA,GAA6BwC,OAAOuG,OAEpCyV,EAAU,EAAKhF,SAAL,2BAAmB4C,GAAnB,IAA+B3U,UAAMsB,EAAW3D,qBAAiB2D,EAAWzD,iBAAayD,KAClG,EAAKyQ,SAAL,2BAAmB4C,GAAnB,IAA+B3U,UAAMsB,MAtY1C,EAAKwT,YAAc,SAAClX,GACE,KAAdA,EAAEmX,SACE,EAAK7oB,MAAMmc,WAAW,EAAKL,eAJ7B,E,yMAoCJvM,EAAUC,KAAKtJ,MAAfqJ,MACAlF,EAAiCkF,EAAjClF,aAAcC,EAAmBiF,EAAnBjF,gBAChBhE,E,UAASkJ,KAAKtJ,a,iBAAL,EAAYG,gB,iBAAZ,EAAsBrG,a,aAAtB,EAA6BsG,UAGhCwiB,EAAc9X,GAAU1K,EAAQiJ,GACtCC,KAAKqW,SAAL,2BAAmBiD,GAAnB,IAAgC5Q,WAAY,MAK5C6Q,EAAS,GACTC,EAAS,GAEb3e,EAAa9J,SAAQ,SAAAmR,GAAC,OAAIrF,OAAOC,OAAOyc,EAAd1c,OAAA,IAAAA,CAAA,UAAyBqF,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAGzH,MAAO,OAC7DK,EAAe/J,SAAQ,SAAAmR,GAAC,OAAIrF,OAAOC,OAAO0c,EAAd3c,OAAA,IAAAA,CAAA,UAAyBqF,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAGzH,MAAO,O,SAEzDuF,KAAKqW,SAAL,2BAAmBkD,GAAWC,I,OAEpCtiB,SAASuiB,iBAAiB,UAAWzZ,KAAKoZ,aAAa,G,mJAGlCpZ,KAAKqW,SAAS,M,+BAiV7B,IAAD,EAG4CrW,KAAKtJ,MAAMqJ,MAAtD4B,EAHD,EAGCA,SAAU9G,EAHX,EAGWA,aAAcC,EAHzB,EAGyBA,eAHzB,EAM6FkF,KAAKxP,MADjG4lB,EALD,EAKCA,aAAcD,EALf,EAKeA,SAAUqE,EALzB,EAKyBA,WAAY9R,EALrC,EAKqCA,WAAYmK,EALjD,EAKiDA,MAAO4H,EALxD,EAKwDA,SAAUxY,EALlE,EAKkEA,gBAAiB2E,EALnF,EAKmFA,gBAAiBC,EALpG,EAKoGA,UAAWyO,EAL/G,EAK+GA,YAAaC,EAL5H,EAK4HA,cACzHvI,EANH,EAMGA,YAAa1I,EANhB,EAMgBA,KAAMtO,EANtB,EAMsBA,MAAOmkB,EAN7B,EAM6BA,OAAQO,EANrC,EAMqCA,SAAU5jB,EAN/C,EAM+CA,OAAQ2b,EANvD,EAMuDA,eAAgBC,EANvE,EAMuEA,KAAM/O,EAN7E,EAM6EA,YAElF,OAAO,kBAAC,WAAD,KACH,kBAAC+N,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAczD,KAAK,2BAAqBpX,OAAQA,IAC5E,kBAAC8b,GAAD,CACIlK,WAAYA,EACZmK,MAAOA,EACP2H,WAAYA,EACZrI,cAAenS,KAAKmS,gBAExB,kBAACmJ,GAAD,CACIzqB,KAAMmP,KAAKxP,MACXmR,SAAUA,EACV9G,aAAcA,EACdC,eAAgBA,EAChBqX,cAAenS,KAAKmS,cACpB8H,eAA+B,IAAfvR,EAChBJ,YAAatI,KAAKsI,YAClBC,WAAYvI,KAAKuI,WACjB2R,aAAcla,KAAKka,aACnB7N,aAAcrM,KAAKqM,aACnBR,YAAa7L,KAAK6L,YAClBH,MAAO1L,KAAKsM,cAEA,IAAf5D,GAAoB,kBAACyF,GAAD,CACjBE,gBAAgB,WAChBrB,YAAaA,EACb9I,SAAUI,EACVN,YAAahE,KAAKgE,YAClBL,YAAaA,EACbgC,aAAc3F,KAAKxP,MAAMmV,aACzBL,WAAYtF,KAAKsF,aAEL,IAAfoD,GAAoB,kBAAC,GAAD,CACjB2F,gBAAgB,WAChBxd,KAAMmP,KAAKxP,MACX8T,KAAM0V,GACNhX,MAAOhD,KAAKxP,MAAM8T,KAClB8J,UAAWP,KAEd5L,GAAmB,kBAACgQ,GAAD,CAChBvJ,WAAYA,EACZ0J,SAAUS,EAAM/a,OAAS,EACzBua,aAAcrS,KAAKqS,aACnBF,cAAenS,KAAKmS,cACpBM,eAAgBA,EAChBD,kBAAmBxS,KAAKwS,kBACxBE,KAAMA,EACNpK,YAAatI,KAAKsI,YAClBxR,OAAQA,IAEZ,kBAAC,GAAD,CAAY2d,KAAM2B,EAAc1K,MAAO1L,KAAK6Y,MAAOlE,IAAKwB,IACxD,kBAAC,GAAD,CACI1B,KAAMgG,EACN/O,MAAO1L,KAAKmZ,aACZnjB,MAAOA,EACPmkB,OAAQA,EACRC,WAAY,CAAC,YACbC,YAAa,CAAC,iBACdC,cAAc,cACd1J,OAAQ,CAAC8J,GACTpS,YAAatI,KAAKsI,YAClBtE,YAAahE,KAAKgE,YAClBqR,QAASrV,KAAKib,YACdjO,YAAaA,EACb9I,SAAUI,IAEbsC,GAAmB,kBAACwO,GAAD,CAAaX,KAAM7N,EAAiB8E,MAAO1L,KAAKob,WAAYvU,UAAWA,EAAW0O,cAAeA,EAAeD,YAAaA,S,GAtdtI1U,c,+BCzBV2a,GAAa,CACtB,CACInc,MAAO,aACPzE,MAAO,aACPwN,cAAc,EACdC,SAAU,aACVxX,WAAY,cACZ6Z,UAAW,GACXnV,MAVM,KAYV,CACI8J,MAAO,UACPzE,MAAO,aACPwN,cAAc,EACdC,SAAU,UACVxX,WAAY,UACZ6Z,UAAW,GACXnV,MAnBM,KAqBV,CACI5E,KAAM,OACN0O,MAAO,cACPzE,MAAO,qBACPrF,MAzBM,KA2BV,CACI5E,KAAM,OACN0O,MAAO,aACPzE,MAAO,aACPrF,MA/BM,MCADkmB,GAAe,CACxB,CAAExlB,MAAO,kBAAmBqJ,KAAM,kBAClC,CAAErJ,MAAO,mBAAcqJ,KAAM,cAC7B,CAAErJ,MAAO,aAAWqJ,KAAM,eCqBxBvM,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnC8C,MAAO,CACHrC,QAAST,EAAMkB,QAAQ,GACvB6U,UAAW,SACXxV,MAAOP,EAAMa,QAAQqa,KAAKgD,UAC1BpI,OAAQ9V,EAAMkB,QAAQ,IAE1B8B,MAAO,CACHzC,MAAO,OACPoG,WAAY,IACZF,SAAU,SACVsP,UAAW,SACX9U,aAAc,QAElBgV,UAAW,CACPC,WAAYlW,EAAMkB,QAAQ,GAC1BiV,YAAanW,EAAMkB,QAAQ,GAC3BoB,MAAO,MACPmmB,SAAU,IACVhiB,SAAU,SACV2P,UAAW,OACXL,UAAW,UAEf2S,KAAM,CACF5S,OAAQ9V,EAAMkB,QAAQ,SAIf,SAASynB,GAAT,GACqH,IAD1Fha,EACyF,EADzFA,SAAU9Q,EAC+E,EAD/EA,KAAM+qB,EACyE,EADzEA,eAAgBtT,EACyD,EADzDA,YAAaC,EAC4C,EAD5CA,WACnFsT,EAA+H,EAA/HA,SAAUC,EAAqH,EAArHA,oBAAqB9X,EAAgG,EAAhGA,YAAaqO,EAAmF,EAAnFA,aAAc0J,EAAqE,EAArEA,oBAAqBC,EAAgD,EAAhDA,cAAe1W,EAAiC,EAAjCA,WAAYkN,EAAqB,EAArBA,kBAElGvQ,EACyDpR,EADzDoR,gBAAiBjE,EACwCnN,EADxCmN,MAAOxM,EACiCX,EADjCW,QAASyqB,EACwBprB,EADxBorB,WAAY/F,EACYrlB,EADZqlB,MAAO5H,EACKzd,EADLyd,gBAAiB3K,EACZ9S,EADY8S,YAAagC,EACzB9U,EADyB8U,aAAc7O,EACvCjG,EADuCiG,OACpGolB,EAA6DrrB,EAA7DqrB,UAAWlP,EAAkDnc,EAAlDmc,YAAamP,EAAqCtrB,EAArCsrB,WAAY1J,EAAyB5hB,EAAzB4hB,eAAgBC,EAAS7hB,EAAT6hB,KAElD/b,EAAU7D,KAAegD,EAA2Ba,EAA3Bb,MAAOmT,EAAoBtS,EAApBsS,UAAWyS,EAAS/kB,EAAT+kB,KAE7CzpB,EAAS,GAUb,OARIiqB,GAAaA,EAAUjqB,SACnBiqB,EAAUjqB,OAAO,IAA8B,OAAxBiqB,EAAUjqB,OAAO,KAAaA,EAASiqB,EAAUjqB,OAAO8R,aACrE6B,IAAV5H,GAAuBA,EAAMlG,OAAS,GAAK7F,EAAO,KACnBA,EAAV,kBAAV+L,EAA6Bke,EAAUjqB,OAAO0F,QAAO,SAAAqF,GAAC,OAAIA,EAAE8Z,cAAc7lB,MAAM+M,EAAM8Y,kBAAgB/S,OACnGmY,EAAUjqB,OAAO0F,QAAO,SAAAqF,GAAC,OAAIA,EAAE/L,MAAM+M,MAAQ+F,SAK/D,kBAAC,WAAD,KACI,yBAAK/L,MAAO,CAAE1C,MAAO,OAAQH,QAAS,OAAQwd,cAAe,WACzD,kBAACjB,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAczD,KAAK,UAAUpX,OAAQA,IACjE,kBAACuR,GAAD,CACIxX,KAAMA,EACN8Q,SAAUA,EACV2G,YAAaA,EACbC,WAAYA,IAEftG,GACG,kBAACuP,GAAA,EAAD,CAAOxY,UAAWlD,GACd,wBAAIkD,UAAU,gBAAd,+BACA,kBAACuQ,GAAD,CACIjF,KAAMiX,GACN1qB,KAAMA,EACN0X,WAAYA,EACZD,YAAaA,IAEhBgG,GACG,yBAAKtV,UAAU,aACX,0BAAMa,QAAS,kBAAMkiB,MAArB,oFAMZ9Z,GAAmBia,IAAcA,EAAUjqB,QAAU2pB,IACrD,kBAACpK,GAAA,EAAD,CAAOxY,UAAWlD,GACd,wHACA,6BAASkD,UAAU,oBAAoBhB,MAAO,CAAEokB,WAAY,SACxD,6BACI,kBAACnS,GAAA,EAAD,CACIM,WAAY,CACRlL,KAAM,aACNsJ,KAAM,SAEV0B,gBAAiB,CACbrS,MAAO,CAAEyB,SAAU,WAEvBkB,MAAM,iBACN3B,UAAWiQ,EACX7O,MAAO6hB,EACPzhB,SAAU8N,EACVU,OAAQT,IAEZ,kBAAC,GAAD,CACI3X,WAAYslB,EACZ9N,SAAS,QACThO,MAAO6hB,IAEX,kBAACxjB,EAAA,EAAD,CACIC,KAAK,QACLG,QAAQ,YACRG,UAAWrC,EAAQyV,OACnBpU,MAAO,CAAE8Q,OAAQ,iBACjBjP,QAAS,kBAAMgiB,EAASI,KAExB,kBAAC,KAAD,MAPJ,eAWJ,6BACI,kBAAChS,GAAA,EAAD,CACIM,WAAY,CACRlL,KAAM,SAEVgL,gBAAiB,CACbrS,MAAO,CAAEyB,SAAU,WAEvBkB,MAAM,UACN3B,UAAWiQ,EACX7O,MAAO4D,GAAS,GAChBxD,SAAU8N,EACVU,OAAQT,IAEZ,kBAAC,IAAD,CAAQvQ,MAAO,CAAE/C,UAAW,WAG9B6B,EAWI6M,EAAY,IACd,yBAAK3L,MAAO,CAAE1C,MAAO,QAASL,UAAW,SACrC,kBAACob,GAAD,CACIvZ,OAAQA,EACRlG,WAAW,cACX+S,YAAaA,EACbW,KAAMkX,GACNxjB,MAAO,CAAE1C,MAAO,YAjBxB,kBAACyX,GAAD,CACI1N,KAAK,aACL6E,SAAUiY,EACVnP,YAAaA,EACbhJ,YAAaA,EACbL,YAAaA,EACb2B,WAAYA,EACZK,aAAcA,EACd3N,MAAO,CAAEvE,QAAS,SAAUqV,OAAQ,SAAUxT,MAAO,MAAOmmB,SAAU,YAiBlF,yBAAKziB,UAAU,YAAYhB,MAAO,CAAE5E,eAAgB,aAAcK,QAAS,SACvE,0BAAMoG,QAAS,kBAAMmiB,MAArB,8CAKHE,GAAaA,EAAUjqB,QAAUiqB,EAAUjqB,OAAO,GAE/C,yBAAK+F,MAAO,CAAE8Q,OAAQ,SAAtB,kCACiCoT,EAAU1qB,SAG3C,yBAAKwG,MAAO,CAAE/C,UAAW,UAE5BinB,GAAaA,EAAUjqB,QAAUT,GAAWA,EAAQsG,OAAS,GAAK7F,EAAO,IAAMA,EAAOZ,KAAI,SAAC2M,EAAO9E,GAAR,OACvF,kBAACmjB,GAAA,EAAD,CACI/iB,IAAKJ,EACLyB,MAAOqD,EACPse,SAAU,kBAAMR,EAAoB9d,IACpChF,UAAW0iB,EACXnoB,MAAM,UACNsF,QAAQ,kBAMxBrH,IAAY0qB,GAAaN,KAAoB9kB,EACzC,yBAAKkB,MAAO,CAAEmJ,UAAW,OAAQvN,SAAU,SACvC,kBAAC6E,EAAA,EAAD,CACIC,KAAK,QACLnF,MAAM,UACNyF,UAAU,aACVH,QAAQ,YACRgB,QAAS,kBAAMwY,MALnB,UAQW,2CARX,IAQsC,kBAAC,KAAD,QAI1CpQ,GAAmBnL,EACf,kBAACmb,GAAD,CACIK,YAAY,EACZC,mBAAmB,YACnBzb,OAAQA,EACR0b,kBAAmBA,EACnBC,eAAgBA,EAChBC,KAAMA,EACNL,aAAcA,EACd/J,YAAaA,IAEf,MCzMXiU,OAvBf,YAAoE,IAA3CviB,EAA0C,EAA1CA,MAAOhE,EAAmC,EAAnCA,MAAOnF,EAA4B,EAA5BA,KAAM6a,EAAsB,EAAtBA,MAAOG,EAAe,EAAfA,YAChD,OACI,yBAAK7S,UAAU,mBACX,4BAAKhD,EAAL,mDACA,yBAAKgD,UAAU,sBAEPgB,EAAM3I,KAAI,SAACoJ,EAAMvB,GAAP,OACN,yBAAKF,UAAU,gBAAgBM,IAAKJ,GAChC,2BACI9H,GAAI8H,EACJxI,KAAK,WACLyb,SAAwB,IAAftb,EAAK4J,GACdD,SAAU,kBAAMqR,EAAYpR,MAChC,2BAAO+hB,QAAStjB,GAAIuB,QAKpC,kBAACgR,GAAD,CAAkBC,MAAOA,MCXtB,SAAS+Q,GAAT,GAAqI,IAA1GhI,EAAyG,EAAzGA,KAAM/I,EAAmG,EAAnGA,MAAO1V,EAA4F,EAA5FA,MAAO0mB,EAAqF,EAArFA,cAAeC,EAAsE,EAAtEA,MAAOC,EAA+D,EAA/DA,OAAQC,EAAuD,EAAvDA,YAAaC,EAA0C,EAA1CA,WAAYxU,EAA8B,EAA9BA,YAAayU,EAAiB,EAAjBA,cAE9H,OACI,6BACI,kBAACpH,GAAA,EAAD,CAAQlB,KAAMA,EAAMX,QAASpI,EAAOkK,kBAAgB,qBAChD,kBAACC,GAAA,EAAD,CAAazkB,GAAG,qBAAqB4E,GACrC,kBAAC8f,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACK2G,GAEL,yBAAK1jB,UAAU,cACV4jB,GAAU,yBAAK5jB,UAAU,eACtB,kBAACiR,GAAA,EAAD,CACIzP,SAAUqiB,EACVziB,MAAOuiB,EACPhiB,MAAM,sBACN0O,QAAQ,EACRgB,gBAAiB,CAAEC,QAAQ,GAC3BO,YAAa,CACT7S,MAAO,CACHyB,SAAU,SAAUlG,MAAO,OAAQoG,WAAY,IAC/CrE,MAAO,IAAK4J,OAAQ,UAI3B0d,EAAOvrB,KAAI,WAAY6H,GAAZ,IAAGyjB,EAAH,EAAGA,MAAH,OACR,kBAAC5R,GAAA,EAAD,CAAUzR,IAAKJ,EAAGkB,MAAOuiB,GACpBA,QAKjB,yBAAK3jB,UAAU,eACX,kBAACiR,GAAA,EAAD,CACIgM,WAAS,EACTnN,OAAO,QACPzJ,KAAK,aACL1E,MAAM,UACNjK,KAAK,OACL8J,SAAU8N,EACVlO,MAAO0iB,EACPlS,WAAS,MAKrB,6BAAM,6BAAM,8BAGhB,kBAACoL,GAAA,EAAD,KACI,kBAACvd,EAAA,EAAD,CAAQoB,QAAS6R,EAAOnY,MAAM,WAA9B,YAGA,kBAACkF,EAAA,EAAD,CAAQoB,QAAS,kBAAMkjB,KAAiBxpB,MAAM,WAA9C,gBChEb,IAAMgoB,GAAa,CACtB,CACInc,MAAO,aACPzE,MAAO,aACPwN,cAAc,EACdC,SAAU,aACVxX,WAAY,cACZ0E,MAAO,KAEX,CACI8J,MAAO,UACPzE,MAAO,aACPwN,cAAc,EACdC,SAAU,UACVxX,WAAY,UACZ6Z,UAAW,GACXnV,MAAO,KAEX,CACI5E,KAAM,OACN0O,MAAO,cACPzE,MAAO,qBACPrF,MAAO,KAEX,CACI5E,KAAM,OACN0O,MAAO,aACPzE,MAAO,aACPrF,MAAO,MC5BF0nB,GAAmB,SAAClmB,EAAQiJ,EAAOkd,GAAY,IAAD,EAGnDC,EAAgB,CAAE7d,KAAM,YAAajO,GAAI,WADxB8F,SAASL,SAAtBD,SAGK3F,MAAM,gBACfisB,EAAgB,CAAE7d,KAAM,iBAAkBjO,GAAI,iBANK,IAkBnD+rB,EAGAC,EAIY,IAhBVzb,EAA0B5B,EAA1B4B,SAAU0b,EAAgBtd,EAAhBsd,YATuC,EAUpCH,EAAb7d,EAViD,EAUjDA,KAAMjO,EAV2C,EAU3CA,GACRyQ,GAAgB,OAAN/K,QAAM,IAANA,OAAA,EAAAA,EAAQ+K,UAAW,GAC7B/J,EAZmD,OAY1C+J,QAZ0C,IAY1CA,OAZ0C,EAY1CA,EAAS/J,OAElBmK,EAAkBN,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEO,iBAAF,OAAoB3L,QAApB,IAAoBA,OAApB,EAAoBA,EAAQiR,cACjE5F,EAfmD,OAerCF,QAfqC,IAerCA,OAfqC,EAerCA,EAAiBE,YAI/Bmb,EAAa,GACbC,EAAa,IAGb1b,EAAQ,KAAIsb,EAAatb,EAAQ/J,EAAS,IAE1CqlB,KACAG,GAAuB,QAAV,EAAAH,SAAA,eAAYG,aAAc,GACvCC,GAAuB,QAAV,EAAAJ,SAAA,eAAYI,aAAc,IAK3C,IACIC,GAAc,UAAA3b,EACTa,UACA7Q,MAAK,SAAAb,GAAE,OAAIA,EAAGgS,gBAFL,eAEaA,QAAS,GAEpCwa,EAAY,KACZJ,EAAYC,EAAYxrB,MAAK,SAAA6M,GAAG,OAAIA,EAAItN,KAAOosB,EAAY,OAE3DD,EAAW,IACXN,EAAOlsB,SAAQ,SAAAe,GACXyrB,EAAWxsB,SAAQ,SAAA0sB,GACX3rB,EAAEV,KAAQqsB,EAAGrsB,IACbyL,OAAO8F,KAAK8a,GAAI1sB,SAAQ,SAAAuI,GACpBxH,EAAEwH,GAAOmkB,EAAGnkB,YAKhC,IACIokB,EAAiBT,EACZzR,OAAO8R,GACPvZ,MAAK,SAAClI,EAAG2H,GAAJ,OAAU3H,EAAEwD,GAAMyM,cAActI,EAAEnE,OAGhD,MAAO,CACH8C,cAAaF,kBAAiBnL,SAAQsmB,YAAWE,aAAYC,aAAY3Z,oBAAkB8Z,mBAInG,SAAS9Z,GAAiBC,EAAaC,GAanC,OAZAjH,OAAO8F,KAAKmB,GAAQ/S,SAAQ,SAAAuI,GACpBwK,EAAOxK,IAAQuK,EAAYvK,KAEf,WAARA,GAA4B,qBAARA,GACpBwK,EAAOxK,GAAKyK,MAAK,SAAClI,EAAG2H,GAAJ,OAAU3H,EAAI2H,KAE/BM,EAAOxK,GAAK/H,aAAesS,EAAYvK,GAAK/H,mBACrCuS,EAAOxK,IAEF,KAAhBwK,EAAOxK,IAA+B,SAAhBwK,EAAOxK,IAAoBwK,EAAOxK,WAAawK,EAAOxK,MAE9DwK,E,ICkfX5C,MAFK,CAAC,WAAY,WAAY,cAAe,UAAW,wB,kDApiBnE,aAAe,IAAD,8BACV,gBASJ1Q,MAAQ,CACJyrB,WAAY,GACZ9Z,YAAa,GACb3E,WAAY,GACZmgB,gBAAiB,GACjBxH,SAAU,qBACVC,cAAc,EACdpJ,YAAa,6CACbgP,eAAe,EACfvJ,gBAAgB,GAnBN,EA8DdmL,iBAAmB,WAEX,IAAEzrB,EAAa,EAAKuE,MAAMqJ,MAAxB5N,SAAF,EACiC,EAAK3B,MAApCqtB,EADF,EACEA,cAAe1b,EADjB,EACiBA,YACjB+T,EAAQ/jB,EAASwF,QAAO,SAAArG,GAAC,OAAIA,EAAE8Q,UAAYD,KAC3C2b,EAAqBD,EAAclmB,QAAO,SAAA/F,GAAM,OAAIA,EAAOwQ,UAAYD,KACvE4b,EAAY7H,EAAM7kB,KAAI,SAAAyQ,GAAO,OAAIA,EAAQ9D,SAAO+F,OAEpD,EAAKsS,SAAS,CAAEH,QAAOvkB,QAASmsB,EAAoBC,eAtE1C,EAyEdC,eAzEc,uCAyEG,WAAO3e,EAAM4e,GAAb,mCAAApiB,EAAA,yDAGTlK,EAAUiT,KAAK4C,MAAM5C,KAAKC,UAAU,EAAKnO,MAAMqJ,MAAMpO,UAH5C,EAIqB,EAAKnB,MAAjCyR,EAJO,EAIPA,gBAAiBnL,EAJV,EAIUA,OACnBhF,EALS,YAKDH,EAAQgG,QAAO,SAAAumB,GAAE,OAAIA,EAAGzb,gBAAkBR,EAAgBQ,kBAGlEyZ,EARS,eAQQpqB,EAAED,MAAK,SAAAC,GAAC,OAAIA,EAAEuN,KAAU4e,MAEzCnnB,GAAU,EAAKtG,MAAM0rB,YACrBA,EAAY,EAAK1rB,MAAM0rB,aAEHrf,OAAO8F,KAAKuZ,GAAWpkB,OAAS,GAb3C,wBAiBLgG,EAAc0I,KAAO0V,EAAUpe,aAAamT,OAAO,cACnDlT,EAAayI,KAAO0V,EAAUne,YAAYkT,OAAO,cAC/CzT,GAnBG,EAmB0B0e,GAA7B1e,WAAYE,EAnBT,EAmBSA,aAnBT,SAqBH,EAAK2Y,SAAS,CAAE7Y,aAAYE,eAAcI,cAAaC,aAAYme,cArBhE,yCAwBR,EAAK7F,SAAS,CAAEvY,YAAa,GAAIC,WAAY,GAAI4f,gBAAiB,KAxB1D,4CAzEH,0DAoGdrV,YApGc,uCAoGA,WAAMpG,GAAN,uDAAArG,EAAA,sDAEJzB,EAAU8H,EAAEqU,OAAZnc,MAEAiF,EAAS6C,EAAEqU,OAAXlX,KAJI,EAKsB,EAAK3I,MAAMqJ,MAArC4B,EALI,EAKJA,SAAUvE,EALN,EAKMA,YALN,EAOuC,EAAK5M,MADhDyR,EANI,EAMJA,gBAAiBiU,EANb,EAMaA,MAAOgG,EANpB,EAMoBA,UAAW1qB,EAN/B,EAM+BA,QAASsM,EANxC,EAMwCA,YAC1CC,EAPE,EAOFA,WAAYogB,EAPV,EAOUA,aAAc3gB,EAPxB,EAOwBA,WAElC,EAAK6Y,SAAL,eAAiBhX,EAAOjF,IATd,KAWFiF,EAXE,OAYD,gBAZC,OA0BD,YA1BC,QA8BD,eA9BC,QAqCD,eArCC,6BAaE4C,EAAkBN,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEC,cAAgB/H,MAbzD,kCAgBQ,EAAKic,SAAS,CAAElU,YAAaF,EAAgBE,YAAaF,oBAhBlE,QAiBM7H,IAAU6H,EAAgBE,aAAa,EAAKkU,SAAS,CAAEpU,qBAAiB2D,IAC5E,EAAKgY,mBAlBP,wBAqBE,EAAKvH,SAAS,CAAEpU,qBAAiB2D,EAAWsQ,MAAO,KACnD,EAAKkI,cAtBP,mDA2BF,EAAKJ,eAAe,UAAW5jB,GA3B7B,oCA+BIikB,EAAqBjhB,EAAYvL,MAAK,SAAA4L,GAAE,OAAIA,EAAGD,aAAepD,OAEhE,EAAKic,SAAS,CAAE3Y,aAAc2gB,EAAmBjtB,KAjCnD,oCAsCIktB,EAAepI,EAAMrkB,MAAK,SAAAP,GAAC,OAAIA,EAAE0M,QAAU5D,OAC/B,EAAKic,SAAS,CAAEiI,iBAvChC,wCA+CJC,EADS,CAAC,aAAc,UAAW,cAAe,cAC7BxhB,OAAM,SAAAmI,GAAC,OAAI,EAAK1U,MAAM0U,IAAwB,KAAlB,EAAK1U,MAAM0U,MAErD,gBAAT7F,GAA2B8e,IAAgBI,GAAgBrC,EAjDrD,wBAmDAmC,EAAqBjhB,EAAYvL,MAAK,SAAA4L,GAAE,OAAIA,EAAGD,aAAe,EAAKhN,MAAMgN,iBACvDE,EAAe2gB,EAAmBjtB,IAEpD+sB,EAAe,CACjB/b,QAASH,EAAgBE,YACzBM,cAAeR,EAAgBQ,cAC/BjR,UAASgM,aAAYE,eAAcI,cAAaC,aAAY9L,OAAQ,GAAIE,SAAU,IAzDhF,UA2DA,EAAKkkB,SAAS,CAAE6F,UAAWiC,EAAczgB,iBA3DzC,4CApGA,wDAmKd6K,WAAa,SAAArG,GAGL,IAAE9E,EAAgB,EAAK1G,MAAMqJ,MAA3B3C,YAAF,EACiD,EAAK5M,MAApDgN,EADF,EACEA,WAAYqgB,EADd,EACcA,cAAe5b,EAD7B,EAC6BA,gBAC3B5C,EAAS6C,EAAEqU,OAAXlX,KAEN,GAAa,eAATA,EAAuB,CACvB,IAAIye,EAAqB,GAEnBU,EAAQphB,EAAYvL,MAAK,SAAAC,GAAC,OAAIA,EAAE0L,WAAWsZ,cAAc7lB,MAAMuM,EAAWsZ,kBAC5E0H,GAAShhB,EAAW1F,OAAS,GAAG,EAAKue,SAAS,CAAE7Y,WAAYghB,EAAMhhB,WAAYE,aAAc8gB,EAAMptB,MACjGotB,GAAShhB,EAAW1F,OAAS,GAAG,EAAKue,SAAS,CAAEzP,iBAAiB,EAAMC,UAAW,qBAAsBrJ,gBAAYoI,IAErH3D,IAAoBzE,GACpBsgB,EAAqBD,EAAclmB,QAAO,SAAA/F,GAAM,OAAIA,EAAOwQ,UAAYH,EAAgBE,eACvF,EAAKkU,SAAS,CAAE1kB,QAASmsB,KAEnB7b,GAAkC,KAAfzE,EAIpByE,GAAkC,KAAfzE,IACxBsgB,EAAqBD,EAChBlmB,QAAO,SAAA8mB,GAAG,OAAIA,EAAIrc,UAAYH,EAAgBE,eAC9CxK,QAAO,SAAA8mB,GAAG,OAAIA,EAAIjhB,aAAeA,KACtC,EAAK6Y,SAAS,CAAE1kB,QAASmsB,MAPzBA,EAAqBD,EAAclmB,QAAO,SAAA7F,GAAC,OAAIA,EAAE0L,aAAeA,KAChE,EAAK6Y,SAAS,CAAE1kB,QAASmsB,KASjC,GAAa,gBAATze,GAAmC,eAATA,EAAuB,CACjD,IAAM+G,EAASL,KACXK,EAAQ,EAAKiQ,SAAS,CAAEjQ,WACvB,EAAKiQ,SAAS,CAAEjQ,YAAQR,MAnMvB,EAuMdoW,cAAgB,WAAO,IAAD,EACe,EAAKxrB,MAA9B0rB,EADU,EACVA,UAAW6B,EADD,EACCA,UACf9rB,EAAS,GAAIysB,EAAe,GAE5BxC,GAAaA,EAAUjqB,SAAQA,EAASiqB,EAAUjqB,QAEtD8rB,EAAUhtB,SAAQ,SAAAiM,GAAC,OAAIH,OAAOC,OAAO4hB,EAAd7hB,OAAA,IAAAA,CAAA,GAA+BG,GAAI,OAC1D/K,EAAOlB,SAAQ,SAAAiM,GAAC,OAAIH,OAAOC,OAAO4hB,EAAd7hB,OAAA,IAAAA,CAAA,GAA+BG,GAAI,OAEvD,EAAKqZ,SAAS,CAAEqI,eAAcC,cAAe1sB,EAAQ+pB,eAAgB,EAAKxrB,MAAMwrB,iBAhNtE,EAmNdnQ,YAnNc,uCAmNA,WAAM+S,GAAN,eAAA/iB,EAAA,uDAEN6iB,EAFM,eAEc,EAAKluB,MAAMkuB,eACtBE,IAAUF,EAAaE,IAER,IAAxBF,EAAaE,GAAiB,EAAK/C,SAAS+C,GAC3C,EAAK9C,oBAAoB8C,GAE9B,EAAKvI,SAAS,CAAEqI,iBARN,2CAnNA,wDA8Nd7C,SA9Nc,uCA8NH,WAAMgD,GAAN,+BAAAhjB,EAAA,2DAG8C,EAAKrL,MAApDgB,EAHC,EAGDA,QAAS0kB,EAHR,EAGQA,MAAOyH,EAHf,EAGeA,gBAAiBzB,EAHhC,EAGgCA,UACnCoC,EAAepI,EAAMrkB,MAAK,SAAAP,GAAC,OAAIA,EAAE0M,QAAU6gB,KAE1CA,GAA6B,KAAfA,EANZ,yDAScjZ,IAAjB0Y,IAA2E,IAA7CA,EAAarhB,eAAe,aATvD,uBAUH,EAAKoZ,SAAS,CAAEzP,iBAAiB,EAAMC,UAAW,kBAV/C,kBAWI,MAXJ,YAYIqV,GAAaA,EAAUjqB,QAAUqsB,EAAatgB,OAZlD,qBAaWke,EAAUjqB,OAAOJ,MAAK,SAAAmL,GAAC,OAAIA,IAAMshB,EAAatgB,SAbzD,wBAeC,EAAKqY,SAAS,CAAEzP,iBAAiB,EAAMC,UAAW,gBAfnD,kBAgBQ,MAhBR,QAoBHrV,GAAW0qB,IAEPprB,EAFkB,eAEJorB,GACZje,EAAcqgB,EAAdrgB,UAEDnN,EAAOmB,SAAQnB,EAAOmB,OAAS,IAC/BnB,EAAOqB,WAAUrB,EAAOqB,SAAW,IAExCrB,EAAOmB,OAAOf,KAAK2tB,GACnB/tB,EAAOqB,SAASjB,KAAK+M,GAGjB0f,EAAgB/d,SAAS3B,KACnB/E,EAAIykB,EAAgBza,QAAQjF,GAClC0f,EAAgBzrB,OAAOgH,EAAG,IAE9B,EAAKmd,SAAS,CAAE6F,UAAWprB,EAAQmrB,WAAY,GAAI0B,qBApChD,4CA9NG,wDAsQd7B,oBAtQc,uCAsQQ,WAAM+C,GAAN,6CAAAhjB,EAAA,wDAGO,EAAKrL,MAAxBgB,EAHY,EAGZA,QAAS0kB,EAHG,EAGHA,MACXoI,EAAepI,EAAMrkB,MAAK,SAAAP,GAAC,OAAIA,EAAE0M,QAAU6gB,KACzC5gB,EAAqBqgB,EAArBrgB,UAAWD,EAAUsgB,EAAVtgB,MAGbke,EARc,eAQG,EAAK1rB,MAAM0rB,WAC5ByB,EATc,YASQ,EAAKntB,MAAMmtB,iBACjC1rB,EAAS,GAAIE,EAAW,IAGtBssB,EAAM,EAAK/nB,MAAMqJ,MAAMpO,QAAQE,MAAK,SAAAC,GAAC,OAAIA,EAAEN,UAAYA,OAClDitB,EAAIxsB,SAAQ6sB,EAAQL,EAAIxsB,OAAO2N,SAAS5B,IAE/C8gB,IACM3sB,EAAa+pB,EAAb/pB,SACA2T,EAAI3T,EAAS+Q,QAAQjF,GAEtB0f,EAAgB/d,SAASzN,EAAS2T,MACnC6X,EAAgBzsB,KAAKiB,EAAS2T,IAE9B,EAAKuQ,SAAS,CAAEsH,sBAIpBzB,EAAUjqB,SAAQA,EAASiqB,EAAUjqB,QACrCiqB,EAAU/pB,WAAUA,EAAW+pB,EAAU/pB,UAGzC+G,EAAIjH,EAAOiR,QAAQlF,GACnB8H,EAAI3T,EAAS+Q,QAAQjF,GAEzBie,EAAUjqB,OAAOC,OAAOgH,EAAG,GAC3BgjB,EAAU/pB,SAASD,OAAO4T,EAAG,GAE7B,EAAKuQ,SAAS,CAAE6F,cArCE,4CAtQR,wDA8Sd6C,gBAAkB,WAAO,IAAD,EAEuC,EAAKvuB,MAA1D0rB,EAFc,EAEdA,UAAWpe,EAFG,EAEHA,YAAaC,EAFV,EAEUA,WAAYL,EAFtB,EAEsBA,aACpCtM,EAAiB8qB,EAAjB9qB,GAAIe,EAAa+pB,EAAb/pB,SAEN6sB,EAAU,GAEVC,GAAoBzY,KAAO1I,GAAaohB,OAAO1Y,KAAO0V,EAAUpe,cAChEqhB,GAAuB3Y,KAAOzI,GAAYmhB,OAAO1Y,KAAO0V,EAAUne,aAClEqhB,EAAsB1hB,IAAiBwe,EAAUxe,aAErD,IAAKuhB,IAAqBE,GAAuBC,EAAqB,OAAO,KAEzEH,IAAkBD,EAAQK,aAAevhB,GACzCqhB,IAAqBH,EAAQjhB,WAAaA,GAC1CqhB,IAAqBJ,EAAQM,cAAgB5hB,GAEjD,IAAM6hB,EAAa,CACfnuB,KACAouB,QAAS3iB,OAAO8F,KAAKqc,GACrBA,UACAS,WAAYttB,GAEhB8J,KAAMoJ,IAAI,uBAAwBka,GAC7BljB,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI8J,EAAE1L,UAtUnB,EAyUdwhB,aAzUc,uCAyUC,WAAMpK,GAAN,qDAAApM,EAAA,2DAG6E,EAAKrL,MADrFgN,EAFG,EAEHA,WAAY0e,EAFT,EAESA,UAAW9V,EAFpB,EAEoBA,OAAQuX,EAF5B,EAE4BA,gBAAiBjgB,EAF7C,EAE6CA,aAAclM,EAF3D,EAE2DA,QAClEsM,EAHO,EAGPA,YAAaC,EAHN,EAGMA,WAAYkE,EAHlB,EAGkBA,gBAAiBnL,EAHnC,EAGmCA,OAAQ6M,EAH3C,EAG2CA,YAAawY,EAHxD,EAGwDA,WAAYzJ,EAHpE,EAGoEA,KAE3E+M,EAAa,IAEbrZ,IAAUA,EAAO,GAPV,uBAQP,EAAKiQ,SAAL,2BAAmB,EAAK7lB,OAAUuV,GAAiB,cAR5C,6BAWNvI,GAA6B,KAAfA,EAXR,uBAYP,EAAK6Y,SAAS,CAAEzP,iBAAiB,EAAMC,UAAW,qBAAsBrJ,gBAAYoI,IAZ7E,6BAkBP8Z,EAAelZ,KAAO1I,EAAa,cAAc,GAAM2I,UACvDkZ,EAAYnZ,KAAOzI,EAAY,cAAc,GAAM0I,UACnDmZ,EAAY,CACRpuB,UACA8tB,cAAe5hB,EACfmiB,eAAgB5d,EAAgBQ,eAGpCid,IAAcE,EAAUP,aAAevhB,GACvC6hB,IAAWC,EAAU7hB,WAAaA,GAGjCjH,EA9BM,wBAgCHolB,IACAuD,EAAavD,EAAU/pB,UAEQytB,EAA7Bnd,eAAkB7Q,EAnCjB,aAmC4BguB,EAnC5B,oBAoCApiB,WAAaA,EACpB5L,EAAS4K,IAAMC,aAAa7K,GAEtBa,EAAM,CACRsV,UAAS,OAAE9F,QAAF,IAAEA,OAAF,EAAEA,EAAiBQ,cAC5BZ,QAAQ,2BACDjQ,GADA,IAEH6tB,aACAzc,MAAOmZ,IAEXxY,cACArF,SAAU,CACN+E,UAAW,aACX7R,UACAuW,UAAS,OAAE9F,QAAF,IAAEA,OAAF,EAAEA,EAAiBQ,eAEhCgF,cAAe,EACfQ,YAEA0V,EAAgB,KAChBlrB,EAAIoP,QAAQ8b,gBAAkBA,GAClCtW,GAAa5U,GACb,EAAKqtB,qBAAqB,mDA1DnB,4BA8DM,IAAb7X,IAQAZ,GAPY,CACRjW,GAAI0F,EAAO1F,GACXyQ,QAAS,CACL6Q,QAEJ1K,UAAU,IAGT3L,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI8J,MAC3B,EAAKujB,qBAAqB,mCAGb,IAAb7X,GACA,EAAK8X,iBAAiBH,GA5Ef,4CAzUD,wDAyZdG,iBAzZc,uCAyZK,WAAMH,GAAN,yCAAA/jB,EAAA,2DAEgE,EAAKrL,MAA9EgB,EAFS,EAETA,QAAS0qB,EAFA,EAEAA,UAAWY,EAFX,EAEWA,WAAYa,EAFvB,EAEuBA,gBAAiB7mB,EAFxC,EAEwCA,OAAQ6M,EAFhD,EAEgDA,YAC3D8b,EAAavD,EAAU/pB,WAGrBmc,EAAkB,EAAK5X,MAAMqJ,MAAMpO,QAAQgN,MAAK,SAAA7M,GAAC,OAAIA,EAAEN,UAAYA,MAN1D,gCAQL,EAAKutB,kBARA,6CAUL9iB,KAAM8I,KAAK,iBAAkB6a,GAVxB,cAcXvQ,EAAO,CACP/P,MAAO,UACP0gB,OAAQ,UACR5lB,MAAO5I,EACPY,QAAS,aACTkJ,IAAKmkB,GAGL3C,GAAcxO,GAAmB4N,EAAU9qB,IAC3C6K,KAAMoJ,IAAI,2BAA4B,CAAEjU,GAAI8qB,EAAU9qB,GAAI6uB,iBAAkBnD,IAvBjE,UA0BT7gB,KAAMoJ,IAAI,wBAAyBgK,GACpChT,MAAK,SAAAC,GACF9J,QAAQC,IAAI6J,EAAIzL,MAChB,EAAKwlB,SAAS,CAAE6J,iBAAiB,OA7B1B,YAgCXvC,EAAgB,MAAhB,OAAsB7mB,QAAtB,IAAsBA,GAAtB,UAAsBA,EAAQ+K,QAAQ,UAAtC,aAAsB,EAAoB8b,iBAhC/B,wBAkCPwC,GAA0B,OAANrpB,QAAM,IAANA,GAAA,UAAAA,EAAQ+K,QAAQ,UAAhB,eAAoB8b,kBAAmB,GAC3DyC,EAAmBzC,EAAgBnS,OAAO2U,GAE9C9Q,EAAKjV,MAAQ,2BACbiV,EAAK/T,IAAM8kB,EAtCA,UAuCLnkB,KAAMoJ,IAAI,wBAAyBgK,GAvC9B,QAiDfhI,GAPY,CACRjW,GAAI0F,EAAO1F,GACXuS,cACA9B,QAAS,GACTvD,SAAU,GACV2J,UAAU,IAGd,EAAK6X,uBAlDU,4CAzZL,wDA8cdA,qBAAuB,SAAAO,GAAmB,IAC9BvpB,EAAW,EAAKtG,MAAhBsG,OACR,EAAK+hB,MAAMwH,GACX,EAAKjC,cAEDtnB,GACAgiB,YAAW,WACP,EAAKpiB,MAAMmL,QAAQ3Q,KAAK,mBACzB,OAtdG,EAydd8S,YAzdc,uCAydA,WAAMZ,GAAN,eAAAvH,EAAA,6DACNqI,EAAW,IAAIC,UACVQ,OAAO,aAAcvB,EAAK,IAFzB,SAGJ,EAAKiT,SAAS,CAAE8F,WAAYjY,EAAUyB,aAAc,OAHhD,2CAzdA,wDA+ddL,WA/dc,uCA+dD,WAAOjG,GAAP,iBAAAxD,EAAA,sDAEHsgB,EAAe,EAAK3rB,MAApB2rB,WACFnD,EAAW1T,GAAWjG,EAAM8c,GAEhC,EAAK9F,SAAL,2BAAmB,EAAK7lB,OAAUwoB,IALzB,2CA/dC,wDAsed+D,cAAgB,kBAAM,EAAK1G,SAAS,CAAE7kB,QAAS,EAAKhB,MAAMssB,WAAYwD,eAAe,KAtevE,EAued9N,kBAAoB,kBAAM,EAAK6D,SAAS,CAAE5D,gBAAiB,EAAKjiB,MAAMiiB,kBAvexD,EAwed0G,aAAe,kBAAM,EAAK9C,SAAS,CAAEiK,eAAgB,EAAK9vB,MAAM8vB,iBAxelD,EAyedzH,MAAQ,SAAA1C,GAAQ,OAAI,EAAKE,SAAS,CAAED,cAAe,EAAK5lB,MAAM4lB,aAAcD,SAAUA,GAAsB,EAAK3lB,MAAM2lB,YAzezG,EA0ediF,WAAa,kBAAM,EAAK/E,SAAS,CAAEzP,iBAAkB,EAAKpW,MAAMoW,mBA1elD,EA2edwX,YAAc,WACV,EAAK/H,SAAS,CACV7Y,WAAY,GAAI0e,eAAWtW,EAAWpU,QAAS,GAAIsM,YAAa,GAAIC,WAAY,GAAIoe,WAAY,KAAMwB,gBAAiB,GACvH3Q,YAAa,gDA5ejB,EAAKoM,YAAc,SAAClX,GACE,KAAdA,EAAEmX,UACE,EAAK7oB,MAAM8vB,eAAe,EAAKnH,eAC/B,EAAK3oB,MAAMwrB,eAAe,EAAK3F,SAAS,CAAE2F,eAAe,MAL3D,E,yMAwBJjc,EAAUC,KAAKtJ,MAAfqJ,MACFjJ,E,UAASkJ,KAAKtJ,a,iBAAL,EAAYG,gB,iBAAZ,EAAsBrG,a,aAAtB,EAA6BsG,OAE1CkJ,KAAKqW,SAAS,CACVjZ,YAAa4C,KAAKtJ,MAAMqJ,MAAX,YACb8d,cAAe7d,KAAKtJ,MAAMqJ,MAAX,WAGfjJ,E,wBAEIwiB,EAAc0D,GAAiBlmB,EAAQiJ,EAAO,IAC5Cqd,EAAwE9D,EAAxE8D,UAAwE9D,EAA7DgE,WAA6DhE,EAAjDiE,WAAiDjE,EAArCoE,eAAmB6C,E,aAAkBjH,E,0DAC1EzX,E,OAAU/K,Q,IAAAA,O,EAAAA,EAAQ+K,QAAQ,GAC1Bqa,EAAY,GAEhBX,GAAWxqB,SAAQ,YAAgB,IAAbqO,EAAY,EAAZA,MACdyC,EAAQ5E,eAAemC,KACvB8c,EAAU9c,GAASyC,EAAQzC,OAG7BohB,EAAoBzgB,EAAM5N,SAC3BwF,QAAO,SAAArG,GAAC,OAAIuQ,EAAQ4d,WAAW9gB,MAAK,SAAAvN,GAAE,OAAIA,IAAOE,EAAE2M,gBAExDie,EAAUjqB,OAASuuB,EAAkBnvB,KAAI,SAAAC,GAAC,OAAIA,EAAE0M,SAChDke,EAAU/pB,SAAWquB,EAAkBnvB,KAAI,SAAAC,GAAC,OAAIA,EAAE2M,aAE5CP,E,OAAemE,Q,IAAAA,O,EAAAA,EAASnE,a,UAExBsC,KAAKqW,SAAL,mDACCrW,KAAKxP,OAAU+vB,GAAkBrE,GADlC,IAC6CA,YAAWplB,SAAQ4G,eAClEyE,YAAW,OAAErL,QAAF,IAAEA,OAAF,EAAEA,EAAQsL,QAASuB,YAAa,CAACyZ,M,QAGhDpd,KAAK4d,mB,QAET1mB,SAASuiB,iBAAiB,UAAWzZ,KAAKoZ,aAAa,G,sIAubjD,IAAD,SAEuFpZ,KAAKxP,MAA3FoW,EAFD,EAECA,gBAAiBC,EAFlB,EAEkBA,UAAWyZ,EAF7B,EAE6BA,cAAetE,EAF5C,EAE4CA,cAAe+B,EAF3D,EAE2DA,UAAWW,EAFtE,EAEsEA,aACrE/c,EAAa3B,KAAKtJ,MAAMqJ,MAAxB4B,SAEAia,EAAiBL,GAClBxe,OAAM,SAAA+I,GAAC,OAAI,EAAKtV,MAAMyM,eAAe6I,EAAE1G,QAAkC,KAAxB,EAAK5O,MAAMsV,EAAE1G,UAEnE,OACI,kBAAC,WAAD,KACI,kBAAC,GAAD,CACIvO,KAAMmP,KAAKxP,MACXmR,SAAUA,EACVia,eAAgBA,EAChBtT,YAAatI,KAAKsI,YAClBC,WAAYvI,KAAKuI,WACjBsT,SAAU7b,KAAK6b,SACfC,oBAAqB9b,KAAK8b,oBAC1BC,oBAAqB/b,KAAKmZ,aAC1BnV,YAAahE,KAAKgE,YAClBqO,aAAcrS,KAAKqS,aACnB2J,cAAehc,KAAKgc,cACpBxJ,kBAAmBxS,KAAKwS,kBACxBlN,WAAYtF,KAAKsF,aAEpBgb,GAAiB,kBAAC7D,GAAD,CACdhI,KAAM6L,EACN5U,MAAO1L,KAAKmZ,aACZnjB,MAAM,kCACN0mB,cAAc,gDACdpU,YAAatI,KAAKsI,YAClByU,cAAe/c,KAAK+c,gBAGpBf,GACA,kBAAC,GAAD,CACIhiB,MAAO+jB,EACPrS,MAAO1L,KAAKgc,cACZhmB,MAAM,sDACN6V,YAAa7L,KAAK6L,YAClBhb,KAAM6tB,IAGb9X,GAAmB,kBAACwO,GAAD,CAAaX,KAAM7N,EAAiB8E,MAAO1L,KAAKob,WAAYvU,UAAWA,EAAW0O,cAAevV,KAAKxP,MAAMsW,YAChI,kBAAC,GAAD,CAAY2N,KAAMzU,KAAKxP,MAAM4lB,aAAc1K,MAAO1L,KAAK6Y,MAAOlE,IAAK3U,KAAKxP,MAAM2lB,gB,GAhiBzEvV,cCVN,SAAS6f,GAAT,GAAkH,IAEzHzqB,EAAO4d,EAFyBa,EAAwF,EAAxFA,KAAM/jB,EAAkF,EAAlFA,KAAMgb,EAA4E,EAA5EA,MAAO2J,EAAqE,EAArEA,QAAS9iB,EAA4D,EAA5DA,QAASnB,EAAmD,EAAnDA,GAAIW,EAA+C,EAA/CA,MAA+C,EAAxCujB,YAAwC,EAAtBC,cAStG,MANa,WAAT7kB,IACAsF,EAAQ,wBACR4d,EAAU,gDACNrhB,IAASqhB,EAAUA,EAAQjX,QAAQ,IAAK,QAG5C3G,GAAS4d,EACT,6BACI,kBAAC+B,GAAA,EAAD,CACIlB,KAAMA,EACNX,QAASpI,EACTkK,kBAAgB,qBAChB1B,mBAAiB,4BAEjB,kBAAC2B,GAAA,EAAD,CAAazkB,GAAG,sBAAsB4E,GACtC,kBAAC8f,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAmB3kB,GAAG,4BACjBmB,EACG,kBAAC,WAAD,KACKqhB,EAAQ,qCAAWrhB,EAAX,QADb,KAGEqhB,IAGd,kBAACoC,GAAA,EAAD,KACI,kBAACvd,EAAA,EAAD,CAAQoB,QAAS6R,EAAOuK,WAAS,GAAjC,cACA,kBAACxd,EAAA,EAAD,CAAQoB,QAAS,kBAAMwb,EAAQjkB,GAAMW,IAAQwB,MAAM,WAAnD,kBAKJ,KC3CT,IAAMmtB,GAAY,CACrB,CACIthB,MAAO,KACPzE,MAAO,qBACP8P,UAAW,IAEf,CACIrL,MAAO,WACPzE,MAAO,mBACPjK,KAAM,QAEV,CACI0O,MAAO,eACPzE,MAAO,mBACP0O,QAAQ,ICDDsX,GAXD,SAAAjqB,GAAU,IACZuH,EAA2CvH,EAA3CuH,UAAW2iB,EAAgClqB,EAAhCkqB,KAAM5iB,EAA0BtH,EAA1BsH,MAAOnE,EAAmBnD,EAAnBmD,QAAS7B,EAAUtB,EAAVsB,MAEzC,OACI,yBAAK5G,GAAI6M,EAAWpE,QAASA,EAAS7B,MAAOA,EAAOgB,UAAU,kBAC1D,yBAAKA,UAAU,aAAa4nB,GAC5B,yBAAK5nB,UAAU,aAAagF,K,qBCHzB,SAASyS,GAAT,GAAiH,IAAxFnR,EAAuF,EAAvFA,MAAOxH,EAAgF,EAAhFA,OAAQ9B,EAAwE,EAAxEA,MAAOgC,EAAiE,EAAjEA,MAAiE,IAA1D6oB,eAA0D,MAAhD,EAAgD,MAA7CC,4BAA6C,MAAtB,GAAsB,EAAlBC,EAAkB,EAAlBA,eACjGC,EAAyC1hB,EAAzC0hB,aAAcC,EAA2B3hB,EAA3B2hB,YAAaC,EAAc5hB,EAAd4hB,UAgBnC,OACI,+BACI,+BACI,4BACI,wBAAIloB,UAAU,UACVhB,MAAOA,EACP8Y,QAAShZ,GAAS9B,IAE1B,4BACKgrB,EAAa3vB,KAAI,SAACuG,EAAGsB,GAAJ,OAAU,wBAAII,IAAKJ,EAAGlB,MAAOA,GAAQJ,QAG/D,+BAEQqpB,EAAY5vB,KAAI,SAAC8vB,EAAOpQ,GAAR,OACZ,wBAAIzX,IAAKyX,GAEDoQ,EAAM9vB,KAAI,SAAC+S,EAAKlL,GAAN,MA/BnBkB,EA+BmB,OACN,wBAAId,IAAKJ,EAAGlB,MAAOA,EAAOgB,UAAwB,SAAboL,EAAI1T,MAAmB0T,EAAIgd,WAAa,QAAU,SACnFvnB,QACI,uBAAoB,aAAduK,EAAIhF,OAAwBgF,EAAIgd,WAzB9D,SAAAhwB,GACZ,IAAMgS,EAAO8d,EAAUrvB,MAAK,SAAAqT,GAAC,OAAIA,EAAE9T,KAAOA,KACtCA,GAAMgS,GAAMuL,GAAavL,EAAKhS,GAAIgS,EAAKkK,SAAU,cAAelK,EAAK9E,SAAS+E,WAuBKge,CAAQjd,EAAIgd,YACzC,YAAb,OAAHhd,QAAG,IAAHA,OAAA,EAAAA,EAAK3T,QAAsBswB,EAAc,UAACI,EAAMN,UAAP,aAAC,EAAgBzmB,OACtD,OAEG,SAAbgK,EAAI1T,MAtCzB0J,EAsCsDgK,EAAIhK,MArCrEoM,KAAOpM,EAAO,6BAA6B,GAAMqM,UAC1CD,KAAOpM,EAAOoM,KAAOwK,UAAU,GAAMC,OAAO,cAG5C7W,GAkC+C,YAAb,OAAHgK,QAAG,IAAHA,OAAA,EAAAA,EAAK3T,UAAL,UAA4B0wB,EAAMN,UAAlC,aAA4B,EAAgBzmB,OAAQ,kBAAC,KAAe0mB,GAChE1c,EAAIhK,gB,cC3CpDknB,GAAanrB,YAAW,CAC1BL,MAAO,CACHia,OAAQ,sBAFG5Z,EAIhB,SAACO,GAAD,OACC,kBAAC6qB,GAAA,EAAD,eACIC,UAAW,EACXC,mBAAoB,KACpBnN,aAAc,CACVC,SAAU,SACVC,WAAY,SAEhBkN,gBAAiB,CACbnN,SAAU,MACVC,WAAY,SAEZ9d,OAwBGirB,GApBK,SAAC,GAA4C,IAA1CC,EAAyC,EAAzCA,SAAUC,EAA+B,EAA/BA,YAAaC,EAAkB,EAAlBA,YAG1C,OACI,oCACI,kBAACR,GAAD,CACIlwB,GAAG,cACHwwB,SAAUA,EACVG,aAAW,EACXtN,KAAMuN,QAAQJ,GACd9N,QAAS+N,GAERC,EAAYzwB,KAAI,WAAqB6H,GAArB,IAAGlD,EAAH,EAAGA,MAAO6D,EAAV,EAAUA,QAAV,OACb,kBAACkR,GAAA,EAAD,CAAUzR,IAAOJ,EAAGW,QAASA,GAAU7D,S,0CCuM5C2K,OAAMshB,MAvNE,SAAC,GAE2F,IAD7GtgB,EAC4G,EAD5GA,SAAUQ,EACkG,EADlGA,YAAaF,EACqF,EADrFA,gBAAiBigB,EACoE,EADpEA,iBAAkB5f,EACkD,EADlDA,gBAAiB6f,EACiC,EADjCA,YAAa3Y,EACoB,EADpBA,cAAelK,EACK,EADLA,MACrGsiB,EAA0G,EAA1GA,SAAUQ,EAAgG,EAAhGA,SAAUpV,EAAsF,EAAtFA,YAAaqV,EAAyE,EAAzEA,UAAWvrB,EAA8D,EAA9DA,OAAQ6M,EAAsD,EAAtDA,YAAa8O,EAAyC,EAAzCA,eAAgBC,EAAyB,EAAzBA,KAAM/M,EAAmB,EAAnBA,aAGvF3H,EAAK,OAAGsE,QAAH,IAAGA,OAAH,EAAGA,EAAiBtE,MACvBsK,EACiD+Z,EADjD/Z,YAAaga,EACoCD,EADpCC,aAAcC,EACsBF,EADtBE,YAAave,EACSqe,EADTre,YAAaqO,EACJgQ,EADIhQ,aAAcmQ,EAClBH,EADkBG,UAAWC,EAC7BJ,EAD6BI,MAC5End,EAA+C+c,EAA/C/c,WAAYod,EAAmCL,EAAnCK,YAAalQ,EAAsB6P,EAAtB7P,kBAE3BmQ,EAAc,SAAAC,GAChB,KAAIA,GAAUA,EAAO,IAAMA,EAAO,GAAGC,UAMhC,MAAO,CAAEvvB,gBAAiB,oBANiB,IACpCuvB,EAAaD,EAAO,GAApBC,SAER,OAAIrc,KAAOqc,EAAUrc,KAAOwK,UAAUvK,WAAaD,KAAOqc,GAAUC,QAAQtc,OAASuc,UAAkB,CAAEzvB,gBAAiB,oBACtHkT,KAAOqc,EAAUrc,KAAOwK,UAAUvK,WAAaD,KAAOqc,GAAUG,SAASxc,OAASuc,UAAkB,CAAEzvB,gBAAiB,yBAA3H,GAWR,OACI,kBAAC,IAAMgF,SAAP,KACI,kBAACoZ,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAczD,KAAK,SAASpX,OAAQA,EAAQmL,gBAAiBA,IACzF,yBAAKjK,MAAOlB,EAAS,CAAE7B,UAAW,QAAW,IACzC,kBAACoT,GAAD,CACI1G,SAAUA,EACV9Q,KAAM,CAAEsR,cAAarL,UACrB2R,YAAazK,GAASiE,GAAT,qCAA0DjE,EAA1D,qBAAqEiE,QAArE,IAAqEA,OAArE,EAAqEA,EAAiBE,aACnGmG,YAAaA,KAIjBrG,IAAoBzK,MAAMC,QAAQwK,IAAoB,qCAChDnL,GACE,4BAAQkC,UAAU,OAAOhB,MAAO,CAAE/D,aAAc,OAAQb,eAAgB,kBAE/DkP,EAGG,kBAAC,GAAD,CACIrE,UAAWqE,EAAgBrE,UAC3BpE,QAASyoB,EACTtqB,MAAK,2BAAO2qB,EAAYrgB,EAAgBsgB,SAAnC,IAA4C1Z,WAAY,IAC7D0X,KAAM3e,EAAgBghB,OACtBjlB,MAAOsE,EAAgBtE,QAP3B,kBAACiN,GAAD,CAAeC,SAAS,iGAUhC,6BACI,kBAACjB,GAAA,EAAD,CACIM,WAAY,CAAElL,KAAM,SACpBgL,gBAAiB,CAAErS,MAAO,CAAEyB,SAAU,WACtCkB,MAAM,UACNH,SAAU8N,IAEd,kBAAC,IAAD,CAAQtQ,MAAO,CAAE/C,UAAW,YAIvCqN,GAAmB,oCAChB,0BAAMtJ,UAAU,QAAQhB,MAAOlB,EAAS,CAAE7B,UAAW,QAAW,IAC5D,kBAACgW,GAAD,CACIC,SACKpU,EAGG,0GAFA,qIAMZ,6BACA,6BACA,kBAACyS,GAAD,CACIjF,KAAMoc,GACN7vB,KAAMsxB,EACN7Z,YAAaA,EACbkB,cAAeA,IAEjB1S,EAUI6M,GACF,kBAAC0M,GAAD,CACIvZ,OAAQA,EACRlG,WAAW,cACX+S,YAAaA,EACbW,KAAM,CAAC,CAAEtO,MAAO,iBAAkBqJ,KAAM,eAfrC,kBAAC0N,GAAD,CACP1N,KAAK,WACL6E,SAAUke,EACVpV,YAAaA,EACbhJ,YAAaA,EACbsB,WAAYA,EACZK,aAAcA,EACdsH,QAAQ,EACRjV,MAAO,CAAE1C,MAAO,QAASwT,OAAQ,uBAYzC,iCAEQ7G,IAAoBnL,EAChB,kBAAC2B,EAAA,EAAD,CACIC,KAAK,QACLnF,MAAM,UACNyF,UAAU,aACVH,QAAQ,YACRgB,QAAS,kBAAMwY,MALnB,mBAUEpQ,GAAmBnL,EACjB,kBAACmb,GAAD,CACIK,YAAY,EACZC,mBAAmB,YACnBzb,OAAQA,EACR0b,kBAAmB,kBAAMA,GAAmBC,IAC5CA,eAAgBA,EAChBC,KAAMA,EACNL,aAAcA,EACd/J,YAAaA,IAEf,OAMtB,iCACI,4BACMhG,EAiBE,KAhBA,yBAAKtJ,UAAU,OAAOhB,MAAO,CAAE5E,eAAgB,kBAC3C,gDACiB8uB,EAAiBpqB,OADlC,sCAGA,yBAAKkB,UAAU,qBAAqBhB,MAAO,CAAEyB,SAAU,WACnD,8BACI,0BAAMzB,MAAO,CAAEokB,WAAY,MAAO7oB,MAAO,qBAAsB,kBAAC,KAAD,OADnE,kBAGA,8BACI,0BAAMyE,MAAO,CAAEokB,WAAY,MAAO7oB,MAAO,qBAAsB,kBAAC,KAAD,OADnE,8DAEA,8BACI,0BAAMyE,MAAO,CAAEokB,WAAY,MAAO7oB,MAAO,qBAAsB,kBAAC,KAAD,OADnE,iCAWlB+O,GACE,6BAAStJ,UAAU,qBACdkpB,EAAiB7wB,KAAI,SAACC,EAAG4H,GAAJ,OAClB,kBAAC,GAAD,CACII,IAAKJ,EACL+E,UAAW3M,EAAE2M,UACbpE,QAASyoB,EACTtqB,MAAO2qB,EAAYrxB,EAAEsxB,QACrBhC,KAAM3e,EAAgBghB,OACtBjlB,MAAO1M,EAAE0M,YAOzB,kBAAC,GAAD,CACI4jB,SAAUA,EACVC,YAAaW,EACbV,YAAa,CAAC,CACV9rB,MAAO,WACP6D,QAAS0oB,OAOrBjgB,GAAmBA,EAAgBsgB,SAAW9rB,GAC9C,oCACsB,kBAAVwI,EACJ,yBAAKtG,UAAU,QAAQhB,MAAO,CAAE/C,UAAW,OAAQK,MAAO,OAAQ7B,QAAS,IAAKuc,aAAc,MAAOkT,SAAU,WAC3G,kBAAC,GAAD,CACIprB,OAAQwH,EAAM0hB,aAAalpB,OAC3B9B,MAAK,gDAAwCsM,EAAgBtE,OAC7DsB,MAAOA,EACPtH,MAAO,CAAE+Q,UAAW,SAAUtV,QAAS,SACvCqtB,qBA9KC,CACzBvtB,MAAO,YACPyC,MAAO,eACPgC,MAAO,CAAE2T,OAAQ,YA4KOoV,eAAgB2B,EAChB7B,QAAS,KAIjB,oCACI,6BACA,6BACA,2BAAIvhB,IAGZ,yBAAKtG,UAAU,YAAYa,QAAS4oB,GAChC,kBAAC,KAAD,CAAe/pB,KAAK,UACpB,0BAAMV,MAAO,CAAEvE,QAAS,cAAeyV,WAAY,MAAOzP,SAAU,SAApE,gBChOjB,IACH0I,GAAc,CACV/C,MAAO,cACPzE,MAAO,UACPrF,MAAO,SAEXrD,GAAS,CACLmN,MAAO,SACPzE,MAAO,0BACPrF,MAAO,SAEXsS,GAAY,CACRxI,MAAO,YACPzE,MAAO,8BACPjK,KAAM,OACN4E,MAAO,SAEXkgB,GAAO,CACHpW,MAAO,OACPzE,MAAO,OACP8P,UAAW,GACXV,QAAS,qCACTJ,aAAc,SAACwZ,GAAD,OC3Bf,SAAuB3N,GAI1B,GAAa,MAFbA,EAAOA,EAAK7Y,QAAQ,UAAW,KAEd,OAAO,EAExB,GAAoB,KAAhB6Y,EAAK1d,OACL,OAAO,EAGX,GAAa,mBAAT0d,GACS,mBAATA,GACS,mBAATA,GACS,mBAATA,GACS,mBAATA,GACS,mBAATA,GACS,mBAATA,GACS,mBAATA,GACS,mBAATA,GACS,mBAATA,EACA,OAAO,EASX,IANA,IAAI4N,EAAU5N,EAAK1d,OAAS,EACxBurB,EAAU7N,EAAK8N,UAAU,EAAGF,GAC5BG,EAAU/N,EAAK8N,UAAUF,GACzBI,EAAO,EACPC,EAAML,EAAU,EAEXlqB,EAAIkqB,EAASlqB,GAAK,EAAGA,IAC1BsqB,GAAQH,EAAQ5N,OAAO2N,EAAUlqB,GAAKuqB,IAClCA,EAAM,IACNA,EAAM,GAGd,IADYD,EAAO,GAAK,EAAI,EAAI,GAAKA,EAAO,IAC9BjyB,aAAegyB,EAAQ9N,OAAO,GACxC,OAAO,EAEX2N,GAAoB,EACpBC,EAAU7N,EAAK8N,UAAU,EAAGF,GAC5BI,EAAO,EACPC,EAAML,EAAU,EAChB,IAAK,IAAIlqB,EAAIkqB,EAASlqB,GAAK,EAAGA,IAC1BsqB,GAAQH,EAAQ5N,OAAO2N,EAAUlqB,GAAKuqB,IAClCA,EAAM,IACNA,EAAM,GAGd,OADYD,EAAO,GAAK,EAAI,EAAI,GAAKA,EAAO,IAC9BjyB,aAAegyB,EAAQ9N,OAAO,GDrBViO,CAAcP,KAEhDQ,GAAM,CACFvkB,MAAO,WACPzE,MAAO,MACP8P,UAAW,GACXnV,MAAO,IACPqU,aAAc,SAACia,GAAD,OElCP,SAAsBC,GACjC,GAAKA,EAAL,CACA,IAAIC,EACAC,EAEJ,GADAD,EAAO,EACQ,gBAAXD,EAA0B,OAAO,EAErC,IAAK,IAAI3qB,EAAI,EAAGA,GAAK,EAAGA,IAAK4qB,GAAcE,SAASH,EAAOP,UAAUpqB,EAAI,EAAGA,KAAO,GAAKA,GAIxF,GADe,MAFf6qB,EAAgB,GAAPD,EAAa,KAEW,KAAVC,IAAeA,EAAQ,GAC1CA,IAAUC,SAASH,EAAOP,UAAU,EAAG,KAAM,OAAO,EAExDQ,EAAO,EACP,IAAK,IAAI5qB,EAAI,EAAGA,GAAK,GAAIA,IAAK4qB,GAAcE,SAASH,EAAOP,UAAUpqB,EAAI,EAAGA,KAAO,GAAKA,GAIzF,OADe,MAFf6qB,EAAgB,GAAPD,EAAa,KAEW,KAAVC,IAAeA,EAAQ,GAC1CA,IAAUC,SAASH,EAAOP,UAAU,GAAI,MFgBXW,EvBuCTC,EuBvCkCN,GvByC9CM,EAAMvnB,QAAQ,aAAc,SAD5B,GADT,IAAqBunB,IuBrCxBC,GAAQ,CACJxpB,MAAO,WAEP8P,UAAW,GACXV,QAAS,oFAGbqa,GAAQ,CACJzpB,MAAO,SACPjK,KAAM,QACN+Z,UAAW,GACXV,QAAS,kDG7CJsa,GAAQ,CACjB,CACIjlB,MAAO,oBACPzE,MAAO,UAEX,CACIyE,MAAO,qBACPzE,MAAO,yBACPjK,KAAM,QARO,eAWVkX,IAEP,CACIxI,MAAO,QACPzE,MAAO,oBAEX,CACIyE,MAAO,QACPzE,MAAO,+BAnBM,eAsBV1I,KAKEqyB,GAAQ,CAAC,eAEXniB,IAFU,eAKVyF,KAIE2c,GAAU,CAAC,eAEbpiB,IAFY,eAKZyF,IALY,eAQZ3V,IAEP,CACImN,MAAO,YACPzE,MAAO,uCAIF6pB,GAAQ,CACjB,CACIplB,MAAO,eACPzE,MAAO,8BACPjK,KAAM,QAEV,CACI0O,MAAO,MACPzE,MAAO,oBAEX,CACIyE,MAAO,WACPzE,MAAO,kBAEX,CACIyE,MAAO,iBACPzE,MAAO,sBAEX,CACIyE,MAAO,iBACPzE,MAAO,gBAEX,CACIyE,MAAO,gBACPzE,MAAO,qBAEX,CACIyE,MAAO,cACPzE,MAAO,mBAEX,CACIyE,MAAO,kBACPzE,MAAO,wBCnFF8pB,GAAU,CAAC,CAAC,CACrBrlB,MAAO,QACPzE,MAAO,QACPmO,OAAQ,SACR2B,UAAW,EACXV,QAAS,sEAEb,CACI3K,MAAO,UACPzE,MAAO,UACPmO,OAAQ,SACR2B,UAAW,GACXV,QAAS,WAEb,CACI3K,MAAO,aACPzE,MAAO,mBACPmO,OAAQ,SACRO,QAAQ,EACR2B,QAAS,CAAC,eAAgB,YAAa,QAAS,aAAc,WAElE,CACI5L,MAAO,UACPzE,MAAO,sBACPmO,OAAQ,SACR2B,UAAW,IAEf,CACIrL,MAAO,eACPzE,MAAO,mBACPmO,OAAQ,SACRV,SAAU,eACVD,cAAc,EACdvX,WAAY,iBAEhB,CACIwO,MAAO,YACPzE,MAAO,gBACPmO,OAAQ,SACRpY,KAAM,SACNmZ,IAAKvX,QAAO,IAAImR,MAAO6H,eACvBxB,IAAKxX,QAAO,IAAImR,MAAO6H,eAAiB,IAE5C,CACIlM,MAAO,cACPzE,MAAO,uBACPmO,OAAQ,SACRyC,MAAM,EACNxB,QAAS,YACTH,UAAW,EACXa,UAAW,IAEf,CACIrL,MAAO,mBACPzE,MAAO,uBACPmO,OAAQ,SACRV,SAAU,SACVD,cAAc,EACdvX,WAAY,eAEhB,CACIF,KAAM,SACN0O,MAAO,gBACPzE,MAAO,oBACPmO,OAAQ,SACRe,IAAKvX,QAAO,IAAImR,MAAO6H,cAAgB,GACvCxB,IAAKxX,QAAO,IAAImR,MAAO6H,eAAiB,IAE5C,CACIlM,MAAO,kBACPzE,MAAO,2BACPmO,OAAQ,SACRyC,MAAM,EACNxB,QAAS,YACTH,UAAW,EACXa,UAAW,IAEf,CACIrL,MAAO,UACPzE,MAAO,gCACPmO,OAAQ,SACRO,QAAQ,EACR2B,QAAS,CAAC,wBAAmB,UAAW,cAE5C,CACI5L,MAAO,QACPzE,MAAO,QACPmO,OAAQ,SACR2B,UAAW,MAGVe,OAAO,CAAC+P,KACR/P,OAAO,CAACL,KC7FAuZ,GAAe,CACxB,CACItlB,MAAO,cACPzE,MAAO,kBACPrF,MAAO,SAJa,2BAOjBkgB,IAPiB,IAQpB/K,UAAW,GACXV,QAAS,uCAEb,CACI3K,MAAO,oBACPzE,MAAO,2BACP8P,UAAW,GACXV,QAAS,WAfW,2BAkBjBoa,IAlBiB,IAmBpB/kB,MAAO,WACPzE,MAAO,aApBa,2BAuBjBypB,IAvBiB,IAwBpBhlB,MAAO,QACPzE,MAAO,WAEX,CACIyE,MAAO,MACPzE,MAAO,MACP8P,UAAW,IAEf,CACIrL,MAAO,SACPzE,MAAO,YACPjK,KAAM,SACNmZ,IAAK,MAET,CACIzK,MAAO,cACPzE,MAAO,cACP8P,UAAW,IAEf,CACIrL,MAAO,MACPzE,MAAO,MACP8P,UAAW,KAEf,CACIrL,MAAO,SACPzE,MAAO,SACP8P,UAAW,IAEf,CACIrL,MAAO,SACPzE,MAAO,SACP8P,UAAW,IAEf,CACIrL,MAAO,KACPzE,MAAO,SACP8P,UAAW,EACXV,QAAS,aC5DJ4a,GAAa,CAAC,CACvBvlB,MAAO,YACPzE,MAAO,mBACP8P,UAAW,GACXnV,MANU,KAEY,2BAOnBquB,IAPmB,IAQtBruB,MAVU,MAEY,2BAWnB6uB,IAXmB,IAYtB/kB,MAAO,WACP9J,MAfU,MAEY,2BAgBnB8uB,IAhBmB,IAiBtBhlB,MAAO,aACP9J,MApBU,MAsBd,CACI8J,MAAO,QACPzE,MAAO,uCACPoP,QAAS,wDACTU,UAAW,EACXnV,MA3BU,MCADsvB,GAAiB,CAAC,CAC3BxlB,MAAO,iBACPzE,MAAO,qBACP8P,UAAW,GACXnV,MAAO,KAJmB,2BAOvBquB,IAPuB,IAQ1BvkB,MAAO,gBACP9J,MAAO,MATmB,2BAYvB6uB,IAZuB,IAa1B/kB,MAAO,gBACP9J,MAAO,MAdmB,2BAiBvB8uB,IAjBuB,IAkB1BhlB,MAAO,kBACP9J,MAAO,OCPI,SAASuvB,GAAT,GAA2D,IAGlEC,EAH8Bj0B,EAAmC,EAAnCA,KAAMoJ,EAA6B,EAA7BA,IAAKjE,EAAwB,EAAxBA,MAAOmkB,EAAiB,EAAjBA,OAAQzO,EAAS,EAATA,MAExC0F,GAAiBvgB,EAA/Bk0B,UAF+D,aAEhCl0B,EAFgC,gBAKrE,OAAQoJ,GACJ,KAAK,EACD6qB,EAAcJ,GAAalZ,OAAO6Y,IAClC,MACJ,KAAK,EACDS,EAAcH,GAAWnZ,OAAO8Y,IAChC,MACJ,KAAK,EACDQ,EAAcF,GACd,MACJ,KAAK,EAE0C/zB,EADrCoN,UACqCpN,EAD1Bm0B,QAC0Bn0B,EADjBk0B,UACiBl0B,EADNknB,eACMlnB,EADUmnB,mBACVnnB,EAD8B4R,cAC9B5R,EAD6Co0B,mBAC7Cp0B,EADiE2R,yBACjE3R,EAAvCqK,iBAAuCrK,EAArBoK,OAF1B,IAEqCiqB,EAFrC,aAE+Cr0B,EAF/C,uKAIIugB,EAAe8T,EACfJ,EAAcL,GAAQjZ,OAAO,CAACgZ,KAC9B,MACJ,KAAK,EACDM,EAAcvJ,GAAW/P,OAAO+Y,IAOxC,IAAIhyB,EAAU,GAqCd,OAnCAsK,OAAO8F,KAAKyO,GAAcrgB,SAAQ,SAAAuI,GAClB,IAARW,EACA6qB,EAAY/zB,SAAQ,SAAAuT,GAChBA,EAAKvT,SAAQ,YAA6B,IAA1BqO,EAAyB,EAAzBA,MAAOzE,EAAkB,EAAlBA,MAAOjK,EAAW,EAAXA,KAC1B,GAAI4I,IAAQ8F,EAAO,CACf,IAAIgF,EAAM,GACVvH,OAAOC,OAAOsH,EAAK,CAAEhF,QAAOzE,QAAOP,MAAOgX,EAAa9X,KACnD5I,GAAMmM,OAAOC,OAAOsH,EAAK,CAAE1T,SAC/B6B,EAAQrB,KAAKkT,GACbA,EAAM,UAKlB0gB,EAAY/zB,SAAQ,YAA+C,IAA5CqO,EAA2C,EAA3CA,MAAOzE,EAAoC,EAApCA,MAAOjK,EAA6B,EAA7BA,KAAM4E,EAAuB,EAAvBA,MAAuB,EAAhBsV,UAC9C,GAAItR,IAAQ8F,EAAO,CACf,IAAIgF,EAAM,GACVvH,OAAOC,OAAOsH,EAAK,CAAEhF,QAAOzE,QAAOP,MAAOgX,EAAa9X,KACnD5I,GAAMmM,OAAOC,OAAOsH,EAAK,CAAE1T,SAC3B4E,GAAOuH,OAAOC,OAAOsH,EAAK,CAAE9O,UAChC/C,EAAQrB,KAAKkT,GACbA,EAAM,UAMtBvH,OAAO8F,KAAKyO,GAAcrgB,SAAQ,SAAAuI,GAEhB/G,EAAQV,MAAK,SAAAb,GAAE,OAAIA,EAAGoO,QAAU9F,MAExB,IAARW,GACV1H,EAAQrB,KAAK,CAAEkO,MAAO9F,EAAKqB,MAAOrB,EAAKc,MAAOgX,EAAa9X,QAI/D,yBAAKN,UAAU,cAAchB,MAAO,CAAErD,KAAM,MAAOD,MAAO,QACtD,wBAAIsE,UAAU,gBAAgBhD,EAA9B,IAAsCnF,EAAKspB,IAD/C,IAC6D,6BACzD,yBAAKnhB,UAAU,qBAAqBhB,MAAO,CAAE5E,eAAgB,eAErDb,EAAQlB,KAAI,WAAuC6H,GAAvC,IAAGkG,EAAH,EAAGA,MAAOzE,EAAV,EAAUA,MAAOP,EAAjB,EAAiBA,MAAO1J,EAAxB,EAAwBA,KAAM4E,EAA9B,EAA8BA,MAA9B,OACR,yBAAK0D,UAAU,kBAAkBhB,MAAO,CAAE1C,MAAOA,GAAgB,KAAQgE,IAAKJ,GAC1E,kBAAC+Q,GAAA,EAAD,CACI5K,KAAMD,EACNzE,MAAOA,EACPP,MAAgB,SAAT1J,EAAkB8V,KAAOpM,GAAO6W,OAAO,cAAgB7W,GAAS,GACvEiQ,gBAAiB,CAAEC,QAAQ,EAAMtS,MAAO,CAAEyB,SAAU,SAAUE,WAAY,MAC1E4Q,WAAY,CACRvS,MAAO,CACHyB,SAAU,SACVnE,MAAOA,GAAgB,IACvB8T,UAAW,OACXL,UAAW,WAGnBlQ,QAAQ,kBAK5B,kBAAC4S,GAAD,CAAkBC,MAAOA,KC1G9B,IAAMyZ,GAAc,CACvB,CACI/lB,MAAO,eACPpJ,MAAO,oBAEX,CACIoJ,MAAO,KACPpJ,MAAO,sBAEX,CACIoJ,MAAO,YACPpJ,MAAO,sBACPtF,KAAM,QAEV,CACI0O,MAAO,WACPpJ,MAAO,mBACPtF,KAAM,QAGV,CACI0O,MAAO,WACPpJ,MAAO,QACPtF,KAAM,QAEV,CACI0O,MAAO,SACPpJ,MAAO,UACPvF,OAAQ,SACR20B,YAAY,IC+ZLlkB,MADK,CAAC,WAAY,WAAY,gBAAiB,SAAU,yBA1azD,SAAAxK,GAAU,IAAD,MAE6CA,EAAMqJ,MAAjE5N,EAFc,EAEdA,SAAUwP,EAFI,EAEJA,SAAU0jB,EAFN,EAEMA,cAAezC,EAFrB,EAEqBA,OAAQhhB,EAF7B,EAE6BA,YAC7C9K,EAHgB,OAGPJ,QAHO,IAGPA,GAHO,UAGPA,EAAOG,gBAHA,iBAGP,EAAiBrG,aAHV,aAGP,EAAwBsG,OAE/BxG,EAAYuM,OAAOmF,OAAO,CAC5BgL,YAAa,kDACbmV,YAAa,CACT/wB,QAAIwU,EACJid,SAAU,GACVyC,aAAc,MAVF,EAecruB,mBAAS,IAfvB,mBAefkL,EAfe,KAeFojB,EAfE,OAgBgBtuB,mBAAS,IAhBzB,mBAgBfgL,EAhBe,KAgBEujB,EAhBF,OAiBgBvuB,qBAjBhB,mBAiBfwuB,EAjBe,KAiBFC,EAjBE,OAkB0BzuB,mBAAS,IAlBnC,mBAkBfirB,EAlBe,KAkBGyD,EAlBH,OAmBQ1uB,oBAAS,GAnBjB,mBAmBf2uB,EAnBe,KAmBNC,EAnBM,OAoBmB5uB,qBApBnB,mBAoBfqL,EApBe,KAoBEwjB,EApBF,OAqBU7uB,mBAAS,MArBnB,mBAqBf2qB,EArBe,KAqBLmE,EArBK,OAsBgB9uB,mBAAS3G,EAAU0c,aAtBnC,mBAsBfA,EAtBe,KAsBFgZ,EAtBE,OAuBU/uB,qBAvBV,mBAuBfmrB,EAvBe,KAuBL6D,GAvBK,QAwBchvB,mBAAS,eAAK3G,EAAU6xB,cAxBtC,qBAwBfA,GAxBe,MAwBF+D,GAxBE,SAyBIjvB,oBAAS,GAzBb,qBAyBf4hB,GAzBe,MAyBRsN,GAzBQ,SA0BUlvB,mBAAS,8BA1BnB,qBA0Bfkf,GA1Be,MA0BLiQ,GA1BK,SA2BQnvB,qBA3BR,qBA2BfqI,GA3Be,MA2BR+mB,GA3BQ,SA4BgBpvB,qBA5BhB,qBA4Bf0M,GA5Be,MA4BF2iB,GA5BE,SA6BkBrvB,qBA7BlB,qBA6Bf0O,GA7Be,MA6BD4gB,GA7BC,SA8BsBtvB,oBAAS,GA9B/B,qBA8Bfwb,GA9Be,MA8BCD,GA9BD,SA+BgBvb,mBAAS,CACrCwd,MAAM,EACN/jB,KAAM,aACNikB,IAAK,KAlCO,qBA+Bf6R,GA/Be,MA+BFC,GA/BE,SAoCyBxvB,mBAAS,CAC9Cwd,MAAM,EACN/jB,KAAM,SACN6B,aAASqT,IAvCG,qBAoCf8gB,GApCe,MAoCKC,GApCL,MA0CpBpvB,qBAAU,WAENL,SAASuiB,iBAAiB,WADN,SAAAvX,GAAyB,KAAdA,EAAEmX,SAAgBwM,GAAW,GAAQE,EAAY,WAEjF,IAEHxuB,qBAAU,WACN,GAAIT,EAAQ,CAEJ,IAAE+K,EAAY/K,EAAZ+K,QACFrR,EAAQ,GACRo2B,EAAaplB,GAAU1K,EAAQJ,EAAMqJ,OACrCqC,EAAUwkB,EAAW3kB,gBACrB4kB,EAASD,EAAWjjB,YAClB5B,EAAoB6kB,EAApB7kB,gBAENlF,OAAO0Q,QAAQ1L,EAAQ,IAAI9Q,SAAQ,YAAa,IAAD,mBAAV+U,EAAU,KAAPxU,EAAO,KACvC6wB,GAAYllB,eAAe6I,KAC3BtV,EAAMsV,GAAKxU,MAGnBk0B,EAAWpjB,GACXmjB,EAAanjB,EAAQD,aACrB+jB,GAAa11B,GACb81B,GAAeO,GACff,EAAc/jB,MAEnB,CAACJ,EAAU7K,EAAQJ,EAAMqJ,QAE5BxI,qBAAU,WAAM,4CACZ,0CAAAsE,EAAA,0DACQoG,GAAuC,KAApBA,EAD3B,wBAIY6kB,GAAc,IAAIrjB,MAAO6H,cACzB4K,EAAQ/jB,EAASwF,QAAO,SAAArG,GAAC,OAAIA,EAAE8Q,UAAYH,EAAgBE,eAC3DsjB,EAAcvP,EAAMve,QAAO,SAAArG,GAAC,OAAIw1B,EAAcx1B,EAAEomB,cAAgB,IAA0B,OAApBpmB,EAAEomB,iBAAwB3T,MAAK,SAAClI,EAAG2H,GAAJ,OAAU3H,EAAEmC,MAAM8N,cAActI,EAAExF,UAEvI+oB,EAAgB,GAAIC,EAAa,GACrCvB,EAAY10B,SAAQ,SAAAO,GAChBsxB,EAAO7xB,SAAQ,SAAA6G,GACPtG,EAAE2M,YAAcrG,EAAEqG,WAClB+oB,EAAW91B,KAAK0G,MAGxBovB,EAAWjjB,MAAK,SAAClI,EAAG2H,GAChB,IAAMyjB,EAAQ,IAAIxjB,KAAK5H,EAAEgnB,UAEzB,OADc,IAAIpf,KAAKD,EAAEqf,UACVoE,KAEnBF,EAAc71B,KAAd,2BAAwBI,GAAxB,IAA2BsxB,OAAQoE,KACnCA,EAAa,MArBzB,SAwBctB,EAAeqB,GAxB7B,uBAyBcpB,EAAoBoB,GAzBlC,YA2BYzkB,IAAgC,OAAbykB,QAAa,IAAbA,OAAA,EAAAA,EAAejvB,QAAS,GA3BvD,qBA6B8B,QADZovB,EAAiBH,EAAcl1B,MAAK,SAAAP,GAAC,OAAIA,EAAE2M,YAAcqE,EAAgBrE,oBAC7D,IAAdipB,GAAA,UAAAA,EAAgBtE,cAAhB,eAAwB9qB,WAAxB,OAAmCwK,QAAnC,IAAmCA,GAAnC,UAAmCA,EAAiBsgB,cAApD,aAAmC,EAAyB9qB,QA7B5E,kCA8BsBguB,EAAcoB,GA9BpC,0FAkCQxB,IACAC,EAAoB,IACpBH,IApCR,6CADY,uBAAC,WAAD,wBAyCZ2B,KACD,CAACllB,EAAiB9P,EAAUywB,EAAQtgB,IAEvC,IAAMgG,GAAc8e,uBAAY,SAAAllB,GAAM,IAC1B7C,EAAS6C,EAAEqU,OAAXlX,KACFjF,EAAU8H,EAAEqU,OAAZnc,MAEN,GAAa,gBAATiF,EAAJ,CAMA,GAAa,UAATA,GAAoBomB,EAAY,GAAI,CAEpC,GADqB,kBAAVrrB,IAAoBA,EAAQA,EAAMoc,qBACxCpc,GAAmB,KAAVA,EACT,CACD,IAAI0H,EACEulB,EAAW5B,EAAY9tB,QAAO,SAAArG,GAAC,OAAIA,EAAE0M,MAAM/M,MAAMmJ,MAKvD,OAJwB,IAApBitB,EAASvvB,SAAcgK,EAAUulB,EAAS,IAE9C1B,EAAoB0B,QACpBvB,EAAchkB,GAPU6jB,EAAoBF,GAWpDS,GAAa,2BACN/D,IADK,kBACS9iB,EAAOjF,SApB5B,CACImrB,EAAanrB,GACb,IAAM6H,EAAkBN,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEC,cAAgB/H,KAC7DorB,EAAWvjB,MAoBhB,CAACsjB,EAAc5jB,EAAU8jB,EAAatD,KAEnCG,GAAY,uCAAG,WAAMgF,GAAN,iBAAAzrB,EAAA,sDAEbyG,GACAglB,EAAMC,UACNxB,EAAYuB,EAAM/Q,WAEVnlB,EAAOk2B,EAAME,cAAbp2B,MAEAE,EAAIm0B,EAAY5zB,MAAK,SAAAP,GAAC,OAAIA,EAAE2M,UAAU1M,aAAeH,MAC7D00B,EAAcx0B,GACdq0B,EAAoB,CAACr0B,KAVR,2CAAH,sDAclBiG,qBAAU,WAEN,GAAI+K,IAAoBxL,EACpB,GAAIwL,EAAgBsgB,QAAUtgB,EAAgBsgB,OAAO,GAAI,CAErD,IACI6E,EAAa,OAAGnlB,QAAH,IAAGA,OAAH,EAAGA,EAAiBsgB,OACjC1B,EAAYtf,EAAYjK,QAAO,SAAA+vB,GAAC,MAA6B,aAAzBA,EAAEppB,SAAS+E,aAE/C4d,EAAc,GAAID,EAAe,GAAI2G,EAAY,GAAIC,EAAM,YAAOzC,IAEtEsC,EAAc12B,SAAQ,SAAA6G,GAClBgwB,EAAO72B,SAAQ,SAAA82B,GACX,IAAIzG,EAEEgB,EAAWlB,EAAUrvB,MAAK,SAAA61B,GAAC,OAAIA,EAAEppB,SAAS0mB,UAAYptB,EAAExG,IAAMs2B,EAAEppB,SAAS0mB,QAAQzzB,aAAeqG,EAAExG,GAAGG,cACvG6wB,IACAhB,EAAagB,EAAShxB,IAErB4vB,EAAaphB,SAASioB,EAAE7xB,QACzBgrB,EAAa9vB,KAAK22B,EAAE7xB,OAEQ6xB,EAAxB7xB,MAVQ,IAUE+uB,EAVF,aAUgB8C,EAVhB,WAYA,aAAZA,EAAEzoB,MACFuoB,EAAUz2B,KAAV,2BAAoB6zB,GAApB,IAA+B3qB,MAAOxC,EAAEiwB,EAAEzoB,OAAQgiB,gBAElDuG,EAAUz2B,KAAV,2BAAoB6zB,GAApB,IAA+B3qB,MAAOxC,EAAEiwB,EAAEzoB,aAG9CuoB,EAAU,GAAGvG,WAAYuG,EAAU,GAAGvtB,MAAQ,iCAC7CutB,EAAU,GAAGvtB,MAAQ,4BAC1B6mB,EAAY/vB,KAAKy2B,GACjBA,EAAY,MAGhBC,EAAM,YAAOzC,IACbkB,GAAa,CAAErF,eAAcC,cAAaC,mBAEvCmF,GAAa,mDAAD,OAAiD/jB,EAAgBtE,MAAjE,QAExB,CAACsE,EAAiBsgB,EAAQhhB,EAAa9K,IAE1C,IAMMyrB,GAAc,WAEZjgB,GACAujB,GAAYD,GACZG,EAAY,QAEZF,GAAW,GACXC,OAAclgB,GACdmgB,EAAY,QAId1T,GAAY,uCAAG,WAAMpK,GAAN,mCAAApM,EAAA,yDAGbkM,EAHa,OAGD9F,QAHC,IAGDA,OAHC,EAGDA,EAAiBQ,cAC7BxE,EAJa,OAIDqE,QAJC,IAIDA,OAJC,EAIDA,EAAiBrE,UAE3BqnB,EAAoCnD,GAApCmD,aAAiBwC,EANN,aAMyB3F,GANzB,kBAOb/b,EAASL,MAAsB,KAI7BgiB,EAAqBnF,EAAO/wB,MAAK,SAAA+F,GAAC,OAAIA,EAAExG,KAAO+wB,GAAY/wB,OAXhD,uBAabq1B,GAAe,2BACRD,IADO,IAEV/R,MAAM,EACNE,IAAK,0DAAsDoT,EAAmB32B,GAAGG,cAErFy2B,KAlBa,6BAqBjBnrB,OAAO8F,KAAKwf,IAAapxB,SAAQ,SAAA+U,GAC7B,GAAU,aAANA,KAAsBqc,GAAYrc,IAAyB,KAAnBqc,GAAYrc,IAAY,CAChE,IAAImiB,EAAavH,GAAU7uB,MAAK,SAAAuS,GAAG,OAAIA,EAAIhF,QAAU0G,KAAGnL,MACxDyL,EAAOlV,KAAK+2B,QAGhB7hB,EAAO,GA3BM,wBA4BbqgB,GAAe,2BACRD,IADO,IAEV/R,MAAM,EACNE,IAAK,yDAA2DvO,EAAO7U,cAE3Ey2B,KAjCa,mCAsCApiB,IAAbqC,EAtCa,wBAwCPpG,EAxCO,eAyCNsgB,IAEH1vB,EAAM,CACFsV,YACA9J,YACA4D,UACA4F,cAAe,EACfnJ,SAAU,CACN+E,UAAW,WACXpF,cAIRmkB,IACA3vB,EAAIoP,QAAQmB,MAAQof,GAExB/a,GAAa5U,GACR4J,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAR,OAAY8J,QAAZ,IAAYA,OAAZ,EAAYA,EAAG1L,SAC9Bm3B,GAAU,mCACV1iB,GAAW,YACX4iB,KA7Da,+BAkEA,IAAbjgB,IASAZ,GARY,CACRjW,GAAI0F,EAAO1F,GACX2W,YACAlG,QAAS,CACL6Q,KAAI,OAAEyP,SAAF,IAAEA,QAAF,EAAEA,GAAazP,MAEvB1K,UAAU,IAGT3L,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI8J,MAC3B6pB,GAAY,iCACZ8B,KAEApP,YAAW,WACPpiB,EAAMmL,QAAQ3Q,KAAK,mBACpB,QAGU,IAAb+W,EArFa,wBAuFP7F,EAAUijB,EAAcxzB,MAAK,SAAAqQ,GAAC,OAAIA,EAAEE,UAAYkjB,QAEzCwC,EAAeK,WAAa/lB,EAAQhR,IACjD02B,EAAeM,WAAa9lB,EAAgBrE,UAEtCoqB,EAAc,CAAE/oB,MAAO,SAAUwoB,kBA5F1B,UA+FP7rB,KAAM8I,KAAK,kBAAmBsjB,GAC/BhsB,MAAK,SAAAE,GAAM,IAAD,EACPyoB,EAAO,OAAGzoB,QAAH,IAAGA,GAAH,UAAGA,EAAG1L,KAAK,UAAX,aAAG,EAAYO,GACtBoB,QAAQC,IAAI8J,EAAE1L,SAEjB2e,OAAM,SAAAC,GAAG,OAAIjd,QAAQC,IAAIgd,MApGjB,QAmHbpI,GAZY,CACRjW,GAAI0F,EAAO1F,GACX6M,YACA0F,eACA9B,QAAS,GACTvD,SAAU,CACN0mB,UACAtgB,SAAU,SAEduD,aAIC5L,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI8J,EAAE1L,SAG7BioB,YAAW,WAAQpiB,EAAMmL,QAAQ3Q,KAAK,mBAAoB,MAC1Dk1B,GAAY,mBACZ8B,KACAF,GAAU,sBA1HG,4CAAH,sDAoJlB,IAcM1iB,GAAU,uCAAG,WAAMjG,GAAN,SAAAxD,EAAA,sDACf0qB,GAAgBlnB,GAChB4mB,QAAYrgB,GAFG,2CAAH,sDAQZsiB,GAAc,kBAAM/B,IAAUtN,KAC9ByP,GAAqB,kBAAM3B,GAAiB,2BAAKD,IAAN,IAA0BjS,MAAM,MAE3EuT,GAAY,SAAAO,GACJA,GAAWrC,GAAa,eAAK51B,EAAU6xB,cAC3C8D,KACAD,EAAe11B,EAAU0c,cAG3BxD,GAAgB9S,EAAMqJ,MAAMslB,cAAch0B,KAAI,SAAA6Q,GAAC,OAAIA,EAAEE,WAE3D,OACI,kBAAC,WAAD,KACI,kBAAC,GAAD,CACIT,SAAUA,EAAUQ,YAAaA,EAAaF,gBAAiBA,EAAiBigB,iBAAkBA,EAAkB5f,gBAAiBA,EACrIsf,SAAUA,EAAUO,YAAaA,GAAa3Y,cAAeA,GAAewD,YAAaA,EAAaoV,SAAUA,EAAU9iB,MAAOA,GACjIxI,OAAQA,EAAQ6M,YAAaA,GAAa8O,eAAgBA,GAAgB9M,aAAcA,GACxF0c,UAAW,CACP/Z,eAAaga,gBAAcC,eAAave,YAxCpC,SAAChB,EAAO3D,GAExB,GAAI2D,GAASA,EAAM,GAAI,CACnB,IAAIkB,EAAW,IAAIC,SACnBD,EAASS,OAAO,YAAa,YAC7BT,EAASS,OAAO,UAAWwd,GAAY/wB,IACvC8S,EAASS,OAAO,YAAarC,EAAgBrE,WAC7CiG,EAASS,OAAOtF,EAAM2D,EAAM,IAC5BijB,GAAY/hB,GACZqiB,QAAgB3gB,KA+B6CyM,gBAAcmQ,UApBnE,kBAAMuD,EAAY,OAoB4DtD,MA9MhF,WACVvrB,SAASe,cAAc,oBAAoBmC,MAAQ,GACnDurB,EAAoBF,GACpBK,KA2MiGxgB,cACrFkN,qBAAmBkQ,YA/DnC,SAAuBsC,GACnB2B,GAAiB,2BACVD,IADS,IACWjS,MAAM,EAC7BliB,QAAQ,eAAD,OAAcyyB,GACrBA,iBA8DCY,GAAW,kBAACf,GAAD,CACRnZ,MAAO6W,GACP1xB,KAAI,2BAAOyR,GAAP,IAAwByiB,UAAW,KACvC9qB,IAAK,EACLjE,MAAO,aACPmkB,OAAQ,wBAGXuM,GAAmBjS,MAAQ,kBAACgM,GAAD,iBAAmBiG,GAAnB,CAAuChb,MAAO4c,GAAoBjT,QAlEtG,SAAqB2P,GAEjB,GAAIA,EAAS,CACTsD,KAEArsB,KAAMwJ,OAAN,iDAAuDuf,IAClD3oB,MAAK,gBAAGxL,EAAH,EAAGA,KAAH,OAAc2B,QAAQC,IAAI5B,MAEpC,IAAMuxB,EAAWxgB,EAAY/P,MAAK,SAAA61B,GAAC,MAA6B,aAAzBA,EAAEppB,SAAS+E,WAA4BqkB,EAAEppB,SAAS0mB,UAAYA,EAAQzzB,cACzG6wB,GAAUnmB,KAAMwJ,OAAN,2DAA0D2c,QAA1D,IAA0DA,OAA1D,EAA0DA,EAAUhxB,KAC7EiL,MAAK,gBAAGxL,EAAH,EAAGA,KAAH,OAAc2B,QAAQC,IAAI5B,QAwDgFO,GAAIs1B,GAAmB1B,WAE1IwB,GAAY/R,MAAQ,kBAACW,GAAD,CAAaX,KAAM+R,GAAY/R,KAAM/I,MAjChD,kBAAM+a,GAAe,2BAAKD,IAAN,IAAmB/R,MAAO+R,GAAY/R,SAiCU5N,UAAW2f,GAAY91B,KAAM6kB,cAAeiR,GAAY7R,MACtI,kBAAC,GAAD,CAAYF,KAAMoE,GAAOnN,MAAOwc,GAAavT,IAAKwB,SCpbjDqS,GAAeC,wBAAc,M,kDCapCC,GAAe,CACjB,CACItuB,MAAO,QACPO,MAAO,uCAEX,CACIP,MAAO,QACPO,MAAO,UAITguB,GAAe,CACjB,CACIvuB,MAAO,UACPO,MAAO,+BAEX,CACIP,MAAO,aACPO,MAAO,qDAIA,SAASiuB,GAAT,GAAmJ,IAA3HjnB,EAA0H,EAA1HA,SAAU7K,EAAgH,EAAhHA,OAAQqV,EAAwG,EAAxGA,QAAS0c,EAA+F,EAA/FA,aAAcC,EAAiF,EAAjFA,cAAeC,EAAkE,EAAlEA,WAAYzgB,EAAsD,EAAtDA,YAAaC,EAAyC,EAAzCA,WAAYsD,EAA6B,EAA7BA,YAAawG,EAAgB,EAAhBA,aASvI2W,GAJGlyB,IAAD,OAAWA,QAAX,IAAWA,OAAX,EAAWA,EAAQgR,OAAO7W,MAAM,kBAAsBy3B,GAC9CC,GAKhB,OACI,oCACI,kBAACpa,GAAA,EAAD,CAAMC,WAAS,EACXya,UAAU,MACVC,QAAQ,gBACRpZ,WAAW,SACX9X,MAAO,CAAE1C,MAAO6W,EAAU,SAAW,QAASlX,UAAW,SAEzD,kBAACsZ,GAAA,EAAD,CAAM9T,MAAI,EAACgU,GAAItC,EAAU,EAAI,IACzB,kBAACgd,GAAA,EAAD,CAAavwB,UAAU,YACnB,kBAACwwB,GAAA,EAAD,CAAWxwB,UAAU,WAAW9B,IAAD,OAAWA,QAAX,IAAWA,OAAX,EAAWA,EAAQgR,OAAO7W,MAAM,kBAAgB,kBAAoB,kBACnG,kBAACo4B,GAAA,EAAD,CAAYtX,aAAW,WAAW1S,KAAK,WACnC7E,SAAUqR,EAAayd,KAAG,EAC1BtxB,MAAO,CAAE1C,MAAO,QAChB0D,UAAU,SAGNgwB,EAAY33B,KAAI,WAAmB6H,GAAnB,IAAGkB,EAAH,EAAGA,MAAOO,EAAV,EAAUA,MAAV,OACZ,kBAACqR,GAAA,EAAD,CACI1S,IAAKJ,EACLF,UAAU,QACVoB,MAAOA,EACP6R,QAAS,kBAACsd,GAAA,EAAD,CAAOh2B,MAAM,YACtBoH,MAAO,0BAAM3C,MAAO,CAAEyB,SAAU,WAAakB,GAC7C6uB,eAAe,gBAQ1B,UAAZrd,EACG,kBAACoC,GAAA,EAAD,CAAM9T,MAAI,EAACgU,GAAI,GACX,kBAACxE,GAAA,EAAD,CACIM,WAAY,CACR5B,KAAM,cACNtJ,KAAM,gBAEVjF,MAAOyuB,EACPruB,SAAU8N,EACVU,OAAQT,EACR5N,MAAM,qEACNiQ,WAAS,IAEb,kBAAC,GAAD,CACIha,WAAY+Q,EACZyG,SAAS,cACThO,MAAOyuB,KAIf1c,GAAuB,YAAZA,GACX,kBAACoC,GAAA,EAAD,CAAM9T,MAAI,EAACgU,GAAI,GACX,kBAACxE,GAAA,EAAD,CACI5K,KAAkB,UAAZ8M,EAAsB,gBAAkB,aAC9C/R,MAAmB,UAAZ+R,EAAsB2c,EAAgBC,EAC7CpuB,MAAmB,UAAZwR,EAAsB,gBAAkB,gBAC/C3R,SAAU8N,EACV+B,gBAAiB,CAAEC,QAAQ,GAC3BI,WAAS,EACTC,KAAM,EACN9R,QAAQ,WACR+R,WAAS,MAKzB,kBAAC2D,GAAA,EAAD,CAAMC,WAAS,EAACya,UAAU,MAAMC,QAAQ,WAAWlxB,MAAO,CAAE1C,MAAO,WAC/D,kBAACiZ,GAAA,EAAD,CAAM9T,MAAI,EAACgU,GAAI,GAAIzW,MAAO,CAAE1C,MAAO,YACnC,kBAACiZ,GAAA,EAAD,CAAM9T,MAAI,EAACgU,GAAI,EAAGzW,MAAO,CAAEc,MAAO,UAC9B,kBAACL,EAAA,EAAD,CACIC,KAAK,QACLnF,MAAM,UACNsF,QAAQ,WACRb,MAAO,CAAE8Q,OAAQ,iBACjBjP,QAAS,kBAAMwY,MALnB,aAOc,2CAPd,IAOyC,kBAACoX,GAAA,EAAD,UC9HtD,IAAMC,GAAY,CACrB,CACItqB,MAAO,QACPzE,MAAO,QACPyN,SAAU,QACVD,cAAc,EACdvX,WAAY,QACZ6Z,UAAW,GAEf,CACIrL,MAAO,UACPzE,MAAO,WAEX,CACIyE,MAAO,UACPzE,MAAO,sBACP8P,UAAW,IAEf,CACIrL,MAAO,cACPzE,MAAO,iBACPyP,UAAU,GAEd,CACIhL,MAAO,aACPzE,MAAO,mBACPyP,UAAU,GAEd,CACIhL,MAAO,UACPzE,MAAO,gCACPyP,UAAU,GAGd,CACIhL,MAAO,cACPzE,MAAO,kBACPyP,UAAU,GAEd,CACIhL,MAAO,eACPzE,MAAO,mBACPyP,UAAU,GAEd,CACIhL,MAAO,kBACPzE,MAAO,sBACPyP,UAAU,GAEd,CACIhL,MAAO,mBACPzE,MAAO,uBACPyP,UAAU,GAEd,CACI1Z,KAAM,SACN0O,MAAO,iBACPzE,MAAO,MACPyP,UAAU,IC1CZtX,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCwb,UAAW,CACPrZ,QAAS,OACTya,SAAU,OACVnc,QAAST,EAAMkB,QAAQ,IAE3By1B,WAAY,CACRr0B,MAAO,KAEXQ,MAAO,CACHrC,QAAST,EAAMkB,QAAQ,GACvB6U,UAAW,SACXxV,MAAOP,EAAMa,QAAQqa,KAAKgD,UAC1BpI,OAAQ9V,EAAMkB,QAAQ,QAIf,eAAmF,IAAvEoU,EAAsE,EAAtEA,YAAaC,EAAyD,EAAzDA,WAAYsD,EAA6C,EAA7CA,YAAawG,EAAgC,EAAhCA,aAAcxhB,EAAkB,EAAlBA,KAAM8Q,EAAY,EAAZA,SACzEQ,EAAqEtR,EAArEsR,YAAa+T,EAAwDrlB,EAAxDqlB,MAAO/J,EAAiDtb,EAAjDsb,QAAS0c,EAAwCh4B,EAAxCg4B,aAAcC,EAA0Bj4B,EAA1Bi4B,cAAehyB,EAAWjG,EAAXiG,OAC9DH,EAAU7D,KAAegD,EAAiCa,EAAjCb,MAAO0Y,EAA0B7X,EAA1B6X,UAAWmb,EAAehzB,EAAfgzB,WAE/C,OACI,kBAAC,WAAD,KACI,kBAACjY,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAczD,KAAK,sBAAmBpX,OAAQA,IAC1E,kBAACuR,GAAD,CACIxX,KAAMA,EACN8Q,SAAUA,EACV2G,YAAaA,EACbC,WAAYA,IAEhB,kBAACgG,GAAA,EAAD,CACIC,WAAS,EACTya,UAAU,MACVjwB,UAAWwV,EACX0a,QAAQ,UAEP/mB,GAAe+T,EAAM,IAClB,kBAAC3H,GAAA,EAAD,CAAM9T,MAAI,EAACgU,GAAI,IACX,kBAAC+C,GAAA,EAAD,CAAOxY,UAAWlD,GACd,wBAAIkC,MAAO,CAAE/D,aAAc,QACrB6C,EAAD,wCAA6DA,QAA7D,IAA6DA,OAA7D,EAA6DA,EAAQ8a,OAArE,qBAAiF9a,QAAjF,IAAiFA,OAAjF,EAAiFA,EAAQmQ,SAA/E,iCAEdnQ,GAAU,sDAAeA,QAAf,IAAeA,OAAf,EAAeA,EAAQgR,QAClC,kBAACyB,GAAD,CACIjF,KAAMolB,GACN74B,KAAMA,EACN0X,WAAYA,EACZD,YAAaA,EACbmB,aAAY3S,KAIpB,kBAAC8xB,GAAD,CACI9xB,OAAQA,EACRqV,QAASA,EACT0c,aAAcA,EACdC,cAAeA,EACfnnB,SAAUA,EACV2G,YAAaA,EACbC,WAAYA,EACZsD,YAAaA,EACbwG,aAAcA,MAIxBlQ,IAAgB+T,EAAM,IACpB,kBAAC3H,GAAA,EAAD,CAAMC,WAAS,EAAC0a,QAAQ,UACpB,yBAAKlwB,UAAW2wB,QCjElCC,G,4MAIFp5B,MAAQ,CACJmR,SAAU,GACVQ,YAAa,GACb+T,MAAO,GACPlY,MAAO,GACPsG,KAAM,GACNwa,MAAO,GACP+J,aAAc,GACd1S,SAAU,qCACVC,cAAc,EACdyT,YAAY,G,EAkBhBvhB,Y,uCAAc,WAAMpG,GAAN,6BAAArG,EAAA,2DAEYqG,EAAEqU,OAAlBlX,EAFI,EAEJA,KAAMjF,EAFF,EAEEA,MAFF,EAGmB,EAAK1D,MAAMqJ,MAAlC5N,EAHI,EAGJA,SAAUwP,EAHN,EAGMA,SAEhB,EAAK0U,SAAL,eAAiBhX,EAAOjF,IAEX,gBAATiF,EAPM,sBAQF4C,EAAkBN,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEC,cAAgB/H,MARrD,iCAWI,EAAKic,SAAS,CAAElU,YAAaF,EAAgBE,YAAaF,oBAX9D,OAYE7H,IAAU6H,EAAgBE,aAAa,EAAKkU,SAAS,CAAEpU,qBAAiB2D,IAEtEsQ,EAAQ/jB,EAASwF,QAAO,SAAArG,GAAC,OAAIA,EAAE8Q,UAAY,EAAK5R,MAAM2R,eAC5D,EAAKkU,SAAS,CAAEH,UAfd,yCAkBI,EAAKG,SAAS,CAAEpU,qBAAiB2D,EAAWsQ,MAAO,KAlBvD,QAmBF,EAAKyE,QAnBH,4C,wDAwBdpS,W,uCAAa,WAAMrG,GAAN,2CAAArG,EAAA,2DAEuB,EAAKnF,MAAMqJ,MAArC4B,EAFG,EAEHA,SAAUnL,EAFP,EAEOA,YAFP,EAGe,EAAKhG,MAAvB0lB,EAHG,EAGHA,MAAOpf,EAHJ,EAGIA,OACPuI,EAAS6C,EAAEqU,OAAXlX,KACAjF,EAAU8H,EAAEqU,OAAZnc,MAEO,iBAATiF,EAPK,sBAQDjF,EAAMtC,OAAS,GARd,sBASK+wB,EAAelnB,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEC,cAAgB/H,MATzD,wBAWW+H,EAA+B0mB,EAA/B1mB,YAAaM,EAAkBomB,EAAlBpmB,cAXxB,SAYS,EAAK4T,SACP,CACIwS,aAAc1mB,EACd2nB,eAAgBrnB,EAChBsnB,eAAe,IAhB1B,+BAoBM,EAAK1T,SAAS,CAAEzP,iBAAiB,EAAMC,UAAW,kBAAmBgiB,aAAc,KApBzF,WAwBI,UAATxpB,GAAqC,kBAAV6W,EAxBtB,oBAyBA9b,GAAmB,KAAVA,GAAc,EAAKic,SAAS,CAAE0T,eAAe,IAGvD3vB,EAAMtC,OAAS,IACfgK,EAAUoU,EAAMrkB,MAAK,SAAAP,GACjB,MAAqB,kBAAV8I,EAA2B9I,EAAE0M,MAAM8Y,cAAc7lB,MAAMmJ,EAAM0c,eAC5DxlB,EAAE0M,MAAM/M,MAAMmJ,QAG9B0H,EAlCC,oBAmCIhL,EAnCJ,oBAqCqB,qCACdye,EAtCP,qEAsC+EzT,EAAQ9D,MAtCvF,0EAwCwB6b,GAAW,UAAC/X,SAAD,aAAC,EAAS7D,UAAWzH,GAxCxD,wBA2CO,EAAK6f,SAAS,CAAEf,YANF,qCAMeC,gBAAe3O,iBAAiB,EAAMvE,YAAa,GAAIrE,WAAO4H,IA3ClG,4CA+CK,EAAKyQ,SAAL,eAAmBvU,IA/CxB,gCAiD2B,KAArB,EAAKtR,MAAMwN,QACd2c,EAAQ,GACRzE,EAAM,IAAIrZ,OAAO8F,KAAKuT,EAAM,IAAInlB,SAAQ,SAAA+U,GAAC,OAAI6U,EAAM7U,GAAK,MAC5D,EAAKuQ,SAAS,CAAExP,UAAW,gBAAiBD,iBAAiB,EAAMmjB,eAAe,IAClF,EAAK1T,SAAL,eAAmBsE,KArDlB,4C,wDA0DbtI,a,sBAAe,sEAAAxW,EAAA,wDAGoG,EAAKrL,MAA9GyR,EAHK,EAGLA,gBAAiBkK,EAHZ,EAGYA,QAASlO,EAHrB,EAGqBA,UAAW6qB,EAHhC,EAGgCA,cAAeC,EAH/C,EAG+CA,WAAYF,EAH3D,EAG2DA,aAAciB,EAHzE,EAGyEA,eAAgBhzB,EAHzF,EAGyFA,OAChGqhB,GAAyB,OAANrhB,QAAM,IAANA,GAAA,UAAAA,EAAQ+K,eAAR,eAAiB/J,SAAU,EAC9CkyB,EALO,OAKSlzB,QALT,IAKSA,OALT,EAKSA,EAAQ+K,QAAQlD,MAAK,SAAA3N,GAAE,OAAIA,EAAGiM,eAAe,qBAI7DxK,EAAM,GAKNw3B,EAAa,CAAC,kBAAmB,QAAS,iBAE1CnzB,GAAUkzB,GAAiBxyB,MAAMC,QAAQuyB,KACzCE,EAAkBF,EAActnB,UAAU7Q,MAAK,SAAAqQ,GAAC,OAAIA,EAAEjF,eAAe,qBAAmB6sB,gBAjBjF,KAmBH3d,EAnBG,OAoBD,UApBC,OA+BD,UA/BC,QAoCD,eApCC,QAyCD,YAzCC,+BAqBH8d,EAAW/4B,KAAK,gBAEhBi5B,EAAU,2CAAoCtB,GAC9CuB,EAAG,mEAAmDvB,GACtDhnB,EAAU,CAAEpR,OAAQ,6BAAwBiiB,KAAM0X,IAE7CtzB,GAAUgzB,IAAgBjoB,EAAQioB,eAAiBA,GACpDhzB,GAAUgzB,GAAkBA,IAAmBI,IAAiBroB,EAAQioB,eAAiBA,GA5B1F,oCAgCHG,EAAW/4B,KAAK,iBAChB2Q,EAAU,CAAEpR,OAAQ,6BAAwBiiB,KAAMoW,GAjC/C,oCAqCHjnB,EAAU,CAAEpR,OAAQ,2CAAsCiiB,KAAMqW,GAChE,EAAK1S,SAAS,CAAEF,SAAU,uCAtCvB,oCA0CH+E,EAAU,CAAE9C,SAAU,qBAAmB5mB,QAAS,4BAClDqQ,EAAU,CAAEpR,OAAQ,iCAEpB,OAAIqG,QAAJ,IAAIA,OAAJ,EAAIA,EAAQmQ,QAAQhW,MAAM,0BAChBo5B,EADqC,OACtBvzB,QADsB,IACtBA,GADsB,UACtBA,EAAQ+K,QAAQ,UADM,aACtB,EAAoBioB,eACzC5O,EAAQzY,cAAgB4nB,EACxBnP,EAAQ9C,SAAW,SAhDpB,kEAwDI6R,EAAWltB,OAAM,SAAA+I,GAAC,OAAI,EAAKtV,MAAMyM,eAAe6I,IAAwB,KAAlB,EAAKtV,MAAMsV,MAxDrE,kCA0DD,EAAKuQ,SAAS,CAAEzP,iBAAiB,EAAMC,UAAW,kBA1DjD,iCA2DA,MA3DA,WA+DXpU,EAAM,CACFwU,QAASkjB,EACTpiB,UAAS,OAAE9F,QAAF,IAAEA,OAAF,EAAEA,EAAiBQ,cAC5BxE,YACA4D,UACA4F,cAAe0Q,GAGfrhB,IAAQrE,EAAIrB,GAAJ,OAAS0F,QAAT,IAASA,OAAT,EAASA,EAAQ1F,IACb,YAAZ+a,IAAuB1Z,EAAIoF,WAAY,GAE3CwP,GAAa5U,GAAK4J,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI8J,EAAE1L,SAG1B,YAAZsb,EA7EO,wBA+EHyM,EAAgBpc,IAAMmc,eAAeuC,GAC7B,UACE,aAjFP,UAmFDjf,KAAMoJ,IAAI,qBAAsB,CAAEuT,gBAAetZ,MAH3C,UAGkDlN,QAFhD,aAEyDhB,GAAI,EAAKZ,MAAMyN,YACjFuR,OAAM,SAAAC,GAAG,OAAIjd,QAAQC,IAAIgd,MApFvB,QAqFP,EAAK4G,SAAS,CAAEF,SAAU,iCArFnB,eAyFX,EAAK0C,QAzFM,UA0FL,EAAKxC,SAAS,CAAEpU,qBAAiB2D,EAAWsQ,MAAO,GAAI/T,YAAa,KA1F/D,QA2FX,EAAKwY,QAGD7jB,GACAgiB,YAAW,WACP,EAAKpiB,MAAMmL,QAAQ3Q,KAAK,mBACzB,MAjGI,4C,EAoGf2a,YAAc,SAAA3J,GAAC,OAAI,EAAKmU,SAAS,CAAElK,QAASjK,EAAEqU,OAAOnc,S,EACrDugB,MAAQ,WACJ+O,GAAU34B,SAAQ,SAAAC,GAAE,OAAI,EAAKqlB,SAAL,eAAiBrlB,EAAGoO,MAAQ,QACpD,EAAKiX,SAAS,CAAEwS,aAAc,GAAI/J,MAAO,GAAIgK,cAAe,GAAI3c,SAAS,EAAOrV,YAAQ8O,K,EAE5FwV,WAAa,kBAAM,EAAK/E,SAAS,CAAEzP,iBAAkB,EAAKpW,MAAMoW,mB,EAChEiS,MAAQ,kBAAM,EAAKxC,SAAS,CAAED,cAAe,EAAK5lB,MAAM4lB,gB,6MAzM9Ctf,E,UAASkJ,KAAKtJ,a,iBAAL,EAAYG,gB,iBAAZ,EAAsBrG,a,aAAtB,EAA6BsG,Q,yBAGXkJ,KAAKtJ,MAAMqJ,MAAlC4B,E,EAAAA,SAAUxP,E,EAAAA,SACViQ,EAAqBtL,EAArBsL,QAASkoB,EAAYxzB,EAAZwzB,QACXroB,EAAkBN,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEC,cAAgBC,KACvD8T,EAAQ/jB,EAASwF,QAAO,SAAArG,GAAC,OAAIA,EAAE0M,QAAUssB,KACzChoB,EAAkB4T,EAAMrkB,MAAK,SAAAP,GAAC,OAAIA,EAAE0M,QAAUssB,K,SAE5CtqB,KAAKqW,SAAL,yBAAgBlU,YAAaC,EAASH,kBAAiBjE,MAAOssB,EAASpU,SAAU5T,GAAjF,IAAkGxL,Y,qIAkMtG,IAAD,EAC6GkJ,KAAKxP,MAA/Gq4B,EADH,EACGA,aAAczS,EADjB,EACiBA,aAAcD,EAD/B,EAC+BA,SAAUhK,EADzC,EACyCA,QAASvF,EADlD,EACkDA,gBAAiB0O,EADnE,EACmEA,YAAaC,EADhF,EACgFA,cAAe1O,EAD/F,EAC+FA,UAEpG,OAAO,kBAAC,WAAD,KACH,kBAAC0jB,GAAD,CACI15B,KAAMmP,KAAKxP,MACXmR,SAAU3B,KAAKtJ,MAAMqJ,MAAM4B,SAC3BwK,QAASA,EACT0c,aAAcA,EACdvgB,YAAatI,KAAKsI,YAClBC,WAAYvI,KAAKuI,WACjBsD,YAAa7L,KAAK6L,YAClBwG,aAAcrS,KAAKqS,eAEtBzL,GAAmB,kBAACwO,GAAD,CAAaX,KAAM7N,EAAiB8E,MAAO1L,KAAKob,WAAYvU,UAAWA,EAAWyO,YAAaA,EAAaC,cAAeA,IAC/I,kBAAC,GAAD,CAAYd,KAAM2B,EAAc1K,MAAO1L,KAAK6Y,MAAOlE,IAAKwB,S,GA7OzCvV,aAArBgpB,GAEKY,YAAchC,GAgPzB,IAEetnB,MAFK,CAAC,WAAY,YAEI0oB,I,qBCtP/B92B,I,OAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnCiW,UAAW,CACPC,WAAYlW,EAAMkB,QAAQ,GAC1BiV,YAAanW,EAAMkB,QAAQ,GAC3Be,UAAW,MACXK,MAAO,QACPmE,SAAU,SACV2P,UAAW,OACXL,UAAW,UAEfM,OAAQ,CACJH,WAAYlW,EAAMkB,QAAQ,GAC1BiV,YAAanW,EAAMkB,QAAQ,GAC3BD,aAAc,MACd4B,WAAY,UACZ4D,SAAU,SACV2P,UAAW,OACXL,UAAW,eAIJ,SAAS0hB,GAAT,GACgF,IADtD9qB,EACqD,EADrDA,YAAa/O,EACwC,EADxCA,WAAYC,EAC4B,EAD5BA,KAAM65B,EACsB,EADtBA,WACpEC,EAA0F,EAA1FA,iBAAkBC,EAAwE,EAAxEA,aAAcC,EAA0D,EAA1DA,WAAYC,EAA8C,EAA9CA,cAAezY,EAA+B,EAA/BA,aAAciO,EAAiB,EAAjBA,cAInErX,EADQnW,KACRmW,UAEN,OACI,kBAAC,WAAD,KACG,kBAACyI,GAAD,CAAQC,MAAO,CAAC,cAAY,aAAczD,KAAK,+CAC9C,gCACI,uEAEJ,yBAAKlV,UAAU,gBACX,kBAACiR,GAAA,EAAD,CACIjR,UAAWiQ,EACXzO,SAAUmwB,EACVvwB,MAAOxJ,EACPyY,QAAQ,EACRwB,YAAa,CACT7S,MAAO,CACHyB,SAAU,SAAUlG,MAAO,OAAQoG,WAAY,IAC/CrE,MAAO,IAAK4J,OAAQ,UAI3BS,EAAYtO,KAAI,SAACyZ,EAAK5R,GAAN,OACb,kBAAC6R,GAAA,EAAD,CAAUzR,IAAKJ,EAAGkB,MAAO0Q,GACpBA,QAKjB4f,GAAc95B,GAAc,yBAAKoI,UAAU,aACvC,kBAACP,EAAA,EAAD,CACIC,KAAK,QACLnF,MAAM,UACNsF,QAAQ,WAERb,MAAO,CAAE8Q,OAAQ,iBACjBjP,QAAS,kBAAMymB,MAEf,kBAAC,KAAD,MARJ,eAWJ,yBAAKtnB,UAAU,aAEPnI,GAAQ65B,GAAc75B,EAAKQ,KAAI,SAACL,EAAIkI,GAAL,OAC3B,yBAAKF,UAAU,UAAUM,IAAKJ,GAC1B,kBAAC+Q,GAAA,EAAD,CACI7P,MAAOpJ,EAAG+5B,KAAO/5B,EAAG05B,EAAWtrB,OAASpO,EAAG05B,EAAWtrB,OAAS,KAAOpO,EAAE,MAAY,IACpFwJ,SAAUowB,EACVvrB,KAAMrO,EAAGoO,MACT1O,KAAK,OACL6Z,WAAY,CACRygB,YAAa,MACbC,YAAY,EACZjzB,MAAO,CACHyB,SAAU,SACVlG,OAAmB,IAAZvC,EAAG+5B,KAAgB,OAAS,SAG3C/xB,UAAWiQ,EACXmB,UAAsB,IAAZpZ,EAAG+5B,OAGjB,4BAAQnyB,UAAU,OACdI,UAAU,oBACVhD,MAAM,SACN6D,QAAS,kBAAMgxB,EAAW3xB,IAC1B/D,QAAQ,QACR,kBAAC,KAAD,CAAU6D,UAAU,WAAWzF,MAAM,aAEzC,4BACIyF,UAAU,oBACVhD,MAAM,UACN6D,QAAS,kBAAMixB,EAAc5xB,KAC7B,kBAAC,KAAD,CAAYF,UAAU,WAAWzF,MAAM,oBAMvD1C,GACA,kBAAC0d,GAAA,EAAD,CAAMC,WAAS,EAACya,UAAU,MAAMC,QAAQ,YACpC,kBAAC3a,GAAA,EAAD,CAAM9T,MAAI,EAACgU,GAAI,EAAGzW,MAAO,CAAEc,MAAO,QAASgQ,OAAQ,qBAC/C,kBAACrQ,EAAA,EAAD,CACIC,KAAK,QACLnF,MAAM,UACNsF,QAAQ,YACR7C,MAAM,SACN6D,QAAS,kBAAMwY,MALnB,UAOW,2CAPX,IAOsC,kBAAC,KAAD,U,ICyK/CnR,MAHK,CAAC,cAAe,2BAA4B,gBAAiB,+BAC7E,cAAe,eAAgB,WAAY,kB,4MA3R3C1Q,MAAQ,CACJI,WAAY,GACZ+rB,MAAO,GACP3R,QAAS,GACTsV,eAAe,EACflK,cAAc,EACdD,SAAU,qBACVuQ,mBAAoB,CAAEjS,MAAM,I,EAwBhCyW,WAAa,SAAC/4B,EAAUu4B,EAAY75B,GAAU,IAClCwO,EAAuBqrB,EAAvBrrB,KAAMD,EAAiBsrB,EAAjBtrB,MAAOzE,EAAU+vB,EAAV/vB,MAiBrB,OAfA9J,EAAKE,SAAQ,SAAAC,GACT,IAUI0G,EAVavF,EAASwF,QAAO,SAAArG,GAC7B,MAAc,4BAAVqJ,GAAuCrJ,EAAE+N,GACd/N,EAAE+N,GACMxN,MAAK,SAAAs5B,GAAE,OAAIA,IAAOn6B,EAAGI,MAI9C,iBAAVuJ,GAA4BrJ,EAAE+N,GAAc/N,EAAE+N,GAAMyX,cAAc7lB,MAAMD,EAAGoO,GAAO0X,eAC/ExlB,EAAE+N,KAAUrO,EAAGoO,MAELtH,OACrB+E,OAAOC,OAAO9L,EAAI,CAAE0G,aAExB7G,EAAOA,EAAKkT,MAAK,SAAClI,EAAG2H,GAAJ,OAAU3H,EAAEuD,GAAO0M,cAActI,EAAEpE,Q,EAIxDurB,iB,uCAAmB,WAAMzoB,GAAN,2BAAArG,EAAA,6DAETzB,EAAU8H,EAAEqU,OAAZnc,MAFS,EAGkC,EAAK1D,MAAMqJ,MAAtD5N,EAHS,EAGTA,SAAUi5B,EAHD,EAGCA,YAAaC,EAHd,EAGcA,gBAEzBX,EAAavrB,GAAkBtN,MAAK,SAAAb,GAAE,OAAIA,EAAG2J,QAAUP,KACvDvJ,EAAO+T,KAAK4C,MAAM5C,KAAKC,UAAU,EAAKnO,MAAMqJ,MAAM2qB,EAAW95B,eAEjEC,EAAO,EAAKq6B,WAAW/4B,EAAUu4B,EAAY75B,IACxCE,SAAQ,SAAAC,GAAE,OAAIA,EAAG+5B,MAAO,KAE7B,EAAK1U,SAAS,CAAEuG,YAAQhX,EAAW+W,MAAO,KACZ,kBAA1B+N,EAAW95B,YAAgC,EAAKylB,SAAS,CAAEuG,OAAQwO,IACzC,gBAA1BV,EAAW95B,YAA8B,EAAKylB,SAAS,CAAEuG,OAAQyO,IAbtD,SAeT,EAAKhV,SAAS,CAAEzlB,WAAYwJ,EAAOvJ,OAAM65B,eAfhC,mD,wDAmBnBG,W,uCAAa,WAAM94B,GAAN,qBAAA8J,EAAA,6DAELyvB,EAAUp0B,SAASgP,iBAAiB,YACpCqlB,EAAUD,EAAQv5B,GAAOy5B,WAAW,GACpCC,EAAcF,EAAQrlB,iBAAiB,SAAS,IAI3B,KAFrBrV,EANK,YAMM,EAAKL,MAAMK,OAEjBkB,GAAOg5B,KAAel6B,EAAKkB,GAAOg5B,MAAO,GAE9Cl6B,EAAKE,SAAQ,SAAAe,GAAC,OAAIA,EAAEi5B,MAAO,KAC3Bl6B,EAAKkB,GAAOg5B,MAAO,GAXd,SAaH,EAAK1U,SAAS,CAAExlB,SAbb,OAcT46B,EAAYxU,QAdH,2C,wDAiBb4F,YAAc,SAAA3a,GAEN,IAIAwpB,EAJEtxB,EAAU8H,EAAEqU,OAAZnc,MACAxJ,EAAe,EAAKJ,MAAMk6B,WAA1B95B,WADF,EAEmC,EAAK8F,MAAMqJ,MAA5CqrB,EAFF,EAEEA,YAAaC,EAFf,EAEeA,gBAGA,kBAAfz6B,IAAgC86B,EAAkBN,GACnC,gBAAfx6B,IAA8B86B,EAAkBL,GARrC,IAUPj6B,EAAOs6B,EAAgB75B,MAAK,SAAA85B,GAAC,OAAIA,EAAEhP,QAAUviB,KAA7ChJ,GAER,EAAKilB,SAAS,CAAEsG,MAAOviB,EAAOwxB,QAASx6B,K,EAG3Cw5B,a,uCAAe,WAAM1oB,GAAN,uBAAArG,EAAA,6DAELzB,EAAU8H,EAAEqU,OAAZnc,MACFiF,EAAO,EAAK7O,MAAMk6B,WAAWtrB,MAI7BysB,EAAiB,EAAKr7B,MAAMK,KAAKgB,MAAK,SAAAb,GAAE,OAAgB,IAAZA,EAAG+5B,QAC7Ch5B,EAAQ,EAAKvB,MAAMK,KAAKqS,QAAQ2oB,GAGtCA,EAAexsB,GAAQjF,GAEnB0xB,EAbO,YAaO,EAAKt7B,MAAMK,OACrBkB,GAAS85B,EAdN,SAgBL,EAAKxV,SAAS,CAAExlB,KAAMi7B,IAhBjB,2C,wDAmBfxjB,YAAc,SAAApG,GAAM,IACR9H,EAAU8H,EAAEqU,OAAZnc,MACR,EAAKic,SAAS,CAAEyG,WAAY1iB,K,EAGhC2iB,c,sBAAgB,8CAAAlhB,EAAA,+DAG8B,EAAKrL,MAAzCk6B,EAHM,EAGNA,WAAY5N,EAHN,EAGMA,WAAY8O,EAHlB,EAGkBA,QACxBtsB,EAA6BorB,EAA7BprB,MAAOF,EAAsBsrB,EAAtBtrB,MAAOxO,EAAe85B,EAAf95B,WACduB,EAAa,EAAKuE,MAAMqJ,MAAxB5N,SAEF21B,EAPQ,eAOY1oB,EAAQ0d,GAC5B8O,IAAS9D,EAAe8D,QAAUA,GACtC9D,EAAiBtrB,IAAMmc,eAAemP,GAT1B,SAWN7rB,KAAM8I,KAAK,kBAAmB,CAAEzF,QAAOwoB,mBAXjC,OAaRj3B,EAAO,EAAK6F,MAAMqJ,MAAMnP,GAC5BC,EAAO,EAAKq6B,WAAW/4B,EAAUu4B,EAAY75B,GAE7C,EAAKwlB,SAAS,CAAEiK,eAAe,EAAOzvB,SAhB1B,2C,EAmBhBi6B,cAAgB,SAAA/4B,GAAU,IAAD,EAGM,EAAKvB,MAA1BK,EAHe,EAGfA,KACAuO,EAJe,EAGTsrB,WACNtrB,MAEF2sB,EAAcl7B,EAAKkB,GAAOqN,GAC1BsnB,EAAqB,CACjBjS,MAAM,EACN/jB,KAAM,SACN6B,QAAQ,GAAD,OAAKw5B,GACZh6B,SAGR,EAAKskB,SAAS,CAAEqQ,wB,EAGpBsF,W,uCAAa,WAAMj6B,GAAN,yBAAA8J,EAAA,yDACT,EAAKysB,qBAEDz3B,EAHK,YAGM,EAAKL,MAAMK,MAGpB65B,EAAe,EAAKl6B,MAApBk6B,WACA95B,EAAsB85B,EAAtB95B,WAAY0O,EAAUorB,EAAVprB,MACdlO,EAAKP,EAAKkB,GAAOX,GACjB66B,EAAe,EAAKv1B,MAAMqJ,MAAMnP,IACnBq7B,EAAap6B,MAAK,SAAAb,GAAE,OAAIA,EAAGI,KAAOA,KAV1C,gCAaC6K,KAAMwJ,OAAN,4BAAkCnG,EAAlC,0BAAyDlO,IAC1Doe,OAAM,SAAAC,GAAG,OAAIjd,QAAQC,IAAIgd,MAdzB,OAgBT5e,EAAKqB,OAAOH,EAAO,GACnB,EAAKskB,SAAS,CAAExlB,SAjBP,2C,wDAqBbwhB,a,sBAAe,kDAAAxW,EAAA,6DAGLkE,EAAU,EAAKrJ,MAAfqJ,MAHK,EAIgB,EAAKvP,MAA1BK,EAJK,EAILA,KAAM65B,EAJD,EAICA,WACN95B,EAA6B85B,EAA7B95B,WAAYwO,EAAiBsrB,EAAjBtrB,MAAOE,EAAUorB,EAAVprB,MACrB2sB,EAAernB,KAAK4C,MAAM5C,KAAKC,UAAU9E,EAAMnP,KAE/Cs7B,EAAiB,GAErBr7B,EAAKE,SAAQ,SAAAC,GACT,GAAIA,EAAGiM,eAAe,MAAO,CACQjM,EAAzB0G,MAAyB1G,EAAlB+5B,KADW,IACFoB,EADC,aACQn7B,EADR,kBAEzBk7B,EAAeh7B,KAAKi7B,OAIxBC,EAAc,GAAIlR,EAAU,GAEhCgR,EAAen7B,SAAQ,SAAAC,GACnBi7B,EAAal7B,SAAQ,SAAA0J,GACbzJ,EAAGI,KAAOqJ,EAAKrJ,KACfyL,OAAO8F,KAAK3R,GAAID,SAAQ,SAAAuI,GAChBtI,EAAGsI,KAASmB,EAAKnB,KACZ4hB,EAAQ9pB,KAAI8pB,EAAO,2BAAQA,GAAR,IAAiB9pB,GAAIJ,EAAGI,MAChDyL,OAAOC,OAAOoe,EAAdre,OAAA,IAAAA,CAAA,GAA0BvD,EAAMtI,EAAGsI,SAGvCuD,OAAO8F,KAAKuY,GAASpjB,OAAS,GAAGs0B,EAAYl7B,KAAKgqB,GACtDA,EAAU,UAMR,KACV8E,EAASxjB,IAAM6vB,WAAWjtB,GAE9B8sB,EAAiB1vB,IAAMmc,eAAeyT,GAtC3B,SAwCLnwB,KAAMoJ,IAAI,oBAAqB,CAAE5F,aAAcysB,EAAgB5sB,QAAOlN,QAL9D,KAKuE4tB,WAChF3jB,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI,eACtB+c,OAAM,SAAAC,GAAG,OAAIjd,QAAQC,IAAIgd,MA1CnB,OA4CXyc,EAAiB,GACjBE,EAAc,GACdlR,EAAU,GACV,EAAKrC,QAEL,EAAKxC,SAAS,CAAEzlB,WAAY,GAAI85B,gBAAY9kB,IAjDjC,4C,EAoDf0iB,mBAAqB,WACjB,IAAI5B,EAAkB,eAAQ,EAAKl2B,MAAMk2B,oBACzCA,EAAmBjS,MAAO,EAE1B,EAAK4B,SAAS,CAAEqQ,wB,EAGpBvN,aAAe,kBAAM,EAAK9C,SAAS,CAAEiK,eAAgB,EAAK9vB,MAAM8vB,iB,EAChEzH,MAAQ,kBAAM,EAAKxC,SAAS,CAAED,cAAe,EAAK5lB,MAAM4lB,gB,kEA1OpD,IAAIpL,EAAU,GACd7L,GAAkBpO,SAAQ,SAAA2P,GAASsK,EAAQ9Z,KAAKwP,EAAI/F,UACpDqF,KAAKqW,SAAS,CAAErL,c,yCAIDshB,GAEX,IAAEvsB,EAAUC,KAAKtJ,MAAfqJ,MACA5N,EAAa4N,EAAb5N,SADF,EAEuB6N,KAAKxP,MAA1Bk6B,EAFF,EAEEA,WAAY75B,EAFd,EAEcA,KAElB,IAAK65B,IAAe75B,EAAM,OAAO,KANP,IAQlBD,EAAe85B,EAAf95B,WACR,GAAIgU,KAAKC,UAAUynB,EAAUvsB,MAAMnP,MAAiBgU,KAAKC,UAAU9E,EAAMnP,IAAc,CACnF,IAAMC,EAAOmP,KAAKkrB,WAAW/4B,EAAUu4B,EAAY3qB,EAAMnP,IACzDoP,KAAKqW,SAAS,CAAExlB,Y,+BA2Nd,IAAD,EAEuHmP,KAAKxP,MAAzHwa,EAFH,EAEGA,QAASpa,EAFZ,EAEYA,WAAYC,EAFxB,EAEwBA,KAAM65B,EAF9B,EAE8BA,WAAYpK,EAF1C,EAE0CA,cAAe3D,EAFzD,EAEyDA,MAAOC,EAFhE,EAEgEA,OAAQxG,EAFxE,EAEwEA,aAAcD,EAFtF,EAEsFA,SAAUuQ,EAFhG,EAEgGA,mBACrG,OACI,kBAAC,WAAD,KACI,kBAAC+D,GAAD,CACI9qB,YAAaqL,EACbpa,WAAYA,EACZC,KAAMA,EACN65B,WAAYA,EACZC,iBAAkB3qB,KAAK2qB,iBACvBE,WAAY7qB,KAAK6qB,WACjBD,aAAc5qB,KAAK4qB,aACnBvY,aAAcrS,KAAKqS,aACnBiO,cAAetgB,KAAKmZ,aACpB2R,cAAe9qB,KAAK8qB,gBAEvBxK,GAAiB,kBAAC7D,GAAD,CACdhI,KAAM6L,EACN5U,MAAO1L,KAAKmZ,aACZnjB,MAAO00B,EAAW/vB,MAClB+hB,cAAc,yEACdC,MAAOA,EACPC,OAAQA,EACRC,YAAa7c,KAAK6c,YAClBvU,YAAatI,KAAKsI,YAClByU,cAAe/c,KAAK+c,gBAEvB2J,EAAmBjS,MAAQ,kBAACgM,GAAD,iBAAmBiG,EAAnB,CAAuChb,MAAO1L,KAAKsoB,mBAAoBjT,QAASrV,KAAKgsB,cAEjH,kBAAC,GAAD,CAAYvX,KAAM2B,EAAc1K,MAAO1L,KAAK6Y,MAAOlE,IAAKwB,S,GAtR5CyD,kB,yCC+Ef2S,GAAe,CACxB,CACIntB,MAAO,QACPpJ,MAAO,SAEX,CACIoJ,MAAO,mBACPpJ,MAAO,wBAEX,CACIoJ,MAAO,UACPpJ,MAAO,kBAEX,CACIoJ,MAAO,aACPpJ,MAAO,cAEX,CACIoJ,MAAO,UACPpJ,MAAO,2BAEX,CACIoJ,MAAO,aACPpJ,MAAO,oBACPw2B,OAAQ,SAAAC,GAAO,OAAI7X,GAAW6X,EAAQ1uB,cAE1C,CACIqB,MAAO,iBACPpJ,MAAO,0BACP02B,WAAW,IAINC,GAAe,CACxB,CACIvtB,MAAO,UACPpJ,MAAO,2BAEX,CACIoJ,MAAO,aACPpJ,MAAO,cAEX,CACIoJ,MAAO,UACPpJ,MAAO,YAEX,CACIoJ,MAAO,YACPpJ,MAAO,4BAEX,CACIoJ,MAAO,aACPpJ,MAAO,aACP02B,WAAW,EACXF,OAAQ,SAAAC,GAAO,OAAI7X,GAAW6X,EAAQ1uB,eAIjC6uB,GAAS,CApJU,CAC5B,CACIxtB,MAAO,cACPpJ,MAAO,mBAEX,CACIoJ,MAAO,oBACPpJ,MAAO,kBAEX,CACIoJ,MAAO,qBACPpJ,MAAO,qBACP02B,WAAW,EACXF,OAAQ,SAAAC,GAAO,OAAI7X,GAAW6X,EAAQxH,sBAE1C,CACI7lB,MAAO,SACPpJ,MAAO,gBAEX,CACIoJ,MAAO,WACPpJ,MAAO,YAEX,CACIoJ,MAAO,QACPpJ,MAAO,sBA2H0BwV,OAAO,CA5GrB,CACvB,CACIpM,MAAO,YACPpJ,MAAO,QAEX,CACIoJ,MAAO,WACPpJ,MAAO,OAEX,CACIoJ,MAAO,cACPpJ,MAAO,qBAEX,CACIoJ,MAAO,aACPpJ,MAAO,UAGX,CACIoJ,MAAO,WACPpJ,MAAO,YAGX,CACIoJ,MAAO,QACPpJ,MAAO,uCACP02B,WAAW,MAkF4ClhB,OAAO,CA7EvC,CAC3B,CACIpM,MAAO,iBACPpJ,MAAO,QAEX,CACIoJ,MAAO,gBACPpJ,MAAO,OAEX,CACIoJ,MAAO,kBACPpJ,MAAO,UAEX,CACIoJ,MAAO,gBACPpJ,MAAO,eA8D0EwV,OAAO,CAAC+gB,KAAe/gB,OAAO,CAACmhB,KC/IzG,eAA8E,IAAlE1yB,EAAiE,EAAjEA,IAAKrJ,EAA4D,EAA5DA,WAAY2xB,EAAgD,EAAhDA,YAAasK,EAAmC,EAAnCA,UAAWC,EAAwB,EAAxBA,gBAAiBC,EAAO,EAAPA,IAE3E37B,EAAK,CAAC,gBAAiB,UAAW,eAAgB,YAAa,WAAW6I,GAC5EgN,EAAU,CAAC,WAAY,YAAU,eAAgB,cAAY,WAKjE,OAHKzP,MAAMC,QAAQ7G,KAAaA,EAAa,IAC7CA,EAAaA,EAAWS,KAAI,SAAA+S,GAAG,sBAAUA,MAGrC,yBAAKpM,MAAO,CAAE8Q,OAAQ,UAAY9P,UAAU,WACxC,kBAAC,KAAD,CACIhD,MAAK,6BAAwBiR,EAAQhN,IACrCulB,QAASoN,GAAO3yB,GAChBpJ,KAAMD,EACNoH,MAAO,CAAEwB,WAAY,WAAYC,SAAU,QAC3CuR,QAAS,CACL0hB,WAAW,EACXM,cAAc,EACdC,eAAgBhmB,EAAQhN,GACxBizB,UAAW,SAAC1N,EAAS3uB,IAMG,SAACs8B,EAASjgB,GAC1B,IACMkgB,EAAK,CAAEC,OAAQ,CAAE,KADZC,SAAWC,cAAcJ,IACCK,WAAY,CAAC,SAC5CC,EAAcH,SAAWF,EAAI,CAAEM,SAAU,OAAQh9B,KAAM,UACvDG,EAAO,IAAIqe,KAAK,CAACue,GAAc,CAAE/8B,KAR5B,oFASXi9B,UAAiB98B,EAAMqc,EARP,SAUpB0gB,CAAY/8B,EATGoW,EAAQhN,KAW3B4zB,oBAAqB,EACrBC,iBAAkB,CAAEv6B,MAAO,OAAQkG,SAAU,QAC7Cs0B,YAAa,CAAEz6B,gBAAiB,WAChC06B,qBAAqB,EACrBC,SAAU,IAGdC,aAAc,CACV/T,OAAQ,CAAEgU,QAAS,gBACnB9e,KAAM,CACF+e,uBAAwB,8BACxBC,QAAS,CAAEC,WAAY,iDACvBC,cAAe,SACfC,UAAW,CAAEC,cAAe,YAEhCC,QAAS,CACLC,cAAe,WACfC,kBAAmB,WACnBC,WAAY,+BACZC,gBAAiB,WACjBC,YAAa,YAEjBC,WAAY,CAERC,gBAAiB,2BACjBC,mBAAoB,yBACpBC,aAAc,qBACdC,gBAAiB,qBACjBC,YAAa,uBACbC,YAAa,wBAIrBnB,QAAS,CACL,CACIle,KAAM,OACNsf,UAAW,CAAEh8B,MAAO,WACpBi8B,QAAS,yBACT31B,QAAS,SAACytB,EAAOmF,GAAR,OAAoBlK,EAAY+E,EAAOmF,KAEpD,CACIxc,KAAM,oBACNsf,UAAW,CAAEh8B,MAAO,aACpBi8B,QAAS,eACT31B,QAAS,SAACytB,EAAOmF,GAAR,OAAoBI,EAAUJ,EAAQr7B,MAEnD,CACI6e,KAAM,iBACNsf,UAAW,CAAEh8B,MAAO,UACpBi8B,QAAS,qBACTC,OAAgB,IAARx1B,EACRJ,QAAS,SAACytB,EAAOmF,GAAR,OAAoBK,EAAgBL,MAGrDiD,SAAU,CACNC,YAAY,WAAD,4BAAE,WAAMC,GAAN,SAAA/zB,EAAA,sEAAuBkxB,EAAI6C,GAA3B,mFAAF,mDAAC,QChGnBvtB,GAAc,CAAC,CACxB,CACIjD,MAAO,UACPzE,MAAO,iBACPrF,MAAO,QACPX,KAAM,QAEV,CACIjE,KAAM,OACN0O,MAAO,qBACPzE,MAAO,uBACPrF,MAAO,OACPX,KAAM,SAIDk7B,GAAkB,CAC3B,CACI,CACIzwB,MAAO,QACPzE,MAAO,QACPrF,MAAO,OACPX,KAAM,OAEV,CACIyK,MAAO,UACPzE,MAAO,UACPrF,MAAO,OACPX,KAAM,QAEV,CACIyK,MAAO,YACPzE,MAAO,YACPrF,MAAO,OACPX,KAAM,OAEV,CACIyK,MAAO,iBACPzE,MAAO,kBACPrF,MAAO,QAEX,CACI8J,MAAO,UACPzE,MAAO,sBACPrF,MAAO,OACPX,KAAM,SAId,CACI,CACIyK,MAAO,cACPzE,MAAO,kBACPrF,MAAO,OACPX,KAAM,QAEV,CACIyK,MAAO,eACPzE,MAAO,mBACPrF,MAAO,OACPX,KAAM,QAEV,CACIyK,MAAO,YACPzE,MAAO,iBAEX,CACIyE,MAAO,kBACPzE,MAAO,+BAEX,CACIyE,MAAO,kBACPzE,MAAO,gCAGf,CACI,CACIyE,MAAO,kBACPzE,MAAO,sBACPrF,MAAO,OACPX,KAAM,QAEV,CACIyK,MAAO,mBACPzE,MAAO,uBACPrF,MAAO,OACPX,KAAM,QAEV,CACIyK,MAAO,gBACPzE,MAAO,qBAEX,CACIyE,MAAO,QACPzE,MAAO,QACPrF,MAAO,OACPX,KAAM,UAIL/C,GAAS,CAAC,CACnB,CACIwN,MAAO,aACPzE,MAAO,aACPrF,MAAO,OACPX,KAAM,UAEV,CACIyK,MAAO,UACPzE,MAAO,aACPrF,MAAO,OACPX,KAAM,QAEV,CACIjE,KAAM,OACN0O,MAAO,cACPzE,MAAO,qBACPrF,MAAO,OACPX,KAAM,OAEV,CACIjE,KAAM,OACN0O,MAAO,aACPzE,MAAO,aACPrF,MAAO,OACPX,KAAM,SAGDm7B,GAAU,CAAC,CACpB,CACI1wB,MAAO,QACPzE,MAAO,cACPrF,MAAO,OACPX,KAAM,OAEV,CACIyK,MAAO,MACPzE,MAAO,mBACPrF,MAAO,OACPX,KAAM,OAEV,CACIyK,MAAO,gBACPzE,MAAO,sBACPrF,MAAO,OACPX,KAAM,OAEV,CACIyK,MAAO,eACPzE,MAAO,qBACPrF,MAAO,OACPX,KAAM,OAEV,CACIyK,MAAO,MACPzE,MAAO,mBACPrF,MAAO,OACPX,KAAM,OAEV,CACIyK,MAAO,kBACPzE,MAAO,iBACPrF,MAAO,OACPX,KAAM,SAKDo7B,GAAoB,CAAC,CAC9B,CACIr/B,KAAM,OACN0O,MAAO,eACPzE,MAAO,mBACPrF,MAAO,OACPX,KAAM,OAEV,CACIyK,MAAO,gBACPzE,MAAO,0BACPrF,MAAO,OACPX,KAAM,OAEV,CACIyK,MAAO,aACPzE,MAAO,mBACPrF,MAAO,OACPX,KAAM,OAEV,CACIyK,MAAO,iBACPzE,MAAO,gBACPrF,MAAO,UAIFye,GAAQ,CAAC,CAClB,CACI3U,MAAO,gBACPzE,MAAO,sCACPrF,MAAO,QACPX,KAAM,QAEV,CACIyK,MAAO,cACPzE,MAAO,oBACPrF,MAAO,U,8BCnMTxC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAEnCiW,UAAW,CACPlU,aAAc,OACd0E,SAAU,SACV2P,UAAW,OACXL,UAAW,cAKJ,SAASinB,KAAkB,IAAD,EAEP/4B,mBAAS,IAFF,mBAE9B6K,EAF8B,KAErBmuB,EAFqB,KAKrC14B,qBAAU,WAAM,4CACZ,4BAAAsE,EAAA,6DACUhL,EAAO+T,KAAK4C,MAAMzQ,aAAaC,QAAQ,YACjCE,SAASgP,iBAAiB,oBAChCnV,SAAQ,SAAA46B,GAAC,OAAIA,EAAE3zB,MAAM7C,QAAU,UAHzC,SAIU86B,EAAWp/B,GAJrB,OAKIioB,YAAW,WACHjoB,GAAMyW,OAAO4oB,UAClB,KAPP,4CADY,uBAAC,WAAD,wBAUZC,GACAp5B,aAAai1B,WAAW,aACzB,IAEG,IACA/iB,EADUnW,KACVmW,UAEFmnB,EAAQP,GACRQ,EAAShuB,GACToc,EAAM7sB,GACN0+B,EAAOR,GACPpd,EAAOqd,GACP3F,EAAMrW,GACNxT,EAAS,GAITuB,GAFc,CAACsuB,EAAOC,EAAQ5R,EAAK6R,EAAM5d,EAAM0X,GAGrCr5B,SAAQ,SAAAuT,GACdzH,OAAO0Q,QAAQzL,GAAS/Q,SAAQ,YAAmB,IAAD,mBAAhBuI,EAAgB,KAAXc,EAAW,KAC9CkK,EAAKvT,SAAQ,SAACw/B,EAAMr3B,GAChBq3B,EAAKx/B,SAAQ,SAACqT,EAAK0B,GACX1B,EAAIhF,QAAU9F,IACdiH,EAAS1D,OAAOC,OAAOsH,EAAK,CAAEhK,UAC9BkK,EAAKpL,GAAG4M,GAAKvF,EACbA,EAAS,gBAMjC,IAUMiwB,EAAe,CACjB,CAAEx6B,MAAO,iBAAesO,KAAM+rB,GAC9B,CAAEr6B,MAAO,mCAA8BsO,KAAM8rB,GAC7C,CAAEp6B,MAAO,SAAUsO,KAAMma,GACzB,CAAEzoB,MAAO,UAAWsO,KAAMgsB,GAC1B,CAAEt6B,MAAO,2BAAsBsO,KAAMoO,GACrC,CAAE1c,MAAO,2BAAsBsO,KAAM8lB,IAEzC,IAAKtoB,EAAS,CACV,IAAMP,EAAM+F,OAAOzQ,SAAS45B,OAE5B,OADAnpB,OAAOzQ,SAAS8F,QAAQ4E,GACjB,KAEX,OACI,kBAAC,WAAD,KACI,yBAAKnQ,GAAG,UAAU4H,UAAU,MACxB,yBAAKA,UAAU,UACX,yBAAKgG,IAAI,+BAA+BE,OAAO,OAAO5J,MAAM,OAAO2J,IAAI,YAE1EuxB,EAAan/B,KAAI,WAAkBogB,GAAlB,IAAGzb,EAAH,EAAGA,MAAOsO,EAAV,EAAUA,KAAV,OACd,yBAAKtL,UAAqB,mBAAVhD,EAA0B,MAAQ,WAAYsD,IAAKmY,GACpD,mBAAVzb,GAA2B,0BAAMgD,UAAU,YAAYhD,GACvDsO,EAAKjT,KAAI,SAACk/B,EAAMr3B,GAAP,OACN,yBAAKI,IAAKJ,EAAGF,UAAqB,mBAAVhD,EAA0B,UAAY,eAAgBgC,MAAO,CAAE/C,UAAiB,IAANiE,GAAW,SACxGq3B,EAAKl/B,KAAI,SAACL,EAAI8U,GAAL,OACN,kBAACmE,GAAA,EAAD,CACIG,UAAQ,EACR9Q,IAAKwM,EACLzG,KAAMrO,EAAGoO,MACTzE,MAAO3J,EAAG2J,MACV3B,UAAWiQ,EACXyB,aAAwB,mBAAb1Z,EAAGoO,OAA4C,gBAAbpO,EAAGoO,OAA2BpO,EAAGoJ,OAASpJ,EAAGoJ,MAAMtC,OAAS,IACzG6S,KACI3Z,EAAGoJ,OAASpJ,EAAGoJ,MAAMtC,OAAS,GAAK,IAC/B9G,EAAGoJ,OAASpJ,EAAGoJ,MAAMtC,OAAS,IAAM,IAAM,IAElDe,QAAsB,mBAAb7H,EAAGoO,OAA4C,gBAAbpO,EAAGoO,OAA2BpO,EAAGoJ,OAASpJ,EAAGoJ,MAAMtC,OAAS,GAAM,WAAa,WAC1HsC,MACgB,SAAZpJ,EAAGN,KAAkB8V,KAAOxV,EAAGoJ,OAAO6W,OAAO,cAC5B,kBAAbjgB,EAAGoO,MAA4BoH,OAASyK,OAAO,cAC3CjgB,EAAGoJ,OAAS,GAExBmQ,WAAY,CACRvR,WArDrBoG,EAqD2CpO,EAAGoO,MApD/C,mBAAVA,GAAwC,mBAAVA,OAA4B,EAClD,eAoDwBpH,MAAO,CACH1C,MAAOtE,EAAGsE,OAAS,OACnBmE,SAAU,QACVhG,QAAS,QACTqV,OAAQ,IACR5V,KAAM,IACNK,MAAO,SAGfm9B,WAAY,CAAE14B,MAAO,CAAEvE,QAAsB,mBAAbzC,EAAGoO,OAA4C,gBAAbpO,EAAGoO,OAA2BpO,EAAGoJ,OAASpJ,EAAGoJ,MAAMtC,OAAS,GAAM,MAAQ,KAC5IuS,gBAAiB,CACbC,QAAQ,EACRtS,MAAO,CACHyB,SAAU,OACVsP,UAAW,oBACXpU,KAAM3D,EAAG2D,MAAQ,IACjBpB,MAAO,WAtEhC,IAAA6L,aA+EP,yBAAKpG,UAAU,oBACX,yBAAKgG,IAAI,+BAA+BE,OAAO,OAAO5J,MAAM,OAAO2J,IAAI,yBACvE,6BAFJ,2CAG4C,0BAAMjG,UAAU,OAAOa,QAAS,kBA9EvE,WACD3C,SAASgP,iBAAiB,oBAChCnV,SAAQ,SAAA46B,GAAC,OAAIA,EAAE3zB,MAAM7C,QAAU,UACrC,IAAMoM,EAAM+F,OAAOzQ,SAAS45B,OAC5BnpB,OAAOzQ,SAAS0C,KAAOgI,EA0EmEovB,KAAtC,mCAGhD,6BAEA,4BAAQ36B,MAAM,wBAAwBgD,UAAU,sBAAsBa,QAAS,kBAAMyN,OAAO4oB,UACxF,kBAAC,KAAD,CAAkBl4B,MAAO,CACrB2T,OAAQ,UACRpY,MAAO,qBACPkG,SAAU,YC9J9B,IAYem3B,GAZQ,SAACC,GAEpB,OAAIA,EAAQ,MAAQA,EAAQ,QACjBC,KAAKC,MAAMF,EAAQ,MAAQ,MAE3BA,GAAS,SAAWA,EAAS,YAC3BA,EAAQ,KAAQ,MAAM1b,QAAQ,GAAK,MAErC0b,EAAQ,UCEjBG,GAAS,CACX/8B,aAAc,EACdkB,QAAS,OACT87B,KAAM,wBACN37B,MAAO,MACPwT,OAAQ,OACRrV,QAAS,aACTy9B,aAAc,QAsGHC,GAnGG,SAAC,GAAyE,IAAvE/rB,EAAsE,EAAtEA,gBAAiBsG,EAAqD,EAArDA,MAAO0lB,EAA8C,EAA9CA,OAAQzvB,EAAsC,EAAtCA,SAAUsD,EAA4B,EAA5BA,SAAU9C,EAAkB,EAAlBA,YAEjEa,EAAQ,GACRpS,EAAa,cAAeygC,EAAU,YAAO7V,IAEjD,OAAQ4V,GACJ,IAAK,YACDxgC,EAAa,eACbygC,EAAU,YAAOzjB,KACD/b,MAAK,SAAAqT,GAAC,MAAe,qBAAXA,EAAE7F,SAA8BgyB,EAAWngC,KAAK,CAAE8E,MAAO,gCAA8BqJ,KAAM,qBAClHgyB,EAAWx/B,MAAK,SAAAqT,GAAC,MAAe,gBAAXA,EAAE7F,SAAyBgyB,EAAWngC,KAAK,CAAE8E,MAAO,sBAAuBqJ,KAAM,gBACtGgyB,EAAWx/B,MAAK,SAAAqT,GAAC,MAAe,eAAXA,EAAE7F,SAAwBgyB,EAAWngC,KAAK,CAAE8E,MAAO,uBAAqBqJ,KAAM,eACnGgyB,EAAWx/B,MAAK,SAAAqT,GAAC,MAAe,aAAXA,EAAE7F,SAAsBgyB,EAAWngC,KAAK,CAAE8E,MAAO,iCAA+BqJ,KAAM,aAKpH4F,IACAG,EAAkBA,EAAgBzN,QAAO,SAAAuN,GAAC,OAAgC,IAA5BD,EAAS/B,QAAQgC,EAAE9T,QAEjEgU,GAAmBA,EAAgB,IACnCA,EAAgBrU,SAAQ,SAAAqT,GACpBitB,EAAWtgC,SAAQ,SAAAugC,GACXltB,EAAI9F,UAAYgzB,EAAEjyB,OAAS+E,EAAI9F,SAAS+E,WACxCL,EAAM9R,KAAN,2BAAgBkT,GAAhB,IAAqBzJ,MAAO22B,EAAEt7B,eAwB9C,OAAIgN,EAAM,GAEF,yBAAKhK,UAAWiM,EAAW,GAAK,eAC5B,4BACI,yBAAKhG,IAAI,GAAGD,IAAI,0BAA0BhH,MAAO,CAAEmY,YAAa,OAAQhH,YAAa,UADzF,aAIA,wBAAInR,MAAO,CAAE/D,aAAc,SAC3B,yBAAK+D,MAAOg5B,IACR,6BACI,yBAAK/xB,IAAI,GAAGD,IAAI,6BAA6BE,OAAO,SAbzD,CAAC,UAAW,iBAAkB,WAerB7N,KAAI,SAAC2E,EAAOkD,GAAR,OACR,yBAAKI,IAAKJ,GACN,0BAAMlB,MAAO,CAAEyB,SAAU,QAASE,WAAY,MAAQ3D,QAKlE,wBAAIgC,MAAO,CAAE8Q,OAAQ,gBAEjB9F,EAAM3R,KAAI,SAAC+R,EAAMrR,GAAP,OACN,yBAAKuH,IAAKvH,GACN,yBAAKiG,MAAOg5B,IACR,yBAAKh4B,UAAU,UACX,yBAAKiG,IAAI,GAAGD,IAAI,6BAEpB,yBAAKhG,UAAU,WACX,0BACIhB,MAAO,CAAEoJ,eAAgB,YAAauK,OAAQ,UAAWpY,MAAO,QAChEsG,QAAS,kBAAM03B,GAASnuB,EAAKhS,GAAIgS,EAAKkK,SAAU1c,EAAYwS,EAAK9E,SAAS+E,aACzED,EAAKzI,MAlDtB,SAAAyI,GAAS,IACjB9E,EAAa8E,EAAb9E,SAER,OAAQA,EAAS+E,WACb,IAAK,aACD,OAAIlB,EACO,MAAQA,EAEZ,MADKR,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEO,gBAAkBnQ,OAAOgM,EAASyJ,cAChD5F,YACvB,IAAK,aACD,OAAI7D,EAAS9M,QAAgB,cAAa8M,EAAS9M,QACvC,IAChB,QACI,MAAO,IAqC+BggC,CAAYpuB,KAIlC,yBAAKpK,UAAU,UACV4b,GAAWxR,EAAKM,YAAY,IAEjC,yBAAK1K,UAAU,UACV43B,GAAextB,EAAKtL,cAKzC,kBAAC2T,GAAD,CAAkBC,MAAOA,KAIzB,MCnGVuF,GAAS,CACXzc,IAAK,KACLG,KAAM,MACND,MAAO,OAGL+8B,G,kDAEF,aAAe,IAAD,8BACV,gBAUJjhC,MAAQ,CACJyJ,IAAK,EACLD,MAAO,CAAC,WAAY,YAAU,eAAgB,cAAY,WAC1D03B,SAAU,CAAC,iBAAkB,WAAY,gBAAiB,aAAc,MACxEC,SAAU,CAAC,cAAe,SAAU,aAAc,UAAW,UAC7D3mB,QAAS,CAAC,WAAY,SAAU,eAAgB,WAAY,WAC5D4mB,aAAc,CAAC,UAAW,WAAS,aAAc,QAAS,cAC1DC,cAAe,CAAC,cAAe,YAAa,iBAAkB,QAAS,WACvElwB,SAAU,GACVhQ,QAAS,GACTwQ,YAAa,GACbogB,aAAa,EACbsK,WAAW,EACXhD,YAAY,EACZzkB,gBAAiB,GACjB0sB,eAAgB,GAChBlwB,YAAa,GACbkrB,iBAAiB,GA5BP,EAqCd5yB,UArCc,uCAqCF,WAAOgI,EAAG9H,GAAV,SAAAyB,EAAA,sEACF,EAAKwa,SAAS,CAAEpc,IAAKG,IADnB,4EArCE,0DA0CdmoB,YA1Cc,uCA0CA,WAAOrgB,EAAG4vB,GAAV,2BAAAj2B,EAAA,yDAEJkE,EAAU,EAAKrJ,MAAfqJ,MAFI,EAGuB,EAAKvP,MAAhCwa,EAHI,EAGJA,QAAS/Q,EAHL,EAGKA,IAAKy3B,EAHV,EAGUA,SAChBK,EAAcL,EAASrgC,KAAI,SAAA2gC,GAAE,OAAIx1B,IAAMI,SAASo1B,MAIhDF,IAAgBG,EAAiBlyB,EAAMiL,EAAQ/Q,IAAMpI,MAAK,SAAAqQ,GAAC,OAAIA,EAAE6vB,EAAY93B,MAAU63B,EAAeC,EAAY93B,aAE/F2L,IAAnBksB,IAAgCG,EAV1B,gCAWA,EAAK5b,SAAS,CAAEkM,aAAc,EAAK/xB,MAAM+xB,YAAauP,eAAgBG,IAXtE,6BAcL,EAAK5b,SAAS,CAAEkM,aAAc,EAAK/xB,MAAM+xB,YAAauP,oBAAgBlsB,IAdjE,2CA1CA,0DA2DdssB,WAAa,WACT,EAAK7b,SAAS,CAAEwW,WAAY,EAAKr8B,MAAMq8B,aA5D7B,EA+DdA,UAAY,SAAAz7B,GAEJ,IAAE6I,EAAQ,EAAKzJ,MAAbyJ,IAAF,EACiD,EAAKvD,MAAMqJ,MAA1D5N,EADF,EACEA,SAAU8qB,EADZ,EACYA,OAAQI,EADpB,EACoBA,YAAazb,EADjC,EACiCA,YAEjCuwB,EAAgB9U,EAAY1lB,QAAO,SAAAuN,GAAC,aAAIA,EAAE5G,SAASyJ,YAAc3W,EAAGG,aAAuC,KAAzB,UAAA2T,EAAE5G,gBAAF,eAAYoG,aAC9F0sB,EAAS,YAEb,OAAQn3B,GACJ,KAAK,EACDk4B,EAAgB9U,EAAY1lB,QAAO,SAAAuN,GAAC,OAAIA,EAAE5G,SAASyJ,YAAc3W,KACjE,IAAMghC,EAAQnV,EAAOprB,MAAK,SAAAP,GAAC,OAAIA,EAAE+gC,UAAYjhC,KAC7C,GAAIghC,EAAO,CACP,IAAIE,EAAc,GAClBH,EAAgB9U,EACX1lB,QAAO,SAAAuN,GAAC,OAAIA,EAAE5G,SAASyJ,YAAcqqB,EAAM3vB,iBAC3C1R,SAAQ,SAAAmU,GACDA,EAAE5G,SAAS2e,QAAU/X,EAAE5G,SAAS2e,OAAOrd,SAASxO,IAChDkhC,EAAYphC,KAAKgU,MAE7BitB,EAAgBG,EAEpB,MAEJ,KAAK,EACDlB,EAAS,eACT,IAAImB,EAAgB,GAEpBlV,EAAYtsB,SAAQ,SAAAmU,GAAM,IAAD,EACwB,EAAd,gBAA1B,OAADA,QAAC,IAADA,GAAA,UAAAA,EAAG5G,gBAAH,eAAa+E,cACb,OAAI6B,QAAJ,IAAIA,GAAJ,UAAIA,EAAG5G,gBAAP,aAAI,EAAak0B,eACbttB,EAAE5G,SAASk0B,aAAazhC,SAAQ,SAAA0hC,GACxBA,IAAWrhC,GAAImhC,EAAcrhC,KAAKgU,UAItDitB,EAAgBI,EAChB,MACJ,KAAK,EACDnB,EAAS,YACTe,EAAgBvwB,EAAYjK,QAAO,SAAAuN,GAAC,OAAIA,EAAE5G,SAASL,YAAc7M,KACjE,IAAM0Q,EAAU3P,EAASN,MAAK,SAAAP,GAAC,OAAIA,EAAE2M,YAAc7M,KACnD,GAAI0Q,EAAS,CACT,IAAMlQ,EAASyrB,EAAYxrB,MAAK,SAAAqT,GAAC,eAAK,OAADA,QAAC,IAADA,GAAA,UAAAA,EAAG5G,gBAAH,eAAa9M,YAAb,OAAyBsQ,QAAzB,IAAyBA,GAAzB,UAAyBA,EAAStQ,eAAlC,aAAyB,EAAkBD,eAC5EK,GAAQugC,EAAcjhC,KAAKU,GAEnC,MACJ,KAAK,EACDugC,EAAgB9U,EAAY1lB,QAAO,SAAAuN,GAAC,OAAIA,EAAE5G,SAAS9M,UAAYJ,MAKvE+gC,EAAgBA,EAAcx6B,QAAO,SAAAyL,GAAI,aAAiC,KAAzB,OAAJA,QAAI,IAAJA,GAAA,UAAAA,EAAM9E,gBAAN,eAAgBoG,cAE3C,IACdytB,EAAgBA,EACXpuB,MAAK,SAAClI,EAAG2H,GAAJ,OAAU,IAAIC,KAAK5H,EAAC,YAAkB,IAAI4H,KAAKD,EAAC,eACrDd,UACL,EAAK2T,SAAS,CAAEjR,gBAAiB+sB,EAAetF,WAAW,EAAMuE,SAAQsB,gBAAiBthC,MAG1F,EAAKilB,SAAS,CAAExP,UAAW,gBAAiBD,iBAAiB,EAAMK,QAASmqB,IAC5E,EAAK/a,SAAS,CAAEjR,gBAAiB,OA9H3B,EAkIdutB,cAAgB,SAAA9hC,GAAS,IAAD,EACgB,EAAKL,MAAjCmhC,EADY,EACZA,SAAUD,EADE,EACFA,SAAUz3B,EADR,EACQA,IACxBqF,EAAQqyB,EAAS13B,GACjB7H,EAAUs/B,EAASz3B,GACnB24B,EAASp2B,IAAMI,SAASxK,GAE5B6J,KAAMwJ,OAAN,4BAAkCnG,EAAlC,oBAAmDlN,EAAnD,eAAiEvB,EAAK+hC,KACjEv2B,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI8J,EAAE1L,UAzInB,EA4Idi8B,gBA5Ic,uCA4II,WAAMhrB,GAAN,yBAAAjG,EAAA,yDAGRuc,EAA6CtW,EAA7CsW,SAAUra,EAAmC+D,EAAnC/D,WAAYknB,EAAuBnjB,EAAvBmjB,mBACxB4N,EAAgBrsB,KAAOzI,GAAYilB,WACnC8P,EAAkBtsB,KAAOye,GAAoBjC,WAEhC,UAAb5K,EAPU,gCAQJ,EAAK/B,SAAS,CAAExP,UAAW,kBAAmBD,iBAAiB,IAR3D,4CAWVisB,EAXU,gCAYJ,EAAKxc,SAAS,CAAExP,UAAW,gBAAiBD,iBAAiB,IAZzD,4CAeVksB,EAfU,kCAgBJ,EAAKzc,SAAS,CAAExP,UAAW,kBAAmBD,iBAAiB,IAhB3D,0CAoBRrF,EAAM+F,OAAOzQ,SAAS45B,OAAS,OACrC15B,aAAag8B,QAAQ,UAAWnuB,KAAKC,UAAU/C,IAC/CwF,OAAOmN,KAAKlT,EAAK,YAtBH,4CA5IJ,wDAqKd4X,aAAe,kBAAM,EAAK9C,SAAS,CAAEwT,YAAa,EAAKr5B,MAAMq5B,cArK/C,EAsKdzO,WAAa,kBAAM,EAAK/E,SAAS,CAAEzP,iBAAkB,EAAKpW,MAAMoW,mBAtKlD,EAuKdosB,iBAAmB,kBAAM,EAAK3c,SAAS,CAAEyW,iBAAkB,EAAKt8B,MAAMs8B,mBArKlE,EAAK1T,YAAc,SAAClX,GACE,KAAdA,EAAEmX,UACE,EAAK7oB,MAAM+xB,aAAa,EAAKA,cAC7B,EAAK/xB,MAAMq8B,WAAW,EAAKqF,aAC3B,EAAK1hC,MAAMs8B,iBAAiB,EAAKkG,qBANnC,E,gEAgCV97B,SAASuiB,iBAAiB,UAAWzZ,KAAKoZ,aAAa,K,6CAGlCpZ,KAAKqW,SAAS,M,+BAsI7B,IAQF4b,EARC,EAG6GjyB,KAAKxP,MADjHyJ,EAFD,EAECA,IAAK+Q,EAFN,EAEMA,QAAShR,EAFf,EAEeA,MAAOuoB,EAFtB,EAEsBA,YAAauP,EAFnC,EAEmCA,eAAgBjF,EAFnD,EAEmDA,UAAW6F,EAF9D,EAE8DA,gBAAiBttB,EAF/E,EAE+EA,gBAC5EwB,EAHH,EAGGA,gBAAiBC,EAHpB,EAGoBA,UAAWuqB,EAH/B,EAG+BA,OAAQM,EAHvC,EAGuCA,SAAU5E,EAHjD,EAGiDA,gBAAiBmG,EAHlE,EAGkEA,UAAWrB,EAH7E,EAG6EA,aAAcC,EAH3F,EAG2FA,cAC1F9xB,EAAUC,KAAKtJ,MAAfqJ,MACA4B,EAAa5B,EAAb4B,SACFowB,EAAcL,EAASrgC,KAAI,SAAA2gC,GAAE,OAAIx1B,IAAMI,SAASo1B,MAKpD,OAFIF,GAAkBvP,IAAa0P,EAAiBlyB,EAAMiL,EAAQ/Q,IAAMpI,MAAK,SAAAqQ,GAAC,OAAIA,EAAE6vB,EAAY93B,MAAU63B,EAAeC,EAAY93B,QAE9H,kBAAC,WAAD,KACH,kBAACi5B,EAAD,CAASl5B,MAAOA,EACZC,IAAKA,EACLC,UAAW8F,KAAK9F,YACpB,kBAACi5B,GAAD,CACIl5B,IAAKA,EACLD,MAAOA,EACPpJ,WAAYoP,KAAKtJ,MAAMqJ,MAAMiL,EAAQ/Q,IACrCsoB,YAAaviB,KAAKuiB,YAClBsK,UAAW7sB,KAAK6sB,UAChBE,IAAK/sB,KAAK2yB,cACV7F,gBAAiB9sB,KAAK8sB,kBAEzBvK,GACG,kBAACsC,GAAD,CACInZ,MAAO1L,KAAKuiB,YACZ1xB,KAAMohC,GAAkBH,EACxB73B,IAAKA,EACLjE,MAAO47B,EAAa33B,GACpBkgB,OAAQ0X,EAAc53B,KAI1B6yB,GACA,kBAAC,GAAD,CAAahrB,QAASmxB,IAEzBpG,GACG,kBAAC,GAAD,CACI5yB,IAAKA,EACLuB,UAAWk3B,EACXttB,gBAAiBA,EACjBsG,MAAO1L,KAAKkyB,WACZjhB,OAAQA,GACRmgB,OAAQA,EACRzvB,SAAUA,IAEjBiF,GACG,kBAACwO,GAAD,CACIX,KAAM7N,EAAiB8E,MAAO1L,KAAKob,WAAYvU,UAAWA,EAAW5M,IAAKA,S,GA5N7D2G,aAqOlBtK,eAAQ,KAAM,CAAEuI,qBAAhBvI,CAAoC4K,GAH/B,CAAC,WAAY,WAAY,SAAU,eAAgB,UAAW,cAC9E,uBAAwB,uBAAwB,eAAgB,kBAEKuwB,KC/L1D,IA/CG1+B,aAAW,SAAAC,GAAK,MAAK,CAEnCiW,UAAW,CACPC,WAAYlW,EAAMkB,QAAQ,GAC1BiV,YAAanW,EAAMkB,QAAQ,GAC3BoB,MAAO,IACP8T,UAAW,OACXL,UAAW,UAEf4gB,WAAY,CACRr0B,MAAO,KAEX4uB,MAAO,CACHnb,UAAW,UAGfqqB,QAAS,CACLtqB,OAAQ,QAEZuqB,YAAa,CACTvqB,OAAQ,SACRiH,OAAQ,iBACRC,aAAc,KACd9Q,OAAQ,OACRzL,QAAS,OACTkY,OAAQ,UACR2nB,OAAQ,IACRC,UAAW,gCACX95B,SAAU,UACVlG,MAAO,UACPD,gBAAiB,WAErBkgC,aAAc,CACV1qB,OAAQ,SACRiH,OAAQ,iBACRC,aAAc,KACd9Q,OAAQ,OACRzL,QAAS,YACTkY,OAAQ,UACR2nB,OAAQ,IACRC,UAAW,gCACX95B,SAAU,UACVlG,MAAO,SACPD,gBAAiB,eAIV,YAAuE,IAA3DgV,EAA0D,EAA1DA,YAAaC,EAA6C,EAA7CA,WAAY1X,EAAiC,EAAjCA,KAAMmT,EAA2B,EAA3BA,YAAasB,EAAc,EAAdA,WAC3DoD,EAAqE7X,EAArE6X,WAAY8R,EAAyD3pB,EAAzD2pB,WAAYxN,EAA6Cnc,EAA7Cmc,YAAaymB,EAAgC5iC,EAAhC4iC,eAAgB9tB,EAAgB9U,EAAhB8U,aAE7D,OACI,yBAAK3M,UAAU,cACX,kBAAC,GAAD,CAAckS,SAAUsP,EAAW9R,KACnC,6BACI,kBAACa,GAAD,CACIjF,KAAMogB,GACN7zB,KAAMA,EACN0X,WAAYA,EACZD,YAAaA,IAEjB,yBAAKtP,UAAU,eACX,kBAAC+T,GAAD,CACI1N,KAAK,iBACL6E,SAAUuvB,EACVzmB,YAAaA,EACbhJ,YAAaA,EACbsB,WAAYA,EACZK,aAAcA,EACd3N,MAAO,CAAE1C,MAAO,cC9DlCxC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC2V,KAAM,CACFG,OAAQ9V,EAAMkB,QAAQ,GACtBoB,MAAO,IACPmE,SAAU,SACV2P,UAAW,OACXL,UAAW,UAEf2qB,WAAY,CACRz+B,UAAW,OACXxB,QAAS,eAIF,eACkD,IADtCwpB,EACqC,EADrCA,OAAQtb,EAC6B,EAD7BA,SAAU2G,EACmB,EADnBA,YAAaC,EACM,EADNA,WAAY1X,EACN,EADMA,KAAM8iC,EACZ,EADYA,SAAU9I,EACtB,EADsBA,WAAY+I,EAClC,EADkCA,WAAYC,EAC9C,EAD8CA,YAC1G7vB,EAA4D,EAA5DA,YAAasB,EAA+C,EAA/CA,WAAY+M,EAAmC,EAAnCA,aAAcG,EAAqB,EAArBA,kBAGjC9J,EAAkJ7X,EAAlJ6X,WAAY8R,EAAsI3pB,EAAtI2pB,WAAYkD,EAA0H7sB,EAA1H6sB,eAAgB+V,EAA0G5iC,EAA1G4iC,eAAgBxxB,EAA0FpR,EAA1FoR,gBAAiB+K,EAAyEnc,EAAzEmc,YAAarH,EAA4D9U,EAA5D8U,aAAc7O,EAA8CjG,EAA9CiG,OAAQ6M,EAAsC9S,EAAtC8S,YAAa8O,EAAyB5hB,EAAzB4hB,eAAgBC,EAAS7hB,EAAT6hB,KAC3I/b,EAAU7D,KAAe4gC,EAAqB/8B,EAArB+8B,WAAY/qB,EAAShS,EAATgS,KACrCmrB,EAAqB,CAACtY,GAAa,IAEnCuY,GAAa,EAGjB,OAFIvZ,IAAYuZ,GAAa,GAGzB,oCACI,0BAAM/6B,UAAU,eAER+6B,GACA,kBAAC1rB,GAAD,CACIxX,KAAMA,EACN8Q,SAAUA,EACV2G,YAAaA,EACbC,WAAYA,KAIftG,IAAoB8xB,IACrB,6BAAS/6B,UAAU,qBAEX+6B,EACI,yBAAK/6B,UAAU,aAAahB,MAAO,CAAE8X,WAAY,WAC7C,wBAAI9X,MAAO,CAAEyB,SAAU,SAAvB,2CACA,uBAAGzB,MAAO,CAAEyB,SAAU,OAAQlG,MAAO,SAArC,kGAIJ,kBAAC0X,GAAD,CAAeC,SAAUsP,EAAW9R,KAG5C,yBAAK1P,UAAU,cAAchB,MAAO,CAAEvE,QAAS,SAAU6B,MAAO,SAC5D,kBAACiU,GAAD,CACIjF,KAAMqgB,GACN9zB,KAAMA,EACN0X,WAAYA,EACZD,YAAaA,KAGrB,yBAAKtQ,MAAO,CAAE8Q,OAAQ,mBAAoBxT,MAAO,SAC7C,kBAACmD,EAAA,EAAD,CAAQlF,MAAM,UAAUsF,QAAQ,WAAWH,KAAK,QAAQmB,QAAS85B,GAC7D,kBAAC,KAAD,MADJ,0BAQZ1xB,GAA6C,IAA1Byb,EAAe5lB,QAClC,iCACI,8DACkCmK,EAAgBE,eAKhD,OAAN8a,QAAM,IAANA,OAAA,EAAAA,EAAQnlB,QAAS,GACjB,oCACI,6BAASkB,UAAU,qBACf,qDACCikB,EAAO5rB,KAAI,SAACS,EAAGoH,GAAJ,OACR,yBAAKI,IAAKJ,GACLyrB,GAAWtzB,KAAI,SAAC6Q,EAAG4D,GAAJ,OACZ,kBAAC,WAAD,CAAUxM,IAAKwM,EAAI,KACf,kBAACmE,GAAA,EAAD,CACI7P,MAAOtI,EAAEoQ,EAAE9C,QAAU,GACrBC,KAAM6C,EAAE9C,MACRzE,MAAOuH,EAAEvH,MACT3B,UAAW2P,EACXyB,UAAUtY,EAAEi5B,KACZvwB,SAAUo5B,EACVvpB,gBACI,CACIC,QAAQ,EACRtS,MAAO,CACH2B,WAAY,IACZH,WAAY,kDACZjG,MAAO,SAGnBgX,WAAY,CACRvS,MAAO,CACHyB,SAAU,OACVlG,OAAkB,IAAXzB,EAAEi5B,KAAgB,OACN,QAAbj5B,EAAEgW,OAAmB,QACJ,aAAbhW,EAAEgW,OAAwB,UACT,YAAbhW,EAAEgW,OAAuB,MACrB,OAClB1G,eAA6B,YAAbtP,EAAEgW,QAAyBhW,EAAEi5B,KAAwB,GAAjB,uBAMxE,kBAACtyB,EAAA,EAAD,CAAQG,UAAU,OAAOI,UAAW06B,EAAY19B,MAAM,SAAS6D,QAAS,kBAAMgxB,EAAW3xB,KACrF,kBAAC,KAAD,OAGJ,kBAACT,EAAA,EAAD,CAAQO,UAAW06B,EACfngC,MAAoB,YAAbzB,EAAEgW,OAAuB,UAAY,YAC5C9R,MAAoB,YAAblE,EAAEgW,OAAuB,uBAAsB,UACtDjO,QAAS,kBAAMg6B,EAAY36B,KACb,YAAbpH,EAAEgW,OAAuB,uBAAG9O,UAAU,kBAAb,QAAyC,kBAAC,KAAD,YAM/E+6B,GAAcj9B,EACV,iCACK28B,GACG,kBAACpjB,GAAD,CACIvZ,OAAQA,EACRlG,WAAW,cACX+S,YAAa,CAAC8vB,GACdnvB,KAAMwvB,IAGd,kBAAC7hB,GAAD,CACIK,YAAY,EACZC,mBAAmB,YACnBzb,OAAQA,EACR0b,kBAAmBA,EACnBC,eAAgBA,EAChBC,KAAMA,EACNL,aAAcA,EACd/J,YAAaA,KAIrByrB,EAEI,kCACMj9B,GACE,yBAAKkC,UAAU,eACX,kBAAC+T,GAAD,CACI1N,KAAK,iBACL6E,SAAUuvB,EACVzmB,YAAaA,EACbhJ,YAAaA,EACbL,YAAaA,EACb2B,WAAYA,EACZK,aAAcA,EACd3N,MAAO,CAAE1C,MAAO,UAG5B,yBAAK0C,MAAO,CAAE7C,QAAS,OAAQ/B,eAAgB,aAC3C,kBAACqF,EAAA,EAAD,CACIC,KAAK,QACLnF,MAAM,UACNsF,QAAQ,YACRb,MAAO,CAAE8Q,OAAQ,gBACjBjP,QAAS,kBAAMwY,MALnB,UAOW,2CAPX,IAOsC,kBAAC,KAAD,SAK9C,QC/L1Bvf,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC8C,MAAO,CACHvC,MAAOP,EAAMa,QAAQqa,KAAKgD,UAC1B5b,MAAO,OACP7B,QAAS,cACTyL,OAAQ,YAID,SAASiS,GAAT,GAAwE,IAM/BC,EANtBvgB,EAAoD,EAApDA,KAAM6zB,EAA8C,EAA9CA,aAAcC,EAAgC,EAAhCA,WAAYvW,EAAoB,EAApBA,UAAWpL,EAAS,EAATA,MAEjEia,EAAWpsB,EAAXosB,OAEFnnB,EADQhD,KACRgD,MAEFk+B,EAAiB,GAAI5vB,EAAM,GAAImN,EAAa,GAehD,OAbAmT,EAAa3zB,SAAQ,SAAAmR,GACbrR,EAAKoM,eAAe,CAACiF,EAAE9C,UACvBvC,OAAOC,OAAOsH,EAAdvH,OAAA,IAAAA,CAAA,GAAsBqF,EAAE9C,MAAQvO,EAAKqR,EAAE9C,SACvCmS,EAAWrgB,KAAKgR,OAGxB8xB,EAAe9iC,KAAKkT,GAEpBgN,EAAe,CACX,CAAElG,SAAU,sBAAuB5G,KAAMiN,EAAY1gB,KAAMmjC,GAC3D,CAAE9oB,SAAU,uCAA+B5G,KAAMqgB,EAAY9zB,KAAMosB,IAEvEzqB,QAAQC,IAAI2e,EAAa,GAAG9M,MAExB,oCACI,kBAACkN,GAAA,EAAD,CAAOxY,UAAWlD,GACd,yBAAKkD,UAAU,YAEPoY,EAAa/f,KAAI,WAA2BogB,GAA3B,IAAGvG,EAAH,EAAGA,SAAU5G,EAAb,EAAaA,KAAMzT,EAAnB,EAAmBA,KAAnB,OACb,kBAAC,WAAD,CAAUyI,IAAKmY,GACX,2BAAOzZ,MAAa,IAANyZ,EAAU,CAAEwiB,YAAa,SAAY,IAC/C,+BACI,4BACI,wBAAIj7B,UAAU,UACV8X,QAASxM,EAAKxM,QAASoT,IAE/B,4BACK5G,EAAKjT,KAAI,SAACS,EAAGoH,GAAJ,OAAU,wBAAII,IAAKJ,GAAIpH,EAAE6I,YAG3C,+BACW,IAAN8W,GAAW,4BACP5gB,EAAKQ,KAAI,SAAC+S,EAAK2M,GAAN,OACNlU,OAAO+T,OAAOxM,GAAK/S,KAAI,SAACL,EAAI8U,GAAL,OACnB,wBAAI9M,UAAU,SAASM,IAAKwM,GACvB9U,UAKV,IAANygB,GAAW5gB,EAAKQ,KAAI,SAAC+S,EAAK2M,GAAN,OACjB,4BACKlU,OAAO+T,OAAOxM,GAAK/S,KAAI,SAACL,EAAI8U,GAAL,OACpB,wBAAI9M,UAAU,SAASM,IAAKwM,GACvB9U,iBAYzC,wBAAIgH,MAAO,CAAE8Q,OAAQ,kBAArB,IAAyC,kBAAC,KAAD,CAAsB9Q,MAAO,CAAEkY,cAAe,SAAUzc,QAAS,eAA1G,gBACCuP,GAAS,kBAACqN,GAAD,CAAgB/L,KAAM8J,EAAWpL,MAAOA,MChFnD,SAASkxB,GAAY70B,EAAMjF,GAGtC,OAAIiF,EAAKpO,MAAM,QnD0CZ,SAAoBizB,GAEvB,IAAMiQ,EAAQ,SAAAruB,GAAC,OAAIA,EAAEuT,SACrBniB,SAASuiB,iBAAiB,WAAY0a,GAEtC,IACIC,EACAC,EAAKnQ,EAAM3yB,WAgBf,OAXA6iC,GADAC,GADAA,GADAA,EAAKA,EAAG13B,QAAQ,IAAK,KACbA,QAAQ,IAAK,KACbA,QAAQ,IAAK,KACZ7E,OAAS,EACJ,KAAVq8B,IACY,IAARC,IACAlQ,EAAQmQ,EAAGC,OAAO,EAAG,GAAK,KAClB,IAARF,IACAlQ,EAAQmQ,EAAGC,OAAO,EAAG,GAAK,IAAMD,EAAGC,OAAO,EAAG,GAAK,KAC1C,KAARF,IACAlQ,EAAQmQ,EAAGC,OAAO,EAAG,GAAK,IAAMD,EAAGC,OAAO,EAAG,GAAK,IAAMD,EAAGC,OAAO,EAAG,GAAK,KAClE,KAARF,IACAlQ,EAAQmQ,EAAGC,OAAO,EAAG,GAAK,IAAMD,EAAGC,OAAO,EAAG,GAAK,IAAMD,EAAGC,OAAO,EAAG,GAAK,IAAMD,EAAGC,OAAO,EAAG,GAAK,IAAMD,EAAGC,OAAO,GAAI,KAEvHpQ,EmDhEMqQ,CAAWn6B,GAGpBiF,EAAKpO,MAAM,OnDoBM,SAACizB,GACtB,GAAKA,EASL,OAPIA,EAAQA,EACHvnB,QAAQ,MAAO,IACfA,QAAQ,cAAe,SACvBA,QAAQ,cAAe,SACvBA,QAAQ,mBAAoB,SAC5BA,QAAQ,gBAAiB,MmD3BrB63B,CAAUp6B,GAGnBiF,EAAKpO,MAAM,OnDiEZ,SAAqBkzB,GACxB,GAAKA,EAQL,OAHqB,MAHrBA,EAAQA,EACHxnB,QAAQ,WAAY,IACpBA,QAAQ,UAAW,UACd7E,SAAeqsB,EAAQA,EAAMxnB,QAAQ,cAAe,UACzC,KAAjBwnB,EAAMrsB,SAAeqsB,EAAQA,EAAMxnB,QAAQ,cAAe,UAEvDwnB,EmDzEMsQ,CAAYr6B,GAGrBiF,EAAKpO,MAAM,SnDyEZ,SAAqByjC,GACxB,GAAKA,EAGL,OAFAA,EAASA,EACJ/3B,QAAQ,eAAgB,ImD3EhBg4B,CAAYv6B,GAKbA,E,ICsWA8G,MAFI,CAAC,Y,kDAlWjB,aAAe,IAAD,8BACV,gBAQJ1Q,MAAQ,CACJkY,WAAY,EACZ8R,WAAY,CAAC,+BAAgC,uCACzC,cACJ3H,MAAO,CAAC,mBAAoB,YAAU,cACtC1Q,YAAa,GACbgU,SAAU,sBACVC,cAAc,EACdpT,MAAO,GACP4xB,UAAW,GACX/K,YAAY,EACZgL,YAAa,CAAC,GACdC,WAAY,EACZ7X,OAAQ,GACRjQ,YAAa,wEACb6f,WAAW,GAxBD,EAkCd1a,cAlCc,uCAkCE,WAAM1hB,GAAN,iBAAAoL,EAAA,yDAENya,EAAiB,EAAK9lB,MAAMkY,WACnB,SAAXjY,GAAmB,EAAK4lB,SAAS,CAAE3N,WAAY4N,EAAiB,IACrD,SAAX7lB,GAAmB,EAAK4lB,SAAS,CAAE3N,WAAY4N,EAAiB,IACrD,UAAX7lB,GAAoB,EAAK4lB,SAAS,CAAE3N,WAAY,MAE5CtC,EAAW,EAAK5V,MAAhB4V,UACMA,EAAO,GART,gCASF,EAAKiQ,SAAL,2BAAmB,EAAK7lB,OAAUuV,GAAiB,cATjD,4EAlCF,wDAgDduC,YAAc,SAAApG,GAAM,IAAD,EAEOA,EAAEqU,OAAlBlX,EAFS,EAETA,KACF01B,EAAcb,GAAY70B,EAHf,EAEHjF,OAGZ,EAAKic,SAAL,eAAiBhX,EAAO01B,KArDd,EAwDdpB,SAxDc,sBAwDH,kCAAA93B,EAAA,yDACHohB,EAAS,EAAKzsB,MAAMysB,OACpB+X,EAAU,GACVC,EAAU,EACVH,EAAa,EAEjBnQ,GAAW5zB,SAAQ,SAAAqT,GACe,KAA1B,EAAK5T,MAAM4T,EAAIhF,aAA2CwG,IAA1B,EAAKpV,MAAM4T,EAAIhF,SAC/C61B,GAAW,MAIH,MAAZA,EAZG,uBAaH,EAAK5e,SAAS,CAAExP,UAAW,gBAAiBD,iBAAiB,IAb1D,kBAcI,MAdJ,UAgBH+d,GAAW5zB,SAAQ,SAAAqT,GACfvH,OAAOC,OAAOk4B,EAAdn4B,OAAA,IAAAA,CAAA,GAA0BuH,EAAIhF,MAAQ,EAAK5O,MAAM4T,EAAIhF,YAEzD6d,EAAO/rB,KAAK8jC,GAEZ/X,EAAOlsB,SAAQ,SAAAe,GACXgjC,GAAcxiC,OAAOR,EAAEojC,YAEvBJ,EAAa,KAxBd,iBAyBC7X,EAAOkY,MACP,EAAK9e,SAAS,CAAExP,UAAW,aAAcD,iBAAiB,IA1B3D,yCA6BO,EAAKyP,SAAS,CAAE4G,SAAQ6X,eA7B/B,QA8BCnQ,GAAW5zB,SAAQ,SAAAqT,GACf,EAAKiS,SAAL,eAAiBjS,EAAIhF,MAAQ,QAEjClI,SAAS8f,kBAAkB,aAAa,GAAGC,QAjC5C,4CAxDG,EA+Fd4T,WAAa,SAAA94B,GAET,IAAIqjC,EAAY,EAAK5kC,MAAMysB,QACG,IAA1BmY,EAAUrjC,GAAOg5B,KAAeqK,EAAUrjC,GAAOg5B,MAAO,GAExDqK,EAAUrkC,SAAQ,SAAAe,GAAC,OAAIA,EAAEi5B,MAAO,KAChCqK,EAAUrjC,GAAOg5B,MAAO,GAE5B,EAAK1U,SAAS,CAAE4G,OAAQmY,KAvGd,EA0GdxB,WAAa,SAAA1xB,GACH,IAAE7C,EAAS6C,EAAEqU,OAAXlX,KAAqB4d,EAAW,EAAKzsB,MAAhBysB,OAEvB7iB,EAAU8H,EAAEqU,OAAZnc,MACO,UAATiF,IAAkBjF,EAAQA,EAAMuC,QAAQ,IAAK,MAEjD,IAAIy4B,EAAYnY,EAAOtlB,QAAO,SAAA7F,GAAC,OAAe,IAAXA,EAAEi5B,QAAe,GAC9Ch5B,EAAQkrB,EAAO/Z,QAAQkyB,GAE7BA,EAAU/1B,GAAQjF,EAElB,IAAIi7B,EAAKpY,EACToY,EAAGtjC,GAASqjC,EAEZ,EAAK/e,SAAS,CAAEqH,eAAgB2X,KAxHtB,EA4HdxB,YAAc,SAAA9hC,GACV,IAAIkrB,EAAS,EAAKzsB,MAAMysB,OACxBA,EAAO/qB,OAAOH,EAAO,GACrB,EAAKskB,SAAS,CAAE4G,YA/HN,EAkIdxG,MAlIc,uCAkIN,WAAOpX,EAAMjF,EAAOxJ,EAAY8lB,EAASC,EAAQC,EAAMC,GAAvD,yBAAAhb,EAAA,yDAEEpB,EAAO7J,EAAW+G,QAAO,SAAA3G,GAAE,OAAIA,EAAG2lB,GAAQG,cAAc7lB,MAAMmJ,EAAM0c,kBAC5D,KAAV1c,GAAc,EAAKic,UAAL,mBAAiBhX,EAAO,IAAxB,cAA6BqX,EAAU,IAAvC,KACdjc,EAAK,GAJL,oBAKMsc,EAAStc,EAAK,GAAGkc,GACjBvlB,EAAKqJ,EAAK,GAAGmc,GACL,KAAVxc,EAPJ,gCAQU,EAAKic,UAAL,mBAAiBhX,EAAO0X,GAAxB,cAAiCL,EAAUtlB,GAA3C,IARV,gDAWM,EAAKilB,UAAL,mBAAiBhX,EAAO,IAAxB,cAA6BqX,EAAU,IAAvC,IAXN,QAYA4e,MAAMze,EAAa,sBACnB3f,SAAS8f,kBAAkB3X,GAAM,GAAG4X,QAbpC,4CAlIM,oEAmJd1O,WAnJc,uCAmJD,WAAMrG,GAAN,2BAAArG,EAAA,sDACD8F,EAAa,EAAKjL,MAAMqJ,MAAxB4B,SACAtC,EAAS6C,EAAEqU,OAAXlX,KACFjF,EAAU8H,EAAEqU,OAAZnc,OAEAgM,EAASL,MACH,EAAKsQ,SAAS,CAAEjQ,WACvB,EAAKiQ,SAAS,CAAEjQ,YAAQR,IAPpB,KASDvG,EATC,OAUA,SAVA,OAiBA,UAjBA,QA2BA,WA3BA,+BAWKk2B,EAAgB5zB,EAAShK,QAAO,SAAAuK,GAAC,OAAIA,EAAEsT,OAASpb,MACpC,KACd,EAAKic,SAAS,CAAEb,KAAM,KACtB,EAAKa,SAAS,CAAExP,UAAW0uB,EAAc,GAAI3uB,iBAAiB,KAdjE,oCAkBDxM,EAAQA,EAAMuC,QAAQ,IAAK,MACf,IACR,EAAK0Z,SAAS,CAAExP,UAAW,aAAcD,iBAAiB,KAGpDkuB,EAAaxiC,OAAO,EAAK9B,MAAMskC,YAAcxiC,OAAO8H,GAC1D,EAAKic,UAAL,mBAAiBhX,EAAOjF,GAAxB,2BAA+B06B,GAA/B,KAxBH,iCA4BG16B,GAAUA,EAAMnJ,MAAM,SA5BzB,kCA6BS,EAAKolB,SAAS,CAAEzE,OAAQ,KA7BjC,QA8BG,EAAKyE,SAAS,CAAExP,UAAW,iBAAkBD,iBAAiB,IA9BjE,wFAnJC,wDAyLd5C,YAAc,SAACZ,GACX,IAAIc,EAAW,IAAIC,SACnBD,EAASS,OAAO,iBAAkBvB,EAAK,IACvC,EAAKiT,SAAS,CAAEod,eAAgBvvB,KA5LtB,EA+LdmO,aA/Lc,sBA+LC,oCAAAxW,EAAA,+DAEsB,EAAKrL,MAAhCysB,EAFK,EAELA,OAAQwW,EAFH,EAEGA,eACVrxB,EAAU,GAGdsiB,GAAa3zB,SAAQ,SAAAmR,GACb,EAAK1R,MAAMyM,eAAe,CAACiF,EAAE9C,SAC7BvC,OAAOC,OAAOsF,EAAdvF,OAAA,IAAAA,CAAA,GAA0BqF,EAAE9C,MAAQ,EAAK5O,MAAM0R,EAAE9C,YAIzDgD,EAAQozB,kBAAoB,QAE5B34B,OAAO0Q,QAAQnL,GAASrR,SAAQ,YAAa,IAAD,mBAAV+U,EAAU,KAAPxU,EAAO,KACnCA,GAAW,KAANA,UAAiB8Q,EAAQ0D,MAGvCmX,EAAOlsB,SAAQ,SAAAe,UACJA,EAAEi5B,KACTluB,OAAO0Q,QAAQzb,GAAGf,SAAQ,YAAa,IAAD,mBAAV+U,EAAU,KAAPxU,EAAO,KAC7BA,GAAW,KAANA,UAAiB2rB,EAAOnX,SAI1C1D,EAAU5F,IAAMmc,eAAevW,GAC/B6a,EAASzgB,IAAMmc,eAAesE,GA1BnB,SA4BLhhB,KAAM8I,KAAK,sBAAuB,CAAE3C,UAAS6a,WAC9C5gB,MAAK,SAAAoG,GACFsF,EAAYtF,EAAc5R,QA9BvB,OAiCX,EAAK4kC,WAAW1tB,EAAW0rB,GAC3B,EAAK5a,QACL,EAAKE,aAnCM,4CA/LD,EAqOd0c,WArOc,uCAqOD,WAAO1tB,EAAW0rB,GAAlB,uBAAA53B,EAAA,2DACL43B,aAA0BtvB,UADrB,gBAECuxB,EAAe,IAAIvxB,SACrB7F,EAAW,CACX+E,UAAW,iBACX0E,YACArD,UAAU,GAGdpG,EAAWsG,KAAKC,UAAUvG,GAC1Bo3B,EAAa/wB,OAAO,WAAYrG,GAV3B,eAYYm1B,EAAelmB,WAZ3B,IAYL,2BAASzI,EAAkC,QACvC4wB,EAAa/wB,OAAOG,EAAK,GAAIA,EAAK,IAbjC,8CAgBC7I,KAAM8I,KAAK,qBAAsB2wB,GAClCr5B,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI,eAjBtB,2CArOC,0DA0Pd6S,WA1Pc,uCA0PD,WAAOjG,GAAP,iBAAAxD,EAAA,sDAEH43B,EAAmB,EAAKjjC,MAAxBijC,eACFza,EAAW2c,GAAiBt2B,EAAMo0B,GACtC,EAAKpd,SAAL,2BAAmB,EAAK7lB,OAAUwoB,IAJzB,2CA1PC,wDAiQdD,WAAa,WACT,IACI6c,EAAe,GACfC,EAAc,GACd5c,EAAa,GAEjByL,GAAa3zB,SAAQ,SAAAqT,GACjBvH,OAAO8F,KAAKyB,GAAKrT,SAAQ,SAAAuI,GACT,UAARA,GAAmB,EAAK9I,MAAM4T,EAAI9K,KAAOuD,OAAOC,OAAO84B,EAAd/4B,OAAA,IAAAA,CAAA,GAA+BuH,EAAI9K,QAAOsM,UAI/F+e,GAAW5zB,SAAQ,SAAAqT,GACfvH,OAAO8F,KAAKyB,GAAKrT,SAAQ,SAAAuI,GACT,UAARA,GAAmB,EAAK9I,MAAM4T,EAAI9K,KAAOuD,OAAOC,OAAO+4B,EAAdh5B,OAAA,IAAAA,CAAA,GAA8BuH,EAAI9K,QAAOsM,UAI9F4V,GAAazqB,SAAQ,YAAe,IAAZsO,EAAW,EAAXA,KACpBxC,OAAOC,OAAOmc,EAAdpc,OAAA,IAAAA,CAAA,GAA6BwC,OAAOuG,OAGxC,EAAKyQ,SAAL,mDACOuf,GACAC,GACA5c,GAHP,IAIIvQ,WAAY,EACZvG,YAAa,GACba,MAAO,GACP4xB,UAAW,GACXC,YAAa,CAAC,GACdC,WAAY,EACZ7X,OAAQ,GACRjQ,YAAa,wEACb6f,WAAW,MAnSL,EAsSdhU,MAAQ,kBAAM,EAAKxC,SAAS,CAAED,cAAe,EAAK5lB,MAAM4lB,gBAtS1C,EAuSd+C,aAAe,kBAAM,EAAK9C,SAAS,CAAEwT,YAAa,EAAKr5B,MAAMq5B,cAvS/C,EAwSdzO,WAAa,kBAAM,EAAK/E,SAAS,CAAEzP,iBAAkB,EAAKpW,MAAMoW,mBAxSlD,EAySdimB,UAAY,kBAAM,EAAKxW,SAAS,CAAEwW,WAAW,KAzS/B,EA0SdqF,WAAa,kBAAM,EAAK7b,SAAS,CAAEwW,WAAY,EAAKr8B,MAAMq8B,aAxStD,EAAKzT,YAAc,SAAClX,GACE,KAAdA,EAAEmX,SACE,EAAK7oB,MAAMmc,WAAW,EAAKN,gBAJ7B,E,gEA4BVnV,SAASuiB,iBAAiB,UAAWzZ,KAAKoZ,aAAa,GACvDliB,SAASe,cAAc,6BAA6BD,MAAM1C,MAAQ,U,6CAG7C0K,KAAKqW,SAAS,M,+BA4Q7B,IAAD,EAG6BrW,KAAKxP,MAD/BysB,EAFH,EAEGA,OAAQvU,EAFX,EAEWA,WAAY0N,EAFvB,EAEuBA,aAAcD,EAFrC,EAEqCA,SAAUtD,EAF/C,EAE+CA,MAAOjM,EAFtD,EAEsDA,gBACvDC,EAHC,EAGDA,UAAW4sB,EAHV,EAGUA,eAEf,OAAO,kBAAC,WAAD,KAEH,kBAAC/hB,GAAD,CAAQC,MAAO,CAAC,WAAY,aAAczD,KAAK,yBAE/C,kBAAC0E,GAAD,CACIlK,WAAYA,EACZmK,MAAOA,EACPV,cAAenS,KAAKmS,gBAGL,IAAfzJ,EACI,kBAACotB,GAAD,CACIjlC,KAAMmP,KAAKxP,MACX8X,YAAatI,KAAKsI,YAClBC,WAAYvI,KAAKuI,WACjBvE,YAAahE,KAAKgE,YAClBsB,WAAYtF,KAAKsF,aAEJ,IAAfoD,EACE,kBAACqtB,GAAD,CACIllC,KAAMmP,KAAKxP,MACXysB,OAAQA,EACR3U,YAAatI,KAAKsI,YAClBC,WAAYvI,KAAKuI,WACjBorB,SAAU3zB,KAAK2zB,SACfE,YAAa7zB,KAAK6zB,YAClB7vB,YAAahE,KAAKgE,YAClB6mB,WAAY7qB,KAAK6qB,WACjB+I,WAAY5zB,KAAK4zB,aAGN,IAAflrB,GAAoB,kBAAC,GAAD,CAChB1F,MAAOywB,EACPrlB,UAAWoN,GAAc3qB,KAAMmP,KAAKxP,MACpCm0B,WAAYA,GAAYD,aAAcA,KAGtD,kBAACzS,GAAD,CACIvJ,WAAYA,EACZ0J,SAAUS,EAAM/a,OAAS,EACzBua,aAAcrS,KAAKqS,aACnBF,cAAenS,KAAKmS,gBAExB,kBAAC,GAAD,CAAYsC,KAAM2B,EAAc1K,MAAO1L,KAAK6Y,MAAOlE,IAAKwB,IACvDvP,GAAmB,kBAACwO,GAAD,CAAaX,KAAM7N,EAAiB8E,MAAO1L,KAAKob,WAAYvU,UAAWA,EAAW0O,cAAevV,KAAKxP,MAAMsW,iB,GA/V5GlG,c,kDCV1B9N,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC07B,QAAS,CACLh1B,aAAa,aAAD,OAAe1G,EAAMa,QAAQmiC,UAE7C/iC,aAAc,CACVC,KAAM,GAEVC,iBAAkB,CACdC,eAAgB,gBAChBC,UAAW,QAEfG,YAAa,CACTC,QAAST,EAAMkB,QAAQ,GACvBR,WAAY,GAEhBC,iBAAkB,CACdC,SAAU,WACVN,gBAAiBN,EAAMa,QAAQC,KAAK,KACpCP,MAAOP,EAAMa,QAAQE,OAAOC,MAC5BC,aAAcjB,EAAMkB,QAAQ,GAC5BC,gBAAiB,yBACjBC,eAAgB,QAChBC,iBAAkB,YAClBC,mBAAoB,UAExBC,QAAS,CACLX,SAAU,WACVY,IAAK,EACLC,OAAQ,EACRC,MAAO,EACPC,KAAM,EACNrB,gBAAiB,kBAErBsB,wBAAwB,aACpBhB,SAAU,WACVH,QAAST,EAAMkB,QAAQ,IACtBlB,EAAM6B,YAAYC,GAAG,MAAQ,CAC1BrB,QAAST,EAAMkB,QAAQ,GACvBa,aAAc,IAGtBC,SAAU,CACNC,UAAWjC,EAAMkB,QAAQ,IAE7BgB,KAAM,CACFC,QAAS,QAEbC,YAAa,CACTlC,KAAM,GAEVmC,UAAW,CACPC,MAAO,QACP4J,OAAQ,SAEZ3J,SAAS,2BACFvC,EAAMwC,WAAWC,OADhB,IAEJhC,QAAST,EAAMkB,QAAQ,EAAG,KAE9BwB,gBAAiB,CACbjC,QAAST,EAAMkB,QAAQ,GACvBZ,gBAAiBN,EAAMa,QAAQC,KAAK,MAExC6B,eAAgB,CACZV,UAAWjC,EAAMkB,QAAQ,IAE7B0B,OAAQ,CACJtC,gBAAiBN,EAAMa,QAAQgC,WAAWC,MAC1Cb,UAAWjC,EAAMkB,QAAQ,GACzBT,QAAST,EAAMkB,QAAQ,EAAG,QAI5B4M,GAAgB,CAClB,CACI9K,MAAO,YACP+K,KAAM,SACNC,YACI,yCACJC,SAAU,2BACVhL,KAAM,sBAEV,CACID,MAAO,YACP+K,KAAM,SACNC,YACI,4DACJ/K,KAAM,mBACNgL,SAAU,uBAEd,CACIjL,MAAO,oBACP+K,KAAM,SACNC,YACI,6CACJ/K,KAAM,yBACNgL,SAAU,+BAIH,cAEX,IAAMtK,EAAU7D,KAChB,OACI,kBAAC,IAAMwF,SAAP,KACI,kBAACC,EAAA,EAAD,MACA,yBAAKP,MAAO,CACRmJ,UAAW,OACXjC,OAAQ,SAER,8BACI,kBAACsS,GAAA,EAAD,CAAOxY,UAAWrC,EAAQhD,kBACtB,yBAAKqE,MAAO,CAAGkH,OAAQ,OAAQ5J,MAAO,SAClC,yBAAK0J,IAAI,0BAA0BC,IAAI,WAAW3J,MAAM,OAAO4J,OAAQ,WAE3E,yBAAKlG,UAAWrC,EAAQpC,UACxB,kBAACga,GAAA,EAAD,CAAMC,WAAS,GACX,kBAACD,GAAA,EAAD,CAAM9T,MAAI,EAACiU,GAAI,GACX,yBAAK1V,UAAWrC,EAAQ/B,yBACpB,kBAAC+D,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAKo9B,cAAY,GAApD,YAGA,kBAACt9B,EAAA,EAAD,CAAYE,QAAQ,QAAQq9B,WAAS,GAArC,8CAOhB,kBAAC3nB,GAAA,EAAD,CAAMC,WAAS,EAACta,QAAS,EAAG8E,UAAWrC,EAAQw/B,UAC1Cr1B,GAAczP,KAAI,SAAA0T,GAAI,OACnB,kBAACwJ,GAAA,EAAD,CAAM9T,MAAI,EAACnB,IAAKyL,EAAK/O,MAAOyY,GAAI,GAAIC,GAAI,GACpC,kBAAC,IAAD,CAAMrV,GAAI0L,EAAK9O,KAAM+B,MAAO,CAAEoJ,eAAgB,SAC1C,kBAACg1B,GAAA,EAAD,CAAgBx9B,UAAU,QACtB,kBAACy9B,GAAA,EAAD,CAAMr9B,UAAWrC,EAAQzB,MACrB,yBAAK8D,UAAWrC,EAAQvB,aACpB,kBAACkhC,GAAA,EAAD,KACI,kBAAC39B,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAC9BkM,EAAK/O,OAEV,6BACA,kBAAC2C,EAAA,EAAD,CAAYE,QAAQ,QAAQq9B,WAAS,GAChCnxB,EAAK/D,aAEV,kBAACrI,EAAA,EAAD,CAAYE,QAAQ,QAAQtF,MAAM,WAE7BwR,EAAK/O,SAKlB,kBAACugC,GAAA,EAAD,CAAQC,QAAM,GACV,kBAACC,GAAA,EAAD,CACIz9B,UAAWrC,EAAQtB,UACnBuD,UAAU,MACVoG,IAAK+F,EAAK9D,SACVjL,MAAO+O,EAAK/O,qB,iHC3J1D0gC,GAAkBvgC,aAAW,SAAAnD,GAAK,MAAK,CACzC2jC,KAAM,CACFrjC,gBAAiB,UACjBC,MAAO,SACPoG,WAAY,IACZF,SAAU,IAEd4V,KAAM,CACF5V,SAAU,OARMtD,CAWpBygC,MAEEC,GAAa1gC,aAAW,SAAAnD,GAAK,MAAK,CACpC2jC,KAAM,CACFrjC,gBAAiB,UACjBC,MAAO,UAEX8b,KAAM,CACF5V,SAAU,OANCtD,CASfygC,MAEEE,GAAiB3gC,aAAW,SAAAnD,GAAK,MAAK,CACxC8a,KAAM,CACF,qBAAsB,CAClBxa,gBAAiBN,EAAMa,QAAQgC,WAAWkhC,aAH/B5gC,CAMnB6gC,MAEElkC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC8a,KAAM,CACFC,SAAU,IACVta,QAAS,KACTsV,UAAW,UAEf/S,MAAO,CACHf,UAAW,KACXmU,UAAW,OACX3P,SAAU,SACVnG,gBAAiB,UACjByV,UAAW,UAEfmb,MAAO,CACHnb,UAAW,UAEfjT,MAAO,CACHvC,MAAOP,EAAMa,QAAQqa,KAAKgD,UAC1BpI,OAAQ9V,EAAMkB,QAAQ,GACtBoB,MAAO,OACP7B,QAAS,YACTyL,OAAQ,QAEZI,MAAO,CACHrL,aAAcjB,EAAMkB,QAAQ,GAC5Bb,UAAW,YAKJ,SAAS4jC,GAAT,GAAmD,IAA7BC,EAA4B,EAA5BA,WAAY1E,EAAgB,EAAhBA,aAEvC77B,EAAU7D,KACVkD,EAAiBW,EAAjBX,MAAOsJ,EAAU3I,EAAV2I,MAET63B,EAAY,GAOhB,OALAD,EAAW1E,aAAazhC,SAAQ,SAAAK,GAC5B,IAAMgmC,EAAM5E,EAAa3gC,MAAK,SAAAmL,GAAC,OAAIA,EAAEq6B,eAAiBjmC,KACtD+lC,EAAUjmC,KAAKkmC,MAIf,kBAAC,IAAM9+B,SAAP,KACI,yBAAKN,MAAO,CAAE1C,MAAO,OAAQwD,MAAO,SAChC,kBAACH,EAAA,EAAD,CAAYK,UAAWhD,GAAvB,+BAEJ,kBAACshC,GAAA,EAAD,CAAOt+B,UAAWsG,GACd,kBAACi4B,GAAA,EAAD,KACI,kBAACT,GAAD,KACKlS,GAAevzB,KAAI,SAACS,EAAGoH,GAAJ,OAAU,kBAACw9B,GAAD,CAAiBp9B,IAAKJ,GAAIpH,EAAE6I,YAGhEw8B,EAAU9lC,KAAI,SAACq2B,EAAG3W,GAAJ,OACZ2W,EACI,kBAAC8P,GAAA,EAAD,CAAWl+B,IAAKyX,GACZ,kBAACimB,GAAA,EAAD,KAEQpS,GAAevzB,KAAI,SAAC+S,EAAKxM,GAAN,OACf,kBAACi/B,GAAD,CAAYv9B,IAAK1B,GACZ8vB,EAAEtjB,EAAIhF,aAO3B,UCpFxB,IAAMsQ,GAAe,CACjBva,QAAS,OACT/B,eAAgB,SAChBkC,MAAO,OACPqa,aAAc,SACdC,SAAU,OACVhc,SAAU,YAGRic,GAAW,CACb9G,UAAW,SACX+G,WAAY,aACZoZ,QAAS,gBACTuO,WAAY,OACZ1nB,OAAQ,iBACRtc,QAAS,OACTqV,OAAQ,gBACRrP,SAAU,SACVnG,gBAAiB,UACjB0c,aAAc,MACd1a,MAAO,KAGL2a,GAAO,CACTC,cAAe,SACfvE,OAAQ,UACRwE,YAAa,MAGXC,GAAW,CACbF,cAAe,SACfzc,QAAS,aAGPX,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCwb,UAAW,CACPrZ,QAAS,OACTya,SAAU,OACVnc,QAAST,EAAMkB,QAAQ,GACvBgL,OAAQ,OACR5L,gBAAiB,WAErBokC,cAAe,CACXviC,QAAS,OACTya,SAAU,OACVnc,QAAST,EAAMkB,QAAQ,GACvBgL,OAAQ,QAEZlJ,MAAO,CACHzC,MAAO,OACPwV,UAAW,SACXtP,SAAU,UAEdk+B,SAAU,CACNriC,MAAO,QACPmE,SAAU,SACVqP,OAAQ,SACRC,UAAW,UAGfE,UAAW,CACPC,WAAYlW,EAAMkB,QAAQ,GAC1BiV,YAAanW,EAAMkB,QAAQ,GAC3BuF,SAAU,SACV2P,UAAW,OACXL,UAAW,UAEf4gB,WAAY,CACRr0B,MAAO,KAEX4uB,MAAO,CACHnb,UAAW,UAEfjT,MAAO,CACHrC,QAAST,EAAMkB,QAAQ,GACvB6U,UAAW,SACXxV,MAAOP,EAAMa,QAAQqa,KAAKgD,UAC1BpI,OAAQ9V,EAAMkB,QAAQ,IAE1B0jC,OAAQ,CACJnkC,QAAST,EAAMkB,QAAQ,GACvB6U,UAAW,SACXxV,MAAOP,EAAMa,QAAQqa,KAAKgD,UAC1BpI,OAAQ9V,EAAMkB,QAAQ,GACtBN,SAAU,YAGd+U,KAAM,CACFG,OAAQ9V,EAAMkB,QAAQ,GACtBoB,MAAO,IACPmE,SAAU,SACV2P,UAAW,OACXL,UAAW,UAEf2qB,WAAY,CACRz+B,UAAW,OACXxB,QAAS,WAEbokC,UAAW,CACPpkC,QAAS,mBACTyL,OAAQ,OACR4J,OAAQ,MACRmF,MAAO,QACPxU,SAAU,UAEd25B,QAAS,CACLtqB,OAAQ,qBAID,eAAoJ,IAAxI/I,EAAuI,EAAvIA,MAAOlP,EAAgI,EAAhIA,KAAMyX,EAA0H,EAA1HA,YAAawvB,EAA6G,EAA7GA,QAASC,EAAoG,EAApGA,WAAY/zB,EAAwF,EAAxFA,YAAaqd,EAA2E,EAA3EA,QAAS2W,EAAkE,EAAlEA,QAASC,EAAyD,EAAzDA,SAAUC,EAA+C,EAA/CA,aAAc1lB,EAAiC,EAAjCA,kBAAmBlN,EAAc,EAAdA,WAG1I0H,EAAyInc,EAAzImc,YAAa/K,EAA4HpR,EAA5HoR,gBAAiBk2B,EAA2GtnC,EAA3GsnC,WAAY15B,EAA+F5N,EAA/F4N,aAAcy4B,EAAiFrmC,EAAjFqmC,WAAYkB,EAAqEvnC,EAArEunC,QAASthC,EAA4DjG,EAA5DiG,OAAQ2b,EAAoD5hB,EAApD4hB,eAAgBC,EAAoC7hB,EAApC6hB,KAAM/O,EAA8B9S,EAA9B8S,YAAagC,EAAiB9U,EAAjB8U,aACxHhE,EAA2B5B,EAA3B4B,SAAU6wB,EAAiBzyB,EAAjByyB,aAEZ77B,EAAU7D,KAAegD,EAAuEa,EAAvEb,MAAO0Y,EAAgE7X,EAAhE6X,UAAWxY,EAAqDW,EAArDX,MAAOo9B,EAA8Cz8B,EAA9Cy8B,QAASyE,EAAqClhC,EAArCkhC,UAAWD,EAA0BjhC,EAA1BihC,OAAQF,EAAkB/gC,EAAlB+gC,cAE5E/tB,EAAe,SAAC3Y,EAAIe,GAEtB,IAAMqI,EAAQvJ,EAAKG,EAAGoO,MAAQrN,GAE9B,QAAIf,EAAG2Y,eAAgB3Y,EAAG2Y,aAAavP,SAC9BA,IAASpJ,EAAG2Y,cAAiB3Y,EAAG2Y,aAAavP,MAElDpJ,EAAG+Y,SAAW3P,EAA0C,OAA5BA,EAAMnJ,MAAMD,EAAG+Y,SAE3C3P,EAAQpJ,EAAG6Y,KAAOzP,EAAQpJ,EAAG8Y,MACxB,OAAL1P,QAAK,IAALA,OAAA,EAAAA,EAAOtC,SAAP,OAAgB9G,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAI4Y,cAKtBI,EAAS,SAAChZ,EAAIe,GAChB,IAAMqI,EAAQvJ,EAAKG,EAAGoO,MAAQrN,GAE9B,OAAIf,EAAG2Y,cAAgB3Y,EAAG2Y,aAAavP,GAAe,SAC7CA,GAASpJ,EAAG2Y,eAAiB3Y,EAAG2Y,aAAavP,GAAe,SAEjEA,EAAQpJ,EAAG6Y,KAAOzP,EAAQpJ,EAAG8Y,IAAY,oBACpC1P,GAAqC,OAA5BA,EAAMnJ,MAAMD,EAAG+Y,SAA0B,SAClD/Y,EAAG+Y,SAAW3P,GAAqC,OAA5BA,EAAMnJ,MAAMD,EAAG+Y,SAA0B,UAEhE,OAAL3P,QAAK,IAALA,OAAA,EAAAA,EAAOtC,SAAP,OAAgB9G,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAI4Y,WAAkB,UACjC,OAALxP,QAAK,IAALA,OAAA,EAAAA,EAAOtC,UAAP,OAAiB9G,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAI4Y,WAAkB,cAEtC,GAUT,OACI,kBAAC2E,GAAA,EAAD,CACIC,WAAS,EACTya,UAAU,MACVjwB,UAAWwV,EACX0a,QAAQ,cAER,kBAAC7gB,GAAD,CACIxX,KAAMA,EACN8Q,SAAUA,EACV2G,YAAaA,IAEhBrG,GACG,kBAACuP,GAAA,EAAD,CAAOxY,UAAW4+B,GACd,kBAACj/B,EAAA,EAAD,CAAYK,UAAWhD,GAAvB,qCACA,wBAAIgC,MAAO,CAAE2B,WAAY,IAAKF,SAAU,UAAxC,6GACC0+B,EAAW9mC,KAAI,SAAC2L,EAAG+T,GAAJ,OACZ,kBAACxC,GAAA,EAAD,CAAM9T,MAAI,EAACgU,GAAI,GAAInV,IAAKyX,EAAG/Y,MAAO,CAAEiW,MAAO,SACtC2W,GAAevzB,KAAI,SAACL,EAAIkI,GAAL,OAChB,kBAAC,WAAD,CAAUI,IAAKJ,GACX,kBAAC+Q,GAAA,EAAD,CACI5K,KAAMrO,EAAGoO,MAAQ2R,EACjBpW,MAAO3J,EAAG2J,MACVmO,OAAO,SACP9P,UAAWrC,EAAQsS,UACnBzO,SAAU,SAAA0H,GAAC,OAAIoG,EAAYpG,IAC3BxR,KAAMM,EAAGN,MAAQ,GACjBwZ,MAAOP,EAAa3Y,EAAI+f,GACxBzH,WAAYU,EAAOhZ,EAAI+f,GACvB1H,OAAQrY,EAAGqY,SAAU,EACrBjP,MAAOvJ,EAAKG,EAAGoO,MAAQ2R,IAAM,GAC7B3G,SAAUpZ,EAAGoZ,WAAY,EACzBC,gBAAiB,CACbrR,UAAWrC,EAAQsS,UACnBqB,OAAoB,SAAZtZ,EAAGN,WAAmBkV,EAC9B5N,MAAO,CAAEyB,SAAU,SAAUE,WAAY,IAAKpG,MAAO,SAEzDgX,WAAY,CACRvS,MAAO,CACHnC,WAAY7E,EAAGoZ,UAAYvZ,EAAK2Z,QAAU,OAAS,UACnD/Q,SAAU,SAAUsP,UAAW,SAAUxV,MAAO,OAAQ+B,MAAOtE,EAAGsE,OAAS,IAAK4J,OAAQ,OAE5F9E,MAAM,GAAD,OAAKvJ,EAAKG,EAAGoO,MAAQ2R,IAAM,IAChCpI,KAAM3X,EAAGoX,UAAY,GACrBqC,UAAWzZ,EAAGyZ,WAAa,GAC3Bb,UAAW5Y,EAAG4Y,WAAa,GAC3BC,IAAK7Y,EAAG6Y,KAAO,IAEnBa,UAAW1Z,EAAG0Z,YAAa,EAC3BC,KAAM3Z,EAAG2Z,MAAQ,KACjB9R,QAAS7H,EAAG6H,SAAW,SACvB+R,UAAW5Z,EAAG4Z,YAAa,IAG9BmG,IAAMonB,EAAWrgC,OAAS,GAAW,IAANoB,GAC5B,oCACI,kBAAC,KAAD,CACIW,QAAS,kBAAMm+B,KACfhgC,MAAO,CACHkY,cAAe,SACftc,SAAU,WACVa,OAAQ,QACRC,MAAOqc,EAAI,EAAI,OAAS,OACxBxd,MAAO,UACPkG,SAAU,GACVkS,OAAQ,UACR2nB,OAAQ,KAGfviB,EAAI,GAAK,kBAAC,KAAD,CACNlX,QAAS,kBAAMo+B,KACfjgC,MAAO,CACHkY,cAAe,SACftc,SAAU,WACVa,OAAQ,QACRC,MAAO,OACPnB,MAAO,MACPkG,SAAU,GACVkS,OAAQ,UACR2nB,OAAQ,cASxC,kBAAC/kB,GAAA,EAAD,CAAMC,WAAS,EAACxW,MAAO,CAAEpE,SAAU,WAAYkc,WAAY,WACvD,kBAACvB,GAAA,EAAD,CAAM9T,MAAI,EAACgU,GAAI,GACT3X,EAYE,yBAAKkC,UAAU,QACX,kBAACqX,GAAD,CACIvZ,OAAQA,EACRlG,WAAW,cACX+S,YAAaA,EACbW,KAAMkX,GACNxjB,MAAO,CAAEyjB,SAAU,YAjB3B,kBAAC1O,GAAD,CACI/U,MAAO,CAAE/C,UAAW,OAAQK,MAAO,OACnC+J,KAAK,aACL6E,SAAUgzB,EACVlqB,YAAaA,EACbhJ,YAAaA,EACbL,YAAaA,EACb2B,WAAYA,EACZK,aAAcA,KAc1B,kBAAC4I,GAAA,EAAD,CAAM9T,MAAI,EAACgU,GAAI,EAAGzV,UAAWo6B,GACzB,yBAAKp7B,MAAO,CAAE7C,QAAS,OAAQ/B,eAAgB,WAAY0c,WAAY,SAAU3G,YAAa,SAC1F,kBAAC6C,GAAA,EAAD,CACIC,QACI,kBAACC,GAAA,EAAD,CACIC,SAAqB,IAAZisB,EACT59B,SAAU,kBAAM09B,KAChB99B,MAAOg+B,IAGfz9B,MAEI,0BAAM3C,MAAO,CAAEzE,MAAO,UAAWkG,SAAU,QAASwU,MAAO,UAA3D,6CAKR,kBAAChE,GAAA,EAAD,CACI5K,KAAK,aACL1E,MAAM,aACNmO,OAAO,SACP9P,UAAWrC,EAAQsS,UACnBzO,SAAU,SAAA0H,GAAC,OAAIoG,EAAYpG,IAC3BxR,KAAK,OACLsZ,OAAO,qCACP5P,MAAOvJ,EAAKkN,YAAc,GAC1BqM,UAAsB,IAAZguB,EACV/tB,gBAAiB,CACbrR,UAAWrC,EAAQsS,UACnBqB,QAAQ,EACRtS,MAAO,CAAEyB,SAAU,SAAUlG,MAAO,UAAWU,aAAc,OAEjEsW,WAAY,CACRvS,MAAO,CAAEnC,WAAY,UAAW4D,SAAU,SAAUsP,UAAW,SAAUxV,MAAO,OAAQ2L,OAAQ,QAEpGrG,QAAS,eAOjC,yBAAKb,MAAO,CAAE7C,QAAS,OAAQ/B,eAAgB,WAAYkC,MAAO,SAC7D2M,IAAoBnL,EACjB,kBAAC2B,EAAA,EAAD,CACIO,UAAW6+B,EACXn/B,KAAK,QACLnF,MAAM,YACNsF,QAAQ,YACRgB,QAAS,kBAAMi+B,MAEf,kBAAC,KAAD,MAPJ,8BASE71B,GAAmBnL,EACjB,kBAACmb,GAAD,CACIK,YAAY,EACZC,mBAAmB,YACnBzb,OAAQA,EACR0b,kBAAmBA,EACnBC,eAAgBA,EAChBC,KAAMA,EACNL,aAAcylB,EACdxvB,YAAaA,IAEf,MAIbrG,GAAmBxD,EAAa,IAAM,wBAAIzG,MAAO,CAAE8Q,OAAQ,kBAArB,iCAGnC7G,IAAoBxD,EAAa,KAAO3H,GACxC,kBAACyX,GAAA,EAAD,CAAM9T,MAAI,EAACgU,GAAI,IACX,kBAAC+C,GAAA,EAAD,CAAOxY,UAAWlD,GAAlB,qCACuCmM,EAAgBE,cAK3D1D,EAAa3G,OAAS,GAAK2G,EAAapN,KAAI,SAAC6lC,EAAYmB,GAAb,OAAmB,kBAAC9pB,GAAA,EAAD,CAAMC,WAAS,EAC1ElV,IAAS,IAAJ++B,EACLpP,UAAU,MACVjwB,UAAW0+B,EACXxO,QAAQ,SACRpZ,WAAW,cACX,kBAACvB,GAAA,EAAD,CAAM9T,MAAI,EAACgU,GAAI,IACX,kBAAC+C,GAAA,EAAD,CAAOxZ,MAAO,CAAEvE,QAAS,wBACrB,uBAAGuF,UAAWhD,GAAd,oBACKkhC,EAAWn5B,WAGR,uBAnNXgD,EAmN8Cm2B,EAAWn5B,YAjNzDyI,KAAOzF,GAAMkQ,OAAO,cACzB,IA8MgB,2BAKR,kBAACgmB,GAAD,CAAYzE,aAAcA,EAAc0E,WAAYA,IAEpD,yBAAKl/B,MAAO0X,IACR,0BAAM1X,MAAO6X,IACT,kBAAC,KAAD,CAA6B7X,MAAOoY,KACpC,0BAAMpY,MAAO,CAAEkY,cAAe,WACzB,IADL,mBAGA,kBAAC,KAAD,CAAYlY,MAAOiY,GAAMpW,QAAS,kBAAMwnB,EAAQ6V,EAAWoB,kBAE/D,0BAAMtgC,MAAK,2BAAO6X,IAAP,IAAiBva,MAAO,GAAIhC,gBAAiB,QAASyc,OAAQ,EAAGnc,SAAU,WAAYc,MAAO,KACrG,kBAAC,KAAD,CAAoBnB,MAAM,YAAYyE,MAAOiY,GAAMpW,QAAS,kBAAMk+B,EAAWb,MADjF,cAhOR,IAACn2B,OCgRTG,MAFI,CAAC,WAAY,eAAgB,cAAe,wB,kDAza5D,aAAe,IAAD,8BACV,gBAQJ1Q,MAAQ,CACJmR,SAAU,GACVQ,YAAa,GACbgU,SAAU,+BACVC,cAAc,EACdwe,UAAW,GACX/K,YAAY,EACZuO,SAAS,EACTG,aAAc,GACdvrB,YAAa,uFACbwlB,aAAc,GACd2F,WAAY,CAAC,GACbK,iBAAkB,GAClB/5B,aAAc,GACdgU,gBAAgB,GAvBN,EAyEdnK,YAzEc,uCAyEA,WAAMpG,GAAN,mCAAArG,EAAA,yDAEJwD,EAAS6C,EAAEqU,OAAXlX,KACAsC,EAAa,EAAKjL,MAAMqJ,MAAxB4B,SACF6wB,EAJM,YAIa,EAAK97B,MAAMqJ,MAAMyyB,cACpCiG,EAAc7zB,KAAK4C,MAAM5C,KAAKC,UAAU,EAAKnO,MAAMqJ,MAAM04B,cAEvDr+B,EAAU8H,EAAEqU,OAAZnc,MAGA26B,EAAcb,GAAY70B,EAAMjF,GACtC,EAAKic,SAAL,eAAiBhX,EAAO01B,IAGX,gBAAT11B,IAA0B7H,MAAMC,QAAQ+6B,GAdlC,sBAgBAvwB,EAAkBN,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEC,cAAgB/H,MAhBvD,wBAmBIqE,EAAeg6B,EAAY9gC,QAAO,SAAA+gC,GAAE,OAAIA,EAAGj2B,gBAAkBR,EAAgBQ,iBAnBjF,UAoBI,EAAK4T,SAAS,CAAEpU,kBAAiBxD,eAAc0D,YAAaF,EAAgBE,cApBhF,QAqBE/H,IAAU6H,EAAgBE,aAAa,EAAKkU,SAAS,CAAEpU,qBAAiB2D,IArB1E,wBAuBC,EAAKyQ,SAAS,CAAEpU,qBAAiB2D,IAvBlC,QA0BNvG,EAAKpO,MAAM,mBAEL0nC,EAAOnG,EAAa3gC,MAAK,SAAAmL,GAAC,OAAIA,EAAE47B,gBAAkBx+B,QAE9CrI,EAAQsN,EAAKoW,OAAOpW,EAAKvH,OAAS,GAExC+E,OAAO8F,KAAK,EAAKnS,OAAOO,SAAQ,SAAAymB,GACxBA,IAAanY,GAAQ,EAAK7O,MAAMgnB,KAAcpd,IAC9Ck7B,MAAM,iCACN,EAAKjf,SAAL,eAAiBhX,EAAO,KACxBw5B,GAAY,MAIfA,GACDjU,GAAe7zB,SAAQ,YAAgB,IAAbqO,EAAY,EAAZA,MAChB9F,EAAM8F,EAAQrN,EACpB,EAAKskB,SAAL,eAAiB/c,EAAMq/B,EAAKv5B,SA3ClC,4CAzEA,wDA0Hd04B,QA1Hc,uCA0HJ,WAAO7vB,GAAP,+CAAApM,EAAA,sDAGAkE,EAAU,EAAKrJ,MAAfqJ,MAHA,EAImE,EAAKvP,MAAxEyR,EAJA,EAIAA,gBAAiBnL,EAJjB,EAIiBA,OAAQogC,EAJzB,EAIyBA,WAAYn5B,EAJrC,EAIqCA,WAAYq6B,EAJjD,EAIiDA,QAAS1lB,EAJ1D,EAI0DA,KAC5D3K,EAAY9F,EAAgBQ,cAC5B+vB,EAAe5tB,KAAK4C,MAAM5C,KAAKC,UAAU9E,EAAMyyB,eAC/CsG,EAPE,YAOU,EAAKtoC,MAAM2nC,YAEvBY,EAAa,GACb/D,EAAU,GAcd8D,EAAM/nC,SAAQ,SAACioC,EAAG9/B,GACd0rB,GAAe7zB,SAAQ,SAAAqT,GACnBvH,OAAOC,OAAOk4B,EAAdn4B,OAAA,IAAAA,CAAA,GAA0BuH,EAAIhF,MAAQ,EAAK5O,MAAM4T,EAAIhF,MAAQlG,QAEjE,IAAI6X,EAAI,EACRlU,OAAO+T,OAAOokB,GAASjkC,SAAQ,SAAAO,GACvBA,IAAGyf,GAAK,MAEZA,EAAI,GAAGgoB,EAAW7nC,KAAK8jC,GAC3BjkB,EAAI,EACJikB,EAAU,GAEVpQ,GAAe7zB,SAAQ,SAAAqT,GACnB,EAAKiS,SAAL,eAAiBjS,EAAIhF,MAAQlG,EAAI,WAMrCokB,EAAa,GACbC,EAAa,GAEjBwb,EAAWhoC,SAAQ,SAAAkoC,GAAc,IAAD,GAE5B,UADAC,EAAQ1G,EAAa3gC,MAAK,SAAAmL,GAAC,OAAIA,EAAE47B,gBAAkBK,EAAUL,wBAC7D,aAAI,EAAOvB,eAEPx6B,OAAO8F,KAAKs2B,GAAWloC,SAAQ,SAAA+U,GACvBmzB,EAAUnzB,KAAOozB,EAAMpzB,WAChBmzB,EAAUnzB,MAEzBmzB,EAAU5B,aAAe6B,EAAM7B,aAC/B9Z,EAAWrsB,KAAK+nC,IAGhB3b,EAAWpsB,KAAK+nC,WAGPrzB,IAAbqC,IAEMxV,EAAM,CACRqV,OAAQ,6BACRC,YACAlG,QAAS,CACLmB,MAAOk0B,EACP5Z,aACAC,aACAxf,aACAq6B,WAEJ95B,SAAU,CACN+E,UAAW,aACX0E,cAGRlL,OAAO0Q,QAAQ9a,GAAK1B,SAAQ,YAAa,IAAD,mBAAV+U,EAAU,kBAAiBrT,EAAIqT,MAC7DrT,EAAIwV,SAAWA,EACfxV,EAAIgV,cAAgB,EAEpBJ,GAAa5U,GACR4J,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI8J,MAE3B,EAAK8Z,SAAS,CAAEF,SAAU,wCAAmCC,cAAc,IAC3E0C,YAAW,WAAQ,EAAKC,eAAgB,QAE3B,IAAb9Q,IASAZ,GARY,CACRjW,GAAI0F,EAAO1F,GACX2W,YACAlG,QAAS,CACL6Q,QAEJ1K,UAAU,IAGT3L,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI8J,MAC3B,EAAK8Z,SAAS,CAAEF,SAAU,gCAA2BC,cAAc,IACnE0C,YAAW,WACP,EAAKpiB,MAAMmL,QAAQ3Q,KAAK,mBACzB,QAEU,IAAb+W,IACAqV,EAAa9gB,IAAMmc,eAAe2E,GAClCC,EAAa/gB,IAAMmc,eAAe4E,GAClC,EAAK4b,YAAY7b,EAAYC,IA3G3B,2CA1HI,wDAyOd4b,YAzOc,uCAyOA,WAAO7b,EAAYC,GAAnB,iCAAA1hB,EAAA,2DAGiD,EAAKrL,MAA1DyR,EAHI,EAGJA,gBAAiB0B,EAHb,EAGaA,YAAa5F,EAH1B,EAG0BA,WAAYjH,EAHtC,EAGsCA,OAC5CsiC,EAAc7b,EAAWlsB,KAAI,SAAAs6B,GAAC,OAAIA,EAAE0N,mBAGpC/b,EAAWxlB,OAAS,GAPd,uBAQNwlB,EAAa9gB,IAAMmc,eAAe2E,GAR5B,SASArhB,KAAM8I,KAAK,uBAAwB,CAAEytB,aAAclV,EAAYhe,MAAO,aAAclN,QAAS,kBAC9FiK,MAAK,SAAAi9B,GACFA,EAAMzoC,KAAKE,SAAQ,SAAAiM,GAAC,OAAIo8B,EAAYloC,KAAK8L,EAAEq8B,qBAX7C,cAgBJp5B,EAAU,CACZX,MAAO,aACPlN,QAAS,gBACTqN,aAAc8d,EACd5a,KAAMiiB,GAAevzB,KAAI,SAAA2L,GAAC,OAAIR,IAAM6vB,WAAWrvB,EAAEoC,WAGrDnD,KAAMoJ,IAAI,gBAAV,eAAgCpF,IAC3B5D,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI8J,MAGvBg9B,EAAiB,CACjB1Z,eAAgB5d,EAAgBQ,cAChC1E,aACA+J,OAAQ,UACR0qB,aAAc4G,GAGlBv8B,OAAO0Q,QAAQgsB,GAAgBxoC,SAAQ,YAAa,IAAD,mBAAV+U,EAAU,KAAPxU,EAAO,KAC1CA,GAAW,KAANA,UAAiBioC,EAAezzB,MAnCpC,UAwCJ7J,KAAM8I,KAAK,qBAAsBw0B,GAClCl9B,MAAK,SAAAE,GAAC,OAAI+7B,EAAe/7B,EAAE1L,KAAK,GAAG2oC,iBAzC9B,QA2CVD,EAAejB,aAAeA,EACxB7lC,EAAM,CACRrB,GAAI0F,EAAO1F,GACXuS,cACA9B,QAAS,GACToG,UAAU,GAGVtE,IACAlR,EAAI6L,SAAW,CACX+E,UAAW,aACX0E,UAAW9F,EAAgBQ,cAC3B61B,aAAcA,EACd9F,aAAc4G,IAGtB/xB,GAAa5U,GACR4J,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI8J,MAE3B,EAAKsc,QACD/hB,GACAgiB,YAAW,WACP,EAAKpiB,MAAMmL,QAAQ3Q,KAAK,mBACzB,MACP,EAAK6nB,aAnEK,4CAzOA,0DA+Sdgf,WA/Sc,uCA+SD,WAAMY,GAAN,qBAAA98B,EAAA,6DAGLzK,EAAKunC,EAAKL,aACVmB,EAAe,EAAK/iC,MAAMqJ,MAAMsd,YAAYxrB,MAAK,SAAAqT,GAAC,OAAI5S,OAAO4S,EAAE5G,SAASg6B,gBAAkBlnC,KAE1FkoC,EANK,YAMO,EAAK9oC,MAAMiO,cANlB,SAQHxC,KAAMwJ,OAAN,gEAAsErU,IACvEiL,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI8J,EAAE1L,SATpB,OAWL4oC,GAAgBA,EAAax8B,eAAe,QAC5ChB,KAAMwJ,OAAN,oDAA0Dg0B,EAAaC,MAClEr9B,MAAK,gBAAGxL,EAAH,EAAGA,KAAH,OAAc2B,QAAQC,IAAI5B,MAElCqI,EAAIogC,EAAMp2B,QAAQy1B,GACxBW,EAAMpnC,OAAOgH,EAAG,GAEhB,EAAKmd,SAAS,CAAE5X,aAAc66B,IAlBrB,2CA/SC,wDAoUdt1B,YAAc,SAACZ,GAEX,IAAI8zB,EAAa,IAAI/yB,SACrB+yB,EAAWvyB,OAAO,aAAcvB,EAAK,IACrC,EAAKiT,SAAS,CAAE6gB,aAAYvxB,aAAc,QAxUhC,EA2UdL,WA3Uc,uCA2UD,WAAOjG,GAAP,iBAAAxD,EAAA,sDAEHq7B,EAAe,EAAK1mC,MAApB0mC,WACFle,EAAW1T,GAAWjG,EAAM63B,GAEhC,EAAK7gB,SAAL,2BAAmB,EAAK7lB,OAAUwoB,IALzB,2CA3UC,wDAmVdqI,QAAU,SAAAjwB,GAEF,IACAqoC,EADkB,EAAK/iC,MAAMqJ,MAA3Bsd,YACyBxrB,MAAK,SAAAqT,GAAC,OAAI5S,OAAO4S,EAAE5G,SAASg6B,gBAAkBlnC,KAE7E,GAAIqoC,EAAc,CAAC,IACProC,EAAiBqoC,EAAjBroC,GAAIkc,EAAamsB,EAAbnsB,SACZikB,GAASngC,EAAIkc,EAAU,oBAEvB,EAAK+I,SAAS,CAAExP,UAAW,gBAAiBD,iBAAiB,KA5VvD,EAgWdoxB,QAAU,WACN,IAAI9+B,EAAC,YAAO,EAAK1I,MAAM2nC,YACvBj/B,EAAEhI,KAAK,GACP,EAAKmlB,SAAS,CAAE8hB,WAAYj/B,KAnWlB,EAsWd++B,SAAW,WACP,IAAI/+B,EAAC,YAAO,EAAK1I,MAAM2nC,YACvBj/B,EAAEi8B,MACF,EAAK9e,SAAS,CAAE8hB,WAAYj/B,KAzWlB,EA4Wdg/B,aAAe,YACgB,IAAvB,EAAK1nC,MAAM4nC,SAAkB,EAAK/hB,SAAS,CAAEtY,WAAY,KAC7D,EAAKsY,SAAS,CAAE+hB,SAAU,EAAK5nC,MAAM4nC,WA9W3B,EAiXdrf,WAAa,WAEL,IAAEof,EAAe,EAAK3nC,MAApB2nC,WACFx1B,EAAOiiB,GAAevzB,KAAI,qBAAG+N,SAC7Bu6B,EAAgB,GAEpBxB,EAAWpnC,SAAQ,SAACiM,EAAG9D,GACnByJ,EAAK5R,SAAQ,SAAAuI,GACL,EAAK9I,MAAMyM,eAAe3D,EAAMJ,KAChCygC,EAAcrgC,EAAMJ,QAAK0M,SAGrC,EAAKN,WAAW,cAChB,EAAK+Q,SAAL,2BACOsjB,GADP,IAEI3sB,YAAa,uFACbmrB,WAAY,CAAC,GACbp6B,gBAAY6H,EACZsxB,gBAAYtxB,EACZwyB,SAAS,MApYH,EAwYd5lB,kBAAoB,kBAAM,EAAK6D,SAAS,CAAE5D,gBAAiB,EAAKjiB,MAAMiiB,kBAxYxD,EAyYd0G,aAAe,kBAAM,EAAK9C,SAAS,CAAEwT,YAAa,EAAKr5B,MAAMq5B,cAzY/C,EA0YdzO,WAAa,kBAAM,EAAK/E,SAAS,CAAEzP,iBAAkB,EAAKpW,MAAMoW,mBA1YlD,EA2YdiS,MAAQ,kBAAM,EAAKxC,SAAS,CAAED,cAAe,EAAK5lB,MAAM4lB,gBAzYpD,EAAKgD,YAAc,SAAClX,GACE,KAAdA,EAAEmX,SACE,EAAK7oB,MAAMq5B,YAAY,EAAK1Q,gBAJ9B,E,qNA4BJpZ,EAAUC,KAAKtJ,MAAfqJ,OACFjJ,E,UAASkJ,KAAKtJ,a,iBAAL,EAAYG,gB,iBAAZ,EAAsBrG,a,aAAtB,EAA6BsG,UAKlC8iC,EAAuBh1B,KAAK4C,MAAM5C,KAAKC,UAAU9E,EAAMyyB,eACvDlZ,EAAc0D,GAAiBlmB,EAAQiJ,EAAO65B,GAC5Cxc,EAA+B9D,EAA/B8D,UAAcyc,EAJZ,aAI6BvgB,EAJ7B,eAKFzX,EAAY/K,EAAZ+K,QALE,EAMsBA,EAAQ,GAAhC9D,EANE,EAMFA,WAAYq6B,EANV,EAMUA,QACd9a,EAAazb,EAAQ,GAAGyb,YAAc,GACtCC,EAAa1b,EAAQ,GAAG0b,YAAc,GAEtB4a,EAAa,GAE7B5a,EAAW,IACXA,EAAWxsB,SAAQ,SAAA46B,GACfiO,EAAqB7oC,SAAQ,SAAA+oC,GACzBj9B,OAAO8F,KAAKm3B,GAAI/oC,SAAQ,SAAAuI,IACf,OAADqyB,QAAC,IAADA,OAAA,EAAAA,EAAG0L,iBAAH,OAAoByC,QAApB,IAAoBA,OAApB,EAAoBA,EAAIzC,eAAiB1L,EAAEryB,KAC3CqyB,EAAEryB,GAAOwgC,EAAGxgC,cAM5BgkB,EAAW,IAAMC,EAAW,KACXD,EAAW9R,OAAO+R,GACpBxsB,SAAQ,SAACiM,EAAG9D,GACvBi/B,EAAWjnC,KAAKgI,GAChB0rB,GAAe7zB,SAAQ,YAAgB,IAAbqO,EAAY,EAAZA,MACtB,EAAKiX,SAAL,eAAiBjX,EAAQlG,EAAI8D,EAAEoC,WAI3CY,KAAKqW,SAAS,CAAEtY,aAAYq6B,UAASD,eACrCn4B,KAAKqW,SAAL,2BAAmBwjB,GAAnB,IAAiCl2B,YAAa,CAACyZ,OAGnDlmB,SAASuiB,iBAAiB,UAAWzZ,KAAKoZ,aAAa,G,mJAGlCpZ,KAAKqW,SAAS,M,+BAsU7B,IAAD,EAC0CrW,KAAKxP,MAA5CoW,EADH,EACGA,gBAAiBC,EADpB,EACoBA,UAAW/P,EAD/B,EAC+BA,OAEpC,OACI,kBAAC,IAAMwB,SAAP,KACI,kBAACoZ,GAAD,CAAQC,MAAO,CAAC,WAAY,aAAczD,KAAK,gCAA0BpX,OAAQA,IACjF,kBAACijC,GAAD,CACIlpC,KAAMmP,KAAKxP,MACXuP,MAAOC,KAAKtJ,MAAMqJ,MAClBuI,YAAatI,KAAKsI,YAClByvB,WAAY/3B,KAAK+3B,WACjB/zB,YAAahE,KAAKgE,YAClBsB,WAAYtF,KAAKsF,WACjBwyB,QAAS93B,KAAK83B,QACdzlB,aAAcrS,KAAKqS,aACnB2lB,QAASh4B,KAAKg4B,QACdC,SAAUj4B,KAAKi4B,SACf5W,QAASrhB,KAAKqhB,QACd6W,aAAcl4B,KAAKk4B,aACnB1lB,kBAAmBxS,KAAKwS,oBAE5B,kBAAC,GAAD,CAAYiC,KAAMzU,KAAKxP,MAAM4lB,aAAc1K,MAAO1L,KAAK6Y,MAAOlE,IAAK3U,KAAKxP,MAAM2lB,WAC7EvP,GAAmB,kBAACwO,GAAD,CAAaX,KAAM7N,EAAiB8E,MAAO1L,KAAKob,WAAYvU,UAAWA,EAAW0O,cAAevV,KAAKxP,MAAMsW,iB,GArarHlG,cCwbZM,MAFK,CAAC,WAAY,SAAU,wB,4MAvbvC1Q,MAAQ,CACJ2R,YAAa,GACbgU,SAAU,qBACVC,cAAc,EACdpT,MAAO,GACP4xB,UAAW,GACX/K,YAAY,EACZmQ,YAAa,GACbnF,YAAa,CAAC,GACdC,WAAY,EACZpX,eAAgB,GAChB1Q,YAAa,wEACb6f,WAAW,EACXpa,gBAAgB,G,EA2BpBnK,Y,uCAAc,WAAMpG,GAAN,2BAAArG,EAAA,yDAEJ8F,EAAa,EAAKjL,MAAMqJ,MAAxB4B,SACAtC,EAAS6C,EAAEqU,OAAXlX,KAEAjF,EAAU8H,EAAEqU,OAAZnc,MAEA26B,EAAcb,GAAY70B,EAAMjF,GACtC,EAAKic,SAAL,eAAiBhX,EAAO01B,IAEX,gBAAT11B,EAVM,oBAYF46B,EAAiBz9B,IAAMC,aAAa,EAAKjM,MAAM0pC,WAC/Cxc,EAAiBuc,EAAetiC,QAAO,SAAA7F,GAAC,OAAIA,EAAEqQ,cAAgB/H,KAAO/I,KAAI,SAAAS,GAAC,OAAIA,KAC9EmQ,EAAkBN,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEC,cAAgB/H,KAEvDsjB,EAAe5lB,OAAS,EACxB,EAAKue,SAAS,CAAEqH,iBAAgBzb,oBAC7B,EAAKoU,SAAS,CAAEqH,eAAgB,MACnCzb,EAnBE,kCAoBI,EAAKoU,SAAS,CAAElU,YAAaF,EAAgBE,YAAaF,oBApB9D,QAqBE7H,IAAU6H,EAAgBE,aAAa,EAAKkU,SAAS,CAAEpU,qBAAiB2D,IArB1E,wBAsBC,EAAKyQ,SAAS,CAAEpU,qBAAiB2D,IAtBlC,4C,wDA0Bd2C,W,uCAAa,WAAMrG,GAAN,2BAAArG,EAAA,sDACD6hB,EAAmB,EAAKltB,MAAxBktB,eACAre,EAAS6C,EAAEqU,OAAXlX,KACFjF,EAAU8H,EAAEqU,OAAZnc,MAHG,KAIDiF,EAJC,OAKA,aALA,OAYA,UAZA,8BAMqBqe,EAAe7rB,MAAK,SAAAqQ,GAAC,OAAIA,EAAEi4B,WAAa//B,OAE1D,EAAKic,SAAS,CAAExP,UAAW,gBAAiBD,iBAAiB,IAC7D,EAAKyP,SAAS,CAAE8jB,SAAU,MAT7B,gCAcG//B,EAdH,sBAeOA,EAAQ,KAff,kCAgBa,EAAKic,SAAS,CAAE6e,MAAO,KAhBpC,QAiBO96B,EAAQ,GACR,EAAKic,SAAS,CAAExP,UAAW,iBAAkBD,iBAAiB,IAlBrE,QAoBiB,MAAVxM,GAA2B,OAAVA,GAAmB9H,OAAO8H,IAYvC06B,EAAapX,EAAersB,KAAI,SAAAS,GAAC,OAAIsoC,WAAWtoC,EAAEojC,UACjD3xB,QAAO,SAAC1H,EAAG2H,GAAJ,OAAU3H,EAAI2H,KACpB62B,EAAeD,WAAWhgC,EAAMuC,QAAQ,IAAK,MAEnDm4B,GAAcuF,EAEd,EAAKhkB,SAAS,CAAEye,aAAYI,MAAOmF,MAfnCvF,GADIA,EAAapX,EAAersB,KAAI,SAAAS,GAAC,OAAIQ,OAAOR,EAAEojC,OAAS5iC,OAAOR,EAAEojC,OAAS,MACrD3xB,QAAO,SAAC1H,EAAG2H,GAAJ,OAAU3H,EAAI2H,KAEvC62B,EAAe/nC,OAAO8H,EAAMuC,QAAQ,IAAK,MAErB,kBAAfm4B,EAAyBA,GAAcuF,EAC7CvF,EAAauF,EAClB,EAAKhkB,SAAS,CAAEye,aAAYI,MAAOmF,KA7B1C,wF,wDA8Cb1G,S,sBAAW,8BAAA93B,EAAA,yDACHohB,EAAS,EAAKzsB,MAAMktB,eACpBsX,EAAU,KAGV,EAAKxkC,MAAMskC,WAAa,KALrB,uBAMH,EAAKze,SAAS,CAAEzP,iBAAiB,EAAMC,UAAW,eAN/C,kBAOI,MAPJ,cAUP8d,GAAW5zB,SAAQ,SAAAqT,GACfvH,OAAOC,OAAOk4B,EAAdn4B,OAAA,IAAAA,CAAA,GAA0BuH,EAAIhF,MAAQ,EAAK5O,MAAM4T,EAAIhF,YAEzD6d,EAAO9rB,QAAQ6jC,GAbR,SAeD,EAAK3e,SAAS,CAAEqH,eAAgBT,IAf/B,OAiBP0H,GAAW5zB,QAAX,uCAAmB,WAAMqT,GAAN,SAAAvI,EAAA,sEACT,EAAKwa,SAAL,eAAiBjS,EAAIhF,WAAQwG,IADpB,2CAAnB,uDAGA1O,SAAS8f,kBAAkB,aAAa,GAAGC,QApBpC,4C,EAuBX4c,Y,uCAAc,WAAM9hC,GAAN,iBAAA8J,EAAA,sDACNohB,EADM,YACO,EAAKzsB,MAAMktB,iBACtB0U,EAAQnV,EAAOlrB,IAEX+V,QAA2B,YAAjBsqB,EAAMtqB,QACtBsqB,EAAMkI,eAAiBlI,EAAMtqB,OAC7BsqB,EAAMtqB,OAAS,WAEQ,aAAb,OAALsqB,QAAK,IAALA,OAAA,EAAAA,EAAOtqB,QACZsqB,EAAMtqB,OAAN,OAAesqB,QAAf,IAAeA,OAAf,EAAeA,EAAOkI,eAEtBlI,EAAMtqB,OAAS,UAEnB,EAAKuO,SAAS,CAAEqH,eAAgBT,IAbtB,2C,wDAgBd4N,WAAa,SAAA94B,GAET,IAAIqjC,EAAY,EAAK5kC,MAAMktB,gBACG,IAA1B0X,EAAUrjC,GAAOg5B,KAAeqK,EAAUrjC,GAAOg5B,MAAO,GAExDqK,EAAUrkC,SAAQ,SAAAe,GAAC,OAAIA,EAAEi5B,MAAO,KAChCqK,EAAUrjC,GAAOg5B,MAAO,GAE5B,EAAK1U,SAAS,CAAEqH,eAAgB0X,K,EAGpCxB,WAAa,SAAA1xB,GAAM,IACP7C,EAAS6C,EAAEqU,OAAXlX,KACFjF,EAAU8H,EAAEqU,OAAZnc,MAEO,UAATiF,IAAkBjF,EAAQA,EAAMuC,QAAQ,IAAK,MACjD,IAAIy4B,EAAY,EAAK5kC,MAAMktB,eAAe/lB,QAAO,SAAA7F,GAAC,OAAe,IAAXA,EAAEi5B,QAAe,GACjEh5B,EAAQ,EAAKvB,MAAMktB,eAAexa,QAAQkyB,GAEhDA,EAAU/1B,GAAQjF,EAElB,IAAIi7B,EAAK,EAAK7kC,MAAMktB,eACpB2X,EAAGtjC,GAASqjC,EAEZ,EAAK/e,SAAS,CAAEqH,eAAgB2X,K,EAGpChjB,a,uCAAe,WAAMpK,GAAN,6DAAApM,EAAA,yDAELohB,EAAW,EAAKvmB,MAAMqJ,MAAtBkd,OAFK,EAG6D,EAAKzsB,MAAvEyR,EAHK,EAGLA,gBAAiByb,EAHZ,EAGYA,eAAgB5mB,EAH5B,EAG4BA,OAAQ28B,EAHpC,EAGoCA,eAAgB/gB,EAHpD,EAGoDA,KACzDjQ,EAAkBR,EAAlBQ,cACF0V,GAAyB,OAANrhB,QAAM,IAANA,GAAA,UAAAA,EAAQ+K,eAAR,eAAiB/J,SAAU,GAE9CrF,EAAM,IACN6L,SAAW,KAGIof,EACdrsB,KAAI,SAAAS,GAAC,OAAIQ,OAAOR,EAAEojC,UAClB3xB,QAAO,SAAC1H,EAAG2H,GAAJ,OAAU3H,EAAI2H,KAEP,KAfR,uBAgBP,EAAK6S,SAAS,CAAEzP,iBAAiB,EAAMC,UAAW,eAhB3C,kBAiBA,MAjBA,UAqBP0W,EAAa,GACbD,EAAa,IACb3a,EAAOgiB,GAAWtzB,KAAI,SAAAL,GAAE,OAAIwL,IAAM6vB,WAAWr7B,EAAGoO,WAC/ClN,OAAO,EAAG,GAGfwrB,EAAe3sB,SAAQ,SAAAskC,GAAO,IAAD,EACuBA,EAATlJ,GADd,EACnBhqB,YADmB,EACNyF,UADM,EACKmjB,KADL,oDAIzB,IAFAsK,EAAKlJ,GACF1pB,cAAgBA,EACd4yB,EAAGp4B,eAAe,WAYnBsgB,EAAWrsB,KAAKmkC,UACT9X,EAAW8U,YAba,CAC/B,IAIO,EAJD6G,EAAQjc,EAAOprB,MAAK,SAAAC,GAAC,OAAIA,EAAEqoC,WAAa9E,EAAG8E,YACjD,GAAIjB,EACA7D,EAAGhD,QAAU6G,EAAM7G,QACnB9U,EAAWrsB,KAAKmkC,OAEG,aAAb,QAAF,EAAAA,SAAA,eAAIvtB,UACJutB,EAAGvtB,OAAS,MACZwV,EAAWpsB,KAAKmkC,QAS1B/1B,EAAQ,SAAUlN,EAAU,WAE9Bg6B,EAAc,GACdmO,EAAS,GAKPL,EAAY19B,IAAMC,aAAa,EAAKjM,MAAM0pC,WAEhD3c,EAAWxsB,SAAQ,SAAA46B,GACfuO,EAAUnpC,QAAV,uCAAkB,WAAMe,GAAN,eAAA+J,EAAA,sDACV8vB,EAAE0G,UAAYvgC,EAAEugC,UAChBx1B,OAAO8F,KAAKgpB,GAAG56B,SAAQ,SAAAuI,IACfqyB,EAAEryB,IAAmB,KAAXqyB,EAAEryB,IAAgBqyB,EAAEryB,KAASxH,EAAEwH,IAAgB,YAARA,GACjDuD,OAAOC,OAAOy9B,EAAd19B,OAAA,IAAAA,CAAA,GAAyBvD,EAAMqyB,EAAEryB,QAIrCuD,OAAO8F,KAAK43B,GAAQziC,OAAS,IACN,aAAb,QAAN,EAAAyiC,SAAA,eAAQzyB,SACR6jB,EAAE7jB,OAAS,WACXyyB,EAAOzyB,OAAS,YAEf0yB,GAAU,EACfpO,EAAYl7B,KAAKqpC,KAEjBA,EAAOrF,OAASsF,KAASC,GAAc,GAC3CF,EAAS,IAjBC,2CAAlB,2DAwBJjd,EAAaA,EAAW3lB,QAAO,kBAA2B,YAA3B,EAAGmQ,WACvB/W,SAAQ,SAAA46B,GACf9uB,OAAO8F,KAAKgpB,GAAG56B,SAAQ,SAAAuI,GACdqyB,EAAEryB,IAAmB,KAAXqyB,EAAEryB,WAAoBqyB,EAAEryB,SAIvBikB,EAAW5lB,QAAO,SAAAg0B,GAAC,MAAkB,cAAb,OAADA,QAAC,IAADA,OAAA,EAAAA,EAAG7jB,WAG7B,IAAOwV,EAAW,IAAOmW,IAA+B,IAAbxrB,GAAuBuyB,EA7F5E,wBA8FPlF,MAAM,0CA9FC,8BAoGPnwB,GAAsB,EACtBu1B,EAAgBhd,EACX/lB,QAAO,SAAA7F,GAAC,YAAkB8T,IAAd9T,EAAEugC,WACdhhC,KAAI,SAAAS,GAAC,OAAIA,EAAEugC,WAGfpqB,KAAaqV,EAAWxlB,OAAS,GAAK2iC,GA1GhC,iBA2GP,EAAKpkB,SAAS,CAAEF,SAAU,2CA3GnB,4BA8GAskB,GAAqC,IAAtBnd,EAAWxlB,UAAiBmQ,EA9G3C,oBAgHPxV,EAAIoF,WAAY,EAChBpF,EAAI6L,SAASoG,SAAW,QAExB6Y,EAAa/gB,IAAMmc,eAAeyT,GAClC9O,EAAa9gB,IAAMmc,eAAe2E,GApH3B,YAwHCA,EAAWxlB,OAAS,GAxHrB,wBAyHCwlB,EAAWvsB,SAAQ,SAAA46B,GAAC,cAAWA,EAAE7jB,UAzHlC,UA0HO7L,KAAM8I,KAAK,iBAAkB,CAAEkY,OAAQK,EAAYhe,QAAOlN,YAC3DiK,MAAK,SAAAE,GAAC,OAAIA,EAAE1L,KAAKE,SAAQ,SAAA4pC,GAAQ,OAAID,EAAcxpC,KAAKypC,EAASC,gBA3HvE,QA4HCz1B,GAAsB,EA5HvB,aAgICoY,EAAWzlB,OAAS,GAhIrB,wBAiICylB,EAAWxsB,QAAX,uCAAmB,WAAO8pC,EAAQ3hC,GAAf,SAAA2C,EAAA,yDACQ,aAAb,OAANg/B,QAAM,IAANA,OAAA,EAAAA,EAAQ/yB,QADG,gCAEL7L,KAAMwJ,OAAN,uDAA6Do1B,EAAOD,WACrEprB,OAAM,SAAAC,GAAG,OAAIjd,QAAQC,IAAIgd,MAHnB,QAMI,IADDirB,EAAcx3B,QAAQ23B,EAAOD,YAEvCF,EAAcxoC,OAAOgH,EAAG,GACxBiM,GAAsB,GARf,2CAAnB,0DAYAoY,EAAaA,EAAW5lB,QAAO,kBAA2B,aAA3B,EAAGmQ,WACvB/W,SAAQ,SAAA46B,GAAC,cAAWA,EAAE7jB,UA9IlC,UA+IO7L,KAAMoJ,IAAI,kBAAmB,CAAE5F,aAAc8d,EAAYje,QAAOlN,UAASuQ,SAC1EtG,MAAK,SAAAE,GAAC,OAAI/J,QAAQC,IAAI8J,EAAE1L,SAhJ9B,2DAmJH2B,QAAQC,IAAR,MAnJG,eAwJXA,EAAG,2BACIA,GADJ,IAECrB,GAAE,OAAE0F,QAAF,IAAEA,OAAF,EAAEA,EAAQ1F,GACZ2W,UAAWtF,EACXiQ,OACA7Q,QAAS,GACT4F,cAAe0Q,EACflQ,aAGAmkB,EAAYt0B,OAAS,IAAGrF,EAAIoP,QAAQ0b,WAAa6O,GACjD9O,EAAWxlB,OAAS,IAAGrF,EAAIoP,QAAQyb,WAAaA,GAChDmW,GAAkB38B,IAAQrE,EAAIkR,YAAc,CAAC8vB,KAEhC,IAAbxrB,IAAoBxV,EAAIuV,UAAW,GACnCvV,EAAIoF,YAAWpF,EAAIwV,UAAW,IAG9BwrB,GAAmBtuB,GAAwBrO,IAC3CrE,EAAIoP,QAAQmB,MAAQywB,EACpBhhC,EAAI6L,SAAW,CACX+E,UAAW,iBACX0E,UAAWtF,IAGnBhQ,EAAI6L,SAAS2e,OAASyd,EAEtBrzB,GAAa5U,GACR4J,MAAK,SAAAE,GACF/J,QAAQC,IAAR,OAAY8J,QAAZ,IAAYA,OAAZ,EAAYA,EAAG1L,MACf,EAAKgoB,WAERrJ,OAAM,SAAAC,GAAG,OAAIjd,QAAQC,IAAIgd,MAG9B8N,EAAa,GACb6O,EAAc,GACdmO,EAAS,GACTjd,EAAa,GAEPwd,EAAct+B,IAAMmc,eAAe,EAAKjiB,MAAMqJ,MAAMkd,QAhM/C,UAiML,EAAK5G,SAAS,CAAE6jB,UAAWY,IAjMtB,yBAkML,EAAK/hB,aAlMA,QAmMPjiB,GACAgiB,YAAW,WAAQ,EAAKpiB,MAAMmL,QAAQ3Q,KAAK,mBAAoB,MApMxD,2D,wDAuMf8S,YAAc,SAAAhB,GACV,GAAIA,GAASA,EAAM,GAAI,CACnB,IAAMywB,EAAiB,IAAItvB,SAC3BsvB,EAAe9uB,OAAO,iBAAkB3B,EAAM,IAC9C,EAAKqT,SAAS,CAAEod,iBAAgB9tB,aAAc,S,EAItDL,W,uCAAa,WAAOjG,GAAP,iBAAAxD,EAAA,sDAEH43B,EAAmB,EAAKjjC,MAAxBijC,eACFza,EAAW1T,GAAWjG,EAAMo0B,GAEhC,EAAKpd,SAAL,2BAAmB,EAAK7lB,OAAUwoB,IALzB,2C,wDAQbD,WAAa,WAAO,IACR2E,EAAmB,EAAKltB,MAAxBktB,eACJA,GACAA,EAAe3sB,SAAQ,SAAAe,GAAC,OAAIA,EAAEi5B,MAAO,KAEzC,EAAK1U,SAAS,CACVlU,YAAa,GAAIF,qBAAiB2D,EAAW8X,eAAgB,GAC7D1Q,YAAa,wEACbymB,oBAAgB7tB,K,EAIxB4M,kBAAoB,kBAAM,EAAK6D,SAAS,CAAE5D,gBAAiB,EAAKjiB,MAAMiiB,kB,EACtE0G,aAAe,kBAAM,EAAK9C,SAAS,CAAEwT,YAAa,EAAKr5B,MAAMq5B,c,EAC7DzO,WAAa,kBAAM,EAAK/E,SAAS,CAAEzP,iBAAkB,EAAKpW,MAAMoW,mB,EAChEiS,MAAQ,kBAAM,EAAKxC,SAAS,CAAED,cAAe,EAAK5lB,MAAM4lB,gB,kEAxYnC,IAAD,aAEVrW,EAAUC,KAAKtJ,MAAfqJ,MACFjJ,EADA,UACSkJ,KAAKtJ,aADd,iBACS,EAAYG,gBADrB,iBACS,EAAsBrG,aAD/B,aACS,EAA6BsG,OACtCojC,EAAY19B,IAAMmc,eAAe5Y,EAAMkd,QAEvCS,EADS9Y,KAAK4C,MAAM5C,KAAKC,UAAU9E,EAAMkd,SACjBtlB,QAAO,SAAA7F,GAAC,OAAIA,EAAEqQ,cAAgB,EAAK3R,MAAM2R,eAErE,GAAIrL,EAAQ,CAEJ,IAAAwiB,EAAc0D,GAAiBlmB,EAAQiJ,EAAO2d,GAC5CN,EAA+B9D,EAA/B8D,UAAcyc,EADhB,aACiCvgB,EADjC,eAGJtZ,KAAKqW,SAAL,2BAAmBwjB,GAAnB,IAAiCl2B,YAAa,CAACyZ,GAAY8c,oBAE1Dl6B,KAAKqW,SAAS,CAAE6jB,YAAWxc,qB,6CAKhC1d,KAAKqW,SAAS,IACdnf,SAASwiB,oBAAoB,UAAW1Z,KAAKoZ,aAAa,K,+BAqXpD,IAAD,EACkDpZ,KAAKxP,MAApDktB,EADH,EACGA,eAAgB9W,EADnB,EACmBA,gBAAiBC,EADpC,EACoCA,UACnClF,EAAa3B,KAAKtJ,MAAMqJ,MAAxB4B,SAEN,OACI,kBAAC,IAAMrJ,SAAP,KACI,kBAACoZ,GAAD,CAAQC,MAAO,CAAC,WAAY,aAAczD,KAAK,4CAC/C,kBAAC6nB,GAAD,CACIllC,KAAMmP,KAAKxP,MACXysB,OAAQS,EACR/b,SAAUA,EACV2G,YAAatI,KAAKsI,YAClBC,WAAYvI,KAAKuI,WACjBorB,SAAU3zB,KAAK2zB,SACfE,YAAa7zB,KAAK6zB,YAClBhJ,WAAY7qB,KAAK6qB,WACjB+I,WAAY5zB,KAAK4zB,WACjB5vB,YAAahE,KAAKgE,YAClBqO,aAAcrS,KAAKqS,aACnB/M,WAAYtF,KAAKsF,WACjBkN,kBAAmBxS,KAAKwS,oBAE5B,kBAAC,GAAD,CAAYiC,KAAMzU,KAAKxP,MAAM4lB,aAAc1K,MAAO1L,KAAK6Y,MAAOlE,IAAK3U,KAAKxP,MAAM2lB,WAC7EvP,GAAmB,kBAACwO,GAAD,CAAaX,KAAM7N,EAAiB8E,MAAO1L,KAAKob,WAAYvU,UAAWA,S,GAnbnFjG,c,qBCjBXm6B,GACA,CACL/kC,MAAO,CACHkY,KAAM,0CACNpV,MAAO,SACP7D,UAAW,GACX+lC,QAAS,EACTC,QAAS,EACTC,UAAU,EACVljC,MAAO,CACHyB,SAAU,OACVE,WAAY,IACZH,WAAY,qDAGpB2hC,OAAQ,CAAEC,MAAM,GAChBC,MAAO,CACHjqC,GAAI,2BAERkqC,MAAO,CACH5qB,OAAQ,CACJ1Y,MAAO,CACHyB,SAAU,MACVE,WAAY,IACZH,WAAY,sDAIxB+hC,WAAY,CACRC,SAAS,GAGbC,YAAa,CAAEC,IAAK,CAAElnB,YAAY,KAI7BmnB,GACA,CACL3lC,MAAO,CACHkY,KAAM,wDACNpV,MAAO,SACP7D,UAAW,GACXhB,aAAc,GACd+mC,QAAS,EACTC,QAAS,EACTC,UAAU,EACVljC,MAAO,CACHyB,SAAU,OACVE,WAAY,IACZH,WAAY,qDAGpBiiC,YAAa,CACTG,IAAK,CACDC,MAAO,CACHnrB,OAAQ,CACJ0qB,MAAM,EACN/7B,KAAM,CACF+7B,MAAM,EACN3hC,SAAU,OACVD,WAAY,mDACZG,WAAY,IACZpG,MAAO,UACP0nC,SAAU,IAEd7gC,MAAO,CACHghC,MAAM,EACN3hC,SAAU,OACVD,WAAY,+BACZG,WAAY,IACZpG,MAAO,UACP0nC,QAAS,GACTa,UAAW,SAAUC,GACjB,OAAOA,IAGfC,MAAO,CACHZ,MAAM,EACNa,YAAY,EACZthC,MAAO,SACPlB,SAAU,OACVD,WAAY,+BACZG,WAAY,IACZpG,MAAO,eAM3B2oC,WAAY,CAAC,CACTC,WAAY,IACZnxB,QAAS,CACLqwB,MAAO,CACH/lC,MAAO,KAEX6lC,OAAQ,CACJvnC,SAAU,cCafwoC,I,OArGY,SAAC,GAE6D,IADnFz6B,EACkF,EADlFA,SAAUQ,EACwE,EADxEA,YAAaF,EAC2D,EAD3DA,gBAAiBo6B,EAC0C,EAD1CA,iBAAkB3rB,EACwB,EADxBA,OAAQE,EACgB,EADhBA,OAAQ0rB,EACQ,EADRA,YAAavX,EACL,EADKA,UAAWwX,EAChB,EADgBA,YAAaC,EAC7B,EAD6BA,KAC7Gl0B,EAAgF,EAAhFA,YAAam0B,EAAmE,EAAnEA,gBAAiBC,EAAkD,EAAlDA,gBAAiBjX,EAAiC,EAAjCA,YAAakX,EAAoB,EAApBA,cAIhE,OACI,0BAAM3jC,UAAU,cACZ,kBAACqP,GAAD,CACI1G,SAAUA,EACV9Q,KAAM,CAAEsR,eACRmG,YAAaA,IAEd+zB,GAAgD,IAA5BA,EAAiBvkC,OAEpC,oCACI,wBAAIE,MAAO,CAAE1C,MAAO,OAAQyT,UAAW,WACjC9G,EAAiDA,EAAgBE,YAA/C,gCADxB,kCACgHo6B,EADhH,2CAC+JC,EAD/J,KAGA,kBAAChrB,GAAA,EAAD,KACI,6BAASxY,UAAU,gBACf,kBAAC,KAAD,CACIgS,QAAO,2BAAO+vB,IAAP,IAAyBO,MAAM,2BAAMP,GAAiBO,OAAxB,IAA+BsB,WAAYlsB,MAChFmsB,OAAQ,CAAC,CAAEx9B,KAAM,cAAYxO,KAAM+f,IACnClgB,KAAK,MACL4E,MAAM,QAEV,kBAAC,KAAD,CACI0V,QAAO,2BAAO2wB,IAAP,IAA2BjrB,SAAQosB,OAxBvD,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,aAyB9ID,OAAQjsB,EACRlgB,KAAK,QACL4E,MAAM,UAIlB,kBAACkc,GAAA,EAAD,KACI,iCACI,+BACI,+BACI,4BACI,wBAAIxY,UAAU,UACVhB,MAAO,CAAEzE,MAAO,OAAQD,gBAAiB,0BACzCwd,QAASwrB,EAAYxkC,QAFzB,yBAEsDmK,EAAiDA,EAAgBE,YAA/C,gCAFxE,OAIJ,4BACKm6B,EAAYjrC,KAAI,SAACuG,EAAGsB,GAAJ,OAAU,wBAAII,IAAK1B,GAAIA,QAGhD,+BAEQmtB,EAAU1zB,KAAI,SAAC0rC,EAAa7jC,GAAd,OACV,wBAAII,IAAKJ,GACJ6jC,EAAY1rC,KAAI,SAACq2B,EAAG3W,GAAJ,OACb,wBAAI/X,UAAU,qBAAqBM,IAAKyX,GACnC2W,cAWrC,6BAAS1uB,UAAU,gBACf,kBAAC,KAAD,CACIgS,QAAS,CACLhV,MAAM,2BACC2lC,GAAmB3lC,OADrB,IAEDkY,KAAK,qBAAD,OAAuBuuB,EAAvB,wBAAsDC,KAE9DhsB,OAAQ,CAAC,mBAAoB,oBAC7BosB,OAAQ,CAAC,UAAW,YAExBD,OAAQ,CAACvqC,OAAOmqC,GAAkBnqC,OAAOoqC,IACzChsC,KAAK,MACL4E,MAAM,QAEV,kBAAC,KAAD,CACI0V,QAAS,CACLhV,MAAM,2BACC2lC,GAAmB3lC,OADrB,IAEDkY,KAAK,6BAAD,OAA+BuX,EAA/B,gCAAkEkX,KAE1EjsB,OAAQ,CAAC,kCAAgC,oCACzCosB,OAAQ,CAAC,UAAW,YAExBD,OAAQ,CAACvqC,OAAOmzB,GAAcnzB,OAAOqqC,IACrCjsC,KAAK,MACL4E,MAAM,MACN4J,OAAO,UA9EiC,gEAAmC+C,EAAgBE,gBChBjH66B,GAAM,SAAA/5B,GACR,IAAIg6B,EAAQ,YAAOh6B,GAEnB,GADAg6B,EAASC,QACLD,EAAS,GAET,OADcA,EAAS15B,QAAO,SAAC1H,EAAG2H,GAAJ,OAAU3H,EAAI2H,MAkB9C25B,GAAe,SAAAv/B,GAEjB,OAAOA,EACFjG,QAAO,SAAA4E,GAAC,OAAKA,EAAEwB,YAAeyI,KAAOjK,EAAEwB,YAAY0I,WAAaD,KAAOjK,EAAEwB,YAAYilB,SAASxc,SAAajK,EAAE0B,WAAa1B,KAC1HzE,QAuKMoJ,MAFK,CAAC,WAAY,aAlKd,SAAAxK,GAAU,IAsBrB0mC,EAAYf,EAtBQ,EAGK3lC,EAAMqJ,MAA7B5N,EAHkB,EAGlBA,SAAUwP,EAHQ,EAGRA,SAHQ,EAIY1K,mBAAS,IAJrB,mBAInBkL,EAJmB,KAINk7B,EAJM,OAKYpmC,wBAAS2O,GALrB,mBAKnB3D,EALmB,KAKFujB,EALE,OAMOvuB,mBAAS,IANhB,mBAMnBqmC,EANmB,KAMPC,EANO,OAOGtmC,mBAAS,IAPZ,mBAOnBumC,EAPmB,KAOTC,EAPS,OAQYxmC,mBAAS,IARrB,mBAQnBwuB,EARmB,KAQNC,EARM,KAuBpBzjB,GAAuC,KAApBA,GACnBm7B,EAAan7B,EAAgBQ,cAC7B45B,EAAmBlqC,EACdwF,QAAO,SAAArG,GAAC,OAAIA,EAAEmR,gBAAkB26B,MAClCf,EAAmBlqC,EAK1B,IACIurC,EACIrB,EACKhrC,KAAI,qBAAGqmB,iBACP/f,QAAO,SAAAgmC,GAAG,OAAY,OAARA,KACd55B,OAETw4B,EAAcmB,EAAOn6B,QAAO,SAAC1H,EAAG2H,GAAJ,OAAU3H,EAAI2H,EAAIk6B,EAAO5lC,SAAQ,GACjEykC,IAAe,IAAI94B,MAAO6H,cAAgBixB,GAAapnB,QAAQ,GAI/D,IAAIyoB,EAAU,GACdF,EAAO3sC,SAAQ,SAAUmR,QACF0D,IAAfg4B,EAAQ17B,KACR07B,EAAQ17B,GAAK,GAEjB07B,EAAQ17B,IAAM,KAIlB,IACI27B,EAAiBhhC,OAAO8F,KAAKi7B,GAC7BltB,EAAM,YAAOmtB,EAAe95B,MAAK,SAAClI,EAAG2H,GAAJ,OAAU3H,EAAI2H,MAC/CoN,EAAS/T,OAAO+T,OAAOgtB,GAEvBx5B,EAAM,GAAI05B,EAAM,GAAIC,EAAc,GACtCrtB,EAAO3f,SAAQ,SAAA4sC,GACXtB,EAAiBtrC,SAAQ,SAAAO,GACuC,IAAD,EAAvDA,EAAEomB,eAAiBpmB,EAAEomB,cAAcnmB,aAAeosC,IAClDG,EAAI5sC,KAAK,CAAE+M,UAAW3M,EAAE2M,UAAW4Z,UAAWvmB,EAAEumB,YAC3CzT,EAAIu5B,IACJ,EAAAv5B,EAAIu5B,IAAKzsC,KAAT,oBAAiB4sC,IADP15B,EAAIu5B,GAAOG,EAE1BA,EAAM,OAGdC,EAAYJ,GAAOv5B,EAAIu5B,GACvBv5B,EAAM,MAGV,IAAI45B,EAAU,EAAGC,EAAmB,CAAC,oBAAqBC,EAAe,GAAIC,EAAiB,CAAC,uBAE/FthC,OAAO8F,KAAKo7B,GAAahtC,SAAQ,SAAAqtC,GAC7BL,EAAYK,GAAMrtC,SAAQ,SAAAO,GACtB0sC,GAAW1sC,EAAEumB,aAGjBomB,EAAiB/sC,KAAK8sC,GACtBG,EAAejtC,MAAM8sC,EAAUD,EAAYK,GAAMtmC,QAAQqd,QAAQ,IAEjE,IAAMkpB,EAAMJ,EAAiB16B,QAAO,SAAC1H,EAAG2H,GAAJ,OAAU3H,EAAI2H,IAAG,GACrD06B,EAAahtC,KAAKmtC,GAClBL,EAAU,KAGdC,EAAiB/sC,KAAK8rC,GAAIiB,IAE1B,IACI3B,EAAc,CAAC,OACfS,EAAc,CAAC,wBAEnBT,EAAYprC,KAAZ,MAAAorC,EAAW,YAAS5rB,GAAT,QAAiB,WAC5BqsB,EAAY7rC,KAAZ,MAAA6rC,EAAW,YAASnsB,IACpBmsB,EAAY7rC,KAAK8rC,GAAID,IACrBoB,EAAejtC,KApHH,SAAA+R,GACZ,IAAIg6B,EAAWh6B,EAAM5R,KAAI,SAAA2nC,GAAC,OAAI1mC,OAAO0mC,MAGrC,GAFAiE,EAASC,QAELD,EAAS,GAKT,OAHUA,EAAS15B,QAAO,SAAC1H,EAAG2H,GAAJ,OAAU3H,EAAI2H,KACpBy5B,EAASnlC,QAEdqd,QAAQ,GA2GPmpB,CAAQH,IAE5B,IAAMpZ,EAAY,CAACgY,EAAaoB,EAAgBF,GAG5CzB,EAAOqB,EAAe95B,MAAK,SAAClI,EAAG2H,GAAJ,OAAUo6B,EAAQ/hC,GAAK+hC,EAAQp6B,MAC9Dg5B,EAAOA,EAAKA,EAAK1kC,OAAS,GAG1B,IAAMgvB,GAAc,IAAIrjB,MAAO6H,cAE/B/T,qBAAU,WAEN,IACIuvB,GAAc,IAAIrjB,MAAO6H,cACzBizB,EAAUpB,GAAad,GACvBmC,EAAanC,EACR1kC,QAAO,SAAArG,GAAC,OAAIw1B,EAAcx1B,EAAEomB,cAAgB,IAA0B,OAApBpmB,EAAEomB,iBACpD5f,OAETylC,EAAWgB,GACXd,EAASpB,EAAiBvkC,OAASymC,GACnC7Y,EAAe8Y,KAEhB,CAACnC,IAEJ,IAA0BK,EAAiB+B,EAAiB9B,EAAxDF,EAAkB,GAmBtB,OAjBIt6B,EAAYrK,OAAS,GAAKmK,GAC1Bw6B,EAAkBU,GAAad,GAE/BoC,EAAkBpC,EACb1kC,QAAO,SAAArG,GAAC,OAAIw1B,EAAcx1B,EAAEomB,cAAgB,IAA0B,OAApBpmB,EAAEomB,iBACpD5f,OAEL4kC,EAAkBL,EAAiBvkC,OAAS2kC,EAC5CE,EAAgBN,EAAiBvkC,OAAS2mC,IAG1ChC,EAAkBa,EAClBZ,EAAkBc,EAClBiB,EAAkBhZ,EAClBkX,EAAgBN,EAAiBvkC,OAAS2tB,GAI1C,kBAAC,GAAD,CACI9jB,SAAUA,EACVQ,YAAaA,EACbuO,OAAQA,EACRE,OAAQA,EACR0rB,YAAaA,EACbvX,UAAWA,EACX9iB,gBAAiBA,EACjBo6B,iBAAkBA,EAClBE,YAAaA,EACbC,KAAMA,EACNl0B,YA/IY,SAAApG,GAAM,IAGlBE,EAFIhI,EAAU8H,EAAEqU,OAAZnc,MACRijC,EAAejjC,GAGXA,EAAMtC,OAAS,GACfsK,EAAUT,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEC,cAAgB/H,OAClCorB,EAAWpjB,GAEvBojB,EAAW,KAuIZiX,gBAAiBA,EACjBC,gBAAiBA,EACjBjX,YAAagZ,EACb9B,cAAeA,O,0CCpLZ,SAASlsB,GAAT,GAC4E,IAAD,EADlDsU,EACkD,EADlDA,UAAW2Z,EACuC,EADvCA,aAAc1oC,EACyB,EADzBA,MAAO2oC,EACkB,EADlBA,WAAY3mC,EACM,EADNA,MAAOH,EACD,EADCA,UAAW+mC,EACZ,EADYA,SAClG/R,EAAsF,EAAtFA,UAAWgS,EAA2E,EAA3EA,aAAcz5B,EAA6D,EAA7DA,gBAAiB9E,EAA4C,EAA5CA,WAAYoL,EAAgC,EAAhCA,MAAOzG,EAAyB,EAAzBA,SAAU9C,EAAe,EAAfA,YA4CnE6e,EAAe,GACf8d,EAAc,GACdC,EAAW,GAiBf,GAfAha,EAAUh0B,SAAQ,SAAC0B,EAAKyG,GACpBwlC,EAAa3tC,SAAQ,SAAAqT,GAEZ4c,EAAaphB,SAASwE,EAAIpO,QAAQgrB,EAAa9vB,KAAKkT,EAAIpO,OAC3C,SAAdoO,EAAIhF,MACJ2/B,EAAS7tC,KAAT,2BAAmBkT,GAAnB,IAAwBrS,MAAOmH,EAAG8J,MAAK,OAAEvQ,QAAF,IAAEA,OAAF,EAAEA,EAAKuQ,SAE3B,UAAdoB,EAAIhF,MAAmB2/B,EAAS7tC,KAAT,2BAAmBkT,GAAnB,IAAwBpB,MAAK,OAAEvQ,QAAF,IAAEA,OAAF,EAAEA,EAAKuQ,SAC3DoB,EAAI3T,OAAQsuC,EAAS7tC,KAAT,2BAAmBkT,GAAnB,IAAwBhT,GAAE,OAAEqB,QAAF,IAAEA,OAAF,EAAEA,EAAKrB,MACjD2tC,EAAS7tC,KAAT,2BAAmBkT,GAAnB,IAAwBhK,MAAO3H,EAAI2R,EAAIhF,aAGhD0/B,EAAY5tC,KAAK6tC,GACjBA,EAAW,MAEXlnC,EAAW,CACX,IAAMqB,EAAI8nB,EAAa9d,QAAQ,8BAC/B8d,EAAa9nB,GAAK,eAEtB,IAAM8lC,GAAY,UAAAF,EAAY,UAAZ,eAAgBhnC,SAAU,GAE5C,OACI+0B,EAAY,oCACR,kBAAC,GAAD,CACIznB,gBAAiBA,EACjBsG,MAAOA,EACP0lB,OAAQ9wB,EACR2E,SAAUA,EACV9C,YAAaA,IAEjB,gCACI,yBAAKnJ,UAAU,YAAYhB,MAAO,CAC9BvE,QAAS,MACTqV,OAAQ,aACRlV,SAAU,WACVa,OAAQ,KACR6+B,OAAQ,OAER,kBAAC76B,EAAA,EAAD,CAAQI,QAAQ,WAAWtF,MAAM,UAAUsG,QAAS,kBAAMglC,GAAa,KACnE,kBAAC,KAAD,CAAenmC,KAAK,SACpB,0BAAMV,MAAO,CAAEvE,QAAS,cAAeyV,WAAY,MAAOzP,SAAU,WAApE,cAMZ,2BAAOzB,MAAO2mC,QAAc/4B,GACxB,+BACI,4BACI,wBAAI5M,UAAU,UACVhB,MAAOA,EACP8Y,QAASkuB,GAAYhpC,IAE7B,4BACKgrB,EAAa3vB,KAAI,SAACuG,EAAGsB,GAAJ,OAAU,wBAAII,IAAKJ,EAAGlB,MAAOA,GAAQJ,QAG/D,+BAEQknC,EAAYztC,KAAI,SAAC4tC,EAAUluB,GAAX,OACZ,wBAAIzX,IAAKyX,GAEDkuB,EAAS5tC,KAAI,SAAC+S,EAAKlL,GAAN,OACT,wBACII,IAAKJ,EACLlB,OAAU,OAAHoM,QAAG,IAAHA,OAAA,EAAAA,EAAKpM,OAAQoM,EAAIpM,MAAQA,EAChCgB,UAAwB,SAAboL,EAAI1T,MAAmB0T,EAAIgd,WAAa,QAAU,UAE/C,SAAbhd,EAAI1T,MAlH1B0J,EAkHuDgK,EAAIhK,MAjHtEoM,KAAOpM,EAAO,6BAA6B,GAAMqM,UAC1CD,KAAOpM,EAAOoM,KAAOwK,UAAU,GAAMC,OAAO,wBAE3C7W,IA+GiC,OAAHgK,QAAG,IAAHA,OAAA,EAAAA,EAAK3T,QA5G9B,SAACA,EAAQsB,EAAOiR,GAAW,IAAD,EACrCwH,IAAU,UAACua,EAAUhzB,UAAX,aAAC,EAAkB2gB,MAGnC,OAAQjiB,GACJ,IAAM,OACF,OACI,yBAAKuH,MAAO,CAAE7C,QAAS,OAAQ/B,eAAgB,eAC3C,0BACI4F,UAAU,SACVhB,MAAOwS,EARZ,CAAEmB,OAAQ,WAQqB,GAC1B/S,UAAU,OACV5C,MAAQwU,EAAyC,qCAA/B,mCAClB3Q,QAAS,kBAAM+kC,EAAS7sC,KACxB,kBAAC,KAAD,CAAUwB,MAAQiX,EAAsB,WAAZ,aAG/BxH,EACG,0BAAMhK,UAAU,SAASJ,UAAU,OAAO5C,MAAM,eAAe6D,QAAS,WAAQglC,EAAa77B,KAEzF,kBAAC,KAAD,OAGJ,0BAAMhL,MAAO,CAAEvE,QAAS,oBAAxB,QAIhB,IAAM,YACF,OAAO,kBAAC,KAAD,CAAUuE,MAAO,CAAEzE,MAAO,WACrC,QAAS,QA+E2C2rC,CAAa96B,EAAI3T,OAAL,OAAa2T,QAAb,IAAaA,OAAb,EAAaA,EAAKrS,MAAlB,OAAyBqS,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAKpB,OACpDoB,EAAIhK,OApHnC,IAAAA,WCdvB,IAsBe+kC,GAtBU,CACrB,CACI//B,MAAO,SACPpJ,MAAO,sBAEX,CACIoJ,MAAO,OACPpJ,MAAO,cAEX,CACIoJ,MAAO,YACPpJ,MAAO,sBACPtF,KAAM,QAEV,CACI0O,MAAO,OACPpJ,MAAO,+BACPvF,OAAQ,OACRuH,MAAO,CAAC+Q,UAAW,YCRZ,SAASq2B,GAAT,GAA+I,IAAzHC,EAAwH,EAAxHA,YAAaT,EAA2G,EAA3GA,SAAUU,EAAiG,EAAjGA,WAAYC,EAAqF,EAArFA,cAAe7zB,EAAsE,EAAtEA,MAAO9J,EAA+D,EAA/DA,YAAayb,EAAkD,EAAlDA,YAAawP,EAAqC,EAArCA,UAAWgS,EAA0B,EAA1BA,aAAc55B,EAAY,EAAZA,SAGvIpD,EAAYw9B,EAAZx9B,QACFd,EAAOyF,KAAM,OAAC84B,QAAD,IAACA,OAAD,EAACA,EAAY13B,WAAWqJ,OAAO,wBAC5CuuB,EAAe,GAYnB,OAVIA,EADAH,EAAYpiC,eAAe,aACZ,CACXqD,WAAY,YACZ8E,gBAAiBxD,GAGN,CACXtB,WAAY,YACZ8E,gBAAiBiY,GAIrB,0BAAMrkB,UAAU,cAAcymC,MAAO,CAAEnqC,MAAO,QACxCgqC,EAkBE,oCACI,4BAAQtmC,UAAU,iBACd,4DACA,6BACA,yBAAKA,UAAU,cAAf,uBAA0CsmC,QAA1C,IAA0CA,OAA1C,EAA0CA,EAAY33B,KAAtD,IAA6D5G,EAAO,SAAQA,EAAO,KAEvF,iCAEI,6BAAM,6BAAM,6BACZ,6BAAMu+B,EAAW5sB,OAErB,gCACI,yBAAK1Z,UAAU,YAAYhB,MAAO,CAC9BvE,QAAS,MACTqV,OAAQ,aACRlV,SAAU,WACVa,OAAQ,OAER,kBAACgE,EAAA,EAAD,CAAQI,QAAQ,WAAWtF,MAAM,UAAUsG,QAAS,kBAAM0lC,GAAc,KACpE,kBAAC,KAAD,CAAe7mC,KAAK,SACpB,0BAAMV,MAAO,CAAEvE,QAAS,cAAeyV,WAAY,MAAOzP,SAAU,WAApE,cArChB,kBAAC,GAAD,iBACQ+lC,EADR,CAEIza,UAAWljB,EACX68B,aAAcS,GACdrnC,OAAQqnC,GAAiBrnC,OACzB9B,MAAK,yCAAoBqpC,QAApB,IAAoBA,OAApB,EAAoBA,EAAaztB,QACtCxgB,GAAIiuC,EAAYjuC,GAChB+Q,YAAW,OAAEk9B,QAAF,IAAEA,OAAF,EAAEA,EAAaj9B,QAC1Bw8B,SAAUA,EACV5mC,MAAO,CAAEvE,QAAS,WAClBkrC,WAAY,CAAE1pC,UAAW,QACzB43B,UAAWA,EACXgS,aAAcA,EACdnzB,MAAOA,EACPzG,SAAUA,KA6BlB,kBAACwG,GAAD,CAAkBC,MAAOA,KCrEtB,SAASg0B,GAAT,GAA6D,IAA7B7nC,EAA4B,EAA5BA,UAAW8nC,EAAiB,EAAjBA,cACtD,OACI,4BAAQ3nC,MAAO,CAAE7C,QAAQ,OAAQ/B,eAAgB,WAAY8L,OAAQ,OAAQ0gC,aAAc,SACvF,kBAAC5zB,GAAA,EAAD,CACIhU,MAAO,CAAE/C,UAAW,QACpBgX,QACI,kBAACC,GAAA,EAAD,CACIC,SAAuB,IAAdtU,EACT2C,SAAU,kBAAMmlC,GAAe9nC,IAC/BuC,MAAOvC,IAGf8C,MAAO,uBAAG3C,MAAO,CAAEzE,MAAO,UAAWkG,SAAU,SAAUwU,MAAO,UAAzD,gDChBhB,IAAM4xB,GAAoB,CAC7B,CACIzgC,MAAO,SACPpJ,MAAO,aAEX,CACIoJ,MAAO,UACPpJ,MAAO,qBAEX,CACIoJ,MAAO,UACPpJ,MAAO,WAEX,CACIoJ,MAAO,UACPpJ,MAAO,cAEX,CACIoJ,MAAO,SACPpJ,MAAO,kBAEX,CACIoJ,MAAO,YACPpJ,MAAO,8BACPtF,KAAM,SChBC,eAAiF,IAArEq0B,EAAoE,EAApEA,UAAW/uB,EAAyD,EAAzDA,MAAOusB,EAAkD,EAAlDA,YAAaud,EAAqC,EAArCA,aAAcjoC,EAAuB,EAAvBA,UAEhEkoC,GAFuF,EAAZnB,SAE9Dh6B,KAAK4C,MAAM5C,KAAKC,UAAUkgB,KAC3Cgb,EAAWhvC,SAAQ,SAAAqT,GAAG,cAAWA,EAAIvC,WAiBrC,OACI,yBAAK7J,MAAO,CAAE8Q,OAAQ,UAAY9P,UAAU,WACxC,kBAAC,KAAD,CACIhD,MAAOA,EACPwpB,QAASqgB,GACThvC,KAAMkvC,EACN/nC,MAAO,CAAEwB,WAAY,WAAYC,SAAU,QAC3CuR,QAAS,CACL0hB,WAAW,EACXM,cAAc,EACdC,eAAgB,qBAChBC,UAAW,SAAC1N,EAAS3uB,IAMI,SAACs8B,EAASjgB,GAC3B,IACMkgB,EAAK,CAAEC,OAAQ,CAAE,KADZC,SAAWC,cAAcJ,IACCK,WAAY,CAAC,SAC5CC,EAAcH,SAAWF,EAAI,CAAEM,SAAU,OAAQh9B,KAAM,UACvDG,EAAO,IAAIqe,KAAK,CAACue,GAAc,CAAE/8B,KAR5B,oFASXi9B,UAAiB98B,EAAMqc,EARP,SAYpB8yB,CAzCA,SAAAC,GAChB,IAAMC,EAAe,CAAC,KAAM,IAAK,YAAa,YAAa,YAAa,YAAa,aAWrF,OAVAD,EAAQlvC,SAAQ,SAACqT,EAAKlL,GAClB2D,OAAO8F,KAAKyB,GAAKrT,SAAQ,SAAAuI,GACrBumC,GAAkB9uC,SAAQ,YAAuB,IAApBqO,EAAmB,EAAnBA,MAAOpJ,EAAY,EAAZA,MAC5BsD,IAAQ8F,GACRgF,EAAIpO,GAASoO,EAAI9K,UACV8K,EAAI9K,IACJ4mC,EAAatgC,SAAStG,WAAa8K,EAAI9K,YAIvD2mC,EA4BqBE,CAAYtvC,GAVT,uBAanBg9B,oBAAqB,EACrBC,iBAAkB,CAAEv6B,MAAO,OAAQkG,SAAU,QAC7Cs0B,YAAa,CAAEz6B,gBAAiB,WAChC06B,qBAAqB,EACrBC,SAAU,IAGdC,aAAc,CACV/T,OAAQ,CAAEgU,QAAS,gBACnB9e,KAAM,CACF+e,uBAAwB,+CACxBC,QAAS,CAAEC,WAAY,iDACvBC,cAAe,SACfC,UAAW,CAAEC,cAAe,YAEhCC,QAAS,CACLC,cAAe,WACfC,kBAAmB,WACnBC,WAAY,+BACZC,gBAAiB,WACjBC,YAAa,YAEjBC,WAAY,CAERC,gBAAiB,2BACjBC,mBAAoB,yBACpBC,aAAc,qBACdC,gBAAiB,qBACjBC,YAAa,uBACbC,YAAa,wBAIrBnB,QAAS,CACL,CACIle,KAAM,eACNsf,UAAW,CAAEh8B,MAAO,WACpBi8B,QAAS,mBACT31B,QAAS,SAACytB,EAAOmF,GAAR,OAAoBlK,EAAYkK,EAAO,MAEpD,SAAAA,GAAO,MAAK,CACRxc,KAAOpY,EAAkE,kCAAb,OAAP40B,QAAO,IAAPA,OAAA,EAAAA,EAAS3kB,QAAsC,QAAU,YAA3F,gCACnBynB,UAAW,CACPv2B,UAAYnB,EAAmC,GAAvB,qBACxBtE,MAA2B,kCAAb,OAAPk5B,QAAO,IAAPA,OAAA,EAAAA,EAAS3kB,QAAsC,YAAcjQ,EAAY,SAAW,YAE/F23B,SAAgB,OAAP/C,QAAO,IAAPA,OAAA,EAAAA,EAAS3kB,OAAO7W,MAAM,eACzB,8BACO,OAAPw7B,QAAO,IAAPA,OAAA,EAAAA,EAAS3kB,OAAO7W,MAAM,kBAClB,0BACoB,kCAAb,OAAPw7B,QAAO,IAAPA,OAAA,EAAAA,EAAS3kB,QACP,aACE,eACdjO,QAAS,SAACytB,EAAOmF,GAAR,OAAqB50B,EAA0C,KAA9BioC,EAAarT,EAAO,YC0BtF,IAEevrB,MAFK,CAAC,WAAY,WAAY,mBAAoB,uBAAwB,yBA5HzF,SAAsBxK,GAAQ,IAAD,EAG8BA,EAAMqJ,MAAvD5N,EAHmB,EAGnBA,SAAUwP,EAHS,EAGTA,SAAUC,EAHD,EAGCA,YAAayb,EAHd,EAGcA,YAHd,EAIWpmB,mBAAS,IAJpB,mBAIpBT,EAJoB,KAIP4pC,EAJO,OAKWnpC,oBAAS,GALpB,mBAKpBopC,EALoB,KAKPC,EALO,OAMMrpC,qBANN,mBAMpBspC,EANoB,KAMPC,EANO,OAOQvpC,oBAAS,GAPjB,mBAOpBY,EAPoB,KAOT8nC,EAPS,OAQS1oC,qBART,mBAQpBqoC,EARoB,KAQRC,EARQ,OASetoC,mBAAS,CAAE2P,iBAAiB,EAAO2O,cAAe,GAAID,YAAa,KATlF,mBASpBmrB,EAToB,KASHha,EATG,OAUOxvB,oBAAS,GAVhB,mBAUpB41B,EAVoB,KAUTgS,EAVS,OAWI5nC,qBAXJ,mBAWpBgO,EAXoB,KAWVy7B,EAXU,KAYnB95B,EAAgD65B,EAAhD75B,gBAAiB0O,EAA+BmrB,EAA/BnrB,YAAaC,EAAkBkrB,EAAlBlrB,cAGpChe,qBAAU,WACN,SAAS6hB,EAAYlX,GACC,KAAdA,EAAEmX,UACGwT,GAAcyS,GAAYgB,IAC3BzT,EAAWgS,GAAa,GACnBS,GAAYC,KAI7B,OADAroC,SAASuiB,iBAAiB,UAAWL,GAC9B,kBAAMliB,SAASwiB,oBAAoB,UAAWN,MACtD,CAACkmB,EAAYzS,IAGhBt1B,qBAAU,WAAM,4CAEZ,8BAAAsE,EAAA,sDAEU8kC,EAFV,YAE6BjqC,EAAMqJ,MAAMvJ,aAEjCoqC,EAAOD,EAAatvC,KAAI,SAAAoB,GAAQ,IAAD,IAC/BA,EAAI2P,QAAJ,UAAcT,EAAS9P,MAAK,SAAAqQ,GAAC,OAAIA,EAAEO,gBAAkBhQ,EAAIsV,oBAAzD,aAAc,EAAuD5F,YACrE1P,EAAI63B,QAAJ,UAAcn4B,EAASN,MAAK,SAAAP,GAAC,OAAIA,EAAE2M,YAAcxL,EAAIwL,oBAArD,aAAc,EAAmDD,MACpCvL,EAArBouC,IACR,OAJ+B,aAGFpuC,EAHE,YAOpBmuC,EAAX/oC,EAAkB+oC,EAAKjpC,QAAO,SAAAC,GAAC,OAAoB,IAAhBA,EAAEC,aAC7B+oC,EAAKjpC,QAAO,SAAAC,GAAC,OAAoB,IAAhBA,EAAEC,aAC/BuoC,EAAeQ,GAbnB,4CAFY,uBAAC,WAAD,wBAiBZE,KAED,CAAC3uC,EAAUwP,EAAU9J,EAAWnB,EAAMqJ,MAAMvJ,cAE/C,IAAMspC,EAAY,uCAAG,WAAM1uC,GAAN,mBAAAyK,EAAA,sDAEbpJ,EAAM+D,EAAY3E,MAAK,SAAA+F,GAAC,OAAIA,EAAExG,KAAOA,KACzCovC,EAAU/tC,IAENmE,EALa,UAKFoQ,GAAgBnV,MAAK,SAAA0K,GAAC,cAAI9J,QAAJ,IAAIA,OAAJ,EAAIA,EAAKwU,QAAQhW,MAAMsL,EAAE0K,mBAL7C,aAKF,EAA0D9P,MAC3DlG,MAAM,mBAAkB2F,EAAW,gBAAkBA,GACnEF,EAAMmL,QAAQ3Q,KAAK,CAAE0F,WAAUpG,MAAO,CAAEsG,OAAQrE,KAP/B,2CAAH,sDAUZ8vB,EAAW,uCAAG,WAAMnxB,GAAN,eAAAyK,EAAA,6DAChB0jC,GAAc,GACdV,GAAa,GAEPpsC,EAAM+D,EAAY3E,MAAK,SAAA+F,GAAC,OAAIA,EAAExG,KAAOA,KAJ3B,SAKVovC,EAAU/tC,GALA,OAMhB6tC,GAAe,GANC,2CAAH,sDAgCjB,OACI,oCACI,kBAACZ,GAAD,CACI7nC,UAAWA,EACX8nC,cAAeA,IAEnB,kBAACoB,GAAD,CACIhc,UAAWvuB,EACXR,MAAQ6B,EAA0C,mCAA9B,kCACpB0qB,YAAaA,EACbud,aAAcA,EACdjoC,UAAWA,EACXG,MAAO,CAAE+Q,UAAW,YAEvBs3B,GAAe,kBAACjB,GAAD,CACZC,YAAakB,EACb70B,MArBE,WACV40B,GAAe,GACfzB,GAAa,IAoBLD,SAxCK,SAAA7sC,GACb,GAAIwuC,IAAW,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAa1+B,SAAS,CAErC,IAAMy9B,EAAU,OAAGiB,QAAH,IAAGA,OAAH,EAAGA,EAAa1+B,QAAQ9P,GAExC,KAAI,OAACutC,QAAD,IAACA,OAAD,EAACA,EAAY5sB,MAAM,OACvB6sB,EAAcD,KAmCVA,WAAYA,EACZC,cAAeA,EACf39B,YAAaA,EACbyb,YAAaA,EACbwhB,aApCQ,SAACvjC,GACbA,GACAujC,GAAa,GACb6B,EAAWplC,IAEVujC,GAAa,IAgCVhS,UAAWA,EACX5nB,SAAUA,IAGb2B,GACG,kBAACwO,GAAD,CAAaX,KAAM7N,EAAiB8E,MAlCtB,kBAAM+a,EAAe,2BAAKga,GAAN,IAAuB75B,iBAAkBA,MAkCb2O,cAAeA,EAAeD,YAAaA,QC3E1G0rB,GAjCA,WACX,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,OAAK,EAAC9pC,KAAK,IAAIyB,UAAWsoC,KACjC,kBAAC,IAAD,CAAO/pC,KAAK,YAAY8pC,OAAK,EAACroC,UAAW0I,KACzC,kBAAC,IAAD,CAAOnK,KAAK,qBAAqB8pC,OAAK,EAACroC,UAAWuoC,KAClD,kBAAC,IAAD,CAAOhqC,KAAK,qBAAqB8pC,OAAK,EAACroC,UAAWwoC,KAClD,kBAAC,IAAD,CAAOjqC,KAAK,oBAAoB8pC,OAAK,EAACroC,UAAWyoC,KACjD,kBAAC,IAAD,CAAOlqC,KAAK,mBAAmB8pC,OAAK,EAACroC,UAAW0oC,KAChD,kBAAC,IAAD,CAAOnqC,KAAK,yBAAyB8pC,OAAK,EAACroC,UAAWgxB,KACtD,kBAAC,IAAD,CAAOzyB,KAAK,mBAAmB8pC,OAAK,EAACroC,UAAW2oC,KAChD,kBAAC,IAAD,CAAOpqC,KAAK,aAAayB,UAAW4oC,KACpC,kBAAC,IAAD,CAAOrqC,KAAK,YAAY8pC,OAAK,EAACroC,UAAW6oC,KACzC,kBAAC,IAAD,CAAOtqC,KAAK,qBAAqByB,UAAW8oC,KAC5C,kBAAC,IAAD,CAAOvqC,KAAK,mBAAmByB,UAAW+oC,KAC1C,kBAAC,IAAD,CAAOxqC,KAAK,yBAAyByB,UAAWgpC,KAChD,kBAAC,IAAD,CAAOzqC,KAAK,cAAcyB,UAAWipC,KACrC,kBAAC,IAAD,CAAO1qC,KAAK,OAAOyB,UAAWkpC,KAC9B,kBAAC,IAAD,CAAO3qC,KAAK,gBAAgB8pC,OAAK,EAACroC,UAAWmpC,KAC7C,kBAAC,IAAD,CAAO5qC,KAAK,yBAAyB8pC,OAAK,EAACroC,UAAWuoC,KACtD,kBAAC,IAAD,CAAOhqC,KAAK,yBAAyB8pC,OAAK,EAACroC,UAAWwoC,KACtD,kBAAC,IAAD,CAAOjqC,KAAK,wBAAwB8pC,OAAK,EAACroC,UAAWyoC,KACrD,kBAAC,IAAD,CAAOlqC,KAAK,6BAA6B8pC,OAAK,EAACroC,UAAWgxB,KAC1D,kBAAC,IAAD,CAAOzyB,KAAK,uBAAuB8pC,OAAK,EAACroC,UAAW0oC,KACpD,kBAAC,IAAD,CAAOnqC,KAAK,uBAAuB8pC,OAAK,EAACroC,UAAW+oC,KACpD,kBAAC,IAAD,CAAOxqC,KAAK,6BAA6B8pC,OAAK,EAACroC,UAAWgpC,OCdvDI,OAnBf,WAEE,IAAMC,EAAQC,YAAgBC,IAASC,IAAOC,IAAhCH,CAAuCI,KAErD,OACE,kBAAC,IAAD,CAAUL,MAAOA,EAAMrvC,IACrB,yBAAKoF,MAAO,CAAE1E,gBAAiB,YAC7B,kBAACivC,EAAA,EAAD,CAAWC,SAAS,KAAKxqC,MAAO,CAAEmJ,UAAW,UAC3C,kBAAC,IAAD,KACE,kBAAC,EAAD,MACA,kBAAC,GAAD,OAEF,kBAAC,EAAD,UCdU6gB,QACW,cAA7B1a,OAAOzQ,SAAS4rC,UAEe,UAA7Bn7B,OAAOzQ,SAAS4rC,UAEhBn7B,OAAOzQ,SAAS4rC,SAASxxC,MACvB,2DCbNyxC,IAASlW,OAAO,kBAAC,GAAD,MAASt1B,SAASyrC,eAAe,SD4H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMzmC,MAAK,SAAA0mC,GACjCA,EAAaC,kB","file":"static/js/main.47cea5b6.chunk.js","sourcesContent":["const initState = {}\r\n\r\nconst dataReducer = (state = initState, action) => {\r\n    const { type, payload } = action\r\n\r\n    switch (type) {\r\n\r\n        case 'GET_DATA':\r\n            return { ...state, ...payload }\r\n\r\n        case 'INSERT_DATA': {\r\n            const { collection, data } = payload\r\n\r\n            if (state[collection] && data) {\r\n                let update = [...state[collection]]\r\n                data.forEach(el => {\r\n                    if (collection.match('Logs')) update.push(el)\r\n                    else update.unshift(el)\r\n                })\r\n                return {\r\n                    ...state, [collection]: update\r\n                }\r\n            }\r\n            return state\r\n        }\r\n\r\n        case 'UPDATE_DATA': {\r\n            const { collection, data, id } = payload\r\n            if (state[collection] && data) {\r\n\r\n                const update = state[collection].map(v => {\r\n                    data.forEach(el => {\r\n                        if (v[id] === el[id] || v[id].toString() === el[id].toString()) {\r\n                            v = el\r\n                        }\r\n                    })\r\n                    return v\r\n                })\r\n                return {\r\n                    ...state, [collection]: update\r\n                }\r\n            }\r\n            return state\r\n        }\r\n\r\n\r\n        case 'UPDATE_COLLECTION': {\r\n            const { data, collection } = payload\r\n            // console.log(payload)\r\n            return {\r\n                ...state, [collection]: data\r\n            }\r\n        }\r\n\r\n        case 'REMOVE_FROM_INSURANCE':\r\n            const { apolice, placaIndex, vehicleIndex } = payload\r\n\r\n            if (state.seguros) {\r\n\r\n                let seguros = [...state.seguros],\r\n                    seguro = seguros.find(s => s.apolice === apolice),\r\n                    index = seguros.findIndex(s => s.apolice === apolice)\r\n\r\n                seguro.placas.splice(placaIndex, 1)\r\n                seguro.veiculos.splice(vehicleIndex, 1)\r\n                seguros[index] = seguro\r\n                // console.log(seguros)\r\n                return {\r\n                    ...state, seguros\r\n                }\r\n            }\r\n            return state\r\n\r\n        case 'DELETE_ONE':\r\n            const { tablePK, collection } = payload\r\n\r\n            if (state[collection]) {\r\n                let\r\n                    { id } = payload,\r\n                    updatedData = [...state[collection]]\r\n\r\n\r\n                if (!collection.match('Docs')) id = Number(id)\r\n                if (collection === 'laudos')\r\n                    id = id.toString()\r\n                \r\n                const\r\n                    element = updatedData.find(el => el[tablePK] === id),\r\n                    index = updatedData.findIndex(el => el[tablePK] === element[tablePK])\r\n                console.log(element, index)\r\n                updatedData.splice(index, 1)\r\n\r\n                return {\r\n                    ...state, [collection]: updatedData\r\n                }\r\n            }\r\n            return state\r\n\r\n        case 'SET_COLOR':\r\n            return { ...state, setColor: action.payload }\r\n\r\n        case 'LOADING':\r\n            return { ...state, loading: action.payload }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default dataReducer;","import dataReducer from './Store/dataReducer'\r\nimport { combineReducers } from 'redux';\r\n\r\nconst rootReducer = combineReducers({    \r\n    data: dataReducer    \r\n})\r\n\r\nexport default rootReducer","import React, { useState, useEffect } from 'react'\r\nimport { Link as RouterLink } from 'react-router-dom'\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { Toolbar, Typography, Button, IconButton, Link } from '@material-ui/core'\r\nimport Badge from '@material-ui/core/Badge';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { withRouter } from 'react-router'\r\nimport './stylez.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    toolbarTitle: {\r\n        flex: 1,\r\n    },\r\n    toolbarSecondary: {\r\n        justifyContent: 'space-between',\r\n        overflowX: 'auto',\r\n        backgroundColor: '#0398c1',\r\n        color: 'white'\r\n    },\r\n\r\n    toolbarLink: {\r\n        padding: '12px 55px 13px 55px',\r\n        flexShrink: 0,\r\n    },\r\n    mainFeaturedPost: {\r\n        position: 'relative',\r\n        backgroundColor: theme.palette.grey[800],\r\n        color: theme.palette.common.white,\r\n        marginBottom: theme.spacing(4),\r\n        backgroundImage: '/images/bus_wallpaper.jpg',\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n    },\r\n    overlay: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        left: 0,\r\n        backgroundColor: 'rgba(0,0,0,.3)',\r\n    },\r\n    mainFeaturedPostContent: {\r\n        position: 'relative',\r\n        padding: theme.spacing(3),\r\n        [theme.breakpoints.up('md')]: {\r\n            padding: theme.spacing(6),\r\n            paddingRight: 0,\r\n        },\r\n    },\r\n    mainGrid: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    card: {\r\n        display: 'flex',\r\n    },\r\n    cardDetails: {\r\n        flex: 1,\r\n    },\r\n    cardMedia: {\r\n        width: 160,\r\n    },\r\n    markdown: {\r\n        ...theme.typography.body2,\r\n        padding: theme.spacing(3, 0),\r\n    },\r\n    sidebarAboutBox: {\r\n        padding: theme.spacing(2),\r\n        backgroundColor: theme.palette.grey[200],\r\n    },\r\n    sidebarSection: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    footer: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        marginTop: theme.spacing(8),\r\n        padding: theme.spacing(6, 0),\r\n    },\r\n}));\r\n\r\nconst sections = [\r\n    { title: 'Pgina Inicial', link: '/' },\r\n    { title: 'Consultas', link: '/consultas' },\r\n    { title: 'Veculos', link: '/veiculos' },\r\n    { title: 'Empresas', link: '/empresas' },\r\n    { title: 'Relatrios', link: '/relatorios' },\r\n    { title: 'Solicitaes ', link: '/solicitacoes' },\r\n    //{ title: 'Fale Conosco', link: '/faleConosco' },\r\n];\r\n\r\nconst StyledBadge = withStyles((theme) => ({\r\n    badge: {\r\n      right: -8,\r\n      top: -1,\r\n      padding: '0 4px',\r\n    },\r\n  }))(Badge);\r\n\r\nconst Header = props => {\r\n\r\n\r\n    const\r\n        vehicleLogs = props?.vehicleLogs,\r\n        classes = useStyles(),\r\n        { pathname } = props.location,\r\n        demand = localStorage.getItem('demand')\r\n\r\n    const\r\n        [path, setSelected] = useState(document.location.pathname),\r\n        [logCounter, setLogCounter] = useState()\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if (vehicleLogs && Array.isArray(vehicleLogs)) {\r\n            const count = vehicleLogs\r\n                .filter(l => l.completed === false)\r\n                .length\r\n\r\n            setLogCounter(count)\r\n        }\r\n        setSelected(pathname)\r\n    }, [pathname, logCounter, vehicleLogs])\r\n\r\n    const selected = link => {\r\n        let\r\n            style = document.querySelector(\"a[href='/solicitacoes']\")?.style,\r\n            bgColor = '',\r\n            borderB = '',\r\n            borderT = '',\r\n            fontW = '400'\r\n\r\n        if (path === '/solicitacoes' || demand) {\r\n            if (style) {\r\n                style['background-color'] = '#11a7d2'\r\n                style['border-bottom'] = '1.5px solid #ccc'\r\n            }\r\n        }\r\n\r\n        else if (path.match(link) && link !== '/') {\r\n            bgColor = '#11a7d2'\r\n            borderB = '1.5px solid #ccc'\r\n            if (style) {\r\n                style['background-color'] = ''\r\n                style['border-bottom'] = ''\r\n            }\r\n        }\r\n        return { bgColor, borderB, borderT, fontW }\r\n    }\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n\r\n            <Toolbar>\r\n                <Button size=\"small\">Criar usurio</Button>\r\n                <Typography\r\n                    component=\"h2\"\r\n                    variant=\"h6\"\r\n                    color=\"inherit\"\r\n                    align=\"center\"\r\n                    noWrap\r\n                    className={classes.toolbarTitle}\r\n                >\r\n                    Seinfra - Subsecretaria de Transportes e Mobilidade - MG\r\n                    </Typography>\r\n                <IconButton>\r\n                    <SearchIcon />\r\n                </IconButton>\r\n                <Button variant=\"outlined\" size=\"small\">\r\n                    Fazer login\r\n                    </Button>\r\n            </Toolbar>\r\n            <Toolbar component=\"nav\" variant=\"dense\" className={classes.toolbarSecondary}>\r\n                {sections.map(({ link, title }, i) => (\r\n                    <Link\r\n                        component={RouterLink}\r\n                        to={link}\r\n                        key={i}\r\n                        color=\"inherit\"\r\n                        noWrap\r\n                        variant=\"body2\"\r\n                        href=\"\"\r\n                        style={{\r\n                            fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana, sans-serif',\r\n                            fontSize: '15px',\r\n                            backgroundColor: selected(link).bgColor,\r\n                            borderBottom: selected(link).borderB,\r\n                            fontWeight: selected(link).fontW,\r\n                            borderTop: selected(link).borderT\r\n                        }}\r\n                        className={classes.toolbarLink}\r\n                        onClick={() => setSelected(link)}\r\n                    >\r\n                        {\r\n                            title === 'Solicitaes ' ?\r\n\r\n                                <StyledBadge badgeContent={logCounter} color='secondary'>\r\n                                    <span>\r\n                                        {title}\r\n                                    </span>\r\n                                </StyledBadge>\r\n                                :\r\n                                title\r\n                        }\r\n                    </Link>\r\n                ))}\r\n            </Toolbar>\r\n        </React.Fragment >\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        vehicleLogs: state.data.vehicleLogs,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(withRouter(Header))","import React from 'react'\r\nimport humps from 'humps'\r\n\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { getData, insertData, updateData, updateCollection, deleteOne, updateDocs } from './dataActions'\r\n\r\nimport Loading from '../Layouts/Loading'\r\nimport { configVehicleForm } from '../Forms/configVehicleForm'\r\n\r\nconst socketIO = require('socket.io-client')\r\nlet socket\r\n\r\nexport default function (requestArray, WrappedComponent) {\r\n\r\n    let collections = []\r\n    if (!requestArray.includes('logs/vehicleLogs')) requestArray.push('logs/vehicleLogs')\r\n    collections = requestArray.map(req => req.replace('getFiles/', '').replace('lookUpTable/', '').replace('logs/', ''))\r\n\r\n    class With extends React.Component {\r\n\r\n        async componentDidMount() {\r\n            const { redux } = this.props\r\n            let request = []\r\n            \r\n            requestArray.forEach(req => {\r\n                const colName = req.replace('getFiles/', '').replace('lookUpTable/', '').replace('logs/', '')\r\n                if (!redux[colName] || !redux[colName][0]) {\r\n                    request.push(req)\r\n                }\r\n            })\r\n            \r\n            if (request[0]) await this.props.getData(request)\r\n\r\n            if (!socket) socket = socketIO()\r\n            socket.on('insertVehicle', insertedObjects => this.props.insertData(insertedObjects, 'veiculos'))\r\n            socket.on('insertInsurance', insertedObjects => this.props.insertData(insertedObjects, 'seguros'))\r\n            socket.on('insertEmpresa', insertedObjects => this.props.insertData(insertedObjects, 'empresas'))\r\n            socket.on('insertSocios', insertedObjects => this.props.insertData(insertedObjects, 'socios'))\r\n            socket.on('insertProcuradores', insertedObjects => this.props.insertData(insertedObjects, 'procuradores'))\r\n            socket.on('insertElements', ({ insertedObjects, collection }) => this.props.insertData(insertedObjects, collection))\r\n\r\n            socket.on('addElements', ({ insertedObjects, table }) => {\r\n                const { collection } = configVehicleForm.find(el => el.table === table)\r\n                this.props.insertData(insertedObjects, collection)\r\n            })\r\n\r\n            socket.on('updateVehicle', updatedObjects => this.props.updateData(updatedObjects, 'veiculos', 'veiculoId'))\r\n            socket.on('updateInsurance', updatedObjects => this.props.updateCollection(updatedObjects, 'seguros'))\r\n            socket.on('updateSocios', updatedObjects => this.props.updateCollection(updatedObjects, 'socios'))\r\n            socket.on('updateProcuradores', ({ collection, data, primaryKey }) => this.props.updateData(data, collection, primaryKey))\r\n            socket.on('updateLogs', updatedObjects => this.props.updateData(updatedObjects, 'vehicleLogs', 'id'))\r\n            socket.on('updateAny', ({ ids, collection, primaryKey }) => this.props.updateData(ids, collection, primaryKey))\r\n            socket.on('updateDocs', ({ ids, metadata, collection, primaryKey }) => this.props.updateDocs(ids, metadata, collection, primaryKey))\r\n            socket.on('updateElements', ({ collection, updatedCollection }) => this.props.updateCollection(updatedCollection, collection))\r\n\r\n            socket.on('deleteOne', object => {\r\n                const { id, tablePK, collection } = object\r\n                this.props.deleteOne(id, tablePK, collection)\r\n            })\r\n\r\n            socket.on('insertFiles', object => {\r\n                const { insertedObjects, collection } = object\r\n                this.props.insertData(insertedObjects, collection)\r\n            })\r\n        }\r\n        componentWillUnmount() {\r\n            if (!socket) socket = socketIO(':3001')\r\n            const clearAll = ['insertVehicle', 'insertInsurance', 'insertEmpresa', 'insertSocios', 'insertFiles',\r\n                'insertElements', 'insertProcuradores', 'updateVehicle', 'updateInsurance', 'updateSocios', 'updateLogs', 'deleteOne',\r\n                'updateDocs', 'updateAny']\r\n\r\n            clearAll.forEach(el => socket.off(el))\r\n        }\r\n        render() {\r\n\r\n            collections = collections.map(c => humps.camelize(c))\r\n\r\n            if (collections.length === 0 || !collections.every(col => this.props.redux.hasOwnProperty(col))) {\r\n                return <Loading />\r\n            }\r\n            else {\r\n                return <WrappedComponent {...this.props} />\r\n            }\r\n        }\r\n    }\r\n\r\n    function mapStateToProps(state) {\r\n        return {\r\n            redux: {\r\n                ...state.data,\r\n            }\r\n        }\r\n    }\r\n\r\n    function mapDispatchToProps(dispatch) {\r\n        return bindActionCreators({ getData, insertData, updateData, updateCollection, deleteOne, updateDocs }, dispatch)\r\n    }\r\n\r\n    return connect(mapStateToProps, mapDispatchToProps)(With)\r\n}\r\n","//import React from 'react'\r\n\r\nconst Footer = () => {\r\n    return null\r\n    \r\n    /* (\r\n        <footer className=\"grey lighten-2 black-text\"\r\n            style={{\r\n                \r\n                bottom: 0,\r\n                width: '100%',\r\n                borderTop: '0.1px solid #999',\r\n                marginTop: 'auto',\r\n                maxHeight: '20px',\r\n                left: 0\r\n            }}>\r\n            <span style={{ fontSize: '0.6rem' }}>\r\n                Seinfra, Governo de Minas Gerais. Desenvolvido por Sandro Verssimo,  2019.\r\n            </span>\r\n        </footer>\r\n    ) */\r\n}\r\n\r\nexport default Footer;","import React from 'react'\r\nimport { Tabs, Tab } from '@material-ui/core'\r\n\r\nexport default ({items, tab, changeTab}) =>\r\n\r\n    <div className='tabMenu'> \r\n        <Tabs value={tab}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            centered \r\n            onChange={changeTab}>\r\n            {items.map((item, i)=> <Tab key={i} label={item} />)}\r\n        </Tabs>\r\n    </div>\r\n\r\n\r\n","export const idsToString = (veiculos, equipamentos, acessibilidade) => {\r\n\r\n    let equipNames = [], accessNames = []\r\n\r\n    const equips = veiculos.map(v => {\r\n        if (!v?.equipa) v.equipa = []\r\n        if (!v?.acessibilidadeId) v.acessibilidadeId = []\r\n\r\n        v.equipa.forEach(eqId => {\r\n            equipamentos.forEach(({ id, item }) => {\r\n                if (id === eqId) equipNames.push(item)\r\n            })\r\n        })\r\n\r\n        v.acessibilidadeId.forEach(eqId => {\r\n            acessibilidade.forEach(({ id, item }) => {\r\n                if (id === eqId) accessNames.push(item)\r\n            })\r\n        })\r\n        const result = { ...v, equipamentos: equipNames, acessibilidade: accessNames }\r\n        equipNames = []\r\n        accessNames = []\r\n        return result\r\n    })\r\n    return equips\r\n}\r\n\r\nexport const setNamesFromIds = (collection, ids) => {\r\n\r\n    let namesArray = []\r\n    ids.forEach(elementId => {\r\n        collection.forEach(({ id, item }) => {\r\n            if (elementId === id) namesArray.push(item)\r\n        })\r\n    })\r\n    return namesArray\r\n}","import axios from 'axios'\r\nimport humps from 'humps'\r\nimport { batch } from 'react-redux'\r\nimport { idsToString } from '../Utils/idsToString'\r\n\r\nexport const getData = (collectionsArray = []) => {\r\n    return async (dispatch, getState) => {\r\n        let\r\n            promiseArray = [],\r\n            globalState = {}\r\n\r\n        if (collectionsArray.length > 0) {\r\n            collectionsArray.forEach(collectionName => {\r\n                promiseArray.push(axios.get(`/api/${collectionName}`))\r\n            })\r\n\r\n            await Promise.all(promiseArray)\r\n                .then(res => res.map(r => humps.camelizeKeys(r.data)))\r\n                .then(responseArray => {\r\n                    responseArray.forEach((el, i) => {\r\n                        let key = collectionsArray[i]\r\n                            .replace('getFiles/', '')\r\n                            .replace('lookUpTable/', '')\r\n                            .replace('logs/', '')\r\n                        key = humps.camelize(key)\r\n                        Object.assign(globalState, { [key]: el })\r\n                    })\r\n                })\r\n        }\r\n\r\n        if (['acessibilidade', 'equipamentos'].every(p => globalState.hasOwnProperty(p))) {\r\n            const { acessibilidade, equipamentos } = globalState\r\n            let veiculos = globalState.veiculos || getState().data?.veiculos\r\n\r\n            const updatedData = idsToString(veiculos, equipamentos, acessibilidade)\r\n            globalState.veiculos = updatedData\r\n        }\r\n\r\n        dispatch({\r\n            type: 'GET_DATA',\r\n            payload: globalState\r\n        })\r\n    }\r\n}\r\n\r\nexport const insertData = (dataFromServer, collection) => (dispatch, getState) => {\r\n\r\n    let data = humps.camelizeKeys(dataFromServer)\r\n    const\r\n        payload = { collection, data },\r\n        seguradoras = getState().data.seguradoras\r\n\r\n    if (!seguradoras) {\r\n        dispatch({ type: 'INSERT_DATA', payload })\r\n        return\r\n    }\r\n\r\n    if (collection === 'veiculos' && data[0]) {\r\n\r\n        const { acessibilidade, equipamentos } = getState().data\r\n\r\n        let\r\n            eqNames = [],\r\n            acNames = []\r\n\r\n        if (data[0]?.equipa) {\r\n            data[0].equipa.forEach(eqId => {\r\n                equipamentos.forEach(({ id, item }) => {\r\n                    if (eqId.toString() === id.toString()) eqNames.push(item)\r\n                })\r\n            })\r\n        }\r\n\r\n        if (data[0]?.acessibilidadeId) {\r\n            data[0].acessibilidadeId.forEach(acId => {\r\n                acessibilidade.forEach(({ id, item }) => {\r\n                    if (acId.toString() === id.toString()) {\r\n                        acNames.push(item)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n        data[0].equipamentos = eqNames\r\n        data[0].acessibilidade = acNames\r\n    }\r\n\r\n    if (collection === 'seguros' && data[0].placas && data[0].placas.length === 1) {\r\n\r\n        const seguradora = seguradoras.find(sg => sg.id === data[0].seguradoraId)\r\n        let\r\n            seguro = data[0],\r\n            plates = [], vehicles = [],\r\n            veiculos = getState().data.veiculos,\r\n\r\n            updatedCollection = veiculos.map(v => {\r\n                if (v.apolice === seguro.apolice) {\r\n                    v.seguradora = seguradora.seguradora\r\n                    v.dataEmissao = seguro.dataEmissao\r\n                    v.vencimento = seguro.vencimento\r\n                }\r\n                return v\r\n            })\r\n\r\n        veiculos.forEach(v => {\r\n            if (v.apolice === seguro.apolice) {\r\n                plates.push(v.placa)\r\n                vehicles.push(v.veiculoId)\r\n            }\r\n        })\r\n        seguro.placas = plates\r\n        seguro.veiculos = vehicles\r\n        seguro = [seguro]\r\n\r\n        const collectionPayload = { data: updatedCollection, collection: 'veiculos' }\r\n        batch(() => {\r\n            dispatch({ type: 'INSERT_DATA', payload: { data: seguro, collection: 'seguros' } })\r\n            dispatch({ type: 'UPDATE_COLLECTION', payload: collectionPayload })\r\n        })\r\n    } else dispatch({ type: 'INSERT_DATA', payload })\r\n\r\n}\r\n\r\nexport const updateData = (dataFromServer, collection, id) => (dispatch, getState) => {\r\n\r\n    //Se a collection for vehicleDocs, o que vem do servidor so os ids\r\n    let i = 0\r\n    if (i > 0) return\r\n    let data = humps.camelizeKeys(dataFromServer)\r\n   \r\n    const { equipamentos, acessibilidade } = getState().data\r\n    if (collection === 'veiculos' && equipamentos && acessibilidade)\r\n        data = idsToString(data, equipamentos, acessibilidade)\r\n\r\n    const payload = { collection, data, id }\r\n\r\n    dispatch({ type: 'UPDATE_DATA', payload })\r\n    return\r\n}\r\n\r\nexport const updateDocs = (ids, metadata, collection, primarykey) => (dispatch, getState) => {\r\n\r\n    const stateCollection = getState().data[collection]\r\n\r\n    if (ids && ids[0] && metadata) {\r\n        let selectedDocs = stateCollection.filter(doc => ids.some(id => id === doc[primarykey]))\r\n\r\n        selectedDocs.forEach(doc => {\r\n            const meta = Object.assign({}, doc.metadata, metadata)\r\n            doc.metadata = meta\r\n        })\r\n\r\n        const payload = { collection, data: selectedDocs, id: primarykey }\r\n        dispatch({ type: 'UPDATE_DATA', payload })\r\n    }\r\n\r\n}\r\n\r\nexport const updateCollection = (data, collection) => dispatch => {\r\n\r\n    data = humps.camelizeKeys(data)\r\n    const payload = { data, collection }\r\n\r\n    dispatch({\r\n        type: 'UPDATE_COLLECTION',\r\n        payload\r\n    })\r\n}\r\n\r\nexport const updateInsurance = ({ value, ids }) => (dispatch, getState) => {\r\n    const\r\n        apolice = value,\r\n        seguros = getState().data.seguros,\r\n        veiculos = getState().data.veiculos\r\n\r\n    if (!seguros || !veiculos) return\r\n\r\n    let seguro = seguros.find(s => s.apolice === apolice),\r\n        placas = seguro.placas || [], vehicleIDs = seguro.veiculos || []\r\n\r\n    veiculos.forEach(v => {\r\n        ids.forEach(id => {\r\n            if (v.veiculoId === id) {\r\n                placas.push(v.placa)\r\n                vehicleIDs.push(v.veiculoId)\r\n            }\r\n        })\r\n    })\r\n\r\n    seguro.placas = placas\r\n    seguro.veiculos = vehicleIDs\r\n    seguro = [seguro]\r\n\r\n    const payload = { collection: 'seguros', data: seguro, id: 'apolice' }\r\n\r\n    dispatch({ type: 'UPDATE_DATA', payload })\r\n}\r\n\r\nexport const removeInsurance = (apolice, placaIndex, vehicleIndex) => dispatch => {\r\n\r\n    dispatch({\r\n        type: 'REMOVE_FROM_INSURANCE',\r\n        payload: { apolice, placaIndex, vehicleIndex }\r\n    })\r\n}\r\n\r\nexport const deleteOne = (id, tablePK, collection) => dispatch => {\r\n    tablePK = humps.camelize(tablePK)\r\n    dispatch({\r\n        type: 'DELETE_ONE',\r\n        payload: { id, tablePK, collection }\r\n    })\r\n}","import React from 'react'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className='loading'>\r\n            <img src=\"/images/loading.gif\" alt=\"\" height=\"60px\" width=\"60px\" />\r\n            <p> Carregando... </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading","export const configVehicleForm = [\r\n\r\n    {\r\n        collection: 'equipamentos',\r\n        field: 'item',\r\n        label: 'Equipamentos',\r\n        name: 'equipamentosId',\r\n        table: 'equipamentos'\r\n    },\r\n    {\r\n        collection: 'acessibilidade',\r\n        field: 'item',\r\n        label: 'Itens de acessibilidade',\r\n        name: 'acessibilidadeId',\r\n        table: 'acessibilidade'\r\n    },\r\n    {\r\n        collection:'marcaCarroceria',\r\n        field: 'marca',\r\n        label: 'Marcas de Carroceria',\r\n        name:'marcaCarroceria',\r\n        table: 'marca_carroceria'\r\n    },\r\n    {\r\n        collection: 'carrocerias',\r\n        field: 'modelo',\r\n        label: 'Modelos de Carroceria',\r\n        name:'modeloCarroceria',\r\n        table: 'modelo_carroceria'\r\n    },\r\n    {\r\n        collection: 'marcaChassi',\r\n        field: 'marca',\r\n        label: 'Marcas de Chassi',\r\n        name: 'marcaChassi',\r\n        table: 'marca_chassi'\r\n    },\r\n    {\r\n        collection: 'modelosChassi',\r\n        field: 'modeloChassi',\r\n        label: 'Modelos de Chassi',\r\n        name: 'modeloChassi',\r\n        table: 'modelo_chassi'\r\n    },\r\n    {\r\n        collection: 'seguradoras',\r\n        field: 'seguradora',\r\n        label: 'Seguradoras',\r\n        name: 'seguradora',\r\n        table: 'seguradora'\r\n    },\r\n    {\r\n        collection: 'laudos',        \r\n        table: 'laudos'\r\n    }\r\n\r\n]","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport StoreHOC from './Store/StoreHOC'\r\nimport './home.css'\r\n\r\nconst featuredPosts = [\r\n    {\r\n        title: 'Veculos',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastre e altere os dados do veculo ou solicite sua baixa',\r\n        link: '/veiculos',\r\n        imageUrl: '/images/vehicles.jpg'\r\n    },\r\n    {\r\n        title: 'Empresas',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastre e gerencie dados de empresas, scios e procuradores',\r\n        link: '/empresas',\r\n        imageUrl: '/images/empresas12.jpg'\r\n    },\r\n    {\r\n        title: 'Consultas',\r\n        date: '03/Dez',\r\n        description:\r\n            'Consulte e gerencie dados de veculos, seguros e empresas',\r\n        link: '/consultas',\r\n        imageUrl: '/images/consultas2.jpg'\r\n    },\r\n    {\r\n        title: 'Relatrios',\r\n        date: '03/Dez',\r\n        description:\r\n            'Acompanhe a situao dos veculos por meio de grficos e tabelas',\r\n        link: '/relatorios',\r\n        imageUrl: '/images/relatorios.jpg'\r\n    },\r\n]\r\n\r\n function Home () {\r\n\r\n    return (\r\n        <React.Fragment>            \r\n            <div\r\n                style={{\r\n                    minHeight: '83vh',\r\n                    width: '100%',\r\n                    height: 'auto',\r\n                }}>\r\n                <main className=\"homeMainPost\">\r\n                    <h1>\r\n                        SisMob - MG\r\n                    </h1>\r\n                    <h2>\r\n                        Sistema de Gesto da Mobilidade do Estado de Minas Gerais\r\n                    </h2>\r\n                </main>\r\n                <section className='homeCardsContainer'>\r\n                    {featuredPosts.map(({ link, title, description, imageUrl }, i) => (\r\n                        <div key={i} className='homeCard'>\r\n\r\n                            <Link to={link} style={{ textDecoration: 'none' }}>\r\n                                <div className='homeCard'>\r\n                                    <div className=\"homeCardText\">\r\n                                        <h6 className=\"homeCardText\" style={{fontWeight: 500}}>\r\n                                            {title}\r\n                                        </h6>\r\n                                        <p className=\"homeCardText\">\r\n                                            {description}\r\n                                        </p>\r\n                                       \r\n                                    </div>\r\n                                    <div className='homeImage'>\r\n                                        <img src={imageUrl} alt={title} className='homeImage' />\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n\r\n                        </div>\r\n                    ))}\r\n                </section>\r\n            </div >\r\n        </React.Fragment >\r\n    )\r\n}\r\n\r\nexport default StoreHOC(['logs/vehicleLogs'], Home)","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './veiculos.css'\r\n\r\nconst menuCards = [\r\n    {\r\n        title: 'Cadastro de Veculos',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastrar um novo veculo no sistema',\r\n        imageUrl: '/images/add_new.jpg',\r\n        link: '/cadastro'\r\n    },\r\n    {\r\n        title: 'Alterao de dados',\r\n        date: '07/Nov',\r\n        description:\r\n            'Alterar dados de um veculo',\r\n        link: '/altDados',\r\n        imageUrl: '/images/pen.png'\r\n    },\r\n    {\r\n        title: 'Seguros',\r\n        date: '07/Nov',\r\n        description:\r\n            'Atualizar seguros e aplices',\r\n        link: '/seguros',\r\n        imageUrl: \"/images/car_insurance2.png\"\r\n    },\r\n    {\r\n        title: 'Laudos',\r\n        date: '07/Nov',\r\n        description:\r\n            'Laudos de segurana veicular',\r\n        link: '/laudos',\r\n        imageUrl: \"/images/laudos.png\"\r\n    },\r\n    {\r\n        title: 'Baixa',\r\n        date: '07/Nov',\r\n        description:\r\n            'Baixa de veculos',\r\n        link: '/baixaVeiculo',\r\n        imageUrl: \"/images/remove_doc.png\"\r\n    },\r\n    {\r\n        title: 'Configuraes',\r\n        date: '07/Nov',\r\n        description:\r\n            'Chassi, carrocerias, seguradoras, etc',\r\n        link: '/config',\r\n        imageUrl: \"/images/config2.jpg\"\r\n    }\r\n]\r\n\r\nexport default function VeiculosHome(props) {\r\n    const { match } = props\r\n    return (\r\n        <div>\r\n            <div className=\"jumbotron\">\r\n                <h1>\r\n                    Veculos\r\n                </h1>\r\n                <p>\r\n                    Selecione uma das opes abaixo.\r\n                </p>\r\n            </div>\r\n            <section className=\"cardSection\">\r\n                {\r\n                    menuCards.map(({ title, link, imageUrl, description }, i) =>\r\n                        <Link to={match.url + link} key={i} className=\"card\">                            \r\n                                <span className=\"cardImage\"> <img src={imageUrl} alt={title} /> </span>\r\n                                <div className=\"cardText\">\r\n                                    <h3 >{title}</h3>\r\n                                    <p > {description}</p>\r\n                                </div>                            \r\n                        </Link>\r\n                    )}\r\n            </section>\r\n        </div >\r\n    )\r\n}\r\n","import { setNamesFromIds } from './idsToString'\r\n\r\nexport const setDemand = (demand, redux) => {\r\n    const\r\n        { veiculos, empresas, vehicleDocs, equipamentos, acessibilidade } = redux,\r\n        history = demand?.history,\r\n\r\n        vehicle = veiculos.find(v => v.veiculoId === demand.veiculoId),\r\n        originalVehicle = Object.freeze(vehicle),\r\n\r\n        selectedEmpresa = empresas.find(e => e.razaoSocial === demand?.empresa),\r\n        razaoSocial = selectedEmpresa?.razaoSocial,\r\n        delegatario = razaoSocial\r\n    \r\n    let\r\n        selectedVehicle = { ...vehicle } || null,\r\n        alteracoes,\r\n        compartilhado\r\n\r\n    //******************Adjust data to handle Delegatrio compartilhado \r\n    const\r\n        length = history?.length,\r\n        delCompartilhado = history[length - 1]?.alteracoes?.delegatarioCompartilhado\r\n\r\n    if (delCompartilhado) {\r\n        compartilhado = empresas.find(e => e.delegatarioId === delCompartilhado)?.razaoSocial\r\n        if (alteracoes && typeof alteracoes === 'object') alteracoes.compartilhado = compartilhado\r\n    }\r\n\r\n    //******************Get the last log updates\r\n    if (Array.isArray(history)) alteracoes = history.reverse().find(el => el.hasOwnProperty('alteracoes'))?.alteracoes\r\n\r\n    //******************Set Alteraes into State and set equipa/acessibilidade array of names for each vehicle\r\n\r\n    if (alteracoes) {\r\n        Object.keys(alteracoes).forEach(key => selectedVehicle[key] = alteracoes[key])\r\n        const { equipa, acessibilidadeId } = alteracoes\r\n        if (equipa) selectedVehicle.equipamentos = setNamesFromIds(equipamentos, equipa)\r\n        if (acessibilidadeId) selectedVehicle.acessibilidade = setNamesFromIds(acessibilidade, acessibilidadeId)\r\n    }\r\n\r\n    //******************Get latest uploaded files per field\r\n    let fileIds = [], allDemandFiles, latestDocs = [], filesPerFieldName = {}\r\n    history\r\n        .filter(el => el.files)\r\n        .map(el => el.files)\r\n        .forEach(array => {\r\n            array.forEach(id => fileIds.push(id))\r\n        })\r\n    allDemandFiles = vehicleDocs.filter(doc => fileIds.indexOf(doc.id) !== -1)\r\n\r\n    let fieldExists = []\r\n    allDemandFiles.forEach(file => {\r\n        const { fieldName } = file.metadata\r\n        if (!fieldExists.includes(fieldName)) {\r\n            fieldExists.push(fieldName)\r\n            filesPerFieldName[fieldName] = [file]\r\n        }\r\n        else filesPerFieldName[fieldName].push(file)\r\n    })\r\n\r\n    Object.keys(filesPerFieldName).forEach(field => {\r\n        const arrayOfFiles = filesPerFieldName[field]\r\n        let lastDoc\r\n        lastDoc = arrayOfFiles.reduce((a, b) => new Date(a.uploadDate) > new Date(b.uploadDate) ? a : b)\r\n        latestDocs.push(lastDoc)\r\n        lastDoc = []\r\n    })\r\n\r\n    //****************** Return the object\r\n    return {\r\n        ...selectedVehicle, originalVehicle, delegatario, compartilhado, razaoSocial, selectedEmpresa,\r\n        demand, demandFiles: latestDocs, alteracoes, getUpdatedValues\r\n    }\r\n}\r\n\r\nfunction getUpdatedValues(originalObj, newObj) {\r\n    Object.keys(newObj).forEach(key => {\r\n        if (newObj[key] && originalObj[key]) {\r\n\r\n            if (key === 'equipa' || key === 'acessibilidadeId')\r\n                newObj[key].sort((a, b) => a - b)\r\n\r\n            if (newObj[key].toString() === originalObj[key].toString())\r\n                delete newObj[key]\r\n        }\r\n        if (newObj[key] === '' || newObj[key] === 'null' || !newObj[key]) delete newObj[key]\r\n    })\r\n    const updatedFields = newObj\r\n    return updatedFields\r\n}","import axios from \"axios\"\r\n\r\nexport const handleFiles = (files, state, filesFormTemplate) => {\r\n\r\n    const formData = new FormData()\r\n\r\n    if (files && files[0]) {\r\n        filesFormTemplate.forEach(obj => {                   //set native file fieldname property for each file attached. Makes sense if multiple files\r\n            for (let keys in state) {\r\n                if (keys.match(obj.name) && state[obj.name]) {\r\n                    formData.set(obj.name, state[obj.name])\r\n                }\r\n                else void 0\r\n            }\r\n        })\r\n        //for (let p of formData) { console.log(p[0], p[1]) }\r\n        return { form: formData }\r\n    }\r\n}\r\n\r\nexport const postFilesReturnIds = async (formData, metadata = {}, completed, filesEndPoint) => {\r\n    let\r\n        files,\r\n        filesIds\r\n\r\n    if (formData instanceof FormData) {\r\n        let filesToSend = new FormData()\r\n\r\n        if (completed)                              //Se a demanda for aprovada  considerada completed, e ento o arquivo deixa de ser temporrio.\r\n            metadata.tempFile = false\r\n        else\r\n            metadata.tempFile = true\r\n\r\n        filesToSend.append('metadata', JSON.stringify(metadata))\r\n        for (let pair of formData) {\r\n            filesToSend.set(pair[0], pair[1])\r\n        }\r\n\r\n        files = await axios.post(`/api/${filesEndPoint}`, filesToSend)\r\n    }\r\n\r\n    if (files?.data?.file) {\r\n        const filesArray = files.data.file\r\n        filesIds = filesArray.map(f => f.id)\r\n        return filesIds\r\n    }\r\n    else return null\r\n}\r\n\r\nexport const updateFilesMetadata = async (obj, filesCollection) => {\r\n\r\n    const { files, demandFiles } = obj\r\n    let metadata = { tempFile: false }\r\n\r\n    if (obj?.metadata instanceof Object)\r\n        metadata = Object.assign(obj.metadata, metadata)\r\n    //console.log(obj, metadata)\r\n    let ids\r\n\r\n    if (demandFiles && demandFiles[0])\r\n        ids = demandFiles.map(f => f.id)\r\n\r\n    else {\r\n        if (files instanceof FormData) {             //If there's any upload from Seinfra, it will overwrite the latestDocs(demandFiles) before approval\r\n            for (let pair of files) {\r\n                demandFiles.forEach((f, i) => {\r\n                    if (pair[0] === f?.metadata?.fieldName)\r\n                        demandFiles.splice(i, 1)\r\n                })\r\n            }\r\n            ids = demandFiles.map(f => f.id)\r\n        }\r\n    }\r\n\r\n    await axios.put('/api/updateFilesMetadata', { ids, collection: filesCollection, metadata })\r\n        .then(r => console.log(r.data))\r\n}\r\n\r\nexport const removeFile = (name, form) => {\r\n\r\n    const existingFiles = new FormData()\r\n\r\n    if (form instanceof FormData && form.has(name)) {\r\n        for (let p of form) {\r\n            existingFiles.set(p[0], p[1])\r\n        }\r\n\r\n        existingFiles.delete(name)\r\n\r\n        const returnObj = { fileToRemove: name, form: existingFiles, [name]: undefined }\r\n\r\n        //********If form has only 1 key left, remove it from state. */\r\n        const keyCounter = Array.from(form.keys(), k => k).length\r\n\r\n        if (keyCounter <= 1 && (form.has('veiculoId') || form.has('empresaId')))\r\n            return { fileToRemove: undefined, form: undefined, [name]: undefined }\r\n        else\r\n            return returnObj\r\n    }\r\n}","import moment from 'moment'\r\n\r\nexport const checkInputErrors = (sendState, dontSetDate) => {\r\n\r\n    const\r\n        p = document.querySelectorAll('p'),\r\n        inputs = document.querySelectorAll('input')\r\n\r\n    let\r\n        label = [],\r\n        errors = [],\r\n        errString = 'Favor verificar o preenchimento dos seguintes campos: '\r\n\r\n    if (p) {\r\n        p.forEach(el => {\r\n            if (el.textContent === 'Valor invlido' || el.textContent === '') {\r\n                const parent = el.parentNode\r\n                const l = parent.querySelectorAll('label')\r\n                label.push(l[0])\r\n            }\r\n        })\r\n    }\r\n    if (inputs && !dontSetDate) {\r\n        inputs.forEach(el => {\r\n            if (el.type === 'date') {\r\n                if (!moment(el.value, 'YYYY-MM-DD', true).isValid()) {\r\n                    const parent = el.parentNode\r\n                    const l = parent.previousSibling                    \r\n                    label.push(l)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    if (label[0]) {\r\n        label.forEach(l => errors.push(l.textContent))\r\n        errors.forEach(e => errString += e + ', ')\r\n        errString = errString\r\n            .replace('(kg)', '')\r\n            .replace('(cm)', '')\r\n            .slice(0, -2) + '.'\r\n\r\n        if (sendState) return { openAlertDialog: true, alertType: 'inputError', customMsg: errString, errors }          \r\n        return errors\r\n    } else return null\r\n}","const vehicle = {\r\n    \r\n    collection: 'vehicleLogs',\r\n    docs: 'vehicleDocs',\r\n    primaryKey: 'veiculoId'\r\n}\r\n\r\nconst { collection, docs, primaryKey } = vehicle\r\n\r\nexport const logRoutesConfig = [\r\n    {\r\n        subject: 'Cadastro de veculo',\r\n        path: '/solicitacoes/cadastro',\r\n        requestAction: 'Cadastro de veculo solicitado',\r\n        responseAction: 'Pendncias para o cadastro do veculo',\r\n        concludedAction: 'Veculo cadastrado',\r\n        collection, docs, primaryKey,\r\n    },\r\n    {        \r\n        subject: 'Alterao de dados do veculo',    \r\n        path: '/solicitacoes/altDados',\r\n        requestAction: 'Alterao de dados de veculo solicitada',\r\n        responseAction: 'Pendncias para a alterao de dados veicular',\r\n        concludedAction: 'Dados do veculo alterados',\r\n        collection, docs, primaryKey,\r\n    },\r\n    {\r\n        ...vehicle,\r\n        subject: 'Cadastro/alterao de seguro',        \r\n        path: '/solicitacoes/seguros',\r\n        requestAction: 'Cadastro de seguro solicitado',\r\n        responseAction: 'Pendncias para o cadastro do seguro',\r\n        concludedAction: 'Seguro cadastrado',\r\n        primaryKey: 'id',\r\n        collection, docs, \r\n        \r\n    },\r\n    {\r\n        ...vehicle,\r\n        subject: 'Cadastro de laudo de segurana veicular',\r\n        collection: 'vehicleLogs',\r\n        path: '/solicitacoes/laudos',\r\n        requestAction: 'Cadastro do laudo solicitado',\r\n        responseAction: 'Pendncias para o cadastro do laudo',\r\n        concludedAction: 'Laudo veicular cadastrado',\r\n    },\r\n    {\r\n        subject: 'Baixa de veculo',        \r\n        path: '/solicitacoes/baixaVeiculo',\r\n        collection, docs, primaryKey,\r\n    },\r\n    {\r\n        subject: 'Configuraes de Veculo',\r\n        collection: 'vehicleLogs',\r\n        path: '/veiculos/config'\r\n    },\r\n    {\r\n        subject: 'Consultas',\r\n        path: '/consultas'\r\n    },\r\n    {\r\n        subject: 'Cadastro de empresa',\r\n        collection: 'empresaLogs',\r\n        path: '/empresas/cadastro'\r\n    },\r\n    {\r\n        subject: 'Alterao estatutria',\r\n        requestAction: 'Alterao estatutria solicitada',\r\n        responseAction: 'Pendncias para a alterao estatutria',\r\n        concludedAction: 'Alterao estatutria cadastrada',        \r\n        path: '/solicitacoes/socios',\r\n        docs: 'empresaDocs',\r\n        primaryKey: 'empresaId',\r\n        collection\r\n    },\r\n    {\r\n        subject: 'Cadastro de procuraes/procuradores',\r\n        collection,\r\n        path: '/solicitacoes/procuradores',\r\n        docs: 'empresaDocs',\r\n        primaryKey: 'empresaId',\r\n        requestAction: 'Cadastro de procurao solicitado',\r\n        responseAction: 'Procurao indeferida',\r\n        concludedAction: 'Procurao cadastrada',        \r\n    },\r\n]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import axios from 'axios'\r\nimport { logRoutesConfig } from '../Solicitacoes/logRoutesConfig'\r\nimport { updateFilesMetadata, postFilesReturnIds } from './handleFiles'\r\n\r\nexport async function logGenerator(obj) {\r\n    const path = window.location.pathname\r\n\r\n    let logRoutes = JSON.parse(JSON.stringify(logRoutesConfig))\r\n    logRoutes.forEach((el, i) => el.path = logRoutesConfig[i].path.replace('/veiculos', '').replace('/solicitacoes', '').replace('/empresas', ''))\r\n\r\n    const\r\n        collection = 'vehicleLogs',\r\n        historyLength = obj.historyLength,\r\n        commonFields = {\r\n            user: 'Joe Dimaggio',\r\n            createdAt: new Date(),\r\n        }\r\n\r\n    let\r\n        logConfig = logRoutes.find(e => path.match(e.path)),\r\n        log = JSON.parse(JSON.stringify(obj))\r\n\r\n    // if !veiculoId, update to empresaDocs\r\n    let\r\n        filesCollection = 'vehicleDocs',\r\n        filesEndPoint = 'vehicleUpload'\r\n    if (!obj.veiculoId) {\r\n        filesCollection = 'empresaDocs'\r\n        filesEndPoint = 'empresaUpload'\r\n    }\r\n\r\n    const history = Object.assign(obj.history, commonFields)\r\n    log.history = history || {}\r\n\r\n    //Se par, a prxima action  a demanda de cada rota caso contrrio a resposta. Depois apaga-se o historyLength */\r\n    if (historyLength || historyLength === 0) {\r\n        if (historyLength % 2 === 0 || historyLength === 0) {\r\n\r\n            if (!obj?.history?.action) log.history.action = logConfig?.requestAction\r\n            log.status = 'Aguardando anlise'\r\n        }\r\n        else {\r\n\r\n            if (!obj?.history?.action) log.history.action = logConfig?.responseAction\r\n            log.status = 'Pendncias'\r\n        }\r\n    }\r\n\r\n    delete log.historyLength\r\n\r\n    //**********************if log already exists, no need to inform veiculoId and empresaId**********************\r\n    if (obj?.id && log.empresaId) delete log.empresaId\r\n    if (obj?.id && log.veiculoId) delete log.veiculoId\r\n\r\n    //**********************If given by the component which called this fuction, overwrite logRoutesConfig*/\r\n    if (!obj.id || obj.subject) log.subject = obj?.subject || logConfig?.subject\r\n\r\n\r\n    //*************************IF DECLINED, UPDATE LOG AND RETURN LOG*/    \r\n    if (obj.declined) {\r\n        log.history.action = 'Solicitao indeferida'\r\n        log.status = 'Solicitao indeferida'\r\n        log.completed = true\r\n\r\n        const post = axios.post('/api/logs', { log, collection })\r\n        return post\r\n    }\r\n    if (obj.approved && !obj.declined) {\r\n        log.history.action = logConfig?.concludedAction || 'Solicitao concluda'\r\n        log.status = 'Solicitao concluda'\r\n        log.completed = true\r\n        updateFilesMetadata(obj, filesCollection)\r\n    }\r\n\r\n    //********************** Upload files and get their Ids***********************/    \r\n    \r\n    const filesIds = await postFilesReturnIds(obj?.history?.files, obj?.metadata, log?.completed, filesEndPoint)\r\n\r\n    if (filesIds)\r\n        log.history.files = filesIds\r\n\r\n    const { metadata, approved, demandFiles, ...filteredLog } = log\r\n\r\n    //**********************reestablish path**********************\r\n    logRoutes = JSON.parse(JSON.stringify(logRoutesConfig))\r\n    logConfig = logRoutes.find(e => path.match(e.path))\r\n\r\n    //**********************request and return promisse**********************\r\n    \r\n    const post = axios.post('/api/logs', { log: filteredLog, collection })\r\n    return post\r\n}","import React from 'react'\r\n\r\nexport default function autoComplete({ collection = [], datalist, value, empresas }) {    \r\n    \r\n    if (value?.length > 2 && typeof collection !== 'string') {\r\n        if(datalist === 'razaoSocial' && empresas && empresas[0]) collection = empresas\r\n        return (\r\n            <datalist id={datalist}>\r\n                {\r\n                    collection.map((item, index) => {\r\n\r\n                        return (\r\n                            <option key={index}>{item[datalist]}</option>\r\n                        )\r\n                    })}\r\n            </datalist>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n","import React from 'react'\r\nimport AutoComplete from '../Utils/autoComplete'\r\n\r\nimport './commonStyles.css'\r\n\r\nexport default function SelectEmpresa(props) {\r\n\r\n    const\r\n        { empresas, handleInput, handleBlur, shared, headerTitle } = props,\r\n        { razaoSocial, delegatarioCompartilhado, activeStep, demand } = props.data,\r\n        list = 'razaoSocial'\r\n\r\n    //Configure the form. If shared is present in state, another form will be pusshed into the array (CadVehicles)\r\n    let headerTitles = [{ title: 'Selecione a Viao', list, name: list, value: razaoSocial }]\r\n    if (shared)\r\n        headerTitles.push({ title: 'Empresa autorizada a compartilhar', list, name: 'delegatarioCompartilhado', value: delegatarioCompartilhado })\r\n\r\n    //Render field or title conditionally\r\n    let enableSelect = true\r\n\r\n    if (demand) enableSelect = false\r\n    else if (activeStep && activeStep > 0) enableSelect = false\r\n    \r\n    if (enableSelect)\r\n        return (\r\n            <div className={props.hasOwnProperty('shared') ? 'flex center' : 'paper flex center'} style={{ width: '100%' }}>\r\n                {\r\n                    headerTitles.map(({ title, list, name, value }, i) =>\r\n                        <div className='flexColumn' key={i}>\r\n                            <h4 style={{ margin: '5px 0', textAlign: 'center' }}>{title}</h4>\r\n                            <input\r\n                                list={list}\r\n                                name={name}\r\n                                className='selectEmpresa'\r\n                                value={value}\r\n                                onChange={handleInput}\r\n                                onBlur={handleBlur}\r\n                            />\r\n                            <AutoComplete\r\n                                collection={empresas}\r\n                                datalist={list}\r\n                                value={value}\r\n                            />\r\n                        </div>\r\n                    )\r\n                }\r\n            </div >\r\n        )\r\n    else return (\r\n        <>\r\n            <span className='selectedEmpresa'> {headerTitle || demand?.empresa || ''} </span>\r\n        </>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport AutoComplete from '../Utils/autoComplete'\r\n//import { clearFormat } from '../Utils/formatValues'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',\r\n        marginBottom: '2px',\r\n\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    select: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',\r\n        marginBottom: '2px',\r\n        background: '#fafafa',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    helperText: {\r\n        margin: '2px 0',\r\n        fontSize: '0.7rem'\r\n    },\r\n}))\r\n\r\nexport default function TextInput({ handleInput, handleBlur, form, data, empresas, selectOptions, disableAll, disableSome = [] }) {\r\n\r\n    const classes = useStyles(),\r\n        { helperText } = classes\r\n\r\n    const errorHandler = (el) => {\r\n        let value = data[el.field]\r\n        if (!value) return\r\n\r\n        if (el.errorHandler && el.errorHandler(value)) return false\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return true\r\n\r\n        if (value?.length < el?.minLength) return true\r\n\r\n        if (el.type === 'number') {\r\n            if (value > el.max || value < el.min) return true\r\n            else return false\r\n        }\r\n\r\n        if (typeof value !== 'string') value = value.toString()\r\n        if (el.pattern) return value.match(el.pattern) === null\r\n        else return false\r\n    }\r\n\r\n    const helper = (el) => {\r\n        let value = data[el.field]\r\n        if (!value) return\r\n        if (el.errorHandler && el.errorHandler(value)) return ''\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return ''\r\n\r\n        if (value?.length < el?.minLength) return ''\r\n        if (value?.length >= el?.minLength) return ''\r\n\r\n        if (typeof value !== 'string') value = value.toString()\r\n        if (value > el.max || value < el.min) return 'Valor invlido'\r\n        else if (value.match(el.pattern) === null) return ''\r\n        else if (el.pattern && value.match(el.pattern) !== null) return ''\r\n        else return ' '\r\n    }\r\n\r\n    return (\r\n        <div className='flex center'>\r\n            {\r\n                form.map((el, i) => (\r\n                    <Fragment key={i}>\r\n                        <TextField\r\n                            name={el.field}\r\n                            label={el.label}\r\n                            margin={el.margin}\r\n                            className={classes.textField}\r\n                            onChange={handleInput}\r\n                            onBlur={handleBlur}\r\n                            type={el.type || ''}\r\n                            error={errorHandler(el)}\r\n                            helperText={helper(el)}\r\n                            FormHelperTextProps={{ className: helperText }}\r\n                            select={el.select || false}\r\n                            value={data[el.field] || ''}\r\n                            disabled={el.disabled || disableAll || disableSome.includes(el.field) || false}\r\n                            InputLabelProps={{\r\n                                className: classes.textField,\r\n                                shrink: el.type === 'date' || undefined,\r\n                                style: { fontSize: '0.7rem', fontWeight: 400, color: '#888',  fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif' }\r\n                            }}\r\n                            inputProps={{\r\n                                style: {\r\n                                    background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                    fontSize: '0.85rem', textAlign: 'center', color: '#000', width: el.width || 300, height: '7px',\r\n                                    fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif' \r\n                                },\r\n                                value: `${data[el.field] || ''}`,\r\n                                list: el.datalist || '',\r\n                                maxLength: el.maxLength || '',\r\n                                minLength: el.minLength || '',\r\n                                max: el.max || '',\r\n                            }}\r\n\r\n                            multiline={el.multiline || false}\r\n                            rows={el.rows || null}\r\n                            variant={el.variant || 'filled'}\r\n                            fullWidth={el.fullWidth || false}\r\n                            SelectProps={{\r\n                                style: {\r\n                                    background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                    fontSize: '0.9rem', textAlign: 'center', color: '#555', fontWeight: 400,\r\n                                    width: 325, height: '44px'\r\n                                }\r\n                            }}\r\n                        >\r\n                            {el.select === true ?\r\n                                selectOptions ?\r\n                                    selectOptions.map((opt, i) =>\r\n                                        <MenuItem key={i} value={opt} >\r\n                                            {opt}\r\n                                        </MenuItem>\r\n                                    )\r\n                                    :\r\n                                    el.options.map((opt, i) =>\r\n                                        <MenuItem key={i} value={opt} >\r\n                                            {opt}\r\n                                        </MenuItem>\r\n                                    )\r\n                                : null\r\n                            }\r\n\r\n                        </TextField>\r\n                        {el.autoComplete === true && <AutoComplete\r\n                            collection={data[el.collection]}\r\n                            empresas={empresas}\r\n                            datalist={el.datalist}\r\n                            value={data[el.field] || ''}\r\n                        />\r\n                        }\r\n                    </Fragment>\r\n                ))\r\n            }\r\n        </div>\r\n\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function FormSubtiltle({subtitle}) {\r\n    return (\r\n        <div className='formSubtitle'>\r\n            <i className='material-icons subtitleHelper'>arrow_forward</i>\r\n            <span style={{ fontSize: '14.3px' }}>\r\n                {subtitle}\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n","export const vistoriaForm = [\r\n    {\r\n        field: 'cilindros',\r\n        label: 'Cilindros',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12,\r\n        step: 1\r\n    },\r\n    {\r\n        field: 'potencia',\r\n        label: 'Potncia (cv)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 600\r\n    },\r\n    {\r\n        field: 'eixos',\r\n        label: 'Eixos',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 8\r\n    },\r\n    {\r\n        field: 'pneumaticos',\r\n        label: 'Pneumticos',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 20\r\n    },\r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12000\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 15000\r\n    },\r\n    {\r\n        field: 'poltronas',\r\n        label: 'Poltronas',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 120\r\n    },\r\n    {\r\n        field: 'piquesPoltrona',\r\n        label: 'Piques poltrona',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'distanciaMinima',\r\n        label: 'Distncia Mnima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',        \r\n        max: 150\r\n    },\r\n    {\r\n        field: 'distanciaMaxima',\r\n        label: 'Distncia Mxima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    }   \r\n]","import { vistoriaForm } from './vistoriaForm'\r\n\r\nexport const cadVehicleForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    maxLength: 8,\r\n    pattern: '[a-zA-Z]{3}[-]?[ ]?\\\\d{4}|[A-Z]{3}[-]?[ ]?[0-9]{1}[A-Z]{1}[0-9]{2}'\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    maxLength: 11,\r\n    pattern: '\\\\d{11}'\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilizao',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Convencional', 'Executivo', 'Leito', 'Semi-Leito', 'Urbano']\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Nmero do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    datalist: 'modeloChassi',\r\n    autoComplete: true,\r\n    collection: 'modelosChassi'\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    max: Number(new Date().getFullYear()),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{ \r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,    \r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    datalist: 'modelo',\r\n    autoComplete: true,\r\n    collection: 'carrocerias'\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    max: Number(new Date().getFullYear() + 1),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{    \r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,    \r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,    \r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situao da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veculo prprio', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n}\r\n]]    \r\n    .concat([vistoriaForm])    ","import React from 'react'\r\n\r\nexport default function ClosePopUpButton({ close, title = 'Fechar' }) {\r\n    return (\r\n        <div style={{\r\n            position: 'absolute',\r\n            top: '0.4%',\r\n            right: '0.4%'\r\n        }}>\r\n            <div>\r\n                <i\r\n                    className=\"material-icons right\"\r\n                    title={title}\r\n                    style={{ cursor: 'pointer', color: 'red' }}\r\n                    onClick={close} >\r\n                    close\r\n                </i>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\n\r\nimport '../Layouts/popUp.css'\r\n\r\nexport default function AddEquipa({ data, type, equipamentos, handleCheck, close }) {    \r\n    \r\n    if (Array.isArray(equipamentos) && equipamentos[0]?.item) equipamentos = equipamentos.sort((a, b) => a.item.localeCompare(b.item))\r\n\r\n    return <div className='popUpWindow' style={{ right: '25%', left: '25%' }}>\r\n        <h4 className='equipaHeader'>{type === 'equipamentos' ? 'Equipamentos' : 'Itens de Acessibilidade'}</h4> <hr />\r\n        <div className=\"checkListContainer\">\r\n            {\r\n                equipamentos.map((eq, i) =>\r\n                    <span className=\"checkListEquipa\" key={i}>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={data[eq.item]}\r\n                                    value={eq.item}\r\n                                    onChange={() => handleCheck(eq.item, type)} />\r\n                            }\r\n                            label={<p className=\"checkListLabel\">{eq.item}</p>}\r\n                        />\r\n                    </span>\r\n                )\r\n            }\r\n        </div>\r\n        <ClosePopUpButton close={close} />\r\n    </div>\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\n\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { cadVehicleForm } from '../Forms/cadVehicleForm'\r\n\r\nimport AddEquipa from './AddEquipa'\r\n\r\nimport './veiculos.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    button: {\r\n        marginRight: '15px'\r\n    }\r\n}))\r\n\r\nexport default function ({ redux, data, handleInput, handleBlur, handleEquipa, handleCheck, closeEquipa, resetShared }) {\r\n\r\n    const\r\n        [shared, setShared] = useState(false),\r\n        { button } = useStyles(),\r\n        { empresas, equipamentos, acessibilidade, modelosChassi, carrocerias } = redux,\r\n        { activeStep, addEquipa, subtitle, selectedEmpresa, type, placa } = data,\r\n        form = cadVehicleForm[activeStep]\r\n\r\n    let eqCollection = equipamentos\r\n    if (type === 'acessibilidade') eqCollection = acessibilidade\r\n\r\n    data.modelosChassi = modelosChassi\r\n    data.carrocerias = carrocerias\r\n\r\n    useEffect(() => {               //reset shared after submit\r\n        if (resetShared)\r\n            setShared(false)\r\n    }, [resetShared])\r\n\r\n    return (\r\n        <>\r\n            <header className={activeStep !== 0 ? 'flex center' : 'paper flex center'} style={{ width: '100%' }}>\r\n                <section className='flexColumn' style={{ marginBottom: '15px' }}>\r\n                    <SelectEmpresa\r\n                        data={data}\r\n                        shared={shared}\r\n                        empresas={empresas}\r\n                        headerTitle={placa && selectedEmpresa && `Cadastro de veculo ${placa} - ${selectedEmpresa?.razaoSocial}`}\r\n                        handleBlur={handleBlur}\r\n                        handleInput={handleInput}\r\n                    />\r\n                </section>\r\n                {\r\n                    activeStep === 0 &&\r\n                    <section className=\"flex center\" style={{ width: '100%', margin: '-7px 0 -4px 0' }}>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={shared === true}\r\n                                    onChange={() => setShared(!shared)}\r\n                                    value={shared}\r\n                                />\r\n                            }\r\n                            label={\r\n                                <h4 style={{ color: '#2979ff', fontSize: '0.7rem' }}>\r\n                                    Veculo Compartilhado?\r\n                            </h4>\r\n                            }\r\n                        />\r\n                    </section>\r\n                }\r\n            </header>\r\n            {\r\n                selectedEmpresa &&\r\n                <main>\r\n                    {activeStep < 2 &&\r\n                        <section className='paper' style={{ paddingBottom: '25px' }}>\r\n                            <FormSubtiltle subtitle={subtitle[activeStep]} />\r\n                            <TextInput\r\n                                form={form}\r\n                                data={data}\r\n                                handleBlur={handleBlur}\r\n                                handleInput={handleInput}\r\n                            />\r\n                        </section>}\r\n                    {activeStep === 0 &&\r\n                        <section className='flex center' style={{ marginTop: '15px' }}>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                color=\"primary\"\r\n                                className={button}\r\n                                onClick={() => handleEquipa('equipamentos')}\r\n                            >\r\n                                <AddIcon />\r\n                                                Equipamentos\r\n                                            </Button>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                color=\"primary\"\r\n                                className={button}\r\n                                onClick={() => handleEquipa('acessibilidade')}\r\n                            >\r\n                                <AddIcon />\r\n                                        Acessibilidade\r\n                                    </Button>\r\n                        </section>}\r\n                    {\r\n                        addEquipa && <AddEquipa\r\n                            equipamentos={eqCollection}\r\n                            close={closeEquipa}\r\n                            handleCheck={handleCheck}\r\n                            data={data} />\r\n                    }\r\n                </main>\r\n            }\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function RemoveFileButton({ name, removeFile }) {\r\n    return (\r\n        <div style={{\r\n            position: 'absolute',\r\n            top: '0.4%',\r\n            right: '0.4%'\r\n        }}>\r\n            <div>\r\n                <i\r\n                    className=\"material-icons right\"\r\n                    title='Remover arquivo'\r\n                    style={{ cursor: 'pointer', color: 'red' }}\r\n                    onClick={() => removeFile(name)}>\r\n                    close\r\n                        </i>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Fragment, useState, useEffect } from 'react'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport RemoveFileButton from './RemoveFileButton';\r\n\r\n\r\nexport default function DragAndDrop({ title, name, formData, handleFiles, dropDisplay, single, style, demandFiles, fileToRemove, removeFile }) {\r\n\r\n    const [fileName, setFileName] = useState()\r\n    const [fileExists, setFileExistance] = useState()\r\n\r\n    //*************Set demandFiles names, if there are any\r\n    useEffect(() => {\r\n        if (demandFiles && demandFiles[0]) {\r\n            demandFiles.forEach(({ filename, metadata }) => {\r\n                if (name === metadata.fieldName) {\r\n                    setFileName(filename)\r\n                    setFileExistance(true)    \r\n                }\r\n            })\r\n        }\r\n    }, [demandFiles, name])\r\n\r\n\r\n    //*************If there's formData from props there's a new file being attached.\r\n    useEffect(() => {\r\n        if (formData instanceof FormData) {\r\n            for (let pair of formData.entries()) {\r\n                if (name === pair[0]) {     //Attach the file if there'no command to remove\r\n                    setFileName(pair[1].name)\r\n                    setFileExistance(false)\r\n                }\r\n            }\r\n        } else if (!formData && !demandFiles) setFileName(null)\r\n    }, [formData, name, demandFiles, fileToRemove])    \r\n\r\n    //*****************Remove file name from rendered field *********/    \r\n    useEffect(() => {\r\n\r\n        if (fileToRemove === name) {\r\n            const demandFile = demandFiles?.find(f => f?.metadata?.fieldName === fileToRemove)\r\n\r\n            if (fileToRemove && demandFile) {\r\n                setFileName(demandFile.filename)\r\n                setFileExistance(true)\r\n            }\r\n            else if (fileToRemove && fileToRemove === name) {\r\n                setFileName(undefined)\r\n            }\r\n        }\r\n    }, [demandFiles, fileToRemove, handleFiles, name])\r\n\r\n    return (\r\n        <div style={style ? style : null}>\r\n            <div style={{ position: 'relative', marginRight: '8px' }}>\r\n                {title ? <p className='fileInput'>{title || ''}</p>\r\n                    : <br />}\r\n                {fileName && !fileExists &&\r\n                    <RemoveFileButton removeFile={removeFile} name={name} />\r\n                }\r\n            </div>\r\n            <Dropzone onDrop={e => handleFiles(e, name)}>\r\n                {({ getRootProps, getInputProps }) => (\r\n                    <div\r\n                        style={fileExists ? { backgroundColor: '#aaa' } : {}}\r\n                        className={fileName ? 'dropBox fileAttached' : single ? 'dropBox' : 'multipleDropBox'} {...getRootProps()}>\r\n                        <input {...getInputProps()} />\r\n                        {\r\n                            fileName ?\r\n                                <Fragment>\r\n                                    <div>\r\n                                        <DescriptionOutlinedIcon className='icon' />\r\n                                        {fileName}\r\n                                    </div>\r\n                                    {single &&\r\n                                        <span>(clique ou arraste outro arquivo para alterar)</span>\r\n                                    }\r\n                                </Fragment>\r\n                                :\r\n                                <div> <AttachFileIcon className='icon' />\r\n                                    <span>  {dropDisplay}</span>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                )}\r\n            </Dropzone>\r\n        </div>\r\n    )\r\n}\r\n","export const cadVehicleFiles = [\r\n    { title: 'CRLV do Veculo', name: 'crlv' },\r\n    { title: 'Declarao de Responsabilidade de Manuteno', name: 'declaracao' },\r\n    { title: 'Certificado de Vistoria', name: 'vistoria' },\r\n    { title: 'DAE Quitada', name: 'dae' },\r\n    { title: 'Laudo de Pesagem', name: 'pesagem' },\r\n    //{ title: 'Aplice do Seguro', name: 'apoliceDoc' },\r\n]","export const altDadosFiles = [\r\n    { title: 'Documento de Transferncia', name: 'transferenciaDoc' },\r\n    { title: 'Declarao de Responsabilidade de Manuteno', name: 'declaracao' },\r\n    { title: 'Certificado de Vistoria', name: 'vistoria' },\r\n    { title: 'DAE Quitada', name: 'dae' },\r\n    { title: 'Laudo de Pesagem', name: 'pesagem' },\r\n    { title: 'CRLV com nova placa', name: 'newPlateDoc' },\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { altDadosFiles } from '../Forms/altDadosFiles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    root: {\r\n        flexGrow: '1',\r\n        margin: '5px',\r\n        padding: '8px',\r\n    },\r\n\r\n    sendButton: {\r\n        margin: '3% 0 3% 0',\r\n        backgroundColor: 'teal',\r\n        float: 'right'\r\n    },\r\n    text: {\r\n        textAlign: 'left',\r\n        margin: theme.spacing(2),\r\n        fontSize: '0.9rem',\r\n        fontWeight: '500',\r\n        color: '#333'\r\n    },\r\n    item: {\r\n        margin: '0 0 18px 0',\r\n        padding: '0 5px'\r\n    }\r\n}))\r\n\r\nexport default function VehicleDocs({ handleFiles, parentComponent, dropDisplay, formData, insuranceExists, demandFiles, removeFile, fileToRemove }) {\r\n    const { root, item } = useStyles()\r\n\r\n    let filesForm\r\n    if (parentComponent === 'cadastro') filesForm = cadVehicleFiles\r\n    if (parentComponent === 'altDados') filesForm = altDadosFiles\r\n\r\n    return (\r\n        <div className='paper' style={{color: '#555'}} >\r\n            <FormSubtiltle subtitle='Anexe os documentos solicitados nos campos abaixo' />\r\n            <Grid container className={root}>\r\n                {filesForm.map(({ title, name }, k) =>\r\n                    name === 'apoliceDoc' && insuranceExists ? null :\r\n                        <Fragment key={k}>\r\n                            <Grid item xs={10} md={4} className={item}>\r\n                                <DragAndDrop\r\n                                    title={title}\r\n                                    name={name}\r\n                                    formData={formData}\r\n                                    dropDisplay={dropDisplay}\r\n                                    handleFiles={handleFiles}\r\n                                    demandFiles={demandFiles}\r\n                                    removeFile={removeFile}\r\n                                    fileToRemove={fileToRemove}\r\n                                />\r\n                            </Grid>\r\n                        </Fragment>\r\n                )}\r\n            </Grid>\r\n        </div>\r\n    )\r\n}","import axios from 'axios'\r\n//import { logout } from '../auth/logout';\r\n\r\nconst downloadFile = (id, originalName, collection, fieldName) => {\r\n    if (fieldName && fieldName === 'apoliceDoc') collection = 'empresaDocs'\r\n        axios({\r\n            url: `/api/mongoDownload/?collection=${collection}&id=${id}`,\r\n            method: 'GET',\r\n            responseType: 'blob', // important\r\n        }).then((response) => {\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', originalName);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n        })\r\n            .catch(err => {\r\n                console.log(err)\r\n                //          logout(err)\r\n            })\r\n}\r\n\r\nexport default downloadFile","import React from 'react'\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\nimport downloadFile from '../Utils/downloadFile';\r\n\r\nconst divContainer = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    alignContent: 'center',\r\n    flexWrap: 'wrap'\r\n}\r\n\r\nconst divFiles = {\r\n    textAlign: 'center',\r\n    alignItems: 'flex-start',\r\n    height: '40px',\r\n    border: '1px #ccc solid',\r\n    padding: '7px 8px 0 8px',\r\n    margin: '1% 1% 0.5% 1%',\r\n    fontSize: '0.8rem',\r\n    backgroundColor: '#f6f6f6',\r\n    borderRadius: '6px',\r\n\r\n}\r\n\r\nconst icon = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    paddingLeft: '2%'\r\n}\r\n\r\nconst fileIcon = {\r\n    verticalAlign: 'middle',\r\n    padding: '0 0% 0 2%',\r\n\r\n}\r\n\r\nexport default function ShowLocalFiles({ form, files, demand, demandFiles, collection, style = {} }) {\r\n\r\n    const createLink = (key, fileName) => {\r\n\r\n        const file = files.get(key)\r\n\r\n        const url = window.URL.createObjectURL(file);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n\r\n        if (file && (file.type === 'application/pdf' || file.type.match('image/'))) {\r\n            link.setAttribute('rel', \"noopener\")\r\n            link.setAttribute('target', \"_blank\")\r\n            link.setAttribute('title', fileName)\r\n        }\r\n        else link.setAttribute('download', fileName)\r\n        document.body.appendChild(link);\r\n        link.click();\r\n    }\r\n\r\n    let fileArray = []\r\n\r\n    if (demand) {\r\n        demandFiles.forEach(file => {\r\n            form.forEach(({ name, title }) => {\r\n                if (file?.metadata?.fieldName === name)\r\n                    fileArray.push({ id: file.id, label: title, fieldName: name, fileName: file.filename, storage: 'server' })\r\n            })\r\n        })\r\n    }\r\n\r\n    //******LGICA PARA Q O PUSH() DO FILEARRAY SOBRESCREVA QQ OUTRO OBJETO COM MESMO FIELDNAME [criada]\r\n    if (files) for (let pair of files.entries()) {\r\n        form.forEach(({ name, title }) => {\r\n            if (name === pair[0]) {\r\n                if (pair[1] && pair[1].name) {\r\n                    const index = fileArray.findIndex(obj => obj?.fieldName === name)\r\n                    if (index !== -1)\r\n                        fileArray[index] = { label: title, fieldName: name, fileName: pair[1].name, storage: 'local' }\r\n                    else\r\n                        fileArray.push({ label: title, fieldName: name, fileName: pair[1].name, storage: 'local' })\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    return <React.Fragment>\r\n        <div style={divContainer}>\r\n            {fileArray.map((f, i) =>\r\n                <div style={{ ...divFiles, ...style }} key={i}>\r\n                    <InsertDriveFileOutlinedIcon style={fileIcon} />\r\n                    <span style={{ verticalAlign: 'middle', }}>\r\n                        {' '} {f.label}\r\n                    </span>\r\n                    <GetAppIcon style={icon}\r\n                        onClick={() => f.storage === 'local' ?\r\n                            createLink(f.fieldName, f.fileName)\r\n                            : downloadFile(f.id, f.fileName, collection, f.fieldName)} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    </React.Fragment >\r\n}","import React from 'react'\r\nimport moment from 'moment'\r\nimport downloadFile from '../Utils/downloadFile'\r\n\r\nexport default function StandardTable({ length, title, labels, fields, values, style, docs, alteredElements = [] }) {\r\n\r\n    const dateFormat = value => {\r\n        if (moment(value, 'YYYY-MM-DDTHH:mm:ss.SSSZZ', true).isValid()) {\r\n            return moment(value, moment.ISO_8601, true).format('DD/MM/YYYY')\r\n        }\r\n        else {\r\n            return value\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th className='tHeader'\r\n                        style={style}\r\n                        colSpan={length}>{title}</th>\r\n                </tr>\r\n                <tr>\r\n                    {labels.map((l, i) => <th key={i} style={style}>{l}</th>)}\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    {values.map((v, j) =>\r\n                        <td className='review' key={j}\r\n                            style={{ ...style, color: alteredElements.includes(fields[j]) ? 'red' : '#000' }}\r\n                            onClick={() => docs && docs.id ? downloadFile(docs.id, docs.filename, 'vehicleDocs', docs.metadata.fieldName) : null}>\r\n                            {dateFormat(v)}\r\n                        </td>\r\n                    )}\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n","import React, { Fragment } from 'react'\r\n\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport StandardTable from '../Reusable Components/StandardTable'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 5px 0',\r\n        height: 'auto'\r\n    }\r\n}))\r\n\r\nexport default function Revisao({ data, parentComponent, form, filesForm, files }) {\r\n    const\r\n        classes = useStyles(),\r\n        { paper } = classes,\r\n        { acessibilidade, equipamentos, alteracoes, demand, demandFiles } = data,\r\n        originalVehicle = data?.originalVehicle\r\n\r\n    let vehicleDetails = [],\r\n        obj = {},\r\n        newForm = [],\r\n        filledForm = [],\r\n        ultimateData,\r\n        alteredElements = []\r\n\r\n    form.forEach(f => {\r\n        f.forEach(e => {\r\n            if (data.hasOwnProperty([e.field])) {\r\n                Object.assign(obj, { [e.field]: data[e.field] })\r\n                newForm.push(e)\r\n            }\r\n        })\r\n        vehicleDetails.push(obj)\r\n        filledForm.push(newForm)\r\n        obj = {}\r\n        newForm = []\r\n    })\r\n    if (parentComponent === 'cadastro') ultimateData = [\r\n        { subtitle: 'Detalhes do veculo', form: filledForm[0] || [], data: vehicleDetails[0] },\r\n        { subtitle: 'Detalhes do seguro', form: filledForm[1] || [], data: vehicleDetails[1] },\r\n        { subtitle: 'Informaes sobre a vistoria', form: filledForm[2] || [], data: vehicleDetails[2] },\r\n    ]\r\n\r\n    if (parentComponent === 'altDados') ultimateData = [\r\n        { subtitle: 'Detalhes do veculo', form: filledForm[0], data: vehicleDetails[0] },\r\n        { subtitle: 'Informaes sobre a vistoria', form: filledForm[1], data: vehicleDetails[1] }\r\n    ]\r\n\r\n    if (alteracoes && typeof alteracoes === 'object') alteredElements = Object.keys(alteracoes)\r\n\r\n    if (originalVehicle) {\r\n        Object.keys(originalVehicle).forEach(key => {\r\n            if (data[key] && originalVehicle[key]) {\r\n                if (data[key] !== originalVehicle[key] && !alteredElements.includes(key)) {\r\n                    alteredElements.push(key)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Paper className={paper}>\r\n                <main className='divTable'>\r\n                    {\r\n                        ultimateData.map(({ subtitle, form, data }, y) =>\r\n                            form && data && <Fragment key={y}>\r\n                                <StandardTable\r\n                                    length={form?.length || 1}\r\n                                    title={subtitle}\r\n                                    labels={form.map(s => s.label)}\r\n                                    fields={form.map(el => el.field)}\r\n                                    values={Object.values(data)}\r\n                                    alteredElements={alteredElements}\r\n                                />\r\n                            </Fragment>\r\n                        )}\r\n                </main>\r\n                {\r\n                    equipamentos && equipamentos[0] &&\r\n                    <section style={{ margin: '0 0 13px 20px' }}>\r\n                        <p style={{ fontWeight: 500, color: '#555' }}> Equipamentos </p>\r\n                        <p>\r\n                            {\r\n                                equipamentos && equipamentos.map((e, i) =>\r\n                                    <span style={{ fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana', fontSize: '12px' }} key={i}>\r\n                                        {i !== equipamentos.length - 1 ? e + ', ' : e}\r\n                                    </span>\r\n                                )\r\n                            }\r\n                        </p>\r\n                    </section>\r\n                }\r\n                {\r\n                    acessibilidade && acessibilidade[0] &&\r\n                    <section style={{ margin: '0 0 13px 20px' }}>\r\n                        <p style={{ fontWeight: 500, color: '#555' }}> Itens de acessibilidade </p>\r\n                        <p>\r\n                            {\r\n                                acessibilidade.map((e, i) =>\r\n                                    <span style={{ fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana', fontSize: '12px' }} key={i}>\r\n                                        {i !== acessibilidade.length - 1 ? e + ', ' : e}\r\n                                    </span>\r\n                                )\r\n                            }\r\n                        </p>\r\n                    </section>\r\n                }\r\n                {(files || demandFiles) &&\r\n\r\n                    //<div style={{ borderTop: '1px solid #ccc', paddingTop:'5px' }}>\r\n                    <div>\r\n                        <p style={{ margin: '0 0 13px 11px', fontWeight: '500', color: '#555' }}>\r\n                            <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} />\r\n                            {' Documentos'}\r\n                        </p>\r\n\r\n                        <ShowLocalFiles\r\n                            demand={demand}\r\n                            collection='vehicleDocs'\r\n                            demandFiles={demandFiles}\r\n                            form={filesForm}\r\n                            files={files}\r\n                        />\r\n                    </div>\r\n\r\n                }\r\n            </Paper >\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nexport default function Crumbs({ links, text, demand }) {\r\n    if (demand) {\r\n        links = ['Solicitaes', '/solicitacoes']\r\n        text = `solicitao n ${demand?.numero}`\r\n    }\r\n    \r\n    return (\r\n        <Grid style={{ marginTop: '1%' }}>\r\n            <Breadcrumbs separator=\"\" aria-label=\"breadcrumb\" >\r\n                <Link\r\n                    to='/' style={{}}\r\n                >\r\n                    <HomeIcon style={{ verticalAlign: 'middle', marginRight: '5px', paddingBottom: '3px' }} />\r\n                    <span style={{ fontSize: '0.8rem', }}>\r\n                        Pgina inicial\r\n                    </span>\r\n\r\n                </Link>\r\n                <Link color=\"primary\" to={links[1]} style={{ fontSize: '0.8rem' }}>\r\n                    {links[0]}\r\n                </Link>\r\n                <span style={{ fontSize: '0.8rem' }} >{text}</span>\r\n            </Breadcrumbs>\r\n        </Grid>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    button: {\r\n        margin: theme.spacing(1),\r\n        float: 'right'\r\n    },\r\n    backButton: {\r\n        margin: theme.spacing(1),\r\n        float: 'left',\r\n        color: '#333',\r\n        backgroundColor: '#eee'\r\n    },\r\n    textField: {\r\n        marginTop: '20px',\r\n        width: '100%'\r\n    }\r\n}))\r\n\r\nexport default function StepperButtons({ activeStep, setActiveStep, lastStep, handleSubmit, disabled, demand, uniqueStep, declineButtonLabel,\r\n    setShowPendencias, showPendencias, handleInput, info }) {\r\n\r\n    const classes = useStyles(), { backButton, button, textField } = classes\r\n\r\n    let role\r\n    if (demand?.status.match('Pendncias')) role = 'empresa'\r\n    if (demand?.status.match('Aguardando')) role = 'seinfra'\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            {activeStep < lastStep ?\r\n                <>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        className={backButton}\r\n                        onClick={() => setActiveStep('back')}\r\n                        disabled={activeStep === 0}\r\n                    >\r\n                        Voltar\r\n                </Button>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={button}\r\n                        onClick={() => setActiveStep('next')}\r\n                        disabled={disabled}\r\n                    >\r\n                        Avanar\r\n                </Button>\r\n                </>\r\n                :\r\n                <div style={{ display: 'flex', flexDirection: 'column', width: '100%' }}>\r\n                    {role === 'seinfra' && !showPendencias ? null\r\n                        :\r\n                        <TextField\r\n                            name='info'\r\n                            className={textField}\r\n                            value={info}\r\n                            label={!demand || role === 'empresa' ? 'Observaes/informaes complementares' : 'Pendncias/irregularidades para a aprovao'}\r\n                            type='text'\r\n                            onChange={handleInput}\r\n                            InputLabelProps={{ shrink: true, style: { fontWeight: 600, marginBottom: '5%' } }}\r\n                            inputProps={{ style: { paddingBottom: '2%' }, maxLength: 600 }}\r\n                            multiline\r\n                            rows={3}\r\n                            variant='outlined'\r\n                        />\r\n                    }\r\n                    <div style={{ display: 'flex', width: '100%' }}>\r\n                        {activeStep === lastStep && !uniqueStep &&\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={backButton}\r\n                                onClick={() => setActiveStep('back')}\r\n                                disabled={activeStep === 0}\r\n                            >\r\n                                Voltar\r\n                        </Button>}\r\n                        <div style={{ display: 'flex', justifyContent: 'flex-end', width: '100%' }}>\r\n                            {\r\n                                !demand || role === 'empresa' ?\r\n                                    <Button\r\n                                        variant='contained'\r\n                                        color=\"primary\"\r\n                                        className={button}\r\n                                        onClick={() => handleSubmit()}\r\n                                    >\r\n                                        Enviar solicitao\r\n                                    </Button>\r\n                                    :\r\n                                    <>\r\n                                        <Button\r\n                                            variant='outlined'\r\n                                            color=\"secondary\"\r\n                                            className={button}\r\n                                            onClick={() => setShowPendencias()}\r\n                                        >\r\n                                            {showPendencias ? 'Cancelar' : declineButtonLabel || 'Registrar pendencias'}\r\n                                        </Button>\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            color={showPendencias ? \"secondary\" : \"primary\"}\r\n                                            className={button}\r\n                                            onClick={() => showPendencias ? handleSubmit(false) : handleSubmit(true)}\r\n                                        >\r\n                                            {showPendencias ? 'Indeferir' : 'Aprovar'}\r\n                                        </Button>\r\n                                    </>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nexport default function CustomStepper({ activeStep, steps }) {\r\n    return (\r\n        <div className='paper' style={{ padding: '15px', margin: '10px 0' }} >\r\n            <Stepper activeStep={activeStep}>\r\n                {steps.map((label, index) => {\r\n                    const stepProps = {};\r\n                    const labelProps = {};\r\n                    return (\r\n                        <Step key={label}\r\n                            {...stepProps}\r\n                        >\r\n                            <StepLabel {...labelProps}>\r\n                                {label}\r\n                            </StepLabel>\r\n                        </Step>\r\n                    )\r\n                })}\r\n            </Stepper>\r\n        </div>\r\n    )\r\n}","import React, { Fragment } from 'react';\r\nimport clsx from 'clsx';\r\n//import { ErrorIcon, InfoIcon, Close, WarningIcon } from '@material-ui/icons/';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport { Snackbar, SnackbarContent, Icon } from '@material-ui/core';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles1 = makeStyles(theme => ({\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    icon: {\r\n        fontSize: 20,\r\n    },\r\n    iconVariant: {\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center'        \r\n    },\r\n}));\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n    const classes = useStyles1();\r\n    const { className, message, onClose, variant, ...other } = props;\r\n\r\n\r\n    return (\r\n        <SnackbarContent\r\n            className={clsx(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <Fragment>\r\n                    <span id=\"client-snackbar\" className={classes.message}>\r\n                        <Icon>check</Icon>    {message}\r\n                    </span>\r\n                </Fragment>\r\n            }\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nexport default function CustomizedSnackbars(props) {\r\n    \r\n    return (\r\n        <div>\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                open={props.open}\r\n                autoHideDuration={2000}\r\n                onClose={props.close}\r\n            >\r\n                <MySnackbarContentWrapper\r\n                    variant=\"success\"\r\n                    message={props.msg}                    \r\n                />\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n}","export const formatDate = (date, min) => {\r\n\r\n    const minutes = () => {\r\n        if (new Date(date).getMinutes() < 10) {\r\n            return '0' + new Date(date).getMinutes()\r\n        } else {\r\n            return new Date(date).getMinutes()\r\n        }\r\n    }\r\n\r\n    if (/\\d/.test(date)) {\r\n        let data = new Date(date).getDate() + '/' + (new Date(date).getMonth() + 1) + '/' + new Date(date).getFullYear()// + ', ' + new Date(date).getHours() + ':' + minutes() + 'h'\r\n        if (min) data += ', ' + new Date(date).getHours() + ':' + minutes() + 'h'\r\n        return data.toString()\r\n    } else {\r\n        return date\r\n    }\r\n}\r\n\r\nexport const formatMoney = (value = '') => {\r\n    let v = value.replace(/\\D/g, '');\r\n    v = (v / 100).toFixed(2) + '';\r\n    v = v.replace(\".\", \",\");\r\n    v = v.replace(/(\\d)(\\d{3})(\\d{3}),/g, \"$1.$2.$3,\");\r\n    v = v.replace(/(\\d)(\\d{3}),/g, \"$1.$2,\");\r\n    return v\r\n}\r\n\r\n\r\nexport const formatCpf = (input) => {\r\n    if (!input) return\r\n    else {\r\n        input = input\r\n            .replace(/\\D/g, '') // substitui qualquer caracter que nao seja numero por nada\r\n            .replace(/(\\d{3})(\\d)/, '$1.$2') // captura 2 grupos de numero o primeiro de 3 e o segundo de 1, apos capturar o primeiro grupo ele adiciona um ponto antes do segundo grupo de numero\r\n            .replace(/(\\d{3})(\\d)/, '$1.$2')\r\n            .replace(/(\\d{3})(\\d{1,2})/, '$1-$2')\r\n            .replace(/(-\\d{2})\\d+?$/, '$1') // captura 2 numeros seguidos de um trao e no deixa ser digitado mais nada\r\n    }\r\n    return input\r\n}\r\n\r\n/* export const formatCnpj = (input) => {\r\n    if (!input) return\r\n    return input.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})/g, \"$1.$2.$3/$4-$5\");\r\n} */\r\n\r\nexport function formatCnpj(input) {\r\n    \r\n    const tecla = k => k.keyCode;\r\n    document.addEventListener('keypress', tecla)\r\n\r\n    let\r\n        tam,\r\n        vr = input.toString()\r\n\r\n    vr = vr.replace(\".\", \"\");\r\n    vr = vr.replace(\"/\", \"\");\r\n    vr = vr.replace(\"-\", \"\");\r\n    tam = vr.length + 1;\r\n    if (tecla !== 14) {\r\n        if (tam === 3)\r\n            input = vr.substr(0, 2) + '.';\r\n        if (tam === 6)\r\n            input = vr.substr(0, 2) + '.' + vr.substr(2, 5) + '.';\r\n        if (tam === 10)\r\n            input = vr.substr(0, 2) + '.' + vr.substr(2, 3) + '.' + vr.substr(6, 3) + '/';\r\n        if (tam === 15)\r\n            input = vr.substr(0, 2) + '.' + vr.substr(2, 3) + '.' + vr.substr(6, 3) + '/' + vr.substr(9, 4) + '-' + vr.substr(13, 2);\r\n    }\r\n    return input\r\n}\r\n\r\nexport function clearFormat(input) {\r\n    if (!input) return\r\n    else return input.replace(/(\\.|\\/|-)/g, \"\");\r\n}\r\n\r\nexport function formatPhone(phone) {\r\n    if (!phone) return\r\n\r\n    phone = phone\r\n        .replace(/(?!\\d)./g, '')\r\n        .replace(/(\\d{2})/, '($1) ')\r\n    if (phone.length === 13) phone = phone.replace(/(\\d{4})(\\d)/, '$1-$2')\r\n    if (phone.length === 14) phone = phone.replace(/(\\d{5})(\\d)/, '$1-$2')\r\n\r\n    return phone\r\n}\r\n\r\nexport function formatShare(number) {\r\n    if (!number) return\r\n    number = number\r\n        .replace(/(?!\\d|[,])./g, '')\r\n    return number\r\n\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog({ open, alertType, close, confirm, customTitle, customMessage, tab }) {\r\n\r\n  const createAlert = type => {\r\n    let title, message, subject = ''\r\n    const subjectOptions = ['a empresa', 'o scio', 'a procurao', 'o veculo', 'o seguro']\r\n\r\n    if (tab || tab === 0) subject = subjectOptions[tab]\r\n\r\n    if (customTitle && customMessage) {\r\n      title = customTitle\r\n      message = customMessage\r\n      return { title, message }\r\n    }\r\n\r\n    if (typeof type === 'object') {\r\n      title = 'Empresa j cadastrada'\r\n      message = `A empresa ${type.razaoSocial} j est cadastrada no sistema com o CNPJ ${type.cnpj}.`\r\n      return { title, message }\r\n    }\r\n\r\n    switch (type) {\r\n      case 'plateNotFound':\r\n        title = 'Placa no encontrada'\r\n        message = 'A placa informada no corresponde a nenhum veculo da frota da viao selecionada. Para cadastrar um novo veculo, selecione a opo Veculos => \"Cadastro de Veculo\" no menu acima.'\r\n        return { title, message }\r\n      case 'invalidPlate':\r\n        title = 'Placa invlida'\r\n        message = 'Certifique-se de que a placa informada  uma placa vlida, com trs letras seguidas de 4 nmeros (ex: AAA-0000)'\r\n        return { title, message }\r\n      case 'plateExists':\r\n        title = 'Placa j cadastrada!'\r\n        message = 'A placa informada j est cadastrada. Para atualizar seguro, alterar dados ou solicitar baixa, utilize as opes acima. '\r\n        return { title, message }\r\n      case 'invalidModel':\r\n        title = 'Modelo no cadastrado.'\r\n        message = customMessage\r\n        return { title, message }\r\n      case 'inputError':\r\n        title = 'Preenchimento invlido.'\r\n        message = customMessage\r\n        return { title, message }\r\n      case 'fieldsMissing':\r\n        title = 'Favor preencher todos os campos.'\r\n        message = 'Os campos acima so de preenchimento obrigatrio. Certifique-se de ter preenchido todos eles.'\r\n        return { title, message }\r\n      case 'invalidInsurance':\r\n        title = 'Favor verificar os dados do seguro.'\r\n        message = 'As informaes referentes ao seguro do veculo so obrigatrias. Certifique-se de ter informado todas elas.'\r\n        return { title, message }\r\n      case 'filesNotFound':\r\n        title = 'Arquivos no encontrados'\r\n        message = `No h nenhum documento aprovado no sistema para ${subject} selecionad${subject.charAt(0)}.\r\n          Caso haja uma solicitao em aberto para ${subject}, acesse a opo \"Solicitaes\" no menu superior para ter acesso aos arquivos.`\r\n        return { title, message }\r\n\r\n      case 'empresaNotFound':\r\n        title = 'Empresa no encontrada.'\r\n        message = `A empresa informada no est registrada no sistema. Para cadastrar uma nova empresa, utilize a opo Empresas -> Cadastrar.`\r\n        return { title, message }\r\n      case 'seguradoraNotFound':\r\n        title = 'Seguradora no encontrada.'\r\n        message = `A seguradora informada no est registrada no sistema. Favor verificar o nome da seguradora.`\r\n        return { title, message }\r\n\r\n      case 'alreadyExists':\r\n        title = 'CPF j cadastrado.'\r\n        message = `O CPF informado corresponde a um scio j cadastrado. \r\n          Para remover ou editar as informaes dos scios, utilize a respectiva opo abaixo.`\r\n        return { title, message }\r\n      case 'numberNotValid':\r\n        title = 'Nmero invlido.'\r\n        message = 'O nmero digitado no  vlido.'\r\n        return { title, message }\r\n      case 'overShared':\r\n        title = 'Participao societria invlida.'\r\n        message = 'A participao societria informada excede a 100%.'\r\n        return { title, message }\r\n      case 'subShared':\r\n        title = 'Participao societria invlida.'\r\n        message = 'A participao societria informada no soma 100%. Favor informar todos os scios com suas respectivas participaes.'\r\n        return { title, message }\r\n      case 'veiculoPendente':\r\n        title = 'Pendncias encontradas para este veculo.'\r\n        message = 'Verifique se h alguma aprovao pendente quanto ao cadastro, seguro, transferncia ou alterao de dados do veculo.'\r\n        return { title, message }\r\n      case 'seguroVencido':\r\n        title = 'Pendncias encontradas para o seguro deste veculo.'\r\n        message = 'Para regularizar o seguro deste veculo, acesse a opo Veculos=>Seguros no menu acima.'\r\n        return { title, message }\r\n      case 'contratoVencido':\r\n        title = 'Contrato expirado.'\r\n        message = 'O contrato de concesso com o delegatrio selecionado est expirado.'\r\n        return { title, message }\r\n      default:\r\n        return { title: null, message: null }\r\n    }\r\n  }\r\n  const { title, message } = createAlert(alertType)\r\n\r\n  if (title && message) return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={close}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {message}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={close} color=\"primary\">\r\n            {confirm ? 'Cancelar' : 'Fechar'}\r\n          </Button>\r\n          {confirm && <Button onClick={close} color=\"primary\" autoFocus>\r\n            Confirmar\r\n          </Button>}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n  else return null\r\n}","import React, { PureComponent, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { setDemand } from '../Utils/setDemand'\r\nimport { handleFiles, removeFile } from '../Utils/handleFiles'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\n\r\nimport CadVeiculoTemplate from './CadVeiculoTemplate'\r\nimport VehicleDocs from './VehicleDocs'\r\nimport Review from './VehicleReview'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\nimport CustomStepper from '../Reusable Components/Stepper'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\n\r\nimport { formatMoney } from '../Utils/formatValues'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { cadVehicleForm } from '../Forms/cadVehicleForm'\r\n\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\n\r\nclass VeiculosContainer extends PureComponent {\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27 && this.state.addEquipa)\r\n                this.closeEquipa()\r\n        }\r\n    }\r\n\r\n    state = {\r\n        activeStep: 0,\r\n        steps: ['Dados do Veculo', 'Vistoria e laudos', 'Documentos', 'Reviso'],\r\n        subtitle: ['Informe os dados do Veculo', 'Preencha os campos abaixo conforme a vistoria realizada'],\r\n        razaoSocial: '',\r\n        frota: [],\r\n        delegatarioCompartilhado: '',\r\n        toastMsg: 'Veculo cadastrado!',\r\n        confirmToast: false,\r\n        addEquipa: false,\r\n        openAlertDialog: false,\r\n        dropDisplay: 'Clique ou arraste para anexar'\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n        const\r\n            { redux } = this.props,\r\n            { equipamentos, acessibilidade } = redux,\r\n            demand = this.props?.location?.state?.demand\r\n\r\n        if (demand) {\r\n            const demandState = setDemand(demand, redux)\r\n            this.setState({ ...demandState, activeStep: 3 })\r\n        }\r\n\r\n        //*********Create state[key] for each equipamentos/acessibilidade and turn them to false before a vehicle is selected *********/\r\n        let\r\n            allEqs = {},\r\n            allAcs = {}\r\n\r\n        equipamentos.forEach(e => Object.assign(allEqs, { [e?.item]: false }))\r\n        acessibilidade.forEach(e => Object.assign(allAcs, { [e?.item]: false }))\r\n\r\n        await this.setState({ ...allEqs, ...allAcs })\r\n\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.setState({})\r\n        document.removeEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    setActiveStep = async action => {\r\n\r\n        if (this.state.activeStep === 0) {\r\n            const matchPlaca = this.state.frota.filter(v => v.placa === this.state.placa)[0]\r\n            if (matchPlaca) {\r\n                await this.setState({ placa: '' });\r\n                this.setState({ alertType: 'plateExists', openAlertDialog: true })\r\n                return null\r\n            }\r\n        }\r\n\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { veiculos, empresas } = this.props.redux,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n\r\n                let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n                if (selectedEmpresa) {\r\n                    const { razaoSocial, delegatarioId } = selectedEmpresa\r\n                    await this.setState({ selectedEmpresa, razaoSocial, delegatarioId })\r\n                    if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                    const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n\r\n                    this.setState({ frota })\r\n\r\n                } else this.setState({ selectedEmpresa: undefined, frota: [], placa: undefined })\r\n                break\r\n\r\n            case 'placa':\r\n                if (typeof value === 'string') {\r\n                    value = value.toLocaleUpperCase()\r\n                    await this.setState({ [name]: value })\r\n                }\r\n                break\r\n\r\n            case ('valorChassi'):\r\n                this.setState({ [name]: formatMoney(value) })\r\n                break\r\n            case ('valorCarroceria'):\r\n                this.setState({ [name]: formatMoney(value) })\r\n                break\r\n\r\n            default: void 0\r\n        }\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId, alertLabel) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            this.setState({\r\n                alertType: 'invalidModel', openAlertDialog: true,\r\n                customMsg: `O modelo de ${alertLabel} no est cadastrado no sistema.`\r\n            })\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const\r\n            { empresas, modelosChassi, carrocerias } = this.props.redux,\r\n            { frota } = this.state,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n            case 'modeloChassi':\r\n                this.getId(name, value, modelosChassi, 'modeloChassiId', 'modeloChassi', 'id', 'chassi')\r\n                break;\r\n            case 'modeloCarroceria':\r\n                this.getId(name, value, carrocerias, 'modeloCarroceriaId', 'modelo', 'id', 'carroceria')\r\n                break;\r\n            case 'delegatarioCompartilhado':\r\n                this.getId(name, value, empresas, 'compartilhadoId', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            default: void 0\r\n        }\r\n\r\n        if (name === 'placa' && typeof this.state.frota !== 'string') {\r\n\r\n            if (value.length === 7) {\r\n                const x = value.replace(/(\\w{3})/, '$1-')\r\n                await this.setState({ placa: x })\r\n                value = x\r\n            }\r\n            if (value.length === 8) {\r\n                const x = value.replace(' ', '-')\r\n                await this.setState({ placa: x })\r\n                value = x\r\n            }\r\n            const matchPlaca = frota.find(v => v.placa === value)\r\n            if (matchPlaca) {\r\n                await this.setState({ placa: null });\r\n                value = ''\r\n                this.setState({ alertType: 'plateExists', openAlertDialog: true })\r\n                document.getElementsByName('placa')[0].focus()\r\n            }\r\n        }\r\n    }\r\n\r\n    handleEquipa = type => {\r\n        const collection = this.props.redux[type]\r\n        let vEquip = [], currentEquipa = []\r\n\r\n        if (this.state[type]) currentEquipa = this.state[type]\r\n\r\n\r\n        collection.forEach(({ item }) => {\r\n            currentEquipa.forEach(ce => {\r\n                if (ce.toLowerCase() === item.toLowerCase()) vEquip.push(item)\r\n            })\r\n        })\r\n\r\n        vEquip.forEach(ve => this.setState({ [ve]: true }))\r\n\r\n        this.setState({ [collection]: vEquip, addEquipa: !this.state.addEquipa, type })\r\n    }\r\n\r\n    handleCheck = async item => {\r\n        const\r\n            { type } = this.state,\r\n            collection = this.props.redux[type]\r\n\r\n        if (!collection) return\r\n\r\n        let arrayOfEquips = [], ids = [], stateKey\r\n\r\n        if (type === 'equipamentos') stateKey = 'equipa'\r\n        if (type === 'acessibilidade') stateKey = 'acessibilidadeId'\r\n\r\n        await this.setState({ ...this.state, [item]: !this.state[item] })\r\n\r\n        collection.forEach(({ id, item }) => {\r\n            if (this.state[item] === true) {\r\n                arrayOfEquips.push(item)\r\n                ids.push(id)\r\n            }\r\n        })\r\n\r\n        if (arrayOfEquips[0]) this.setState({ [type]: arrayOfEquips, [stateKey]: ids })\r\n        else if (type === 'equipamentos') this.setState({ equipamentos: [], [stateKey]: [] })\r\n        else if (type === 'acessibilidade') this.setState({ acessibilidade: [], [stateKey]: [] })\r\n    }\r\n\r\n    handleCadastro = async approved => {\r\n        const\r\n            { anoCarroceria, pesoDianteiro, pesoTraseiro, poltronas, delegatarioId, compartilhadoId, modeloChassiId, originalVehicle, getUpdatedValues,\r\n                modeloCarroceriaId, selectedEmpresa, equipa, acessibilidadeId, showPendencias, info, form, demand, demandFiles } = this.state,\r\n\r\n            indicadorIdade = anoCarroceria,\r\n\r\n            existingVeiculoId = demand?.veiculoId,\r\n            oldHistoryLength = demand?.history?.length || 0\r\n        \r\n        let\r\n            veiculoId,\r\n            situacao = 'Cadastro solicitado'\r\n\r\n        let pbt = Number(poltronas) * 93 + (Number(pesoDianteiro) + Number(pesoTraseiro))\r\n        if (isNaN(pbt)) pbt = undefined\r\n\r\n        //**********Prepare the request Object************* */\r\n        let review = {}\r\n\r\n        cadVehicleForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                for (let k in this.state) {\r\n                    if (k === obj.field) Object.assign(review, { [k]: this.state[k] })\r\n                }\r\n            })\r\n        })\r\n\r\n        let { delegatarioCompartilhado, modeloChassi, modeloCarroceria, ...vReview } = review\r\n\r\n        Object.assign(vReview, {\r\n            delegatarioId, situacao, indicadorIdade, pbt, modeloChassiId, modeloCarroceriaId,\r\n            equipa, acessibilidadeId, apolice: 'Seguro no cadastrado'\r\n        })\r\n        vReview.delegatarioCompartilhado = compartilhadoId\r\n\r\n        if (demand && originalVehicle)\r\n            vReview = getUpdatedValues(originalVehicle, vReview)     //Save only real changes to the request Object (method from setDemand())\r\n\r\n        const vehicle = humps.decamelizeKeys(vReview)\r\n\r\n        //***************If it doesnt exist, post the new vehicle Object, else get existing Id and update *********** */\r\n\r\n        if (!existingVeiculoId)\r\n            await axios.post('/api/cadastroVeiculo', vehicle)\r\n                .then(res => {\r\n                    veiculoId = res.data\r\n                })\r\n                .catch(err => console.log(err))\r\n        else {\r\n            veiculoId = existingVeiculoId\r\n            if (demand && approved && !showPendencias) situacao = 'Ativo'\r\n\r\n            const\r\n                table = 'veiculo',\r\n                tablePK = 'veiculo_id',\r\n                requestObject = {\r\n                    ...vehicle,\r\n                    situacao\r\n                }\r\n\r\n            await axios.put('/api/updateVehicle', { requestObject, table, tablePK, id: veiculoId })\r\n        }\r\n\r\n        //*****************Generate log ************** */\r\n     \r\n\r\n        const log = {\r\n            empresaId: selectedEmpresa?.delegatarioId,\r\n            veiculoId,\r\n            history: {\r\n                info,\r\n                files: form,\r\n            },\r\n            metadata: { veiculoId },\r\n            demandFiles,\r\n            historyLength: oldHistoryLength,\r\n            approved\r\n        }\r\n\r\n        if (demand) log.id = demand?.id\r\n        console.log(log)\r\n        logGenerator(log)\r\n            .then(r => console.log(r?.data))\r\n            .catch(err => console.log(err))\r\n\r\n        //*************Confirm send and clear State******************* */\r\n        if (!approved) {\r\n            let toastMsg = 'Solicitao de cadastro enviada.'\r\n            if (demand && demand.status.match('Aguardando'))\r\n                toastMsg = 'Pendncias para o cadastro registradas.'\r\n            this.toast(toastMsg)\r\n        }\r\n        else\r\n            this.toast()\r\n\r\n        if (!demand)\r\n            this.resetState()\r\n        else\r\n            setTimeout(() => { this.props.history.push('/solicitacoes') }, 1500)\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n            await this.setState({ [name]: files[0] })\r\n\r\n            const newState = handleFiles(files, this.state, cadVehicleFiles)\r\n            this.setState({ ...newState, fileToRemove: null })\r\n        }\r\n    }\r\n\r\n    removeFile = async (name) => {\r\n        const\r\n            { form } = this.state,\r\n            newState = removeFile(name, form)\r\n\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n\r\n    resetState = () => {\r\n        const\r\n            resetState = {},\r\n            { equipamentos } = this.props.redux,\r\n            resetFiles = {},\r\n            resetEquip = {}\r\n\r\n        cadVehicleForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                Object.keys(obj).forEach(key => {\r\n                    if (key === 'field' && this.state[obj[key]]) Object.assign(resetState, { [obj[key]]: undefined })\r\n                })\r\n            })\r\n        })\r\n        cadVehicleFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: null })\r\n        })\r\n\r\n        equipamentos.forEach(e => Object.assign(resetEquip, { [e.item]: false }))\r\n\r\n        this.setState({\r\n            ...resetState,\r\n            ...resetFiles,\r\n            ...resetEquip,\r\n            activeStep: 0,\r\n            razaoSocial: '',\r\n            selectedEmpresa: undefined,\r\n            frota: [],\r\n            delegatarioCompartilhado: '',\r\n            form: new FormData(),\r\n            resetShared: true\r\n        })\r\n    }\r\n\r\n    closeEquipa = () => this.setState({ addEquipa: false })\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    toggleDialog = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = toastMsg => this.setState({ confirmToast: !this.state.confirmToast, toastMsg: toastMsg ? toastMsg : this.state.toastMsg })\r\n\r\n    render() {\r\n        const\r\n            { confirmToast, toastMsg, activeStep, openAlertDialog, alertType, steps, selectedEmpresa,\r\n                placa, dropDisplay, form, demand, demandFiles, showPendencias, info, resetShared } = this.state,\r\n\r\n            { redux } = this.props\r\n\r\n        return <Fragment>\r\n            <Crumbs links={['Veculos', '/veiculos']} text='Cadastro de veculo' demand={demand} selectedEmpresa={selectedEmpresa} />\r\n\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <CadVeiculoTemplate\r\n                data={this.state}\r\n                redux={redux}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                handleEquipa={this.handleEquipa}\r\n                handleCheck={this.handleCheck}\r\n                closeEquipa={this.closeEquipa}\r\n                match={this.props.match}\r\n                resetShared={resetShared}\r\n            />\r\n            {activeStep === 2 && <VehicleDocs\r\n                parentComponent='cadastro'\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n                handleFiles={this.handleFiles}\r\n                demandFiles={demandFiles}\r\n                fileToRemove={this.state.fileToRemove}\r\n                removeFile={this.removeFile}\r\n            />}\r\n\r\n            {activeStep === 3 && <Review\r\n                parentComponent='cadastro' files={this.state.form}\r\n                filesForm={cadVehicleFiles} data={this.state}\r\n                form={cadVehicleForm}\r\n            />}\r\n\r\n            {selectedEmpresa && <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                setActiveStep={this.setActiveStep}\r\n                demand={demand}\r\n                setShowPendencias={this.setShowPendencias}\r\n                showPendencias={showPendencias}\r\n                info={info}\r\n                handleSubmit={this.handleCadastro}\r\n                handleInput={this.handleInput}\r\n                disabled={(typeof placa !== 'string' || placa === '')}\r\n            />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.toggleDialog} alertType={alertType} customMessage={this.state.customMsg} />}\r\n        </Fragment>\r\n    }\r\n}\r\nconst collections = ['veiculos', 'empresas', 'modelosChassi', 'carrocerias', 'equipamentos', 'acessibilidade', 'getFiles/vehicleDocs']\r\n\r\nexport default StoreHOC(collections, VeiculosContainer)","import { logRoutesConfig } from '../Solicitacoes/logRoutesConfig'\r\n\r\nexport const checkDemand = (id, logsCollection) => {\r\n\r\n    const path = window.location.pathname\r\n\r\n    logRoutesConfig.forEach((el, i) => el.path = logRoutesConfig[i].path.replace('/veiculos', '').replace('/solicitacoes', '').replace('/empresas', ''))\r\n\r\n    const\r\n        component = logRoutesConfig.find(c => path.match(c?.path)),\r\n        subject = component?.subject,\r\n        primaryKey = component?.primaryKey\r\n\r\n    const exists = logsCollection.find(log => log.subject === subject && log[primaryKey] === id.toString() && log.completed === false)\r\n\r\n    if (exists) return exists\r\n    else return false\r\n}\r\n\r\n\r\n\r\n/* export const checkDemand = id => {\r\n    let primaryKey, subject\r\n    const path = window.location.pathname\r\n\r\n    logRoutesConfig.forEach((el, i) => el.path = logRoutesConfig[i].path.replace('/veiculos', '').replace('/solicitacoes', '').replace('/empresas', ''))\r\n\r\n    const\r\n        component = logRoutesConfig.find(c => path.match(c?.path)),\r\n        collection = component?.collection\r\n\r\n    if (collection) {\r\n        if (collection === 'vehicleLogs') {\r\n            subject = component.subject\r\n            primaryKey = 'veiculoId'\r\n        }\r\n        if (collection === 'empresaLogs') primaryKey = 'delegatarioId'\r\n\r\n   const findLog = axios.get(`/api/log?collection=${collection}&subject=${subject}&primaryKey=${primaryKey}&id=${id}`)\r\n        return findLog\r\n\r\n    }\r\n\r\n} */","import { altFormVistoria } from './altFormVistoria'\r\n\r\nexport const altForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    datalist: 'placa',\r\n    autoComplete: true,\r\n    collection: 'frota',\r\n},\r\n{\r\n    field: 'delegatario',\r\n    label: 'Delegatrio',\r\n    margin: 'normal',\r\n    datalist: 'razaoSocial',\r\n    autoComplete: true,\r\n    collection: 'empresas'\r\n},\r\n{\r\n    field: 'compartilhado',\r\n    label: 'Delegatrio Compartilhado',\r\n    margin: 'normal',\r\n    datalist: 'razaoSocial',\r\n    autoComplete: true,\r\n    collection: 'empresas'\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilizao',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Convencional', 'Executivo', 'Leito', 'Semi-Leito', 'Urbano']\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situao da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veculo prprio', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Nmero do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17,\r\n    disabled: true\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    disabled: true\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    disabled: true\r\n},\r\n{\r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    disabled: true\r\n},\r\n\r\n]]\r\n    .concat([altFormVistoria])\r\n    .concat([[]])\r\n    .concat([[]])","export const altFormVistoria = [\r\n  \r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12000\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 15000\r\n    },\r\n    {\r\n        field: 'poltronas',\r\n        label: 'Poltronas',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 120\r\n    },\r\n    {\r\n        field: 'piquesPoltrona',\r\n        label: 'Piques poltrona',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 12\r\n    },\r\n    {\r\n        field: 'distanciaMinima',\r\n        label: 'Distncia Mnima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',        \r\n        max: 150\r\n    },\r\n    {\r\n        field: 'distanciaMaxima',\r\n        label: 'Distncia Mxima (cm)',\r\n        margin: 'normal',\r\n        type: 'number',\r\n        max: 150\r\n    }         \r\n]","import React from 'react'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AddEquipa from './AddEquipa'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { altForm } from '../Forms/altForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    button: {\r\n        marginRight: '15px'\r\n    }\r\n}))\r\n\r\nexport default function ({ handleInput, handleBlur, data, handleCheck, handleEquipa, altPlacaOption, showAltPlaca, empresas, equipamentos, acessibilidade, close }) {\r\n\r\n    const\r\n        { activeStep, subtitle, placa, selectedEmpresa, addEquipa, demand, type } = data,\r\n        classes = useStyles(), { button } = classes,\r\n        form = altForm[activeStep]\r\n\r\n    let eqCollection = equipamentos\r\n    if (type === 'acessibilidade') eqCollection = acessibilidade\r\n\r\n    return (\r\n        <div className='flex center'>\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                headerTitle={selectedEmpresa && `Alterao de dados ${placa || ''} - ${selectedEmpresa?.razaoSocial}`}\r\n                handleInput={handleInput}\r\n                handleBlur={handleBlur}\r\n            />\r\n            {\r\n                selectedEmpresa &&\r\n                <main>\r\n                    {activeStep < 2 &&\r\n                        <section className='paper'>\r\n                            <FormSubtiltle subtitle={subtitle[activeStep]} />\r\n                            <TextInput\r\n                                form={form}\r\n                                data={data}\r\n                                empresas={empresas}\r\n                                handleBlur={handleBlur}\r\n                                handleInput={handleInput}\r\n                                disableSome={demand ? ['placa', 'delegatario'] : ['delegatario']}\r\n                            />\r\n                        </section>}\r\n\r\n                    {activeStep === 0 &&\r\n                        <section className=\"flex center\">\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                color=\"primary\"\r\n                                className={button}\r\n                                onClick={() => handleEquipa('equipamentos')}\r\n                            >\r\n                                <AddIcon />\r\n                                        Equipamentos\r\n                                    </Button>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                color=\"primary\"\r\n                                className={button}\r\n                                onClick={() => handleEquipa('acessibilidade')}\r\n                            >\r\n                                <AddIcon />\r\n                                        Acessibilidade\r\n                            </Button>\r\n                        </section>}\r\n\r\n                    {altPlacaOption && placa.match('[a-zA-Z]{3}[-]?\\\\d{4}') &&\r\n                        <div className='addNewDiv'>\r\n                            <span onClick={() => showAltPlaca()}>  Clique aqui para alterar a placa para o formato Mercosul.</span>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        addEquipa && <AddEquipa\r\n                            type={type}\r\n                            equipamentos={eqCollection}\r\n                            close={close}\r\n                            handleCheck={handleCheck}\r\n                            data={data} />\r\n                    }\r\n                </main>\r\n            }\r\n        </div>\r\n    )\r\n}   ","import React from 'react';\r\nimport DragAndDrop from './DragAndDrop'\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog({ open, close, title, header, inputNames, inputLabels, fileInputName, confirm, handleInput, handleFiles,\r\n  values, formData, dropDisplay, type = 'text' }) {\r\n\r\n  let disabled = true\r\n  const errorHandler = (inputName, value) => {\r\n    if (inputName === 'newPlate') {\r\n      if (value.length < 9 && value.match('[a-zA-Z]{3}?[-]\\\\d{1}\\\\w{1}\\\\d{2}')) {\r\n        disabled = false\r\n        return false\r\n      }\r\n      else {\r\n        disabled = true\r\n        return true\r\n      }\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <Dialog open={open} onClose={close} aria-labelledby=\"form-dialog-title\">\r\n      <DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          {header}\r\n        </DialogContentText>\r\n        <br />\r\n        {\r\n          inputNames.map((inputName, i) => (\r\n            <TextField\r\n              key={i}\r\n              autoFocus={inputName === 'newPlate' && true}\r\n              name={inputName}\r\n              label={inputLabels[i]}\r\n              onChange={handleInput}\r\n              values={values[i]}\r\n              type={type}\r\n              error={errorHandler(inputName, values[i])}\r\n              fullWidth\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n          ))}\r\n        <br /><br />\r\n        <DragAndDrop\r\n          title='Anexar arquivo'\r\n          name={fileInputName}\r\n          formData={formData}\r\n          dropDisplay={dropDisplay}\r\n          handleFiles={handleFiles}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={close} color=\"primary\">\r\n          Cancelar\r\n              </Button>\r\n        <Button onClick={confirm} color=\"primary\" disabled={disabled}>\r\n          Confirmar\r\n              </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkDemand } from '../Utils/checkDemand'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport { altDadosFiles } from '../Forms/altDadosFiles'\r\nimport { altForm } from '../Forms/altForm'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { setDemand } from '../Utils/setDemand'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport CustomStepper from '../Reusable Components/Stepper'\r\n\r\nimport AltDadosTemplate from './AltDadosTemplate'\r\nimport VehicleDocs from './VehicleDocs'\r\nimport Review from './VehicleReview'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\n\r\nimport FormDialog from '../Reusable Components/FormDialog'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport { handleFiles, removeFile } from '../Utils/handleFiles'\r\n\r\n\r\nclass AltDados extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.closeEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        stepTitles: ['Informe a placa para alterar os dados abaixo ou mantenha as informaes atuais e clique em avanar',\r\n            'Altere os dados desejados abaixo e clique em avanar', 'Anexe os documentos solicitados',\r\n            'Reviso das informaes e deferimento'],\r\n        steps: ['Alterar dados do Veculo', 'Alterar dados adicionais', 'Documentos', 'Reviso'],\r\n\r\n        subtitle: ['Dados do Veculo', 'Informaes adicionais',\r\n            'Anexe os arquivos solicitados', 'Reviso'],\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        delegatarioCompartilhado: '',\r\n        frota: [],\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        activeStep: 0,\r\n        files: [],\r\n        openAlertDialog: false,\r\n        altPlaca: false,\r\n        newPlate: '',\r\n        placa: '',\r\n        addEquipa: false,\r\n        dropDisplay: 'Clique ou arraste para anexar',\r\n        showPendencias: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const\r\n            { redux } = this.props,\r\n            { equipamentos, acessibilidade } = redux,\r\n            demand = this.props?.location?.state?.demand\r\n\r\n        if (demand) {\r\n            const demandState = setDemand(demand, redux)\r\n            this.setState({ ...demandState, activeStep: 3 })\r\n        }\r\n\r\n        //*********Create state[key] for each equipamentos/acessibilidade and turn them to false before a vehicle is selected *********/\r\n        let\r\n            allEqs = {},\r\n            allAcs = {}\r\n\r\n        equipamentos.forEach(e => Object.assign(allEqs, { [e?.item]: false }))\r\n        acessibilidade.forEach(e => Object.assign(allAcs, { [e?.item]: false }))\r\n\r\n        await this.setState({ ...allEqs, ...allAcs })\r\n\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const { veiculos, empresas, equipamentos } = this.props.redux,\r\n            { name, value } = e.target\r\n\r\n        if (name === 'razaoSocial') {\r\n            let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n\r\n                this.setState({ frota })\r\n\r\n            } else {\r\n                this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                this.reset()\r\n            }\r\n        }\r\n\r\n        if (name === 'placa' && this.state.frota) {\r\n            const vehicle = this.state.frota.find(v => v.placa === value)\r\n            if (!vehicle) equipamentos.forEach(e => this.setState({ [e]: false }))\r\n        }\r\n\r\n        if (name === 'newPlate') {\r\n            let newPlate = value\r\n            if (typeof newPlate === 'string') {\r\n                newPlate = newPlate.replace(/[a-z]/g, l => l.toUpperCase())\r\n                if (newPlate.match('[A-Z]{3}[0-9]{1}[A-Z]{1}[0-9]{2}')) newPlate = newPlate.replace(/(\\w{3})/, '$1-')\r\n                this.setState({ ...this.state, newPlate })\r\n            }\r\n        } else this.setState({ [name]: value })\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            this.setState({ openAlertDialog: true, alertType: 'empresaNotFound' })\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    capitalize = (field, value) => {\r\n        if (!value || typeof value !== 'string') return\r\n        if (field === 'utilizacao') {\r\n            if (value === 'RODOVIARIO') value = 'CONVENCIONAL'\r\n            if (value === 'SEMI LEITO - EXECUTIVO') value = 'Semi-Leito'\r\n            if (value !== 'Semi-Leito') value = value.charAt(0) + value.slice(1).toLowerCase()\r\n        }\r\n        if (field === 'dominio' && value === 'Sim') value = 'Veculo prprio'\r\n        if (field === 'dominio' && value === 'No') value = 'Possuidor'\r\n\r\n        return value\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const\r\n            { empresas, vehicleLogs, equipamentos, acessibilidade } = this.props.redux,\r\n            { frota, demand } = this.state,\r\n            { name } = e.target\r\n\r\n        let\r\n            { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n\r\n            case 'compartilhado':\r\n                this.getId(name, value, empresas, 'delegatarioCompartilhado', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            case 'delegatario':\r\n                await this.getId(name, value, empresas, 'delegatarioId', 'razaoSocial', 'delegatarioId')\r\n                break;\r\n            default:\r\n                void 0\r\n        }\r\n        if (name === 'placa' && value.length > 2 && Array.isArray(this.state.frota)) {\r\n\r\n            let vehicle = this.state.frota.find(v => {\r\n                if (typeof value === 'string') return v.placa.toLowerCase().match(value.toLowerCase())\r\n                else return v.placa.match(value)\r\n            })\r\n\r\n            if (vehicle && typeof vehicle === 'object') {\r\n\r\n                let\r\n                    utilizacao = this.capitalize('utilizacao', vehicle?.utilizacao) || null,\r\n                    dominio = this.capitalize('dominio', vehicle?.dominio) || null,\r\n                    resetEquips = {}\r\n\r\n                //Every time a new vehicle is selected, clear the equips/acessibilidade. Method this.setEquipa() will set it back.\r\n                const allEquips = equipamentos.concat(acessibilidade)\r\n                allEquips.forEach(({ item }) => Object.assign(resetEquips, { [item]: false }))\r\n\r\n                //Add few mor properties to vehicle and preserve vehicle before changes.\r\n                vehicle = Object.assign({}, vehicle, { utilizacao, dominio })\r\n                const originalVehicle = Object.freeze(vehicle)\r\n\r\n                //setState()\r\n                await this.setState({ ...resetEquips, ...vehicle, originalVehicle, disable: true })\r\n\r\n                if (vehicle !== undefined && vehicle.hasOwnProperty('empresa')) this.setState({ delegatario: vehicle.empresa })\r\n\r\n                if (!demand) {\r\n                    const customTitle = 'Solicitao j cadastrada',\r\n                        customMessage = `J existe uma demanda aberta para o veculo de placa ${vehicle.placa}. Para acess-la, clique em \"Solicitaes\" no menu superior.`\r\n\r\n                    const demandExists = checkDemand(vehicle?.veiculoId, vehicleLogs)\r\n                    if (demandExists) {\r\n                        await this.setState({ customTitle, customMessage, openAlertDialog: true, delegatario: '' })\r\n                        this.reset()\r\n                        return\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.state.placa !== '' && !vehicle) {\r\n                let reset = {}\r\n                if (frota[0]) Object.keys(frota[0]).forEach(k => reset[k] = '')\r\n                this.setState({ alertType: 'plateNotFound', openAlertDialog: true })\r\n                this.setState({ ...reset, disable: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    handleEquipa = type => {\r\n\r\n        const collection = this.props.redux[type]\r\n        let vEquip = [], currentEquipa = []\r\n\r\n        if (this.state[type]) currentEquipa = this.state[type]\r\n\r\n\r\n        collection.forEach(({ item }) => {\r\n            currentEquipa.forEach(ce => {\r\n                if (ce.toLowerCase() === item.toLowerCase()) vEquip.push(item)\r\n            })\r\n        })\r\n\r\n        vEquip.forEach(ve => this.setState({ [ve]: true }))\r\n\r\n        this.setState({ [collection]: vEquip, addEquipa: !this.state.addEquipa, type })\r\n    }\r\n\r\n    handleCheck = async (item, type) => {\r\n        const collection = this.props.redux[type]\r\n\r\n        if (!collection) return\r\n\r\n        let array = [], ids = [], stateKey\r\n\r\n        if (type === 'equipamentos') stateKey = 'equipa'\r\n        if (type === 'acessibilidade') stateKey = 'acessibilidadeId'\r\n\r\n        await this.setState({ ...this.state, [item]: !this.state[item] })\r\n\r\n        collection.forEach(({ id, item }) => {\r\n            if (this.state[item] === true) {\r\n                array.push(item)\r\n                ids.push(id)\r\n            }\r\n        })\r\n\r\n        if (array[0]) this.setState({ [type]: array, [stateKey]: ids })\r\n        else if (type === 'equipamentos') this.setState({ equipamentos: [], [stateKey]: [] })\r\n        else if (type === 'acessibilidade') this.setState({ acessibilidade: [], [stateKey]: [] })\r\n    }\r\n\r\n    showAltPlaca = () => {\r\n        const title = 'Alterao de placa',\r\n            header = 'Para alterar a placa do veculo para o padro Mercosul, digite a placa no campo abaixo e anexe o CRLV atualizado do veculo.'\r\n        this.setState({ altPlaca: true, title, header })\r\n    }\r\n\r\n    updatePlate = () => {\r\n        this.setState({ placa: this.state.newPlate })\r\n        this.toggleDialog()\r\n    }\r\n\r\n    handleSubmit = async (approved) => {\r\n        const\r\n            { veiculoId, poltronas, pesoDianteiro, pesoTraseiro, delegatarioId, originalVehicle, showPendencias, getUpdatedValues,\r\n                delegatarioCompartilhado, newPlate, selectedEmpresa, equipa, acessibilidadeId, info, demand, form, demandFiles } = this.state,\r\n\r\n            oldHistoryLength = demand?.history?.length || 0\r\n\r\n        //****************************Prepare the request Object*******************************\r\n        let pbt = Number(poltronas) * 93 + (Number(pesoDianteiro) + Number(pesoTraseiro))\r\n        if (isNaN(pbt)) pbt = undefined\r\n\r\n        let tempObj = {}\r\n        altForm.forEach(form => {\r\n            form.forEach(obj => {\r\n                for (let k in this.state) {\r\n                    if (k === obj.field && !obj.disabled) {\r\n                        if (this.state[k]) Object.assign(tempObj, { [k]: this.state[k] })\r\n                    }\r\n                }\r\n            })\r\n        })\r\n        tempObj = Object.assign(tempObj, { delegatarioId, delegatarioCompartilhado, pbt, equipa, acessibilidadeId })\r\n\r\n        if (demand && getUpdatedValues)\r\n            tempObj = getUpdatedValues(originalVehicle, tempObj)  //Save only real changes to the request Object (method from setDemand())\r\n\r\n        let { placa, delegatario, compartilhado, ...camelizedRequest } = tempObj //remove invalid fields for update\r\n\r\n        if (newPlate && newPlate !== '')\r\n            camelizedRequest.placa = newPlate\r\n\r\n        //Se existia um delegatrio compartilhado e a alterao  de apagar a relao de compartilhamento, deletar o delCompartilhado\r\n        if ((!this.state.compartilhado || this.state.compartilhado === '') && originalVehicle?.delegatarioCompartilhado)\r\n            camelizedRequest.delegatarioCompartilhado = 'NULL'\r\n\r\n\r\n        if (!approved && Object.keys(camelizedRequest).length === 0) {\r\n            this.setState({ openAlertDialog: true, customTitle: 'Nenhuma alterao', customMessage: 'No foi realizada nenhuma alterao na solicitao aberta. Para prosseguir, altere algum dos campos ou adicione uma justificativa.' })\r\n            return\r\n        }\r\n        const requestObject = humps.decamelizeKeys(camelizedRequest)\r\n\r\n        //******************GenerateLog********************** */\r\n        let\r\n            history = {\r\n                alteracoes: camelizedRequest,\r\n                info,\r\n                files: form,\r\n            },\r\n            log = {\r\n                empresaId: selectedEmpresa?.delegatarioId,\r\n                veiculoId,\r\n                history,\r\n                demandFiles,\r\n                metadata: { veiculoId },\r\n                historyLength: oldHistoryLength,\r\n                approved\r\n            }\r\n        if (demand) log.id = demand?.id\r\n\r\n        logGenerator(log)\r\n            .then(r => console.log(r?.data))\r\n            .catch(err => console.log(err))\r\n\r\n        //*********************if approved, putRequest to update DB  ********************** */\r\n        if (demand && approved && !showPendencias) {\r\n            if (selectedEmpresa.delegatarioId !== delegatarioId) requestObject.apolice = 'Seguro no cadastrado'\r\n\r\n            const\r\n                table = 'veiculo',\r\n                tablePK = 'veiculo_id'\r\n\r\n            await axios.put('/api/updateVehicle', { requestObject, table, tablePK, id: veiculoId })\r\n        }\r\n\r\n        //******************Clear the state ********************** */\r\n        if (!approved) {\r\n            let toastMsg = 'Solicitao de alterao de dados enviada.'\r\n            if (demand && demand.status.match('Aguardando'))\r\n                toastMsg = 'Pendncias para a alterao de dados registradas.'\r\n            this.toast(toastMsg)\r\n        }\r\n        else\r\n            this.toast()\r\n\r\n        if (!demand) {\r\n            await this.setState({ activeStep: 0, razaoSocial: undefined })\r\n            this.reset(true)\r\n        }\r\n        else\r\n            setTimeout(() => { this.props.history.push('/solicitacoes') }, 1500)\r\n    }\r\n\r\n    handleFiles = async (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n            await this.setState({ [name]: files[0] })\r\n\r\n            const newState = handleFiles(files, this.state, altDadosFiles)\r\n            this.setState({ ...newState, fileToRemove: null })\r\n        }\r\n    }\r\n\r\n    removeFile = async (name) => {\r\n        const\r\n            { form } = this.state,\r\n            newState = removeFile(name, form)\r\n\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    toggleDialog = () => this.setState({ altPlaca: !this.state.altPlaca })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    closeEquipa = () => this.setState({ addEquipa: false })\r\n    toast = toastMsg => this.setState({ confirmToast: !this.state.confirmToast, toastMsg: toastMsg ? toastMsg : this.state.toastMsg })\r\n    reset = resetAll => {\r\n\r\n        let resetFiles = {}\r\n\r\n        altForm.forEach(form => form.forEach(el => this.setState({ [el.field]: '' })))\r\n        altDadosFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: undefined })\r\n        })\r\n        if (resetAll) this.setState({ ...resetFiles, form: undefined, selectedEmpresa: undefined, razaoSocial: undefined })\r\n        else this.setState({ ...resetFiles, form: undefined })\r\n    }\r\n\r\n    render() {\r\n\r\n        const\r\n            { empresas, equipamentos, acessibilidade } = this.props.redux,\r\n\r\n            { confirmToast, toastMsg, stepTitles, activeStep, steps, altPlaca, selectedEmpresa, openAlertDialog, alertType, customTitle, customMessage,\r\n                dropDisplay, form, title, header, newPlate, demand, showPendencias, info, demandFiles } = this.state\r\n\r\n        return <Fragment>\r\n            <Crumbs links={['Veculos', '/veiculos']} text='Alterao de dados' demand={demand} />\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                stepTitles={stepTitles}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <AltDadosTemplate\r\n                data={this.state}\r\n                empresas={empresas}\r\n                equipamentos={equipamentos}\r\n                acessibilidade={acessibilidade}\r\n                setActiveStep={this.setActiveStep}\r\n                altPlacaOption={activeStep === 0}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                showAltPlaca={this.showAltPlaca}\r\n                handleEquipa={this.handleEquipa}\r\n                handleCheck={this.handleCheck}\r\n                close={this.closeEquipa}\r\n            />\r\n            {activeStep === 2 && <VehicleDocs\r\n                parentComponent='altDados'\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n                handleFiles={this.handleFiles}\r\n                demandFiles={demandFiles}\r\n                fileToRemove={this.state.fileToRemove}\r\n                removeFile={this.removeFile}\r\n            />}\r\n            {activeStep === 3 && <Review\r\n                parentComponent='altDados'\r\n                data={this.state}\r\n                form={altForm}\r\n                files={this.state.form}\r\n                filesForm={altDadosFiles}\r\n            />}\r\n            {selectedEmpresa && <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleSubmit}\r\n                setActiveStep={this.setActiveStep}\r\n                showPendencias={showPendencias}\r\n                setShowPendencias={this.setShowPendencias}\r\n                info={info}\r\n                handleInput={this.handleInput}\r\n                demand={demand}\r\n            />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            <FormDialog\r\n                open={altPlaca}\r\n                close={this.toggleDialog}\r\n                title={title}\r\n                header={header}\r\n                inputNames={['newPlate']}\r\n                inputLabels={['Alterar Placa']}\r\n                fileInputName='newPlateDoc'\r\n                values={[newPlate]}\r\n                handleInput={this.handleInput}\r\n                handleFiles={this.handleFiles}\r\n                confirm={this.updatePlate}\r\n                dropDisplay={dropDisplay}\r\n                formData={form}\r\n            />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={customMessage} customTitle={customTitle} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'equipamentos', 'acessibilidade', 'getFiles/vehicleDocs'];\r\n\r\nexport default StoreHOC(collections, AltDados)","const width = 225\r\n\r\nexport const seguroForm = [\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',\r\n        autoComplete: true,\r\n        datalist: 'seguradora',\r\n        collection: 'seguradoras',\r\n        maxLength: 80,\r\n        width\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        label: 'Aplice',\r\n        autoComplete: true,\r\n        datalist: 'apolice',\r\n        collection: 'seguros',\r\n        maxLength: 25,\r\n        width\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emisso',\r\n        width\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',\r\n        width\r\n    }]","export const empresaFiles = [\r\n    { title: 'Contrato Social', name: 'contratoSocial' },\r\n    { title: 'Procurao', name: 'procuracao' },\r\n    { title: 'Aplice', name: 'apoliceDoc' }\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Chip from '@material-ui/core/Chip'\r\n\r\nimport Add from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Search from '@material-ui/icons/Search'\r\n\r\nimport { seguroForm } from '../Forms/altSegForm'\r\nimport './veiculos.css'\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        fontWeight: 400,\r\n        fontSize: '0.9rem',\r\n        textAlign: 'center',\r\n        marginBottom: '20px'\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: '25%',\r\n        minWidth: 310,\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n    }\r\n}))\r\n\r\nexport default function SegurosTemplate({ empresas, data, enableAddPlaca, handleInput, handleBlur,\r\n    addPlate, removeFromInsurance, handleFiles, handleSubmit, enableChangeApolice, showAllPlates, removeFile, setShowPendencias }) {\r\n\r\n    const { selectedEmpresa, placa, apolice, addedPlaca, frota, insuranceExists, demandFiles, fileToRemove, demand,\r\n        insurance, dropDisplay, apoliceDoc, showPendencias, info } = data\r\n\r\n    const classes = useStyles(), { paper, textField, chip } = classes\r\n\r\n    let placas = []\r\n\r\n    if (insurance && insurance.placas) {\r\n        if (insurance.placas[0] && insurance.placas[0] !== null) placas = insurance.placas.sort()\r\n        if (placa !== undefined && placa.length > 2 && placas[0]) {\r\n            if (typeof placa === 'string') placas = insurance.placas.filter(p => p.toLowerCase().match(placa.toLowerCase())).sort()\r\n            else placas = insurance.placas.filter(p => p.match(placa)).sort()\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <Fragment>\r\n            <div style={{ width: '100%', display: 'flex', flexDirection: 'column' }}>\r\n                <Crumbs links={['Veculos', '/veiculos']} text='Seguros' demand={demand} />\r\n                <SelectEmpresa\r\n                    data={data}\r\n                    empresas={empresas}\r\n                    handleInput={handleInput}\r\n                    handleBlur={handleBlur}\r\n                />\r\n                {selectedEmpresa &&\r\n                    <Paper className={paper}>\r\n                        <h3 className='formSubtitle'>Informe os dados do seguro.</h3>\r\n                        <TextInput\r\n                            form={seguroForm}\r\n                            data={data}\r\n                            handleBlur={handleBlur}\r\n                            handleInput={handleInput}\r\n                        />\r\n                        {insuranceExists &&\r\n                            <div className='addNewDiv'>\r\n                                <span onClick={() => enableChangeApolice()}>  Clique aqui para alterar o nmero da aplice mantendo as placas.</span>\r\n                            </div>\r\n                        }\r\n                    </Paper>\r\n                }\r\n                {\r\n                    selectedEmpresa && insurance && (insurance.placas || enableAddPlaca) &&                    \r\n                    <Paper className={paper}>\r\n                        <p>Utilize as opes abaixo para filtrar, adicionar ou excluir placas desta aplice</p>\r\n                        <section className='flex spaceBetween' style={{ paddingTop: '17px' }}>\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        name: 'addedPlaca',\r\n                                        list: 'placa'\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        style: { fontSize: '0.8rem' }\r\n                                    }}\r\n                                    label='Insira a placa'\r\n                                    className={textField}\r\n                                    value={addedPlaca}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <AutoComplete\r\n                                    collection={frota}\r\n                                    datalist='placa'\r\n                                    value={addedPlaca}\r\n                                />\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    variant=\"contained\"\r\n                                    className={classes.button}\r\n                                    style={{ margin: '10px 0 10px 0' }}\r\n                                    onClick={() => addPlate(addedPlaca)}\r\n                                >\r\n                                    <Add /> Adicionar\r\n                            </Button>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{\r\n                                        name: 'placa',\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        style: { fontSize: '0.8rem' }\r\n                                    }}\r\n                                    label='Filtrar'\r\n                                    className={textField}\r\n                                    value={placa || ''}\r\n                                    onChange={handleInput}\r\n                                    onBlur={handleBlur}\r\n                                />\r\n                                <Search style={{ marginTop: '18px' }} />\r\n                            </div>\r\n\r\n                            {!demand ?\r\n                                <DragAndDrop\r\n                                    name='apoliceDoc'\r\n                                    formData={apoliceDoc}\r\n                                    dropDisplay={dropDisplay}\r\n                                    handleFiles={handleFiles}\r\n                                    demandFiles={demandFiles}\r\n                                    removeFile={removeFile}\r\n                                    fileToRemove={fileToRemove}\r\n                                    style={{ padding: '0 10px', margin: '0 10px', width: '28%', minWidth: '320px' }}\r\n                                />\r\n                                : demandFiles[0] &&\r\n                                <div style={{ width: '225px', marginTop: '15px' }}>\r\n                                    <ShowLocalFiles\r\n                                        demand={demand}\r\n                                        collection='empresaDocs'\r\n                                        demandFiles={demandFiles}\r\n                                        form={empresaFiles}\r\n                                        style={{ width: '200px' }}\r\n                                    //files={files}\r\n                                    />\r\n                                </div>\r\n                            }\r\n\r\n                        </section>\r\n\r\n                        <div className='addNewDiv' style={{ justifyContent: 'flex-start', padding: '10px' }}>\r\n                            <span onClick={() => showAllPlates()}> Clique aqui para selecionar placas</span>\r\n                        </div>\r\n\r\n                        {/********************************* Lista de placas vinculadas (Chips) ********************************************/}\r\n\r\n                        {insurance && insurance.placas && insurance.placas[0]\r\n                            ?\r\n                            <div style={{ margin: '15px' }}>\r\n                                Placas vinculadas a aplice {insurance.apolice}\r\n                            </div>\r\n                            :\r\n                            <div style={{ marginTop: '30px' }}></div>\r\n                        }\r\n                        {insurance && insurance.placas && apolice && apolice.length > 2 && placas[0] && placas.map((placa, i) =>\r\n                            <Chip\r\n                                key={i}\r\n                                label={placa}\r\n                                onDelete={() => removeFromInsurance(placa)}\r\n                                className={chip}\r\n                                color='primary'\r\n                                variant=\"outlined\"\r\n                            />\r\n                        )}\r\n                    </Paper>}\r\n            </div >\r\n            {\r\n                apolice && (insurance || enableAddPlaca) && !demand ?\r\n                    <div style={{ minHeight: '60px', position: 'flex' }}>\r\n                        <Button\r\n                            size=\"small\"\r\n                            color='primary'\r\n                            className='saveButton'\r\n                            variant=\"contained\"\r\n                            onClick={() => handleSubmit()}\r\n                        // disabled={!placas[0] || !apoliceDoc ? true : false}\r\n                        >\r\n                            Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                        </Button>\r\n                    </div>\r\n                    :\r\n                    selectedEmpresa && demand ?\r\n                        <StepperButtons\r\n                            uniqueStep={true}\r\n                            declineButtonLabel='Indeferir'\r\n                            demand={demand}\r\n                            setShowPendencias={setShowPendencias}\r\n                            showPendencias={showPendencias}\r\n                            info={info}\r\n                            handleSubmit={handleSubmit}\r\n                            handleInput={handleInput}\r\n                        />\r\n                        : null\r\n            }\r\n        </Fragment >\r\n    )\r\n}","import React from 'react'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\nimport '../Layouts/popUp.css'\r\n\r\nfunction ShowAllPlates({ items, title, data, close, handleCheck }) {\r\n    return (\r\n        <div className=\"popUpWindow row\">\r\n            <h3>{title} Clique em \"X\" ou pressione 'esc' para voltar</h3>\r\n            <div className=\"checkListContainer\">\r\n                {\r\n                    items.map((item, i) =>\r\n                        <div className=\"checkListItem\" key={i}>\r\n                            <input\r\n                                id={i}\r\n                                type='checkbox'\r\n                                checked={data[item] === true}\r\n                                onChange={() => handleCheck(item)} />\r\n                            <label htmlFor={i}>{item}</label>\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n            <ClosePopUpButton close={close} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowAllPlates\r\n","import React from 'react';\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function ConfigAddDialog({ open, close, title, helperMessage, marca, marcas, selectMarca, newElement, handleInput, addNewElement }) {\r\n\r\n    return (\r\n        <div>\r\n            <Dialog open={open} onClose={close} aria-labelledby=\"form-dialog-title\">\r\n                <DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        {helperMessage}\r\n                    </DialogContentText>\r\n                    <div className=\"editFields\">\r\n                        {marcas && <div className=\"configMarca\">\r\n                            <TextField\r\n                                onChange={selectMarca}\r\n                                value={marca}\r\n                                label='Selecione uma marca'\r\n                                select={true}\r\n                                InputLabelProps={{ shrink: true }}\r\n                                SelectProps={{\r\n                                    style: {\r\n                                        fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                                        width: 325, height: '44px'\r\n                                    }\r\n                                }}\r\n                            >\r\n                                {marcas.map(({ marca }, i) =>\r\n                                    <MenuItem key={i} value={marca} >\r\n                                        {marca}\r\n                                    </MenuItem>\r\n                                )}\r\n                            </TextField>\r\n                        </div>}\r\n                        <div className=\"configField\">\r\n                            <TextField\r\n                                autoFocus\r\n                                margin=\"dense\"\r\n                                name='newElement'\r\n                                label=\"Inserir\"\r\n                                type=\"text\"\r\n                                onChange={handleInput}\r\n                                value={newElement}\r\n                                fullWidth\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <br /><br /><br />\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={close} color=\"primary\">\r\n                        Cancelar\r\n              </Button>\r\n                    <Button onClick={() => addNewElement()} color=\"primary\">\r\n                        Confirmar\r\n              </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}","export const seguroForm = [\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',        \r\n        autoComplete: true,\r\n        datalist: 'seguradora',\r\n        collection: 'seguradoras',\r\n        width: 225\r\n    },\r\n    {       \r\n        field: 'apolice',\r\n        label: 'Aplice',        \r\n        autoComplete: true,\r\n        datalist: 'apolice',\r\n        collection: 'seguros',\r\n        maxLength: 25,\r\n        width: 225\r\n    },    \r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emisso',\r\n        width: 225\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',\r\n        width: 225\r\n    }]","export const setEmpresaDemand = (demand, redux, socios) => {\r\n\r\n    const { pathname } = document.location\r\n    let associateKeys = { name: 'nomeSocio', id: 'socioId' }\r\n\r\n    if (pathname.match('procurador'))\r\n        associateKeys = { name: 'nomeProcurador', id: 'procuradorId' }\r\n\r\n    const\r\n        { empresas, empresaDocs } = redux,\r\n        { name, id } = associateKeys,\r\n        history = demand?.history || [],\r\n        length = history?.length,\r\n\r\n        selectedEmpresa = empresas.find(e => e.delegatarioId === demand?.empresaId),\r\n        razaoSocial = selectedEmpresa?.razaoSocial\r\n\r\n    let\r\n        lastUpdate,\r\n        newMembers = [],\r\n        oldMembers = [],\r\n        latestDoc\r\n\r\n    if (history[0]) lastUpdate = history[length - 1]\r\n\r\n    if (lastUpdate) {\r\n        newMembers = lastUpdate?.newMembers || []\r\n        oldMembers = lastUpdate?.oldMembers || []\r\n    }\r\n\r\n    //******************Get latest uploaded files per field\r\n\r\n    const\r\n        latestDocId = history\r\n            .reverse()\r\n            .find(el => el.files)?.files || []\r\n\r\n    if (latestDocId[0])\r\n        latestDoc = empresaDocs.find(doc => doc.id === latestDocId[0])\r\n\r\n    if (oldMembers[0])\r\n        socios.forEach(s => {\r\n            oldMembers.forEach(om => {\r\n                if (s[id] === om[id])\r\n                    Object.keys(om).forEach(key => {\r\n                        s[key] = om[key]\r\n                    })\r\n            })\r\n        })\r\n\r\n    const\r\n        filteredSocios = socios\r\n            .concat(newMembers)\r\n            .sort((a, b) => a[name].localeCompare(b[name]))\r\n\r\n    //****************** Return the object\r\n    return {\r\n        razaoSocial, selectedEmpresa, demand, latestDoc, newMembers, oldMembers, getUpdatedValues, filteredSocios\r\n    }\r\n}\r\n\r\nfunction getUpdatedValues(originalObj, newObj) {\r\n    Object.keys(newObj).forEach(key => {\r\n        if (newObj[key] && originalObj[key]) {\r\n\r\n            if (key === 'equipa' || key === 'acessibilidadeId')\r\n                newObj[key].sort((a, b) => a - b)\r\n\r\n            if (newObj[key].toString() === originalObj[key].toString())\r\n                delete newObj[key]\r\n        }\r\n        if (newObj[key] === '' || newObj[key] === 'null' || !newObj[key]) delete newObj[key]\r\n    })\r\n    const updatedFields = newObj\r\n    return updatedFields\r\n}","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport moment from 'moment'\r\n\r\nimport SeguroTemplate from './SegurosTemplate'\r\nimport ShowAllPlates from './ShowAllPlates'\r\nimport ConfigAddDialog from './ConfigAddDialog'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport { seguroForm } from '../Forms/seguroForm'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { setEmpresaDemand } from '../Utils/setEmpresaDemand'\r\nimport { removeFile } from '../Utils/handleFiles'\r\n\r\n\r\nclass Seguro extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.openAddDialog) this.toggleDialog()\r\n                if (this.state.showAllPlates) this.setState({ showAllPlates: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        addedPlaca: '',\r\n        razaoSocial: '',\r\n        seguradora: '',\r\n        deletedVehicles: [],\r\n        toastMsg: 'Seguro atualizado!',\r\n        confirmToast: false,\r\n        dropDisplay: 'Clique ou arraste para anexar a aplice',\r\n        showAllPlates: false,\r\n        showPendencias: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const\r\n            { redux } = this.props,\r\n            demand = this.props?.location?.state?.demand\r\n\r\n        this.setState({\r\n            seguradoras: this.props.redux['seguradoras'],\r\n            allInsurances: this.props.redux['seguros'],\r\n        })\r\n\r\n        if (demand) {\r\n            const\r\n                demandState = setEmpresaDemand(demand, redux, []),\r\n                { latestDoc, newMembers, oldMembers, filteredSocios, ...filteredState } = demandState,\r\n                history = demand?.history[0],\r\n                insurance = {}\r\n\r\n            seguroForm.forEach(({ field }) => {\r\n                if (history.hasOwnProperty(field))\r\n                    insurance[field] = history[field]\r\n            })\r\n\r\n            const insuranceVehicles = redux.veiculos\r\n                .filter(v => history.vehicleIds.some(id => id === v.veiculoId))\r\n\r\n            insurance.placas = insuranceVehicles.map(v => v.placa)\r\n            insurance.veiculos = insuranceVehicles.map(v => v.veiculoId)\r\n\r\n            const seguradoraId = history?.seguradoraId\r\n\r\n            await this.setState({\r\n                ...this.state, ...filteredState, ...insurance, insurance, demand, seguradoraId,\r\n                razaoSocial: demand?.empresa, demandFiles: [latestDoc]\r\n            })\r\n\r\n            this.filterInsurances()\r\n        }\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    filterInsurances = () => {\r\n        const\r\n            { veiculos } = this.props.redux,\r\n            { allInsurances, razaoSocial } = this.state,\r\n            frota = veiculos.filter(v => v.empresa === razaoSocial),\r\n            filteredInsurances = allInsurances.filter(seguro => seguro.empresa === razaoSocial),\r\n            allPlates = frota.map(vehicle => vehicle.placa).sort()\r\n        //console.log(frota, filteredInsurances, allPlates)\r\n        this.setState({ frota, seguros: filteredInsurances, allPlates })\r\n    }\r\n\r\n    checkExistance = async (name, inputValue) => {\r\n\r\n        const\r\n            seguros = JSON.parse(JSON.stringify(this.props.redux.seguros)),\r\n            { selectedEmpresa, demand } = this.state,\r\n            s = [...seguros.filter(se => se.delegatarioId === selectedEmpresa.delegatarioId)]\r\n\r\n\r\n        let insurance = { ...s.find(s => s[name] === inputValue) }\r\n\r\n        if (demand && this.state.insurance)\r\n            insurance = this.state.insurance\r\n\r\n        const insuranceExists = Object.keys(insurance).length > 0\r\n\r\n        if (insuranceExists) {\r\n            const\r\n                dataEmissao = moment(insurance.dataEmissao).format('YYYY-MM-DD'),\r\n                vencimento = moment(insurance.vencimento).format('YYYY-MM-DD'),\r\n                { seguradora, seguradoraId } = insurance\r\n\r\n            await this.setState({ seguradora, seguradoraId, dataEmissao, vencimento, insurance })\r\n            return\r\n        }\r\n        else this.setState({ dataEmissao: '', vencimento: '', deletedVehicles: [] })\r\n    }\r\n\r\n    handleInput = async e => {\r\n\r\n        let { value } = e.target\r\n        const\r\n            { name } = e.target,\r\n            { empresas, seguradoras } = this.props.redux,\r\n            { selectedEmpresa, frota, insurance, apolice, dataEmissao,\r\n                vencimento, newInsurance, seguradora } = this.state\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        switch (name) {\r\n            case 'razaoSocial':\r\n                let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n                if (selectedEmpresa) {\r\n                    await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                    if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n                    this.filterInsurances()\r\n\r\n                } else {\r\n                    this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                    this.clearFields()\r\n                }\r\n                break\r\n\r\n            case 'apolice':\r\n                this.checkExistance('apolice', value)\r\n                break\r\n\r\n            case 'seguradora':\r\n                const selectedSeguradora = seguradoras.find(sg => sg.seguradora === value)\r\n                if (selectedSeguradora) {\r\n                    this.setState({ seguradoraId: selectedSeguradora.id })\r\n                }\r\n                break\r\n\r\n            case 'addedPlaca':\r\n                const vehicleFound = frota.find(v => v.placa === value)\r\n                if (vehicleFound) this.setState({ vehicleFound })\r\n                break;\r\n            default:\r\n                void 0\r\n        }\r\n\r\n        // *************NEW INSURANCE CHECK / UPDATE STATE****************\r\n        const fields = ['seguradora', 'apolice', 'dataEmissao', 'vencimento']\r\n        const checkFields = fields.every(f => this.state[f] && this.state[f] !== '')\r\n\r\n        if (name !== 'razaoSocial' && !newInsurance && checkFields && !insurance) {\r\n            let seguradoraId\r\n            const selectedSeguradora = seguradoras.find(sg => sg.seguradora === this.state.seguradora)\r\n            if (selectedSeguradora) seguradoraId = selectedSeguradora.id\r\n\r\n            const newInsurance = {\r\n                empresa: selectedEmpresa.razaoSocial,\r\n                delegatarioId: selectedEmpresa.delegatarioId,\r\n                apolice, seguradora, seguradoraId, dataEmissao, vencimento, placas: [], veiculos: []\r\n            }\r\n            await this.setState({ insurance: newInsurance, seguradoraId })\r\n        }\r\n    }\r\n\r\n    handleBlur = e => {\r\n\r\n        const\r\n            { seguradoras } = this.props.redux,\r\n            { seguradora, allInsurances, selectedEmpresa } = this.state,\r\n            { name } = e.target\r\n\r\n        if (name === 'seguradora') {\r\n            let filteredInsurances = []\r\n\r\n            const valid = seguradoras.find(s => s.seguradora.toLowerCase().match(seguradora.toLowerCase()))\r\n            if (valid && seguradora.length > 2) this.setState({ seguradora: valid.seguradora, seguradoraId: valid.id })\r\n            if (!valid && seguradora.length > 2) this.setState({ openAlertDialog: true, alertType: 'seguradoraNotFound', seguradora: undefined })\r\n\r\n            if (selectedEmpresa && !seguradora) {\r\n                filteredInsurances = allInsurances.filter(seguro => seguro.empresa === selectedEmpresa.razaoSocial)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n            else if (!selectedEmpresa && seguradora !== '') {\r\n                filteredInsurances = allInsurances.filter(s => s.seguradora === seguradora)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n            else if (selectedEmpresa && seguradora !== '') {\r\n                filteredInsurances = allInsurances\r\n                    .filter(seg => seg.empresa === selectedEmpresa.razaoSocial)\r\n                    .filter(seg => seg.seguradora === seguradora)\r\n                this.setState({ seguros: filteredInsurances })\r\n            }\r\n        }\r\n        if (name === 'dataEmissao' || name === 'vencimento') {\r\n            const errors = checkInputErrors()\r\n            if (errors) this.setState({ errors })\r\n            else this.setState({ errors: undefined })\r\n        }\r\n    }\r\n\r\n    showAllPlates = () => {\r\n        const { insurance, allPlates } = this.state\r\n        let placas = [], allPlatesObj = {}\r\n\r\n        if (insurance && insurance.placas) placas = insurance.placas\r\n\r\n        allPlates.forEach(p => Object.assign(allPlatesObj, { [p]: false }))\r\n        placas.forEach(p => Object.assign(allPlatesObj, { [p]: true }))\r\n\r\n        this.setState({ allPlatesObj, insuredPlates: placas, showAllPlates: !this.state.showAllPlates })\r\n    }\r\n\r\n    handleCheck = async plate => {\r\n\r\n        let allPlatesObj = { ...this.state.allPlatesObj }\r\n        allPlatesObj[plate] = !allPlatesObj[plate]\r\n\r\n        if (allPlatesObj[plate] === true) this.addPlate(plate)\r\n        else this.removeFromInsurance(plate)\r\n\r\n        this.setState({ allPlatesObj })\r\n    }\r\n\r\n    addPlate = async placaInput => {\r\n\r\n        const\r\n            { apolice, frota, deletedVehicles, insurance } = this.state,\r\n            vehicleFound = frota.find(v => v.placa === placaInput)\r\n\r\n        if (!placaInput || placaInput === '') return\r\n\r\n        //Check if vehicle belongs to frota before add to insurance and  if plate already belongs to apolice\r\n        if (vehicleFound === undefined || vehicleFound.hasOwnProperty('veiculoId') === false) {\r\n            this.setState({ openAlertDialog: true, alertType: 'plateNotFound' })\r\n            return null\r\n        } else if (insurance && insurance.placas && vehicleFound.placa) {\r\n            const check = insurance.placas.find(p => p === vehicleFound.placa)\r\n            if (check) {\r\n                this.setState({ openAlertDialog: true, alertType: 'plateExists' })\r\n                return null\r\n            }\r\n        }\r\n        // Add plates to rendered list\r\n        if (apolice && insurance) {\r\n            const\r\n                update = { ...insurance },\r\n                { veiculoId } = vehicleFound\r\n\r\n            if (!update.placas) update.placas = []\r\n            if (!update.veiculos) update.veiculos = []\r\n\r\n            update.placas.push(placaInput)\r\n            update.veiculos.push(veiculoId)\r\n\r\n            //Remove from state.deletedVehicles if its the case\r\n            if (deletedVehicles.includes(veiculoId)) {\r\n                const i = deletedVehicles.indexOf(veiculoId)\r\n                deletedVehicles.splice(i, 1)\r\n            }\r\n            this.setState({ insurance: update, addedPlaca: '', deletedVehicles })\r\n        }\r\n    }\r\n\r\n    removeFromInsurance = async placaInput => {\r\n\r\n        const\r\n            { apolice, frota } = this.state,\r\n            vehicleFound = frota.find(v => v.placa === placaInput),\r\n            { veiculoId, placa } = vehicleFound\r\n\r\n        let\r\n            insurance = { ...this.state.insurance },\r\n            deletedVehicles = [...this.state.deletedVehicles],\r\n            placas = [], veiculos = [],\r\n            check\r\n\r\n        const seg = this.props.redux.seguros.find(s => s.apolice === apolice)\r\n        if (seg && seg.placas) check = seg.placas.includes(placa)\r\n\r\n        if (check) {\r\n            let { veiculos } = insurance\r\n            const k = veiculos.indexOf(veiculoId)\r\n\r\n            if (!deletedVehicles.includes(veiculos[k])) {\r\n                deletedVehicles.push(veiculos[k])\r\n\r\n                this.setState({ deletedVehicles })\r\n            }\r\n        }\r\n\r\n        if (insurance.placas) placas = insurance.placas\r\n        if (insurance.veiculos) veiculos = insurance.veiculos\r\n\r\n        const\r\n            i = placas.indexOf(placa),\r\n            k = veiculos.indexOf(veiculoId)\r\n\r\n        insurance.placas.splice(i, 1)\r\n        insurance.veiculos.splice(k, 1)\r\n\r\n        this.setState({ insurance })\r\n    }\r\n\r\n    updateInsurance = () => {\r\n        const\r\n            { insurance, dataEmissao, vencimento, seguradoraId } = this.state,\r\n            { id, veiculos } = insurance\r\n\r\n        let updates = {}\r\n        const\r\n            emissaoDidChange = !moment(dataEmissao).isSame(moment(insurance.dataEmissao)),\r\n            vencimentoDidChange = !moment(vencimento).isSame(moment(insurance.vencimento)),\r\n            seguradoraDidChange = seguradoraId !== insurance.seguradoraId\r\n\r\n        if (!emissaoDidChange && !vencimentoDidChange && seguradoraDidChange) return null\r\n\r\n        if (emissaoDidChange) updates.data_emissao = dataEmissao\r\n        if (vencimentoDidChange) updates.vencimento = vencimento\r\n        if (seguradoraDidChange) updates.seguradora_id = seguradoraId\r\n\r\n        const requestObj = {\r\n            id,\r\n            columns: Object.keys(updates),\r\n            updates,\r\n            vehicleIds: veiculos\r\n        }\r\n        axios.put('/api/updateInsurance', requestObj)\r\n            .then(r => console.log(r.data))\r\n    }\r\n\r\n    handleSubmit = async approved => {\r\n\r\n        const { seguradora, insurance, errors, deletedVehicles, seguradoraId, apolice,\r\n            dataEmissao, vencimento, selectedEmpresa, demand, demandFiles, apoliceDoc, info } = this.state\r\n\r\n        let vehicleIds = []\r\n\r\n        if (errors && errors[0]) {\r\n            this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n        if (!seguradora || seguradora === '') {\r\n            this.setState({ openAlertDialog: true, alertType: 'seguradoraNotFound', seguradora: undefined })\r\n            return\r\n        }\r\n\r\n        //Create seguro object       \r\n        const\r\n            validEmissao = moment(dataEmissao, 'YYYY-MM-DD', true).isValid(),\r\n            validVenc = moment(vencimento, 'YYYY-MM-DD', true).isValid(),\r\n            cadSeguro = {\r\n                apolice,\r\n                seguradora_id: seguradoraId,\r\n                delegatario_id: selectedEmpresa.delegatarioId\r\n            }\r\n\r\n        if (validEmissao) cadSeguro.data_emissao = dataEmissao\r\n        if (validVenc) cadSeguro.vencimento = vencimento\r\n\r\n        //*******************Create a new demand\r\n        if (!demand) {\r\n            // New or existing, insurance will be in state if the all fields are filled and update every plate added or removed.\r\n            if (insurance)\r\n                vehicleIds = insurance.veiculos\r\n\r\n            let { delegatarioId, ...seguro } = cadSeguro\r\n            seguro.seguradora = seguradora\r\n            seguro = humps.camelizeKeys(seguro)\r\n\r\n            const log = {\r\n                empresaId: selectedEmpresa?.delegatarioId,\r\n                history: {\r\n                    ...seguro,\r\n                    vehicleIds,\r\n                    files: apoliceDoc\r\n                },\r\n                demandFiles,\r\n                metadata: {\r\n                    fieldName: 'apoliceDoc',\r\n                    apolice,\r\n                    empresaId: selectedEmpresa?.delegatarioId,\r\n                },\r\n                historyLength: 0,\r\n                approved\r\n            }\r\n            if (deletedVehicles[0])\r\n                log.history.deletedVehicles = deletedVehicles\r\n            logGenerator(log)\r\n            this.confirmAndResetState('Solicitao de cadastro de seguro enviada')\r\n            return\r\n        }\r\n\r\n        if (approved === false) {\r\n            const log = {\r\n                id: demand.id,\r\n                history: {\r\n                    info\r\n                },\r\n                declined: true\r\n            }\r\n            logGenerator(log)\r\n                .then(r => console.log(r))\r\n            this.confirmAndResetState('Solicitao indeferida!')\r\n        }\r\n\r\n        if (approved === true) {\r\n            this.approveInsurance(cadSeguro)\r\n        }\r\n    }\r\n\r\n    approveInsurance = async cadSeguro => {\r\n        const\r\n            { apolice, insurance, newElement, deletedVehicles, demand, demandFiles } = this.state,\r\n            vehicleIds = insurance.veiculos\r\n\r\n        //********************************** CREATE/UPDATE INSURANCE **********************************\r\n        const insuranceExists = this.props.redux.seguros.some(s => s.apolice === apolice)\r\n        if (insuranceExists)\r\n            await this.updateInsurance()\r\n        else\r\n            await axios.post('/api/cadSeguro', cadSeguro)\r\n\r\n        //********************************** UPDATE VEHICLES**********************************\r\n        //Define body and post VehicleUpdate\r\n        let body = {\r\n            table: 'veiculo',\r\n            column: 'apolice',\r\n            value: apolice,\r\n            tablePK: 'veiculo_id',\r\n            ids: vehicleIds\r\n        }\r\n\r\n        if (newElement && insuranceExists && insurance.id) {\r\n            axios.put('/api/changeApoliceNumber', { id: insurance.id, newApoliceNumber: newElement })\r\n        }\r\n\r\n        await axios.put('/api/updateInsurances', body)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                this.setState({ dontUpdateProps: true })\r\n            })\r\n\r\n        if (deletedVehicles[0] || demand?.history[0]?.deletedVehicles) {\r\n            const\r\n                previouslyDeleted = demand?.history[0]?.deletedVehicles || [],\r\n                vehiclesToDelete = deletedVehicles.concat(previouslyDeleted)\r\n\r\n            body.value = 'Seguro no cadastrado'\r\n            body.ids = vehiclesToDelete\r\n            await axios.put('/api/updateInsurances', body)\r\n        }\r\n\r\n        const log = {\r\n            id: demand.id,\r\n            demandFiles,\r\n            history: {},\r\n            metadata: {},\r\n            approved: true\r\n        }\r\n        logGenerator(log)\r\n        this.confirmAndResetState()\r\n    }\r\n\r\n    confirmAndResetState = confirmMessage => {\r\n        const { demand } = this.state\r\n        this.toast(confirmMessage)\r\n        this.clearFields()\r\n\r\n        if (demand)\r\n            setTimeout(() => {\r\n                this.props.history.push('/solicitacoes')\r\n            }, 1500);\r\n    }\r\n\r\n    handleFiles = async file => {\r\n        let formData = new FormData()\r\n        formData.append('apoliceDoc', file[0])\r\n        await this.setState({ apoliceDoc: formData, fileToRemove: null })\r\n    }\r\n\r\n    removeFile = async (name) => {\r\n        const\r\n            { apoliceDoc } = this.state,\r\n            newState = removeFile(name, apoliceDoc)\r\n\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n    addNewElement = () => this.setState({ apolice: this.state.newElement, openAddDialog: false })\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    toggleDialog = () => this.setState({ openAddDialog: !this.state.openAddDialog })\r\n    toast = toastMsg => this.setState({ confirmToast: !this.state.confirmToast, toastMsg: toastMsg ? toastMsg : this.state.toastMsg })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    clearFields = () => {\r\n        this.setState({\r\n            seguradora: '', insurance: undefined, apolice: '', dataEmissao: '', vencimento: '', apoliceDoc: null, deletedVehicles: [],\r\n            dropDisplay: 'Clique ou arraste para anexar a aplice'\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const\r\n            { openAlertDialog, alertType, openAddDialog, showAllPlates, allPlates, allPlatesObj } = this.state,\r\n            { empresas } = this.props.redux\r\n\r\n        const enableAddPlaca = seguroForm\r\n            .every(k => this.state.hasOwnProperty(k.field) && this.state[k.field] !== '')\r\n\r\n        return (\r\n            <Fragment>\r\n                <SeguroTemplate\r\n                    data={this.state}\r\n                    empresas={empresas}\r\n                    enableAddPlaca={enableAddPlaca}\r\n                    handleInput={this.handleInput}\r\n                    handleBlur={this.handleBlur}\r\n                    addPlate={this.addPlate}\r\n                    removeFromInsurance={this.removeFromInsurance}\r\n                    enableChangeApolice={this.toggleDialog}\r\n                    handleFiles={this.handleFiles}\r\n                    handleSubmit={this.handleSubmit}\r\n                    showAllPlates={this.showAllPlates}\r\n                    setShowPendencias={this.setShowPendencias}\r\n                    removeFile={this.removeFile}\r\n                />\r\n                {openAddDialog && <ConfigAddDialog\r\n                    open={openAddDialog}\r\n                    close={this.toggleDialog}\r\n                    title='Alterar nmero da aplice'\r\n                    helperMessage='Informe o nmero atualizado da aplice.'\r\n                    handleInput={this.handleInput}\r\n                    addNewElement={this.addNewElement}\r\n                />}\r\n                {\r\n                    showAllPlates &&\r\n                    <ShowAllPlates\r\n                        items={allPlates}\r\n                        close={this.showAllPlates}\r\n                        title='Selecione as placas para adicionar  aplice.'\r\n                        handleCheck={this.handleCheck}\r\n                        data={allPlatesObj} />\r\n                }\r\n\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'seguradoras', 'seguros', 'getFiles/empresaDocs']\r\n\r\nexport default StoreHOC(collections, Seguro)","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { Fragment } from 'react';\r\n\r\nexport default function ConfirmDialog({ open, type, close, confirm, element, id, index, customTitle = '', customMessage = '' }) {\r\n\r\n    let title, message\r\n    if (type === 'delete') {\r\n        title = 'Confirmar excluso'\r\n        message = 'Tem certeza que deseja excluir esse registro?'\r\n        if (element) message = message.replace('?', ': ')\r\n    }\r\n\r\n    if (title && message) return (\r\n        <div>\r\n            <Dialog\r\n                open={open}\r\n                onClose={close}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {element ?\r\n                            <Fragment>\r\n                                {message}<strong>  {element}    </strong>?\r\n                            </Fragment>\r\n                            : message}\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={close} autoFocus> Cancelar </Button>\r\n                    <Button onClick={() => confirm(id || index)} color=\"primary\"> Confirmar </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n    else return null\r\n}","export const laudoForm = [\r\n    {\r\n        field: 'id',\r\n        label: 'Nmero do laudo',              \r\n        maxLength: 30\r\n    },\r\n    {\r\n        field: 'validade',\r\n        label: 'Data de validade',\r\n        type: 'date'\r\n    },\r\n    {\r\n        field: 'empresaLaudo',\r\n        label: 'Empresa emissora',        \r\n        select: true\r\n    },    \r\n]","import React from 'react'\r\n\r\nconst Placa = props => {\r\n    const { veiculoId, city, placa, onClick, style } = props\r\n\r\n    return (\r\n        <div id={veiculoId} onClick={onClick} style={style} className='placaContainer'>\r\n            <div className=\"placaCity\">{city}</div>\r\n            <div className=\"placaCode\">{placa}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Placa","import React from 'react'\r\nimport moment from 'moment'\r\nimport downloadFile from '../Utils/downloadFile'\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nexport default function StandardTable({ table, length, title, style, idIndex = 0, deleteIconProperties = {}, deleteFunction }) {\r\n    const { tableHeaders, laudosArray, laudoDocs } = table\r\n\r\n    const dateFormat = value => {\r\n        if (moment(value, 'YYYY-MM-DDTHH:mm:ss.SSSZZ', true).isValid()) {\r\n            return moment(value, moment.ISO_8601, true).format('DD/MM/YYYY')\r\n        }\r\n        else {\r\n            return value\r\n        }\r\n    }\r\n\r\n    const getFile = id => {\r\n        const file = laudoDocs.find(f => f.id === id)\r\n        if (id && file) downloadFile(file.id, file.filename, 'vehicleDocs', file.metadata.fieldName);\r\n    }\r\n    \r\n    return (\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th className='tHeader'\r\n                        style={style}\r\n                        colSpan={length}>{title}</th>\r\n                </tr>\r\n                <tr>\r\n                    {tableHeaders.map((l, i) => <th key={i} style={style}>{l}</th>)}\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {\r\n                    laudosArray.map((laudo, j) =>\r\n                        <tr key={j}>\r\n                            {\r\n                                laudo.map((obj, i) =>\r\n                                    <td key={i} style={style} className={obj.type === 'link' && obj.laudoDocId ? 'link2' : 'review'}\r\n                                        onClick={\r\n                                            () => obj.field === 'laudoDoc' && obj.laudoDocId ? getFile(obj.laudoDocId)\r\n                                                : obj?.action === 'delete' ? deleteFunction(laudo[idIndex]?.value)\r\n                                                    : null}>\r\n                                        {\r\n                                            obj.type === 'date' ? dateFormat(obj.value)\r\n                                                : obj?.action === 'delete' && laudo[idIndex]?.value ? <DeleteIcon {...deleteIconProperties} />\r\n                                                    : obj.value\r\n                                        }\r\n                                    </td>\r\n                                )}\r\n                        </tr>\r\n                    )}\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst StyledMenu = withStyles({\r\n    paper: {\r\n        border: '1px solid #d3d4d5',\r\n    },\r\n})((props) => (\r\n    <Menu\r\n        elevation={0}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n            vertical: 'center',\r\n            horizontal: 'right',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n        }}\r\n        {...props}\r\n    />\r\n));\r\n\r\nconst OnClickMenu = ({ anchorEl, handleClose, menuOptions }) => {\r\n\r\n\r\n    return (\r\n        <>\r\n            <StyledMenu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                {menuOptions.map(({ title, onClick }, i) => (\r\n                    <MenuItem key = {i} onClick={onClick}>{title}</MenuItem>\r\n                ))}               \r\n            </StyledMenu>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default OnClickMenu","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport { laudoForm } from '../Forms/laudoForm'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport Placa from '../Reusable Components/Placa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport CustomTable from '../Reusable Components/CustomTable'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport OnClickMenu from '../Reusable Components/OnClickMenu'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Search from '@material-ui/icons/Search'\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport Button from '@material-ui/core/Button'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\n\r\nconst LaudosTemplate = (\r\n    { empresas, razaoSocial, selectedEmpresa, filteredVehicles, selectedVehicle, stateInputs, selectOptions, table,\r\n        anchorEl, laudoDoc, dropDisplay, functions, demand, demandFiles, showPendencias, info, fileToRemove }) => {\r\n\r\n    const\r\n        placa = selectedVehicle?.placa,\r\n        { handleInput, clickOnPlate, showDetails, handleFiles, handleSubmit, closeMenu, clear,\r\n            removeFile, deleteLaudo, setShowPendencias } = functions\r\n\r\n    const renderColor = laudos => {\r\n        if (laudos && laudos[0] && laudos[0].validade) {\r\n            const { validade } = laudos[0]\r\n\r\n            if (moment(validade, moment.ISO_8601).isValid() && moment(validade).isAfter(moment().toDate())) return { backgroundColor: 'rgb(13, 136, 13)' }\r\n            if (moment(validade, moment.ISO_8601).isValid() && moment(validade).isBefore(moment().toDate())) return { backgroundColor: 'rgb(197, 128, 0)' }\r\n        }\r\n        else return { backgroundColor: 'rgb(136, 13, 13)' }\r\n    }\r\n\r\n    const deleteIconProperties = {\r\n        color: 'secondary',\r\n        title: 'Apagar Laudo',\r\n        style: { cursor: 'pointer' }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Crumbs links={['Veculos', '/veiculos']} text='Laudos' demand={demand} selectedEmpresa={selectedEmpresa} />\r\n            <div style={demand ? { marginTop: '15px' } : {}}>\r\n                <SelectEmpresa\r\n                    empresas={empresas}\r\n                    data={{ razaoSocial, demand }}\r\n                    headerTitle={placa && selectedEmpresa && `Cadastro de laudo veicular ${placa} - ${selectedEmpresa?.razaoSocial}`}\r\n                    handleInput={handleInput}\r\n                />\r\n            </div>\r\n            {\r\n                selectedEmpresa && !Array.isArray(selectedEmpresa) && <>\r\n                    {!demand &&\r\n                        <header className='flex' style={{ marginBottom: '15px', justifyContent: 'space-between' }}>\r\n                            {\r\n                                !selectedVehicle ?\r\n                                    <FormSubtiltle subtitle='Selecione o veculo para atualizar consultar ou inserir o laudo de segurana veicular.' />\r\n                                    :\r\n                                    <Placa\r\n                                        veiculoId={selectedVehicle.veiculoId}\r\n                                        onClick={clickOnPlate}\r\n                                        style={{ ...renderColor(selectedVehicle.laudos), marginLeft: 0 }}\r\n                                        city={selectedEmpresa.cidade}\r\n                                        placa={selectedVehicle.placa}\r\n                                    />\r\n                            }\r\n                            <div>\r\n                                <TextField\r\n                                    inputProps={{ name: 'placa' }}\r\n                                    InputLabelProps={{ style: { fontSize: '0.8rem' } }}\r\n                                    label='Filtrar'\r\n                                    onChange={handleInput}\r\n                                />\r\n                                <Search style={{ marginTop: '10px' }} />\r\n                            </div>\r\n                        </header>\r\n                    }\r\n                    {selectedVehicle && <>\r\n                        <main className='paper' style={demand ? { marginTop: '15px' } : {}}>\r\n                            <FormSubtiltle\r\n                                subtitle={\r\n                                    !demand ?\r\n                                        'Para inserir novo laudo, informe o nmero, a data de vencimento, a empresa que emitiu e anexe o documento referente ao laudo.'\r\n                                        :\r\n                                        'Verifique as informaes abaixo, confira com o laudo anexo e escolha uma das opes abaixo.'\r\n                                }\r\n                            />\r\n\r\n                            <br />\r\n                            <br />\r\n                            <TextInput\r\n                                form={laudoForm}\r\n                                data={stateInputs}\r\n                                handleInput={handleInput}\r\n                                selectOptions={selectOptions}\r\n                            />\r\n                            {!demand ? <DragAndDrop\r\n                                name='laudoDoc'\r\n                                formData={laudoDoc}\r\n                                dropDisplay={dropDisplay}\r\n                                handleFiles={handleFiles}\r\n                                removeFile={removeFile}\r\n                                fileToRemove={fileToRemove}\r\n                                single={true}\r\n                                style={{ width: '400px', margin: '15px auto 0 auto' }}\r\n                            />\r\n                                : demandFiles &&\r\n                                <ShowLocalFiles\r\n                                    demand={demand}\r\n                                    collection='vehicleDocs'\r\n                                    demandFiles={demandFiles}\r\n                                    form={[{ title: 'Laudo veicular', name: 'laudoDoc' }]}\r\n                                //files={files}\r\n                                />\r\n                            }\r\n                        </main>\r\n                        <section>\r\n                            {\r\n                                selectedEmpresa && !demand ?\r\n                                    <Button\r\n                                        size=\"small\"\r\n                                        color='primary'\r\n                                        className='saveButton'\r\n                                        variant=\"contained\"\r\n                                        onClick={() => handleSubmit()}\r\n                                    //   disabled={!laudoDoc ? true : false}\r\n                                    >\r\n                                        Cadastrar Laudo\r\n                                    </Button>\r\n                                    : selectedEmpresa && demand ?\r\n                                        <StepperButtons\r\n                                            uniqueStep={true}\r\n                                            declineButtonLabel='Indeferir'\r\n                                            demand={demand}\r\n                                            setShowPendencias={() => setShowPendencias(!showPendencias)}\r\n                                            showPendencias={showPendencias}\r\n                                            info={info}\r\n                                            handleSubmit={handleSubmit}\r\n                                            handleInput={handleInput}\r\n                                        />\r\n                                        : null\r\n                            }\r\n                        </section>\r\n                    </>\r\n                    }\r\n\r\n                    <section>\r\n                        <h4>\r\n                            {!selectedVehicle ?\r\n                                <div className='flex' style={{ justifyContent: 'space-between' }}>\r\n                                    <div>\r\n                                        {`Exibindo ${filteredVehicles.length} veculos com mais de 15 anos.`}\r\n                                    </div>\r\n                                    <div className='flex placasCaption' style={{ fontSize: '0.8rem' }}>\r\n                                        <span>\r\n                                            <span style={{ paddingTop: '5px', color: 'rgb(13, 136, 13)' }}><StopIcon /></span> Laudo vigente\r\n                                        </span>\r\n                                        <span>\r\n                                            <span style={{ paddingTop: '5px', color: 'rgb(197, 128, 0)' }}><StopIcon /></span> Laudo vencido                                            </span>\r\n                                        <span>\r\n                                            <span style={{ paddingTop: '5px', color: 'rgb(136, 13, 13)' }}><StopIcon /></span> Nenhum Laudo cadastrado\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                :\r\n                                null\r\n                            }\r\n                        </h4>\r\n                    </section>\r\n\r\n                    {!selectedVehicle &&\r\n                        <section className='center flex paper'>\r\n                            {filteredVehicles.map((v, i) => (\r\n                                <Placa\r\n                                    key={i}\r\n                                    veiculoId={v.veiculoId}\r\n                                    onClick={clickOnPlate}\r\n                                    style={renderColor(v.laudos)}\r\n                                    city={selectedEmpresa.cidade}\r\n                                    placa={v.placa}\r\n                                />\r\n\r\n                            ))}\r\n                        </section>\r\n                    }\r\n\r\n                    <OnClickMenu\r\n                        anchorEl={anchorEl}\r\n                        handleClose={closeMenu}\r\n                        menuOptions={[{\r\n                            title: 'Detalhes',\r\n                            onClick: showDetails\r\n                        }\r\n                        ]}\r\n                    />\r\n                </>\r\n            }\r\n            {\r\n                selectedVehicle && selectedVehicle.laudos && !demand &&\r\n                <>\r\n                    {typeof table === 'object' ?\r\n                        <div className=\"paper\" style={{ marginTop: '52px', width: '100%', padding: '0', borderRadius: '5px', overflow: 'hidden' }}>\r\n                            <CustomTable\r\n                                length={table.tableHeaders.length}\r\n                                title={`Laudos vinculados ao veculo placa ${selectedVehicle.placa}`}\r\n                                table={table}\r\n                                style={{ textAlign: 'center', padding: '8px 0' }}\r\n                                deleteIconProperties={deleteIconProperties}\r\n                                deleteFunction={deleteLaudo}\r\n                                idIndex={1}\r\n                            />\r\n                        </div>\r\n                        :\r\n                        <>\r\n                            <br />\r\n                            <br />\r\n                            <p>{table}</p>\r\n                        </>\r\n                    }\r\n                    <div className='voltarDiv' onClick={clear}>\r\n                        <ArrowBackIcon size='small' />\r\n                        <span style={{ padding: '2px 0 0 2px', marginLeft: '2px', fontSize: '1rem' }}>Voltar</span>\r\n                    </div>\r\n                </>\r\n            }\r\n        </React.Fragment >\r\n    )\r\n}\r\n\r\nexport default React.memo(LaudosTemplate)","import cpfValidator from '../Utils/cpfValidator'\r\nimport { cnpjValidator } from '../Utils/cnpjValidator'\r\n\r\nimport { clearFormat } from '../Utils/formatValues'\r\n\r\nexport const\r\n    razaoSocial = {\r\n        field: 'razaoSocial',\r\n        label: 'Empresa',\r\n        width: '340px'\r\n    },\r\n    placas = {\r\n        field: 'placas',\r\n        label: 'Veculos cadastrados',\r\n        width: '340px'\r\n    },\r\n    createdAt = {\r\n        field: 'createdAt',\r\n        label: 'Data do registro no sistema',\r\n        type: 'date',\r\n        width: '190px'\r\n    },\r\n    cnpj = {\r\n        field: 'cnpj',\r\n        label: 'CNPJ',\r\n        maxLength: 18,\r\n        pattern: /^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2}$/,\r\n        errorHandler: (cnpjString) => cnpjValidator(cnpjString)\r\n    },\r\n    cpf = {\r\n        field: 'cpfSocio',\r\n        label: 'CPF',\r\n        maxLength: 14,\r\n        width: 190,\r\n        errorHandler: (cpfString) => cpfValidator(clearFormat(cpfString))\r\n    },\r\n    phone = {\r\n        label: 'Telefone',\r\n    //    minLength: 14,\r\n        maxLength: 15,\r\n        pattern: '((([+][0-9]{1,3})?[ ]?[-]?[(]?[0-9]{2,3}[)]?[ ]?[-]?[0-9]{4,5}[ ]?[-]?[0-9]{4}))'\r\n\r\n    },\r\n    email = {\r\n        label: 'E-mail',\r\n        type: 'email',\r\n        maxLength: 60,\r\n        pattern: '[a-zA-Z0-9]@[a-zA-Z0-9]{1,20}?[.]([a-zA-Z0-9])',\r\n    }","export function cnpjValidator(cnpj) {\r\n\r\n    cnpj = cnpj.replace(/[^\\d]+/g, '');\r\n\r\n    if (cnpj === '') return false;\r\n\r\n    if (cnpj.length !== 14)\r\n        return false;\r\n\r\n    // LINHA 10 - Elimina CNPJs invalidos conhecidos\r\n    if (cnpj === \"00000000000000\" ||\r\n        cnpj === \"11111111111111\" ||\r\n        cnpj === \"22222222222222\" ||\r\n        cnpj === \"33333333333333\" ||\r\n        cnpj === \"44444444444444\" ||\r\n        cnpj === \"55555555555555\" ||\r\n        cnpj === \"66666666666666\" ||\r\n        cnpj === \"77777777777777\" ||\r\n        cnpj === \"88888888888888\" ||\r\n        cnpj === \"99999999999999\")\r\n        return false; // LINHA 21\r\n\r\n    // Valida DVs LINHA 23 -\r\n    let tamanho = cnpj.length - 2,\r\n        numeros = cnpj.substring(0, tamanho),\r\n        digitos = cnpj.substring(tamanho),\r\n        soma = 0,\r\n        pos = tamanho - 7,\r\n        resultado\r\n    for (let i = tamanho; i >= 1; i--) {\r\n        soma += numeros.charAt(tamanho - i) * pos--;\r\n        if (pos < 2)\r\n            pos = 9;\r\n    }\r\n    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;    \r\n    if (resultado.toString() !== digitos.charAt(0))\r\n        return false;\r\n\r\n    tamanho = tamanho + 1;\r\n    numeros = cnpj.substring(0, tamanho);\r\n    soma = 0;\r\n    pos = tamanho - 7;\r\n    for (let i = tamanho; i >= 1; i--) {\r\n        soma += numeros.charAt(tamanho - i) * pos--;\r\n        if (pos < 2)\r\n            pos = 9;\r\n    }\r\n    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\r\n    if (resultado.toString() !== digitos.charAt(1))\r\n        return false; // LINHA 49\r\n\r\n    return true; // LINHA 51\r\n\r\n}\r\n\r\n/* export function cnpjValidator(c) {\r\n\r\n    var b = [6, 5, 4, 3, 2, 9, 8, 7, 6, 5, 4, 3, 2];\r\n\r\n    if ((c = c.replace(/[^\\d]/g, \"\")).length != 14)\r\n        return false;\r\n\r\n    if (/0{14}/.test(c))\r\n        return false;\r\n\r\n    for (var j = 0; j < 2; ++j) {\r\n        for (var i = 0, n = 0; i < 12 + j; n += c[i] * b[++i - j]);\r\n        if (c[12 + j] != ((n %= 11) < 2) ? 0 : 11 - n)\r\n            return false;\r\n    }\r\n\r\n    return true;\r\n\r\n}\r\n\r\n\r\n\r\n */\r\n/* export function cnpjValidator(cnpj) {\r\n\r\n    cnpj = cnpj.replace(/[^\\d]+/g, '');\r\n\r\n    if (cnpj === '') return false;\r\n\r\n    if (cnpj.length !== 14)\r\n        return false;\r\n\r\n    // Elimina CNPJs invalidos conhecidos\r\n    if (cnpj === \"00000000000000\" ||\r\n        cnpj === \"11111111111111\" ||\r\n        cnpj === \"22222222222222\" ||\r\n        cnpj === \"33333333333333\" ||\r\n        cnpj === \"44444444444444\" ||\r\n        cnpj === \"55555555555555\" ||\r\n        cnpj === \"66666666666666\" ||\r\n        cnpj === \"77777777777777\" ||\r\n        cnpj === \"88888888888888\" ||\r\n        cnpj === \"99999999999999\")\r\n        return false;\r\n\r\n    // Valida DVs\r\n    let\r\n        tamanho = cnpj.length - 2,\r\n        numeros = cnpj.substring(0, tamanho),\r\n        digitos = cnpj.substring(tamanho),\r\n        soma = 0,\r\n        pos = tamanho - 7,\r\n        resultado\r\n\r\n    for (let i = tamanho; i >= 1; i--) {\r\n        soma += numeros.charAt(tamanho - i) * pos--;\r\n        if (pos < 2)\r\n            pos = 9;\r\n    }\r\n    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\r\n    if (resultado !== digitos.charAt(0))\r\n        return false;\r\n\r\n    tamanho = tamanho + 1;\r\n    numeros = cnpj.substring(0, tamanho);\r\n    soma = 0;\r\n    pos = tamanho - 7;\r\n    for (let i = tamanho; i >= 1; i--) {\r\n        soma += numeros.charAt(tamanho - i) * pos--;\r\n        if (pos < 2)\r\n            pos = 9;\r\n    }\r\n    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\r\n    if (resultado !== digitos.charAt(1))\r\n        return false;\r\n\r\n    return true;\r\n} */","export default function cpfValidator(strCPF) {\r\n    if (!strCPF) return\r\n    let Soma;\r\n    let Resto;\r\n    Soma = 0;\r\n    if (strCPF === \"00000000000\") return false;\r\n\r\n    for (let i = 1; i <= 9; i++) Soma = Soma + parseInt(strCPF.substring(i - 1, i)) * (11 - i);\r\n    Resto = (Soma * 10) % 11;\r\n\r\n    if ((Resto === 10) || (Resto === 11)) Resto = 0;\r\n    if (Resto !== parseInt(strCPF.substring(9, 10))) return false;\r\n\r\n    Soma = 0;\r\n    for (let i = 1; i <= 10; i++) Soma = Soma + parseInt(strCPF.substring(i - 1, i)) * (12 - i);\r\n    Resto = (Soma * 10) % 11;\r\n\r\n    if ((Resto === 10) || (Resto === 11)) Resto = 0;\r\n    if (Resto !== parseInt(strCPF.substring(10, 11))) return false;    \r\n    return true;\r\n}\r\n","import { razaoSocial, placas, createdAt} from '../Forms/commonFields'\r\n\r\nexport const eForm = [\r\n    {\r\n        field: 'delegatarioStatus',\r\n        label: 'Status'\r\n    },\r\n    {\r\n        field: 'vencimentoContrato',\r\n        label: 'Vencimento do Contrato',\r\n        type: 'date',\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n    {\r\n        field: 'frota',\r\n        label: 'Tamanho da Frota'\r\n    },\r\n    {\r\n        field: 'oldId',\r\n        label: 'Cdigo no sistema antigo'\r\n    },\r\n    {\r\n        ...placas\r\n    },\r\n\r\n]\r\n\r\nexport const sForm = [\r\n    {\r\n        ...razaoSocial\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n]\r\n\r\nexport const segForm = [\r\n    {\r\n        ...razaoSocial\r\n    },\r\n    {\r\n        ...createdAt\r\n    },\r\n    {\r\n        ...placas\r\n    },\r\n    {\r\n        field: 'segurados',\r\n        label: 'Nmero de veculos segurados',\r\n    },\r\n]\r\n\r\nexport const vForm = [\r\n    {\r\n        field: 'dataRegistro',\r\n        label: 'Data do registro no sistema',\r\n        type: 'date',\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total'\r\n    },\r\n    {\r\n        field: 'situacao',\r\n        label: 'Situao'\r\n    },\r\n    {\r\n        field: 'indicadorIdade',\r\n        label: 'Indicador de idade'\r\n    },\r\n    {\r\n        field: 'equipamentosId',\r\n        label: 'Equipamentos'\r\n    },\r\n    {\r\n        field: 'compartilhado',\r\n        label: 'Compartilhado por'\r\n    },\r\n    {\r\n        field: 'marcaChassi',\r\n        label: 'Marca do Chassi',\r\n    },\r\n    {\r\n        field: 'marcaCarroceria',\r\n        label: 'Marca da Carroceria',                \r\n    },\r\n]","import { vistoriaForm } from './vistoriaForm'\r\nimport { seguroForm } from './seguroForm'\r\n\r\nexport const cadForm = [[{\r\n    field: 'placa',\r\n    label: 'Placa',\r\n    margin: 'normal',\r\n    maxLength: 8,\r\n    pattern: '[a-zA-Z]{3}[-]?[ ]?\\\\d{4}|[A-Z]{3}[-]?[ ]?[0-9]{1}[A-Z]{1}[0-9]{2}'\r\n},\r\n{\r\n    field: 'renavam',\r\n    label: 'Renavam',\r\n    margin: 'normal',\r\n    maxLength: 11,\r\n    pattern: '\\\\d{11}'\r\n},\r\n{\r\n    field: 'utilizacao',\r\n    label: 'Utilizao',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Convencional', 'Executivo', 'Leito', 'Semi-Leito', 'Urbano']\r\n},\r\n{\r\n    field: 'nChassi',\r\n    label: 'Nmero do Chassi',\r\n    margin: 'normal',\r\n    maxLength: 17\r\n},\r\n{\r\n    field: 'modeloChassi',\r\n    label: 'Modelo do Chassi',\r\n    margin: 'normal',\r\n    datalist: 'modeloChassi',\r\n    autoComplete: true,\r\n    collection: 'modelosChassi'\r\n},\r\n{\r\n    field: 'anoChassi',\r\n    label: 'Ano do Chassi',\r\n    margin: 'normal',\r\n    type: 'number',\r\n    max: Number(new Date().getFullYear()),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{ \r\n    field: 'valorChassi',\r\n    label: 'Valor do Chassi (R$)',\r\n    margin: 'normal',\r\n    zero: true,\r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,    \r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'modeloCarroceria',\r\n    label: 'Modelo da Carroceria',\r\n    margin: 'normal',\r\n    datalist: 'modelo',\r\n    autoComplete: true,\r\n    collection: 'carrocerias'\r\n},\r\n{\r\n    type: 'number',\r\n    field: 'anoCarroceria',\r\n    label: 'Ano da Carroceria',\r\n    margin: 'normal',\r\n    max: Number(new Date().getFullYear() + 1),\r\n    min: Number(new Date().getFullYear()) - 10\r\n},\r\n{    \r\n    field: 'valorCarroceria',\r\n    label: 'Valor da Carroceria (R$)',\r\n    margin: 'normal',\r\n    zero: true,    \r\n    pattern: '^.{9,12}$',\r\n    minLength: 8,    \r\n    maxLength: 11\r\n},\r\n{\r\n    field: 'dominio',\r\n    label: 'Situao da Propriedade',\r\n    margin: 'normal',\r\n    select: true,\r\n    options: ['Veculo prprio', 'Leasing', 'Possuidor']\r\n},\r\n{\r\n    field: 'cores',\r\n    label: 'Cores',\r\n    margin: 'normal',\r\n    maxLength: 50\r\n}\r\n]]\r\n    .concat([seguroForm])\r\n    .concat([vistoriaForm])    ","import { cnpj, phone, email } from './commonFields'\r\n\r\nexport const empresasForm = [\r\n    {\r\n        field: 'razaoSocial',\r\n        label: 'Razo Social',\r\n        width: '340px'\r\n    },\r\n    {\r\n        ...cnpj,\r\n        maxLength: 18,\r\n        pattern: /^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2}$/\r\n    },\r\n    {\r\n        field: 'inscricaoEstadual',\r\n        label: 'Inscrio Estadual',\r\n        maxLength: 13,\r\n        pattern: '\\\\d{13}'\r\n    },\r\n    {\r\n        ...phone,\r\n        field: 'telefone',\r\n        label: 'Telefone',        \r\n    },\r\n    {\r\n        ...email,\r\n        field: 'email',\r\n        label: 'E-mail'        \r\n    },\r\n    {\r\n        field: 'cep',\r\n        label: 'CEP',\r\n        maxLength: 10\r\n    },\r\n    {\r\n        field: 'numero',\r\n        label: 'Nmero',\r\n        type: 'number',\r\n        max: 32000\r\n    },\r\n    {\r\n        field: 'complemento',\r\n        label: 'Complemento',\r\n        maxLength: 20,\r\n    },\r\n    {\r\n        field: 'rua',\r\n        label: 'Rua',\r\n        maxLength: 100,\r\n    },\r\n    {\r\n        field: 'bairro',\r\n        label: 'Bairro',\r\n        maxLength: 40,\r\n    },\r\n    {\r\n        field: 'cidade',\r\n        label: 'Cidade',\r\n        maxLength: 60,\r\n    },\r\n    {\r\n        field: 'uf',\r\n        label: 'Estado',\r\n        maxLength: 2,\r\n        pattern: '[A-Z]{2}'\r\n    }\r\n]","import { cpf, email, phone } from './commonFields'\r\n\r\nconst width = 195\r\n\r\nexport const sociosForm = [{\r\n    field: 'nomeSocio',\r\n    label: 'Nome do Scio',\r\n    maxLength: 90,\r\n    width\r\n},\r\n{\r\n    ...cpf,\r\n    width\r\n},\r\n{\r\n    ...phone,\r\n    field: 'telSocio',\r\n    width\r\n},\r\n{\r\n    ...email,\r\n    field: 'emailSocio',\r\n    width\r\n},\r\n{\r\n    field: 'share',\r\n    label: 'Participao Societria (%)',\r\n    pattern: /(^100(,0{1,2})?$)|(^([1-9]([0-9])?|0)(,[0-9]{1,2})?$)/,\r\n    maxLength: 5,\r\n    width\r\n}]\r\n\r\n","import { cpf, email, phone } from './commonFields'\r\n\r\nexport const procuradorForm = [{\r\n    field: 'nomeProcurador',\r\n    label: 'Nome do Procurador',\r\n    maxLength: 90,\r\n    width: 235\r\n},\r\n{\r\n    ...cpf,\r\n    field: 'cpfProcurador',\r\n    width: 235\r\n},\r\n{\r\n    ...phone,\r\n    field: 'telProcurador',    \r\n    width: 235\r\n},\r\n{\r\n    ...email,\r\n    field: 'emailProcurador',\r\n    width: 235\r\n}]","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\n\r\nimport { eForm, sForm, segForm, vForm } from '../Forms/joinForms'\r\n\r\nimport { cadForm } from '../Forms/cadForm'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport { seguroForm } from '../Forms/seguroForm'\r\n\r\nexport default function ShowDetails({ data, tab, title, header, close }) {\r\n\r\n    let { tableData, ...ultimateData } = data,\r\n        formPattern\r\n\r\n    switch (tab) {\r\n        case 0:\r\n            formPattern = empresasForm.concat(eForm)\r\n            break;\r\n        case 1:\r\n            formPattern = sociosForm.concat(sForm)\r\n            break;\r\n        case 2:\r\n            formPattern = procuradorForm\r\n            break;\r\n        case 3:\r\n            let { veiculoId, laudoId, tableData, modeloChassiId, modeloCarroceriaId, delegatarioId, vencimentoContrato, delegatarioCompartilhado,\r\n                acessibilidadeId, equipa, ...vData } = data\r\n\r\n            ultimateData = vData\r\n            formPattern = cadForm.concat([vForm])\r\n            break;\r\n        case 4:\r\n            formPattern = seguroForm.concat(segForm)\r\n            break;\r\n\r\n        default:\r\n            break;\r\n    }\r\n\r\n    let element = []\r\n\r\n    Object.keys(ultimateData).forEach(key => {\r\n        if (tab === 3) {\r\n            formPattern.forEach(form => {\r\n                form.forEach(({ field, label, type }) => {\r\n                    if (key === field) {\r\n                        let obj = {}\r\n                        Object.assign(obj, { field, label, value: ultimateData[key] })\r\n                        if (type) Object.assign(obj, { type })\r\n                        element.push(obj)\r\n                        obj = {}\r\n                    }\r\n                })\r\n            })\r\n        } else {\r\n            formPattern.forEach(({ field, label, type, width, fullWidth }) => {\r\n                if (key === field) {\r\n                    let obj = {}\r\n                    Object.assign(obj, { field, label, value: ultimateData[key] })\r\n                    if (type) Object.assign(obj, { type })\r\n                    if (width) Object.assign(obj, { width })\r\n                    element.push(obj)\r\n                    obj = {}\r\n                }\r\n            })\r\n        }\r\n    })\r\n\r\n    Object.keys(ultimateData).forEach(key => {\r\n\r\n        const equal = element.find(el => el.field === key)\r\n\r\n        if (!equal && tab === 3)\r\n            element.push({ field: key, label: key, value: ultimateData[key] })\r\n    })\r\n\r\n    return (\r\n        <div className=\"popUpWindow\" style={{ left: '20%', right: '20%' }}>\r\n            <h4 className='equipaHeader'>{title} {data[header]}</h4> <hr />\r\n            <div className=\"checkListContainer\" style={{ justifyContent: 'flex-start' }}>\r\n                {\r\n                    element.map(({ field, label, value, type, width }, i) =>\r\n                        <div className=\"showDetailsItem\" style={{ width: width ? width : 150, }} key={i}>\r\n                            <TextField\r\n                                name={field}\r\n                                label={label}\r\n                                value={type === 'date' ? moment(value).format('DD/MM/YYYY') : value || ''}\r\n                                InputLabelProps={{ shrink: true, style: { fontSize: '0.9rem', fontWeight: 500 } }}\r\n                                inputProps={{\r\n                                    style: {\r\n                                        fontSize: '0.7rem',\r\n                                        width: width ? width : 150,\r\n                                        fontColor: '#bbb',\r\n                                        textAlign: 'center'\r\n                                    }\r\n                                }}\r\n                                variant='outlined'\r\n                            />\r\n                        </div>\r\n                    )}\r\n            </div>\r\n            <ClosePopUpButton close={close} />\r\n        </div>\r\n    )\r\n}","export const laudosTable = [\r\n    {\r\n        field: 'empresaLaudo',\r\n        title: 'Empresa Emissora',\r\n    },\r\n    {\r\n        field: 'id',\r\n        title: 'Nmero do Laudo',\r\n    },\r\n    {\r\n        field: 'createdAt',\r\n        title: 'Registro no sistema',\r\n        type: 'date'\r\n    },\r\n    {\r\n        field: 'validade',\r\n        title: 'Data de validade',\r\n        type: 'date'\r\n    },\r\n    \r\n    {\r\n        field: 'laudoDoc',\r\n        title: 'Laudo',\r\n        type: 'link'\r\n    },\r\n    {\r\n        field: 'delete',\r\n        title: 'Remover',        \r\n        action: 'delete',\r\n        deleteFile: true\r\n    }\r\n]\r\n\r\n\r\n","import React, { useState, useEffect, useCallback, Fragment } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport ConfirmDialog from '../Reusable Components/ConfirmDialog'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport LaudosTemplate from './LaudosTemplate'\r\nimport ShowDetails from '../Reusable Components/ShowDetails'\r\nimport { laudoForm } from '../Forms/laudoForm'\r\nimport { laudosTable } from '../Forms/laudosTable'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { setDemand } from '../Utils/setDemand'\r\n\r\nconst Laudos = props => {\r\n    const\r\n        { veiculos, empresas, empresasLaudo, laudos, vehicleDocs } = props.redux,\r\n        demand = props?.location?.state?.demand\r\n\r\n    const initState = Object.freeze({\r\n        dropDisplay: 'Clique ou arraste o arquivo para anexar o laudo',\r\n        stateInputs: {\r\n            id: undefined,\r\n            validade: '',\r\n            empresaLaudo: ''\r\n        }\r\n    })\r\n\r\n    const\r\n        [razaoSocial, empresaInput] = useState(''),\r\n        [selectedEmpresa, setEmpresa] = useState([]),\r\n        [oldVehicles, setOldVehicles] = useState(),\r\n        [filteredVehicles, setFilteredVehicles] = useState([]),\r\n        [details, setDetails] = useState(false),\r\n        [selectedVehicle, selectVehicle] = useState(),\r\n        [anchorEl, setAnchorEl] = useState(null),\r\n        [dropDisplay, setDropDisplay] = useState(initState.dropDisplay),\r\n        [laudoDoc, setLaudoDoc] = useState(),\r\n        [stateInputs, changeInputs] = useState({ ...initState.stateInputs }),\r\n        [toast, setToast] = useState(false),\r\n        [toastMsg, setToastMsg] = useState('Laudo enviado com sucesso.'),\r\n        [table, setTableData] = useState(),\r\n        [demandFiles, setDemandFiles] = useState(),\r\n        [fileToRemove, setFileToRemove] = useState(),\r\n        [showPendencias, setShowPendencias] = useState(false),\r\n        [alertDialog, setAlertDialog] = useState({\r\n            open: false,\r\n            type: 'inputError',\r\n            msg: '',\r\n        }),\r\n        [confirmDialogProps, setConfirmDialog] = useState({\r\n            open: false,\r\n            type: 'delete',\r\n            element: undefined,\r\n        })\r\n\r\n    useEffect(() => {                               //Set esc key to close details window\r\n        const escFunction = e => { if (e.keyCode === 27) setDetails(false); setAnchorEl(null) }\r\n        document.addEventListener('keydown', escFunction)\r\n    }, [])\r\n\r\n    useEffect(() => {                               //If demand, set state accordingly\r\n        if (demand) {\r\n            const\r\n                { history } = demand,\r\n                state = {},\r\n                fullDemand = setDemand(demand, props.redux),\r\n                empresa = fullDemand.selectedEmpresa,\r\n                dFiles = fullDemand.demandFiles,\r\n                { originalVehicle } = fullDemand\r\n\r\n            Object.entries(history[0]).forEach(([k, v]) => {            // Set state with demandState\r\n                if (stateInputs.hasOwnProperty(k))\r\n                    state[k] = v\r\n            })\r\n\r\n            setEmpresa(empresa)\r\n            empresaInput(empresa.razaoSocial)\r\n            changeInputs(state)\r\n            setDemandFiles(dFiles)\r\n            selectVehicle(originalVehicle)\r\n        }\r\n    }, [empresas, demand, props.redux])\r\n\r\n    useEffect(() => {\r\n        async function insertLaudos() {\r\n            if (selectedEmpresa && selectedEmpresa !== '') {\r\n                // Estabelece quais so os veculos 15+anos (oldVehicles)\r\n                const\r\n                    currentYear = new Date().getFullYear(),\r\n                    frota = veiculos.filter(v => v.empresa === selectedEmpresa.razaoSocial),\r\n                    oldVehicles = frota.filter(v => currentYear - v.anoCarroceria > 14 && v.anoCarroceria !== null).sort((a, b) => a.placa.localeCompare(b.placa))\r\n\r\n                let vehiclesLaudo = [], laudosTemp = []\r\n                oldVehicles.forEach(v => {                  //Acrescenta os laudos atualizados para cada veculo 15+anos (oldVehicles)\r\n                    laudos.forEach(l => {\r\n                        if (v.veiculoId === l.veiculoId) {\r\n                            laudosTemp.push(l)\r\n                        }\r\n                    })\r\n                    laudosTemp.sort((a, b) => {\r\n                        const dateA = new Date(a.validade)\r\n                        const dateB = new Date(b.validade)\r\n                        return dateB - dateA\r\n                    })\r\n                    vehiclesLaudo.push({ ...v, laudos: laudosTemp })\r\n                    laudosTemp = []\r\n                })\r\n\r\n                await setOldVehicles(vehiclesLaudo)\r\n                await setFilteredVehicles(vehiclesLaudo)\r\n\r\n                if (selectedVehicle && vehiclesLaudo?.length > 0) {\r\n                    const updatedVehicle = vehiclesLaudo.find(v => v.veiculoId === selectedVehicle.veiculoId)\r\n                    if (updatedVehicle?.laudos?.length !== selectedVehicle?.laudos?.length) {\r\n                        await selectVehicle(updatedVehicle)\r\n                    } else return\r\n                }\r\n            } else {\r\n                setOldVehicles()\r\n                setFilteredVehicles([])\r\n                setEmpresa()\r\n            }\r\n        }\r\n\r\n        insertLaudos()\r\n    }, [selectedEmpresa, veiculos, laudos, selectedVehicle])\r\n\r\n    const handleInput = useCallback(e => {\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'razaoSocial') {\r\n            empresaInput(value)\r\n            const selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n            setEmpresa(selectedEmpresa)\r\n            return\r\n        }\r\n        if (name === 'placa' && oldVehicles[0]) {\r\n            if (typeof value === 'string') value = value.toLocaleUpperCase()\r\n            if (!value || value === '') setFilteredVehicles(oldVehicles)\r\n            else {\r\n                let vehicle\r\n                const filtered = oldVehicles.filter(v => v.placa.match(value))\r\n                if (filtered.length === 1) vehicle = filtered[0]\r\n\r\n                setFilteredVehicles(filtered)\r\n                selectVehicle(vehicle)\r\n                return\r\n            }\r\n        }\r\n        changeInputs({\r\n            ...stateInputs, [name]: value\r\n        })\r\n\r\n    }, [empresaInput, empresas, oldVehicles, stateInputs])\r\n\r\n    const clickOnPlate = async event => {\r\n\r\n        if (selectedVehicle) {\r\n            event.persist()\r\n            setAnchorEl(event.target);\r\n        } else {\r\n            const { id } = event.currentTarget\r\n            let v\r\n            if (id) v = oldVehicles.find(v => v.veiculoId.toString() === id)\r\n            selectVehicle(v)\r\n            setFilteredVehicles([v])\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if (selectedVehicle && !demand) {\r\n            if (selectedVehicle.laudos && selectedVehicle.laudos[0]) {\r\n\r\n                const\r\n                    vehicleLaudos = selectedVehicle?.laudos,\r\n                    laudoDocs = vehicleDocs.filter(d => d.metadata.fieldName === 'laudoDoc')\r\n\r\n                let laudosArray = [], tableHeaders = [], tempArray = [], table2 = [...laudosTable]\r\n\r\n                vehicleLaudos.forEach(l => {\r\n                    table2.forEach(t => {\r\n                        let laudoDocId\r\n                        \r\n                        const laudoDoc = laudoDocs.find(d => d.metadata.laudoId === l.id || d.metadata.laudoId.toString() === l.id.toString())\r\n                        if (laudoDoc)\r\n                            laudoDocId = laudoDoc.id\r\n\r\n                        if (!tableHeaders.includes(t.title))\r\n                            tableHeaders.push(t.title)\r\n\r\n                        const { title, ...tableData } = t\r\n\r\n                        if (t.field === 'laudoDoc')\r\n                            tempArray.push({ ...tableData, value: l[t.field], laudoDocId })\r\n                        else\r\n                            tempArray.push({ ...tableData, value: l[t.field] })\r\n                    })\r\n\r\n                    if (tempArray[4].laudoDocId) tempArray[4].value = 'Clique para visualizar o laudo'\r\n                    else tempArray[4].value = 'Nenhum arquivo encontrado'\r\n                    laudosArray.push(tempArray)\r\n                    tempArray = []\r\n                })\r\n\r\n                table2 = [...laudosTable]\r\n                setTableData({ tableHeaders, laudosArray, laudoDocs })\r\n\r\n            } else setTableData(`Nenhum laudo cadastrado para o veculo placa ${selectedVehicle.placa}.`)\r\n        }\r\n    }, [selectedVehicle, laudos, vehicleDocs, demand])\r\n\r\n    const clear = () => {\r\n        document.querySelector('[name = \"placa\"]').value = ''\r\n        setFilteredVehicles(oldVehicles)\r\n        selectVehicle()\r\n    }\r\n\r\n    const showDetails = () => {\r\n\r\n        if (selectedVehicle) {\r\n            setDetails(!details)\r\n            setAnchorEl(null)\r\n        } else {\r\n            setDetails(false)\r\n            selectVehicle(undefined)\r\n            setAnchorEl(null)\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async approved => {\r\n\r\n        const\r\n            empresaId = selectedEmpresa?.delegatarioId,\r\n            veiculoId = selectedVehicle?.veiculoId\r\n        let\r\n            { empresaLaudo, ...requestElement } = stateInputs,\r\n            errors = checkInputErrors() || []\r\n\r\n        //***************************Check for errors*********************/\r\n\r\n        const laudoAlreadyExists = laudos.find(l => l.id === stateInputs.id)\r\n        if (laudoAlreadyExists) {\r\n            setAlertDialog({\r\n                ...alertDialog,\r\n                open: true,\r\n                msg: 'O laudo informado j existe no sistema. Laudo n ' + laudoAlreadyExists.id.toString()\r\n            })\r\n            clearForm()\r\n            return\r\n        }\r\n        Object.keys(stateInputs).forEach(k => {\r\n            if (k !== 'validade' && (!stateInputs[k] || stateInputs[k] === '')) {\r\n                let errorLabel = laudoForm.find(obj => obj.field === k).label\r\n                errors.push(errorLabel)\r\n            }\r\n        })\r\n        if (errors[0]) {\r\n            setAlertDialog({\r\n                ...alertDialog,\r\n                open: true,\r\n                msg: 'Favor verificar o preenchimento dos seguintes campos: ' + errors.toString()\r\n            })\r\n            clearForm()\r\n            return\r\n        }\r\n\r\n        //***************************Prepare the Log *********************/\r\n        if (approved === undefined) {\r\n\r\n            const history = {\r\n                ...stateInputs\r\n            },\r\n                log = {\r\n                    empresaId,\r\n                    veiculoId,\r\n                    history,\r\n                    historyLength: 0,\r\n                    metadata: {\r\n                        fieldName: 'laudoDoc',\r\n                        veiculoId\r\n                    },\r\n                }\r\n\r\n            if (laudoDoc)\r\n                log.history.files = laudoDoc\r\n\r\n            logGenerator(log)\r\n                .then(r => console.log(r?.data))\r\n            clearForm('all fields, reset state please!')\r\n            removeFile('laudoDoc')\r\n            toggleToast()\r\n            //console.log(initState.dropDisplay, laudoDoc)\r\n            return\r\n        }\r\n\r\n        if (approved === false) {\r\n            const log = {\r\n                id: demand.id,\r\n                empresaId,\r\n                history: {\r\n                    info: stateInputs?.info\r\n                },\r\n                declined: true\r\n            }\r\n            logGenerator(log)\r\n                .then(r => console.log(r))\r\n            setToastMsg('Solicitao indeferida!')\r\n            toggleToast()\r\n\r\n            setTimeout(() => {\r\n                props.history.push('/solicitacoes')\r\n            }, 1500);\r\n        }\r\n\r\n        if (approved === true) {\r\n            //Prepare the request Object\r\n            const empresa = empresasLaudo.find(e => e.empresa === empresaLaudo)\r\n            let laudoId\r\n            if (empresa) requestElement.empresa_id = empresa.id\r\n            requestElement.veiculo_id = selectedVehicle.veiculoId\r\n\r\n            const requestBody = { table: 'laudos', requestElement }\r\n\r\n            //Submit\r\n            await axios.post('/api/addElement', requestBody)\r\n                .then(r => {\r\n                    laudoId = r?.data[0]?.id\r\n                    console.log(r.data)\r\n                })\r\n                .catch(err => console.log(err))\r\n\r\n            //Record the log\r\n            const log = {\r\n                id: demand.id,\r\n                veiculoId,\r\n                demandFiles,\r\n                history: {},\r\n                metadata: {\r\n                    laudoId,\r\n                    tempFile: 'false'\r\n                },\r\n                approved\r\n            }\r\n\r\n            logGenerator(log)\r\n                .then(r => console.log(r.data))\r\n\r\n            //Toast cofirmation, clear State and redirect to Solicitacoes\r\n            setTimeout(() => { props.history.push('/solicitacoes') }, 1500);\r\n            setToastMsg('Laudo aprovado!')\r\n            toggleToast()\r\n            clearForm('Clear all Of It!!!')\r\n        }\r\n    }\r\n\r\n    function confirmDelete(laudoId) {\r\n        setConfirmDialog({\r\n            ...confirmDialogProps, open: true,\r\n            element: `laudo n ${laudoId}`,\r\n            laudoId\r\n        })\r\n    }\r\n\r\n    function deleteLaudo(laudoId) {\r\n\r\n        if (laudoId) {\r\n            closeConfirmDialog()\r\n\r\n            axios.delete(`/api/delete?table=laudos&tablePK=id&id=${laudoId}`)\r\n                .then(({ data }) => console.log(data))\r\n\r\n            const laudoDoc = vehicleDocs.find(d => d.metadata.fieldName === 'laudoDoc' && d.metadata.laudoId === laudoId.toString())\r\n            if (laudoDoc) axios.delete(`/api/deleteFile?collection=vehicleDocs&id=${laudoDoc?.id}`)\r\n                .then(({ data }) => console.log(data))\r\n        }\r\n    }\r\n\r\n    const handleFiles = (files, name) => {\r\n\r\n        if (files && files[0]) {\r\n            let formData = new FormData()\r\n            formData.append('fieldName', 'laudoDoc')\r\n            formData.append('laudoId', stateInputs.id)\r\n            formData.append('veiculoId', selectedVehicle.veiculoId)\r\n            formData.append(name, files[0])\r\n            setLaudoDoc(formData)\r\n            setFileToRemove(undefined)\r\n            //  setDropDisplay(files[0].name)\r\n        }\r\n    }\r\n\r\n    const removeFile = async name => {\r\n        setFileToRemove(name)\r\n        setLaudoDoc(undefined)\r\n    }\r\n\r\n    const\r\n        closeMenu = () => setAnchorEl(null),\r\n        toggleAlert = () => setAlertDialog({ ...alertDialog, open: !alertDialog.open }),\r\n        toggleToast = () => setToast(!toast),\r\n        closeConfirmDialog = () => setConfirmDialog({ ...confirmDialogProps, open: false }),\r\n\r\n        clearForm = allFields => {\r\n            if (allFields) changeInputs({ ...initState.stateInputs })\r\n            setLaudoDoc()\r\n            setDropDisplay(initState.dropDisplay)\r\n        }\r\n\r\n    const selectOptions = props.redux.empresasLaudo.map(e => e.empresa)\r\n\r\n    return (\r\n        <Fragment>\r\n            <LaudosTemplate\r\n                empresas={empresas} razaoSocial={razaoSocial} selectedEmpresa={selectedEmpresa} filteredVehicles={filteredVehicles} selectedVehicle={selectedVehicle}\r\n                anchorEl={anchorEl} stateInputs={stateInputs} selectOptions={selectOptions} dropDisplay={dropDisplay} laudoDoc={laudoDoc} table={table}\r\n                demand={demand} demandFiles={demandFiles} showPendencias={showPendencias} fileToRemove={fileToRemove}\r\n                functions={{\r\n                    handleInput, clickOnPlate, showDetails, handleFiles, handleSubmit, closeMenu, clear, removeFile,\r\n                    setShowPendencias, deleteLaudo: confirmDelete\r\n                }}\r\n            />\r\n            {details && <ShowDetails\r\n                close={showDetails}\r\n                data={{ ...selectedVehicle, tableData: '' }}\r\n                tab={3}\r\n                title={'Veculo'}\r\n                header={'- informaes'}\r\n            />}\r\n\r\n            {confirmDialogProps.open && <ConfirmDialog {...confirmDialogProps} close={closeConfirmDialog} confirm={deleteLaudo} id={confirmDialogProps.laudoId} />}\r\n\r\n            {alertDialog.open && <AlertDialog open={alertDialog.open} close={toggleAlert} alertType={alertDialog.type} customMessage={alertDialog.msg} />}\r\n            <ReactToast open={toast} close={toggleToast} msg={toastMsg} />\r\n        </Fragment >\r\n    )\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'empresasLaudo', 'laudos', 'getFiles/vehicleDocs']\r\nexport default StoreHOC(collections, Laudos)\r\n\r\n/*\r\n        [razaoSocial, empresaInput] = useState(empresas[0].razaoSocial),\r\n        [selectedEmpresa, setEmpresa] = useState(empresas[0]),\r\n        [oldVehicles, setOldVehicles] = useState(veiculos[0]),\r\n        [filteredVehicles, setFilteredVehicles] = useState([veiculos[0]]),\r\n        [details, setDetails] = useState(false),\r\n        [selectedVehicle, selectVehicle] = useState(veiculos[0]),\r\n\r\n\r\n\r\n[razaoSocial, empresaInput] = useState(''),\r\n[selectedEmpresa, setEmpresa] = useState(),\r\n[oldVehicles, setOldVehicles] = useState(),\r\n[filteredVehicles, setFilteredVehicles] = useState([]),\r\n[details, setDetails] = useState(false),\r\n[selectedVehicle, selectVehicle] = useState(), */","import { createContext } from 'react'\r\n\r\nexport const ReactContext = createContext(null)\r\n\r\nexport const  initContext = {\r\n    user: 'MockUser',\r\n    demandId: null\r\n}\r\n\r\n\r\n\r\n","import React from 'react'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\nimport AutoComplete from '../Utils/autoComplete'\r\nimport Grid from '@material-ui/core/Grid'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport { Send } from '@material-ui/icons'\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\n\r\nconst radioAttempt = [\r\n    {\r\n        value: 'venda',\r\n        label: 'Venda para outra empresa do sistema'\r\n    },\r\n    {\r\n        value: 'outro',\r\n        label: 'Outro'\r\n    }\r\n]\r\n\r\nconst radioAproval = [\r\n    {\r\n        value: 'aprovar',\r\n        label: 'Aprovar baixa do veculo'\r\n    },\r\n    {\r\n        value: 'pendencias',\r\n        label: 'Informar pendncias/impedimentos para a baixa'\r\n    }\r\n]\r\n\r\nexport default function BaixaOptions({ empresas, demand, checked, delegaTransf, justificativa, pendencias, handleInput, handleBlur, handleCheck, handleSubmit }) {\r\n\r\n\r\n    const checkOptions = () => {\r\n\r\n        if (!demand || demand?.status.match('Pendncias')) return radioAttempt\r\n        else return radioAproval\r\n    }\r\n\r\n    const formControl = checkOptions()\r\n\r\n    return (\r\n        <>\r\n            <Grid container\r\n                direction=\"row\"\r\n                justify=\"space-between\"\r\n                alignItems=\"center\"\r\n                style={{ width: checked ? '1200px' : '600px', marginTop: '25px' }}\r\n            >\r\n                <Grid item xs={checked ? 6 : 12}>\r\n                    <FormControl component=\"fieldset\">\r\n                        <FormLabel component=\"legend\">{!demand || demand?.status.match('Pendncias') ? 'Motivo da baixa' : 'Aprovar baixa?'}</FormLabel>\r\n                        <RadioGroup aria-label=\"position\" name=\"position\"\r\n                            onChange={handleCheck} row\r\n                            style={{ width: 'auto' }}\r\n                            className='radio'\r\n                        >\r\n                            {\r\n                                formControl.map(({ value, label }, i) =>\r\n                                    <FormControlLabel\r\n                                        key={i}\r\n                                        className='radio'\r\n                                        value={value}\r\n                                        control={<Radio color=\"primary\" />}\r\n                                        label={<span style={{ fontSize: '0.8rem' }}>{label}</span>}\r\n                                        labelPlacement=\"start\"\r\n                                    />\r\n                                )\r\n                            }\r\n                        </RadioGroup>\r\n                    </FormControl>\r\n                </Grid>\r\n\r\n                {checked === 'venda' ?\r\n                    <Grid item xs={6} >\r\n                        <TextField\r\n                            inputProps={{\r\n                                list: 'razaoSocial',\r\n                                name: 'delegaTransf',\r\n                            }}\r\n                            value={delegaTransf}\r\n                            onChange={handleInput}\r\n                            onBlur={handleBlur}\r\n                            label='Informe o delegatrio para o qual foi transferido o veculo.'\r\n                            fullWidth\r\n                        />\r\n                        <AutoComplete\r\n                            collection={empresas}\r\n                            datalist='razaoSocial'\r\n                            value={delegaTransf}\r\n                        />\r\n                    </Grid>\r\n                    :\r\n                    checked && checked !== 'aprovar' &&\r\n                    <Grid item xs={6}>\r\n                        <TextField\r\n                            name={checked === 'outro' ? 'justificativa' : 'pendencias'}\r\n                            value={checked === 'outro' ? justificativa : pendencias}\r\n                            label={checked === 'outro' ? 'Justificativa' : 'Pendncias'}\r\n                            onChange={handleInput}\r\n                            InputLabelProps={{ shrink: true }}\r\n                            multiline\r\n                            rows={3}\r\n                            variant='outlined'\r\n                            fullWidth\r\n                        />\r\n                    </Grid>\r\n                }\r\n            </Grid>\r\n            <Grid container direction=\"row\" justify='flex-end' style={{ width: '1200px' }}>\r\n                <Grid item xs={11} style={{ width: '1000px' }}></Grid>\r\n                <Grid item xs={1} style={{ align: \"right\" }}>\r\n                    <Button\r\n                        size=\"small\"\r\n                        color=\"primary\"\r\n                        variant=\"outlined\"\r\n                        style={{ margin: '10px 0 10px 0' }}\r\n                        onClick={() => handleSubmit()}\r\n                    >\r\n                        Confirmar <span>&nbsp;&nbsp; </span> <Send />\r\n                    </Button>\r\n                </Grid>\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n","export const baixaForm = [\r\n    {\r\n        field: 'placa',\r\n        label: 'Placa',      \r\n        datalist: 'placa',\r\n        autoComplete: true,\r\n        collection: 'frota',\r\n        maxLength: 8\r\n    },\r\n    {\r\n        field: 'renavam',\r\n        label: 'Renavam',        \r\n    },\r\n    {\r\n        field: 'nChassi',\r\n        label: 'Nmero do Chassi',        \r\n        maxLength: 17,\r\n    },\r\n    {\r\n        field: 'delegatario',\r\n        label: 'Delegatrio',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilizao',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'dominio',\r\n        label: 'Situao da Propriedade',        \r\n        disabled: true\r\n    },\r\n\r\n    {\r\n        field: 'marcaChassi',\r\n        label: 'Marca do Chassi',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloChassi',\r\n        label: 'Modelo do Chassi',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'marcaCarroceria',\r\n        label: 'Marca da Carroceria',        \r\n        disabled: true\r\n    },\r\n    {\r\n        field: 'modeloCarroceria',\r\n        label: 'Modelo da Carroceria',        \r\n        disabled: true\r\n    },\r\n    {\r\n        type: 'number',\r\n        field: 'indicadorIdade',\r\n        label: 'Ano',        \r\n        disabled: true\r\n    }\r\n]","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport TextInput from '../Reusable Components/TextInput'\r\n\r\nimport BaixaOptions from './BaixaOptions'\r\n\r\nimport { baixaForm } from '../Forms/baixaForm'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nimport './veiculos.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1),\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, handleCheck, handleSubmit, data, empresas }) {\r\n    const { razaoSocial, frota, checked, delegaTransf, justificativa, demand } = data,\r\n        classes = useStyles(), { paper, container, formHolder } = classes\r\n\r\n    return (\r\n        <Fragment>\r\n            <Crumbs links={['Veculos', '/veiculos']} text='Baixa de veculo' demand={demand} />\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}\r\n                handleBlur={handleBlur}                \r\n            />\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                className={container}\r\n                justify=\"center\"\r\n            >\r\n                {razaoSocial && frota[0] &&\r\n                    <Grid item xs={12}>\r\n                        <Paper className={paper}>\r\n                            <h3 style={{ marginBottom: '7px' }}>\r\n                                {!demand ? 'Informe os dados para a baixa' : `Solicitao n${demand?.numero} - ${demand?.subject}`}\r\n                            </h3>\r\n                            {demand && <h4>Situao: {demand?.status}</h4>}\r\n                            <TextInput\r\n                                form={baixaForm}\r\n                                data={data}\r\n                                handleBlur={handleBlur}\r\n                                handleInput={handleInput}\r\n                                disableAll={demand ? true : false}\r\n                            />\r\n                        </Paper>\r\n\r\n                        <BaixaOptions\r\n                            demand={demand}\r\n                            checked={checked}\r\n                            delegaTransf={delegaTransf}\r\n                            justificativa={justificativa}\r\n                            empresas={empresas}\r\n                            handleInput={handleInput}\r\n                            handleBlur={handleBlur}\r\n                            handleCheck={handleCheck}\r\n                            handleSubmit={handleSubmit}\r\n                        />\r\n                    </Grid>\r\n                }\r\n                {!razaoSocial && !frota[0] &&\r\n                    <Grid container justify=\"center\">\r\n                        <div className={formHolder}></div>\r\n                    </Grid>}\r\n            </Grid>\r\n        </Fragment>\r\n    )\r\n}","import React, { Component, Fragment } from 'react'\r\nimport { ReactContext } from '../Store/ReactContext'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport BaixaTemplate from './BaixaTemplate'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\n\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { baixaForm } from '../Forms/baixaForm'\r\nimport { checkDemand } from '../Utils/checkDemand'\r\n\r\nimport './veiculos.css'\r\n\r\n\r\nclass BaixaVeiculo extends Component {\r\n\r\n    static contextType = ReactContext\r\n\r\n    state = {\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        frota: [],\r\n        placa: '',\r\n        form: {},\r\n        check: '',\r\n        delegaTransf: '',\r\n        toastMsg: 'Solicitao de Baixa Enviada',\r\n        confirmToast: false,\r\n        openDialog: false,\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n        const demand = this.props?.location?.state?.demand\r\n        if (demand) {\r\n            const\r\n                { empresas, veiculos } = this.props.redux,\r\n                { empresa, veiculo } = demand,\r\n                selectedEmpresa = empresas.find(e => e.razaoSocial === empresa),\r\n                frota = veiculos.filter(v => v.placa === veiculo),\r\n                selectedVehicle = frota.find(v => v.placa === veiculo)\r\n\r\n            await this.setState({ razaoSocial: empresa, selectedEmpresa, placa: veiculo, frota, ...selectedVehicle, demand })\r\n        }\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { name, value } = e.target,\r\n            { veiculos, empresas } = this.props.redux\r\n\r\n        this.setState({ [name]: value })\r\n\r\n        if (name === 'razaoSocial') {\r\n            let selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n           \r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n                const frota = veiculos.filter(v => v.empresa === this.state.razaoSocial)\r\n                this.setState({ frota })\r\n\r\n            } else {\r\n                await this.setState({ selectedEmpresa: undefined, frota: [] })\r\n                this.reset()\r\n            }\r\n        }\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const\r\n            { empresas, vehicleLogs } = this.props.redux,\r\n            { frota, demand } = this.state,\r\n            { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'delegaTransf') {\r\n            if (value.length > 0) {\r\n                const delegaTransf = empresas.find(e => e.razaoSocial === value)\r\n                if (delegaTransf) {\r\n                    const { razaoSocial, delegatarioId } = delegaTransf\r\n                    await this.setState(\r\n                        {\r\n                            delegaTransf: razaoSocial,\r\n                            delegaTransfId: delegatarioId,\r\n                            disableSubmit: true\r\n                        }\r\n                    )\r\n                    void 0\r\n                } else this.setState({ openAlertDialog: true, alertType: 'empresaNotFound', delegaTransf: '' })\r\n            }\r\n        }\r\n\r\n        if (name === 'placa' && typeof frota !== 'string') {\r\n            if (!value || value === '') this.setState({ disableSubmit: true })\r\n\r\n            let vehicle\r\n            if (value.length > 2)\r\n                vehicle = frota.find(v => {\r\n                    if (typeof value === 'string') return v.placa.toLowerCase().match(value.toLowerCase())\r\n                    else return v.placa.match(value)\r\n                })\r\n\r\n            if (vehicle) {\r\n                if (!demand) {\r\n                    const\r\n                        customTitle = 'Solicitao j cadastrada',\r\n                        customMessage = `J existe uma demanda aberta para o veculo de placa ${vehicle.placa}. Para acess-la, clique em \"Solicitaes\" no menu superior.`\r\n\r\n                    const demandExists = checkDemand(vehicle?.veiculoId, vehicleLogs)\r\n\r\n                    if (demandExists) {\r\n                        this.setState({ customTitle, customMessage, openAlertDialog: true, delegatario: '', placa: undefined })\r\n                        return\r\n                    }\r\n                }\r\n                await this.setState({ ...vehicle })\r\n\r\n            } else if (this.state.placa !== '') {\r\n                let reset = {}\r\n                if (frota[0]) Object.keys(frota[0]).forEach(k => reset[k] = '')\r\n                this.setState({ alertType: 'plateNotFound', openAlertDialog: true, disableSubmit: true })\r\n                this.setState({ ...reset })\r\n            }\r\n        }\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const\r\n            { selectedEmpresa, checked, veiculoId, justificativa, pendencias, delegaTransf, delegaTransfId, demand } = this.state,\r\n            oldHistoryLength = demand?.history?.length || 0,\r\n            demandHistory = demand?.history.some(el => el.hasOwnProperty('delegaTransfId'))\r\n        let\r\n            tempObj,\r\n            enableSubmit,\r\n            log = {},\r\n            logSubject,\r\n            obs,\r\n            history,\r\n            historyTransfId,\r\n            checkArray = ['selectedEmpresa', 'placa', 'delegatarioId']\r\n\r\n        if (demand && demandHistory && Array.isArray(demandHistory))\r\n            historyTransfId = demandHistory.reverse().find(e => e.hasOwnProperty('delegaTransfId')).delegaTransfId\r\n\r\n        switch (checked) {\r\n            case ('venda'):\r\n                checkArray.push('delegaTransf')\r\n\r\n                logSubject = `Baixa de veculo - venda para ${delegaTransf}`\r\n                obs = `Solicitao de transferncia do veculo para ${delegaTransf}`\r\n                history = { action: 'Solicitao de baixa', info: obs }\r\n\r\n                if (!demand && delegaTransfId) history.delegaTransfId = delegaTransfId\r\n                if (demand && delegaTransfId && delegaTransfId !== historyTransfId) history.delegaTransfId = delegaTransfId\r\n                break\r\n\r\n            case ('outro'):\r\n                checkArray.push('justificativa')\r\n                history = { action: 'Solicitao de baixa', info: justificativa }\r\n                break\r\n\r\n            case ('pendencias'):\r\n                history = { action: 'Pendncias para a baixa do veculo', info: pendencias }\r\n                this.setState({ toastMsg: 'Pendncias para baixa enviadas.' })\r\n                break\r\n\r\n            case ('aprovar'):\r\n                tempObj = { situacao: 'Veculo baixado', apolice: 'Seguro no cadastrado' }\r\n                history = { action: 'Baixa do veculo aprovada' }\r\n\r\n                if (demand?.subject.match('venda de veculo')) {\r\n                    const newEmpresaId = demand?.history[0]?.delegaTransfId\r\n                    tempObj.delegatarioId = newEmpresaId\r\n                    tempObj.situacao = 'Ativo'\r\n                }\r\n                break\r\n\r\n            default: return\r\n        }\r\n\r\n\r\n        enableSubmit = checkArray.every(k => this.state.hasOwnProperty(k) && this.state[k] !== '')\r\n        if (!enableSubmit) {\r\n            await this.setState({ openAlertDialog: true, alertType: 'fieldsMissing' })\r\n            return null\r\n        }\r\n\r\n        //**************Create Log****************** */\r\n        log = {\r\n            subject: logSubject,\r\n            empresaId: selectedEmpresa?.delegatarioId,\r\n            veiculoId,\r\n            history,\r\n            historyLength: oldHistoryLength\r\n        }\r\n\r\n        if (demand) log.id = demand?.id\r\n        if (checked === 'aprovar') log.completed = true\r\n\r\n        logGenerator(log).then(r => console.log(r.data))\r\n\r\n        //*************If approved, submit request to update Postgres DB **************** */\r\n        if (checked === 'aprovar') {\r\n            const\r\n                requestObject = humps.decamelizeKeys(tempObj),\r\n                table = 'veiculo',\r\n                tablePK = 'veiculo_id'\r\n\r\n            await axios.put('/api/updateVehicle', { requestObject, table, tablePK, id: this.state.veiculoId })               \r\n                .catch(err => console.log(err))\r\n            this.setState({ toastMsg: 'Baixa realizada com sucesso.' })\r\n        }\r\n\r\n        //***********Clear state****************** */        \r\n        this.toast()\r\n        await this.setState({ selectedEmpresa: undefined, frota: [], razaoSocial: '' })\r\n        this.reset()\r\n\r\n        //***********if demand, Redirect to /solicitacoes */        \r\n        if (demand)\r\n            setTimeout(() => {\r\n                this.props.history.push('/solicitacoes')\r\n            }, 1500)\r\n    }\r\n\r\n    handleCheck = e => this.setState({ checked: e.target.value })\r\n    reset = () => {\r\n        baixaForm.forEach(el => this.setState({ [el.field]: '' }))\r\n        this.setState({ delegaTransf: '', check: '', justificativa: '', checked: false, demand: undefined })\r\n    }\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const { delegaTransf, confirmToast, toastMsg, checked, openAlertDialog, customTitle, customMessage, alertType } = this.state\r\n\r\n        return <Fragment>\r\n            <BaixaTemplate\r\n                data={this.state}\r\n                empresas={this.props.redux.empresas}\r\n                checked={checked}\r\n                delegaTransf={delegaTransf}\r\n                handleInput={this.handleInput}\r\n                handleBlur={this.handleBlur}\r\n                handleCheck={this.handleCheck}\r\n                handleSubmit={this.handleSubmit}\r\n            />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customTitle={customTitle} customMessage={customMessage} />}\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n        </Fragment >\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas']\r\n\r\nexport default StoreHOC(collections, BaixaVeiculo)","import React, { Fragment } from 'react'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport Add from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport './config.css'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        marginTop: '2px',        \r\n        width: '275px',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    select: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),        \r\n        marginBottom: '2px',\r\n        background: '#fafafa',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    }\r\n}))\r\n\r\nexport default function ConfigTemplate({ collections, collection, data, staticData,\r\n    selectCollection, handleChange, enableEdit, confirmDelete, handleSubmit, openAddDialog }) {\r\n\r\n    const\r\n        classes = useStyles(),\r\n        { textField } = classes\r\n\r\n    return (\r\n        <Fragment>\r\n           <Crumbs links={['Veculos', '/veiculos']} text='Alterar configuraes de veculos' />\r\n            <center>\r\n                <h4>Selecione uma das opes abaixo.</h4>\r\n            </center>\r\n            <div className=\"selectHeader\">\r\n                <TextField\r\n                    className={textField}\r\n                    onChange={selectCollection}\r\n                    value={collection}\r\n                    select={true}\r\n                    SelectProps={{\r\n                        style: {\r\n                            fontSize: '0.9rem', color: '#555', fontWeight: 400,\r\n                            width: 325, height: '44px'\r\n                        }\r\n                    }}\r\n                >\r\n                    {collections.map((opt, i) =>\r\n                        <MenuItem key={i} value={opt} >\r\n                            {opt}\r\n                        </MenuItem>\r\n                    )}\r\n                </TextField>\r\n            </div>\r\n           {staticData && collection && <div className='divHeader'>\r\n                <Button\r\n                    size=\"small\"\r\n                    color='primary'\r\n                    variant='outlined'\r\n                    //  className={classes.button}\r\n                    style={{ margin: '10px 0 10px 0' }}\r\n                    onClick={() => openAddDialog()}\r\n                >\r\n                    <Add /> Adicionar\r\n                </Button>\r\n            </div>}\r\n            <div className='container'>\r\n                {\r\n                    data && staticData && data.map((el, i) =>\r\n                        <div className='divCell' key={i}>\r\n                            <TextField\r\n                                value={el.edit ? el[staticData.field] : el[staticData.field] + ' (' + el['count'] + ')'}\r\n                                onChange={handleChange}\r\n                                name={el.field}\r\n                                type='text'\r\n                                inputProps={{\r\n                                    autoCorrect: 'off',\r\n                                    spellCheck: false,\r\n                                    style: {\r\n                                        fontSize: '0.8rem',\r\n                                        color: el.edit === true ? '#000' : '#999'\r\n                                    },                                    \r\n                                }}\r\n                                className={textField}\r\n                                disabled={el.edit === false}\r\n                            />\r\n\r\n                            <button component='span'\r\n                                className='configVehicleIcon'\r\n                                title='Editar'\r\n                                onClick={() => enableEdit(i)}\r\n                                display='none'>\r\n                                <EditIcon className='confIcon' color='primary' />\r\n                            </button>\r\n                            <button\r\n                                className='configVehicleIcon'\r\n                                title='Remover'\r\n                                onClick={() => confirmDelete(i)}>\r\n                                <DeleteIcon className='confIcon' color='secondary' />\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n            </div>\r\n            {\r\n                data &&\r\n                <Grid container direction=\"row\" justify='flex-end' >\r\n                    <Grid item xs={1} style={{ align: \"right\", margin: '20px 95px 10px 0' }}>\r\n                        <Button\r\n                            size=\"small\"\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            title='Salvar'\r\n                            onClick={() => handleSubmit()}\r\n                        >\r\n                            Salvar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            }\r\n        </Fragment >\r\n    )\r\n}","import React, { PureComponent, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport ConfigAddDialog from './ConfigAddDialog'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport ConfigTemplate from './ConfigTemplate'\r\nimport ConfirmDialog from '../Reusable Components/ConfirmDialog'\r\n\r\nimport { configVehicleForm } from '../Forms/configVehicleForm'\r\n\r\nclass VehicleConfig extends PureComponent {\r\n\r\n    state = {\r\n        collection: '',\r\n        marca: '',\r\n        options: [],\r\n        openAddDialog: false,\r\n        confirmToast: false,\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmDialogProps: { open: false }\r\n    }\r\n    componentDidMount() {\r\n        let options = []\r\n        configVehicleForm.forEach(col => { options.push(col.label) })\r\n        this.setState({ options })\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const\r\n            { redux } = this.props,\r\n            { veiculos } = redux,\r\n            { staticData, data } = this.state\r\n\r\n        if (!staticData || !data) return null\r\n\r\n        const { collection } = staticData\r\n        if (JSON.stringify(prevProps.redux[collection]) !== JSON.stringify(redux[collection])) {\r\n            const data = this.addCounter(veiculos, staticData, redux[collection])\r\n            this.setState({ data })\r\n        }\r\n    }\r\n\r\n    addCounter = (veiculos, staticData, data) => {\r\n        const { name, field, label } = staticData\r\n\r\n        data.forEach(el => {\r\n            const vehicles = veiculos.filter(v => {\r\n                if (label === 'Itens de acessibilidade' && v[name]) {\r\n                    const vehicleAccessItems = v[name]\r\n                    const hasItem = vehicleAccessItems.find(ac => ac === el.id)\r\n                    return hasItem\r\n                }\r\n\r\n                if (label === 'Equipamentos' && v[name]) return v[name].toLowerCase().match(el[field].toLowerCase())\r\n                return v[name] === el[field]\r\n            }),\r\n                count = vehicles.length\r\n            Object.assign(el, { count })\r\n        })\r\n        data = data.sort((a, b) => a[field].localeCompare(b[field]))\r\n        return data\r\n    }\r\n\r\n    selectCollection = async e => {\r\n        const\r\n            { value } = e.target,\r\n            { veiculos, marcaChassi, marcaCarroceria } = this.props.redux\r\n        let\r\n            staticData = configVehicleForm.find(el => el.label === value),\r\n            data = JSON.parse(JSON.stringify(this.props.redux[staticData.collection]))\r\n\r\n        data = this.addCounter(veiculos, staticData, data)\r\n        data.forEach(el => el.edit = false)\r\n\r\n        this.setState({ marcas: undefined, marca: '' })\r\n        if (staticData.collection === 'modelosChassi') this.setState({ marcas: marcaChassi })\r\n        if (staticData.collection === 'carrocerias') this.setState({ marcas: marcaCarroceria })\r\n\r\n        await this.setState({ collection: value, data, staticData })\r\n        void 0\r\n    }\r\n\r\n    enableEdit = async index => {\r\n        const\r\n            divCell = document.querySelectorAll('.divCell'),\r\n            divWrap = divCell[index].childNodes[0],\r\n            inputTarget = divWrap.querySelectorAll('input')[0]\r\n        let\r\n            data = [...this.state.data]\r\n\r\n        if (data[index].edit === true) data[index].edit = false\r\n        else {\r\n            data.forEach(s => s.edit = false)\r\n            data[index].edit = true\r\n        }\r\n        await this.setState({ data })\r\n        inputTarget.focus()\r\n    }\r\n\r\n    selectMarca = e => {\r\n        const\r\n            { value } = e.target,\r\n            { collection } = this.state.staticData,\r\n            { marcaChassi, marcaCarroceria } = this.props.redux\r\n\r\n        let marcaCollection\r\n        if (collection === 'modelosChassi') marcaCollection = marcaChassi\r\n        if (collection === 'carrocerias') marcaCollection = marcaCarroceria\r\n\r\n        const { id } = marcaCollection.find(m => m.marca === value)\r\n\r\n        this.setState({ marca: value, marcaId: id })\r\n    }\r\n\r\n    handleChange = async e => {\r\n        const\r\n            { value } = e.target,\r\n            name = this.state.staticData.field\r\n        //{ collection } = this.state.staticData\r\n\r\n\r\n        let changedElement = this.state.data.find(el => el.edit === true)\r\n        const index = this.state.data.indexOf(changedElement)\r\n\r\n        //const reduxItem = JSON.parse(JSON.stringify(this.props.redux[collection][index]))\r\n        changedElement[name] = value\r\n\r\n        let newData = [...this.state.data]\r\n        newData[index] = changedElement\r\n\r\n        await this.setState({ data: newData })\r\n    }\r\n\r\n    handleInput = e => {\r\n        const { value } = e.target\r\n        this.setState({ newElement: value })\r\n    }\r\n\r\n    addNewElement = async () => {\r\n\r\n        const\r\n            { staticData, newElement, marcaId } = this.state,\r\n            { table, field, collection } = staticData,\r\n            { veiculos } = this.props.redux\r\n\r\n        let requestElement = { [field]: newElement }\r\n        if (marcaId) requestElement.marcaId = marcaId\r\n        requestElement = humps.decamelizeKeys(requestElement)\r\n        \r\n        await axios.post('/api/addElement', { table, requestElement })\r\n\r\n        let data = this.props.redux[collection]\r\n        data = this.addCounter(veiculos, staticData, data)\r\n\r\n        this.setState({ openAddDialog: false, data })\r\n    }\r\n\r\n    confirmDelete = index => {\r\n\r\n        const\r\n            { data, staticData } = this.state,\r\n            { field } = staticData,\r\n\r\n            elementName = data[index][field],\r\n            confirmDialogProps = {\r\n                open: true,\r\n                type: 'delete',\r\n                element: `${elementName}`,\r\n                index\r\n            }\r\n\r\n        this.setState({ confirmDialogProps })\r\n    }\r\n\r\n    removeItem = async index => {\r\n        this.closeConfirmDialog()\r\n\r\n        let data = [...this.state.data]\r\n\r\n        const\r\n            { staticData } = this.state,\r\n            { collection, table } = staticData,\r\n            id = data[index].id,\r\n            originalData = this.props.redux[collection],\r\n            registered = originalData.find(el => el.id === id)\r\n\r\n        if (registered) {\r\n            await axios.delete(`/api/delete?table=${table}&tablePK=id&id=${id}`)\r\n                .catch(err => console.log(err))\r\n        }\r\n        data.splice(index, 1)\r\n        this.setState({ data })\r\n\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const\r\n            { redux } = this.props,\r\n            { data, staticData } = this.state,\r\n            { collection, field, table } = staticData,\r\n            originalData = JSON.parse(JSON.stringify(redux[collection]))\r\n\r\n        let editedElements = []\r\n\r\n        data.forEach(el => {\r\n            if (el.hasOwnProperty('id')) {\r\n                const { count, edit, ...rest } = el\r\n                editedElements.push(rest)\r\n            }\r\n        })\r\n\r\n        let realChanges = [], tempObj = {}\r\n\r\n        editedElements.forEach(el => {\r\n            originalData.forEach(item => {\r\n                if (el.id === item.id) {\r\n                    Object.keys(el).forEach(key => {\r\n                        if (el[key] !== item[key]) {\r\n                            if (!tempObj.id) tempObj = { ...tempObj, id: el.id }\r\n                            Object.assign(tempObj, { [key]: el[key] })\r\n                        }\r\n                    })\r\n                    if (Object.keys(tempObj).length > 0) realChanges.push(tempObj)\r\n                    tempObj = {}\r\n                }\r\n            })\r\n        })\r\n\r\n        const\r\n            tablePK = 'id',\r\n            column = humps.decamelize(field)\r\n\r\n        editedElements = humps.decamelizeKeys(realChanges)\r\n\r\n        await axios.put('/api/editElements', { requestArray: editedElements, table, tablePK, column })\r\n            .then(r => console.log('updated.'))\r\n            .catch(err => console.log(err))\r\n\r\n        editedElements = []\r\n        realChanges = []\r\n        tempObj = {}\r\n        this.toast()\r\n\r\n        this.setState({ collection: '', staticData: undefined })\r\n    }\r\n\r\n    closeConfirmDialog = () => {\r\n        let confirmDialogProps = { ...this.state.confirmDialogProps }\r\n        confirmDialogProps.open = false\r\n\r\n        this.setState({ confirmDialogProps })\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openAddDialog: !this.state.openAddDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n\r\n        const { options, collection, data, staticData, openAddDialog, marca, marcas, confirmToast, toastMsg, confirmDialogProps } = this.state\r\n        return (\r\n            <Fragment>\r\n                <ConfigTemplate\r\n                    collections={options}\r\n                    collection={collection}\r\n                    data={data}\r\n                    staticData={staticData}\r\n                    selectCollection={this.selectCollection}\r\n                    enableEdit={this.enableEdit}\r\n                    handleChange={this.handleChange}\r\n                    handleSubmit={this.handleSubmit}\r\n                    openAddDialog={this.toggleDialog}\r\n                    confirmDelete={this.confirmDelete}\r\n                />\r\n                {openAddDialog && <ConfigAddDialog\r\n                    open={openAddDialog}\r\n                    close={this.toggleDialog}\r\n                    title={staticData.label}\r\n                    helperMessage='Para adicionar, insira o nome no campo abaixo e clique em \"Confirmar\".'\r\n                    marca={marca}\r\n                    marcas={marcas}\r\n                    selectMarca={this.selectMarca}\r\n                    handleInput={this.handleInput}\r\n                    addNewElement={this.addNewElement}\r\n                />}\r\n                {confirmDialogProps.open && <ConfirmDialog {...confirmDialogProps} close={this.closeConfirmDialog} confirm={this.removeItem} />}\r\n\r\n                <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['seguradoras', 'lookUpTable/marca_chassi', 'modelosChassi', 'lookUpTable/marca_carroceria',\r\n    'carrocerias', 'equipamentos', 'veiculos', 'acessibilidade']\r\n\r\nexport default StoreHOC(collections, VehicleConfig)","import { formatDate } from '../Utils/formatValues'\r\n\r\nexport const delegatarioTable = [\r\n    {\r\n        field: 'razaoSocial',\r\n        title: 'Razo Social',\r\n    },\r\n    {\r\n        field: 'delegatarioStatus',\r\n        title: 'Situao',\r\n    },\r\n    {\r\n        field: 'vencimentoContrato',\r\n        title: 'Data de Vencimento',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.vencimentoContrato)\r\n    },\r\n    {\r\n        field: 'cidade',\r\n        title: 'Municpio',\r\n    },\r\n    {\r\n        field: 'telefone',\r\n        title: 'Telefone',\r\n    },\r\n    {\r\n        field: 'frota',\r\n        title: 'Tamanho da frota'\r\n    }\r\n    /*   {\r\n          field: 'procuradoresList',\r\n          title: 'Nome do Procurador',\r\n          fSize: '0.3rem',\r\n          render: rowData => rowData.procuradoresList\r\n              ?\r\n              rowData.procuradoresList.map(s => s.charAt(0).toUpperCase()\r\n                  .concat(s.slice(1).toLowerCase())).toString().replace(/,/g, \", \")\r\n              :\r\n              ''\r\n      } */\r\n]\r\n\r\nexport const sociosTable = [\r\n    {\r\n        field: 'nomeSocio',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfSocio',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'razaoSocial',\r\n        title: 'Delegatrio(s)',\r\n    },\r\n    {\r\n        field: 'emailSocio',\r\n        title: 'E-mail',\r\n\r\n    },\r\n    {\r\n        field: 'telSocio',\r\n        title: 'Telefone',\r\n\r\n    },\r\n    {\r\n        field: 'share',\r\n        title: 'Participao Societria (%)',\r\n        filtering: false,\r\n    }\r\n]\r\n\r\n\r\nexport const procuradorTable = [\r\n    {\r\n        field: 'nomeProcurador',\r\n        title: 'Nome',\r\n    },\r\n    {\r\n        field: 'cpfProcurador',\r\n        title: 'CPF',\r\n    },\r\n    {\r\n        field: 'emailProcurador',\r\n        title: 'E-mail',\r\n    },\r\n    {\r\n        field: 'telProcurador',\r\n        title: 'Telefone'\r\n    }\r\n]\r\n\r\nexport const vehicleTable = [\r\n    {\r\n        field: 'placa',\r\n        title: 'Placa',\r\n    },\r\n    {\r\n        field: 'modeloCarroceria',\r\n        title: 'Modelo da Carroceria',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Delegatrio',\r\n    },\r\n    {\r\n        field: 'seguradora',\r\n        title: 'Seguradora',\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        title: 'Nmero da Aplice',\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Vencimento Seguro',\r\n        render: rowData => formatDate(rowData.vencimento)\r\n    },\r\n    {\r\n        field: 'indicadorIdade',\r\n        title: 'Ano de Fabricao',\r\n        filtering: false\r\n    }\r\n]\r\n\r\nexport const segurosTable = [\r\n    {\r\n        field: 'apolice',\r\n        title: 'Nmero da Aplice',\r\n    },\r\n    {\r\n        field: 'seguradora',\r\n        title: 'Seguradora',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Segurado',\r\n    },\r\n    {\r\n        field: 'segurados',\r\n        title: 'Nmero de veculos',\r\n    },\r\n    {\r\n        field: 'vencimento',\r\n        title: 'Vencimento',\r\n        filtering: false,\r\n        render: rowData => formatDate(rowData.vencimento)\r\n    }\r\n]\r\n\r\nexport const tables = [delegatarioTable].concat([sociosTable]).concat([procuradorTable]).concat([vehicleTable]).concat([segurosTable])\r\n","import React from 'react'\r\nimport * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\n\r\nimport MaterialTable from 'material-table';\r\nimport { tables } from './tables'\r\n\r\nexport default function ({ tab, collection, showDetails, showFiles, showCertificate, del }) {\r\n\r\n    const id = ['delegatarioId', 'socioId', 'procuradorId', 'veiculoId', 'apolice'][tab],\r\n        subject = ['empresas', 'scios', 'procuradores', 'veculos', 'seguros']\r\n    \r\n    if (!Array.isArray(collection)) collection = []\r\n    collection = collection.map(obj => ({ ...obj }))\r\n    \r\n    return (\r\n        <div style={{ margin: '10px 0' }} className='noPrint'>\r\n            <MaterialTable\r\n                title={`Pesquisar dados de ${subject[tab]}`}\r\n                columns={tables[tab]}\r\n                data={collection}\r\n                style={{ fontFamily: 'Segoe UI', fontSize: '14px' }}\r\n                options={{\r\n                    filtering: true,\r\n                    exportButton: true,\r\n                    exportFileName: subject[tab],\r\n                    exportCsv: (columns, data) => {\r\n                        const\r\n                            fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8',\r\n                            fileExtension = '.xlsx',\r\n                            fileName = subject[tab]\r\n\r\n                        const exportToCSV = (csvData, fileName) => {\r\n                            const ws = XLSX.utils.json_to_sheet(csvData);\r\n                            const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n                            const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n                            const data = new Blob([excelBuffer], { type: fileType });\r\n                            FileSaver.saveAs(data, fileName + fileExtension);\r\n                        }\r\n                        exportToCSV(data, fileName)\r\n                    },\r\n                    actionsColumnIndex: -1,\r\n                    searchFieldStyle: { color: '#024', fontSize: '14px' },\r\n                    headerStyle: { backgroundColor: '#FAFAFC' },\r\n                    emptyRowsWhenPaging: false,\r\n                    pageSize: 10,\r\n                }}\r\n\r\n                localization={{\r\n                    header: { actions: 'Opes' },\r\n                    body: {\r\n                        emptyDataSourceMessage: 'Registro no encontrado.',\r\n                        editRow: { deleteText: 'Tem certeza que deseja apagar esse registro ?' },\r\n                        deleteTooltip: 'Apagar',\r\n                        filterRow: { filterTooltip: 'Filtrar' }\r\n                    },\r\n                    toolbar: {\r\n                        searchTooltip: 'Procurar',\r\n                        searchPlaceholder: 'Procurar',\r\n                        exportName: 'Salvar como arquivo do excel',\r\n                        exportAriaLabel: 'Exportar',\r\n                        exportTitle: 'Exportar'\r\n                    },\r\n                    pagination: {\r\n\r\n                        labelRowsSelect: 'Resultados por pgina',\r\n                        labelDisplayedRows: ' {from}-{to} a {count}',\r\n                        firstTooltip: 'Primeira pgina',\r\n                        previousTooltip: 'Pgina anterior',\r\n                        nextTooltip: 'Prxima Pgina',\r\n                        lastTooltip: 'ltima Pgina',\r\n\r\n                    }\r\n                }}\r\n                actions={[\r\n                    {\r\n                        icon: 'info',\r\n                        iconProps: { color: 'primary' },\r\n                        tooltip: 'Mais informaes',\r\n                        onClick: (event, rowData) => showDetails(event, rowData)\r\n                    },\r\n                    {\r\n                        icon: 'file_copy_outline',\r\n                        iconProps: { color: 'secondary' },\r\n                        tooltip: 'Ver arquivos',\r\n                        onClick: (event, rowData) => showFiles(rowData[id])\r\n                    },\r\n                    {\r\n                        icon: 'class_outlined',\r\n                        iconProps: { color: 'action' },\r\n                        tooltip: 'Emitir certificado',\r\n                        hidden: tab !== 3,\r\n                        onClick: (event, rowData) => showCertificate(rowData)\r\n                    }\r\n                ]}\r\n                editable={{\r\n                    onRowDelete: async oldData => await del(oldData)\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}","export const delegatario = [[\r\n    {\r\n        field: 'empresa',\r\n        label: 'Delegatrio',\r\n        width: '120mm',\r\n        left: '50mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimentoContrato',\r\n        label: 'Validade do Contrato',\r\n        width: '36mm',\r\n        left: '5mm'\r\n    },\r\n]]\r\n\r\nexport const caracteristicas = [\r\n    [\r\n        {\r\n            field: 'placa',\r\n            label: 'Placa',\r\n            width: '25mm',\r\n            left: '8mm'\r\n        },\r\n        {\r\n            field: 'renavam',\r\n            label: 'Renavam',\r\n            width: '42mm',\r\n            left: '14mm'\r\n        },\r\n        {\r\n            field: 'poltronas',\r\n            label: 'Poltronas',\r\n            width: '16mm',\r\n            left: '2mm'\r\n        },\r\n        {\r\n            field: 'piquesPoltrona',\r\n            label: 'Piques poltrona',\r\n            width: '19mm'\r\n        },\r\n        {\r\n            field: 'nChassi',\r\n            label: 'Nmero do Chassi',\r\n            width: '50mm',\r\n            left: '15mm'\r\n        },\r\n\r\n    ],\r\n    [\r\n        {\r\n            field: 'marcaChassi',\r\n            label: 'Marca do Chassi',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'modeloChassi',\r\n            label: 'Modelo do Chassi',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'anoChassi',\r\n            label: 'Ano do chassi',\r\n        },\r\n        {\r\n            field: 'distanciaMinima',\r\n            label: 'Distncia Mnima (cm)',\r\n        },\r\n        {\r\n            field: 'distanciaMaxima',\r\n            label: 'Distncia Mxima (cm)'\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            field: 'marcaCarroceria',\r\n            label: 'Marca da Carroceria',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'modeloCarroceria',\r\n            label: 'Modelo da Carroceria',\r\n            width: '49mm',\r\n            left: '15mm'\r\n        },\r\n        {\r\n            field: 'anoCarroceria',\r\n            label: 'Ano da carroceria',\r\n        },\r\n        {\r\n            field: 'cores',\r\n            label: 'Cores',\r\n            width: '45mm',\r\n            left: '15mm'\r\n        }]\r\n]\r\n\r\nexport const seguro = [[\r\n    {\r\n        field: 'seguradora',\r\n        label: 'Seguradora',\r\n        width: '75mm',\r\n        left: '27.5mm'\r\n    },\r\n    {\r\n        field: 'apolice',\r\n        label: 'Aplice',\r\n        width: '35mm',\r\n        left: '13mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'dataEmissao',\r\n        label: 'Data de Emisso',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        type: 'date',\r\n        field: 'vencimento',\r\n        label: 'Vencimento',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    }]]\r\n\r\nexport const pesagem = [[\r\n    {\r\n        field: 'eixos',\r\n        label: 'N Eixos',\r\n        width: '15mm',\r\n        left: '2mm'\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        field: 'pesoDianteiro',\r\n        label: 'Peso Dianteiro (kg)',\r\n        width: '28mm',\r\n        left: '4mm'\r\n    },\r\n    {\r\n        field: 'pesoTraseiro',\r\n        label: 'Peso Traseiro (kg)',\r\n        width: '28mm',\r\n        left: '4mm'\r\n    },\r\n    {\r\n        field: 'pbt',\r\n        label: 'Peso Bruto Total',\r\n        width: '25mm',\r\n        left: '5mm'\r\n    },\r\n    {\r\n        field: 'pesoPassageiros',\r\n        label: 'Passag/Bagagem',\r\n        width: '25mm',\r\n        left: '3mm'\r\n    },\r\n]]\r\n\r\n\r\nexport const informacoesGerais = [[\r\n    {\r\n        type: 'date',\r\n        field: 'dataRegistro',\r\n        label: 'Data de Registro',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'dataExpedicao',\r\n        label: 'Data de expedio',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'utilizacao',\r\n        label: 'Utilizao',\r\n        width: '35mm',\r\n        left: '9mm'\r\n    },\r\n    {\r\n        field: 'equipamentosId',\r\n        label: 'Acessrios',\r\n        width: '65mm',\r\n    }\r\n]]\r\n\r\nexport const other = [[\r\n    {\r\n        field: 'compartilhado', \r\n        label: 'Empresas autorizadas a compartilhar',\r\n        width: '120mm',\r\n        left: '20mm'\r\n    },\r\n    {\r\n        field: 'observacoes', \r\n        label: 'Observaes',\r\n        width: '80mm',        \r\n    }\r\n]]","import React, { Fragment, useState, useEffect } from 'react'\r\nimport moment from 'moment'\r\n\r\nimport { delegatario, caracteristicas, seguro, pesagem, informacoesGerais, other } from '../Forms/certificate'\r\n\r\nimport './certificate.css'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        paddingRight: '25px',\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    }\r\n}))\r\n\r\n\r\nexport default function PdfCertificate() {\r\n\r\n    const [vehicle, setVehicle] = useState({})\r\n    \r\n\r\n    useEffect(() => {\r\n        async function setData() {            \r\n            const data = JSON.parse(localStorage.getItem('vehicle'))        \r\n            let menus = document.querySelectorAll('.MuiToolbar-root')\r\n            menus.forEach(m => m.style.display = 'none')\r\n            await setVehicle(data)\r\n            setTimeout(() => {\r\n                if (data) window.print()\r\n            }, 500);\r\n        }\r\n        setData()\r\n        localStorage.removeItem('vehicle')        \r\n    }, [])\r\n\r\n    const classes = useStyles(),\r\n        { textField } = classes\r\n\r\n    let carac = caracteristicas,\r\n        delega = delegatario,\r\n        seg = seguro,\r\n        peso = pesagem,\r\n        info = informacoesGerais,\r\n        obs = other,\r\n        object = {}\r\n\r\n    const formArray = [carac, delega, seg, peso, info, obs]\r\n\r\n    if (vehicle)\r\n        formArray.forEach(form => {\r\n            Object.entries(vehicle).forEach(([key, value]) => {\r\n                form.forEach((line, i) => {\r\n                    line.forEach((obj, k) => {\r\n                        if (obj.field === key) {\r\n                            object = Object.assign(obj, { value })\r\n                            form[i][k] = object\r\n                            object = {}\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n        })\r\n    const checkMulti = field => {\r\n        if (field === 'equipamentosId' || field === 'equipamentosId') return\r\n        else return 'certificate'\r\n    }\r\n    const redirect = () => {\r\n        let menus = document.querySelectorAll('.MuiToolbar-root')\r\n        menus.forEach(m => m.style.display = 'none')\r\n        const url = window.location.origin\r\n        window.location.href = url;\r\n    }\r\n    const ultimateForm = [\r\n        { title: 'Delegatrio', form: delega },\r\n        { title: 'Caractersticas do Veculo', form: carac },\r\n        { title: 'Seguro', form: seg },\r\n        { title: 'Pesagem', form: peso },\r\n        { title: 'Informaes gerais', form: info },\r\n        { title: 'Outras informaes', form: obs }\r\n    ]\r\n    if (!vehicle) {\r\n        const url = window.location.origin\r\n        window.location.replace(url)\r\n        return null\r\n    }\r\n    return (\r\n        <Fragment>\r\n            <div id='pdfPage' className='A4'>\r\n                <div className='header'>\r\n                    <img src='/images/certficateHeader.png' height='100%' width='100%' alt=\"header\" />\r\n                </div>\r\n                {ultimateForm.map(({ title, form }, y) =>\r\n                    <div className={title !== 'Delegatrio' ? 'box' : 'firstBox'} key={y}>\r\n                        {title !== 'Delegatrio' && <span className='boxTitle'>{title}</span>}\r\n                        {form.map((line, i) =>\r\n                            <div key={i} className={title !== 'Delegatrio' ? 'divLine' : 'firstDivLine'} style={{ marginTop: i === 0 && '11mm' }}>\r\n                                {line.map((el, k) =>\r\n                                    <TextField\r\n                                        disabled\r\n                                        key={k}\r\n                                        name={el.field}\r\n                                        label={el.label}\r\n                                        className={textField}\r\n                                        multiline={el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? true : false}\r\n                                        rows={\r\n                                            el.value && el.value.length < 86 ? '2' :\r\n                                                el.value && el.value.length < 140 ? '3' : '4'\r\n                                        }\r\n                                        variant={el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? 'outlined' : 'standard'}\r\n                                        value={\r\n                                            el.type === 'date' ? moment(el.value).format('DD-MM-YYYY') :\r\n                                                el.field === 'dataExpedicao' ? moment().format('DD-MM-YYYY') :\r\n                                                    el.value || ''\r\n                                        }\r\n                                        inputProps={{\r\n                                            className: checkMulti(el.field),\r\n                                            style: {\r\n                                                width: el.width || '18mm',\r\n                                                fontSize: '2.7mm',\r\n                                                padding: '1px 0',\r\n                                                margin: '0',\r\n                                                flex: '1',\r\n                                                color: '#000'\r\n                                            }\r\n                                        }}\r\n                                        InputProps={{ style: { padding: el.field === 'equipamentosId' || (el.field === 'observacoes' && el.value && el.value.length > 50) ? '1mm' : '' } }}\r\n                                        InputLabelProps={{\r\n                                            shrink: true,\r\n                                            style: {\r\n                                                fontSize: '13px',\r\n                                                textAlign: 'center !important',\r\n                                                left: el.left || '0',\r\n                                                color: '#000'\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n                <div className='porteObrigatorio'>\r\n                    <img src=\"/images/porteObrigatorio.png\" height='100%' width='100%' alt=\"porte obrigatrio\" />\r\n                    <br />\r\n                    Este certificado pode ser verificado em <span className='link' onClick={() => redirect()}> http://www.sismob.mg.gov.br </span>\r\n                </div>\r\n            </div>\r\n            <br />\r\n\r\n            <button title='Imprimir / salvar PDF' className='noprint printButton' onClick={() => window.print()}>\r\n                <PrintTwoToneIcon style={{\r\n                    cursor: 'pointer',\r\n                    color: 'rgb(161, 161, 180)',\r\n                    fontSize: '40pt',\r\n                }} /></button>\r\n        </Fragment>\r\n    )\r\n}","const formatFileSize = (bytes) => {\r\n\r\n    if (bytes > 1024 && bytes < 1048576) {\r\n        return Math.round(bytes / 1024) + ' KB'\r\n\r\n    } else if (bytes >= 1048576 && bytes < (1048576 * 1024)) {\r\n        return ((bytes / 1024) / 1024).toFixed(2) + ' MB'\r\n    } else {\r\n        return bytes + ' bytes'\r\n    }\r\n}\r\n\r\nexport default formatFileSize","import React from 'react';\r\n\r\nimport { formatDate } from '../Utils/formatValues'\r\nimport formatFileSize from '../Utils/formatFileSize'\r\nimport download from '../Utils/downloadFile'\r\n\r\nimport ClosePopUpButton from './ClosePopUpButton'\r\nimport { cadVehicleFiles } from '../Forms/cadVehicleFiles'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\n\r\nconst divRow = {\r\n    marginBottom: 0,\r\n    display: 'grid',\r\n    grid: '50px / 4% 40% 25% 25%',\r\n    width: '99%',\r\n    margin: 'auto',\r\n    padding: '10px 0 0 0',\r\n    justifyItems: 'auto'\r\n}\r\n\r\nconst ShowFiles = ({ filesCollection, close, typeId, empresas, filesIds, razaoSocial }) => {\r\n\r\n    let files = [],\r\n        collection = 'empresaDocs', fileLabels = [...empresaFiles]\r\n\r\n    switch (typeId) {\r\n        case 'veiculoId':\r\n            collection = 'vehicleDocs'\r\n            fileLabels = [...cadVehicleFiles]\r\n            if (!fileLabels.find(f => f.name === 'transferenciaDoc')) fileLabels.push({ title: 'Documento de Transferncia', name: 'transferenciaDoc' })\r\n            if (!fileLabels.find(f => f.name === 'newPlateDoc')) fileLabels.push({ title: 'CRLV com nova placa', name: 'newPlateDoc' })\r\n            if (!fileLabels.find(f => f.name === 'apoliceDoc')) fileLabels.push({ title: 'Aplice de seguro', name: 'apoliceDoc' })\r\n            if (!fileLabels.find(f => f.name === 'laudoDoc')) fileLabels.push({ title: 'Laudo de segurana veicular', name: 'laudoDoc' })\r\n            break;\r\n        default: void 0\r\n    }\r\n\r\n    if (filesIds)\r\n        filesCollection = filesCollection.filter(f => filesIds.indexOf(f.id) !== -1)\r\n\r\n    if (filesCollection && filesCollection[0]) {\r\n        filesCollection.forEach(obj => {\r\n            fileLabels.forEach(o => {\r\n                if (obj.metadata && o.name === obj.metadata.fieldName)\r\n                    files.push({ ...obj, label: o.title })\r\n            })\r\n        })\r\n    }\r\n\r\n    const getMoreInfo = file => {\r\n        const { metadata } = file\r\n\r\n        switch (metadata.fieldName) {\r\n            case 'procuracao':\r\n                if (razaoSocial)\r\n                    return ' - ' + razaoSocial\r\n                const emp = empresas.find(e => e.delegatarioId === Number(metadata.empresaId))\r\n                return ' - ' + emp.razaoSocial\r\n            case 'apoliceDoc':\r\n                if (metadata.apolice) return ' nmero ' + metadata.apolice\r\n                else return ' '\r\n            default:\r\n                return ''\r\n        }\r\n    }\r\n    const header = ['Arquivo', 'Data de Upload', 'Tamanho']\r\n\r\n\r\n    if (files[0]) {\r\n        return (\r\n            <div className={filesIds ? '' : 'popUpWindow'}>\r\n                <h5>\r\n                    <img alt=\"\" src=\"/images/folderIcon2.jpg\" style={{ paddingLeft: '20px', marginRight: '20px' }} /> Arquivos\r\n                </h5>\r\n\r\n                <hr style={{ marginBottom: '5px' }} />\r\n                <div style={divRow}>\r\n                    <div>\r\n                        <img alt=\"\" src=\"/images/multipleFiles2.png\" height='50%' />\r\n                    </div>\r\n                    {header.map((title, i) =>\r\n                        <div key={i}>\r\n                            <span style={{ fontSize: '1.2em', fontWeight: 500 }}>{title}</span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <hr style={{ margin: '0 0 20px 0' }} />\r\n                {\r\n                    files.map((file, index) =>\r\n                        <div key={index}>\r\n                            <div style={divRow}>\r\n                                <div className=\"col s1\">\r\n                                    <img alt=\"\" src=\"/images/genericFile.png\" />\r\n                                </div>\r\n                                <div className=\"col s11\">\r\n                                    <span\r\n                                        style={{ textDecoration: 'underline', cursor: 'pointer', color: 'blue' }}\r\n                                        onClick={() => download(file.id, file.filename, collection, file.metadata.fieldName)}>\r\n                                        {file.label + getMoreInfo(file)}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"col s3\">\r\n                                    {formatDate(file.uploadDate, true)}\r\n                                </div>\r\n                                <div className=\"col s3\">\r\n                                    {formatFileSize(file.length)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                <ClosePopUpButton close={close} />\r\n            </div>\r\n        )\r\n    }\r\n    else return null\r\n}\r\n\r\nexport default ShowFiles;","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport moment from 'moment'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport { connect } from 'react-redux'\r\nimport { updateCollection } from '../Store/dataActions'\r\n\r\nimport ConsultasTemplate from './ConsultasTemplate'\r\nimport { TabMenu } from '../Layouts'\r\n\r\nimport Certificate from '../Veiculos/Certificate'\r\nimport ShowDetails from '../Reusable Components/ShowDetails'\r\nimport ShowFiles from '../Reusable Components/ShowFiles'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\n\r\nconst format = {\r\n    top: '5%',\r\n    left: '10%',\r\n    right: '10%'\r\n}\r\n\r\nclass ConsultasContainer extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.showDetails) this.showDetails()\r\n                if (this.state.showFiles) this.closeFiles()\r\n                if (this.state.showCertificate) this.closeCertificate()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        tab: 0,\r\n        items: ['Empresas', 'Scios', 'Procuradores', 'Veculos', 'Seguros'],\r\n        tablePKs: ['delegatario_id', 'socio_id', 'procurador_id', 'veiculo_id', 'id'],\r\n        dbTables: ['delegatario', 'socios', 'procurador', 'veiculo', 'seguro'],\r\n        options: ['empresas', 'socios', 'procuradores', 'veiculos', 'seguros'],\r\n        detailsTitle: ['Empresa', 'Scio', 'Procurador', 'Placa', 'Aplice'],\r\n        detailsHeader: ['razaoSocial', 'nomeSocio', 'nomeProcurador', 'placa', 'apolice'],\r\n        empresas: [],\r\n        seguros: [],\r\n        razaoSocial: '',\r\n        showDetails: false,\r\n        showFiles: false,\r\n        openDialog: false,\r\n        filesCollection: [],\r\n        elementDetails: '',\r\n        vehicleDocs: [],\r\n        showCertificate: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.escFunction, false)        \r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    changeTab = async (e, value) => {\r\n        await this.setState({ tab: value })\r\n        return\r\n    }\r\n\r\n    showDetails = async (e, elementDetails) => {\r\n        const\r\n            { redux } = this.props,\r\n            { options, tab, tablePKs } = this.state,\r\n            primaryKeys = tablePKs.map(pk => humps.camelize(pk))\r\n\r\n        let updatedElement\r\n\r\n        if (elementDetails) updatedElement = redux[options[tab]].find(e => e[primaryKeys[tab]] === elementDetails[primaryKeys[tab]])\r\n\r\n        if (elementDetails !== undefined && updatedElement) {\r\n            await this.setState({ showDetails: !this.state.showDetails, elementDetails: updatedElement })\r\n            void 0\r\n        }\r\n        else this.setState({ showDetails: !this.state.showDetails, elementDetails: undefined })\r\n    }\r\n\r\n    closeFiles = () => {\r\n        this.setState({ showFiles: !this.state.showFiles })\r\n    }\r\n\r\n    showFiles = id => {\r\n        const\r\n            { tab } = this.state,\r\n            { veiculos, socios, empresaDocs, vehicleDocs } = this.props.redux\r\n\r\n        let selectedFiles = empresaDocs.filter(f => f.metadata.empresaId === id.toString() && f.metadata?.tempFile === false)\r\n        let typeId = 'empresaId'\r\n\r\n        switch (tab) {\r\n            case 1:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.empresaId === id)\r\n                const socio = socios.find(v => v.socioId === id)\r\n                if (socio) {\r\n                    let sociosArray = []\r\n                    selectedFiles = empresaDocs\r\n                        .filter(f => f.metadata.empresaId === socio.delegatarioId)\r\n                        .forEach(f => {\r\n                            if (f.metadata.socios && f.metadata.socios.includes(id))\r\n                                sociosArray.push(f)\r\n                        })\r\n                    selectedFiles = sociosArray\r\n                }\r\n                break\r\n\r\n            case 2:\r\n                typeId = 'procuracaoId'\r\n                let filesToReturn = []\r\n\r\n                empresaDocs.forEach(f => {\r\n                    if (f?.metadata?.fieldName === 'procuracao') {\r\n                        if (f?.metadata?.procuradores)\r\n                            f.metadata.procuradores.forEach(procId => {\r\n                                if (procId === id) filesToReturn.push(f)\r\n                            })\r\n                    }\r\n                })\r\n                selectedFiles = filesToReturn\r\n                break\r\n            case 3:\r\n                typeId = 'veiculoId'\r\n                selectedFiles = vehicleDocs.filter(f => f.metadata.veiculoId === id)\r\n                const vehicle = veiculos.find(v => v.veiculoId === id)\r\n                if (vehicle) {\r\n                    const seguro = empresaDocs.find(f => f?.metadata?.apolice === vehicle?.apolice?.toString())\r\n                    if (seguro) selectedFiles.push(seguro)\r\n                }\r\n                break\r\n            case 4:\r\n                selectedFiles = empresaDocs.filter(f => f.metadata.apolice === id)\r\n                break\r\n            default: void 0\r\n        }\r\n\r\n        selectedFiles = selectedFiles.filter(file => file?.metadata?.tempFile === false)\r\n\r\n        if (selectedFiles[0]) {\r\n            selectedFiles = selectedFiles\r\n                .sort((a, b) => new Date(a['uploadDate']) - new Date(b['uploadDate']))\r\n                .reverse()\r\n            this.setState({ filesCollection: selectedFiles, showFiles: true, typeId, selectedElement: id })\r\n\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true, subject: typeId })\r\n            this.setState({ filesCollection: [] })\r\n        }\r\n    }\r\n\r\n    deleteHandler = data => {\r\n        const { dbTables, tablePKs, tab } = this.state,\r\n            table = dbTables[tab],\r\n            tablePK = tablePKs[tab],\r\n            itemId = humps.camelize(tablePK)\r\n\r\n        axios.delete(`/api/delete?table=${table}&tablePK=${tablePK}&id=${data[itemId]}`)\r\n            .then(r => console.log(r.data))\r\n    }\r\n\r\n    showCertificate = async vehicle => {\r\n\r\n        const\r\n            { situacao, vencimento, vencimentoContrato } = vehicle,\r\n            seguroVencido = moment(vencimento).isBefore(),\r\n            contratoVencido = moment(vencimentoContrato).isBefore()\r\n\r\n        if (situacao !== 'Ativo') {\r\n            await this.setState({ alertType: 'veiculoPendente', openAlertDialog: true })\r\n            return\r\n        }\r\n        if (seguroVencido) {\r\n            await this.setState({ alertType: 'seguroVencido', openAlertDialog: true })\r\n            return\r\n        }\r\n        if (contratoVencido) {\r\n            await this.setState({ alertType: 'contratoVencido', openAlertDialog: true })\r\n            return\r\n        }\r\n\r\n        const url = window.location.origin + '/crv'\r\n        localStorage.setItem('vehicle', JSON.stringify(vehicle))\r\n        window.open(url, 'noopener')\r\n    }\r\n\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    closeCertificate = () => this.setState({ showCertificate: !this.state.showCertificate })\r\n\r\n    render() {\r\n        const\r\n            { tab, options, items, showDetails, elementDetails, showFiles, selectedElement, filesCollection,\r\n                openAlertDialog, alertType, typeId, tablePKs, showCertificate, certified, detailsTitle, detailsHeader } = this.state,\r\n            { redux } = this.props,\r\n            { empresas } = redux,\r\n            primaryKeys = tablePKs.map(pk => humps.camelize(pk))\r\n\r\n        let updatedElement\r\n        if (elementDetails && showDetails) updatedElement = redux[options[tab]].find(e => e[primaryKeys[tab]] === elementDetails[primaryKeys[tab]])\r\n\r\n        return <Fragment>\r\n            <TabMenu items={items}\r\n                tab={tab}\r\n                changeTab={this.changeTab} />\r\n            <ConsultasTemplate\r\n                tab={tab}\r\n                items={items}\r\n                collection={this.props.redux[options[tab]]}\r\n                showDetails={this.showDetails}\r\n                showFiles={this.showFiles}\r\n                del={this.deleteHandler}\r\n                showCertificate={this.showCertificate}\r\n            />\r\n            {showDetails &&\r\n                <ShowDetails\r\n                    close={this.showDetails}\r\n                    data={updatedElement || elementDetails}\r\n                    tab={tab}\r\n                    title={detailsTitle[tab]}\r\n                    header={detailsHeader[tab]}\r\n                />\r\n            }\r\n            {\r\n                showCertificate &&\r\n                <Certificate vehicle={certified} />\r\n            }\r\n            {showFiles &&\r\n                <ShowFiles\r\n                    tab={tab}\r\n                    elementId={selectedElement}\r\n                    filesCollection={filesCollection}\r\n                    close={this.closeFiles}\r\n                    format={format}\r\n                    typeId={typeId}\r\n                    empresas={empresas} />\r\n            }\r\n            {openAlertDialog &&\r\n                <AlertDialog\r\n                    open={openAlertDialog} close={this.closeAlert} alertType={alertType} tab={tab}\r\n                />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'socios', 'procuradores', 'seguros', 'seguradoras',\r\n    'getFiles/vehicleDocs', 'getFiles/empresaDocs', 'equipamentos', 'acessibilidade']\r\n\r\nexport default connect(null, { updateCollection })(StoreHOC(collections, ConsultasContainer))","import React from 'react'\r\n\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport FormSubtitle from '../Reusable Components/FormSubtiltle'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: 300,\r\n        fontColor: '#bbb',\r\n        textAlign: 'center'\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n\r\n    dropBox: {\r\n        margin: '2% 0',\r\n    },\r\n    dropBoxItem: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '17px',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#4169E1',\r\n        backgroundColor: '#fafafa'\r\n    },\r\n    dropBoxItem2: {\r\n        margin: '12px 0',\r\n        border: '1px solid #ccc',\r\n        borderRadius: '3%',\r\n        height: '50px',\r\n        padding: '0 1% 0 1%',\r\n        cursor: 'pointer',\r\n        zIndex: '1',\r\n        boxShadow: 'inset 3px -3px -3px 0px black',\r\n        fontSize: '0.75rem',\r\n        color: '#00000',\r\n        backgroundColor: '#fafafa'\r\n    }\r\n}));\r\n\r\nexport default function ({ handleInput, handleBlur, data, handleFiles, removeFile }) {\r\n    const { activeStep, stepTitles, dropDisplay, contratoSocial, fileToRemove} = data\r\n           \r\n    return (\r\n        <div className=\"flex paper\">\r\n            <FormSubtitle subtitle={stepTitles[activeStep]} />\r\n            <div>\r\n                <TextInput\r\n                    form={empresasForm}\r\n                    data={data}\r\n                    handleBlur={handleBlur}\r\n                    handleInput={handleInput}\r\n                />\r\n                <div className='flex center'>\r\n                    <DragAndDrop\r\n                        name='contratoSocial'\r\n                        formData={contratoSocial}\r\n                        dropDisplay={dropDisplay}\r\n                        handleFiles={handleFiles}                        \r\n                        removeFile={removeFile}\r\n                        fileToRemove={fileToRemove}\r\n                        style={{ width: '40%' }}\r\n                    />\r\n                </div>\r\n\r\n\r\n                {/*    <Dropzone onDrop={handleFiles}>\r\n                    {({ getRootProps, getInputProps }) => (\r\n                        <Grid container justify=\"center\" alignItems='center' className={dropBox} direction='row' {...getRootProps()}>\r\n                            <input {...getInputProps()} />\r\n                            {\r\n                                dropDisplay.match('Clique ou') ?\r\n                                    <Grid item xs={6} className={dropBoxItem}> {dropDisplay} </Grid>\r\n                                    :\r\n                                    <Grid item xs={6} className={dropBoxItem2}> <DescriptionOutlinedIcon />  {dropDisplay} <br /> (clique ou arraste outro arquivo para alterar)</Grid>\r\n                            }\r\n                        </Grid>\r\n                    )}\r\n                </Dropzone> */}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport FormSubtiltle from '../Reusable Components/FormSubtiltle'\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles';\r\nimport StepperButtons from '../Reusable Components/StepperButtons';\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport { empresaFiles } from '../Forms/empresaFiles';\r\nimport TextInput from '../Reusable Components/TextInput'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#999',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    }\r\n}))\r\n\r\nexport default function ({ socios, empresas, handleInput, handleBlur, data, addSocio, enableEdit, handleEdit, removeSocio,\r\n    handleFiles, removeFile, handleSubmit, setShowPendencias }) {\r\n\r\n    const\r\n        { activeStep, stepTitles, filteredSocios, contratoSocial, selectedEmpresa, dropDisplay, fileToRemove, demand, demandFiles, showPendencias, info } = data,\r\n        classes = useStyles(), { iconButton, list } = classes,\r\n        contratoSocialForm = [empresaFiles[0]]\r\n\r\n    let standAlone = true\r\n    if (stepTitles) standAlone = false\r\n\r\n    return (\r\n        <>\r\n            <main className=\"flex center\">\r\n                {\r\n                    standAlone &&\r\n                    <SelectEmpresa\r\n                        data={data}\r\n                        empresas={empresas}\r\n                        handleInput={handleInput}\r\n                        handleBlur={handleBlur}\r\n                    />\r\n                }\r\n                {\r\n                    (selectedEmpresa || !standAlone) &&\r\n                    <section className=\"flex center paper\">\r\n                        {\r\n                            standAlone ?\r\n                                <div className=\"flexColumn\" style={{ alignItems: 'center' }}>\r\n                                    <h6 style={{ fontSize: '14px' }}>Alterao do quadro Societrio</h6>\r\n                                    <p style={{ fontSize: '12px', color: '#555' }}> Para adicionar um novo scio, preencha os campos abaixo e clique em \"Adicionar scio\".</p>\r\n                                </div>\r\n\r\n                                :\r\n                                <FormSubtiltle subtitle={stepTitles[activeStep]} />\r\n                        }\r\n\r\n                        <div className='flex center' style={{ padding: '10px 0', width: '100%' }}>\r\n                            <TextInput\r\n                                form={sociosForm}\r\n                                data={data}\r\n                                handleBlur={handleBlur}\r\n                                handleInput={handleInput}\r\n                            />\r\n                        </div>\r\n                        <div style={{ margin: '5px 0 7px 84.58%', width: '100%' }}>\r\n                            <Button color='primary' variant='outlined' size='small' onClick={addSocio}>\r\n                                <AddIcon /> Adicionar scio\r\n                    </Button>\r\n                        </div>\r\n                    </section>\r\n                }\r\n            </main>\r\n            {\r\n                selectedEmpresa && filteredSocios.length === 0 &&\r\n                <section>\r\n                    <p>\r\n                        Nenhum scio cadastrado para {selectedEmpresa.razaoSocial}\r\n                    </p>\r\n                </section>\r\n            }\r\n            {\r\n                socios?.length > 0 &&\r\n                <>\r\n                    <section className=\"flex center paper\">\r\n                        <p > Scios cadastrados</p>\r\n                        {socios.map((s, i) =>\r\n                            <div key={i}>\r\n                                {sociosForm.map((e, k) =>\r\n                                    <Fragment key={k + 1000}>\r\n                                        <TextField\r\n                                            value={s[e.field] || ''}\r\n                                            name={e.field}\r\n                                            label={e.label}\r\n                                            className={list}\r\n                                            disabled={s.edit ? false : true}\r\n                                            onChange={handleEdit}\r\n                                            InputLabelProps={\r\n                                                {\r\n                                                    shrink: true,\r\n                                                    style: {\r\n                                                        fontWeight: 600,\r\n                                                        fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif',\r\n                                                        color: '#888'\r\n                                                    }\r\n                                                }}\r\n                                            inputProps={{\r\n                                                style: {\r\n                                                    fontSize: '13px',\r\n                                                    color: s.edit === true ? '#000'\r\n                                                        : s.status === 'new' ? 'green'\r\n                                                            : s.status === 'modified' ? '#FF2500'\r\n                                                                : s.status === 'deleted' ? 'red'\r\n                                                                    : '#888',\r\n                                                    textDecoration: s.status === 'deleted' && !s.edit ? 'line-through' : ''\r\n                                                }\r\n                                            }}\r\n                                        />\r\n                                    </Fragment>\r\n                                )}\r\n                                <Button component='span' className={iconButton} title='editar' onClick={() => enableEdit(i)}>\r\n                                    <EditIcon />\r\n                                </Button>\r\n\r\n                                <Button className={iconButton}\r\n                                    color={s.status === 'deleted' ? 'primary' : 'secondary'}\r\n                                    title={s.status === 'deleted' ? 'Desfazer excluso' : 'Remover'}\r\n                                    onClick={() => removeSocio(i)}>\r\n                                    {s.status === 'deleted' ? <i className='material-icons'>undo</i> : <DeleteIcon />}\r\n                                </Button>\r\n                            </div>\r\n                        )}\r\n                    </section>\r\n                    {\r\n                        standAlone && demand ?\r\n                            <section>\r\n                                {contratoSocial &&\r\n                                    <ShowLocalFiles\r\n                                        demand={demand}\r\n                                        collection='empresaDocs'\r\n                                        demandFiles={[contratoSocial]}\r\n                                        form={contratoSocialForm}\r\n                                    />\r\n                                }\r\n                                <StepperButtons\r\n                                    uniqueStep={true}\r\n                                    declineButtonLabel='Indeferir'\r\n                                    demand={demand}\r\n                                    setShowPendencias={setShowPendencias}\r\n                                    showPendencias={showPendencias}\r\n                                    info={info}\r\n                                    handleSubmit={handleSubmit}\r\n                                    handleInput={handleInput}\r\n                                />\r\n                            </section>\r\n                            :\r\n                            standAlone\r\n                                ?\r\n                                <section>\r\n                                    {!demand &&\r\n                                        <div className='flex center'>\r\n                                            <DragAndDrop\r\n                                                name='contratoSocial'\r\n                                                formData={contratoSocial}\r\n                                                dropDisplay={dropDisplay}\r\n                                                handleFiles={handleFiles}\r\n                                                demandFiles={demandFiles}\r\n                                                removeFile={removeFile}\r\n                                                fileToRemove={fileToRemove}\r\n                                                style={{ width: '40%' }}\r\n                                            />\r\n                                        </div>}\r\n                                    <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n                                        <Button\r\n                                            size=\"small\"\r\n                                            color=\"primary\"\r\n                                            variant=\"contained\"\r\n                                            style={{ margin: '0px 0 10px 0' }}\r\n                                            onClick={() => handleSubmit()}\r\n                                        >\r\n                                            Enviar <span>&nbsp;&nbsp; </span> <SaveIcon />\r\n                                        </Button>\r\n                                    </div>\r\n                                </section>\r\n                                :\r\n                                null\r\n                    }\r\n                </>\r\n            }\r\n        </>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\n\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        width: \"100%\",\r\n        padding: '8px 0 5px 0',\r\n        height: 'auto'\r\n    }\r\n}))\r\n\r\nexport default function Revisao({ data, empresasForm, sociosForm, filesForm, files }) {\r\n\r\n    const { socios } = data,\r\n        classes = useStyles(),\r\n        { paper } = classes\r\n\r\n    let empresaDetails = [], obj = {}, filledForm = [], ultimateData\r\n\r\n    empresasForm.forEach(e => {\r\n        if (data.hasOwnProperty([e.field])) {\r\n            Object.assign(obj, { [e.field]: data[e.field] })\r\n            filledForm.push(e)\r\n        }\r\n    })\r\n    empresaDetails.push(obj)\r\n\r\n    ultimateData = [\r\n        { subtitle: 'Detalhes da empresa', form: filledForm, data: empresaDetails },\r\n        { subtitle: 'Informaes sobre os scios', form: sociosForm, data: socios }\r\n    ]\r\n    console.log(ultimateData[1].form)\r\n    return (\r\n        <>\r\n            <Paper className={paper}>\r\n                <div className='divTable'>\r\n                    {\r\n                        ultimateData.map(({ subtitle, form, data }, y) =>\r\n                            <Fragment key={y}>\r\n                                <table style={y === 1 ? { tableLayout: 'fixed' } : {}}>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className='tHeader'\r\n                                                colSpan={form.length}>{subtitle}</th>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            {form.map((s, i) => <th key={i}>{s.label}</th>)}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {y === 0 && <tr>\r\n                                            {data.map((obj, j) =>\r\n                                                Object.values(obj).map((el, k) =>\r\n                                                    <td className='review' key={k}>\r\n                                                        {el}\r\n                                                    </td>\r\n                                                )\r\n                                            )}\r\n                                        </tr>}\r\n                                        {y !== 0 && data.map((obj, j) =>\r\n                                            <tr>\r\n                                                {Object.values(obj).map((el, k) =>\r\n                                                    <td className='review' key={k}>\r\n                                                        {el}\r\n                                                    </td>\r\n                                                )}\r\n                                            </tr>\r\n                                        )}\r\n                                    </tbody>\r\n                                </table>\r\n\r\n                            </Fragment>\r\n                        )}\r\n                </div>\r\n\r\n                <h3 style={{ margin: '30px 0 0 25px' }}> <FileCopyOutlinedIcon style={{ verticalAlign: 'middle', padding: '0 0 0 8px' }} /> Documentos </h3>\r\n                {files && <ShowLocalFiles form={filesForm} files={files} />}\r\n            </Paper >\r\n        </>\r\n    )\r\n}","import { formatCpf, formatCnpj, formatPhone, formatShare } from './formatValues'\r\n\r\nexport default function valueParser(name, value) {\r\n    let parsed\r\n\r\n    if (name.match('cnpj')) {\r\n        parsed = formatCnpj(value)\r\n        return parsed\r\n    }\r\n    if (name.match('cpf')) {\r\n        parsed = formatCpf(value)\r\n        return parsed\r\n    }\r\n    if (name.match('tel')) {\r\n        parsed = formatPhone(value)\r\n        return parsed\r\n    }\r\n    if (name.match('share')) {\r\n        parsed = formatShare(value)\r\n        return parsed\r\n    }\r\n\r\n\r\n    else return value\r\n}\r\n","import React, { Component, Fragment } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport EmpresasTemplate from './EmpresasTemplate'\r\nimport SociosTemplate from './SociosTemplate'\r\nimport Review from './EmpresaReview'\r\n\r\nimport valueParser from '../Utils/valueParser'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\nimport { empresasForm } from '../Forms/empresasForm'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\n\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\nimport CustomStepper from '../Reusable Components/Stepper'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport { removeFile as globalRemoveFile } from '../Utils/handleFiles'\r\n\r\nclass EmpresasContainer extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.addEquipa) this.handleEquipa()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        activeStep: 0,\r\n        stepTitles: ['Preencha os dados da empresa', 'Informaes sobre os scios',\r\n            'Reviso'],\r\n        steps: ['Dados da Empresa', 'Scios', 'Reviso'],\r\n        razaoSocial: '',\r\n        toastMsg: 'Empresa cadastrada!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        socios: [],\r\n        dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n        showFiles: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n        document.querySelector(\"input[name='razaoSocial']\").style.width = '300px'\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    setActiveStep = async action => {\r\n\r\n        const prevActiveStep = this.state.activeStep\r\n        if (action === 'next') this.setState({ activeStep: prevActiveStep + 1 });\r\n        if (action === 'back') this.setState({ activeStep: prevActiveStep - 1 });\r\n        if (action === 'reset') this.setState({ activeStep: 0 })\r\n\r\n        const { errors } = this.state\r\n        if (errors && errors[0]) {\r\n            await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n            return\r\n        }\r\n    }\r\n\r\n    handleInput = e => {\r\n        const\r\n            { name, value } = e.target,\r\n            parsedValue = valueParser(name, value)\r\n\r\n        this.setState({ [name]: parsedValue })\r\n    }\r\n\r\n    addSocio = async () => {\r\n        let socios = this.state.socios,\r\n            sObject = {},\r\n            invalid = 0,\r\n            totalShare = 0\r\n\r\n        sociosForm.forEach(obj => {\r\n            if (this.state[obj.field] === '' || this.state[obj.field] === undefined) {\r\n                invalid += 1\r\n            }\r\n        })\r\n\r\n        if (invalid === 100) {\r\n            this.setState({ alertType: 'fieldsMissing', openAlertDialog: true })\r\n            return null\r\n        } else {\r\n            sociosForm.forEach(obj => {\r\n                Object.assign(sObject, { [obj.field]: this.state[obj.field] })\r\n            })\r\n            socios.push(sObject)\r\n\r\n            socios.forEach(s => {\r\n                totalShare += Number(s.share)\r\n            })\r\n            if (totalShare > 100) {\r\n                socios.pop()\r\n                this.setState({ alertType: 'overShared', openAlertDialog: true })\r\n            }\r\n            else {\r\n                await this.setState({ socios, totalShare })\r\n                sociosForm.forEach(obj => {\r\n                    this.setState({ [obj.field]: '' })\r\n                })\r\n                document.getElementsByName('nomeSocio')[0].focus()\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    enableEdit = index => {\r\n\r\n        let editSocio = this.state.socios\r\n        if (editSocio[index].edit === true) editSocio[index].edit = false\r\n        else {\r\n            editSocio.forEach(s => s.edit = false)\r\n            editSocio[index].edit = true\r\n        }\r\n        this.setState({ socios: editSocio })\r\n    }\r\n\r\n    handleEdit = e => {\r\n        const { name } = e.target, { socios } = this.state\r\n\r\n        let { value } = e.target\r\n        if (name === 'share') value = value.replace(',', '.')\r\n\r\n        let editSocio = socios.filter(s => s.edit === true)[0]\r\n        const index = socios.indexOf(editSocio)\r\n\r\n        editSocio[name] = value\r\n\r\n        let fs = socios\r\n        fs[index] = editSocio\r\n\r\n        this.setState({ filteredSocios: fs })\r\n\r\n    }\r\n\r\n    removeSocio = index => {\r\n        let socios = this.state.socios\r\n        socios.splice(index, 1)\r\n        this.setState({ socios })\r\n    }\r\n\r\n    getId = async (name, value, collection, stateId, dbName, dbId, alertLabel) => {\r\n\r\n        const item = collection.filter(el => el[dbName].toLowerCase().match(value.toLowerCase()))\r\n        if (value === '') this.setState({ [name]: '', [stateId]: '' })\r\n        if (item[0]) {\r\n            const nombre = item[0][dbName]\r\n            const id = item[0][dbId]\r\n            if (value !== '') {\r\n                await this.setState({ [name]: nombre, [stateId]: id })\r\n            }\r\n        } else {\r\n            await this.setState({ [name]: '', [stateId]: '' })\r\n            alert(alertLabel + ' no cadastrado')\r\n            document.getElementsByName(name)[0].focus()\r\n        }\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const { empresas } = this.props.redux\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        const errors = checkInputErrors()\r\n        if (errors) this.setState({ errors })\r\n        else this.setState({ errors: undefined })\r\n\r\n        switch (name) {\r\n            case 'cnpj':\r\n                const alreadyExists = empresas.filter(e => e.cnpj === value)\r\n                if (alreadyExists[0]) {\r\n                    this.setState({ cnpj: '' })\r\n                    this.setState({ alertType: alreadyExists[0], openAlertDialog: true })\r\n                }\r\n                break;\r\n            case 'share':\r\n                value = value.replace(',', '.')\r\n                if (value > 100) {\r\n                    this.setState({ alertType: 'overShared', openAlertDialog: true })\r\n                }\r\n                else {\r\n                    const totalShare = Number(this.state.totalShare) + Number(value)\r\n                    this.setState({ [name]: value, totalShare })\r\n                }\r\n                break;\r\n            case 'numero':\r\n                if (value && !value.match(/^\\d+$/)) {\r\n                    await this.setState({ numero: '' })\r\n                    this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    handleFiles = (file) => {\r\n        let formData = new FormData()\r\n        formData.append('contratoSocial', file[0])\r\n        this.setState({ contratoSocial: formData })\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        let { socios, contratoSocial } = this.state,\r\n            empresa = {},\r\n            empresaId\r\n\r\n        empresasForm.forEach(e => {\r\n            if (this.state.hasOwnProperty([e.field])) {\r\n                Object.assign(empresa, { [e.field]: this.state[e.field] })\r\n            }\r\n        })\r\n\r\n        empresa.delegatarioStatus = 'Ativo'\r\n\r\n        Object.entries(empresa).forEach(([k, v]) => {\r\n            if (!v || v === '') delete empresa[k]\r\n        })\r\n\r\n        socios.forEach(s => {\r\n            delete s.edit\r\n            Object.entries(s).forEach(([k, v]) => {\r\n                if (!v || v === '') delete socios[k]\r\n            })\r\n        })\r\n\r\n        empresa = humps.decamelizeKeys(empresa)\r\n        socios = humps.decamelizeKeys(socios)\r\n\r\n        await axios.post('/api/empresaFullCad', { empresa, socios })\r\n            .then(delegatarioId => {\r\n                empresaId = delegatarioId.data\r\n            })\r\n\r\n        this.submitFile(empresaId, contratoSocial)\r\n        this.toast()\r\n        this.resetState()\r\n    }\r\n\r\n    submitFile = async (empresaId, contratoSocial) => {\r\n        if (contratoSocial instanceof FormData) {\r\n            const contratoFile = new FormData()\r\n            let metadata = {\r\n                fieldName: 'contratoSocial',\r\n                empresaId,\r\n                tempFile: false\r\n            }\r\n\r\n            metadata = JSON.stringify(metadata)\r\n            contratoFile.append('metadata', metadata)\r\n\r\n            for (let pair of contratoSocial.entries()) {\r\n                contratoFile.append(pair[0], pair[1])\r\n            }\r\n\r\n            await axios.post('/api/empresaUpload', contratoFile)\r\n                .then(r => console.log('file ok.'))\r\n        }\r\n    }\r\n\r\n    removeFile = async (name) => {\r\n        const\r\n            { contratoSocial } = this.state,\r\n            newState = globalRemoveFile(name, contratoSocial)\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n\r\n    resetState = () => {\r\n        let\r\n            resetEmpresa = {},\r\n            resetSocios = {},\r\n            resetFiles = {}\r\n\r\n        empresasForm.forEach(obj => {\r\n            Object.keys(obj).forEach(key => {\r\n                if (key === 'field' && this.state[obj[key]]) Object.assign(resetEmpresa, { [obj[key]]: undefined })\r\n            })\r\n        })\r\n\r\n        sociosForm.forEach(obj => {\r\n            Object.keys(obj).forEach(key => {\r\n                if (key === 'field' && this.state[obj[key]]) Object.assign(resetSocios, { [obj[key]]: undefined })\r\n            })\r\n        })\r\n\r\n        empresaFiles.forEach(({ name }) => {\r\n            Object.assign(resetFiles, { [name]: undefined })\r\n        })\r\n\r\n        this.setState({\r\n            ...resetEmpresa,\r\n            ...resetSocios,\r\n            ...resetFiles,\r\n            activeStep: 0,\r\n            razaoSocial: '',\r\n            files: [],\r\n            fileNames: [],\r\n            addedSocios: [0],\r\n            totalShare: 0,\r\n            socios: [],\r\n            dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n            showFiles: false\r\n        })\r\n    }\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    showFiles = () => this.setState({ showFiles: true })\r\n    closeFiles = () => this.setState({ showFiles: !this.state.showFiles })\r\n\r\n    render() {\r\n        \r\n        const { socios, activeStep, confirmToast, toastMsg, steps, openAlertDialog,\r\n            alertType, contratoSocial } = this.state\r\n\r\n        return <Fragment>\r\n\r\n            <Crumbs links={['Empresas', '/empresas']} text='Cadastro de empresas' />\r\n\r\n            <CustomStepper\r\n                activeStep={activeStep}\r\n                steps={steps}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            {\r\n                activeStep === 0 ?\r\n                    <EmpresasTemplate\r\n                        data={this.state}\r\n                        handleInput={this.handleInput}\r\n                        handleBlur={this.handleBlur}\r\n                        handleFiles={this.handleFiles}\r\n                        removeFile={this.removeFile}\r\n                    />\r\n                    : activeStep === 1 ?\r\n                        <SociosTemplate\r\n                            data={this.state}\r\n                            socios={socios}\r\n                            handleInput={this.handleInput}\r\n                            handleBlur={this.handleBlur}\r\n                            addSocio={this.addSocio}\r\n                            removeSocio={this.removeSocio}\r\n                            handleFiles={this.handleFiles}                            \r\n                            enableEdit={this.enableEdit}\r\n                            handleEdit={this.handleEdit}\r\n                        />\r\n                        :\r\n                        activeStep === 2 && <Review\r\n                            files={contratoSocial}\r\n                            filesForm={empresaFiles} data={this.state}\r\n                            sociosForm={sociosForm} empresasForm={empresasForm}\r\n                        />\r\n            }\r\n            <StepperButtons\r\n                activeStep={activeStep}\r\n                lastStep={steps.length - 1}\r\n                handleSubmit={this.handleSubmit}\r\n                setActiveStep={this.setActiveStep}\r\n            />\r\n            <ReactToast open={confirmToast} close={this.toast} msg={toastMsg} />\r\n            {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nconst collections = ['empresas']\r\n\r\nexport default (StoreHOC(collections, EmpresasContainer))","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActionArea from '@material-ui/core/CardActionArea'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Hidden from '@material-ui/core/Hidden'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    toolbar: {\r\n        borderBottom: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    toolbarTitle: {\r\n        flex: 1,\r\n    },\r\n    toolbarSecondary: {\r\n        justifyContent: 'space-between',\r\n        overflowX: 'auto',\r\n    },\r\n    toolbarLink: {\r\n        padding: theme.spacing(1),\r\n        flexShrink: 0,\r\n    },\r\n    mainFeaturedPost: {\r\n        position: 'relative',\r\n        backgroundColor: theme.palette.grey[100],\r\n        color: theme.palette.common.white,\r\n        marginBottom: theme.spacing(4),\r\n        backgroundImage: '/images/empresaBg2.jpg',\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n    },\r\n    overlay: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        left: 0,\r\n        backgroundColor: 'rgba(0,0,0,.1)',\r\n    },\r\n    mainFeaturedPostContent: {\r\n        position: 'relative',\r\n        padding: theme.spacing(3),\r\n        [theme.breakpoints.up('md')]: {\r\n            padding: theme.spacing(6),\r\n            paddingRight: 0,\r\n        },\r\n    },\r\n    mainGrid: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    card: {\r\n        display: 'flex',\r\n    },\r\n    cardDetails: {\r\n        flex: 1,\r\n    },\r\n    cardMedia: {\r\n        width: '120px',\r\n        height: '180px'\r\n    },\r\n    markdown: {\r\n        ...theme.typography.body2,\r\n        padding: theme.spacing(3, 0),\r\n    },\r\n    sidebarAboutBox: {\r\n        padding: theme.spacing(2),\r\n        backgroundColor: theme.palette.grey[200],\r\n    },\r\n    sidebarSection: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    footer: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        marginTop: theme.spacing(8),\r\n        padding: theme.spacing(6, 0),\r\n    },\r\n}));\r\n\r\nconst featuredPosts = [\r\n    {\r\n        title: 'Cadastrar',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastrar uma nova empresa no sistema.',\r\n        imageUrl: '/images/addCompany21.png',\r\n        link: '/empresas/cadastro'\r\n    },\r\n    {\r\n        title: 'Scios',\r\n        date: '07/Nov',\r\n        description:\r\n            'Gerenciar scios e alteraes de contrato social',\r\n        link: '/empresas/socios',\r\n        imageUrl: '/images/socios3.png'\r\n    },\r\n    {\r\n        title: 'Procuraes',\r\n        date: '07/Nov',\r\n        description:\r\n            'Cadastrar procuraes e procuradores',\r\n        link: '/empresas/procuradores',\r\n        imageUrl: '/images/procuradores31.png'\r\n    },\r\n]\r\n\r\nexport default function () {\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n            <div style={{\r\n                minHeight: '83vh',\r\n                height: 'auto'\r\n            }}>\r\n                <main>\r\n                    <Paper className={classes.mainFeaturedPost}>\r\n                        <div style={{  height: '90px', width: '100%' }}>\r\n                            <img src=\"/images/empresasBg2.jpg\" alt=\"Empresas\" width='100%' height= '280px'/>\r\n                        </div>\r\n                        <div className={classes.overlay} />\r\n                        <Grid container>\r\n                            <Grid item md={4}>\r\n                                <div className={classes.mainFeaturedPostContent}>\r\n                                    <Typography component=\"h1\" variant=\"h4\" gutterBottom>\r\n                                        Empresas\r\n                                    </Typography>\r\n                                    <Typography variant=\"body1\" paragraph>\r\n                                        Selecione uma das opes abaixo.\r\n                                    </Typography>\r\n                                </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                    <Grid container spacing={4} className={classes.cardGrid}>\r\n                        {featuredPosts.map(post => (\r\n                            <Grid item key={post.title} xs={12} md={4}>\r\n                                <Link to={post.link} style={{ textDecoration: 'none' }}>\r\n                                    <CardActionArea component=\"span\" >\r\n                                        <Card className={classes.card}>\r\n                                            <div className={classes.cardDetails}>\r\n                                                <CardContent>\r\n                                                    <Typography component=\"h2\" variant=\"h6\">\r\n                                                        {post.title}\r\n                                                    </Typography>\r\n                                                    <br />\r\n                                                    <Typography variant=\"body2\" paragraph>\r\n                                                        {post.description}\r\n                                                    </Typography>\r\n                                                    <Typography variant=\"body2\" color=\"primary\">\r\n\r\n                                                        {post.title}\r\n\r\n                                                    </Typography>\r\n                                                </CardContent>\r\n                                            </div>\r\n                                            <Hidden xsDown>\r\n                                                <CardMedia\r\n                                                    className={classes.cardMedia}\r\n                                                    component=\"img\"\r\n                                                    src={post.imageUrl}\r\n                                                    title={post.title}\r\n                                                />\r\n                                            </Hidden>\r\n                                        </Card>\r\n                                    </CardActionArea>\r\n                                </Link>\r\n                            </Grid>\r\n                        ))}\r\n                    </Grid>\r\n                </main>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nconst StyledTableCell = withStyles(theme => ({\r\n    head: {\r\n        backgroundColor: '#e1f5fe',\r\n        color: '#00000',\r\n        fontWeight: 600,\r\n        fontSize: 14,\r\n    },\r\n    body: {\r\n        fontSize: 14,\r\n\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledCell = withStyles(theme => ({\r\n    head: {\r\n        backgroundColor: '#e1f5fe',\r\n        color: '#00000',\r\n    },\r\n    body: {\r\n        fontSize: 13,\r\n\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles(theme => ({\r\n    root: {\r\n        '&:nth-of-type(odd)': {\r\n            backgroundColor: theme.palette.background.default,\r\n        },\r\n    },\r\n}))(TableRow);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: '1',\r\n        padding: '1%',\r\n        textAlign: 'center'\r\n    },\r\n    title: {\r\n        marginTop: '2%',\r\n        fontColor: '#000',\r\n        fontSize: '0.9rem',\r\n        backgroundColor: '#B2DCEA',\r\n        textAlign: 'center'\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(2),\r\n        width: \"100%\",\r\n        padding: '2% 0 1% 0',\r\n        height: 'auto'\r\n    },\r\n    table: {\r\n        marginBottom: theme.spacing(2),\r\n        overflowX: 'auto'\r\n    }\r\n}))\r\n\r\n\r\nexport default function Procurador({ procuracao, procuradores }) {\r\n\r\n    const classes = useStyles(),\r\n        { title, table } = classes\r\n\r\n    let procArray = []\r\n\r\n    procuracao.procuradores.forEach(id => {\r\n        const pro = procuradores.find(p => p.procuradorId === id)\r\n        procArray.push(pro)\r\n    })\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div style={{ width: '100%', align: 'left' }}>\r\n                <Typography className={title}> Procuradores cadastrados </Typography>\r\n            </div>\r\n            <Table className={table}>\r\n                <TableHead>\r\n                    <StyledTableRow>\r\n                        {procuradorForm.map((s, i) => <StyledTableCell key={i}>{s.label}</StyledTableCell>)}\r\n                    </StyledTableRow>\r\n                </TableHead>\r\n                { procArray.map((d, j) =>\r\n                    d ?\r\n                        <TableBody key={j}>\r\n                            <TableRow>\r\n                                {\r\n                                    procuradorForm.map((obj, l) =>\r\n                                        <StyledCell key={l}>\r\n                                            {d[obj.field]}\r\n                                        </StyledCell>\r\n                                    )\r\n                                }\r\n                            </TableRow>\r\n                        </TableBody>\r\n                        :\r\n                        null\r\n                )}\r\n            </Table>\r\n        </ React.Fragment>\r\n    )\r\n}","import React, { Fragment } from 'react'\r\nimport moment from 'moment'\r\n\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\n\r\nimport AddCircleOutlineSharpIcon from '@material-ui/icons/AddCircleOutlineSharp';\r\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\r\n\r\nimport Procurador from './Procurador'\r\nimport DragAndDrop from '../Reusable Components/DragAndDrop'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\nimport StepperButtons from '../Reusable Components/StepperButtons'\r\n\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\nimport ShowLocalFiles from '../Reusable Components/ShowLocalFiles'\r\nimport { empresaFiles } from '../Forms/empresaFiles'\r\n\r\nconst divContainer = {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    alignContent: 'center',\r\n    flexWrap: 'wrap',\r\n    position: 'relative'\r\n}\r\n\r\nconst divFiles = {\r\n    textAlign: 'center',\r\n    alignItems: 'flex-start',\r\n    justify: 'space-between',\r\n    lineHeight: '40px',\r\n    border: '1px #ccc solid',\r\n    padding: '0 1%',\r\n    margin: '1% 1% 0.5% 1%',\r\n    fontSize: '0.8rem',\r\n    backgroundColor: '#f6f6f6',\r\n    borderRadius: '6px',\r\n    width: 180\r\n}\r\n\r\nconst icon = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    paddingLeft: '2%'\r\n}\r\n\r\nconst fileIcon = {\r\n    verticalAlign: 'middle',\r\n    padding: '0 0% 0 2%',\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(1),\r\n        height: 'auto',\r\n        backgroundColor: '#fafafa',\r\n    },\r\n    containerList: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        padding: theme.spacing(2),\r\n        height: 'auto',\r\n    },\r\n    title: {\r\n        color: '#000',\r\n        textAlign: 'center',\r\n        fontSize: '1.1rem'\r\n    },\r\n    selector: {\r\n        width: '380px',\r\n        fontSize: '0.8rem',\r\n        margin: '10px 0',\r\n        textAlign: 'center'\r\n\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        fontSize: '0.8rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center'\r\n    },\r\n    formHolder: {\r\n        width: 900,\r\n    },\r\n    input: {\r\n        textAlign: 'center'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1),\r\n    },\r\n    paper2: {\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        margin: theme.spacing(1),\r\n        position: 'relative'\r\n    },\r\n\r\n    list: {\r\n        margin: theme.spacing(1),\r\n        width: 180,\r\n        fontSize: '0.7rem',\r\n        fontColor: '#bbb',\r\n        textAlign: 'center',\r\n    },\r\n    iconButton: {\r\n        marginTop: '17px',\r\n        padding: '6px 0px'\r\n    },\r\n    addButton: {\r\n        padding: '5px 10px 5px 8px',\r\n        height: '40px',\r\n        margin: '5px',\r\n        float: 'right',\r\n        fontSize: '0.8rem'\r\n    },\r\n    dropBox: {\r\n        margin: '30px 0 15px 0',\r\n    }\r\n}));\r\n\r\nexport default function ({ redux, data, handleInput, addProc, removeProc, handleFiles, getFile, plusOne, minusOne, checkExpires, setShowPendencias, removeFile }) {\r\n\r\n    const\r\n        { dropDisplay, selectedEmpresa, procsToAdd, selectedDocs, procuracao, expires, demand, showPendencias, info, demandFiles, fileToRemove } = data,\r\n        { empresas, procuradores } = redux,\r\n\r\n        classes = useStyles(), { paper, container, title, dropBox, addButton, paper2, containerList } = classes\r\n\r\n    const errorHandler = (el, index) => {\r\n\r\n        const value = data[el.field + index]\r\n\r\n        if (el.errorHandler && el.errorHandler(value)) return false\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return true\r\n\r\n        if (el.pattern && value) return value.match(el.pattern) === null\r\n\r\n        if (value > el.max || value < el.min) return true\r\n        if (value?.length < el?.minLength) return true\r\n\r\n        else return false\r\n    }\r\n\r\n    const helper = (el, index) => {\r\n        const value = data[el.field + index]\r\n\r\n        if (el.errorHandler && el.errorHandler(value)) return ''\r\n        else if (value && el.errorHandler && !el.errorHandler(value)) return ''\r\n\r\n        if (value > el.max || value < el.min) return 'Valor invlido'\r\n        else if (value && value.match(el.pattern) === null) return ''\r\n        else if (el.pattern && value && value.match(el.pattern) !== null) return ''\r\n\r\n        if (value?.length < el?.minLength) return ''\r\n        if (value?.length >= el?.minLength) return ''\r\n\r\n        else return undefined\r\n    }\r\n\r\n    const handleDates = (date) => {\r\n\r\n        if (date) return moment(date).format('DD-MM-YYYY')\r\n        else return ''\r\n    }\r\n    \r\n    //************CRIAR FUNO PARA IMPEDIR QUE O PROCURADOR QUE TENHA ALGUMA PROCURAO SEJA APAGADO NA TELA 'CONSULTAS' */\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            className={container}\r\n            justify=\"flex-start\"\r\n        >\r\n            <SelectEmpresa\r\n                data={data}\r\n                empresas={empresas}\r\n                handleInput={handleInput}\r\n            />\r\n            {selectedEmpresa &&\r\n                <Paper className={paper2}>\r\n                    <Typography className={title}> Cadastrar nova procurao </Typography>\r\n                    <h4 style={{ fontWeight: 400, fontSize: '0.9em' }}> Se a procurao abranger mais de um procurador, clique em \"+\" para adicionar e anexe apenas 1 vez.</h4>\r\n                    {procsToAdd.map((p, j) =>\r\n                        <Grid item xs={12} key={j} style={{ float: 'left' }}>\r\n                            {procuradorForm.map((el, i) =>\r\n                                <Fragment key={i}>\r\n                                    <TextField\r\n                                        name={el.field + j}\r\n                                        label={el.label}\r\n                                        margin='normal'\r\n                                        className={classes.textField}\r\n                                        onChange={e => handleInput(e)}\r\n                                        type={el.type || ''}\r\n                                        error={errorHandler(el, j)}\r\n                                        helperText={helper(el, j)}\r\n                                        select={el.select || false}\r\n                                        value={data[el.field + j] || ''}\r\n                                        disabled={el.disabled || false}\r\n                                        InputLabelProps={{\r\n                                            className: classes.textField,\r\n                                            shrink: el.type === 'date' || undefined,\r\n                                            style: { fontSize: '0.7rem', fontWeight: 400, color: '#888' }\r\n                                        }}\r\n                                        inputProps={{\r\n                                            style: {\r\n                                                background: el.disabled && data.disable ? '#fff' : '#fafafa',\r\n                                                fontSize: '0.9rem', textAlign: 'center', color: '#000', width: el.width || 150, height: '7px'\r\n                                            },\r\n                                            value: `${data[el.field + j] || ''}`,\r\n                                            list: el.datalist || '',\r\n                                            maxLength: el.maxLength || '',\r\n                                            minLength: el.minLength || '',\r\n                                            max: el.max || '',\r\n                                        }}\r\n                                        multiline={el.multiline || false}\r\n                                        rows={el.rows || null}\r\n                                        variant={el.variant || 'filled'}\r\n                                        fullWidth={el.fullWidth || false}\r\n                                    >\r\n                                    </TextField>\r\n                                    {j === procsToAdd.length - 1 && i === 3 &&\r\n                                        <>\r\n                                            <AddCircleOutlineSharpIcon\r\n                                                onClick={() => plusOne()}\r\n                                                style={{\r\n                                                    verticalAlign: 'middle',\r\n                                                    position: 'absolute',\r\n                                                    bottom: '136px',\r\n                                                    right: j > 0 ? '15px' : '35px',\r\n                                                    color: '#009688',\r\n                                                    fontSize: 30,\r\n                                                    cursor: 'pointer',\r\n                                                    zIndex: 1\r\n                                                }}\r\n                                            />\r\n                                            {j > 0 && <RemoveCircleOutlineIcon\r\n                                                onClick={() => minusOne()}\r\n                                                style={{\r\n                                                    verticalAlign: 'middle',\r\n                                                    position: 'absolute',\r\n                                                    bottom: '136px',\r\n                                                    right: '45px',\r\n                                                    color: 'red',\r\n                                                    fontSize: 30,\r\n                                                    cursor: 'pointer',\r\n                                                    zIndex: 1\r\n                                                }}\r\n                                            />}\r\n                                        </>\r\n                                    }\r\n                                </Fragment>\r\n                            )}\r\n                        </Grid>\r\n                    )}\r\n                    <Grid container style={{ position: 'relative', alignItems: 'center' }}>\r\n                        <Grid item xs={6}>\r\n                            {!demand ?\r\n                                <DragAndDrop\r\n                                    style={{ marginTop: '22px', width: '90%' }}\r\n                                    name='procuracao'\r\n                                    formData={procuracao}\r\n                                    dropDisplay={dropDisplay}\r\n                                    handleFiles={handleFiles}\r\n                                    demandFiles={demandFiles}\r\n                                    removeFile={removeFile}\r\n                                    fileToRemove={fileToRemove}\r\n                                />\r\n                                :\r\n                                <div className=\"flex\">\r\n                                    <ShowLocalFiles\r\n                                        demand={demand}\r\n                                        collection='empresaDocs'\r\n                                        demandFiles={demandFiles}\r\n                                        form={empresaFiles}\r\n                                        style={{ minWidth: '220px' }}\r\n                                    />\r\n                                </div>\r\n                            }\r\n                        </Grid>\r\n                        <Grid item xs={6} className={dropBox}>\r\n                            <div style={{ display: 'flex', justifyContent: 'flex-end', alignItems: 'center', marginRight: '67px' }}>\r\n                                <FormControlLabel\r\n                                    control={\r\n                                        <Checkbox\r\n                                            checked={expires === true}\r\n                                            onChange={() => checkExpires()}\r\n                                            value={expires}\r\n                                        />\r\n                                    }\r\n                                    label={\r\n\r\n                                        <span style={{ color: '#2979ff', fontSize: '0.8em', float: 'right' }}>\r\n                                            Procurao por prazo determinado?\r\n                                    </span>\r\n                                    }\r\n                                />\r\n                                <TextField\r\n                                    name='vencimento'\r\n                                    label='Vencimento'\r\n                                    margin='normal'\r\n                                    className={classes.textField}\r\n                                    onChange={e => handleInput(e)}\r\n                                    type='date'\r\n                                    helper='se indeterminado, deixar em branco'\r\n                                    value={data.vencimento || ''}\r\n                                    disabled={expires === false}\r\n                                    InputLabelProps={{\r\n                                        className: classes.textField,\r\n                                        shrink: true,\r\n                                        style: { fontSize: '0.8rem', color: '#455a64', marginBottom: '5%' }\r\n                                    }}\r\n                                    inputProps={{\r\n                                        style: { background: '#fafafa', fontSize: '0.8rem', textAlign: 'center', color: '#000', height: '9px' },\r\n                                    }}\r\n                                    variant={'filled'}\r\n                                />\r\n\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Paper>}\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', width: '100%' }}>\r\n                {selectedEmpresa && !demand ?\r\n                    <Button\r\n                        className={addButton}\r\n                        size='small'\r\n                        color=\"secondary\"\r\n                        variant=\"contained\"\r\n                        onClick={() => addProc()}\r\n                    >\r\n                        <AddIcon />Cadastrar procurao\r\n                        </Button>\r\n                    : selectedEmpresa && demand ?\r\n                        <StepperButtons\r\n                            uniqueStep={true}\r\n                            declineButtonLabel='Indeferir'\r\n                            demand={demand}\r\n                            setShowPendencias={setShowPendencias}\r\n                            showPendencias={showPendencias}\r\n                            info={info}\r\n                            handleSubmit={addProc}\r\n                            handleInput={handleInput}\r\n                        />\r\n                        : null\r\n                }\r\n            </div>\r\n\r\n            {selectedEmpresa && selectedDocs[0] && <h2 style={{ margin: '25px 0 0 15px' }}>Procuraes cadastradas</h2>\r\n            }\r\n            {\r\n                selectedEmpresa && !selectedDocs[0] && !demand &&\r\n                <Grid item xs={12}>\r\n                    <Paper className={paper}>\r\n                        Nenhum procurador cadastrado para {selectedEmpresa.razaoSocial}\r\n                    </Paper>\r\n                </Grid>\r\n            }\r\n            {\r\n                selectedDocs.length > 0 && selectedDocs.map((procuracao, z) => <Grid container\r\n                    key={z * 0.01}\r\n                    direction=\"row\"\r\n                    className={containerList}\r\n                    justify=\"center\"\r\n                    alignItems=\"flex-start\">\r\n                    <Grid item xs={12}>\r\n                        <Paper style={{ padding: '10px 15px 20px 15px' }}>\r\n                            <p className={title}>Procurao {\r\n                                !procuracao.vencimento ?\r\n                                    'por prazo indeterminado'\r\n                                    :\r\n                                    'com vencimento em ' + handleDates(procuracao.vencimento)\r\n                            }</p>\r\n\r\n                            <Procurador procuradores={procuradores} procuracao={procuracao} />\r\n\r\n                            <div style={divContainer}>\r\n                                <span style={divFiles}>\r\n                                    <InsertDriveFileOutlinedIcon style={fileIcon} />\r\n                                    <span style={{ verticalAlign: 'middle', }}>\r\n                                        {' '} Baixar arquivo\r\n                                    </span>\r\n                                    <GetAppIcon style={icon} onClick={() => getFile(procuracao.procuracaoId)} />\r\n                                </span>\r\n                                <span style={{ ...divFiles, width: 90, backgroundColor: 'white', border: 0, position: 'absolute', right: 0 }}>\r\n                                    <DeleteOutlinedIcon color='secondary' style={icon} onClick={() => removeProc(procuracao)} />\r\n                                    Apagar\r\n                                    </span>\r\n                            </div>\r\n                        </Paper>\r\n                    </Grid>\r\n                </Grid>\r\n                )\r\n            }\r\n        </Grid >\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport valueParser from '../Utils/valueParser'\r\nimport { checkInputErrors } from '../Utils/checkInputErrors'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\n\r\nimport ProcuradoresTemplate from './ProcuradoresTemplate'\r\nimport download from '../Utils/downloadFile'\r\nimport { procuradorForm } from '../Forms/procuradorForm'\r\n\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\nimport { setEmpresaDemand } from '../Utils/setEmpresaDemand'\r\nimport { removeFile } from '../Utils/handleFiles'\r\n\r\nclass Procuradores extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.escFunction = (e) => {\r\n            if (e.keyCode === 27) {\r\n                if (this.state.openDialog) this.toggleDialog()\r\n            }\r\n        }\r\n    }\r\n\r\n    state = {\r\n        empresas: [],\r\n        razaoSocial: '',\r\n        toastMsg: 'Procurao cadastrada!',\r\n        confirmToast: false,\r\n        fileNames: [],\r\n        openDialog: false,\r\n        expires: false,\r\n        filteredProc: [],\r\n        dropDisplay: 'Clique ou arraste para anexar a procurao referente a este(s) procurador(es).',\r\n        procuradores: [],\r\n        procsToAdd: [1],\r\n        procuracoesArray: [],\r\n        selectedDocs: [],\r\n        showPendencias: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const\r\n            { redux } = this.props,\r\n            demand = this.props?.location?.state?.demand\r\n        \r\n        //*************Set demand if any\r\n        if (demand) {\r\n            const\r\n                originalProcuradores = JSON.parse(JSON.stringify(redux.procuradores)),\r\n                demandState = setEmpresaDemand(demand, redux, originalProcuradores),\r\n                { latestDoc, ...updatedState } = demandState,\r\n                { history } = demand,\r\n                { vencimento, expires } = history[0],\r\n                newMembers = history[0].newMembers || [],\r\n                oldMembers = history[0].oldMembers || []\r\n\r\n            let allDemandProcs, procsToAdd = []\r\n\r\n            if (oldMembers[0]) {\r\n                oldMembers.forEach(m => {\r\n                    originalProcuradores.forEach(op => {\r\n                        Object.keys(op).forEach(key => {\r\n                            if (m?.procuradorId === op?.procuradorId && !m[key]) {\r\n                                m[key] = op[key]\r\n                            }\r\n                        })\r\n                    })\r\n                })\r\n            }\r\n            if (newMembers[0] || oldMembers[0]) {\r\n                allDemandProcs = newMembers.concat(oldMembers)\r\n                allDemandProcs.forEach((p, i) => {\r\n                    procsToAdd.push(i)\r\n                    procuradorForm.forEach(({ field }) => {\r\n                        this.setState({ [field + i]: p[field] })\r\n                    })\r\n                })\r\n            }\r\n            this.setState({ vencimento, expires, procsToAdd })\r\n            this.setState({ ...updatedState, demandFiles: [latestDoc] })\r\n        }\r\n\r\n        document.addEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    componentWillUnmount() { this.setState({}) }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { name } = e.target,\r\n            { empresas } = this.props.redux,\r\n            procuradores = [...this.props.redux.procuradores],\r\n            procuracoes = JSON.parse(JSON.stringify(this.props.redux.procuracoes))\r\n\r\n        let { value } = e.target\r\n\r\n        //***********************Parse values ********************** */\r\n        const parsedValue = valueParser(name, value)\r\n        this.setState({ [name]: parsedValue })\r\n\r\n        //**************************SetState *********************** */\r\n        if (name === 'razaoSocial' && Array.isArray(procuradores)) {\r\n\r\n            const selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (selectedEmpresa) {\r\n                const selectedDocs = procuracoes.filter(pr => pr.delegatarioId === selectedEmpresa.delegatarioId)\r\n                await this.setState({ selectedEmpresa, selectedDocs, razaoSocial: selectedEmpresa.razaoSocial })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n\r\n            } else this.setState({ selectedEmpresa: undefined })\r\n        }\r\n\r\n        if (name.match('cpfProcurador')) {\r\n\r\n            const proc = procuradores.find(p => p.cpfProcurador === value)\r\n            if (proc) {\r\n                const index = name.charAt(name.length - 1)\r\n                let cpfExists\r\n                Object.keys(this.state).forEach(stateKey => {\r\n                    if (stateKey !== name && this.state[stateKey] === value) {\r\n                        alert('Este CPF j foi informado.')\r\n                        this.setState({ [name]: '' })\r\n                        cpfExists = true\r\n                    }\r\n                })\r\n\r\n                if (!cpfExists)\r\n                    procuradorForm.forEach(({ field }) => {\r\n                        const key = field + index\r\n                        this.setState({ [key]: proc[field] })\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    addProc = async (approved) => {\r\n\r\n        const\r\n            { redux } = this.props,\r\n            { selectedEmpresa, demand, procuracao, vencimento, expires, info } = this.state,\r\n            empresaId = selectedEmpresa.delegatarioId,\r\n            procuradores = JSON.parse(JSON.stringify(redux.procuradores)),\r\n            nProc = [...this.state.procsToAdd]\r\n        let\r\n            addedProcs = [],\r\n            sObject = {}\r\n\r\n        //***********************Check for errors *********************** */\r\n        /*       let { errors } = checkInputErrors('returnObj', 'Dont check the date, please!') || []\r\n      \r\n              if (errors && errors[0]) {\r\n                  if (!expires)\r\n                      await this.setState({ ...this.state, ...checkInputErrors('setState', 'dontCheckDate') })\r\n                  else\r\n                      await this.setState({ ...this.state, ...checkInputErrors('setState') })\r\n                  return\r\n              }\r\n   */\r\n        //***********Create array of Procs from state***********\r\n        nProc.forEach((n, i) => {\r\n            procuradorForm.forEach(obj => {\r\n                Object.assign(sObject, { [obj.field]: this.state[obj.field + i] })\r\n            })\r\n            let j = 0\r\n            Object.values(sObject).forEach(v => {\r\n                if (v) j += 1\r\n            })\r\n            if (j > 0) addedProcs.push(sObject)\r\n            j = 0\r\n            sObject = {}\r\n\r\n            procuradorForm.forEach(obj => {\r\n                this.setState({ [obj.field + i]: '' })\r\n            })\r\n        })\r\n\r\n        let\r\n            gotId,\r\n            newMembers = [],\r\n            oldMembers = []\r\n\r\n        addedProcs.forEach(addedProc => {\r\n            gotId = procuradores.find(p => p.cpfProcurador === addedProc.cpfProcurador)\r\n            if (gotId?.procuradorId) {\r\n\r\n                Object.keys(addedProc).forEach(k => {\r\n                    if (addedProc[k] === gotId[k])\r\n                        delete addedProc[k]\r\n                })\r\n                addedProc.procuradorId = gotId.procuradorId\r\n                oldMembers.push(addedProc)\r\n            }\r\n            else\r\n                newMembers.push(addedProc)\r\n        })\r\n\r\n        if (approved === undefined) {\r\n\r\n            const log = {\r\n                status: 'Aguardando aprovao',\r\n                empresaId,\r\n                history: {\r\n                    files: procuracao,\r\n                    newMembers,\r\n                    oldMembers,\r\n                    vencimento,\r\n                    expires\r\n                },\r\n                metadata: {\r\n                    fieldName: 'procuracao',\r\n                    empresaId\r\n                },\r\n            }\r\n            Object.entries(log).forEach(([k, v]) => { if (!v) delete log[k] })\r\n            log.approved = approved\r\n            log.historyLength = 0\r\n\r\n            logGenerator(log)\r\n                .then(r => console.log(r))\r\n\r\n            this.setState({ toastMsg: 'Solicitao de cadastro enviada', confirmToast: true })\r\n            setTimeout(() => { this.resetState() }, 1500);\r\n        }\r\n        if (approved === false) {\r\n            const log = {\r\n                id: demand.id,\r\n                empresaId,\r\n                history: {\r\n                    info\r\n                },\r\n                declined: true\r\n            }\r\n            logGenerator(log)\r\n                .then(r => console.log(r))\r\n            this.setState({ toastMsg: 'Solicitao indeferida!', confirmToast: true })\r\n            setTimeout(() => {\r\n                this.props.history.push('/solicitacoes')\r\n            }, 1500);\r\n        }\r\n        if (approved === true) {\r\n            newMembers = humps.decamelizeKeys(newMembers)\r\n            oldMembers = humps.decamelizeKeys(oldMembers)\r\n            this.approveProc(newMembers, oldMembers)\r\n        }\r\n    }\r\n\r\n    approveProc = async (newMembers, oldMembers) => {\r\n\r\n        const\r\n            { selectedEmpresa, demandFiles, vencimento, demand } = this.state,\r\n            procIdArray = oldMembers.map(m => m.procurador_id)\r\n\r\n        //******************Post newMembers  *****************/\r\n        if (newMembers.length > 0) {\r\n            newMembers = humps.decamelizeKeys(newMembers)\r\n            await axios.post('/api/cadProcuradores', { procuradores: newMembers, table: 'procurador', tablePK: 'procurador_id' })\r\n                .then(procs => {\r\n                    procs.data.forEach(p => procIdArray.push(p.procurador_id))\r\n                })\r\n        }\r\n\r\n        //***************Update existing members ****************/\r\n        const request = {\r\n            table: 'procurador',\r\n            tablePK: 'procurador_id',\r\n            requestArray: oldMembers,\r\n            keys: procuradorForm.map(p => humps.decamelize(p.field))\r\n        }\r\n\r\n        axios.put('/api/editProc', { ...request })\r\n            .then(r => console.log(r))\r\n\r\n        //***************Create new Procuracao****************/\r\n        let novaProcuracao = {\r\n            delegatario_id: selectedEmpresa.delegatarioId,\r\n            vencimento,\r\n            status: 'vigente',\r\n            procuradores: procIdArray\r\n        }\r\n\r\n        Object.entries(novaProcuracao).forEach(([k, v]) => {\r\n            if (!v || v === '') delete novaProcuracao[k]\r\n        })\r\n\r\n        let procuracaoId\r\n\r\n        await axios.post('/api/cadProcuracao', novaProcuracao)\r\n            .then(r => procuracaoId = r.data[0].procuracao_id)\r\n\r\n        novaProcuracao.procuracaoId = procuracaoId\r\n        const log = {\r\n            id: demand.id,\r\n            demandFiles,\r\n            history: {},\r\n            approved: true\r\n        }\r\n\r\n        if (demandFiles)\r\n            log.metadata = {\r\n                fieldName: 'procuracao',\r\n                empresaId: selectedEmpresa.delegatarioId,\r\n                procuracaoId: procuracaoId,\r\n                procuradores: procIdArray,\r\n            }\r\n        //generate log\r\n        logGenerator(log)\r\n            .then(r => console.log(r))\r\n\r\n        this.toast()\r\n        if (demand)\r\n            setTimeout(() => {\r\n                this.props.history.push('/solicitacoes')\r\n            }, 1500);\r\n        this.resetState()\r\n    }\r\n\r\n    removeProc = async proc => {\r\n\r\n        const\r\n            id = proc.procuracaoId,\r\n            selectedFile = this.props.redux.empresaDocs.find(f => Number(f.metadata.procuracaoId) === id)\r\n\r\n        let procs = [...this.state.selectedDocs]\r\n\r\n        await axios.delete(`/api/delete?table=procuracao&tablePK=procuracao_id&id=${id}`)\r\n            .then(r => console.log(r.data))\r\n\r\n        if (selectedFile && selectedFile.hasOwnProperty('_id'))\r\n            axios.delete(`/api/deleteFile?collection=empresaDocs&id=${selectedFile._id}`)\r\n                .then(({ data }) => console.log(data))\r\n\r\n        const i = procs.indexOf(proc)\r\n        procs.splice(i, 1)\r\n\r\n        this.setState({ selectedDocs: procs })\r\n    }\r\n\r\n    handleFiles = (file) => {\r\n\r\n        let procuracao = new FormData()\r\n        procuracao.append('procuracao', file[0])\r\n        this.setState({ procuracao, fileToRemove: null })\r\n    }\r\n\r\n    removeFile = async (name) => {\r\n        const\r\n            { procuracao } = this.state,\r\n            newState = removeFile(name, procuracao)\r\n\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n\r\n    getFile = id => {\r\n        const\r\n            { empresaDocs } = this.props.redux,\r\n            selectedFile = empresaDocs.find(f => Number(f.metadata.procuracaoId) === id)\r\n\r\n        if (selectedFile) {\r\n            const { id, filename } = selectedFile\r\n            download(id, filename, 'empresaDocs')\r\n        } else {\r\n            this.setState({ alertType: 'filesNotFound', openAlertDialog: true })\r\n        }\r\n    }\r\n\r\n    plusOne = () => {\r\n        let i = [...this.state.procsToAdd]\r\n        i.push(1)\r\n        this.setState({ procsToAdd: i })\r\n    }\r\n\r\n    minusOne = () => {\r\n        let i = [...this.state.procsToAdd]\r\n        i.pop()\r\n        this.setState({ procsToAdd: i })\r\n    }\r\n\r\n    checkExpires = () => {\r\n        if (this.state.expires === true) this.setState({ vencimento: '' })\r\n        this.setState({ expires: !this.state.expires })\r\n    }\r\n\r\n    resetState = () => {\r\n        const\r\n            { procsToAdd } = this.state,\r\n            keys = procuradorForm.map(({ field }) => field),\r\n            resetedFields = {}\r\n\r\n        procsToAdd.forEach((p, i) => {\r\n            keys.forEach(key => {\r\n                if (this.state.hasOwnProperty(key + i))\r\n                    resetedFields[key + i] = undefined\r\n            })\r\n        })\r\n        this.removeFile('procuracao')\r\n        this.setState({\r\n            ...resetedFields,\r\n            dropDisplay: 'Clique ou arraste para anexar a procurao referente a este(s) procurador(es).',\r\n            procsToAdd: [1],\r\n            vencimento: undefined,\r\n            procuracao: undefined,\r\n            expires: false\r\n        })\r\n    }\r\n\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const { openAlertDialog, alertType, demand } = this.state\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Cadastro de procuraes' demand={demand} />\r\n                <ProcuradoresTemplate\r\n                    data={this.state}\r\n                    redux={this.props.redux}\r\n                    handleInput={this.handleInput}\r\n                    removeProc={this.removeProc}\r\n                    handleFiles={this.handleFiles}\r\n                    removeFile={this.removeFile}\r\n                    addProc={this.addProc}\r\n                    handleSubmit={this.handleSubmit}\r\n                    plusOne={this.plusOne}\r\n                    minusOne={this.minusOne}\r\n                    getFile={this.getFile}\r\n                    checkExpires={this.checkExpires}\r\n                    setShowPendencias={this.setShowPendencias}\r\n                />\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} customMessage={this.state.customMsg} />}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['empresas', 'procuradores', 'procuracoes', 'getFiles/empresaDocs']\r\n\r\nexport default (StoreHOC(collections, Procuradores))","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport humps from 'humps'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport SociosTemplate from './SociosTemplate'\r\nimport ReactToast from '../Reusable Components/ReactToast'\r\nimport valueParser from '../Utils/valueParser'\r\n\r\nimport Crumbs from '../Reusable Components/Crumbs'\r\nimport { sociosForm } from '../Forms/sociosForm'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\nimport { removeFile } from '../Utils/handleFiles'\r\nimport { setEmpresaDemand } from '../Utils/setEmpresaDemand'\r\nimport { logGenerator } from '../Utils/logGenerator'\r\n\r\nclass AltSocios extends Component {\r\n\r\n    state = {\r\n        razaoSocial: '',\r\n        toastMsg: 'Dados atualizados!',\r\n        confirmToast: false,\r\n        files: [],\r\n        fileNames: [],\r\n        openDialog: false,\r\n        dialogTitle: '',\r\n        addedSocios: [0],\r\n        totalShare: 0,\r\n        filteredSocios: [],\r\n        dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n        showFiles: false,\r\n        showPendencias: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const\r\n            { redux } = this.props,\r\n            demand = this.props?.location?.state?.demand,\r\n            originals = humps.decamelizeKeys(redux.socios),\r\n            socios = JSON.parse(JSON.stringify(redux.socios)),\r\n            filteredSocios = socios.filter(s => s.razaoSocial === this.state.razaoSocial)\r\n\r\n        if (demand) {\r\n            const\r\n                demandState = setEmpresaDemand(demand, redux, filteredSocios),\r\n                { latestDoc, ...updatedState } = demandState\r\n\r\n            this.setState({ ...updatedState, demandFiles: [latestDoc], originals })\r\n        }\r\n        else this.setState({ originals, filteredSocios })\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        this.setState({})\r\n        document.removeEventListener('keydown', this.escFunction, false)\r\n    }\r\n\r\n    handleInput = async e => {\r\n        const\r\n            { empresas } = this.props.redux,\r\n            { name } = e.target\r\n        let\r\n            { value } = e.target\r\n\r\n        const parsedValue = valueParser(name, value)\r\n        this.setState({ [name]: parsedValue })\r\n\r\n        if (name === 'razaoSocial') {\r\n            const\r\n                originalSocios = humps.camelizeKeys(this.state.originals),\r\n                filteredSocios = originalSocios.filter(s => s.razaoSocial === value).map(s => s),\r\n                selectedEmpresa = empresas.find(e => e.razaoSocial === value)\r\n\r\n            if (filteredSocios.length > 0) {\r\n                this.setState({ filteredSocios, selectedEmpresa })\r\n            } else this.setState({ filteredSocios: [] })\r\n            if (selectedEmpresa) {\r\n                await this.setState({ razaoSocial: selectedEmpresa.razaoSocial, selectedEmpresa })\r\n                if (value !== selectedEmpresa.razaoSocial) this.setState({ selectedEmpresa: undefined })\r\n            } else this.setState({ selectedEmpresa: undefined })\r\n        }\r\n    }\r\n\r\n    handleBlur = async e => {\r\n        const { filteredSocios } = this.state\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n        switch (name) {\r\n            case 'cpfSocio':\r\n                const alreadyExists = filteredSocios.find(e => e.cpfSocio === value)\r\n                if (alreadyExists) {\r\n                    this.setState({ alertType: 'alreadyExists', openAlertDialog: true })\r\n                    this.setState({ cpfSocio: '' })\r\n                }\r\n                break;\r\n            case 'share':\r\n\r\n                if (value) {\r\n                    if (value > 100) {\r\n                        await this.setState({ share: '' })\r\n                        value = ''\r\n                        this.setState({ alertType: 'numberNotValid', openAlertDialog: true })\r\n                    }\r\n                    if (value !== '0' && value !== '00' && !Number(value)) {\r\n\r\n                        let totalShare = filteredSocios.map(s => Number(s.share) ? Number(s.share) : 0)\r\n                        totalShare = totalShare.reduce((a, b) => a + b)\r\n\r\n                        const parsedNumber = Number(value.replace(',', '.'))\r\n\r\n                        if (typeof totalShare === 'number') totalShare += parsedNumber\r\n                        else totalShare = parsedNumber\r\n                        this.setState({ totalShare, share: parsedNumber })\r\n\r\n                    } else {\r\n                        let totalShare = filteredSocios.map(s => parseFloat(s.share))\r\n                            .reduce((a, b) => a + b)\r\n                        const parsedNumber = parseFloat(value.replace(',', '.'))\r\n\r\n                        totalShare += parsedNumber\r\n                        //console.log(totalShare, parsedNumber)\r\n                        this.setState({ totalShare, share: parsedNumber })\r\n                    }\r\n                }\r\n                break;\r\n            default: break;\r\n        }\r\n    }\r\n\r\n    addSocio = async () => {\r\n        let socios = this.state.filteredSocios,\r\n            sObject = {}\r\n\r\n        //check if totalShare is more than 100\r\n        if (this.state.totalShare > 100) {\r\n            this.setState({ openAlertDialog: true, alertType: 'overShared' })\r\n            return null\r\n        }\r\n\r\n        sociosForm.forEach(obj => {\r\n            Object.assign(sObject, { [obj.field]: this.state[obj.field] })\r\n        })\r\n        socios.unshift(sObject)\r\n\r\n        await this.setState({ filteredSocios: socios })\r\n\r\n        sociosForm.forEach(async obj => {\r\n            await this.setState({ [obj.field]: undefined })\r\n        })\r\n        document.getElementsByName('nomeSocio')[0].focus()\r\n    }\r\n\r\n    removeSocio = async index => {\r\n        let socios = [...this.state.filteredSocios]\r\n        const socio = socios[index]\r\n\r\n        if (socio.status && socio.status !== 'deleted') {\r\n            socio.originalStatus = socio.status\r\n            socio.status = 'deleted'\r\n        }\r\n        else if (socio?.status === 'deleted')\r\n            socio.status = socio?.originalStatus\r\n        else\r\n            socio.status = 'deleted'\r\n\r\n        this.setState({ filteredSocios: socios })\r\n    }\r\n\r\n    enableEdit = index => {\r\n\r\n        let editSocio = this.state.filteredSocios\r\n        if (editSocio[index].edit === true) editSocio[index].edit = false\r\n        else {\r\n            editSocio.forEach(s => s.edit = false)\r\n            editSocio[index].edit = true\r\n        }\r\n        this.setState({ filteredSocios: editSocio })\r\n    }\r\n\r\n    handleEdit = e => {\r\n        const { name } = e.target\r\n        let { value } = e.target\r\n\r\n        if (name === 'share') value = value.replace(',', '.')\r\n        let editSocio = this.state.filteredSocios.filter(s => s.edit === true)[0]\r\n        const index = this.state.filteredSocios.indexOf(editSocio)\r\n\r\n        editSocio[name] = value\r\n\r\n        let fs = this.state.filteredSocios\r\n        fs[index] = editSocio\r\n\r\n        this.setState({ filteredSocios: fs })\r\n    }\r\n\r\n    handleSubmit = async approved => {\r\n        const\r\n            { socios } = this.props.redux,\r\n            { selectedEmpresa, filteredSocios, demand, contratoSocial, info } = this.state,\r\n            { delegatarioId } = selectedEmpresa,\r\n            oldHistoryLength = demand?.history?.length || 0\r\n\r\n        let log = {}\r\n        log.metadata = {}\r\n\r\n        //check if totalShare is more than 100\r\n        let updatedShare = filteredSocios\r\n            .map(s => Number(s.share))\r\n            .reduce((a, b) => a + b)\r\n\r\n        if (updatedShare > 100) {\r\n            this.setState({ openAlertDialog: true, alertType: 'overShared' })\r\n            return null\r\n        }\r\n\r\n        let\r\n            oldMembers = [],\r\n            newMembers = [],\r\n            keys = sociosForm.map(el => humps.decamelize(el.field))\r\n        keys.splice(1, 1)\r\n\r\n        //*************Organize socios into oldMembers and newMembers arrays*/\r\n        filteredSocios.forEach(fs => {\r\n            let { razaoSocial, createdAt, edit, ...rest } = fs\r\n            fs = rest\r\n            fs.delegatarioId = delegatarioId\r\n            if (!fs.hasOwnProperty('socioId')) {\r\n                const gotId = socios.find(s => s.cpfSocio === fs.cpfSocio)\r\n                if (gotId) {\r\n                    fs.socioId = gotId.socioId\r\n                    oldMembers.push(fs)\r\n                } else {\r\n                    if (fs?.status !== 'deleted') {\r\n                        fs.status = 'new'\r\n                        newMembers.push(fs)\r\n                    }\r\n                }\r\n            } else {\r\n                oldMembers.push(fs)\r\n                delete oldMembers.socioId\r\n            }\r\n        })\r\n\r\n        const table = 'socios', tablePK = 'socio_id'\r\n        let\r\n            realChanges = [],\r\n            altObj = {},\r\n            shareUpdate,\r\n            deleted\r\n\r\n        //*****************Send only real updates of oldMembers and add status = 'modified'\r\n        const originals = humps.camelizeKeys(this.state.originals)\r\n\r\n        oldMembers.forEach(m => {\r\n            originals.forEach(async s => {\r\n                if (m.socioId === s.socioId) {\r\n                    Object.keys(m).forEach(key => {\r\n                        if (m[key] && m[key] !== '' && (m[key] !== s[key] || key === 'socioId')) {\r\n                            Object.assign(altObj, { [key]: m[key] })\r\n                        }\r\n                    })\r\n                    //if marked as deleted, preserve status to create delete request, else mark as modified. if deleted, demand needs approval\r\n                    if (Object.keys(altObj).length > 1) {\r\n                        if (altObj?.status !== 'deleted') {\r\n                            m.status = 'modified'\r\n                            altObj.status = 'modified'\r\n                        }\r\n                        else deleted = true\r\n                        realChanges.push(altObj)\r\n                    }\r\n                    if (altObj.share || deleted) shareUpdate = true\r\n                    altObj = {}\r\n                }\r\n            })\r\n        })\r\n\r\n        //delete newMembers empty / undefined fields / canceled newMembers\r\n\r\n        newMembers = newMembers.filter(({ status }) => status !== 'deleted')\r\n        newMembers.forEach(m => {\r\n            Object.keys(m).forEach(key => {\r\n                if (!m[key] || m[key] === '') delete m[key]\r\n            })\r\n        })\r\n\r\n        const modifiedMembers = oldMembers.filter(m => m?.status === 'modified')\r\n\r\n        //alert if oldMembers and new members dont exist\r\n        if (!modifiedMembers[0] && !newMembers[0] && !contratoSocial && approved !== false && !deleted) {\r\n            alert('Nenhuma alterao foi realizada.')\r\n            return\r\n        }\r\n\r\n        //Variables to be inserted in files metadata\r\n        let\r\n            updateFilesMetadata = false,\r\n            socioIdsArray = filteredSocios\r\n                .filter(s => s.socioId !== undefined)\r\n                .map(s => s.socioId)\r\n\r\n        //**********If not approved but share was updated, create demand ***************** */\r\n        if (!approved && (newMembers.length > 0 || shareUpdate))\r\n            this.setState({ toastMsg: 'Alterao estaturia enviada!' })\r\n\r\n        //**********Else if approved and/or no share update, prepare request Object to PG DB */\r\n        else if ((!shareUpdate && newMembers.length === 0) || approved) {\r\n\r\n            log.completed = true\r\n            log.metadata.tempFile = 'false'\r\n\r\n            oldMembers = humps.decamelizeKeys(realChanges)\r\n            newMembers = humps.decamelizeKeys(newMembers)\r\n\r\n            try {\r\n                //insert new members, if any\r\n                if (newMembers.length > 0) {\r\n                    newMembers.forEach(m => delete m.status)\r\n                    await axios.post('/api/cadSocios', { socios: newMembers, table, tablePK })\r\n                        .then(r => r.data.forEach(newSocio => socioIdsArray.push(newSocio.socio_id)))\r\n                    updateFilesMetadata = true // if new members are inserted, we need to update socioIds array in file metadata.\r\n                }\r\n\r\n                //remove members marked as 'deleted' from the database and update any modified\r\n                if (oldMembers.length > 0) {\r\n                    oldMembers.forEach(async (member, i) => {                                           //remove deleted from DB\r\n                        if (member?.status === 'deleted') {\r\n                            await axios.delete(`/api/delete?table=socios&tablePK=socio_id&id=${member.socio_id}`)\r\n                                .catch(err => console.log(err))\r\n\r\n                            const index = socioIdsArray.indexOf(member.socio_id)\r\n                            if (index !== -1) {\r\n                                socioIdsArray.splice(i, 1)\r\n                                updateFilesMetadata = true\r\n                            }\r\n                        }\r\n                    })\r\n                    oldMembers = oldMembers.filter(({ status }) => status === 'modified')               //update existing member data\r\n                    oldMembers.forEach(m => delete m.status)\r\n                    await axios.put('/api/editSocios', { requestArray: oldMembers, table, tablePK, keys })\r\n                        .then(r => console.log(r.data))\r\n                }\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n\r\n        //**********Prepare the log object, approved, or not.******************\r\n        log = {\r\n            ...log,\r\n            id: demand?.id,\r\n            empresaId: delegatarioId,\r\n            info,\r\n            history: {},\r\n            historyLength: oldHistoryLength,\r\n            approved\r\n        }\r\n\r\n        if (realChanges.length > 0) log.history.oldMembers = realChanges\r\n        if (newMembers.length > 0) log.history.newMembers = newMembers\r\n        if (contratoSocial && demand) log.demandFiles = [contratoSocial]\r\n        //if (demand) log.id = demand?.id\r\n        if (approved === false) log.declined = true\r\n        if (log.completed) log.approved = true\r\n\r\n        //If first attempt to send files completed (no share update) or not, handle files\r\n        if (contratoSocial && !updateFilesMetadata && !demand) {\r\n            log.history.files = contratoSocial\r\n            log.metadata = {\r\n                fieldName: 'contratoSocial',\r\n                empresaId: delegatarioId\r\n            }\r\n        }\r\n        log.metadata.socios = socioIdsArray\r\n\r\n        logGenerator(log)                               //Generate the demand\r\n            .then(r => {\r\n                console.log(r?.data)\r\n                this.toast()\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n        //*******************Reset state and variables ************** */\r\n        oldMembers = []\r\n        realChanges = []\r\n        altObj = {}\r\n        newMembers = []\r\n\r\n        const updatedList = humps.decamelizeKeys(this.props.redux.socios)\r\n        await this.setState({ originals: updatedList })\r\n        await this.resetState()\r\n        if (demand)\r\n            setTimeout(() => { this.props.history.push('/solicitacoes') }, 1500)\r\n    }\r\n\r\n    handleFiles = files => {\r\n        if (files && files[0]) {\r\n            const contratoSocial = new FormData()\r\n            contratoSocial.append('contratoSocial', files[0])\r\n            this.setState({ contratoSocial, fileToRemove: null })\r\n        }\r\n    }\r\n\r\n    removeFile = async (name) => {\r\n        const\r\n            { contratoSocial } = this.state,\r\n            newState = removeFile(name, contratoSocial)\r\n\r\n        this.setState({ ...this.state, ...newState })\r\n    }\r\n\r\n    resetState = () => {\r\n        const { filteredSocios } = this.state\r\n        if (filteredSocios)\r\n            filteredSocios.forEach(s => s.edit = false)\r\n\r\n        this.setState({\r\n            razaoSocial: '', selectedEmpresa: undefined, filteredSocios: [],\r\n            dropDisplay: 'Clique ou arraste para anexar o contrato social atualizado da empresa',\r\n            contratoSocial: undefined,\r\n        })\r\n    }\r\n\r\n    setShowPendencias = () => this.setState({ showPendencias: !this.state.showPendencias })\r\n    toggleDialog = () => this.setState({ openDialog: !this.state.openDialog })\r\n    closeAlert = () => this.setState({ openAlertDialog: !this.state.openAlertDialog })\r\n    toast = () => this.setState({ confirmToast: !this.state.confirmToast })\r\n\r\n    render() {\r\n        const { filteredSocios, openAlertDialog, alertType } = this.state,\r\n            { empresas } = this.props.redux\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Crumbs links={['Empresas', '/empresas']} text='Alterao do quadro societrio' />\r\n                <SociosTemplate\r\n                    data={this.state}\r\n                    socios={filteredSocios}\r\n                    empresas={empresas}\r\n                    handleInput={this.handleInput}\r\n                    handleBlur={this.handleBlur}\r\n                    addSocio={this.addSocio}\r\n                    removeSocio={this.removeSocio}\r\n                    enableEdit={this.enableEdit}\r\n                    handleEdit={this.handleEdit}\r\n                    handleFiles={this.handleFiles}\r\n                    handleSubmit={this.handleSubmit}\r\n                    removeFile={this.removeFile}\r\n                    setShowPendencias={this.setShowPendencias}\r\n                />\r\n                <ReactToast open={this.state.confirmToast} close={this.toast} msg={this.state.toastMsg} />\r\n                {openAlertDialog && <AlertDialog open={openAlertDialog} close={this.closeAlert} alertType={alertType} />}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst collections = ['empresas', 'socios', 'getFiles/empresaDocs']\r\n\r\nexport default StoreHOC(collections, AltSocios)","export const barChart = {\r\n    options: {\r\n        title: {\r\n            text: 'Veculos por ano de fabricao',\r\n            align: 'center',\r\n            marginTop: 10,\r\n            offsetX: 0,\r\n            offsetY: 0,\r\n            floating: false,\r\n            style: {\r\n                fontSize: '14px',\r\n                fontWeight: 500,\r\n                fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n            },\r\n        },\r\n        legend: { show: false },\r\n        chart: {\r\n            id: \"veiculos_ano_fabricacao\",\r\n        },\r\n        xaxis: {            \r\n            labels: {\r\n                style: {\r\n                    fontSize: '9px',\r\n                    fontWeight: 400,\r\n                    fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n                },\r\n            }\r\n        },\r\n        dataLabels: {\r\n            enabled: false,\r\n        },\r\n      //  fill: { colors: ['rgb(47, 75, 124)'] },\r\n        plotOptions: { bar: { horizontal: false }, },\r\n    }\r\n}\r\n\r\nexport const donutChart = {\r\n    options: {\r\n        title: {\r\n            text: 'Percentual de veculos por ano de fabricao',\r\n            align: 'center',\r\n            marginTop: 10,\r\n            marginBottom: 20,\r\n            offsetX: 0,\r\n            offsetY: 0,\r\n            floating: false,\r\n            style: {\r\n                fontSize: '13px',\r\n                fontWeight: 500,\r\n                fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n            },\r\n        },\r\n        plotOptions: {\r\n            pie: {\r\n                donut: {\r\n                    labels: {\r\n                        show: true,\r\n                        name: {\r\n                            show: true,\r\n                            fontSize: '20px',\r\n                            fontFamily: '\\'Segoe UI\\', Tahoma, Geneva, Verdana, sans-serif ',\r\n                            fontWeight: 600,\r\n                            color: '#373d3f',\r\n                            offsetY: -10\r\n                        },\r\n                        value: {\r\n                            show: true,\r\n                            fontSize: '15px',\r\n                            fontFamily: 'Helvetica, Arial, sans-serif',\r\n                            fontWeight: 400,\r\n                            color: '#373d3f',\r\n                            offsetY: 16,\r\n                            formatter: function (val) {\r\n                                return val\r\n                            }\r\n                        },\r\n                        total: {\r\n                            show: true,\r\n                            showAlways: true,\r\n                            label: 'Total:',\r\n                            fontSize: '20px',\r\n                            fontFamily: 'Helvetica, Arial, sans-serif',\r\n                            fontWeight: 600,\r\n                            color: '#373d3f',\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        responsive: [{\r\n            breakpoint: 480,\r\n            options: {\r\n                chart: {\r\n                    width: 200\r\n                },\r\n                legend: {\r\n                    position: 'bottom'\r\n                }\r\n            }\r\n        }]\r\n    },\r\n}","import React from 'react'\r\nimport Chart from \"react-apexcharts\";\r\nimport SelectEmpresa from '../Reusable Components/SelectEmpresa'\r\nimport { barChart, donutChart } from './chartsConfig'\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport './relatorios.css'\r\n\r\nconst RelatoriosTemplate = (\r\n    { empresas, razaoSocial, selectedEmpresa, selectedVehicles, labels, values, tableLabels, tableData, mediaIdades, moda, \r\n        handleInput, segurosVencidos, segurosVigentes, oldVehicles, veiculosNovos }) => {\r\n\r\n    const colors = ['#ff7c43', '#ffa600', '#FF9800', '#f95d6a', '#f44336', '#2E93fA', '#3333ff', '#66DA26', '#669999', '#E91E63', '#d45087', '#a05195', '#665191', '#2f4b7c', '#003f5c',]\r\n\r\n    return (\r\n        <main className='relatorios'>\r\n            <SelectEmpresa\r\n                empresas={empresas}\r\n                data={{ razaoSocial }}\r\n                handleInput={handleInput}\r\n            />\r\n            {(!selectedVehicles || selectedVehicles.length === 0) ? <p>Nenhum veculo cadastrado para {selectedEmpresa.razaoSocial}</p>\r\n                :\r\n                <>\r\n                    <h3 style={{ width: '100%', textAlign: 'center' }}>\r\n                        {!selectedEmpresa ? 'Exibindo todos os veculos' : selectedEmpresa.razaoSocial} - Mdia de idade da frota: {mediaIdades} anos. Moda do ano de fabricao: {moda}.\r\n                    </h3>\r\n                    <Paper>\r\n                        <section className='rowContainer'>\r\n                            <Chart\r\n                                options={{ ...barChart.options, xaxis: { ...barChart.options.xaxis, categories: labels } }}\r\n                                series={[{ name: \"Veculos\", data: values }]}\r\n                                type=\"bar\"\r\n                                width=\"600\"\r\n                            />\r\n                            <Chart\r\n                                options={{ ...donutChart.options, labels, colors }}\r\n                                series={values}\r\n                                type=\"donut\"\r\n                                width=\"480\"\r\n                            />\r\n                        </section>\r\n                    </Paper>\r\n                    <Paper>\r\n                        <section>\r\n                            <table>\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th className='tHeader'\r\n                                            style={{ color: '#fff', backgroundColor: 'rgb(84, 110, 122, 0.7)' }}\r\n                                            colSpan={tableLabels.length}>Veculos por ano - {!selectedEmpresa ? 'Exibindo todos os veculos' : selectedEmpresa.razaoSocial}  </th>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        {tableLabels.map((l, i) => <th key={l}>{l}</th>)}\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {\r\n                                        tableData.map((tableValues, i) =>\r\n                                            <tr key={i}>\r\n                                                {tableValues.map((d, j) =>\r\n                                                    <td className='review relatorioTD' key={j}>\r\n                                                        {d}\r\n                                                    </td>\r\n                                                )}\r\n                                            </tr>\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n                            </table>\r\n                        </section>\r\n                    </Paper>\r\n                    {/* <div className=\"addSpace\"> </div> */}\r\n                    <section className='rowContainer'>\r\n                        <Chart\r\n                            options={{\r\n                                title: {\r\n                                    ...donutChart.options.title,\r\n                                    text: `Seguros vencidos: ${segurosVencidos} / vigentes: ${segurosVigentes}`,\r\n                                },\r\n                                labels: ['Seguros vencidos', 'Seguros vigentes'],\r\n                                colors: ['#FF9800', '#3333ff']\r\n                            }}\r\n                            series={[Number(segurosVencidos), Number(segurosVigentes)]}\r\n                            type=\"pie\"\r\n                            width=\"400\"\r\n                        />\r\n                        <Chart\r\n                            options={{\r\n                                title: {\r\n                                    ...donutChart.options.title,\r\n                                    text: `Idade superior a 15 anos: ${oldVehicles} / inferior 15 anos: ${veiculosNovos}`,\r\n                                },\r\n                                labels: ['Veculos com mais de 15 anos', 'Veculos com menos de 15 anos'],\r\n                                colors: ['#f44336', '#2E93fA']\r\n                            }}\r\n                            series={[Number(oldVehicles), Number(veiculosNovos)]}\r\n                            type=\"pie\"\r\n                            width=\"420\"\r\n                            height='220'\r\n                        />\r\n                    </section>\r\n\r\n                </>\r\n            }\r\n        </main >\r\n    )\r\n}\r\n\r\nexport default RelatoriosTemplate","import React, { useState, useEffect } from 'react'\r\nimport StoreHOC from '../Store/StoreHOC'\r\nimport RelatoriosTemplate from './RelatoriosTemplate'\r\nimport moment from 'moment'\r\n\r\nconst sum = array => {\r\n    let newArray = [...array]\r\n    newArray.shift()\r\n    if (newArray[0]) {\r\n        const total = newArray.reduce((a, b) => a + b)\r\n        return total\r\n    }\r\n}\r\n\r\nconst average = array => {\r\n    let newArray = array.map(n => Number(n))\r\n    newArray.shift()\r\n\r\n    if (newArray[0]) {\r\n        const\r\n            sum = newArray.reduce((a, b) => a + b),\r\n            average = sum / newArray.length\r\n\r\n        return average.toFixed(2)\r\n    }\r\n}\r\n\r\nconst countExpired = vehicles => {        \r\n    \r\n    return vehicles\r\n        .filter(r => !r.vencimento || (moment(r.vencimento).isValid() && moment(r.vencimento).isBefore(moment()) && r.veiculoId && r))\r\n        .length\r\n}\r\n\r\nconst Relatorios = props => {\r\n\r\n    const\r\n        { veiculos, empresas } = props.redux,\r\n        [razaoSocial, setRazaoSocial] = useState(''),\r\n        [selectedEmpresa, setEmpresa] = useState(undefined),\r\n        [allExpired, setExpired] = useState(''),\r\n        [allValid, setValid] = useState(''),\r\n        [oldVehicles, setOldVehicles] = useState('')\r\n\r\n    const handleInput = e => {\r\n        const { value } = e.target\r\n        setRazaoSocial(value)\r\n        let empresa\r\n\r\n        if (value.length > 2) {\r\n            empresa = empresas.find(e => e.razaoSocial === value)\r\n            if (empresa) setEmpresa(empresa)\r\n        }\r\n        else setEmpresa('')\r\n    }\r\n\r\n    let selectedId, selectedVehicles\r\n    if (selectedEmpresa && selectedEmpresa !== '') {\r\n        selectedId = selectedEmpresa.delegatarioId\r\n        selectedVehicles = veiculos\r\n            .filter(v => v.delegatarioId === selectedId)\r\n    } else selectedVehicles = veiculos\r\n\r\n\r\n    // **************************MDIA****************************\r\n\r\n    const\r\n        idades =\r\n            selectedVehicles\r\n                .map(({ anoCarroceria }) => anoCarroceria)\r\n                .filter(ano => ano !== null)\r\n                .sort()\r\n\r\n    let mediaIdades = idades.reduce((a, b) => a + b / idades.length, 0)\r\n    mediaIdades = (new Date().getFullYear() - mediaIdades).toFixed(2)\r\n\r\n    // **************************CONTAGEM****************************\r\n\r\n    let counter = {}\r\n    idades.forEach(function (e) {\r\n        if (counter[e] === undefined) {\r\n            counter[e] = 0\r\n        }\r\n        counter[e] += 1\r\n    })\r\n\r\n    // *******************CONSOLIDAO DE VALORES**********************\r\n    const\r\n        unsortedLabels = Object.keys(counter),\r\n        labels = [...unsortedLabels.sort((a, b) => a - b)],\r\n        values = Object.values(counter)\r\n\r\n    let obj = {}, arr = [], ultimateObj = {}\r\n    labels.forEach(ano => {\r\n        selectedVehicles.forEach(v => {\r\n            if (v.anoCarroceria && v.anoCarroceria.toString() === ano) {\r\n                arr.push({ veiculoId: v.veiculoId, poltronas: v.poltronas })\r\n                if (!obj[ano]) obj[ano] = arr\r\n                else obj[ano].push(...arr)\r\n                arr = []\r\n            }\r\n        })\r\n        ultimateObj[ano] = obj[ano]\r\n        obj = {}\r\n    })\r\n\r\n    let parcial = 0, poltronasPerYear = ['Capacidade Total'], poltronasAcc = [], poltronasMedia = ['Capacidade Mdia']\r\n\r\n    Object.keys(ultimateObj).forEach(year => {\r\n        ultimateObj[year].forEach(v => {\r\n            parcial += v.poltronas\r\n        })\r\n        //poltronasTotal += parcial\r\n        poltronasPerYear.push(parcial)\r\n        poltronasMedia.push((parcial / ultimateObj[year].length).toFixed(2))\r\n\r\n        const acc = poltronasPerYear.reduce((a, b) => a + b, 0)\r\n        poltronasAcc.push(acc)\r\n        parcial = 0\r\n    })\r\n\r\n    poltronasPerYear.push(sum(poltronasPerYear))\r\n\r\n    let\r\n        tableLabels = ['Ano'],\r\n        tableValues = ['N de Veculos']\r\n\r\n    tableLabels.push(...labels, 'Total')\r\n    tableValues.push(...values)\r\n    tableValues.push(sum(tableValues))\r\n    poltronasMedia.push(average(poltronasMedia))\r\n\r\n    const tableData = [tableValues, poltronasMedia, poltronasPerYear]\r\n\r\n    // **************************MODA****************************\r\n    let moda = unsortedLabels.sort((a, b) => counter[a] - counter[b])\r\n    moda = moda[moda.length - 1]\r\n\r\n    //**********************SEGUROS VENCIDOS E VECULOS COM LAUDO***********************\r\n    const currentYear = new Date().getFullYear()\r\n\r\n    useEffect(() => {\r\n\r\n        const\r\n            currentYear = new Date().getFullYear(),\r\n            expired = countExpired(selectedVehicles),\r\n            needsLaudo = selectedVehicles\r\n                .filter(v => currentYear - v.anoCarroceria > 14 && v.anoCarroceria !== null)\r\n                .length\r\n\r\n        setExpired(expired)\r\n        setValid(selectedVehicles.length - expired)\r\n        setOldVehicles(needsLaudo)\r\n\r\n    }, [selectedVehicles])\r\n\r\n    let segurosVencidos = [], segurosVigentes, veiculosAntigos, veiculosNovos\r\n\r\n    if (razaoSocial.length > 2 && selectedEmpresa) {\r\n        segurosVencidos = countExpired(selectedVehicles)\r\n\r\n        veiculosAntigos = selectedVehicles\r\n            .filter(v => currentYear - v.anoCarroceria > 14 && v.anoCarroceria !== null)\r\n            .length\r\n\r\n        segurosVigentes = selectedVehicles.length - segurosVencidos\r\n        veiculosNovos = selectedVehicles.length - veiculosAntigos\r\n    }\r\n    else {\r\n        segurosVencidos = allExpired\r\n        segurosVigentes = allValid\r\n        veiculosAntigos = oldVehicles\r\n        veiculosNovos = selectedVehicles.length - oldVehicles\r\n    }\r\n\r\n    return (\r\n        <RelatoriosTemplate\r\n            empresas={empresas}\r\n            razaoSocial={razaoSocial}\r\n            labels={labels}\r\n            values={values}\r\n            tableLabels={tableLabels}\r\n            tableData={tableData}\r\n            selectedEmpresa={selectedEmpresa}\r\n            selectedVehicles={selectedVehicles}\r\n            mediaIdades={mediaIdades}\r\n            moda={moda}\r\n            handleInput={handleInput}\r\n            segurosVencidos={segurosVencidos}\r\n            segurosVigentes={segurosVigentes}\r\n            oldVehicles={veiculosAntigos}\r\n            veiculosNovos={veiculosNovos}\r\n        />\r\n    )\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas']\r\n\r\nexport default StoreHOC(collections, Relatorios)","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport ShowFiles from './ShowFiles'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\r\n\r\nexport default function StandardTable({ tableData, staticFields, title, tableStyle, style, completed, showInfo, \r\n    showFiles, setShowFiles, filesCollection, primaryKey, close, filesIds, razaoSocial }) {\r\n\r\n    const dateFormat = value => {\r\n        if (moment(value, 'YYYY-MM-DDTHH:mm:ss.SSSZZ', true).isValid()) {\r\n            return moment(value, moment.ISO_8601, true).format('DD/MM/YYYY, HH:mm[h]')\r\n        }\r\n        else return value\r\n    }\r\n\r\n    const createButton = (action, index, files) => {\r\n        const disable = !tableData[index]?.info ? true : false\r\n        const dStyle = { cursor: 'default' }\r\n\r\n        switch (action) {\r\n            case ('info'):\r\n                return (\r\n                    <div style={{ display: 'flex', justifyContent: 'flex-start' }}>\r\n                        <span\r\n                            className='button'\r\n                            style={disable ? dStyle : {}}\r\n                            component='span'\r\n                            title={!disable ? 'Ver informaes adicionais' : 'Nenhuma informao adicional'}\r\n                            onClick={() => showInfo(index)} >\r\n                            <InfoIcon color={!disable ? 'primary' : 'disabled'} />\r\n                        </span>\r\n\r\n                        {files ?\r\n                            <span className='button' component='span' title='Ver arquivos' onClick={() => { setShowFiles(files) }\r\n                            } >\r\n                                <FileCopyOutlinedIcon />\r\n                            </span>\r\n                            :\r\n                            <span style={{ padding: '2px 10px 0 17px' }}> - </span>\r\n                        }\r\n                    </div >\r\n                )\r\n            case ('completed'):\r\n                return <DoneIcon style={{ color: 'green' }} />\r\n            default: return\r\n        }\r\n    }\r\n\r\n    //A tabela  uma array de arrays. Cada row  uma array de objects, que tem field, label, action, style, etc. Cada Object  um td\r\n    let\r\n        tableHeaders = [],\r\n        arrayOfRows = [],\r\n        tableRow = []\r\n\r\n    tableData.forEach((log, i) => {\r\n        staticFields.forEach(obj => {\r\n\r\n            if (!tableHeaders.includes(obj.title)) tableHeaders.push(obj.title)\r\n            if (obj.field === 'info') {\r\n                tableRow.push({ ...obj, index: i, files: log?.files })\r\n            }\r\n            else if (obj.field === 'files') tableRow.push({ ...obj, files: log?.files })\r\n            else if (obj.action) tableRow.push({ ...obj, id: log?.id })\r\n            else tableRow.push({ ...obj, value: log[obj.field] })\r\n        })\r\n\r\n        arrayOfRows.push(tableRow)\r\n        tableRow = []\r\n    })\r\n    if (completed) {\r\n        const i = tableHeaders.indexOf('Analisar solicitao')\r\n        tableHeaders[i] = 'Concluda'\r\n    }\r\n    const tableSpan = arrayOfRows[0]?.length || ''\r\n\r\n    return (\r\n        showFiles ? <>\r\n            <ShowFiles\r\n                filesCollection={filesCollection}\r\n                close={close}\r\n                typeId={primaryKey}\r\n                filesIds={filesIds}\r\n                razaoSocial={razaoSocial}\r\n            />\r\n            <footer>\r\n                <div className='voltarDiv' style={{\r\n                    padding: '0px',\r\n                    margin: '30px 0 0 0',\r\n                    position: 'absolute',\r\n                    bottom: '1%',\r\n                    zIndex: '10'\r\n                }}>\r\n                    <Button variant='outlined' color='primary' onClick={() => setShowFiles(false)}>\r\n                        <ArrowBackIcon size='tiny' />\r\n                        <span style={{ padding: '2px 0 0 2px', marginLeft: '2px', fontSize: '.85rem' }}>Voltar</span>\r\n                    </Button>\r\n                </div>\r\n            </footer>\r\n        </>\r\n            :\r\n            <table style={tableStyle || undefined}>\r\n                <thead>\r\n                    <tr>\r\n                        <th className='tHeader'\r\n                            style={style}\r\n                            colSpan={tableSpan}>{title}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        {tableHeaders.map((l, i) => <th key={i} style={style}>{l}</th>)}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        arrayOfRows.map((rowArray, j) =>\r\n                            <tr key={j}>\r\n                                {\r\n                                    rowArray.map((obj, i) =>\r\n                                        <td\r\n                                            key={i}\r\n                                            style={obj?.style ? obj.style : style}\r\n                                            className={obj.type === 'link' && obj.laudoDocId ? 'link2' : 'review'}\r\n                                        >\r\n                                            {obj.type === 'date' ? dateFormat(obj.value)\r\n                                                : obj?.action ? createButton(obj.action, obj?.index, obj?.files)\r\n                                                    : obj.value\r\n                                            }\r\n                                        </td>\r\n                                    )}\r\n                            </tr>\r\n                        )}\r\n                </tbody>\r\n            </table>\r\n    )\r\n}\r\n","const solicitacaoTable = [\r\n    {\r\n        field: 'action',\r\n        title: 'Movimentao',\r\n    },\r\n    {\r\n        field: 'user',\r\n        title: 'Usurio'\r\n    },\r\n    {\r\n        field: 'createdAt',\r\n        title: 'Registro no sistema',\r\n        type: 'date'\r\n    },\r\n    {\r\n        field: 'info',\r\n        title: 'Informaes adicionais',\r\n        action: 'info',\r\n        style: {textAlign: 'center'}\r\n    }   \r\n]\r\n\r\nexport default solicitacaoTable","import React from 'react'\r\nimport moment from 'moment'\r\n\r\nimport Table from '../Reusable Components/Table'\r\nimport solicitacaoTable from '../Forms/solicitacaoTable'\r\nimport ClosePopUpButton from '../Reusable Components/ClosePopUpButton'\r\n\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nexport default function SolHistory({ solicitacao, showInfo, historyLog, setHistoryLog, close, vehicleDocs, empresaDocs, showFiles, setShowFiles, filesIds }) {\r\n\r\n    const\r\n        { history } = solicitacao,\r\n        date = moment(historyLog?.createdAt).format('DD/MM/YYYY, HH:mm[h]')\r\n    let docSelection = {}\r\n    if (solicitacao.hasOwnProperty('veiculoId'))\r\n        docSelection = {\r\n            primaryKey: 'veiculoId',\r\n            filesCollection: vehicleDocs\r\n        }\r\n    else\r\n        docSelection = {\r\n            primaryKey: 'empresaId',\r\n            filesCollection: empresaDocs\r\n        }\r\n\r\n    return (\r\n        <main className=\"popUpWindow\" sytle={{ width: '90%' }}>\r\n            {!historyLog ?\r\n                <Table\r\n                    {...docSelection}\r\n                    tableData={history}\r\n                    staticFields={solicitacaoTable}\r\n                    length={solicitacaoTable.length}\r\n                    title={`Solicitao n ${solicitacao?.numero}`}\r\n                    id={solicitacao.id}\r\n                    razaoSocial={solicitacao?.empresa}\r\n                    showInfo={showInfo}\r\n                    style={{ padding: '9px 4px' }}\r\n                    tableStyle={{ marginTop: '23px' }}\r\n                    showFiles={showFiles}\r\n                    setShowFiles={setShowFiles}\r\n                    close={close}\r\n                    filesIds={filesIds}\r\n                />\r\n                :\r\n                <>\r\n                    <header className='infoLogHeader'>\r\n                        <h3>Informaes adicionais</h3>\r\n                        <hr />\r\n                        <div className='floatRight'>Inserido por {historyLog?.user} {date ? 's ' + date : ''}</div>\r\n                    </header>\r\n                    <section>\r\n\r\n                        <br /><br /><br />\r\n                        <div>{historyLog.info}</div>\r\n                    </section>\r\n                    <footer>\r\n                        <div className='voltarDiv' style={{\r\n                            padding: '0px',\r\n                            margin: '30px 0 0 0',\r\n                            position: 'absolute',\r\n                            bottom: '1%'\r\n                        }}>\r\n                            <Button variant='outlined' color='primary' onClick={() => setHistoryLog(false)}>\r\n                                <ArrowBackIcon size='tiny' />\r\n                                <span style={{ padding: '2px 0 0 2px', marginLeft: '2px', fontSize: '.85rem' }}>Voltar</span>\r\n                            </Button>\r\n                        </div>\r\n                    </footer>\r\n                </>\r\n            }\r\n            <ClosePopUpButton close={close} />\r\n        </main >\r\n    )\r\n}","import React from 'react'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\nexport default function SolicitacoesTemplate({ completed, showCompleted }) {\r\n    return (\r\n        <header style={{ display:'flex', justifyContent: 'flex-end', height: '50px', paddingBotom: '10px' }}>\r\n            <FormControlLabel\r\n                style={{ marginTop: '20px' }}\r\n                control={\r\n                    <Checkbox\r\n                        checked={completed === true}\r\n                        onChange={() => showCompleted(!completed)}\r\n                        value={completed}\r\n                    />\r\n                }\r\n                label={<p style={{ color: '#2979ff', fontSize: '0.7rem', float: 'right' }}> Mostrar solicitaes concludas</p>}\r\n            />\r\n        </header>\r\n    )\r\n}\r\n","export const solicitacoesTable = [\r\n    {\r\n        field: 'numero',\r\n        title: 'Nmero',\r\n    },\r\n    {\r\n        field: 'subject',\r\n        title: 'Solicitao',\r\n    },\r\n    {\r\n        field: 'empresa',\r\n        title: 'Empresa',\r\n    },\r\n    {\r\n        field: 'veiculo',\r\n        title: 'Veculo',\r\n    },\r\n    {\r\n        field: 'status',\r\n        title: 'Situao',\r\n    },\r\n    {\r\n        field: 'updatedAt',\r\n        title: 'ltima Atualizao',\r\n        type: 'date'\r\n    },    \r\n   /*  {\r\n        field: 'history',\r\n        title: 'Ver histrico',        \r\n        action: 'showHistory'\r\n    },\r\n    {\r\n        field: 'assess',\r\n        title: '    ',\r\n        action: 'assess'\r\n    }   */\r\n]\r\n","import React from 'react'\r\nimport * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\n\r\nimport MaterialTable from 'material-table';\r\n\r\nimport { solicitacoesTable } from '../Forms/solicitacoesTable'\r\n\r\nexport default function ({ tableData, title, showDetails, assessDemand, completed, showInfo }) {\r\n\r\n    let parsedData = JSON.parse(JSON.stringify(tableData))\r\n    parsedData.forEach(obj => delete obj.history)\r\n\r\n    const dataToExcel = rawData => {\r\n        const keysToDelete = ['id', 'v', 'veiculoId', 'empresaId', 'tableData', 'createdAt', 'completed']\r\n        rawData.forEach((obj, i) => {\r\n            Object.keys(obj).forEach(key => {\r\n                solicitacoesTable.forEach(({ field, title }) => {\r\n                    if (key === field) {\r\n                        obj[title] = obj[key]\r\n                        delete obj[key]\r\n                    } else if (keysToDelete.includes(key)) delete obj[key]\r\n                })\r\n            })\r\n        })\r\n        return rawData\r\n    }\r\n\r\n    return (\r\n        <div style={{ margin: '10px 0' }} className='noPrint'>\r\n            <MaterialTable\r\n                title={title}\r\n                columns={solicitacoesTable}\r\n                data={parsedData}\r\n                style={{ fontFamily: 'Segoe UI', fontSize: '14px' }}\r\n                options={{\r\n                    filtering: true,\r\n                    exportButton: true,\r\n                    exportFileName: 'Solicitaes',\r\n                    exportCsv: (columns, data) => {\r\n                        const\r\n                            fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8',\r\n                            fileExtension = '.xlsx',\r\n                            fileName = 'Solicitaes'\r\n\r\n                        const exportToXLSX = (csvData, fileName) => {\r\n                            const ws = XLSX.utils.json_to_sheet(csvData);\r\n                            const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n                            const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n                            const data = new Blob([excelBuffer], { type: fileType });\r\n                            FileSaver.saveAs(data, fileName + fileExtension);\r\n                        }\r\n\r\n                        const tst = dataToExcel(data)\r\n                        exportToXLSX(tst, fileName)\r\n                    },\r\n                    actionsColumnIndex: -1,\r\n                    searchFieldStyle: { color: '#024', fontSize: '14px' },\r\n                    headerStyle: { backgroundColor: '#FAFAFC' },\r\n                    emptyRowsWhenPaging: false,\r\n                    pageSize: 10,\r\n                }}\r\n\r\n                localization={{\r\n                    header: { actions: 'Opes' },\r\n                    body: {\r\n                        emptyDataSourceMessage: 'Nenhuma solicitao aberta no momento.',\r\n                        editRow: { deleteText: 'Tem certeza que deseja apagar esse registro ?' },\r\n                        deleteTooltip: 'Apagar',\r\n                        filterRow: { filterTooltip: 'Filtrar' }\r\n                    },\r\n                    toolbar: {\r\n                        searchTooltip: 'Procurar',\r\n                        searchPlaceholder: 'Procurar',\r\n                        exportName: 'Salvar como arquivo do excel',\r\n                        exportAriaLabel: 'Exportar',\r\n                        exportTitle: 'Exportar'\r\n                    },\r\n                    pagination: {\r\n\r\n                        labelRowsSelect: 'Resultados por pgina',\r\n                        labelDisplayedRows: ' {from}-{to} a {count}',\r\n                        firstTooltip: 'Primeira pgina',\r\n                        previousTooltip: 'Pgina anterior',\r\n                        nextTooltip: 'Prxima Pgina',\r\n                        lastTooltip: 'ltima Pgina',\r\n\r\n                    }\r\n                }}\r\n                actions={[\r\n                    {\r\n                        icon: 'history_icon',\r\n                        iconProps: { color: 'primary' },\r\n                        tooltip: 'Ver histrico',\r\n                        onClick: (event, rowData) => showDetails(rowData['id'])\r\n                    },\r\n                    rowData => ({\r\n                        icon: !completed ? 'assignment_turned_in_outlined' : rowData?.status === 'Solicitao indeferida' ? 'clear' : 'done_icon',\r\n                        iconProps: {\r\n                            className: !completed ? 'assessDemandButton' : '',\r\n                            color: rowData?.status === 'Solicitao indeferida' ? 'secondary' : completed ? 'action' : 'disabled'\r\n                        },\r\n                        tooltip: rowData?.status.match('Aguardando')\r\n                            ? 'Analisar solicitao'\r\n                            : rowData?.status.match('Pendncias')\r\n                                ? 'Abrir solicitao'\r\n                                : rowData?.status === 'Solicitao indeferida' ?\r\n                                    'Indeferida'\r\n                                    : 'Concluda',\r\n                        onClick: (event, rowData) => !completed ? assessDemand(rowData['id']) : null\r\n                    })\r\n                ]}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport StoreHOC from '../Store/StoreHOC'\r\n\r\nimport SolHistory from './SolHistory'\r\nimport SolicitacoesTemplate from './SolicitacoesTemplate'\r\nimport SolicitacoesTable from './SolicitacoesTable'\r\nimport { logRoutesConfig } from './logRoutesConfig'\r\nimport AlertDialog from '../Reusable Components/AlertDialog'\r\n\r\n\r\nfunction Solicitacoes(props) {\r\n\r\n    const\r\n        { veiculos, empresas, vehicleDocs, empresaDocs } = props.redux,\r\n        [vehicleLogs, setVehicleLogs] = useState([]),\r\n        [showHistory, setShowHistory] = useState(false),\r\n        [selectedLog, selectLog] = useState(),\r\n        [completed, showCompleted] = useState(false),\r\n        [historyLog, setHistoryLog] = useState(),\r\n        [alertProperties, setAlertDialog] = useState({ openAlertDialog: false, customMessage: '', customTitle: '' }),\r\n        [showFiles, setShowFiles] = useState(false),\r\n        [filesIds, setFilesId] = useState(),\r\n        { openAlertDialog, customTitle, customMessage } = alertProperties\r\n\r\n    //*********Effect adds eventListner to Esc key--> back/closes windows ************/\r\n    useEffect(() => {\r\n        function escFunction(e) {\r\n            if (e.keyCode === 27) {\r\n                if (!showFiles && !historyLog) setShowHistory()\r\n                if (showFiles) setShowFiles(false)\r\n                else if (historyLog) setHistoryLog()\r\n            }\r\n        }\r\n        document.addEventListener('keydown', escFunction)\r\n        return () => document.removeEventListener('keydown', escFunction)\r\n    }, [historyLog, showFiles])\r\n\r\n    //********Prepares the Logs ArrayofObjects from the DB to be displayed with additional and filtered fields************/\r\n    useEffect(() => {\r\n\r\n        async function getVehicleLogs() {\r\n\r\n            const originalLogs = [...props.redux.vehicleLogs]\r\n            \r\n            let logs = originalLogs.map(log => {\r\n                log.empresa = empresas.find(e => e.delegatarioId === log.empresaId)?.razaoSocial\r\n                log.veiculo = veiculos.find(v => v.veiculoId === log.veiculoId)?.placa\r\n                const { __v, ...filtered } = log\r\n                return filtered\r\n            })\r\n\r\n            if (completed) logs = logs.filter(l => l.completed === true)\r\n            else logs = logs.filter(l => l.completed === false)\r\n            setVehicleLogs(logs)\r\n        }\r\n        getVehicleLogs()\r\n\r\n    }, [veiculos, empresas, completed, props.redux.vehicleLogs])\r\n\r\n    const assessDemand = async id => {\r\n\r\n        let log = vehicleLogs.find(l => l.id === id)\r\n        selectLog(log)\r\n\r\n        let pathname = logRoutesConfig.find(r => log?.subject.match(r.subject))?.path\r\n        if (!pathname.match('/solicitacoes')) pathname = '/solicitacoes' + pathname\r\n        props.history.push({ pathname, state: { demand: log } })\r\n    }\r\n\r\n    const showDetails = async id => {\r\n        setHistoryLog(false)\r\n        setShowFiles(false)\r\n\r\n        const log = vehicleLogs.find(l => l.id === id)\r\n        await selectLog(log)\r\n        setShowHistory(true)\r\n    }\r\n\r\n    const showInfo = index => {\r\n        if (selectedLog && selectedLog?.history) {\r\n\r\n            const historyLog = selectedLog?.history[index]\r\n\r\n            if (!historyLog?.info) return\r\n            setHistoryLog(historyLog)\r\n        }\r\n    }\r\n    const renderFiles = (ids) => {\r\n        if (ids) {\r\n            setShowFiles(true)\r\n            setFilesId(ids)\r\n        }\r\n        else setShowFiles(false)\r\n    }\r\n\r\n    const toggleAlertDialog = () => setAlertDialog({ ...alertProperties, openAlertDialog: !openAlertDialog })\r\n    const close = () => {\r\n        setShowHistory(false)\r\n        setShowFiles(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <SolicitacoesTemplate\r\n                completed={completed}\r\n                showCompleted={showCompleted}\r\n            />\r\n            <SolicitacoesTable\r\n                tableData={vehicleLogs}\r\n                title={!completed ? 'Solicitaes em andamento' : 'Solicitaes concludas'}\r\n                showDetails={showDetails}\r\n                assessDemand={assessDemand}\r\n                completed={completed}\r\n                style={{ textAlign: 'center' }}\r\n            />\r\n            {showHistory && <SolHistory\r\n                solicitacao={selectedLog}\r\n                close={close}\r\n                showInfo={showInfo}\r\n                historyLog={historyLog}\r\n                setHistoryLog={setHistoryLog}\r\n                vehicleDocs={vehicleDocs}\r\n                empresaDocs={empresaDocs}\r\n                setShowFiles={renderFiles}\r\n                showFiles={showFiles}\r\n                filesIds={filesIds}\r\n            />\r\n            }\r\n            {openAlertDialog &&\r\n                <AlertDialog open={openAlertDialog} close={toggleAlertDialog} customMessage={customMessage} customTitle={customTitle} />}\r\n        </>\r\n    )\r\n}\r\n\r\nconst collections = ['veiculos', 'empresas', 'logs/vehicleLogs', 'getFiles/vehicleDocs', 'getFiles/empresaDocs']\r\n\r\nexport default StoreHOC(collections, Solicitacoes)","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport HomeTemplate from './HomeTemplate'\r\n\r\nimport VeiculosHome from './Veiculos/VeiculosHome'\r\nimport CadVeiculos from './Veiculos/CadVeiculo'\r\nimport AltDados from './Veiculos/AltDados'\r\nimport Seguros from './Veiculos/Seguros'\r\nimport Laudos from './Veiculos/Laudos'\r\nimport BaixaVeiculo from './Veiculos/BaixaVeiculo'\r\nimport Config from './Veiculos/Config'\r\n\r\nimport Consultas from './Consultas/ConsultasContainer'\r\nimport Empresas from './Empresas/EmpresasContainer'\r\nimport EmpresasHome from './Empresas/EmpresasHome'\r\nimport Procuradores from './Empresas/Procuradores'\r\nimport Socios from './Empresas/Socios'\r\nimport Relatorios from './Relatorios/Relatorios'\r\nimport Solicitacoes from './Solicitacoes/Solicitacoes'\r\n//import UnderConstruction from './UnderConstruction'\r\nimport PdfTest from './Veiculos/Certificate'\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <Switch>\r\n            <Route exact path='/' component={HomeTemplate} />\r\n            <Route path='/veiculos' exact component={VeiculosHome} />\r\n            <Route path='/veiculos/cadastro' exact component={CadVeiculos} />\r\n            <Route path='/veiculos/altDados' exact component={AltDados} />\r\n            <Route path='/veiculos/seguros' exact component={Seguros} />\r\n            <Route path='/veiculos/laudos' exact component={Laudos} />\r\n            <Route path='/veiculos/baixaVeiculo' exact component={BaixaVeiculo} />\r\n            <Route path='/veiculos/config' exact component={Config} />\r\n            <Route path='/consultas' component={Consultas} />\r\n            <Route path='/empresas' exact component={EmpresasHome} />\r\n            <Route path='/empresas/cadastro' component={Empresas} />\r\n            <Route path='/empresas/socios' component={Socios} />\r\n            <Route path='/empresas/procuradores' component={Procuradores} />\r\n            <Route path='/relatorios' component={Relatorios} />\r\n            <Route path='/crv' component={PdfTest} />\r\n            <Route path='/solicitacoes' exact component={Solicitacoes} />\r\n            <Route path='/solicitacoes/cadastro' exact component={CadVeiculos} />\r\n            <Route path='/solicitacoes/altDados' exact component={AltDados} />\r\n            <Route path='/solicitacoes/seguros' exact component={Seguros} />\r\n            <Route path='/solicitacoes/baixaVeiculo' exact component={BaixaVeiculo} />\r\n            <Route path='/solicitacoes/laudos' exact component={Laudos} />\r\n            <Route path='/solicitacoes/socios' exact component={Socios} />\r\n            <Route path='/solicitacoes/procuradores' exact component={Procuradores} />\r\n\r\n\r\n            {/* <Route path='/faleConosco' component={UnderConstruction} /> */}\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default Routes","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport promise from 'redux-promise';\r\nimport multi from 'redux-multi';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './rootReducer'\r\n\r\nimport { Header, Footer } from './Layouts'\r\nimport Container from '@material-ui/core/Container';\r\nimport Routes from './Routes'\r\n\r\nfunction App() {\r\n\r\n  const store = applyMiddleware(promise, multi, thunk)(createStore)\r\n\r\n  return (\r\n    <Provider store={store(rootReducer)}>\r\n      <div style={{ backgroundColor: '#fbfbfb' }}>\r\n        <Container maxWidth=\"lg\" style={{ minHeight: '100vh' }}>\r\n          <BrowserRouter>\r\n            <Header />\r\n            <Routes />\r\n          </BrowserRouter>\r\n          <Footer />\r\n        </Container>\r\n      </div>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.jsx';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}